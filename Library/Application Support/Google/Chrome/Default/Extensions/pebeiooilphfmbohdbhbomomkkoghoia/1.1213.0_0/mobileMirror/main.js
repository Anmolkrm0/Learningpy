/*! For license information please see main.js.LICENSE.txt */
(function(e){function t(t){var n=t[0];var a=t[1];var s=t[2];var u,l,f=0,h=[];for(;f<n.length;f++){l=n[f];if(Object.prototype.hasOwnProperty.call(i,l)&&i[l]){h.push(i[l][0])}i[l]=0}for(u in a){if(Object.prototype.hasOwnProperty.call(a,u)){e[u]=a[u]}}if(c)c(t);while(h.length){h.shift()()}o.push.apply(o,s||[]);return r()}function r(){var e;for(var t=0;t<o.length;t++){var r=o[t];var n=true;for(var s=1;s<r.length;s++){var u=r[s];if(i[u]!==0)n=false}if(n){o.splice(t--,1);e=a(a.s=r[0])}}return e}var n={};var i={1:0};var o=[];function a(t){if(n[t]){return n[t].exports}var r=n[t]={i:t,l:false,exports:{}};e[t].call(r.exports,r,r.exports,a);r.l=true;return r.exports}a.m=e;a.c=n;a.d=function(e,t,r){if(!a.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:r})}};a.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};a.t=function(e,t){if(t&1)e=a(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var r=Object.create(null);a.r(r);Object.defineProperty(r,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r};a.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};a.d(t,"a",t);return t};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[];var u=s.push.bind(s);s.push=t;s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;o.push([141,0]);return r()})([function(e,t,r){"use strict";r.r(t);(function(e,n){r.d(t,"$mobx",(function(){return C}));r.d(t,"FlowCancellationError",(function(){return ur}));r.d(t,"IDerivationState",(function(){return be}));r.d(t,"ObservableMap",(function(){return un}));r.d(t,"ObservableSet",(function(){return hn}));r.d(t,"Reaction",(function(){return Et}));r.d(t,"_allowStateChanges",(function(){return We}));r.d(t,"_allowStateChangesInsideComputed",(function(){return Je}));r.d(t,"_allowStateReadsEnd",(function(){return Le}));r.d(t,"_allowStateReadsStart",(function(){return Me}));r.d(t,"_endAction",(function(){return He}));r.d(t,"_getAdministration",(function(){return Tn}));r.d(t,"_getGlobalState",(function(){return st}));r.d(t,"_interceptReads",(function(){return hr}));r.d(t,"_isComputingDerivation",(function(){return Te}));r.d(t,"_resetGlobalState",(function(){return ut}));r.d(t,"_startAction",(function(){return Ge}));r.d(t,"action",(function(){return Ut}));r.d(t,"autorun",(function(){return Ht}));r.d(t,"comparer",(function(){return j}));r.d(t,"computed",(function(){return ye}));r.d(t,"configure",(function(){return Zt}));r.d(t,"createAtom",(function(){return P}));r.d(t,"decorate",(function(){return Qt}));r.d(t,"entries",(function(){return Tr}));r.d(t,"extendObservable",(function(){return er}));r.d(t,"flow",(function(){return cr}));r.d(t,"get",(function(){return Or}));r.d(t,"getAtom",(function(){return Sn}));r.d(t,"getDebugName",(function(){return An}));r.d(t,"getDependencyTree",(function(){return nr}));r.d(t,"getObserverTree",(function(){return or}));r.d(t,"has",(function(){return Dr}));r.d(t,"intercept",(function(){return dr}));r.d(t,"isAction",(function(){return $t}));r.d(t,"isArrayLike",(function(){return S}));r.d(t,"isBoxedObservable",(function(){return Ke}));r.d(t,"isComputed",(function(){return gr}));r.d(t,"isComputedProp",(function(){return yr}));r.d(t,"isFlowCancellationError",(function(){return lr}));r.d(t,"isObservable",(function(){return _r}));r.d(t,"isObservableArray",(function(){return on}));r.d(t,"isObservableMap",(function(){return ln}));r.d(t,"isObservableObject",(function(){return En}));r.d(t,"isObservableProp",(function(){return wr}));r.d(t,"isObservableSet",(function(){return dn}));r.d(t,"keys",(function(){return Er}));r.d(t,"observable",(function(){return pe}));r.d(t,"observe",(function(){return Ir}));r.d(t,"onBecomeObserved",(function(){return Yt}));r.d(t,"onBecomeUnobserved",(function(){return Kt}));r.d(t,"onReactionError",(function(){return St}));r.d(t,"reaction",(function(){return qt}));r.d(t,"remove",(function(){return xr}));r.d(t,"runInAction",(function(){return zt}));r.d(t,"set",(function(){return Ar}));r.d(t,"spy",(function(){return Lt}));r.d(t,"toJS",(function(){return Lr}));r.d(t,"trace",(function(){return Nr}));r.d(t,"transaction",(function(){return jr}));r.d(t,"untracked",(function(){return ke}));r.d(t,"values",(function(){return Sr}));r.d(t,"when",(function(){return Br}));var i="An invariant failed, however the error is obfuscated because this is a production build.";var o=[];Object.freeze(o);var a={};Object.freeze(a);function s(){return++ot.mobxGuid}function u(e){l(false,e);throw"X"}function l(e,t){if(!e)throw new Error("[mobx] "+(t||i))}var c=[];function f(e,t){if(true)return false;if(t){return f("'"+e+"', use '"+t+"' instead.")}if(c.indexOf(e)!==-1)return false;c.push(e);console.error("[mobx] Deprecated: "+e);return true}function h(e){var t=false;return function(){if(t)return;t=true;return e.apply(this,arguments)}}var d=function(){};function p(e){var t=[];e.forEach((function(e){if(t.indexOf(e)===-1)t.push(e)}));return t}function v(e){return e!==null&&typeof e==="object"}function m(e){if(e===null||typeof e!=="object")return false;var t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function g(e){if(T(e)||ln(e)){return e}else if(Array.isArray(e)){return new Map(e)}else if(m(e)){var t=new Map;for(var r in e){t.set(r,e[r])}return t}else{return u("Cannot convert to map from '"+e+"'")}}function y(e,t,r){Object.defineProperty(e,t,{enumerable:false,writable:true,configurable:true,value:r})}function b(e,t,r){Object.defineProperty(e,t,{enumerable:false,writable:false,configurable:true,value:r})}function _(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!r||r.configurable!==false&&r.writable!==false}function w(e,t){if(false){}}function E(e,t){var r="isMobX"+e;t.prototype[r]=true;return function(e){return v(e)&&e[r]===true}}function S(e){return Array.isArray(e)||on(e)}function T(e){return e instanceof Map}function A(e){return e instanceof Set}function x(e){var t=new Set;for(var r in e)t.add(r);Object.getOwnPropertySymbols(e).forEach((function(r){if(Object.getOwnPropertyDescriptor(e,r).enumerable)t.add(r)}));return Array.from(t)}function D(e){if(e&&e.toString)return e.toString();else return new String(e).toString()}function O(e){return e===null?null:typeof e==="object"?""+e:e}var I=typeof Reflect!=="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;var C=Symbol("mobx administration");var k=function(){function e(e){if(e===void 0){e="Atom@"+s()}this.name=e;this.isPendingUnobservation=false;this.isBeingObserved=false;this.observers=new Set;this.diffValue=0;this.lastAccessedBy=0;this.lowestObserverState=be.NOT_TRACKING}e.prototype.onBecomeObserved=function(){if(this.onBecomeObservedListeners){this.onBecomeObservedListeners.forEach((function(e){return e()}))}};e.prototype.onBecomeUnobserved=function(){if(this.onBecomeUnobservedListeners){this.onBecomeUnobservedListeners.forEach((function(e){return e()}))}};e.prototype.reportObserved=function(){return mt(this)};e.prototype.reportChanged=function(){pt();gt(this);vt()};e.prototype.toString=function(){return this.name};return e}();var R=E("Atom",k);function P(e,t,r){if(t===void 0){t=d}if(r===void 0){r=d}var n=new k(e);if(t!==d){Yt(n,t)}if(r!==d){Kt(n,r)}return n}function M(e,t){return e===t}function L(e,t){return Dn(e,t)}function N(e,t){return Dn(e,t,1)}function F(e,t){return Object.is(e,t)}var j={identity:M,structural:L,default:F,shallow:N};var B=function(e,t){B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return B(e,t)};function U(e,t){B(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var z=function(){z=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))t[o]=r[o]}return t};return z.apply(this,arguments)};function $(e){var t=typeof Symbol==="function"&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}}}function G(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function H(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(G(arguments[t]));return e}var W=Symbol("mobx did run lazy initializers");var V=Symbol("mobx pending decorators");var q={};var J={};function Y(e,t){var r=t?q:J;return r[e]||(r[e]={configurable:true,enumerable:t,get:function(){K(this);return this[e]},set:function(t){K(this);this[e]=t}})}function K(e){var t,r;if(e[W]===true)return;var n=e[V];if(n){y(e,W,true);var i=H(Object.getOwnPropertySymbols(n),Object.keys(n));try{for(var o=$(i),a=o.next();!a.done;a=o.next()){var s=a.value;var u=n[s];u.propertyCreator(e,u.prop,u.descriptor,u.decoratorTarget,u.decoratorArguments)}}catch(e){t={error:e}}finally{try{if(a&&!a.done&&(r=o.return))r.call(o)}finally{if(t)throw t.error}}}}function X(e,t){return function r(){var n;var i=function r(i,o,a,s){if(s===true){t(i,o,a,i,n);return null}if(false){}if(!Object.prototype.hasOwnProperty.call(i,V)){var u=i[V];y(i,V,z({},u))}i[V][o]={prop:o,propertyCreator:t,descriptor:a,decoratorTarget:i,decoratorArguments:n};return Y(o,e)};if(Z(arguments)){n=o;return i.apply(null,arguments)}else{n=Array.prototype.slice.call(arguments);return i}}}function Z(e){return(e.length===2||e.length===3)&&(typeof e[1]==="string"||typeof e[1]==="symbol")||e.length===4&&e[3]===true}function Q(e,t,r){if(_r(e))return e;if(Array.isArray(e))return pe.array(e,{name:r});if(m(e))return pe.object(e,undefined,{name:r});if(T(e))return pe.map(e,{name:r});if(A(e))return pe.set(e,{name:r});return e}function ee(e,t,r){if(e===undefined||e===null)return e;if(En(e)||on(e)||ln(e)||dn(e))return e;if(Array.isArray(e))return pe.array(e,{name:r,deep:false});if(m(e))return pe.object(e,undefined,{name:r,deep:false});if(T(e))return pe.map(e,{name:r,deep:false});if(A(e))return pe.set(e,{name:r,deep:false});return u(false&&false)}function te(e){return e}function re(e,t,r){if(false){}if(Dn(e,t))return t;return e}function ne(t){l(t);var r=X(true,(function(e,r,n,i,o){if(false){}var a=n?n.initializer?n.initializer.call(e):n.value:undefined;vn(e).addObservableProp(r,a,t)}));var n=typeof e!=="undefined"&&e.env&&"production"!=="production"?function e(){if(arguments.length<2)return u("Incorrect decorator invocation. @observable decorator doesn't expect any arguments");return r.apply(null,arguments)}:r;n.enhancer=t;return n}var ie={deep:true,name:undefined,defaultDecorator:undefined,proxy:true};Object.freeze(ie);function oe(e){if(!/^(deep|name|equals|defaultDecorator|proxy)$/.test(e))u("invalid option for (extend)observable: "+e)}function ae(e){if(e===null||e===undefined)return ie;if(typeof e==="string")return{name:e,deep:true,proxy:true};if(false){}return e}var se=ne(Q);var ue=ne(ee);var le=ne(te);var ce=ne(re);function fe(e){return e.defaultDecorator?e.defaultDecorator.enhancer:e.deep===false?te:Q}function he(e,t,r){if(typeof arguments[1]==="string"||typeof arguments[1]==="symbol"){return se.apply(null,arguments)}if(_r(e))return e;var n=m(e)?pe.object(e,t,r):Array.isArray(e)?pe.array(e,t):T(e)?pe.map(e,t):A(e)?pe.set(e,t):e;if(n!==e)return n;u(false&&false)}var de={box:function(e,t){if(arguments.length>2)ve("box");var r=ae(t);return new Ye(e,fe(r),r.name,true,r.equals)},array:function(e,t){if(arguments.length>2)ve("array");var r=ae(t);return en(e,fe(r),r.name)},map:function(e,t){if(arguments.length>2)ve("map");var r=ae(t);return new un(e,fe(r),r.name)},set:function(e,t){if(arguments.length>2)ve("set");var r=ae(t);return new hn(e,fe(r),r.name)},object:function(e,t,r){if(typeof arguments[1]==="string")ve("object");var n=ae(r);if(n.proxy===false){return er({},e,t,n)}else{var i=tr(n);var o=er({},undefined,undefined,n);var a=Wr(o);rr(a,e,t,i);return a}},ref:le,shallow:ue,deep:se,struct:ce};var pe=he;Object.keys(de).forEach((function(e){return pe[e]=de[e]}));function ve(e){u("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}var me=X(false,(function(e,t,r,n,i){if(false){}var o=r.get,a=r.set;var s=i[0]||{};vn(e).addComputedProp(e,t,z({get:o,set:a,context:e},s))}));var ge=me({equals:j.structural});var ye=function e(t,r,n){if(typeof r==="string"){return me.apply(null,arguments)}if(t!==null&&typeof t==="object"&&arguments.length===1){return me.apply(null,arguments)}if(false){}var i=typeof r==="object"?r:{};i.get=t;i.set=typeof r==="function"?r:i.set;i.name=i.name||t.name||"";return new Xe(i)};ye.struct=ge;var be;(function(e){e[e["NOT_TRACKING"]=-1]="NOT_TRACKING";e[e["UP_TO_DATE"]=0]="UP_TO_DATE";e[e["POSSIBLY_STALE"]=1]="POSSIBLY_STALE";e[e["STALE"]=2]="STALE"})(be||(be={}));var _e;(function(e){e[e["NONE"]=0]="NONE";e[e["LOG"]=1]="LOG";e[e["BREAK"]=2]="BREAK"})(_e||(_e={}));var we=function(){function e(e){this.cause=e}return e}();function Ee(e){return e instanceof we}function Se(e){switch(e.dependenciesState){case be.UP_TO_DATE:return false;case be.NOT_TRACKING:case be.STALE:return true;case be.POSSIBLY_STALE:{var t=Me(true);var r=Re();var n=e.observing,i=n.length;for(var o=0;o<i;o++){var a=n[o];if(Ze(a)){if(ot.disableErrorBoundaries){a.get()}else{try{a.get()}catch(e){Pe(r);Le(t);return true}}if(e.dependenciesState===be.STALE){Pe(r);Le(t);return true}}}Ne(e);Pe(r);Le(t);return false}}}function Te(){return ot.trackingDerivation!==null}function Ae(e){var t=e.observers.size>0;if(ot.computationDepth>0&&t)u(false&&false);if(!ot.allowStateChanges&&(t||ot.enforceActions==="strict"))u(false&&false)}function xe(e){if(false){}}function De(e,t,r){var n=Me(true);Ne(e);e.newObserving=new Array(e.observing.length+100);e.unboundDepsCount=0;e.runId=++ot.runId;var i=ot.trackingDerivation;ot.trackingDerivation=e;var o;if(ot.disableErrorBoundaries===true){o=t.call(r)}else{try{o=t.call(r)}catch(e){o=new we(e)}}ot.trackingDerivation=i;Ie(e);Oe(e);Le(n);return o}function Oe(e){if(true)return;if(e.observing.length!==0)return;if(ot.reactionRequiresObservable||e.requiresObservable){console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}}function Ie(e){var t=e.observing;var r=e.observing=e.newObserving;var n=be.UP_TO_DATE;var i=0,o=e.unboundDepsCount;for(var a=0;a<o;a++){var s=r[a];if(s.diffValue===0){s.diffValue=1;if(i!==a)r[i]=s;i++}if(s.dependenciesState>n){n=s.dependenciesState}}r.length=i;e.newObserving=null;o=t.length;while(o--){var s=t[o];if(s.diffValue===0){ht(s,e)}s.diffValue=0}while(i--){var s=r[i];if(s.diffValue===1){s.diffValue=0;ft(s,e)}}if(n!==be.UP_TO_DATE){e.dependenciesState=n;e.onBecomeStale()}}function Ce(e){var t=e.observing;e.observing=[];var r=t.length;while(r--)ht(t[r],e);e.dependenciesState=be.NOT_TRACKING}function ke(e){var t=Re();try{return e()}finally{Pe(t)}}function Re(){var e=ot.trackingDerivation;ot.trackingDerivation=null;return e}function Pe(e){ot.trackingDerivation=e}function Me(e){var t=ot.allowStateReads;ot.allowStateReads=e;return t}function Le(e){ot.allowStateReads=e}function Ne(e){if(e.dependenciesState===be.UP_TO_DATE)return;e.dependenciesState=be.UP_TO_DATE;var t=e.observing;var r=t.length;while(r--)t[r].lowestObserverState=be.UP_TO_DATE}var Fe=0;var je=1;var Be=Object.getOwnPropertyDescriptor((function(){}),"name");var Ue=Be&&Be.configurable;function ze(e,t,r){if(false){}var n=function(){return $e(e,t,r||this,arguments)};n.isMobxAction=true;if(false){}return n}function $e(e,t,r,n){var i=Ge(e,r,n);try{return t.apply(r,n)}catch(e){i.error=e;throw e}finally{He(i)}}function Ge(e,t,r){var n=Ct()&&!!e;var i=0;if(n&&"production"!=="production"){i=Date.now();var o=r&&r.length||0;var a=new Array(o);if(o>0)for(var s=0;s<o;s++)a[s]=r[s];Rt({type:"action",name:e,object:t,arguments:a})}var u=Re();pt();var l=Ve(true);var c=Me(true);var f={prevDerivation:u,prevAllowStateChanges:l,prevAllowStateReads:c,notifySpy:n,startTime:i,actionId:je++,parentActionId:Fe};Fe=f.actionId;return f}function He(e){if(Fe!==e.actionId){u("invalid action stack. did you forget to finish an action?")}Fe=e.parentActionId;if(e.error!==undefined){ot.suppressReactionErrors=true}qe(e.prevAllowStateChanges);Le(e.prevAllowStateReads);vt();Pe(e.prevDerivation);if(e.notifySpy&&"production"!=="production"){Mt({time:Date.now()-e.startTime})}ot.suppressReactionErrors=false}function We(e,t){var r=Ve(e);var n;try{n=t()}finally{qe(r)}return n}function Ve(e){var t=ot.allowStateChanges;ot.allowStateChanges=e;return t}function qe(e){ot.allowStateChanges=e}function Je(e){var t=ot.computationDepth;ot.computationDepth=0;var r;try{r=e()}finally{ot.computationDepth=t}return r}var Ye=function(e){U(t,e);function t(t,r,n,i,o){if(n===void 0){n="ObservableValue@"+s()}if(i===void 0){i=true}if(o===void 0){o=j.default}var a=e.call(this,n)||this;a.enhancer=r;a.name=n;a.equals=o;a.hasUnreportedChange=false;a.value=r(t,undefined,n);if(i&&Ct()&&"production"!=="production"){kt({type:"create",name:a.name,newValue:""+a.value})}return a}t.prototype.dehanceValue=function(e){if(this.dehancer!==undefined)return this.dehancer(e);return e};t.prototype.set=function(e){var t=this.value;e=this.prepareNewValue(e);if(e!==ot.UNCHANGED){var r=Ct();if(r&&"production"!=="production"){Rt({type:"update",name:this.name,newValue:e,oldValue:t})}this.setNewValue(e);if(r&&"production"!=="production")Mt()}};t.prototype.prepareNewValue=function(e){Ae(this);if(Vr(this)){var t=Jr(this,{object:this,type:"update",newValue:e});if(!t)return ot.UNCHANGED;e=t.newValue}e=this.enhancer(e,this.value,this.name);return this.equals(this.value,e)?ot.UNCHANGED:e};t.prototype.setNewValue=function(e){var t=this.value;this.value=e;this.reportChanged();if(Yr(this)){Xr(this,{type:"update",object:this,newValue:e,oldValue:t})}};t.prototype.get=function(){this.reportObserved();return this.dehanceValue(this.value)};t.prototype.intercept=function(e){return qr(this,e)};t.prototype.observe=function(e,t){if(t)e({object:this,type:"update",newValue:this.value,oldValue:undefined});return Kr(this,e)};t.prototype.toJSON=function(){return this.get()};t.prototype.toString=function(){return this.name+"["+this.value+"]"};t.prototype.valueOf=function(){return O(this.get())};t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()};return t}(k);var Ke=E("ObservableValue",Ye);var Xe=function(){function e(e){this.dependenciesState=be.NOT_TRACKING;this.observing=[];this.newObserving=null;this.isBeingObserved=false;this.isPendingUnobservation=false;this.observers=new Set;this.diffValue=0;this.runId=0;this.lastAccessedBy=0;this.lowestObserverState=be.UP_TO_DATE;this.unboundDepsCount=0;this.__mapid="#"+s();this.value=new we(null);this.isComputing=false;this.isRunningSetter=false;this.isTracing=_e.NONE;l(e.get,"missing option for computed: get");this.derivation=e.get;this.name=e.name||"ComputedValue@"+s();if(e.set)this.setter=ze(this.name+"-setter",e.set);this.equals=e.equals||(e.compareStructural||e.struct?j.structural:j.default);this.scope=e.context;this.requiresReaction=!!e.requiresReaction;this.keepAlive=!!e.keepAlive}e.prototype.onBecomeStale=function(){bt(this)};e.prototype.onBecomeObserved=function(){if(this.onBecomeObservedListeners){this.onBecomeObservedListeners.forEach((function(e){return e()}))}};e.prototype.onBecomeUnobserved=function(){if(this.onBecomeUnobservedListeners){this.onBecomeUnobservedListeners.forEach((function(e){return e()}))}};e.prototype.get=function(){if(this.isComputing)u("Cycle detected in computation "+this.name+": "+this.derivation);if(ot.inBatch===0&&this.observers.size===0&&!this.keepAlive){if(Se(this)){this.warnAboutUntrackedRead();pt();this.value=this.computeValue(false);vt()}}else{mt(this);if(Se(this))if(this.trackAndCompute())yt(this)}var e=this.value;if(Ee(e))throw e.cause;return e};e.prototype.peek=function(){var e=this.computeValue(false);if(Ee(e))throw e.cause;return e};e.prototype.set=function(e){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?");this.isRunningSetter=true;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=false}}else l(false,false&&false)};e.prototype.trackAndCompute=function(){if(Ct()&&"production"!=="production"){kt({object:this.scope,type:"compute",name:this.name})}var e=this.value;var t=this.dependenciesState===be.NOT_TRACKING;var r=this.computeValue(true);var n=t||Ee(e)||Ee(r)||!this.equals(e,r);if(n){this.value=r}return n};e.prototype.computeValue=function(e){this.isComputing=true;ot.computationDepth++;var t;if(e){t=De(this,this.derivation,this.scope)}else{if(ot.disableErrorBoundaries===true){t=this.derivation.call(this.scope)}else{try{t=this.derivation.call(this.scope)}catch(e){t=new we(e)}}}ot.computationDepth--;this.isComputing=false;return t};e.prototype.suspend=function(){if(!this.keepAlive){Ce(this);this.value=undefined}};e.prototype.observe=function(e,t){var r=this;var n=true;var i=undefined;return Ht((function(){var o=r.get();if(!n||t){var a=Re();e({type:"update",object:r,newValue:o,oldValue:i});Pe(a)}n=false;i=o}))};e.prototype.warnAboutUntrackedRead=function(){if(true)return;if(this.requiresReaction===true){u("[mobx] Computed value "+this.name+" is read outside a reactive context")}if(this.isTracing!==_e.NONE){console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute")}if(ot.computedRequiresReaction){console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute")}};e.prototype.toJSON=function(){return this.get()};e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"};e.prototype.valueOf=function(){return O(this.get())};e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()};return e}();var Ze=E("ComputedValue",Xe);var Qe=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"];var et=function(){function e(){this.version=5;this.UNCHANGED={};this.trackingDerivation=null;this.computationDepth=0;this.runId=0;this.mobxGuid=0;this.inBatch=0;this.pendingUnobservations=[];this.pendingReactions=[];this.isRunningReactions=false;this.allowStateChanges=true;this.allowStateReads=true;this.enforceActions=false;this.spyListeners=[];this.globalReactionErrorHandlers=[];this.computedRequiresReaction=false;this.reactionRequiresObservable=false;this.observableRequiresReaction=false;this.computedConfigurable=false;this.disableErrorBoundaries=false;this.suppressReactionErrors=false}return e}();var tt={};function rt(){if(typeof window!=="undefined"){return window}if(typeof n!=="undefined"){return n}if(typeof self!=="undefined"){return self}return tt}var nt=true;var it=false;var ot=function(){var e=rt();if(e.__mobxInstanceCount>0&&!e.__mobxGlobals)nt=false;if(e.__mobxGlobals&&e.__mobxGlobals.version!==(new et).version)nt=false;if(!nt){setTimeout((function(){if(!it){u("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}}),1);return new et}else if(e.__mobxGlobals){e.__mobxInstanceCount+=1;if(!e.__mobxGlobals.UNCHANGED)e.__mobxGlobals.UNCHANGED={};return e.__mobxGlobals}else{e.__mobxInstanceCount=1;return e.__mobxGlobals=new et}}();function at(){if(ot.pendingReactions.length||ot.inBatch||ot.isRunningReactions)u("isolateGlobalState should be called before MobX is running any reactions");it=true;if(nt){if(--rt().__mobxInstanceCount===0)rt().__mobxGlobals=undefined;ot=new et}}function st(){return ot}function ut(){var e=new et;for(var t in e)if(Qe.indexOf(t)===-1)ot[t]=e[t];ot.allowStateChanges=!ot.enforceActions}function lt(e){return e.observers&&e.observers.size>0}function ct(e){return e.observers}function ft(e,t){e.observers.add(t);if(e.lowestObserverState>t.dependenciesState)e.lowestObserverState=t.dependenciesState}function ht(e,t){e.observers.delete(t);if(e.observers.size===0){dt(e)}}function dt(e){if(e.isPendingUnobservation===false){e.isPendingUnobservation=true;ot.pendingUnobservations.push(e)}}function pt(){ot.inBatch++}function vt(){if(--ot.inBatch===0){xt();var e=ot.pendingUnobservations;for(var t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=false;if(r.observers.size===0){if(r.isBeingObserved){r.isBeingObserved=false;r.onBecomeUnobserved()}if(r instanceof Xe){r.suspend()}}}ot.pendingUnobservations=[]}}function mt(e){xe(e);var t=ot.trackingDerivation;if(t!==null){if(t.runId!==e.lastAccessedBy){e.lastAccessedBy=t.runId;t.newObserving[t.unboundDepsCount++]=e;if(!e.isBeingObserved){e.isBeingObserved=true;e.onBecomeObserved()}}return true}else if(e.observers.size===0&&ot.inBatch>0){dt(e)}return false}function gt(e){if(e.lowestObserverState===be.STALE)return;e.lowestObserverState=be.STALE;e.observers.forEach((function(t){if(t.dependenciesState===be.UP_TO_DATE){if(t.isTracing!==_e.NONE){_t(t,e)}t.onBecomeStale()}t.dependenciesState=be.STALE}))}function yt(e){if(e.lowestObserverState===be.STALE)return;e.lowestObserverState=be.STALE;e.observers.forEach((function(t){if(t.dependenciesState===be.POSSIBLY_STALE)t.dependenciesState=be.STALE;else if(t.dependenciesState===be.UP_TO_DATE)e.lowestObserverState=be.UP_TO_DATE}))}function bt(e){if(e.lowestObserverState!==be.UP_TO_DATE)return;e.lowestObserverState=be.POSSIBLY_STALE;e.observers.forEach((function(t){if(t.dependenciesState===be.UP_TO_DATE){t.dependenciesState=be.POSSIBLY_STALE;if(t.isTracing!==_e.NONE){_t(t,e)}t.onBecomeStale()}}))}function _t(e,t){console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'");if(e.isTracing===_e.BREAK){var r=[];wt(nr(e),r,1);new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Xe?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}function wt(e,t,r){if(t.length>=1e3){t.push("(and many more)");return}t.push(""+new Array(r).join("\t")+e.name);if(e.dependencies)e.dependencies.forEach((function(e){return wt(e,t,r+1)}))}var Et=function(){function e(e,t,r,n){if(e===void 0){e="Reaction@"+s()}if(n===void 0){n=false}this.name=e;this.onInvalidate=t;this.errorHandler=r;this.requiresObservable=n;this.observing=[];this.newObserving=[];this.dependenciesState=be.NOT_TRACKING;this.diffValue=0;this.runId=0;this.unboundDepsCount=0;this.__mapid="#"+s();this.isDisposed=false;this._isScheduled=false;this._isTrackPending=false;this._isRunning=false;this.isTracing=_e.NONE}e.prototype.onBecomeStale=function(){this.schedule()};e.prototype.schedule=function(){if(!this._isScheduled){this._isScheduled=true;ot.pendingReactions.push(this);xt()}};e.prototype.isScheduled=function(){return this._isScheduled};e.prototype.runReaction=function(){if(!this.isDisposed){pt();this._isScheduled=false;if(Se(this)){this._isTrackPending=true;try{this.onInvalidate();if(this._isTrackPending&&Ct()&&"production"!=="production"){kt({name:this.name,type:"scheduled-reaction"})}}catch(e){this.reportExceptionInDerivation(e)}}vt()}};e.prototype.track=function(e){if(this.isDisposed){return}pt();var t=Ct();var r;if(t&&"production"!=="production"){r=Date.now();Rt({name:this.name,type:"reaction"})}this._isRunning=true;var n=De(this,e,undefined);this._isRunning=false;this._isTrackPending=false;if(this.isDisposed){Ce(this)}if(Ee(n))this.reportExceptionInDerivation(n.cause);if(t&&"production"!=="production"){Mt({time:Date.now()-r})}vt()};e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler){this.errorHandler(e,this);return}if(ot.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";if(ot.suppressReactionErrors){console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)")}else{console.error(r,e)}if(Ct()){kt({type:"error",name:this.name,message:r,error:""+e})}ot.globalReactionErrorHandlers.forEach((function(r){return r(e,t)}))};e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;if(!this._isRunning){pt();Ce(this);vt()}}};e.prototype.getDisposer=function(){var e=this.dispose.bind(this);e[C]=this;return e};e.prototype.toString=function(){return"Reaction["+this.name+"]"};e.prototype.trace=function(e){if(e===void 0){e=false}Nr(this,e)};return e}();function St(e){ot.globalReactionErrorHandlers.push(e);return function(){var t=ot.globalReactionErrorHandlers.indexOf(e);if(t>=0)ot.globalReactionErrorHandlers.splice(t,1)}}var Tt=100;var At=function(e){return e()};function xt(){if(ot.inBatch>0||ot.isRunningReactions)return;At(Dt)}function Dt(){ot.isRunningReactions=true;var e=ot.pendingReactions;var t=0;while(e.length>0){if(++t===Tt){console.error("Reaction doesn't converge to a stable state after "+Tt+" iterations."+(" Probably there is a cycle in the reactive function: "+e[0]));e.splice(0)}var r=e.splice(0);for(var n=0,i=r.length;n<i;n++)r[n].runReaction()}ot.isRunningReactions=false}var Ot=E("Reaction",Et);function It(e){var t=At;At=function(r){return e((function(){return t(r)}))}}function Ct(){return false&&false}function kt(e){if(true)return;if(!ot.spyListeners.length)return;var t=ot.spyListeners;for(var r=0,n=t.length;r<n;r++)t[r](e)}function Rt(e){if(true)return;var t=z(z({},e),{spyReportStart:true});kt(t)}var Pt={spyReportEnd:true};function Mt(e){if(true)return;if(e)kt(z(z({},e),{spyReportEnd:true}));else kt(Pt)}function Lt(e){if(true){console.warn("[mobx.spy] Is a no-op in production builds");return function(){}}else{}}function Nt(){u(false&&false)}function Ft(e){return function(t,r,n){if(n){if(false){}if(n.value){return{value:ze(e,n.value),enumerable:false,configurable:true,writable:true}}var i=n.initializer;return{enumerable:false,configurable:true,writable:true,initializer:function(){return ze(e,i.call(this))}}}return jt(e).apply(this,arguments)}}function jt(e){return function(t,r,n){Object.defineProperty(t,r,{configurable:true,enumerable:false,get:function(){return undefined},set:function(t){y(this,r,Ut(e,t))}})}}function Bt(e,t,r,n){if(n===true){Gt(e,t,r.value);return null}if(r){return{configurable:true,enumerable:false,get:function(){Gt(this,t,r.value||r.initializer.call(this));return this[t]},set:Nt}}return{enumerable:false,configurable:true,set:function(e){Gt(this,t,e)},get:function(){return undefined}}}var Ut=function e(t,r,n,i){if(arguments.length===1&&typeof t==="function")return ze(t.name||"<unnamed action>",t);if(arguments.length===2&&typeof r==="function")return ze(t,r);if(arguments.length===1&&typeof t==="string")return Ft(t);if(i===true){y(t,r,ze(t.name||r,n.value,this))}else{return Ft(r).apply(null,arguments)}};Ut.bound=Bt;function zt(e,t){var r=typeof e==="string"?e:e.name||"<unnamed action>";var n=typeof e==="function"?e:t;if(false){}return $e(r,n,this,undefined)}function $t(e){return typeof e==="function"&&e.isMobxAction===true}function Gt(e,t,r){y(e,t,ze(t,r.bind(e)))}function Ht(e,t){if(t===void 0){t=a}if(false){}var r=t&&t.name||e.name||"Autorun@"+s();var n=!t.scheduler&&!t.delay;var i;if(n){i=new Et(r,(function(){this.track(l)}),t.onError,t.requiresObservable)}else{var o=Vt(t);var u=false;i=new Et(r,(function(){if(!u){u=true;o((function(){u=false;if(!i.isDisposed)i.track(l)}))}}),t.onError,t.requiresObservable)}function l(){e(i)}i.schedule();return i.getDisposer()}var Wt=function(e){return e()};function Vt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Wt}function qt(e,t,r){if(r===void 0){r=a}if(false){}var n=r.name||"Reaction@"+s();var i=Ut(n,r.onError?Jt(r.onError,t):t);var o=!r.scheduler&&!r.delay;var u=Vt(r);var l=true;var c=false;var f;var h=r.compareStructural?j.structural:r.equals||j.default;var d=new Et(n,(function(){if(l||o){p()}else if(!c){c=true;u(p)}}),r.onError,r.requiresObservable);function p(){c=false;if(d.isDisposed)return;var t=false;d.track((function(){var r=e(d);t=l||!h(f,r);f=r}));if(l&&r.fireImmediately)i(f,d);if(!l&&t===true)i(f,d);if(l)l=false}d.schedule();return d.getDisposer()}function Jt(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}function Yt(e,t,r){return Xt("onBecomeObserved",e,t,r)}function Kt(e,t,r){return Xt("onBecomeUnobserved",e,t,r)}function Xt(e,t,r,n){var i=typeof n==="function"?Sn(t,r):Sn(t);var o=typeof n==="function"?n:r;var a=e+"Listeners";if(i[a]){i[a].add(o)}else{i[a]=new Set([o])}var s=i[e];if(typeof s!=="function")return u(false&&false);return function(){var e=i[a];if(e){e.delete(o);if(e.size===0){delete i[a]}}}}function Zt(e){var t=e.enforceActions,r=e.computedRequiresReaction,n=e.computedConfigurable,i=e.disableErrorBoundaries,o=e.reactionScheduler,a=e.reactionRequiresObservable,s=e.observableRequiresReaction;if(e.isolateGlobalState===true){at()}if(t!==undefined){if(typeof t==="boolean"||t==="strict")f("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var l=void 0;switch(t){case true:case"observed":l=true;break;case false:case"never":l=false;break;case"strict":case"always":l="strict";break;default:u("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}ot.enforceActions=l;ot.allowStateChanges=l===true||l==="strict"?false:true}if(r!==undefined){ot.computedRequiresReaction=!!r}if(a!==undefined){ot.reactionRequiresObservable=!!a}if(s!==undefined){ot.observableRequiresReaction=!!s;ot.allowStateReads=!ot.observableRequiresReaction}if(n!==undefined){ot.computedConfigurable=!!n}if(i!==undefined){if(i===true)console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled.");ot.disableErrorBoundaries=!!i}if(o){It(o)}}function Qt(e,t){false&&false;var r=typeof e==="function"?e.prototype:e;var n=function(e){var n=t[e];if(!Array.isArray(n)){n=[n]}false&&false;var i=Object.getOwnPropertyDescriptor(r,e);var o=n.reduce((function(t,n){return n(r,e,t)}),i);if(o)Object.defineProperty(r,e,o)};for(var i in t){n(i)}return e}function er(e,t,r,n){if(false){}n=ae(n);var i=tr(n);K(e);vn(e,n.name,i.enhancer);if(t)rr(e,t,r,i);return e}function tr(e){return e.defaultDecorator||(e.deep===false?le:se)}function rr(e,t,r,n){var i,o,a,s;if(false){var u,l,c,f}pt();try{var f=I(t);try{for(var h=$(f),d=h.next();!d.done;d=h.next()){var u=d.value;var p=Object.getOwnPropertyDescriptor(t,u);if(false){}var v=r&&u in r?r[u]:p.get?me:n;if(false){}var m=v(e,u,p,true);if(m)Object.defineProperty(e,u,m)}}catch(e){a={error:e}}finally{try{if(d&&!d.done&&(s=h.return))s.call(h)}finally{if(a)throw a.error}}}finally{vt()}}function nr(e,t){return ir(Sn(e,t))}function ir(e){var t={name:e.name};if(e.observing&&e.observing.length>0)t.dependencies=p(e.observing).map(ir);return t}function or(e,t){return ar(Sn(e,t))}function ar(e){var t={name:e.name};if(lt(e))t.observers=Array.from(ct(e)).map(ar);return t}var sr=0;function ur(){this.message="FLOW_CANCELLED"}ur.prototype=Object.create(Error.prototype);function lr(e){return e instanceof ur}function cr(e){if(arguments.length!==1)u(true&&"Flow expects 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var r=this;var n=arguments;var i=++sr;var o=Ut(t+" - runid: "+i+" - init",e).apply(r,n);var a;var s=undefined;var u=new Promise((function(e,r){var n=0;a=r;function u(e){s=undefined;var a;try{a=Ut(t+" - runid: "+i+" - yield "+n++,o.next).call(o,e)}catch(e){return r(e)}c(a)}function l(e){s=undefined;var a;try{a=Ut(t+" - runid: "+i+" - yield "+n++,o.throw).call(o,e)}catch(e){return r(e)}c(a)}function c(t){if(t&&typeof t.then==="function"){t.then(c,r);return}if(t.done)return e(t.value);s=Promise.resolve(t.value);return s.then(u,l)}u(undefined)}));u.cancel=Ut(t+" - runid: "+i+" - cancel",(function(){try{if(s)fr(s);var e=o.return(undefined);var t=Promise.resolve(e.value);t.then(d,d);fr(t);a(new ur)}catch(e){a(e)}}));return u}}function fr(e){if(typeof e.cancel==="function")e.cancel()}function hr(e,t,r){var n;if(ln(e)||on(e)||Ke(e)){n=Tn(e)}else if(En(e)){if(typeof t!=="string")return u(false&&false);n=Tn(e,t)}else{return u(false&&false)}if(n.dehancer!==undefined)return u(false&&false);n.dehancer=typeof t==="function"?t:r;return function(){n.dehancer=undefined}}function dr(e,t,r){if(typeof r==="function")return vr(e,t,r);else return pr(e,t)}function pr(e,t){return Tn(e).intercept(t)}function vr(e,t,r){return Tn(e,t).intercept(r)}function mr(e,t){if(e===null||e===undefined)return false;if(t!==undefined){if(En(e)===false)return false;if(!e[C].values.has(t))return false;var r=Sn(e,t);return Ze(r)}return Ze(e)}function gr(e){if(arguments.length>1)return u(false&&false);return mr(e)}function yr(e,t){if(typeof t!=="string")return u(false&&false);return mr(e,t)}function br(e,t){if(e===null||e===undefined)return false;if(t!==undefined){if(false){}if(En(e)){return e[C].values.has(t)}return false}return En(e)||!!e[C]||R(e)||Ot(e)||Ze(e)}function _r(e){if(arguments.length!==1)u(false&&false);return br(e)}function wr(e,t){if(typeof t!=="string")return u(false&&false);return br(e,t)}function Er(e){if(En(e)){return e[C].getKeys()}if(ln(e)){return Array.from(e.keys())}if(dn(e)){return Array.from(e.keys())}if(on(e)){return e.map((function(e,t){return t}))}return u(false&&false)}function Sr(e){if(En(e)){return Er(e).map((function(t){return e[t]}))}if(ln(e)){return Er(e).map((function(t){return e.get(t)}))}if(dn(e)){return Array.from(e.values())}if(on(e)){return e.slice()}return u(false&&false)}function Tr(e){if(En(e)){return Er(e).map((function(t){return[t,e[t]]}))}if(ln(e)){return Er(e).map((function(t){return[t,e.get(t)]}))}if(dn(e)){return Array.from(e.entries())}if(on(e)){return e.map((function(e,t){return[t,e]}))}return u(false&&false)}function Ar(e,t,r){if(arguments.length===2&&!dn(e)){pt();var n=t;try{for(var i in n)Ar(e,i,n[i])}finally{vt()}return}if(En(e)){var o=e[C];var a=o.values.get(t);if(a){o.write(t,r)}else{o.addObservableProp(t,r,o.defaultEnhancer)}}else if(ln(e)){e.set(t,r)}else if(dn(e)){e.add(t)}else if(on(e)){if(typeof t!=="number")t=parseInt(t,10);l(t>=0,"Not a valid index: '"+t+"'");pt();if(t>=e.length)e.length=t+1;e[t]=r;vt()}else{return u(false&&false)}}function xr(e,t){if(En(e)){e[C].remove(t)}else if(ln(e)){e.delete(t)}else if(dn(e)){e.delete(t)}else if(on(e)){if(typeof t!=="number")t=parseInt(t,10);l(t>=0,"Not a valid index: '"+t+"'");e.splice(t,1)}else{return u(false&&false)}}function Dr(e,t){if(En(e)){var r=Tn(e);return r.has(t)}else if(ln(e)){return e.has(t)}else if(dn(e)){return e.has(t)}else if(on(e)){return t>=0&&t<e.length}else{return u(false&&false)}}function Or(e,t){if(!Dr(e,t))return undefined;if(En(e)){return e[t]}else if(ln(e)){return e.get(t)}else if(on(e)){return e[t]}else{return u(false&&false)}}function Ir(e,t,r,n){if(typeof r==="function")return kr(e,t,r,n);else return Cr(e,t,r)}function Cr(e,t,r){return Tn(e).observe(t,r)}function kr(e,t,r,n){return Tn(e,t).observe(r,n)}var Rr={detectCycles:true,exportMapsAsObjects:true,recurseEverything:false};function Pr(e,t,r,n){if(n.detectCycles)e.set(t,r);return r}function Mr(e,t,r){if(!t.recurseEverything&&!_r(e))return e;if(typeof e!=="object")return e;if(e===null)return null;if(e instanceof Date)return e;if(Ke(e))return Mr(e.get(),t,r);if(_r(e))Er(e);var n=t.detectCycles===true;if(n&&e!==null&&r.has(e)){return r.get(e)}if(on(e)||Array.isArray(e)){var i=Pr(r,e,[],t);var o=e.map((function(e){return Mr(e,t,r)}));i.length=o.length;for(var a=0,s=o.length;a<s;a++)i[a]=o[a];return i}if(dn(e)||Object.getPrototypeOf(e)===Set.prototype){if(t.exportMapsAsObjects===false){var u=Pr(r,e,new Set,t);e.forEach((function(e){u.add(Mr(e,t,r))}));return u}else{var l=Pr(r,e,[],t);e.forEach((function(e){l.push(Mr(e,t,r))}));return l}}if(ln(e)||Object.getPrototypeOf(e)===Map.prototype){if(t.exportMapsAsObjects===false){var c=Pr(r,e,new Map,t);e.forEach((function(e,n){c.set(n,Mr(e,t,r))}));return c}else{var f=Pr(r,e,{},t);e.forEach((function(e,n){f[n]=Mr(e,t,r)}));return f}}var h=Pr(r,e,{},t);x(e).forEach((function(n){h[n]=Mr(e[n],t,r)}));return h}function Lr(e,t){if(typeof t==="boolean")t={detectCycles:t};if(!t)t=Rr;t.detectCycles=t.detectCycles===undefined?t.recurseEverything===true:t.detectCycles===true;var r;if(t.detectCycles)r=new Map;return Mr(e,t,r)}function Nr(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=false;if(typeof e[e.length-1]==="boolean")r=e.pop();var n=Fr(e);if(!n){return u(false&&false)}if(n.isTracing===_e.NONE){console.log("[mobx.trace] '"+n.name+"' tracing enabled")}n.isTracing=r?_e.BREAK:_e.LOG}function Fr(e){switch(e.length){case 0:return ot.trackingDerivation;case 1:return Sn(e[0]);case 2:return Sn(e[0],e[1])}}function jr(e,t){if(t===void 0){t=undefined}pt();try{return e.apply(t)}finally{vt()}}function Br(e,t,r){if(arguments.length===1||t&&typeof t==="object")return zr(e,t);return Ur(e,t,r||{})}function Ur(e,t,r){var n;if(typeof r.timeout==="number"){n=setTimeout((function(){if(!o[C].isDisposed){o();var e=new Error("WHEN_TIMEOUT");if(r.onError)r.onError(e);else throw e}}),r.timeout)}r.name=r.name||"When@"+s();var i=ze(r.name+"-effect",t);var o=Ht((function(t){if(e()){t.dispose();if(n)clearTimeout(n);i()}}),r);return o}function zr(e,t){if(false){}var r;var n=new Promise((function(n,i){var o=Ur(e,n,z(z({},t),{onError:i}));r=function(){o();i("WHEN_CANCELLED")}}));n.cancel=r;return n}function $r(e){return e[C]}function Gr(e){return typeof e==="string"||typeof e==="number"||typeof e==="symbol"}var Hr={has:function(e,t){if(t===C||t==="constructor"||t===W)return true;var r=$r(e);if(Gr(t))return r.has(t);return t in e},get:function(e,t){if(t===C||t==="constructor"||t===W)return e[t];var r=$r(e);var n=r.values.get(t);if(n instanceof k){var i=n.get();if(i===undefined){r.has(t)}return i}if(Gr(t))r.has(t);return e[t]},set:function(e,t,r){if(!Gr(t))return false;Ar(e,t,r);return true},deleteProperty:function(e,t){if(!Gr(t))return false;var r=$r(e);r.remove(t);return true},ownKeys:function(e){var t=$r(e);t.keysAtom.reportObserved();return Reflect.ownKeys(e)},preventExtensions:function(e){u("Dynamic observable objects cannot be frozen");return false}};function Wr(e){var t=new Proxy(e,Hr);e[C].proxy=t;return t}function Vr(e){return e.interceptors!==undefined&&e.interceptors.length>0}function qr(e,t){var r=e.interceptors||(e.interceptors=[]);r.push(t);return h((function(){var e=r.indexOf(t);if(e!==-1)r.splice(e,1)}))}function Jr(e,t){var r=Re();try{var n=H(e.interceptors||[]);for(var i=0,o=n.length;i<o;i++){t=n[i](t);l(!t||t.type,"Intercept handlers should return nothing or a change object");if(!t)break}return t}finally{Pe(r)}}function Yr(e){return e.changeListeners!==undefined&&e.changeListeners.length>0}function Kr(e,t){var r=e.changeListeners||(e.changeListeners=[]);r.push(t);return h((function(){var e=r.indexOf(t);if(e!==-1)r.splice(e,1)}))}function Xr(e,t){var r=Re();var n=e.changeListeners;if(!n)return;n=n.slice();for(var i=0,o=n.length;i<o;i++){n[i](t)}Pe(r)}var Zr=1e4;var Qr={get:function(e,t){if(t===C)return e[C];if(t==="length")return e[C].getArrayLength();if(typeof t==="number"){return rn.get.call(e,t)}if(typeof t==="string"&&!isNaN(t)){return rn.get.call(e,parseInt(t))}if(rn.hasOwnProperty(t)){return rn[t]}return e[t]},set:function(e,t,r){if(t==="length"){e[C].setArrayLength(r)}if(typeof t==="number"){rn.set.call(e,t,r)}if(typeof t==="symbol"||isNaN(t)){e[t]=r}else{rn.set.call(e,parseInt(t),r)}return true},preventExtensions:function(e){u("Observable arrays cannot be frozen");return false}};function en(e,t,r,n){if(r===void 0){r="ObservableArray@"+s()}if(n===void 0){n=false}var i=new tn(r,t,n);b(i.values,C,i);var o=new Proxy(i.values,Qr);i.proxy=o;if(e&&e.length){var a=Ve(true);i.spliceWithArray(0,0,e);qe(a)}return o}var tn=function(){function e(e,t,r){this.owned=r;this.values=[];this.proxy=undefined;this.lastKnownLength=0;this.atom=new k(e||"ObservableArray@"+s());this.enhancer=function(r,n){return t(r,n,e+"[..]")}}e.prototype.dehanceValue=function(e){if(this.dehancer!==undefined)return this.dehancer(e);return e};e.prototype.dehanceValues=function(e){if(this.dehancer!==undefined&&e.length>0)return e.map(this.dehancer);return e};e.prototype.intercept=function(e){return qr(this,e)};e.prototype.observe=function(e,t){if(t===void 0){t=false}if(t){e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0})}return Kr(this,e)};e.prototype.getArrayLength=function(){this.atom.reportObserved();return this.values.length};e.prototype.setArrayLength=function(e){if(typeof e!=="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e===t)return;else if(e>t){var r=new Array(e-t);for(var n=0;n<e-t;n++)r[n]=undefined;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)};e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t};e.prototype.spliceWithArray=function(e,t,r){var n=this;Ae(this.atom);var i=this.values.length;if(e===undefined)e=0;else if(e>i)e=i;else if(e<0)e=Math.max(0,i+e);if(arguments.length===1)t=i-e;else if(t===undefined||t===null)t=0;else t=Math.max(0,Math.min(t,i-e));if(r===undefined)r=o;if(Vr(this)){var a=Jr(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!a)return o;t=a.removedCount;r=a.added}r=r.length===0?r:r.map((function(e){return n.enhancer(e,undefined)}));if(false){var s}var u=this.spliceItemsIntoValues(e,t,r);if(t!==0||r.length!==0)this.notifyArraySplice(e,r,u);return this.dehanceValues(u)};e.prototype.spliceItemsIntoValues=function(e,t,r){var n;if(r.length<Zr){return(n=this.values).splice.apply(n,H([e,t],r))}else{var i=this.values.slice(e,e+t);this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t));return i}};e.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&Ct();var i=Yr(this);var o=i||n?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:r}:null;if(n&&"production"!=="production")Rt(z(z({},o),{name:this.atom.name}));this.atom.reportChanged();if(i)Xr(this,o);if(n&&"production"!=="production")Mt()};e.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&Ct();var i=Yr(this);var o=i||n?{object:this.proxy,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;if(n&&"production"!=="production")Rt(z(z({},o),{name:this.atom.name}));this.atom.reportChanged();if(i)Xr(this,o);if(n&&"production"!=="production")Mt()};return e}();var rn={intercept:function(e){return this[C].intercept(e)},observe:function(e,t){if(t===void 0){t=false}var r=this[C];return r.observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[C];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}var i=this[C];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(e);case 2:return i.spliceWithArray(e,t)}return i.spliceWithArray(e,t,r)},spliceWithArray:function(e,t,r){var n=this[C];return n.spliceWithArray(e,t,r)},push:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=this[C];r.spliceWithArray(r.values.length,0,e);return r.values.length},pop:function(){return this.splice(Math.max(this[C].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=this[C];r.spliceWithArray(0,0,e);return r.values.length},reverse:function(){if(false){}var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){if(false){}var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[C];var r=t.dehanceValues(t.values).indexOf(e);if(r>-1){this.splice(r,1);return true}return false},get:function(e){var t=this[C];if(t){if(e<t.values.length){t.atom.reportObserved();return t.dehanceValue(t.values[e])}console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}return undefined},set:function(e,t){var r=this[C];var n=r.values;if(e<n.length){Ae(r.atom);var i=n[e];if(Vr(r)){var o=Jr(r,{type:"update",object:r.proxy,index:e,newValue:t});if(!o)return;t=o.newValue}t=r.enhancer(t,i);var a=t!==i;if(a){n[e]=t;r.notifyArrayChildUpdate(e,t,i)}}else if(e===n.length){r.spliceWithArray(e,0,[t])}else{throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length)}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){if(typeof Array.prototype[e]!=="function"){return}rn[e]=function(){var t=this[C];t.atom.reportObserved();var r=t.dehanceValues(t.values);return r[e].apply(r,arguments)}}));["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(e){if(typeof Array.prototype[e]!=="function"){return}rn[e]=function(t,r){var n=this;var i=this[C];i.atom.reportObserved();var o=i.dehanceValues(i.values);return o[e]((function(e,i){return t.call(r,e,i,n)}),r)}}));["reduce","reduceRight"].forEach((function(e){rn[e]=function(t,r){var n=this;var i=this[C];i.atom.reportObserved();return i.values[e]((function(e,r,o){r=i.dehanceValue(r);return t(e,r,o,n)}),r)}}));var nn=E("ObservableArrayAdministration",tn);function on(e){return v(e)&&nn(e[C])}var an;var sn={};var un=function(){function e(e,t,r){if(t===void 0){t=Q}if(r===void 0){r="ObservableMap@"+s()}this.enhancer=t;this.name=r;this[an]=sn;this._keysAtom=P(this.name+".keys()");this[Symbol.toStringTag]="Map";if(typeof Map!=="function"){throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js")}this._data=new Map;this._hasMap=new Map;this.merge(e)}e.prototype._has=function(e){return this._data.has(e)};e.prototype.has=function(e){var t=this;if(!ot.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var n=r=new Ye(this._has(e),te,this.name+"."+D(e)+"?",false);this._hasMap.set(e,n);Kt(n,(function(){return t._hasMap.delete(e)}))}return r.get()};e.prototype.set=function(e,t){var r=this._has(e);if(Vr(this)){var n=Jr(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}if(r){this._updateValue(e,t)}else{this._addValue(e,t)}return this};e.prototype.delete=function(e){var t=this;Ae(this._keysAtom);if(Vr(this)){var r=Jr(this,{type:"delete",object:this,name:e});if(!r)return false}if(this._has(e)){var n=Ct();var i=Yr(this);var r=i||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;if(n&&"production"!=="production")Rt(z(z({},r),{name:this.name,key:e}));jr((function(){t._keysAtom.reportChanged();t._updateHasMapEntry(e,false);var r=t._data.get(e);r.setNewValue(undefined);t._data.delete(e)}));if(i)Xr(this,r);if(n&&"production"!=="production")Mt();return true}return false};e.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);if(r){r.setNewValue(t)}};e.prototype._updateValue=function(e,t){var r=this._data.get(e);t=r.prepareNewValue(t);if(t!==ot.UNCHANGED){var n=Ct();var i=Yr(this);var o=i||n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;if(n&&"production"!=="production")Rt(z(z({},o),{name:this.name,key:e}));r.setNewValue(t);if(i)Xr(this,o);if(n&&"production"!=="production")Mt()}};e.prototype._addValue=function(e,t){var r=this;Ae(this._keysAtom);jr((function(){var n=new Ye(t,r.enhancer,r.name+"."+D(e),false);r._data.set(e,n);t=n.value;r._updateHasMapEntry(e,true);r._keysAtom.reportChanged()}));var n=Ct();var i=Yr(this);var o=i||n?{type:"add",object:this,name:e,newValue:t}:null;if(n&&"production"!=="production")Rt(z(z({},o),{name:this.name,key:e}));if(i)Xr(this,o);if(n&&"production"!=="production")Mt()};e.prototype.get=function(e){if(this.has(e))return this.dehanceValue(this._data.get(e).get());return this.dehanceValue(undefined)};e.prototype.dehanceValue=function(e){if(this.dehancer!==undefined){return this.dehancer(e)}return e};e.prototype.keys=function(){this._keysAtom.reportObserved();return this._data.keys()};e.prototype.values=function(){var e=this;var t=this.keys();return kn({next:function(){var r=t.next(),n=r.done,i=r.value;return{done:n,value:n?undefined:e.get(i)}}})};e.prototype.entries=function(){var e=this;var t=this.keys();return kn({next:function(){var r=t.next(),n=r.done,i=r.value;return{done:n,value:n?undefined:[i,e.get(i)]}}})};e.prototype[(an=C,Symbol.iterator)]=function(){return this.entries()};e.prototype.forEach=function(e,t){var r,n;try{for(var i=$(this),o=i.next();!o.done;o=i.next()){var a=G(o.value,2),s=a[0],u=a[1];e.call(t,u,s,this)}}catch(e){r={error:e}}finally{try{if(o&&!o.done&&(n=i.return))n.call(i)}finally{if(r)throw r.error}}};e.prototype.merge=function(e){var t=this;if(ln(e)){e=e.toJS()}jr((function(){var r=Ve(true);try{if(m(e))x(e).forEach((function(r){return t.set(r,e[r])}));else if(Array.isArray(e))e.forEach((function(e){var r=G(e,2),n=r[0],i=r[1];return t.set(n,i)}));else if(T(e)){if(e.constructor!==Map)u("Cannot initialize from classes that inherit from Map: "+e.constructor.name);e.forEach((function(e,r){return t.set(r,e)}))}else if(e!==null&&e!==undefined)u("Cannot initialize map from "+e)}finally{qe(r)}}));return this};e.prototype.clear=function(){var e=this;jr((function(){ke((function(){var t,r;try{for(var n=$(e.keys()),i=n.next();!i.done;i=n.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(r=n.return))r.call(n)}finally{if(t)throw t.error}}}))}))};e.prototype.replace=function(e){var t=this;jr((function(){var r,n,i,o;var a=g(e);var s=new Map;var u=false;try{for(var l=$(t._data.keys()),c=l.next();!c.done;c=l.next()){var f=c.value;if(!a.has(f)){var h=t.delete(f);if(h){u=true}else{var d=t._data.get(f);s.set(f,d)}}}}catch(e){r={error:e}}finally{try{if(c&&!c.done&&(n=l.return))n.call(l)}finally{if(r)throw r.error}}try{for(var p=$(a.entries()),v=p.next();!v.done;v=p.next()){var m=G(v.value,2),f=m[0],d=m[1];var y=t._data.has(f);t.set(f,d);if(t._data.has(f)){var b=t._data.get(f);s.set(f,b);if(!y){u=true}}}}catch(e){i={error:e}}finally{try{if(v&&!v.done&&(o=p.return))o.call(p)}finally{if(i)throw i.error}}if(!u){if(t._data.size!==s.size){t._keysAtom.reportChanged()}else{var _=t._data.keys();var w=s.keys();var E=_.next();var S=w.next();while(!E.done){if(E.value!==S.value){t._keysAtom.reportChanged();break}E=_.next();S=w.next()}}}t._data=s}));return this};Object.defineProperty(e.prototype,"size",{get:function(){this._keysAtom.reportObserved();return this._data.size},enumerable:true,configurable:true});e.prototype.toPOJO=function(){var e,t;var r={};try{for(var n=$(this),i=n.next();!i.done;i=n.next()){var o=G(i.value,2),a=o[0],s=o[1];r[typeof a==="symbol"?a:D(a)]=s}}catch(t){e={error:t}}finally{try{if(i&&!i.done&&(t=n.return))t.call(n)}finally{if(e)throw e.error}}return r};e.prototype.toJS=function(){return new Map(this)};e.prototype.toJSON=function(){return this.toPOJO()};e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return D(t)+": "+(""+e.get(t))})).join(", ")+" }]"};e.prototype.observe=function(e,t){false&&false;return Kr(this,e)};e.prototype.intercept=function(e){return qr(this,e)};return e}();var ln=E("ObservableMap",un);var cn;var fn={};var hn=function(){function e(e,t,r){if(t===void 0){t=Q}if(r===void 0){r="ObservableSet@"+s()}this.name=r;this[cn]=fn;this._data=new Set;this._atom=P(this.name);this[Symbol.toStringTag]="Set";if(typeof Set!=="function"){throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js")}this.enhancer=function(e,n){return t(e,n,r)};if(e){this.replace(e)}}e.prototype.dehanceValue=function(e){if(this.dehancer!==undefined){return this.dehancer(e)}return e};e.prototype.clear=function(){var e=this;jr((function(){ke((function(){var t,r;try{for(var n=$(e._data.values()),i=n.next();!i.done;i=n.next()){var o=i.value;e.delete(o)}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(r=n.return))r.call(n)}finally{if(t)throw t.error}}}))}))};e.prototype.forEach=function(e,t){var r,n;try{for(var i=$(this),o=i.next();!o.done;o=i.next()){var a=o.value;e.call(t,a,a,this)}}catch(e){r={error:e}}finally{try{if(o&&!o.done&&(n=i.return))n.call(i)}finally{if(r)throw r.error}}};Object.defineProperty(e.prototype,"size",{get:function(){this._atom.reportObserved();return this._data.size},enumerable:true,configurable:true});e.prototype.add=function(e){var t=this;Ae(this._atom);if(Vr(this)){var r=Jr(this,{type:"add",object:this,newValue:e});if(!r)return this}if(!this.has(e)){jr((function(){t._data.add(t.enhancer(e,undefined));t._atom.reportChanged()}));var n=Ct();var i=Yr(this);var r=i||n?{type:"add",object:this,newValue:e}:null;if(n&&"production"!=="production")Rt(r);if(i)Xr(this,r);if(n&&"production"!=="production")Mt()}return this};e.prototype.delete=function(e){var t=this;if(Vr(this)){var r=Jr(this,{type:"delete",object:this,oldValue:e});if(!r)return false}if(this.has(e)){var n=Ct();var i=Yr(this);var r=i||n?{type:"delete",object:this,oldValue:e}:null;if(n&&"production"!=="production")Rt(z(z({},r),{name:this.name}));jr((function(){t._atom.reportChanged();t._data.delete(e)}));if(i)Xr(this,r);if(n&&"production"!=="production")Mt();return true}return false};e.prototype.has=function(e){this._atom.reportObserved();return this._data.has(this.dehanceValue(e))};e.prototype.entries=function(){var e=0;var t=Array.from(this.keys());var r=Array.from(this.values());return kn({next:function(){var n=e;e+=1;return n<r.length?{value:[t[n],r[n]],done:false}:{done:true}}})};e.prototype.keys=function(){return this.values()};e.prototype.values=function(){this._atom.reportObserved();var e=this;var t=0;var r=Array.from(this._data.values());return kn({next:function(){return t<r.length?{value:e.dehanceValue(r[t++]),done:false}:{done:true}}})};e.prototype.replace=function(e){var t=this;if(dn(e)){e=e.toJS()}jr((function(){var r=Ve(true);try{if(Array.isArray(e)){t.clear();e.forEach((function(e){return t.add(e)}))}else if(A(e)){t.clear();e.forEach((function(e){return t.add(e)}))}else if(e!==null&&e!==undefined){u("Cannot initialize set from "+e)}}finally{qe(r)}}));return this};e.prototype.observe=function(e,t){false&&false;return Kr(this,e)};e.prototype.intercept=function(e){return qr(this,e)};e.prototype.toJS=function(){return new Set(this)};e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"};e.prototype[(cn=C,Symbol.iterator)]=function(){return this.values()};return e}();var dn=E("ObservableSet",hn);var pn=function(){function e(e,t,r,n){if(t===void 0){t=new Map}this.target=e;this.values=t;this.name=r;this.defaultEnhancer=n;this.keysAtom=new k(r+".keys")}e.prototype.read=function(e){return this.values.get(e).get()};e.prototype.write=function(e,t){var r=this.target;var n=this.values.get(e);if(n instanceof Xe){n.set(t);return}if(Vr(this)){var i=Jr(this,{type:"update",object:this.proxy||r,name:e,newValue:t});if(!i)return;t=i.newValue}t=n.prepareNewValue(t);if(t!==ot.UNCHANGED){var o=Yr(this);var a=Ct();var i=o||a?{type:"update",object:this.proxy||r,oldValue:n.value,name:e,newValue:t}:null;if(a&&"production"!=="production")Rt(z(z({},i),{name:this.name,key:e}));n.setNewValue(t);if(o)Xr(this,i);if(a&&"production"!=="production")Mt()}};e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map);var r=t.get(e);if(r)return r.get();else{var n=!!this.values.get(e);r=new Ye(n,te,this.name+"."+D(e)+"?",false);t.set(e,r);return r.get()}};e.prototype.addObservableProp=function(e,t,r){if(r===void 0){r=this.defaultEnhancer}var n=this.target;w(n,e);if(Vr(this)){var i=Jr(this,{object:this.proxy||n,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}var o=new Ye(t,r,this.name+"."+D(e),false);this.values.set(e,o);t=o.value;Object.defineProperty(n,e,yn(e));this.notifyPropertyAddition(e,t)};e.prototype.addComputedProp=function(e,t,r){var n=this.target;r.name=r.name||this.name+"."+D(t);this.values.set(t,new Xe(r));if(e===n||_(e,t))Object.defineProperty(e,t,_n(t))};e.prototype.remove=function(e){if(!this.values.has(e))return;var t=this.target;if(Vr(this)){var r=Jr(this,{object:this.proxy||t,name:e,type:"remove"});if(!r)return}try{pt();var n=Yr(this);var i=Ct();var o=this.values.get(e);var a=o&&o.get();o&&o.set(undefined);this.keysAtom.reportChanged();this.values.delete(e);if(this.pendingKeys){var s=this.pendingKeys.get(e);if(s)s.set(false)}delete this.target[e];var r=n||i?{type:"remove",object:this.proxy||t,oldValue:a,name:e}:null;if(i&&"production"!=="production")Rt(z(z({},r),{name:this.name,key:e}));if(n)Xr(this,r);if(i&&"production"!=="production")Mt()}finally{vt()}};e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")};e.prototype.observe=function(e,t){false&&false;return Kr(this,e)};e.prototype.intercept=function(e){return qr(this,e)};e.prototype.notifyPropertyAddition=function(e,t){var r=Yr(this);var n=Ct();var i=r||n?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(n&&"production"!=="production")Rt(z(z({},i),{name:this.name,key:e}));if(r)Xr(this,i);if(n&&"production"!=="production")Mt();if(this.pendingKeys){var o=this.pendingKeys.get(e);if(o)o.set(true)}this.keysAtom.reportChanged()};e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var r=[];try{for(var n=$(this.values),i=n.next();!i.done;i=n.next()){var o=G(i.value,2),a=o[0],s=o[1];if(s instanceof Ye)r.push(a)}}catch(t){e={error:t}}finally{try{if(i&&!i.done&&(t=n.return))t.call(n)}finally{if(e)throw e.error}}return r};return e}();function vn(e,t,r){if(t===void 0){t=""}if(r===void 0){r=Q}if(Object.prototype.hasOwnProperty.call(e,C))return e[C];false&&false;if(!m(e))t=(e.constructor.name||"ObservableObject")+"@"+s();if(!t)t="ObservableObject@"+s();var n=new pn(e,new Map,D(t),r);y(e,C,n);return n}var mn=Object.create(null);var gn=Object.create(null);function yn(e){return mn[e]||(mn[e]={configurable:true,enumerable:true,get:function(){return this[C].read(e)},set:function(t){this[C].write(e,t)}})}function bn(e){var t=e[C];if(!t){K(e);return e[C]}return t}function _n(e){return gn[e]||(gn[e]={configurable:ot.computedConfigurable,enumerable:false,get:function(){return bn(this).read(e)},set:function(t){bn(this).write(e,t)}})}var wn=E("ObservableObjectAdministration",pn);function En(e){if(v(e)){K(e);return wn(e[C])}return false}function Sn(e,t){if(typeof e==="object"&&e!==null){if(on(e)){if(t!==undefined)u(false&&false);return e[C].atom}if(dn(e)){return e[C]}if(ln(e)){var r=e;if(t===undefined)return r._keysAtom;var n=r._data.get(t)||r._hasMap.get(t);if(!n)u(false&&false);return n}K(e);if(t&&!e[C])e[t];if(En(e)){if(!t)return u(false&&false);var n=e[C].values.get(t);if(!n)u(false&&false);return n}if(R(e)||Ze(e)||Ot(e)){return e}}else if(typeof e==="function"){if(Ot(e[C])){return e[C]}}return u(false&&false)}function Tn(e,t){if(!e)u("Expecting some object");if(t!==undefined)return Tn(Sn(e,t));if(R(e)||Ze(e)||Ot(e))return e;if(ln(e)||dn(e))return e;K(e);if(e[C])return e[C];u(false&&false)}function An(e,t){var r;if(t!==undefined)r=Sn(e,t);else if(En(e)||ln(e)||dn(e))r=Tn(e);else r=Sn(e);return r.name}var xn=Object.prototype.toString;function Dn(e,t,r){if(r===void 0){r=-1}return On(e,t,r)}function On(e,t,r,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return false;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return false;var a=xn.call(e);if(a!==xn.call(t))return false;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return typeof Symbol!=="undefined"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":if(r>=0){r++}break}e=In(e);t=In(t);var s=a==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return false;var u=e.constructor,l=t.constructor;if(u!==l&&!(typeof u==="function"&&u instanceof u&&typeof l==="function"&&l instanceof l)&&("constructor"in e&&"constructor"in t)){return false}}if(r===0){return false}else if(r<0){r=-1}n=n||[];i=i||[];var c=n.length;while(c--){if(n[c]===e)return i[c]===t}n.push(e);i.push(t);if(s){c=e.length;if(c!==t.length)return false;while(c--){if(!On(e[c],t[c],r-1,n,i))return false}}else{var f=Object.keys(e);var h=void 0;c=f.length;if(Object.keys(t).length!==c)return false;while(c--){h=f[c];if(!(Cn(t,h)&&On(e[h],t[h],r-1,n,i)))return false}}n.pop();i.pop();return true}function In(e){if(on(e))return e.slice();if(T(e)||ln(e))return Array.from(e.entries());if(A(e)||dn(e))return Array.from(e.entries());return e}function Cn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kn(e){e[Symbol.iterator]=Rn;return e}function Rn(){return this}if(typeof Proxy==="undefined"||typeof Symbol==="undefined"){throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.")}try{"production"}catch(t){var Pn=rt();if(typeof e==="undefined")Pn.process={};Pn.process.env={}}(function(){function t(){}if(t.name!=="testCodeMinification"&&"production"!=="production"&&typeof e!=="undefined"&&e.env.IGNORE_MOBX_MINIFY_WARNING!=="true"){var r=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+r+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}})();if(typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__==="object"){__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Lt,extras:{getDebugName:An},$mobx:C})}}).call(this,r(3),r(5))},function(e,t,r){"use strict";(function(e){var n=r(170);var i=r(171);var o=r(172);t.Buffer=l;t.SlowBuffer=b;t.INSPECT_MAX_BYTES=50;l.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==undefined?e.TYPED_ARRAY_SUPPORT:a();t.kMaxLength=s();function a(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42&&typeof e.subarray==="function"&&e.subarray(1,1).byteLength===0}catch(e){return false}}function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t){throw new RangeError("Invalid typed array length")}if(l.TYPED_ARRAY_SUPPORT){e=new Uint8Array(t);e.__proto__=l.prototype}else{if(e===null){e=new l(t)}e.length=t}return e}function l(e,t,r){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l)){return new l(e,t,r)}if(typeof e==="number"){if(typeof t==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return d(this,e)}return c(this,e,t,r)}l.poolSize=8192;l._augment=function(e){e.__proto__=l.prototype;return e};function c(e,t,r,n){if(typeof t==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&t instanceof ArrayBuffer){return m(e,t,r,n)}if(typeof t==="string"){return p(e,t,r)}return g(e,t)}l.from=function(e,t,r){return c(null,e,t,r)};if(l.TYPED_ARRAY_SUPPORT){l.prototype.__proto__=Uint8Array.prototype;l.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&l[Symbol.species]===l){Object.defineProperty(l,Symbol.species,{value:null,configurable:true})}}function f(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}else if(e<0){throw new RangeError('"size" argument must not be negative')}}function h(e,t,r,n){f(t);if(t<=0){return u(e,t)}if(r!==undefined){return typeof n==="string"?u(e,t).fill(r,n):u(e,t).fill(r)}return u(e,t)}l.alloc=function(e,t,r){return h(null,e,t,r)};function d(e,t){f(t);e=u(e,t<0?0:y(t)|0);if(!l.TYPED_ARRAY_SUPPORT){for(var r=0;r<t;++r){e[r]=0}}return e}l.allocUnsafe=function(e){return d(null,e)};l.allocUnsafeSlow=function(e){return d(null,e)};function p(e,t,r){if(typeof r!=="string"||r===""){r="utf8"}if(!l.isEncoding(r)){throw new TypeError('"encoding" must be a valid string encoding')}var n=_(t,r)|0;e=u(e,n);var i=e.write(t,r);if(i!==n){e=e.slice(0,i)}return e}function v(e,t){var r=t.length<0?0:y(t.length)|0;e=u(e,r);for(var n=0;n<r;n+=1){e[n]=t[n]&255}return e}function m(e,t,r,n){t.byteLength;if(r<0||t.byteLength<r){throw new RangeError("'offset' is out of bounds")}if(t.byteLength<r+(n||0)){throw new RangeError("'length' is out of bounds")}if(r===undefined&&n===undefined){t=new Uint8Array(t)}else if(n===undefined){t=new Uint8Array(t,r)}else{t=new Uint8Array(t,r,n)}if(l.TYPED_ARRAY_SUPPORT){e=t;e.__proto__=l.prototype}else{e=v(e,t)}return e}function g(e,t){if(l.isBuffer(t)){var r=y(t.length)|0;e=u(e,r);if(e.length===0){return e}t.copy(e,0,0,r);return e}if(t){if(typeof ArrayBuffer!=="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t){if(typeof t.length!=="number"||te(t.length)){return u(e,0)}return v(e,t)}if(t.type==="Buffer"&&o(t.data)){return v(e,t.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=s()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+s().toString(16)+" bytes")}return e|0}function b(e){if(+e!=e){e=0}return l.alloc(+e)}l.isBuffer=function e(t){return!!(t!=null&&t._isBuffer)};l.compare=function e(t,r){if(!l.isBuffer(t)||!l.isBuffer(r)){throw new TypeError("Arguments must be Buffers")}if(t===r)return 0;var n=t.length;var i=r.length;for(var o=0,a=Math.min(n,i);o<a;++o){if(t[o]!==r[o]){n=t[o];i=r[o];break}}if(n<i)return-1;if(i<n)return 1;return 0};l.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};l.concat=function e(t,r){if(!o(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return l.alloc(0)}var n;if(r===undefined){r=0;for(n=0;n<t.length;++n){r+=t[n].length}}var i=l.allocUnsafe(r);var a=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s)){throw new TypeError('"list" argument must be an Array of Buffers')}s.copy(i,a);a+=s.length}return i};function _(e,t){if(l.isBuffer(e)){return e.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){e=""+e}var r=e.length;if(r===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case undefined:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Q(e).length;default:if(n)return K(e).length;t=(""+t).toLowerCase();n=true}}}l.byteLength=_;function w(e,t,r){var n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return F(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return L(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}l.prototype._isBuffer=true;function E(e,t,r){var n=e[t];e[t]=e[r];e[r]=n}l.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var r=0;r<t;r+=2){E(this,r,r+1)}return this};l.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var r=0;r<t;r+=4){E(this,r,r+3);E(this,r+1,r+2)}return this};l.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var r=0;r<t;r+=8){E(this,r,r+7);E(this,r+1,r+6);E(this,r+2,r+5);E(this,r+3,r+4)}return this};l.prototype.toString=function e(){var t=this.length|0;if(t===0)return"";if(arguments.length===0)return R(this,0,t);return w.apply(this,arguments)};l.prototype.equals=function e(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return l.compare(this,t)===0};l.prototype.inspect=function e(){var r="";var n=t.INSPECT_MAX_BYTES;if(this.length>0){r=this.toString("hex",0,n).match(/.{2}/g).join(" ");if(this.length>n)r+=" ... "}return"<Buffer "+r+">"};l.prototype.compare=function e(t,r,n,i,o){if(!l.isBuffer(t)){throw new TypeError("Argument must be a Buffer")}if(r===undefined){r=0}if(n===undefined){n=t?t.length:0}if(i===undefined){i=0}if(o===undefined){o=this.length}if(r<0||n>t.length||i<0||o>this.length){throw new RangeError("out of range index")}if(i>=o&&r>=n){return 0}if(i>=o){return-1}if(r>=n){return 1}r>>>=0;n>>>=0;i>>>=0;o>>>=0;if(this===t)return 0;var a=o-i;var s=n-r;var u=Math.min(a,s);var c=this.slice(i,o);var f=t.slice(r,n);for(var h=0;h<u;++h){if(c[h]!==f[h]){a=c[h];s=f[h];break}}if(a<s)return-1;if(s<a)return 1;return 0};function S(e,t,r,n,i){if(e.length===0)return-1;if(typeof r==="string"){n=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(isNaN(r)){r=i?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(i)return-1;else r=e.length-1}else if(r<0){if(i)r=0;else return-1}if(typeof t==="string"){t=l.from(t,n)}if(l.isBuffer(t)){if(t.length===0){return-1}return T(e,t,r,n,i)}else if(typeof t==="number"){t=t&255;if(l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(i){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return T(e,[t],r,n,i)}throw new TypeError("val must be string, number or Buffer")}function T(e,t,r,n,i){var o=1;var a=e.length;var s=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}o=2;a/=2;s/=2;r/=2}}function u(e,t){if(o===1){return e[t]}else{return e.readUInt16BE(t*o)}}var l;if(i){var c=-1;for(l=r;l<a;l++){if(u(e,l)===u(t,c===-1?0:l-c)){if(c===-1)c=l;if(l-c+1===s)return c*o}else{if(c!==-1)l-=l-c;c=-1}}}else{if(r+s>a)r=a-s;for(l=r;l>=0;l--){var f=true;for(var h=0;h<s;h++){if(u(e,l+h)!==u(t,h)){f=false;break}}if(f)return l}}return-1}l.prototype.includes=function e(t,r,n){return this.indexOf(t,r,n)!==-1};l.prototype.indexOf=function e(t,r,n){return S(this,t,r,n,true)};l.prototype.lastIndexOf=function e(t,r,n){return S(this,t,r,n,false)};function A(e,t,r,n){r=Number(r)||0;var i=e.length-r;if(!n){n=i}else{n=Number(n);if(n>i){n=i}}var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");if(n>o/2){n=o/2}for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function x(e,t,r,n){return ee(K(t,e.length-r),e,r,n)}function D(e,t,r,n){return ee(X(t),e,r,n)}function O(e,t,r,n){return D(e,t,r,n)}function I(e,t,r,n){return ee(Q(t),e,r,n)}function C(e,t,r,n){return ee(Z(t,e.length-r),e,r,n)}l.prototype.write=function e(t,r,n,i){if(r===undefined){i="utf8";n=this.length;r=0}else if(n===undefined&&typeof r==="string"){i=r;n=this.length;r=0}else if(isFinite(r)){r=r|0;if(isFinite(n)){n=n|0;if(i===undefined)i="utf8"}else{i=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var o=this.length-r;if(n===undefined||n>o)n=o;if(t.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!i)i="utf8";var a=false;for(;;){switch(i){case"hex":return A(this,t,r,n);case"utf8":case"utf-8":return x(this,t,r,n);case"ascii":return D(this,t,r,n);case"latin1":case"binary":return O(this,t,r,n);case"base64":return I(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase();a=true}}};l.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,r){if(t===0&&r===e.length){return n.fromByteArray(e)}else{return n.fromByteArray(e.slice(t,r))}}function R(e,t,r){r=Math.min(e.length,r);var n=[];var i=t;while(i<r){var o=e[i];var a=null;var s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){var u,l,c,f;switch(s){case 1:if(o<128){a=o}break;case 2:u=e[i+1];if((u&192)===128){f=(o&31)<<6|u&63;if(f>127){a=f}}break;case 3:u=e[i+1];l=e[i+2];if((u&192)===128&&(l&192)===128){f=(o&15)<<12|(u&63)<<6|l&63;if(f>2047&&(f<55296||f>57343)){a=f}}break;case 4:u=e[i+1];l=e[i+2];c=e[i+3];if((u&192)===128&&(l&192)===128&&(c&192)===128){f=(o&15)<<18|(u&63)<<12|(l&63)<<6|c&63;if(f>65535&&f<1114112){a=f}}}}if(a===null){a=65533;s=1}else if(a>65535){a-=65536;n.push(a>>>10&1023|55296);a=56320|a&1023}n.push(a);i+=s}return M(n)}var P=4096;function M(e){var t=e.length;if(t<=P){return String.fromCharCode.apply(String,e)}var r="";var n=0;while(n<t){r+=String.fromCharCode.apply(String,e.slice(n,n+=P))}return r}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i]&127)}return n}function N(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i){n+=String.fromCharCode(e[i])}return n}function F(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var i="";for(var o=t;o<r;++o){i+=Y(e[o])}return i}function j(e,t,r){var n=e.slice(t,r);var i="";for(var o=0;o<n.length;o+=2){i+=String.fromCharCode(n[o]+n[o+1]*256)}return i}l.prototype.slice=function e(t,r){var n=this.length;t=~~t;r=r===undefined?n:~~r;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<t)r=t;var i;if(l.TYPED_ARRAY_SUPPORT){i=this.subarray(t,r);i.__proto__=l.prototype}else{var o=r-t;i=new l(o,undefined);for(var a=0;a<o;++a){i[a]=this[a+t]}}return i};function B(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)B(t,r,this.length);var i=this[t];var o=1;var a=0;while(++a<r&&(o*=256)){i+=this[t+a]*o}return i};l.prototype.readUIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n){B(t,r,this.length)}var i=this[t+--r];var o=1;while(r>0&&(o*=256)){i+=this[t+--r]*o}return i};l.prototype.readUInt8=function e(t,r){if(!r)B(t,1,this.length);return this[t]};l.prototype.readUInt16LE=function e(t,r){if(!r)B(t,2,this.length);return this[t]|this[t+1]<<8};l.prototype.readUInt16BE=function e(t,r){if(!r)B(t,2,this.length);return this[t]<<8|this[t+1]};l.prototype.readUInt32LE=function e(t,r){if(!r)B(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};l.prototype.readUInt32BE=function e(t,r){if(!r)B(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};l.prototype.readIntLE=function e(t,r,n){t=t|0;r=r|0;if(!n)B(t,r,this.length);var i=this[t];var o=1;var a=0;while(++a<r&&(o*=256)){i+=this[t+a]*o}o*=128;if(i>=o)i-=Math.pow(2,8*r);return i};l.prototype.readIntBE=function e(t,r,n){t=t|0;r=r|0;if(!n)B(t,r,this.length);var i=r;var o=1;var a=this[t+--i];while(i>0&&(o*=256)){a+=this[t+--i]*o}o*=128;if(a>=o)a-=Math.pow(2,8*r);return a};l.prototype.readInt8=function e(t,r){if(!r)B(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};l.prototype.readInt16LE=function e(t,r){if(!r)B(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};l.prototype.readInt16BE=function e(t,r){if(!r)B(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};l.prototype.readInt32LE=function e(t,r){if(!r)B(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};l.prototype.readInt32BE=function e(t,r){if(!r)B(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};l.prototype.readFloatLE=function e(t,r){if(!r)B(t,4,this.length);return i.read(this,t,true,23,4)};l.prototype.readFloatBE=function e(t,r){if(!r)B(t,4,this.length);return i.read(this,t,false,23,4)};l.prototype.readDoubleLE=function e(t,r){if(!r)B(t,8,this.length);return i.read(this,t,true,52,8)};l.prototype.readDoubleBE=function e(t,r){if(!r)B(t,8,this.length);return i.read(this,t,false,52,8)};function U(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}l.prototype.writeUIntLE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var o=Math.pow(2,8*n)-1;U(this,t,r,n,o,0)}var a=1;var s=0;this[r]=t&255;while(++s<n&&(a*=256)){this[r+s]=t/a&255}return r+n};l.prototype.writeUIntBE=function e(t,r,n,i){t=+t;r=r|0;n=n|0;if(!i){var o=Math.pow(2,8*n)-1;U(this,t,r,n,o,0)}var a=n-1;var s=1;this[r+a]=t&255;while(--a>=0&&(s*=256)){this[r+a]=t/s&255}return r+n};l.prototype.writeUInt8=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,1,255,0);if(!l.TYPED_ARRAY_SUPPORT)t=Math.floor(t);this[r]=t&255;return r+1};function z(e,t,r,n){if(t<0)t=65535+t+1;for(var i=0,o=Math.min(e.length-r,2);i<o;++i){e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}}l.prototype.writeUInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{z(this,t,r,true)}return r+2};l.prototype.writeUInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{z(this,t,r,false)}return r+2};function $(e,t,r,n){if(t<0)t=4294967295+t+1;for(var i=0,o=Math.min(e.length-r,4);i<o;++i){e[r+i]=t>>>(n?i:3-i)*8&255}}l.prototype.writeUInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255}else{$(this,t,r,true)}return r+4};l.prototype.writeUInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{$(this,t,r,false)}return r+4};l.prototype.writeIntLE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var o=Math.pow(2,8*n-1);U(this,t,r,n,o-1,-o)}var a=0;var s=1;var u=0;this[r]=t&255;while(++a<n&&(s*=256)){if(t<0&&u===0&&this[r+a-1]!==0){u=1}this[r+a]=(t/s>>0)-u&255}return r+n};l.prototype.writeIntBE=function e(t,r,n,i){t=+t;r=r|0;if(!i){var o=Math.pow(2,8*n-1);U(this,t,r,n,o-1,-o)}var a=n-1;var s=1;var u=0;this[r+a]=t&255;while(--a>=0&&(s*=256)){if(t<0&&u===0&&this[r+a+1]!==0){u=1}this[r+a]=(t/s>>0)-u&255}return r+n};l.prototype.writeInt8=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,1,127,-128);if(!l.TYPED_ARRAY_SUPPORT)t=Math.floor(t);if(t<0)t=255+t+1;this[r]=t&255;return r+1};l.prototype.writeInt16LE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8}else{z(this,t,r,true)}return r+2};l.prototype.writeInt16BE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[r]=t>>>8;this[r+1]=t&255}else{z(this,t,r,false)}return r+2};l.prototype.writeInt32LE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,4,2147483647,-2147483648);if(l.TYPED_ARRAY_SUPPORT){this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24}else{$(this,t,r,true)}return r+4};l.prototype.writeInt32BE=function e(t,r,n){t=+t;r=r|0;if(!n)U(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;if(l.TYPED_ARRAY_SUPPORT){this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255}else{$(this,t,r,false)}return r+4};function G(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function H(e,t,r,n,o){if(!o){G(e,t,r,4,34028234663852886e22,-34028234663852886e22)}i.write(e,t,r,n,23,4);return r+4}l.prototype.writeFloatLE=function e(t,r,n){return H(this,t,r,true,n)};l.prototype.writeFloatBE=function e(t,r,n){return H(this,t,r,false,n)};function W(e,t,r,n,o){if(!o){G(e,t,r,8,17976931348623157e292,-17976931348623157e292)}i.write(e,t,r,n,52,8);return r+8}l.prototype.writeDoubleLE=function e(t,r,n){return W(this,t,r,true,n)};l.prototype.writeDoubleBE=function e(t,r,n){return W(this,t,r,false,n)};l.prototype.copy=function e(t,r,n,i){if(!n)n=0;if(!i&&i!==0)i=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(i>0&&i<n)i=n;if(i===n)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");if(i>this.length)i=this.length;if(t.length-r<i-n){i=t.length-r+n}var o=i-n;var a;if(this===t&&n<r&&r<i){for(a=o-1;a>=0;--a){t[a+r]=this[a+n]}}else if(o<1e3||!l.TYPED_ARRAY_SUPPORT){for(a=0;a<o;++a){t[a+r]=this[a+n]}}else{Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r)}return o};l.prototype.fill=function e(t,r,n,i){if(typeof t==="string"){if(typeof r==="string"){i=r;r=0;n=this.length}else if(typeof n==="string"){i=n;n=this.length}if(t.length===1){var o=t.charCodeAt(0);if(o<256){t=o}}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(typeof i==="string"&&!l.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}}else if(typeof t==="number"){t=t&255}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;var a;if(typeof t==="number"){for(a=r;a<n;++a){this[a]=t}}else{var s=l.isBuffer(t)?t:K(new l(t,i).toString());var u=s.length;for(a=0;a<n-r;++a){this[a+r]=s[a%u]}}return this};var V=/[^+\/0-9A-Za-z-_]/g;function q(e){e=J(e).replace(V,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function J(e){if(e.trim)return e.trim();return e.replace(/^\s+|\s+$/g,"")}function Y(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function K(e,t){t=t||Infinity;var r;var n=e.length;var i=null;var o=[];for(var a=0;a<n;++a){r=e.charCodeAt(a);if(r>55295&&r<57344){if(!i){if(r>56319){if((t-=3)>-1)o.push(239,191,189);continue}else if(a+1===n){if((t-=3)>-1)o.push(239,191,189);continue}i=r;continue}if(r<56320){if((t-=3)>-1)o.push(239,191,189);i=r;continue}r=(i-55296<<10|r-56320)+65536}else if(i){if((t-=3)>-1)o.push(239,191,189)}i=null;if(r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return o}function X(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function Z(e,t){var r,n,i;var o=[];for(var a=0;a<e.length;++a){if((t-=2)<0)break;r=e.charCodeAt(a);n=r>>8;i=r%256;o.push(i);o.push(n)}return o}function Q(e){return n.toByteArray(q(e))}function ee(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function te(e){return e!==e}}).call(this,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimBaseApi=void 0;const n=r(28);const i=r(9);const o=r(7);const a=r(6);const s=r(127);const u=r(32);const l=r(0);const c=a.Logger.getLogger("base-api-logger");class f{constructor(e=new s.CallOrderScheduler){this.callOrderScheduler=e}changeTestimBaseUrl(e){this.baseUrl=e}get(e,t,r={},i=2,o=1e3){return(0,n.default)((()=>this.request((()=>this.rawGet(e,t,{...this.getAuthHeader(),...r}))).catch((e=>{if(e&&e.status===401){return}throw e}))),{retries:i,minTimeout:o})}getAuthHeader(){const e=this.authenticationManager;if(!e.loginData){return{}}return{Authorization:`Bearer ${e.loginData.token}`,refreshtoken:e.loginData.refreshToken||""}}refreshToken(e,t){return this.rawPostJson("/auth/refreshToken",{token:e,refreshToken:t})}getNewToken(e){if(e===null||e===void 0?void 0:e.refreshToken){if(this.pendingRefreshTokenPromise){return this.pendingRefreshTokenPromise}const t=this.refreshToken(e.token||"",e.refreshToken).catch((e=>{c.error("failed to call refresh token, logout",e);this.authenticationManager.logout(o.commonConstants.user.SESSION_INACTIVE)}));this.pendingRefreshTokenPromise=t;t.finally((()=>delete this.pendingRefreshTokenPromise));return t}if(i.utils.isNode()){return Promise.reject(new Error("failed to refresh token"))}c.log("getNewToken",{expires:e===null||e===void 0?void 0:e.tokenExpIn,doesLoginDataExist:Boolean(e),doesRefreshTokenExist:Boolean(e===null||e===void 0?void 0:e.refreshToken),doesTokenExist:Boolean(e===null||e===void 0?void 0:e.token)});return Promise.reject(new n.AbortError(new Error("failed to refresh token")))}getToken(){return(0,l.untracked)((async()=>{const e=this.authenticationManager;const{loginData:t}=e;const r=t===null||t===void 0?void 0:t.token;if(r&&e.isTokenAlive()){return r}const i=await(0,n.default)((()=>this.getNewToken(t)),{retries:2});const{token:o,refreshToken:a}=i;if(o||a){e.updateDataOnRefreshToken(i);return o}throw new Error("refresh token data is invalid")}))}async refreshTokenOnExp(e){const t=await this.getToken();return await e({token:t})}async request(e){try{return await this.refreshTokenOnExp(e)}catch(e){if(e.status===401){c.error("got 401, logout",e);this.authenticationManager.logout()}throw e}}rawHead(e,t={},r){return u.httpRequest.head(this.baseUrl+e,t,r)}rawPostJson(e,t,r={},n,i,o){return u.httpRequest.postJson(this.baseUrl+e,t,r,n,i,o)}rawPutJson(e,t,r={},n,i){return u.httpRequest.putJson(this.baseUrl+e,t,r,n,i)}rawGet(e,t,r={}){return u.httpRequest.get(this.baseUrl+e,t,r)}rawGetJson(e,t={}){return u.httpRequest.getJson(this.baseUrl+e,t)}urlContainsFakeProjectId(e){return e&&(e.includes(`/${o.commonConstants.defaults.FAKE_CODE_PROJECT_ID}`)||e.includes(`projectId=${o.commonConstants.defaults.FAKE_CODE_PROJECT_ID}`))}getJson(e,t,r=2,i=1e3,o=true){const a=()=>this.rawGetJson(e,t||this.getAuthHeader());const s=()=>this.request(a).catch((e=>{if(o&&e&&e.status===401){return}throw e}));if(this.urlContainsFakeProjectId(e)){return a()}return(0,n.default)(s,{retries:r,minTimeout:i})}putJson(e,t,r,n){const i=()=>this.rawPutJson(e,t,this.getAuthHeader(),r,n);if((t===null||t===void 0?void 0:t.projectId)===o.commonConstants.defaults.FAKE_CODE_PROJECT_ID||this.urlContainsFakeProjectId(e)){return i()}return this.request(i)}head(e,t){const r=()=>this.rawHead(e,this.getAuthHeader(),t);if(this.urlContainsFakeProjectId(e)){return r()}return this.request(r)}postJson(e,t,r,n,i){const a=()=>this.rawPostJson(e,t,this.getAuthHeader(),r,n,i);if((t===null||t===void 0?void 0:t.projectId)===o.commonConstants.defaults.FAKE_CODE_PROJECT_ID||this.urlContainsFakeProjectId(e)){return a()}return this.request(a)}deleteJson(e,t){return this.request((()=>u.httpRequest.delete(this.baseUrl+e,t,this.getAuthHeader())))}postFormData(e,t,r,n={},i,o){return this.request((()=>u.httpRequest.postFormData(this.baseUrl+e,t,r,{...this.getAuthHeader(),...n},i,o)))}postFormDataWithRetries(e,t,r,i=2,o=1e3,a={},s,u){return(0,n.default)((()=>this.postFormData(e,t,r,a,s,u)),{retries:i,minTimeout:o})}postFormDataWithProgress(e,t,r,i=2,o=1e3,a={},s,l,c){return(0,n.default)((()=>u.httpRequest.postFormDataWithProgress(this.baseUrl+e,t,r,{...this.getAuthHeader(),...a},s,l,c)),{retries:i,minTimeout:o})}waitUntilAllStartsWithKeysFulfilled(e){return this.callOrderScheduler.waitUntilAllStartsWithKeysFulfilled(e)}updateAndRetry(e,t,r=600){return this.callOrderScheduler.schedule(e,{key:t||"",retry:true,retries:r,minTimeout:3e3})}}t.TestimBaseApi=f},function(e,t){var r=e.exports={};var n;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=o}}catch(e){n=o}try{if(typeof clearTimeout==="function"){i=clearTimeout}else{i=a}}catch(e){i=a}})();function s(e){if(n===setTimeout){return setTimeout(e,0)}if((n===o||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(i===clearTimeout){return clearTimeout(e)}if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var l=[];var c=false;var f;var h=-1;function d(){if(!c||!f){return}c=false;if(f.length){l=f.concat(l)}else{h=-1}if(l.length){p()}}function p(){if(c){return}var e=s(d);c=true;var t=l.length;while(t){f=l;l=[];while(++h<t){if(f){f[h].run()}}h=-1;t=l.length}f=null;c=false;u(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}l.push(new v(e,t));if(l.length===1&&!c){s(p)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function m(){}r.on=m;r.addListener=m;r.once=m;r.off=m;r.removeListener=m;r.removeAllListeners=m;r.emit=m;r.prependListener=m;r.prependOnceListener=m;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t.isNodePattern=a;t.throwError=s;t.scan=u;t.scanIterator=l;var i=n(r(215));var o=i["default"].mark(l);function a(e){if(typeof e==="undefined"){return false}if(typeof e!=="function"){throw new TypeError("Callback must be a function")}return true}function s(e,t){if(typeof e==="string"){e=new Error(e)}if(typeof t==="function"){return t.call(this,e)}throw e}function u(e,t,r,n,i,o){t=Math.round(t);r=Math.round(r);n=Math.round(n);i=Math.round(i);for(var a=r;a<r+i;a++){for(var s=t;s<t+n;s++){var u=e.bitmap.width*a+s<<2;o.call(e,s,a,u)}}return e}function l(e,t,r,n,a){var s,u,l;return i["default"].wrap((function i(o){while(1){switch(o.prev=o.next){case 0:t=Math.round(t);r=Math.round(r);n=Math.round(n);a=Math.round(a);s=r;case 5:if(!(s<r+a)){o.next=17;break}u=t;case 7:if(!(u<t+n)){o.next=14;break}l=e.bitmap.width*s+u<<2;o.next=11;return{x:u,y:s,idx:l,image:e};case 11:u++;o.next=7;break;case 14:s++;o.next=5;break;case 17:case"end":return o.stop()}}}),o)}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){if(typeof window==="object")r=window}e.exports=r},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.Logger=void 0;const n=r(11);const i=r(27);const o=r(38);const a=50;const s=2e3;let u=[];let l=[];const c="d0eb01da-f966-1663-63c6-8871225d7c39";const f="testim";const h=e.env.isClickimEditor?"clickim-editor":"clickim";const d="https://api.coralogix.com/api/v1/logs";let p=true;const v={};const m=()=>{if(u.length>0){A(u,c);u=[]}if(l.length>0){A(l,c);l=[]}};const g=setInterval(m,s);function y(e,t){if(false){}const r=Object.assign({type:"Log",message:e,timestamp:Date.now()},t);l.push(r);if(l.length>a){m()}}function b(e,t,r,n){if(false){}const i={type:t,message:e,loggerName:n,timestamp:Date.now(),app:true&&"MobileMirror"||false||false};if(false){}if(true){const e={release:true,branch:"production"};Object.assign(i,e)}if(true){const e={app:"CI"};Object.assign(i,e)}Object.assign(i,r);u.push(i);if(u.length>a){m()}}const _={Debug:1,Verbose:2,Log:3,Warn:4,Error:5,Exception:6};let w="Log";try{w=i.injectorUtils.isNode()&&e.env.LOGGER_LEVEL||typeof localStorage!=="undefined"&&localStorage.getItem("testim_log_level")||"Log";if(!(w in _)){w="Log"}}catch{}let E=false;try{E=typeof localStorage!=="undefined"&&w.toLowerCase()==="verbose"}catch{}const S=i.injectorUtils.isNode()&&parseInt(e.env.LOGGER_CONSOLE||"0",10);const T=E||S;function A(e,t){const r=e.map((e=>({timestamp:e.timestamp,severity:_[e.type],text:JSON.stringify(e),category:e.app,className:e.loggerName})));const n={privateKey:t,applicationName:f,subsystemName:h,logEntries:r};try{const e=new XMLHttpRequest;e.open("POST",d,true);e.setRequestHeader("Content-type","application/json; charset=UTF-8");e.send(JSON.stringify(n))}catch(e){}}class x{static setGlobalInfo(e){Object.assign(v,e)}static setGlobalInfoGetter(e,t){Object.defineProperty(v,e,{get:t})}static getGlobalInfo(){return v}static getLogger(e){return new x(e)}static clearLoggerInterval(){clearInterval(g)}constructor(e){this.name=e;this.info={}}static disable(){p=false}static enable(){p=true}static replaceErrors(e,t){if(t instanceof o.TypedHttpError){return n.pick(t,"status","message","stack","timedout")}if(t instanceof Error){return n.pick(t,Object.getOwnPropertyNames(t))}return t}report(e,t,r){if(!p){return}r=Array.apply([],r);r=r.map((e=>{if(typeof e==="object"){return JSON.stringify(e,x.replaceErrors)}return e}));if(_[e]>=_[w]){const t=Object.assign({},x.getGlobalInfo(),this.info);b(r.join(" "),e,t,this.name)}if(T){t.apply(console,r)}}setInfo(e){Object.assign(this.info,e||{})}debug(...e){this.report("Debug",console.debug,e)}verbose(...e){this.report("Verbose",console.info,e)}log(...e){this.report("Log",console.log,e)}warn(...e){this.report("Warn",console.warn,e)}error(...e){this.report("Error",console.error,e)}exception(...e){this.report("Exception",console.error,e)}logAnalytics(e,t){if(!p){return}y(e,t)}}t.Logger=x}).call(this,r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.tooltipText=t.SHARED_STEP_DISABLED_REASON=t.TEST_RESULT=t.RUNNER_STATUS=t.TEST_STATUS=t.mockNetworkStorage=t.sharedStepsFriendlyNames=t.serverResponses=t.locateBannerMode=t.ITERATION_METHODS=t.HOOK=t.improveLocatorDiff=t.window=t.user=t.testStatus=t.test=t.tab=t.stepStatus=t.stepResult=t.socketEventTypes=t.scenario=t.recording=t.recaptcha=t.playback=t.plans=t.plan=t.locators=t.localStorage=t.localPlayback=t.host=t.grids=t.gridTypes=t.frame=t.exportScopes=t.error=t.defaults=t.company=t.bugim=t.assignTypes=t.applitools=t.KEYS=t.AUT=t.RECORD_BUTTON_ID=t.MASTER_BRANCH=t.TESTIM_EXTENSION_ID=t.commonConstants=t.FOLDER_CHILD_TYPES=t.MOBILE_RUN_SKIP_REASON=t.MINUTE_IN_MS=t.SECOND_IN_MS=void 0;t.SIGNUP_COUNTRY_KEY=t.SECRET_CREDENTIAL_MASK=t.MOBILE_GRID_UI=t.MOBILE_GRID_API=t.MOBILE_SKIP_REASON_MAP=t.INPUT_TYPES=t.KEY_BINDING_LAYERS=t.DEBUGGER=t.globalSelectors=t.MOBILE_SOCKET_EVENTS_TYPES=t.MOBILE_APP_MIME_TYPES=t.MOBILE_APP_FILE_TYPES=t.mobile=void 0;const n=r(84);t.SECOND_IN_MS=1e3;t.MINUTE_IN_MS=60*t.SECOND_IN_MS;const i=1366;const o=768;const a={GRID_TYPE_LOCAL:"local",GRID_TYPE_TESTIM_HYBRID:"testimHybrid",GRID_TYPE_TESTIM:"testim",GRID_TYPE_TESTIM_ENTERPRISE:"testimEnterprise",GRID_TYPE_TESTIM_DF:"testimDF",GRID_TYPE_LAMBDA_TEST:"testimLambdaTest",GRID_TYPE_HEADSPIN:"testimHeadspin",GRID_TYPE_BROWSERSTACK:"browserstack",GRID_TYPE_SAUCELABS:"saucelabs",GRID_TYPE_LAMBDATEST:"lambdaTest",GRID_TYPE_TESTIM_TDC:"testimTDC",GRID_TYPE_TESTIM_TVC:"testimTVC",GRID_TYPE_P_CLOUDY:"pcloudy"};t.MOBILE_RUN_SKIP_REASON={APP_FROM_DEVICE:"app-from-device",VIRTUAL_BUILD:"virtual-build"};const s={TESTIM_EXTENSION_ID:"pebeiooilphfmbohdbhbomomkkoghoia",MASTER_BRANCH:"master",RECORD_BUTTON_ID:"recordButton",defaults:{FAKE_CODE_USER_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6InhNaFRnV2JhVnY4Mk5yd0Zha2UiLCJpYXQiOjE1ODI4MjQ1MzQsImV4cCI6MTU4MjgyODEzNH0.Z58qS1nNsIoecuRU-RTfGIZZTEumaMy09UQe4ixbJWo",FAKE_CODE_USER_ID:"xMhTgWbaVv82NrwFake",FAKE_CODE_PROJECT_ID:"CHMRBxJ3WhpvyTGFake",FAKE_CODE_COMPANY_ID:"BCGb2yggS42UqnzFake",ADMIN_DEFAULT_PROJECT_ID:"zVMJIuYWllNybCyUcdQI",DEMO_PROJECT_ID:"GYXR2qZC",DEMO_COMPANY_ID:"y36w0N2f4GxNoqDc",TTA_SFDC_DEMO_PROJECT_ID:"WPZPXX3rnCpFZOSFPzYi",TTA_SFDC_DEMO_TOUR_TEST_ID:"cn7ezr0TbdWGwiFf",TTA_SFDC_DEMO_COMPANY_ID:"NxPdK6XlPtKtZjSDNZAk",SMALL_SCREEN:{width:i,height:o},DEFAULT_PAGE_URL:"https://app.testim.io/welcome.html"},user:{LOGIN:"user-login",LOGOUT:"user-logout",SESSION_INACTIVE:"user-session-inactive",UNASSIGNED_USER:"Unassigned"},plans:{FREE:"free",TRIAL:"trial",ENTERPRISE:"enterprise",STARTUP:"startup",ESSENTIALS:"essentials"},window:{OPEN_WINDOW:"open-window",OPEN_LOCAL_RUN_WINDOW:"open-local-run-window",FRAME_COMPLETED:"window:frame_completed",TAB_ACTIVATED:"window:tab_activated",TAB_FOCUS_CHANGED:"window:tab_focus_changed"},host:{EXTENSION_INSTALLED:"does-extension-exist",EXTENSION_UPDATE_EXISTS:"update-exists",EXTENSION_DO_UPDATE:"force-update-extension",EXTENSION_PING:"extension-ping",AUT_PORT:"TestimAUT",CONSOLE_PORT:"TestimConsole",EXTENSION_SRV_PORT:"TestimExtensionSrv",ERROR:"error",GET_LOCATOR:"get-locator",GET_LOCATOR_RESULT:"get-locator-result",HTTP_REQUEST:"http-request",RESPONSE:"response",SESSION_STARTED:"session-started",SET_PROJECT:"host:set-project",UPDATE_PROJECT_DEFAULTS:"host:update-project-defaults",START_SESSION:"start-session",PORT_REGISTERED:"port-registered",CONNECTED:"host:connected",CONNECTED_ACK:"host:connected_ack",SET_COMPANY:"host:set-company",INSTALLED:"host:installed",OPEN_EXTENSION_MANAGER:"host:open-extension-manager",GET_ACTIVE_TAB:"host:get-active-tab",GET_LAST_ACTIVE_TAB:"host:get-last-active-tab",USER_CANCELLED_INSTALLATION:"extension:user-cancelled-installation",DEV_EXTENSION_VERSION:"0.10.23",ANALYTICS_TRACK:"host:analytics-track",SET_RECORDING_CONFIGURATION:"host:SET_RECORDING_CONFIGURATION",EXTENSION_LAB_FEATURES_CHANGED:"host:lab-features-changed",DEVICE_MIRRORING_PORT:"DEVICE_MIRRORING"},bugim:{ADD_ANNOTATE_STEP:"bugim:add-annotate-step",ANALYTICS_TRACK:"bugim:analytics-track",ANNOTATE:"bugim:annotate",CAPTURE_SCREENSHOT:"bugim:capture-screenshot",CLOSE_BUGIM:"bugim:close-bugim",CURRENT_DATA:"bugim:current-data",DISCARD_ISSUE:"bugim:discard-issue",FAB_IS_ON:"bugim:fab-is-on",LOGGER:"bugim:logger",LOGIN_DATA:"bugim:login-data",PROJECT_ID:"bugim:project-id",PUBLISH_SUCCESS:"bugim:publish-success",RECORD:"bugim:record",RECORD_BUG:"bugim:record-bug",RECORD_COMPLETED:"bugim:record-completed",RECORD_START_TIME:"bugim:record-start-time",REQUEST_ANNOTATE:"bugim:request-annotate",RESTART_CAPTURE_SCREENSHOT:"bugim:restart-capture-screenshot",RESTART_RECORD_BUG:"bugim:restart-record-bug",SAVE_TEST:"bugim:save-test",SET_CURRENT_DATA:"bugim:set-current-data",TEST_DATA:"bugim:test-data",UPLOAD_BASE64_AS_BLOB:"bugim:upload-base64-as-blob",VIDEO_RECORDING_START:"bugim:video-recording-start"},localStorage:{SAVE:"save-to-local-storage",GET:"get-from-local-storage"},localPlayback:{STEP_RESULT_UPDATED:"local-step-result-updated",SETUP_STEP_RESULT_UPDATED:"local-setup-step-result-updated",TEST_RESULT_UPDATED:"test-result-updated",RUN_CONFIG_PARAMS_RESULT:"local-run-config-params-result-updated",STEP_ADDED:"local-step-added",STEP_UPDATED:"local-step-updated",TEST_UPDATED:"local-test-updated",TEST_CONFIG_UPDATED:"local-test-config-updated",TEST_ENDED:"local-test-ended",SEND_API_REQUEST:"send-api-request",ABORT_EXECUTION:"abort-execution"},playback:{DONE:"playback:done",RESULT:"playback:result",SETUP_DONE:"playback:setup_finished",SETUP_STEP:"playback:setup",START:"playback:start",STEP:"playback:step",SHUTDOWN:"playback:shutdown"},recording:{NEW_DOWNLOAD_ITEM:"new-download-item"},scenario:{SHARED_STEP_REVISION_CHANGED:"shared-step-revision-changed",PLAYING:"scenario:playing",ADD_BREAKPOINT:"add-breakpoint",REMOVE_BREAKPOINT:"remove-breakpoint",ADD_SHARED_STEP:"add-shared-step",ADD_STEP:"add-step",ADD_ACCESSIBILITY_PAGE_VALIDATION_STEP:"add-accessibility-page-validation-step",APP_LOGIN:"app-login",APP_LOGOUT:"app-logout",SET_TMA_APPIUM_URLS:"set_TMA_APPIUM_urls",CANCEL_GET_ELEMENT:"cancel-get-element",CAPTURE_SCREENSHOT:"capture-screenshot",DELETE_STEP:"delete-step",GET_LOCATOR:"get-locator",HIGHLIGHT_LOCATE_STEP:"highlight-locate-step",IS_INCOGNITO_ALLOWED:"is-incognito-allowed",IS_FILE_SCHEME_ACCESS_ALLOWED:"is-file-scheme-access-allowed",PAUSE_PLAY:"pause-play",PLAY_STEP:"play-step",PROJECT_SELECTED:"project-selected",PROJECT_CHANGED:"project-changed",BRANCH_CHANGE:"branch-change",BRANCH_CREATED:"branch-created",CURRENT_BRANCH_UPDATE:"current-branch-update",BRANCH_CHANGED:"branch-changed",BRANCH_DELETED:"branch-deleted",BRANCH_REVIEW_REQUIRED_CHANGE:"branch-review-required-change",PROJECTS_LOADED:"projects-loaded",PURGE_LAST_STEP_DATA:"purge-last-step-data",REMOVE_ALL_BREAKPOINTS:"remove-all-breakpoints",RUN_FROM_HERE:"run-from-here",OPEN_AUT:"open-aut",START_RECORDING:"start-recording",TOGGLE_HIGHLIGHT_MOBILE:"toggle-highlight-mobile",FOCUS_MAIN_TAB:"focus-main-tab",NO_TABS_IN_SESSION:"no-tabs-in-session",CREATED_TAB_IN_SESSION:"created-tab-in-session",STOP_PLAY:"stop-play",STOP_RECORDING:"stop-recording",TEST_STOPPED:"test-stopped",TOGGLE_PLAY:"toggle-play",PLAY_WITHOUT_DEBUG:"play-without-debug",PLAY_CODELESS_LOCAL:"play-codeless-local",UPDATE_STEP:"update-step",UPDATE_TEST_MANUALLY:"update-test-manually",SET_BASE_URL_MANUALLY:"set-base-url-manually",ADD_SHARED_STEP_MANUALLY:"add-shared-step-manually",ADD_GROUP_MANUALLY:"add-group-manually",ADD_STEP_MANUALLY:"add-step-manually",UPDATE_STEP_MANUALLY:"update-step-manually",UPDATE_LOCATE_STEP_MANUALLY:"update-locate-step-manually",UPDATE_FORCE_VISIBILITY_MANUALLY:"update-force-visibility-manually",ADD_CONDITION_STEP_MANUALLY:"add-condition-step-manually",DELETE_STEP_MANUALLY:"delete-step-manually",TEST_SAVED:"test:saved",COMPANY_SELECTED:"company-selected",COMPANY_CHANGED:"company-changed",CONDITION_STEP:n.ConditionType.CUSTOM,RESIZE_WINDOW_STEP:"resize-window",SHARED_STEP_INSTANCE:"shared-step-instance",CHECK_AGENT_CONNECTION:"check-agent-connection",CONDITION_DEFAULT_FAILED_TIMEOUT:500,CONDITION_DEFAULT_PASSED_TIMEOUT:500},stepResult:{SETUP_TIMEOUT:"setup-timeout",HTML_ATTRIBUTE_NOT_FOUND:"html-attribute-not-found",HTML_ATTRIBUTE_COMPARE_FAILURE:"html-attribute-compare-failure",UNKNOWN_MOBILE_ATTRIBUTE:"unknown-mobile-attribute",CSS_PROPERTY_NOT_FOUND:"css-prop-not-found",CSS_PROPERTY_COMPARE_FAILURE:"css-prop-compare-failure",ELEMENT_NOT_FOUND:"element-not-found",CONTEXT_ELEMENT_NOT_FOUND:"context-element-not-found",ELEMENT_NOT_VISIBLE:"element-not-visible",ELEMENT_VISIBLE:"element-visible",FAILED_OPACITY:"failed-opacity",FRAME_NOT_VISIBLE:"frame-not-visible",VISIBILITY_IS_HIDDEN:"visibility-is-hidden",ELEMENT_OUTSIDE_OF_VIEWPORT:"element-outside-of-viewport",ELEMENT_HAS_ZERO_HEIGHT_OR_WIDTH:"element-has-zero-height-or-width",GENERIC_ELEMENT_HIDDEN:"element-hidden",ELEMENT_SCORE_BELOW_THRESHOLD:"element-score-below-threshold",EVALUATE_EXPRESSION_EXCEPTION:"evaluate-expression-exception",INVALID_NODE_PACKAGE:"invalid-node-package",NODE_PACKAGE_EXCEPTION:"node-package-exception",FRAME_NOT_FOUND:"frame-not-found",TAB_NOT_FOUND:"tab-not-found",INVALID_TEST_VERSION:"invalid-test-version",INTERNAL_ERROR_IN_AUT:"internal-error-in-aut",STOPPED:"stopped",ABORTED:"aborted",JS_ASSERTION_FAILED:"js-assertion-failed",JS_RESULT_MAX_SIZE_EXCEEDED:"js-result-max-size-exceeded",JS_INVALID_PARAMETER:"js-invalid-parameter",PIXEL_VALIDATION_FAILURE:"pixel-validation-failure",PIXEL_VALIDATION_ENV_FAILURE:"pixel-validation-env-failure",PIXEL_VALIDATION_INCORRECT_CREDENTIALS:"pixel-validation-incorrect-credentials",PORT_NOT_FOUND:"port-not-found",CHECKBOX_VALIDATION_FAILURE:"checkbox-validation-failure",CHECKBOX_VALIDATION_ELEMENTS_FAILURE:"checkbox-validation-elements-failure",TEXT_COMPARE_FAILURE:"text-compare-failure",GET_COOKIE_FAILURE:"get-cookie-failure",DEBUG_LAB_FEATURE_FAILURE:"debug-lab-feature-failure",RESIZE_WINDOW_FAILURE:"resize-window-failure",TEXT_ACTION_FAILURE:"text-action-failure",SPECIAL_KEY_ACTION_FAILURE:"special-key-action-failure",WHEEL_ACTION_FAILURE:"wheel-action-failure",EXTRACT_TEXT_FAILURE:"extract-text-failure",NAVIGATION_FAILURE:"navigation-failure",SCROLL_ACTION_FAILURE:"scroll-action-failure",IOS_LOCATE_FAILURE:"ios-locate-failure",ANDROID_LOCATE_FAILURE:"android-locate-failure",UNKNOWN_ERROR:"unknown-error",CAPTURE_SCREENSHOT_FAILURE:"capture-screenshot-failure",UNWRAPPED_AUT_REJECT:"aut-injected-code-exception",CONTEXT_ELEMENT_TIMEOUT:"context-element-timeout",GET_TAB_TIMEOUT:"get-tab-timeout",GET_FRAME_TIMEOUT:"get-frame-timeout",GET_TOP_FRAME_TIMEOUT:"get-top-frame-timeout",LOCATE_TIMEOUT:"locate-timeout",ACTION_TIMEOUT:"action-timeout",ACTION_EXCEPTION:"action-exception",ACCESSIBILITY_VALIDATION_EXCEPTION:"accessibility-validation-exception",ACCESSIBILITY_VALIDATION_VIOLATIONS:"accessibility-validation-violations",API_FAILURE:"api-failure",MAX_ITERATIONS_EXCEEDED:"max iterations exceeded",COULD_NOT_GET_BROWSER:"tests-could-not-get-browser",BROWSER_TYPE_NOT_SUPPORTED:"browser-type-not-supported",PAGE_NOT_AVAILABLE:"page-not-available",JS_SYNTAX_ERROR:"js-syntax-error",AGENT_CONNECTION_ERROR:"agent-connection-error",COULDNT_SET_COOKIE:"couldnt-set-cookie",MISSING_COOKIE_NAME:"missing-cookie-name",MISSING_COOKIE_VALUE:"missing-cookie-value",MISSING_COOKIE_NAME_AND_VALUE:"missing-cookie-name-and-value",SELECTOR_EVALUATION_FAILURE:"selector-evaluation-failure",LOAD_FILE:"load-file",FILE_SIZE_LIMIT:"file-size-limit",DOWNLOAD_INTERRUPTED:"download-interrupted",FILE_DANGEROUS:"file-dangerous",DOWNLOAD_TIMEOUT_BEFORE_START:"download-timeout-before-start",DOWNLOAD_TIMEOUT_BEFORE_FINISHED:"download-timeout-before-finished",INVALID_DOWNLOAD_STATE:"download-invalid-state",EMAIL_FAILURE:"email-failure",EMAIL_NOT_FOUND:"email-not-found",INVALID_EMAIL:"invalid-email-address",EMAIL_GENERATE_FAILURE:"email-generate-failure",API_REQUEST_NETWORK_ERROR:"api-network-error",FILTERED_EMAIL_NOT_FOUND:"filtered-email-not-found",INBOX_EMPTY:"inbox-empty",SALESFORCE_STEP_INPUT_ERROR:"salesforce-step-input-error",SALESFORCE_APEX_FAILURE:"salesforce-apex-failure",SALESFORCE_APEX_COMPILE_ERROR:"apex-compile-error",SALESFORCE_APEX_RUNTIME_ERROR:"apex-runtime-error",MFA_RETRIEVE_ERROR:"mfa-retrieve-error"},AUT:{TESTIM_FRAME_ID:"testim-frame-id",HIGHLIGHT_LOCATOR:"highlight-locator",END_LOCATOR:"end-locator",CANCEL_LOCATOR:"cancel-locator",REGISTERD:"aut-registerd",REGISTERED:"aut-registered",LOCATOR:"locator",CLOSE_POPUP:"aut-frame:close-popup",OPEN_POPUP:"aut-frame:open-popup",SET_MESSAGE:"aut-frame:set-message",SET_MESSAGE_RESPONSE:"aut-frame:set-message-response",GO_TO_EDITOR:"aut-frame:go-to-editor",AUT_FRAME_LOADED:"aut-frame:loaded",KEY_STATE_CHANGE:"aut:key-state-change",CONTEXT_SELECTION_MODE:"context-selection-mode",UPDATE_SELECTED_ELEMENT_TEXT:"aut:update-text",TESTIM_AUT_FRAME_PORT_NAME:"TestimFrameInAUT",STOP_RECORDING_AND_RETURN_TO_EDITOR:"aut-frame:stop-recording-and-go-to-editor",STOP_SUGGESTIONS:"aut-frame:stop-suggestions",REPORT_STEPS_COUNT:"aut:report-steps-count",SEND_GROUP_SUGGESTIONS:"aut:send-group-suggestions",SELECT_GROUP_SUGGESTIONS:"aut:select-group-suggestions",SELECT_GROUP_SUGGESTIONS_DONE:"aut:select-group-suggestions-done",SUGGESTED_GROUP_PLAYBACK:"aut:suggested-group-playback",SHOW_OVERLAY:"aut:show-overlay",HIDE_OVERLAY:"aut:hide-overlay",SET_RECORDING_CONFIGURATION:"aut:set-recording-configuration",INTERNAL_LOG_PREFIX:"__internalTestimLog__:",REGISTER_SCOPE:"register-switchboard-scope"},frame:{ADDED:"frame:added",NOT_INITIATED:"frame:not-initiated"},tab:{ADDED:"tab:added",SESSION_TABS_UPDATED:"tab:session-tabs-updated",GET_ZOOM:"tab:get-zoom-level"},labFeatures:{PROJECT_LAB_FEATURES_CHANGED:"labfeatures:project-changed",PROJECT_LAB_FEATURES_LOADED:"labfeatures:project-loaded"},plan:{PLAN_SELECTED:"plan:selected"},test:{DEFAULT_TEST_NAME:"untitled test",LOADED:"test:loaded",DESKTOP_WEB:"desktopWeb",MOBILE_WEB:"mobileWeb",ANDROID:"android",IOS:"ios",HIDDEN_PARAM:"TST_HIDDEN_PARAM",PARAMS_METADATA_FIELD:"*metadata"},testStatus:{STOPPED:"stopped",PAUSED:"paused",RUNNING:"running",COMPLETED:"completed",PENDING:"pending"},notification:{SHOW_NOTIFICATION:"notification:show-notification",FAILED_STEP:"notification:failed-step"},mobileWeb:{MOBILE_WEB_DEBUGGER_HEADER_SPACING:70,MOBILE_WEB_DEBUGGER_HEADER_VERTICAL_SPACING_WINDOWS:16},mobile:{INIT_DEVICE:"init-device",TAKE_SCREEN_SHOT:"screen-shot",OPEN_APP:"mobile:open-app",MOBILE_SESSION_ABORTED:"mobile:session-aborted",REMOVE_SELECTED_DEVICE:"mobile:remove-selected-device",MISSING_NAME:"Missing application name"},MOBILE_SKIP_REASON_MAP:{[t.MOBILE_RUN_SKIP_REASON.APP_FROM_DEVICE]:"Skipped, the selected app is from device",[t.MOBILE_RUN_SKIP_REASON.VIRTUAL_BUILD]:"Skipped, the selected app has been compiled for virtual device"},stepStatus:{WHILELOOP_DONE:"whileloop-done",WHILELOOP_RUNNING:"whileloop-running",COMPLETED:"completed",RUNNING:"running"},SHARED_STEP_DISABLED_REASON:{PAYING_CUSTOMERS_ONLY:"This step is available for paying customers only",FEATURE_NOT_INCLUDED_IN_PLAN:"This step is not included in this plan",APPLITOOLS_NOT_CONNECTED:"This step requires configuring the Applitools integration"},warning:{VALIDATE_TEXT_ON_ELEMENT_SELECTION:"The selected element does not contain text.\n If you meant to select the object with text, try to reselect the inner element."},error:{MESSAGE_LENGTH_EXCEEDED_MAX_LENGTH_ERROR_MESSAGE:"Message length exceeded maximum allowed length.",CIRCULAR_SCENARIO_DETECTED:"circular-scenario-detected",NOT_ON_CHROME:"not-on-chrome",NO_APP_TO_CHOOSE_AN_ELEMENT_FROM:"No app to choose an element from.",PASSWORD_COMPLEX_ERROR:"Password must be 8 characters long and contain at least one digit, one symbol and no spaces.",REQUEST_TIMED_OUT:"There was a connection error in the API request to the server.",QUOTA_EXECUTION_BLOCKED:"You have reached the limit of runs for the billing month"},company:{DEFAULT_STORAGE_BASE_URL:"https://testimstatic.blob.core.windows.net",DEFAULT_STORAGE_TYPE:"cloudinary"},grids:{testim:"Testim grid",[a.GRID_TYPE_TESTIM_HYBRID]:"Testim HA grid",[a.GRID_TYPE_TESTIM_ENTERPRISE]:"Testim enterprise grid",[a.GRID_TYPE_TESTIM_DF]:"Testim df grid",[a.GRID_TYPE_LAMBDA_TEST]:"Testim grid (LT)",[a.GRID_TYPE_HEADSPIN]:"Testim Headspin Mobile",[a.GRID_TYPE_TESTIM_TDC]:"Tricentis Device Cloud",[a.GRID_TYPE_TESTIM_TVC]:"Virtual Mobile Grid",[a.GRID_TYPE_P_CLOUDY]:"pCloudy",local:"Custom grid",saucelabs:"Saucelabs",browserstack:"Browserstack",lambdaTest:"LambdaTest"},gridTypes:a,gridHosts:{FREE_GRID_TESTIM:"trial-grid.testim.io"},assignTypes:{REASSIGN:"assignTypes:REASSIGN",ASSIGN:"assignTypes:ASSIGN",IMPROVE:"assignTypes:IMPROVE"},recaptcha:{PUBLIC_KEY:"6LcJr2oUAAAAAO7zoza-re23OxzO-9oT5CMwHPJw"},exportScopes:{LOCAL:"local",TEST:"test",GLOBAL:"global"},KEYS:{enter:13,escape:27,left:37,up:38,right:39,down:40,space:32,backspace:8,comma:188,tab:9,shift:16,ctrl:17,alt:18,meta:93},socketEventTypes:{CONNECT:"connect",RECONNECT:"reconnect",DISCONNECT:"disconnect",ERROR:"error",STEP_RESULT:"update-step-result",SETUP_STEP_RESULT:"update-setup-step-result",TEST_RESULT_CREATED:"test-result-created",TEST_RESULT_UPDATED:"test-result-updated",RUN_CONFIG_PARAMS_RESULT:"update-run-config-params-result",RUN_RESULT_CREATED:"run-result-created",RUN_RESULT_UPDATED:"run-result-updated",STEP_ADDED:"step-added",STEP_UPDATED:"step-updated",TEST_UPDATED:"test-updated",TEST_CONFIG_UPDATED:"test-config-updated",REMOTE_STEP_SAVED:"remote-step-saved",TMS_MAPPING_IN_PROGRESS:"InProgress",TMS_MAPPING_COMPLETED:"Completed"},locators:{TESTIM_ID_FIELD_NAME:"testim_dom_element_id",DYNAMIC_PARENT_FIELD_NAME:"testim_dynamic_parent",DYNAMIC_CHILD_FIELD_NAME:"testim_dynamic_child",TESTIM_FRAME_ID:"testim_frame_id",TESTIM_SHADOW_ROOT_ID:"testim_shadow_root_id",EMPTY_RESULT:"emptyResult",CONTEXT_ATTR:"testim-context-element-id",CONTEXT_POINTER_ATTR:"testim-context-element-pointer",EMPTY_RESULT_ID:-1,MAX_TEXT_CONTENT_LENGTH:30,MAX_INNER_TEXT_LENGTH:500,MINIMAL_SCORE_THRESHOLD:.01,SCORE_THRESHOLDS:{VERY_LOW:.01,LOW:.2,MEDIUM:.4,HIGH:.6,VERY_HIGH:.8,STRICT:1},strategy:{SELECTOR:"selector",LOCATOR:"locator"}},globalSelectors:{editorAddStep:"ReactVirtualized__Grid__innerScrollContainer"},serverResponses:{UNKNOWN_ERROR:"unknown",USER_EXISTS_ERROR:"user-exists",USER_DISABLED_ERROR:"user-disabled",USER_EXISTS_DIFFERENT_PROVIDER_ERROR:"user-exists-different-provider",NOT_WORK_EMAIL:"not-work-email",EMAIL_NOT_FOUND:"email-not-found",INVALID_EMAIL:"invalid-email",WEAK_PASSWORD:"weak-password",WRONG_PASSWORD:"wrong-password",USER_SSO_FORCED:"user-sso-forced",MAX_RESET_PASSWORD:"max-reset-password",MARKETO_SIGNUP_EXISTS:"marketo-signup-exists"},HOOK:{HANDLER:{BEFORE_TEST:"beforeTest",BEFORE_STEP:"beforeStep",AFTER_STEP:"afterStep",AFTER_TEST:"afterTest"},SHORT_LABEL:{beforeTest:"before test",afterTest:"after test",beforeStep:"before step",afterStep:"after step"},LABEL:{beforeTest:"Before test handler",afterTest:"After test handler",beforeStep:"Before each step handler",afterStep:"After each step handler"},FAIL_PREFIX:{beforeTest:"Failed on before test hook",afterTest:"Failed on after test hook",beforeStep:"Failed on before step hook",afterStep:"Failed on after step hook"},CONDITION:{ALWAYS:"always",SUCCESS:"success",FAILURE:"failure"},CONDITIONED:["afterTest","afterStep"]},ITERATION_METHODS:{DOM_INDEX_AT_RUN:"dom-index-at-run",DOM_ATTR_IDENTITY:"dom-attr-identity"},improveLocatorDiff:{sameElement:"sameElement",differentElement:"differentElement",onlyImprovedFound:"onlyImprovedFound",onlyOriginalFound:"onlyOriginalFound",bothDidntFind:"bothDidntFind",lowerScore:"lowerScore",higherScore:"higherScore",sameScore:"sameScore"},locateBannerMode:{LOCAL_NEWER:"showLocalLocatorNewerBanner"},FILTERED_INCOMING_PARAMS:["_stepInternalData","_stepInternalParam","_stepData","*metadata","TESTIM_ITERATOR"],AUT_JS_CODE_STEP_TYPES:["validation-code-step","wait-for-code-step","action-code-step","network-validation-step","email-validation-step","api-validation","api-action"],sharedStepsFriendlyNames:{__default_CLI:"Custom CLI validation",__default:"Custom step","user-code":"Custom step","action-code-step":"Custom action","api-action":"API action","api-validation":"API validation","cli-action-code-step":"CLI action","cli-validation-code-step":"CLI validation","cli-validation-download-file":"Validate Download","cli-wait-for-code-step":"Wait for CLI validation","cli-wait-for-download-file":"Wait for download","email-validation-step":"Validate Email","network-validation-step":"Network validation","validation-code-step":"Custom validation","wait-for-code-step":"Wait for custom validation","salesforce-apex-action":"Salesforce Apex Action","accessibility-validation-shared-step":"Accessibility Validation",group:"Group","marketplace-wrapper":"","execute-driver-script":"Custom Action"},mockNetworkStorage:{PATH:"mock-network",HAR_FILE_DIRECTORY:"har-file",MAPPING_FILE_DIRECTORY:"mapping-file"},documentationUrls:{BASE_URL:"https://help.testim.io/docs",ACTION_CODE_STEP:"https://help.testim.io/docs/custom-code#creating-a-custom-action",API_ACTION_STEP:"https://help.testim.io/docs/api-testing#api-action",API_VALIDATION_STEP:"https://help.testim.io/docs/api-testing#api-validation",CHECKBOX_VALIDATION_STEP:"https://help.testim.io/docs/checkbox-and-radio-button-validation",CSS_PROPERTY_VALIDATION_STEP:"https://help.testim.io/docs/css-property-validation",CREATE_MOBILE_TEST:"https://help.testim.io/docs/recording-a-mobile-test",CREATE_WEB_TEST:"https://help.testim.io/docs/creating-your-first-codeless-test",CLI_ACTION_CODE_STEP:"https://help.testim.io/docs/cli-actions#creating-a-cli-action",CLI_VALIDATION_CODE_STEP:"https://help.testim.io/docs/cli-actions#creating-a-cli-action",CLI_WAIT_FOR_CODE_STEP:"https://help.testim.io/docs/cli-actions#creating-a-cli-action",EMAIL_VALIDATION_STEP:"https://help.testim.io/docs/email-validation",ELEMENT_ACCESSIBILITY_STEP:"https://help.testim.io/docs/element-accessibility-validation",ELEMENT_VISIBLE_STEP:"https://help.testim.io/docs/validation#element-visible",EXTRACT_TEXT_STEP:"https://help.testim.io/docs/extract-text",GENERATE_DATE_STEP:"https://help.testim.io/docs/generating-a-date",GENERATE_EMAIL_STEP:"https://help.testim.io/docs/email-validation#randomly-generated-temporary-email-addresses",GENERATE_RANDOM_VALUE_STEP:"https://help.testim.io/docs/generating-a-random-value",GET_COOKIES_STEP:"https://help.testim.io/docs/cookies",GROUPS:"https://help.testim.io/docs/groups",HOVER_STEP:"https://help.testim.io/docs/hover-step",HTML_ATTRIBUTE_VALIDATION_STEP:"https://help.testim.io/docs/html-attribute-validation",FILE_UPLOAD_STEP:"https://help.testim.io/docs/file-upload-step",NAVIGATION_STEP:"https://help.testim.io/docs/navigation",NETWORK_VALIDATION_STEP:"https://help.testim.io/docs/add-network-validation",PAGE_ACCESSIBILITY_STEP:"https://help.testim.io/docs/accessibility-validations",PIXEL_VALIDATION_STEP:"https://help.testim.io/docs/pixel-validation-and-pixel-wait-for#how-to-add-pixel-validation",PIXEL_WAIT_FOR_STEP:"https://help.testim.io/docs/pixel-validation-and-pixel-wait-for#how-to-add-pixel-wait-for",REFRESH_STEP:"https://help.testim.io/docs/refresh-page",SET_COOKIES_STEP:"https://help.testim.io/docs/cookies",SCROLL_STEP:"https://help.testim.io/docs/scroll",SLEEP_STEP:"https://help.testim.io/docs/wait-for#sleep",TEXT_VALIDATION_STEP:"https://help.testim.io/docs/validation#element-text",VALIDATION_CODE_STEP:"https://help.testim.io/docs/custom-code#creating-a-custom-validation",WAIT_FOR_STEP:"https://help.testim.io/docs/wait-for",WAIT_FOR_TEXT_STEP:"https://help.testim.io/docs/wait-for#wait-for-element-text",WAIT_FOR_CODE_STEP:"https://help.testim.io/docs/wait-for#custom-wait-for",SALESFORCE_AUTO_LOGIN_STEP:"https://help.testim.io/docs/salesforce-auto-login-step",SALESFORCE_APEX_STEP:"https://help.testim.io/docs/salesforce-apex-action-step",CI_INTEGRATION:"https://help.testim.io/docs/integrate-testim-to-your-ci",DASHBOARD:"https://help.testim.io/docs/dashboard",AUTO_IMPROVE:"https://help.testim.io/docs/locators-auto-improve",HIGH_SPEED:"https://help.testim.io/docs/turbo-mode",TEST_CONFIG:"https://help.testim.io/docs/how-to-record-a-test#test-configuration-parameters",TESTIM_MOBILE:"https://help.testim.io/docs/creating-your-first-mobile-test-in-testim-visual-editor-edited",TESTIM_MOBILE_APPS:"https://help.testim.io/docs/mobile-apps",TESTIM_MOBILE_AGENT:"https://help.testim.io/docs/configure-tricentis-mobile-agent"},sfdcDocumentationUrls:{BASE_URL:"https://documentation.tricentis.com/tricentis_test_automation_for_salesforce",DASHBOARD:"https://documentation.tricentis.com/tricentis_test_automation_for_salesforce/content/testops/insights.htm",CREATE_WEB_TEST:"https://documentation.tricentis.com/tricentis_test_automation_for_salesforce/content/gettingstarted/create_salesforce_test.htm",CI_INTEGRATION:"https://documentation.tricentis.com/tricentis_test_automation_for_salesforce/content/integrations/ci_integrations.htm",SALESFORCE_PERSONA:"https://documentation.tricentis.com/tricentis_test_automation_for_salesforce/content/gettingstarted/create_manage_profiles.htm",SALESFORCE_MFA:"https://help.testim.io/docs/salesforce-auto-login-step#setting-up-mfa",COPADO_INTEGRATION:"https://documentation.tricentis.com/tricentis_test_automation_for_salesforce/content/integrations/copado_integration.htm",GEARSET_INTEGRATION:"https://documentation.tricentis.com/tricentis_test_automation_for_salesforce/content/integrations/gearset_integration.htm"},tricentisUrls:{SUPPORT_HUB:"https://support-hub.tricentis.com/",REQUEST_DEMO:"https://www.tricentis.com/software-testing-tool-trial-demo/test-automation-salesforce-demo",ACADEMY_YOUTUBE_PLAYLIST:"https://www.youtube.com/playlist?list=PL_mckFOFnjHkbCjJ8-hIyEYhn-tVaI85i"},TEST_STATUS:{ACTIVE:"active",QUARANTINE:"quarantine",DRAFT:"draft",EVALUATING:"evaluating"},TEST_RESULT:{PASSED:"Passed",FAILED:"Failed",QUEUED:"Queued",RUNNING:"Running",ABORTED:"Aborted",TIMEOUT:"Timeout",SKIPPED:"Skipped"},RUNNER_STATUS:{FINISHED:"FINISHED",QUEUED:"QUEUED",RUNNING:"RUNNING",ABORTED:"ABORTED",TIMEOUT:"TIMEOUT",SKIPPED:"SKIPPED"},PREFERENCES_ENTRIES:{TEST_LIST:"testList",SHARED_STEPS:"sharedSteps",EXECUTION_LIST:"executionList",TEST_RUN_LIST:"testRunList",SCHEDULER_LIST:"schedulerList",CONFIG_LIST:"configList",TEST_OPS_DASHBOARD:"testOpsDashboard"},EMAIL_VALIDATION_TYPE:{CODELESS:"codeless",CODED:"coded"},applitools:{CLOSE_BATCH:"applitools:close-batch"},integrations:{trelloStorageKey:"trelloToken"},tooltipText:{demoProject:"You have view-only access",payingCustomerChangeStatus:"Editing test's status isn't supported in the free plan",saveViewOnlyOnPinnedBranch:"Only enabled for Pinned Branch",reconnectSfdcEnvironmentTooltip:"Connection to environment lost. Reconnect"},MOBILE_APP_FILE_TYPES:{ANDROID:"apk",IOS:"ipa",IOS_SIMULATOR:"app",NATIVE_IOS_SIMULATOR:"app.zip"},MOBILE_APP_MIME_TYPES:{ANDROID:"application/vnd.android.package-archive",IOS:"application/octet-stream"},MARKETO_FORMS:{TTA_SFDC:"https://www.tricentis.com/software-testing-tool-trial-demo/test-automation-salesforce-trial",TESTIM:"https://www.testim.io/try-testim/"},MOBILE_SOCKET_EVENTS_TYPES:{DEVICE_CONNECTED:"DEVICE_CONNECTED",DEVICE_DISCONNECTED:"DEVICE_DISCONNECTED",LOCAL_STATE_CHANGED:"LOCAL_STATE_CHANGED",CLOUD_STATE_CHANGE:"CLOUD_STATE_CHANGE"},SFDC_COMMON:{PRODUCTION_LOGIN_URL:"https://login.salesforce.com",SANDBOX_LOGIN_URL:"https://test.salesforce.com"},PRODUCT_URLS:{TESTIM_CONTACT_US:"https://www.testim.io/contact-us/",TESTIM_PRICING:"https://www.testim.io/pricing/",TTA_SFDC_CONTACT_US:"https://www.tricentis.com/contact-us",TTA_SFDC_PRICING:"https://www.tricentis.com/products/test-automation-salesforce/pricing"},DEBUGGER:{STEP_INTO:"stepInto",STEP_OUT:"stepOut",STEP_OVER:"stepOver",PAUSE:"pause",CONTINUE:"continue"},KEY_BINDING_LAYERS:{RUN:"run"},TEST_QUOTA_TYPE:{WEB:"web",MOBILE:"mobile"},INPUT_TYPES:{MOUSE:"mouse",KEYBOARD:"keyboard"},MOBILE_GRID_API:{TDC:"api.tricentis.headspin.io",HEADSPIN:"api-dev.headspin.io"},MOBILE_GRID_UI:{TDC:"https://tdc.tricentis-cloud.com",HEADSPIN:"https://ui.headspin.io"},TMS_PROVIDERS:{TTM4J:"ttm4j",TESTRAIL:"testrail",QTEST:"qtest",XRAY:"xray"},AUTH_PROVIDERS:{PASSWORD:"password",GITHUB:"github.com",GOOGLE:"google.com",SALESFORCE:"salesforce.com",OKTA:"okta"},TEXT_EXTRACTION_TYPE:{FROM:"from",TO:"to",BETWEEN:"between",REGEX:"regex"}};var u;(function(e){e["TEST"]="test";e["FOLDER"]="folder";e["SHARED_STEP"]="sharedStep"})(u||(t.FOLDER_CHILD_TYPES=u={}));t.commonConstants=s;t.TESTIM_EXTENSION_ID=s.TESTIM_EXTENSION_ID;t.MASTER_BRANCH=s.MASTER_BRANCH;t.RECORD_BUTTON_ID=s.RECORD_BUTTON_ID;t.AUT=s.AUT;t.KEYS=s.KEYS;t.applitools=s.applitools;t.assignTypes=s.assignTypes;t.bugim=s.bugim;t.company=s.company;t.defaults=s.defaults;t.error=s.error;t.exportScopes=s.exportScopes;t.frame=s.frame;t.gridTypes=s.gridTypes;t.grids=s.grids;t.host=s.host;t.localPlayback=s.localPlayback;t.localStorage=s.localStorage;t.locators=s.locators;t.plan=s.plan;t.plans=s.plans;t.playback=s.playback;t.recaptcha=s.recaptcha;t.recording=s.recording;t.scenario=s.scenario;t.socketEventTypes=s.socketEventTypes;t.stepResult=s.stepResult;t.stepStatus=s.stepStatus;t.tab=s.tab;t.test=s.test;t.testStatus=s.testStatus;t.user=s.user;t.window=s.window;t.improveLocatorDiff=s.improveLocatorDiff;t.HOOK=s.HOOK;t.ITERATION_METHODS=s.ITERATION_METHODS;t.locateBannerMode=s.locateBannerMode;t.serverResponses=s.serverResponses;t.sharedStepsFriendlyNames=s.sharedStepsFriendlyNames;t.mockNetworkStorage=s.mockNetworkStorage;t.TEST_STATUS=s.TEST_STATUS;t.RUNNER_STATUS=s.RUNNER_STATUS;t.TEST_RESULT=s.TEST_RESULT;t.SHARED_STEP_DISABLED_REASON=s.SHARED_STEP_DISABLED_REASON;t.tooltipText=s.tooltipText;t.mobile=s.mobile;t.MOBILE_APP_FILE_TYPES=s.MOBILE_APP_FILE_TYPES;t.MOBILE_APP_MIME_TYPES=s.MOBILE_APP_MIME_TYPES;t.MOBILE_SOCKET_EVENTS_TYPES=s.MOBILE_SOCKET_EVENTS_TYPES;t.globalSelectors=s.globalSelectors;t.DEBUGGER=s.DEBUGGER;t.KEY_BINDING_LAYERS=s.KEY_BINDING_LAYERS;t.INPUT_TYPES=s.INPUT_TYPES;t.MOBILE_SKIP_REASON_MAP=s.MOBILE_SKIP_REASON_MAP;t.MOBILE_GRID_API=s.MOBILE_GRID_API;t.MOBILE_GRID_UI=s.MOBILE_GRID_UI;t.SECRET_CREDENTIAL_MASK="*******";t.SIGNUP_COUNTRY_KEY="signupCountry"},function(e,t,r){"use strict";if(true){e.exports=r(143)}else{}},function(e,t,r){"use strict";r.r(t);r.d(t,"utils",(function(){return m}));var n=r(139);var i=r.n(n);var o=r(49);var a=r.n(o);var s=r(140);var u=r.n(s);var l=r(36);var c=r.n(l);var f=r(76);var h=r.n(f);var d=r(27);var p=r.n(d);r.d(t,"TimeoutError",(function(){return o["TimeoutError"]}));var v=Math.pow;const m={get servicesUrl(){return l["servicesUrlGetter"]()}};function g(e){return e&&e instanceof window.Window}function y(e){return e&&typeof e==="object"&&!e.nodeType&&!g(e)}function b(e){return e!==null&&e instanceof Object&&!Array.isArray(e)&&!(e instanceof Date)}function _(e,t){let r;let n;let i;let o;let a;let s;let u;let l;const c=typeof t;let f;const h=arguments.length;const d=e.deep;const p=e.own;if(t===null||c!=="object"&&c!=="function"){t={}}for(f=2;f<h;f++){r=arguments[f];if(r){for(n in r){i=n;o=t[i];a=r[i];l=p&&!Object.hasOwn(r,i)||(t===a||void 0===a);if(!l){s=Array.isArray(a);if(d&&a&&(s||y(a))){if(s){s=false;u=o&&Array.isArray(o)?o:[]}else{u=o&&y(o)?o:{}}t[i]=_(e,u,a)}else{try{t[i]=a}catch(e){}}}}}}return t}function w(e){const t=typeof e;let r=0;const n={own:true};if(t==="boolean"){n.deep=e;r=1}const i=Array.prototype.slice.call(arguments,r);i.splice(0,0,n);return _.apply(null,i)}function E(e,t){t=t!==false;const r=typeof e;if(r==="undefined"||e===null){return e}if(r!=="object"){return e}if(e instanceof Date){return new Date(e)}if(e instanceof Array){return t?e.map((e=>E(e,t))):e.slice(0,e.length)}return t?Object.keys(e).reduce(((r,n)=>{r[n]=E(e[n],t);return r}),{}):Object.clone(e)}m.isNone=function e(t){return t===void 0||t===null};m.mergeObjects=function e(t,r){if(Array.isArray(t)&&Array.isArray(r)){return t.concat(r)}if(!b(r)||!b(t)){return t}const n=Object.keys(r);return n.reduce(((t,n)=>{const i=r[n];if(t.hasOwnProperty(n)&&b(i)&&b(t[n])){e(t[n],i)}else if(Array.isArray(i)&&Array.isArray(t[n])){t[n]=t[n].concat(i)}else{t[n]=E(i)}return t}),t)};m.isSelectionSupportedOnElement=function(e){const t=["text","search","url","telephone","password"];return e.tagName==="INPUT"&&t.includes(e.type.toLowerCase())};m.selectTextInside=function(e,t,r){if(this.isSelectionSupportedOnElement(e)){e.setSelectionRange(t,r)}};m.selectAllTextInside=function(e){const t=e.value;if(t){this.selectTextInside(e,0,t.length)}};m.sanitize=function(e,t=new Set){if(e===void 0){return null}if(t.has(e)){return e}if(Array.isArray(e)){t.add(e);return e.map((e=>m.sanitize(e,t)))}if(b(e)){t.add(e);return Object.keys(e).reduce(((r,n)=>{if(m.isLegalName(n)){r[n]=m.sanitize(e[n],t)}return r}),{})}return e};let S=1;m.isMinimalDragDistance=function(e,t){const r=30;return Math.hypot(e.x-t.x,e.y-t.y)>=r};m.isObject=b;m.extendWithOptions=_;m.extend=w;m.clone=E;m.nextId=function(){return S++};m.getStorage=function(){return this.hasStorage()?window.localStorage:{getItem(){return null},setItem(){},removeItem(){},clear(){},key(){return null},length:0}};m.isWithinTargetRect=function(e,t,r){return f["isWithinTargetRect"](e,t,r)};m.isWithinBounds=function(e,t,r){return f["isWithinBounds"](e,t,r)};m.compareOrMatch=function(e,t){if(typeof t!=="string"){throw new Error("The second argument must be a string")}return m.isRegExp(e)?new RegExp(e).test(t.trim()):m.compareTexts(String(e),t)};m.isUiVerificationStep=function(e){return["simple-ui-verification","wait-for-simple-ui-verification"].includes(e)};m.isSfdcStep=function({type:e}={type:""}){return e.startsWith("sfdc-")};m.randNumberAtLengthOf=e=>Math.floor(Math.random()*v(10,e||1));m.getNewPathForParamInStep=(e,t)=>{if(e){if(e.includes(t)){return e}return`${e}:${t}`}return`${t}`};m.isTurboMode=e=>["turbomode","highspeed"].includes(e==null?void 0:e.toLowerCase());m.isInvalidTestTimeout=e=>{const t=3*60*60;return e<1||e>t};Object.assign(m,d["injectorUtils"],n,o,s,l)},function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){(function(e,n){var i;(function(){var o;var a="4.17.21";var s=200;var u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`";var f="__lodash_hash_undefined__";var h=500;var d="__lodash_placeholder__";var p=1,v=2,m=4;var g=1,y=2;var b=1,_=2,w=4,E=8,S=16,T=32,A=64,x=128,D=256,O=512;var I=30,C="...";var k=800,R=16;var P=1,M=2,L=3;var N=1/0,F=9007199254740991,j=17976931348623157e292,B=0/0;var U=4294967295,z=U-1,$=U>>>1;var G=[["ary",x],["bind",b],["bindKey",_],["curry",E],["curryRight",S],["flip",O],["partial",T],["partialRight",A],["rearg",D]];var H="[object Arguments]",W="[object Array]",V="[object AsyncFunction]",q="[object Boolean]",J="[object Date]",Y="[object DOMException]",K="[object Error]",X="[object Function]",Z="[object GeneratorFunction]",Q="[object Map]",ee="[object Number]",te="[object Null]",re="[object Object]",ne="[object Promise]",ie="[object Proxy]",oe="[object RegExp]",ae="[object Set]",se="[object String]",ue="[object Symbol]",le="[object Undefined]",ce="[object WeakMap]",fe="[object WeakSet]";var he="[object ArrayBuffer]",de="[object DataView]",pe="[object Float32Array]",ve="[object Float64Array]",me="[object Int8Array]",ge="[object Int16Array]",ye="[object Int32Array]",be="[object Uint8Array]",_e="[object Uint8ClampedArray]",we="[object Uint16Array]",Ee="[object Uint32Array]";var Se=/\b__p \+= '';/g,Te=/\b(__p \+=) '' \+/g,Ae=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var xe=/&(?:amp|lt|gt|quot|#39);/g,De=/[&<>"']/g,Oe=RegExp(xe.source),Ie=RegExp(De.source);var Ce=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g;var Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var Ne=/[\\^$.*+?()[\]{}|]/g,Fe=RegExp(Ne.source);var je=/^\s+/;var Be=/\s/;var Ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ze=/\{\n\/\* \[wrapped with (.+)\] \*/,$e=/,? & /;var Ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var He=/[()=,{}\[\]\/\s]/;var We=/\\(\\)?/g;var Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var qe=/\w*$/;var Je=/^[-+]0x[0-9a-f]+$/i;var Ye=/^0b[01]+$/i;var Ke=/^\[object .+?Constructor\]$/;var Xe=/^0o[0-7]+$/i;var Ze=/^(?:0|[1-9]\d*)$/;var Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var et=/($^)/;var tt=/['\n\r\u2028\u2029\\]/g;var rt="\\ud800-\\udfff",nt="\\u0300-\\u036f",it="\\ufe20-\\ufe2f",ot="\\u20d0-\\u20ff",at=nt+it+ot,st="\\u2700-\\u27bf",ut="a-z\\xdf-\\xf6\\xf8-\\xff",lt="\\xac\\xb1\\xd7\\xf7",ct="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ft="\\u2000-\\u206f",ht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="A-Z\\xc0-\\xd6\\xd8-\\xde",pt="\\ufe0e\\ufe0f",vt=lt+ct+ft+ht;var mt="['’]",gt="["+rt+"]",yt="["+vt+"]",bt="["+at+"]",_t="\\d+",wt="["+st+"]",Et="["+ut+"]",St="[^"+rt+vt+_t+st+ut+dt+"]",Tt="\\ud83c[\\udffb-\\udfff]",At="(?:"+bt+"|"+Tt+")",xt="[^"+rt+"]",Dt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",It="["+dt+"]",Ct="\\u200d";var kt="(?:"+Et+"|"+St+")",Rt="(?:"+It+"|"+St+")",Pt="(?:"+mt+"(?:d|ll|m|re|s|t|ve))?",Mt="(?:"+mt+"(?:D|LL|M|RE|S|T|VE))?",Lt=At+"?",Nt="["+pt+"]?",Ft="(?:"+Ct+"(?:"+[xt,Dt,Ot].join("|")+")"+Nt+Lt+")*",jt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ut=Nt+Lt+Ft,zt="(?:"+[wt,Dt,Ot].join("|")+")"+Ut,$t="(?:"+[xt+bt+"?",bt,Dt,Ot,gt].join("|")+")";var Gt=RegExp(mt,"g");var Ht=RegExp(bt,"g");var Wt=RegExp(Tt+"(?="+Tt+")|"+$t+Ut,"g");var Vt=RegExp([It+"?"+Et+"+"+Pt+"(?="+[yt,It,"$"].join("|")+")",Rt+"+"+Mt+"(?="+[yt,It+kt,"$"].join("|")+")",It+"?"+kt+"+"+Pt,It+"+"+Mt,Bt,jt,_t,zt].join("|"),"g");var qt=RegExp("["+Ct+rt+at+pt+"]");var Jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Yt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var Kt=-1;var Xt={};Xt[pe]=Xt[ve]=Xt[me]=Xt[ge]=Xt[ye]=Xt[be]=Xt[_e]=Xt[we]=Xt[Ee]=true;Xt[H]=Xt[W]=Xt[he]=Xt[q]=Xt[de]=Xt[J]=Xt[K]=Xt[X]=Xt[Q]=Xt[ee]=Xt[re]=Xt[oe]=Xt[ae]=Xt[se]=Xt[ce]=false;var Zt={};Zt[H]=Zt[W]=Zt[he]=Zt[de]=Zt[q]=Zt[J]=Zt[pe]=Zt[ve]=Zt[me]=Zt[ge]=Zt[ye]=Zt[Q]=Zt[ee]=Zt[re]=Zt[oe]=Zt[ae]=Zt[se]=Zt[ue]=Zt[be]=Zt[_e]=Zt[we]=Zt[Ee]=true;Zt[K]=Zt[X]=Zt[ce]=false;var Qt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var er={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var tr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var rr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var nr=parseFloat,ir=parseInt;var or=typeof e=="object"&&e&&e.Object===Object&&e;var ar=typeof self=="object"&&self&&self.Object===Object&&self;var sr=or||ar||Function("return this")();var ur=true&&t&&!t.nodeType&&t;var lr=ur&&typeof n=="object"&&n&&!n.nodeType&&n;var cr=lr&&lr.exports===ur;var fr=cr&&or.process;var hr=function(){try{var e=lr&&lr.require&&lr.require("util").types;if(e){return e}return fr&&fr.binding&&fr.binding("util")}catch(e){}}();var dr=hr&&hr.isArrayBuffer,pr=hr&&hr.isDate,vr=hr&&hr.isMap,mr=hr&&hr.isRegExp,gr=hr&&hr.isSet,yr=hr&&hr.isTypedArray;function br(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function _r(e,t,r,n){var i=-1,o=e==null?0:e.length;while(++i<o){var a=e[i];t(n,a,r(a),e)}return n}function wr(e,t){var r=-1,n=e==null?0:e.length;while(++r<n){if(t(e[r],r,e)===false){break}}return e}function Er(e,t){var r=e==null?0:e.length;while(r--){if(t(e[r],r,e)===false){break}}return e}function Sr(e,t){var r=-1,n=e==null?0:e.length;while(++r<n){if(!t(e[r],r,e)){return false}}return true}function Tr(e,t){var r=-1,n=e==null?0:e.length,i=0,o=[];while(++r<n){var a=e[r];if(t(a,r,e)){o[i++]=a}}return o}function Ar(e,t){var r=e==null?0:e.length;return!!r&&Fr(e,t,0)>-1}function xr(e,t,r){var n=-1,i=e==null?0:e.length;while(++n<i){if(r(t,e[n])){return true}}return false}function Dr(e,t){var r=-1,n=e==null?0:e.length,i=Array(n);while(++r<n){i[r]=t(e[r],r,e)}return i}function Or(e,t){var r=-1,n=t.length,i=e.length;while(++r<n){e[i+r]=t[r]}return e}function Ir(e,t,r,n){var i=-1,o=e==null?0:e.length;if(n&&o){r=e[++i]}while(++i<o){r=t(r,e[i],i,e)}return r}function Cr(e,t,r,n){var i=e==null?0:e.length;if(n&&i){r=e[--i]}while(i--){r=t(r,e[i],i,e)}return r}function kr(e,t){var r=-1,n=e==null?0:e.length;while(++r<n){if(t(e[r],r,e)){return true}}return false}var Rr=zr("length");function Pr(e){return e.split("")}function Mr(e){return e.match(Ge)||[]}function Lr(e,t,r){var n;r(e,(function(e,r,i){if(t(e,r,i)){n=r;return false}}));return n}function Nr(e,t,r,n){var i=e.length,o=r+(n?1:-1);while(n?o--:++o<i){if(t(e[o],o,e)){return o}}return-1}function Fr(e,t,r){return t===t?pn(e,t,r):Nr(e,Br,r)}function jr(e,t,r,n){var i=r-1,o=e.length;while(++i<o){if(n(e[i],t)){return i}}return-1}function Br(e){return e!==e}function Ur(e,t){var r=e==null?0:e.length;return r?Wr(e,t)/r:B}function zr(e){return function(t){return t==null?o:t[e]}}function $r(e){return function(t){return e==null?o:e[t]}}function Gr(e,t,r,n,i){i(e,(function(e,i,o){r=n?(n=false,e):t(r,e,i,o)}));return r}function Hr(e,t){var r=e.length;e.sort(t);while(r--){e[r]=e[r].value}return e}function Wr(e,t){var r,n=-1,i=e.length;while(++n<i){var a=t(e[n]);if(a!==o){r=r===o?a:r+a}}return r}function Vr(e,t){var r=-1,n=Array(e);while(++r<e){n[r]=t(r)}return n}function qr(e,t){return Dr(t,(function(t){return[t,e[t]]}))}function Jr(e){return e?e.slice(0,yn(e)+1).replace(je,""):e}function Yr(e){return function(t){return e(t)}}function Kr(e,t){return Dr(t,(function(t){return e[t]}))}function Xr(e,t){return e.has(t)}function Zr(e,t){var r=-1,n=e.length;while(++r<n&&Fr(t,e[r],0)>-1){}return r}function Qr(e,t){var r=e.length;while(r--&&Fr(t,e[r],0)>-1){}return r}function en(e,t){var r=e.length,n=0;while(r--){if(e[r]===t){++n}}return n}var tn=$r(Qt);var rn=$r(er);function nn(e){return"\\"+rr[e]}function on(e,t){return e==null?o:e[t]}function an(e){return qt.test(e)}function sn(e){return Jt.test(e)}function un(e){var t,r=[];while(!(t=e.next()).done){r.push(t.value)}return r}function ln(e){var t=-1,r=Array(e.size);e.forEach((function(e,n){r[++t]=[n,e]}));return r}function cn(e,t){return function(r){return e(t(r))}}function fn(e,t){var r=-1,n=e.length,i=0,o=[];while(++r<n){var a=e[r];if(a===t||a===d){e[r]=d;o[i++]=r}}return o}function hn(e){var t=-1,r=Array(e.size);e.forEach((function(e){r[++t]=e}));return r}function dn(e){var t=-1,r=Array(e.size);e.forEach((function(e){r[++t]=[e,e]}));return r}function pn(e,t,r){var n=r-1,i=e.length;while(++n<i){if(e[n]===t){return n}}return-1}function vn(e,t,r){var n=r+1;while(n--){if(e[n]===t){return n}}return n}function mn(e){return an(e)?_n(e):Rr(e)}function gn(e){return an(e)?wn(e):Pr(e)}function yn(e){var t=e.length;while(t--&&Be.test(e.charAt(t))){}return t}var bn=$r(tr);function _n(e){var t=Wt.lastIndex=0;while(Wt.test(e)){++t}return t}function wn(e){return e.match(Wt)||[]}function En(e){return e.match(Vt)||[]}var Sn=function e(t){t=t==null?sr:Tn.defaults(sr.Object(),t,Tn.pick(sr,Yt));var r=t.Array,n=t.Date,i=t.Error,Be=t.Function,Ge=t.Math,rt=t.Object,nt=t.RegExp,it=t.String,ot=t.TypeError;var at=r.prototype,st=Be.prototype,ut=rt.prototype;var lt=t["__core-js_shared__"];var ct=st.toString;var ft=ut.hasOwnProperty;var ht=0;var dt=function(){var e=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var pt=ut.toString;var vt=ct.call(rt);var mt=sr._;var gt=nt("^"+ct.call(ft).replace(Ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var yt=cr?t.Buffer:o,bt=t.Symbol,_t=t.Uint8Array,wt=yt?yt.allocUnsafe:o,Et=cn(rt.getPrototypeOf,rt),St=rt.create,Tt=ut.propertyIsEnumerable,At=at.splice,xt=bt?bt.isConcatSpreadable:o,Dt=bt?bt.iterator:o,Ot=bt?bt.toStringTag:o;var It=function(){try{var e=qa(rt,"defineProperty");e({},"",{});return e}catch(e){}}();var Ct=t.clearTimeout!==sr.clearTimeout&&t.clearTimeout,kt=n&&n.now!==sr.Date.now&&n.now,Rt=t.setTimeout!==sr.setTimeout&&t.setTimeout;var Pt=Ge.ceil,Mt=Ge.floor,Lt=rt.getOwnPropertySymbols,Nt=yt?yt.isBuffer:o,Ft=t.isFinite,jt=at.join,Bt=cn(rt.keys,rt),Ut=Ge.max,zt=Ge.min,$t=n.now,Wt=t.parseInt,Vt=Ge.random,qt=at.reverse;var Jt=qa(t,"DataView"),Qt=qa(t,"Map"),er=qa(t,"Promise"),tr=qa(t,"Set"),rr=qa(t,"WeakMap"),or=qa(rt,"create");var ar=rr&&new rr;var ur={};var lr=Rs(Jt),fr=Rs(Qt),hr=Rs(er),Rr=Rs(tr),Pr=Rs(rr);var $r=bt?bt.prototype:o,pn=$r?$r.valueOf:o,_n=$r?$r.toString:o;function wn(e){if(Ac(e)&&!uc(e)&&!(e instanceof Dn)){if(e instanceof xn){return e}if(ft.call(e,"__wrapped__")){return Ms(e)}}return new xn(e)}var Sn=function(){function e(){}return function(t){if(!Tc(t)){return{}}if(St){return St(t)}e.prototype=t;var r=new e;e.prototype=o;return r}}();function An(){}function xn(e,t){this.__wrapped__=e;this.__actions__=[];this.__chain__=!!t;this.__index__=0;this.__values__=o}wn.templateSettings={escape:Ce,evaluate:ke,interpolate:Re,variable:"",imports:{_:wn}};wn.prototype=An.prototype;wn.prototype.constructor=wn;xn.prototype=Sn(An.prototype);xn.prototype.constructor=xn;function Dn(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=U;this.__views__=[]}function On(){var e=new Dn(this.__wrapped__);e.__actions__=ia(this.__actions__);e.__dir__=this.__dir__;e.__filtered__=this.__filtered__;e.__iteratees__=ia(this.__iteratees__);e.__takeCount__=this.__takeCount__;e.__views__=ia(this.__views__);return e}function In(){if(this.__filtered__){var e=new Dn(this);e.__dir__=-1;e.__filtered__=true}else{e=this.clone();e.__dir__*=-1}return e}function Cn(){var e=this.__wrapped__.value(),t=this.__dir__,r=uc(e),n=t<0,i=r?e.length:0,o=Za(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=n?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=zt(u,this.__takeCount__);if(!r||!n&&i==u&&d==u){return Bo(e,this.__actions__)}var p=[];e:while(u--&&h<d){l+=t;var v=-1,m=e[l];while(++v<f){var g=c[v],y=g.iteratee,b=g.type,_=y(m);if(b==M){m=_}else if(!_){if(b==P){continue e}else{break e}}}p[h++]=m}return p}Dn.prototype=Sn(An.prototype);Dn.prototype.constructor=Dn;function kn(e){var t=-1,r=e==null?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Rn(){this.__data__=or?or(null):{};this.size=0}function Pn(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}function Mn(e){var t=this.__data__;if(or){var r=t[e];return r===f?o:r}return ft.call(t,e)?t[e]:o}function Ln(e){var t=this.__data__;return or?t[e]!==o:ft.call(t,e)}function Nn(e,t){var r=this.__data__;this.size+=this.has(e)?0:1;r[e]=or&&t===o?f:t;return this}kn.prototype.clear=Rn;kn.prototype["delete"]=Pn;kn.prototype.get=Mn;kn.prototype.has=Ln;kn.prototype.set=Nn;function Fn(e){var t=-1,r=e==null?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function jn(){this.__data__=[];this.size=0}function Bn(e){var t=this.__data__,r=ci(t,e);if(r<0){return false}var n=t.length-1;if(r==n){t.pop()}else{At.call(t,r,1)}--this.size;return true}function Un(e){var t=this.__data__,r=ci(t,e);return r<0?o:t[r][1]}function zn(e){return ci(this.__data__,e)>-1}function $n(e,t){var r=this.__data__,n=ci(r,e);if(n<0){++this.size;r.push([e,t])}else{r[n][1]=t}return this}Fn.prototype.clear=jn;Fn.prototype["delete"]=Bn;Fn.prototype.get=Un;Fn.prototype.has=zn;Fn.prototype.set=$n;function Gn(e){var t=-1,r=e==null?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Hn(){this.size=0;this.__data__={hash:new kn,map:new(Qt||Fn),string:new kn}}function Wn(e){var t=Wa(this,e)["delete"](e);this.size-=t?1:0;return t}function Vn(e){return Wa(this,e).get(e)}function qn(e){return Wa(this,e).has(e)}function Jn(e,t){var r=Wa(this,e),n=r.size;r.set(e,t);this.size+=r.size==n?0:1;return this}Gn.prototype.clear=Hn;Gn.prototype["delete"]=Wn;Gn.prototype.get=Vn;Gn.prototype.has=qn;Gn.prototype.set=Jn;function Yn(e){var t=-1,r=e==null?0:e.length;this.__data__=new Gn;while(++t<r){this.add(e[t])}}function Kn(e){this.__data__.set(e,f);return this}function Xn(e){return this.__data__.has(e)}Yn.prototype.add=Yn.prototype.push=Kn;Yn.prototype.has=Xn;function Zn(e){var t=this.__data__=new Fn(e);this.size=t.size}function Qn(){this.__data__=new Fn;this.size=0}function ei(e){var t=this.__data__,r=t["delete"](e);this.size=t.size;return r}function ti(e){return this.__data__.get(e)}function ri(e){return this.__data__.has(e)}function ni(e,t){var r=this.__data__;if(r instanceof Fn){var n=r.__data__;if(!Qt||n.length<s-1){n.push([e,t]);this.size=++r.size;return this}r=this.__data__=new Gn(n)}r.set(e,t);this.size=r.size;return this}Zn.prototype.clear=Qn;Zn.prototype["delete"]=ei;Zn.prototype.get=ti;Zn.prototype.has=ri;Zn.prototype.set=ni;function ii(e,t){var r=uc(e),n=!r&&sc(e),i=!r&&!n&&dc(e),o=!r&&!n&&!i&&Uc(e),a=r||n||i||o,s=a?Vr(e.length,it):[],u=s.length;for(var l in e){if((t||ft.call(e,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||as(l,u)))){s.push(l)}}return s}function oi(e){var t=e.length;return t?e[yo(0,t-1)]:o}function ai(e,t){return Is(ia(e),mi(t,0,e.length))}function si(e){return Is(ia(e))}function ui(e,t,r){if(r!==o&&!ic(e[t],r)||r===o&&!(t in e)){pi(e,t,r)}}function li(e,t,r){var n=e[t];if(!(ft.call(e,t)&&ic(n,r))||r===o&&!(t in e)){pi(e,t,r)}}function ci(e,t){var r=e.length;while(r--){if(ic(e[r][0],t)){return r}}return-1}function fi(e,t,r,n){Ei(e,(function(e,i,o){t(n,e,r(e),o)}));return n}function hi(e,t){return e&&oa(t,Sf(t),e)}function di(e,t){return e&&oa(t,Tf(t),e)}function pi(e,t,r){if(t=="__proto__"&&It){It(e,t,{configurable:true,enumerable:true,value:r,writable:true})}else{e[t]=r}}function vi(e,t){var n=-1,i=t.length,a=r(i),s=e==null;while(++n<i){a[n]=s?o:gf(e,t[n])}return a}function mi(e,t,r){if(e===e){if(r!==o){e=e<=r?e:r}if(t!==o){e=e>=t?e:t}}return e}function gi(e,t,r,n,i,a){var s,u=t&p,l=t&v,c=t&m;if(r){s=i?r(e,n,i,a):r(e)}if(s!==o){return s}if(!Tc(e)){return e}var f=uc(e);if(f){s=ts(e);if(!u){return ia(e,s)}}else{var h=Xa(e),d=h==X||h==Z;if(dc(e)){return Jo(e,u)}if(h==re||h==H||d&&!i){s=l||d?{}:rs(e);if(!u){return l?sa(e,di(s,e)):aa(e,hi(s,e))}}else{if(!Zt[h]){return i?e:{}}s=ns(e,h,u)}}a||(a=new Zn);var g=a.get(e);if(g){return g}a.set(e,s);if(Fc(e)){e.forEach((function(n){s.add(gi(n,t,r,n,e,a))}))}else if(xc(e)){e.forEach((function(n,i){s.set(i,gi(n,t,r,i,e,a))}))}var y=c?l?Ua:Ba:l?Tf:Sf;var b=f?o:y(e);wr(b||e,(function(n,i){if(b){i=n;n=e[i]}li(s,i,gi(n,t,r,i,e,a))}));return s}function yi(e){var t=Sf(e);return function(r){return bi(r,e,t)}}function bi(e,t,r){var n=r.length;if(e==null){return!n}e=rt(e);while(n--){var i=r[n],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s)){return false}}return true}function _i(e,t,r){if(typeof e!="function"){throw new ot(l)}return As((function(){e.apply(o,r)}),t)}function wi(e,t,r,n){var i=-1,o=Ar,a=true,u=e.length,l=[],c=t.length;if(!u){return l}if(r){t=Dr(t,Yr(r))}if(n){o=xr;a=false}else if(t.length>=s){o=Xr;a=false;t=new Yn(t)}e:while(++i<u){var f=e[i],h=r==null?f:r(f);f=n||f!==0?f:0;if(a&&h===h){var d=c;while(d--){if(t[d]===h){continue e}}l.push(f)}else if(!o(t,h,n)){l.push(f)}}return l}var Ei=ca(ki);var Si=ca(Ri,true);function Ti(e,t){var r=true;Ei(e,(function(e,n,i){r=!!t(e,n,i);return r}));return r}function Ai(e,t,r){var n=-1,i=e.length;while(++n<i){var a=e[n],s=t(a);if(s!=null&&(u===o?s===s&&!Bc(s):r(s,u))){var u=s,l=a}}return l}function xi(e,t,r,n){var i=e.length;r=Jc(r);if(r<0){r=-r>i?0:i+r}n=n===o||n>i?i:Jc(n);if(n<0){n+=i}n=r>n?0:Yc(n);while(r<n){e[r++]=t}return e}function Di(e,t){var r=[];Ei(e,(function(e,n,i){if(t(e,n,i)){r.push(e)}}));return r}function Oi(e,t,r,n,i){var o=-1,a=e.length;r||(r=os);i||(i=[]);while(++o<a){var s=e[o];if(t>0&&r(s)){if(t>1){Oi(s,t-1,r,n,i)}else{Or(i,s)}}else if(!n){i[i.length]=s}}return i}var Ii=fa();var Ci=fa(true);function ki(e,t){return e&&Ii(e,t,Sf)}function Ri(e,t){return e&&Ci(e,t,Sf)}function Pi(e,t){return Tr(t,(function(t){return wc(e[t])}))}function Mi(e,t){t=Ho(t,e);var r=0,n=t.length;while(e!=null&&r<n){e=e[ks(t[r++])]}return r&&r==n?e:o}function Li(e,t,r){var n=t(e);return uc(e)?n:Or(n,r(e))}function Ni(e){if(e==null){return e===o?le:te}return Ot&&Ot in rt(e)?Ja(e):bs(e)}function Fi(e,t){return e>t}function ji(e,t){return e!=null&&ft.call(e,t)}function Bi(e,t){return e!=null&&t in rt(e)}function Ui(e,t,r){return e>=zt(t,r)&&e<Ut(t,r)}function zi(e,t,n){var i=n?xr:Ar,a=e[0].length,s=e.length,u=s,l=r(s),c=Infinity,f=[];while(u--){var h=e[u];if(u&&t){h=Dr(h,Yr(t))}c=zt(h.length,c);l[u]=!n&&(t||a>=120&&h.length>=120)?new Yn(u&&h):o}h=e[0];var d=-1,p=l[0];e:while(++d<a&&f.length<c){var v=h[d],m=t?t(v):v;v=n||v!==0?v:0;if(!(p?Xr(p,m):i(f,m,n))){u=s;while(--u){var g=l[u];if(!(g?Xr(g,m):i(e[u],m,n))){continue e}}if(p){p.push(m)}f.push(v)}}return f}function $i(e,t,r,n){ki(e,(function(e,i,o){t(n,r(e),i,o)}));return n}function Gi(e,t,r){t=Ho(t,e);e=ws(e,t);var n=e==null?e:e[ks(ou(t))];return n==null?o:br(n,e,r)}function Hi(e){return Ac(e)&&Ni(e)==H}function Wi(e){return Ac(e)&&Ni(e)==he}function Vi(e){return Ac(e)&&Ni(e)==J}function qi(e,t,r,n,i){if(e===t){return true}if(e==null||t==null||!Ac(e)&&!Ac(t)){return e!==e&&t!==t}return Ji(e,t,r,n,qi,i)}function Ji(e,t,r,n,i,o){var a=uc(e),s=uc(t),u=a?W:Xa(e),l=s?W:Xa(t);u=u==H?re:u;l=l==H?re:l;var c=u==re,f=l==re,h=u==l;if(h&&dc(e)){if(!dc(t)){return false}a=true;c=false}if(h&&!c){o||(o=new Zn);return a||Uc(e)?La(e,t,r,n,i,o):Na(e,t,u,r,n,i,o)}if(!(r&g)){var d=c&&ft.call(e,"__wrapped__"),p=f&&ft.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,m=p?t.value():t;o||(o=new Zn);return i(v,m,r,n,o)}}if(!h){return false}o||(o=new Zn);return Fa(e,t,r,n,i,o)}function Yi(e){return Ac(e)&&Xa(e)==Q}function Ki(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null){return!a}e=rt(e);while(i--){var u=r[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e)){return false}}while(++i<a){u=r[i];var l=u[0],c=e[l],f=u[1];if(s&&u[2]){if(c===o&&!(l in e)){return false}}else{var h=new Zn;if(n){var d=n(c,f,l,e,t,h)}if(!(d===o?qi(f,c,g|y,n,h):d)){return false}}}return true}function Xi(e){if(!Tc(e)||fs(e)){return false}var t=wc(e)?gt:Ke;return t.test(Rs(e))}function Zi(e){return Ac(e)&&Ni(e)==oe}function Qi(e){return Ac(e)&&Xa(e)==ae}function eo(e){return Ac(e)&&Sc(e.length)&&!!Xt[Ni(e)]}function to(e){if(typeof e=="function"){return e}if(e==null){return kh}if(typeof e=="object"){return uc(e)?so(e[0],e[1]):ao(e)}return Hh(e)}function ro(e){if(!ds(e)){return Bt(e)}var t=[];for(var r in rt(e)){if(ft.call(e,r)&&r!="constructor"){t.push(r)}}return t}function no(e){if(!Tc(e)){return ys(e)}var t=ds(e),r=[];for(var n in e){if(!(n=="constructor"&&(t||!ft.call(e,n)))){r.push(n)}}return r}function io(e,t){return e<t}function oo(e,t){var n=-1,i=cc(e)?r(e.length):[];Ei(e,(function(e,r,o){i[++n]=t(e,r,o)}));return i}function ao(e){var t=Va(e);if(t.length==1&&t[0][2]){return vs(t[0][0],t[0][1])}return function(r){return r===e||Ki(r,e,t)}}function so(e,t){if(us(e)&&ps(t)){return vs(ks(e),t)}return function(r){var n=gf(r,e);return n===o&&n===t?bf(r,e):qi(t,n,g|y)}}function uo(e,t,r,n,i){if(e===t){return}Ii(t,(function(a,s){i||(i=new Zn);if(Tc(a)){lo(e,t,s,r,uo,n,i)}else{var u=n?n(Ss(e,s),a,s+"",e,t,i):o;if(u===o){u=a}ui(e,s,u)}}),Tf)}function lo(e,t,r,n,i,a,s){var u=Ss(e,r),l=Ss(t,r),c=s.get(l);if(c){ui(e,r,c);return}var f=a?a(u,l,r+"",e,t,s):o;var h=f===o;if(h){var d=uc(l),p=!d&&dc(l),v=!d&&!p&&Uc(l);f=l;if(d||p||v){if(uc(u)){f=u}else if(fc(u)){f=ia(u)}else if(p){h=false;f=Jo(l,true)}else if(v){h=false;f=Qo(l,true)}else{f=[]}}else if(Mc(l)||sc(l)){f=u;if(sc(u)){f=Xc(u)}else if(!Tc(u)||wc(u)){f=rs(l)}}else{h=false}}if(h){s.set(l,f);i(f,l,n,a,s);s["delete"](l)}ui(e,r,f)}function co(e,t){var r=e.length;if(!r){return}t+=t<0?r:0;return as(t,r)?e[t]:o}function fo(e,t,r){if(t.length){t=Dr(t,(function(e){if(uc(e)){return function(t){return Mi(t,e.length===1?e[0]:e)}}return e}))}else{t=[kh]}var n=-1;t=Dr(t,Yr(Ha()));var i=oo(e,(function(e,r,i){var o=Dr(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return Hr(i,(function(e,t){return ta(e,t,r)}))}function ho(e,t){return po(e,t,(function(t,r){return bf(e,r)}))}function po(e,t,r){var n=-1,i=t.length,o={};while(++n<i){var a=t[n],s=Mi(e,a);if(r(s,a)){To(o,Ho(a,e),s)}}return o}function vo(e){return function(t){return Mi(t,e)}}function mo(e,t,r,n){var i=n?jr:Fr,o=-1,a=t.length,s=e;if(e===t){t=ia(t)}if(r){s=Dr(e,Yr(r))}while(++o<a){var u=0,l=t[o],c=r?r(l):l;while((u=i(s,c,u,n))>-1){if(s!==e){At.call(s,u,1)}At.call(e,u,1)}}return e}function go(e,t){var r=e?t.length:0,n=r-1;while(r--){var i=t[r];if(r==n||i!==o){var o=i;if(as(i)){At.call(e,i,1)}else{No(e,i)}}}return e}function yo(e,t){return e+Mt(Vt()*(t-e+1))}function bo(e,t,n,i){var o=-1,a=Ut(Pt((t-e)/(n||1)),0),s=r(a);while(a--){s[i?a:++o]=e;e+=n}return s}function _o(e,t){var r="";if(!e||t<1||t>F){return r}do{if(t%2){r+=e}t=Mt(t/2);if(t){e+=e}}while(t);return r}function wo(e,t){return xs(_s(e,t,kh),e+"")}function Eo(e){return oi($f(e))}function So(e,t){var r=$f(e);return Is(r,mi(t,0,r.length))}function To(e,t,r,n){if(!Tc(e)){return e}t=Ho(t,e);var i=-1,a=t.length,s=a-1,u=e;while(u!=null&&++i<a){var l=ks(t[i]),c=r;if(l==="__proto__"||l==="constructor"||l==="prototype"){return e}if(i!=s){var f=u[l];c=n?n(f,l,u):o;if(c===o){c=Tc(f)?f:as(t[i+1])?[]:{}}}li(u,l,c);u=u[l]}return e}var Ao=!ar?kh:function(e,t){ar.set(e,t);return e};var xo=!It?kh:function(e,t){return It(e,"toString",{configurable:true,enumerable:false,value:Dh(t),writable:true})};function Do(e){return Is($f(e))}function Oo(e,t,n){var i=-1,o=e.length;if(t<0){t=-t>o?0:o+t}n=n>o?o:n;if(n<0){n+=o}o=t>n?0:n-t>>>0;t>>>=0;var a=r(o);while(++i<o){a[i]=e[i+t]}return a}function Io(e,t){var r;Ei(e,(function(e,n,i){r=t(e,n,i);return!r}));return!!r}function Co(e,t,r){var n=0,i=e==null?n:e.length;if(typeof t=="number"&&t===t&&i<=$){while(n<i){var o=n+i>>>1,a=e[o];if(a!==null&&!Bc(a)&&(r?a<=t:a<t)){n=o+1}else{i=o}}return i}return ko(e,t,kh,r)}function ko(e,t,r,n){var i=0,a=e==null?0:e.length;if(a===0){return 0}t=r(t);var s=t!==t,u=t===null,l=Bc(t),c=t===o;while(i<a){var f=Mt((i+a)/2),h=r(e[f]),d=h!==o,p=h===null,v=h===h,m=Bc(h);if(s){var g=n||v}else if(c){g=v&&(n||d)}else if(u){g=v&&d&&(n||!p)}else if(l){g=v&&d&&!p&&(n||!m)}else if(p||m){g=false}else{g=n?h<=t:h<t}if(g){i=f+1}else{a=f}}return zt(a,z)}function Ro(e,t){var r=-1,n=e.length,i=0,o=[];while(++r<n){var a=e[r],s=t?t(a):a;if(!r||!ic(s,u)){var u=s;o[i++]=a===0?0:a}}return o}function Po(e){if(typeof e=="number"){return e}if(Bc(e)){return B}return+e}function Mo(e){if(typeof e=="string"){return e}if(uc(e)){return Dr(e,Mo)+""}if(Bc(e)){return _n?_n.call(e):""}var t=e+"";return t=="0"&&1/e==-N?"-0":t}function Lo(e,t,r){var n=-1,i=Ar,o=e.length,a=true,u=[],l=u;if(r){a=false;i=xr}else if(o>=s){var c=t?null:Ia(e);if(c){return hn(c)}a=false;i=Xr;l=new Yn}else{l=t?[]:u}e:while(++n<o){var f=e[n],h=t?t(f):f;f=r||f!==0?f:0;if(a&&h===h){var d=l.length;while(d--){if(l[d]===h){continue e}}if(t){l.push(h)}u.push(f)}else if(!i(l,h,r)){if(l!==u){l.push(h)}u.push(f)}}return u}function No(e,t){t=Ho(t,e);e=ws(e,t);return e==null||delete e[ks(ou(t))]}function Fo(e,t,r,n){return To(e,t,r(Mi(e,t)),n)}function jo(e,t,r,n){var i=e.length,o=n?i:-1;while((n?o--:++o<i)&&t(e[o],o,e)){}return r?Oo(e,n?0:o,n?o+1:i):Oo(e,n?o+1:0,n?i:o)}function Bo(e,t){var r=e;if(r instanceof Dn){r=r.value()}return Ir(t,(function(e,t){return t.func.apply(t.thisArg,Or([e],t.args))}),r)}function Uo(e,t,n){var i=e.length;if(i<2){return i?Lo(e[0]):[]}var o=-1,a=r(i);while(++o<i){var s=e[o],u=-1;while(++u<i){if(u!=o){a[o]=wi(a[o]||s,e[u],t,n)}}}return Lo(Oi(a,1),t,n)}function zo(e,t,r){var n=-1,i=e.length,a=t.length,s={};while(++n<i){var u=n<a?t[n]:o;r(s,e[n],u)}return s}function $o(e){return fc(e)?e:[]}function Go(e){return typeof e=="function"?e:kh}function Ho(e,t){if(uc(e)){return e}return us(e,t)?[e]:Cs(Qc(e))}var Wo=wo;function Vo(e,t,r){var n=e.length;r=r===o?n:r;return!t&&r>=n?e:Oo(e,t,r)}var qo=Ct||function(e){return sr.clearTimeout(e)};function Jo(e,t){if(t){return e.slice()}var r=e.length,n=wt?wt(r):new e.constructor(r);e.copy(n);return n}function Yo(e){var t=new e.constructor(e.byteLength);new _t(t).set(new _t(e));return t}function Ko(e,t){var r=t?Yo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Xo(e){var t=new e.constructor(e.source,qe.exec(e));t.lastIndex=e.lastIndex;return t}function Zo(e){return pn?rt(pn.call(e)):{}}function Qo(e,t){var r=t?Yo(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ea(e,t){if(e!==t){var r=e!==o,n=e===null,i=e===e,a=Bc(e);var s=t!==o,u=t===null,l=t===t,c=Bc(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||n&&s&&l||!r&&l||!i){return 1}if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||u&&r&&i||!s&&i||!l){return-1}}return 0}function ta(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;while(++n<a){var u=ea(i[n],o[n]);if(u){if(n>=s){return u}var l=r[n];return u*(l=="desc"?-1:1)}}return e.index-t.index}function ra(e,t,n,i){var o=-1,a=e.length,s=n.length,u=-1,l=t.length,c=Ut(a-s,0),f=r(l+c),h=!i;while(++u<l){f[u]=t[u]}while(++o<s){if(h||o<a){f[n[o]]=e[o]}}while(c--){f[u++]=e[o++]}return f}function na(e,t,n,i){var o=-1,a=e.length,s=-1,u=n.length,l=-1,c=t.length,f=Ut(a-u,0),h=r(f+c),d=!i;while(++o<f){h[o]=e[o]}var p=o;while(++l<c){h[p+l]=t[l]}while(++s<u){if(d||o<a){h[p+n[s]]=e[o++]}}return h}function ia(e,t){var n=-1,i=e.length;t||(t=r(i));while(++n<i){t[n]=e[n]}return t}function oa(e,t,r,n){var i=!r;r||(r={});var a=-1,s=t.length;while(++a<s){var u=t[a];var l=n?n(r[u],e[u],u,r,e):o;if(l===o){l=e[u]}if(i){pi(r,u,l)}else{li(r,u,l)}}return r}function aa(e,t){return oa(e,Ya(e),t)}function sa(e,t){return oa(e,Ka(e),t)}function ua(e,t){return function(r,n){var i=uc(r)?_r:fi,o=t?t():{};return i(r,e,Ha(n,2),o)}}function la(e){return wo((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,s=i>2?r[2]:o;a=e.length>3&&typeof a=="function"?(i--,a):o;if(s&&ss(r[0],r[1],s)){a=i<3?o:a;i=1}t=rt(t);while(++n<i){var u=r[n];if(u){e(t,u,n,a)}}return t}))}function ca(e,t){return function(r,n){if(r==null){return r}if(!cc(r)){return e(r,n)}var i=r.length,o=t?i:-1,a=rt(r);while(t?o--:++o<i){if(n(a[o],o,a)===false){break}}return r}}function fa(e){return function(t,r,n){var i=-1,o=rt(t),a=n(t),s=a.length;while(s--){var u=a[e?s:++i];if(r(o[u],u,o)===false){break}}return t}}function ha(e,t,r){var n=t&b,i=va(e);function o(){var t=this&&this!==sr&&this instanceof o?i:e;return t.apply(n?r:this,arguments)}return o}function da(e){return function(t){t=Qc(t);var r=an(t)?gn(t):o;var n=r?r[0]:t.charAt(0);var i=r?Vo(r,1).join(""):t.slice(1);return n[e]()+i}}function pa(e){return function(t){return Ir(Eh(Yf(t).replace(Gt,"")),e,"")}}function va(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Sn(e.prototype),n=e.apply(r,t);return Tc(n)?n:r}}function ma(e,t,n){var i=va(e);function a(){var s=arguments.length,u=r(s),l=s,c=Ga(a);while(l--){u[l]=arguments[l]}var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:fn(u,c);s-=f.length;if(s<n){return Da(e,t,ba,a.placeholder,o,u,f,o,o,n-s)}var h=this&&this!==sr&&this instanceof a?i:e;return br(h,this,u)}return a}function ga(e){return function(t,r,n){var i=rt(t);if(!cc(t)){var a=Ha(r,3);t=Sf(t);r=function(e){return a(i[e],e,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:o}}function ya(e){return ja((function(t){var r=t.length,n=r,i=xn.prototype.thru;if(e){t.reverse()}while(n--){var a=t[n];if(typeof a!="function"){throw new ot(l)}if(i&&!s&&$a(a)=="wrapper"){var s=new xn([],true)}}n=s?n:r;while(++n<r){a=t[n];var u=$a(a),c=u=="wrapper"?za(a):o;if(c&&cs(c[0])&&c[1]==(x|E|T|D)&&!c[4].length&&c[9]==1){s=s[$a(c[0])].apply(s,c[3])}else{s=a.length==1&&cs(a)?s[u]():s.thru(a)}}return function(){var e=arguments,n=e[0];if(s&&e.length==1&&uc(n)){return s.plant(n).value()}var i=0,o=r?t[i].apply(this,e):n;while(++i<r){o=t[i].call(this,o)}return o}}))}function ba(e,t,n,i,a,s,u,l,c,f){var h=t&x,d=t&b,p=t&_,v=t&(E|S),m=t&O,g=p?o:va(e);function y(){var o=arguments.length,b=r(o),_=o;while(_--){b[_]=arguments[_]}if(v){var w=Ga(y),E=en(b,w)}if(i){b=ra(b,i,a,v)}if(s){b=na(b,s,u,v)}o-=E;if(v&&o<f){var S=fn(b,w);return Da(e,t,ba,y.placeholder,n,b,S,l,c,f-o)}var T=d?n:this,A=p?T[e]:e;o=b.length;if(l){b=Es(b,l)}else if(m&&o>1){b.reverse()}if(h&&c<o){b.length=c}if(this&&this!==sr&&this instanceof y){A=g||va(A)}return A.apply(T,b)}return y}function _a(e,t){return function(r,n){return $i(r,e,t(n),{})}}function wa(e,t){return function(r,n){var i;if(r===o&&n===o){return t}if(r!==o){i=r}if(n!==o){if(i===o){return n}if(typeof r=="string"||typeof n=="string"){r=Mo(r);n=Mo(n)}else{r=Po(r);n=Po(n)}i=e(r,n)}return i}}function Ea(e){return ja((function(t){t=Dr(t,Yr(Ha()));return wo((function(r){var n=this;return e(t,(function(e){return br(e,n,r)}))}))}))}function Sa(e,t){t=t===o?" ":Mo(t);var r=t.length;if(r<2){return r?_o(t,e):t}var n=_o(t,Pt(e/mn(t)));return an(t)?Vo(gn(n),0,e).join(""):n.slice(0,e)}function Ta(e,t,n,i){var o=t&b,a=va(e);function s(){var t=-1,u=arguments.length,l=-1,c=i.length,f=r(c+u),h=this&&this!==sr&&this instanceof s?a:e;while(++l<c){f[l]=i[l]}while(u--){f[l++]=arguments[++t]}return br(h,o?n:this,f)}return s}function Aa(e){return function(t,r,n){if(n&&typeof n!="number"&&ss(t,r,n)){r=n=o}t=qc(t);if(r===o){r=t;t=0}else{r=qc(r)}n=n===o?t<r?1:-1:qc(n);return bo(t,r,n,e)}}function xa(e){return function(t,r){if(!(typeof t=="string"&&typeof r=="string")){t=Kc(t);r=Kc(r)}return e(t,r)}}function Da(e,t,r,n,i,a,s,u,l,c){var f=t&E,h=f?s:o,d=f?o:s,p=f?a:o,v=f?o:a;t|=f?T:A;t&=~(f?A:T);if(!(t&w)){t&=~(b|_)}var m=[e,t,i,p,h,v,d,u,l,c];var g=r.apply(o,m);if(cs(e)){Ts(g,m)}g.placeholder=n;return Ds(g,e,t)}function Oa(e){var t=Ge[e];return function(e,r){e=Kc(e);r=r==null?0:zt(Jc(r),292);if(r&&Ft(e)){var n=(Qc(e)+"e").split("e"),i=t(n[0]+"e"+(+n[1]+r));n=(Qc(i)+"e").split("e");return+(n[0]+"e"+(+n[1]-r))}return t(e)}}var Ia=!(tr&&1/hn(new tr([,-0]))[1]==N)?Bh:function(e){return new tr(e)};function Ca(e){return function(t){var r=Xa(t);if(r==Q){return ln(t)}if(r==ae){return dn(t)}return qr(t,e(t))}}function ka(e,t,r,n,i,a,s,u){var c=t&_;if(!c&&typeof e!="function"){throw new ot(l)}var f=n?n.length:0;if(!f){t&=~(T|A);n=i=o}s=s===o?s:Ut(Jc(s),0);u=u===o?u:Jc(u);f-=i?i.length:0;if(t&A){var h=n,d=i;n=i=o}var p=c?o:za(e);var v=[e,t,r,n,i,h,d,a,s,u];if(p){gs(v,p)}e=v[0];t=v[1];r=v[2];n=v[3];i=v[4];u=v[9]=v[9]===o?c?0:e.length:Ut(v[9]-f,0);if(!u&&t&(E|S)){t&=~(E|S)}if(!t||t==b){var m=ha(e,t,r)}else if(t==E||t==S){m=ma(e,t,u)}else if((t==T||t==(b|T))&&!i.length){m=Ta(e,t,r,n)}else{m=ba.apply(o,v)}var g=p?Ao:Ts;return Ds(g(m,v),e,t)}function Ra(e,t,r,n){if(e===o||ic(e,ut[r])&&!ft.call(n,r)){return t}return e}function Pa(e,t,r,n,i,a){if(Tc(e)&&Tc(t)){a.set(t,e);uo(e,t,o,Pa,a);a["delete"](t)}return e}function Ma(e){return Mc(e)?o:e}function La(e,t,r,n,i,a){var s=r&g,u=e.length,l=t.length;if(u!=l&&!(s&&l>u)){return false}var c=a.get(e);var f=a.get(t);if(c&&f){return c==t&&f==e}var h=-1,d=true,p=r&y?new Yn:o;a.set(e,t);a.set(t,e);while(++h<u){var v=e[h],m=t[h];if(n){var b=s?n(m,v,h,t,e,a):n(v,m,h,e,t,a)}if(b!==o){if(b){continue}d=false;break}if(p){if(!kr(t,(function(e,t){if(!Xr(p,t)&&(v===e||i(v,e,r,n,a))){return p.push(t)}}))){d=false;break}}else if(!(v===m||i(v,m,r,n,a))){d=false;break}}a["delete"](e);a["delete"](t);return d}function Na(e,t,r,n,i,o,a){switch(r){case de:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case he:if(e.byteLength!=t.byteLength||!o(new _t(e),new _t(t))){return false}return true;case q:case J:case ee:return ic(+e,+t);case K:return e.name==t.name&&e.message==t.message;case oe:case se:return e==t+"";case Q:var s=ln;case ae:var u=n&g;s||(s=hn);if(e.size!=t.size&&!u){return false}var l=a.get(e);if(l){return l==t}n|=y;a.set(e,t);var c=La(s(e),s(t),n,i,o,a);a["delete"](e);return c;case ue:if(pn){return pn.call(e)==pn.call(t)}}return false}function Fa(e,t,r,n,i,a){var s=r&g,u=Ba(e),l=u.length,c=Ba(t),f=c.length;if(l!=f&&!s){return false}var h=l;while(h--){var d=u[h];if(!(s?d in t:ft.call(t,d))){return false}}var p=a.get(e);var v=a.get(t);if(p&&v){return p==t&&v==e}var m=true;a.set(e,t);a.set(t,e);var y=s;while(++h<l){d=u[h];var b=e[d],_=t[d];if(n){var w=s?n(_,b,d,t,e,a):n(b,_,d,e,t,a)}if(!(w===o?b===_||i(b,_,r,n,a):w)){m=false;break}y||(y=d=="constructor")}if(m&&!y){var E=e.constructor,S=t.constructor;if(E!=S&&("constructor"in e&&"constructor"in t)&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)){m=false}}a["delete"](e);a["delete"](t);return m}function ja(e){return xs(_s(e,o,Js),e+"")}function Ba(e){return Li(e,Sf,Ya)}function Ua(e){return Li(e,Tf,Ka)}var za=!ar?Bh:function(e){return ar.get(e)};function $a(e){var t=e.name+"",r=ur[t],n=ft.call(ur,t)?r.length:0;while(n--){var i=r[n],o=i.func;if(o==null||o==e){return i.name}}return t}function Ga(e){var t=ft.call(wn,"placeholder")?wn:e;return t.placeholder}function Ha(){var e=wn.iteratee||Rh;e=e===Rh?to:e;return arguments.length?e(arguments[0],arguments[1]):e}function Wa(e,t){var r=e.__data__;return ls(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Va(e){var t=Sf(e),r=t.length;while(r--){var n=t[r],i=e[n];t[r]=[n,i,ps(i)]}return t}function qa(e,t){var r=on(e,t);return Xi(r)?r:o}function Ja(e){var t=ft.call(e,Ot),r=e[Ot];try{e[Ot]=o;var n=true}catch(e){}var i=pt.call(e);if(n){if(t){e[Ot]=r}else{delete e[Ot]}}return i}var Ya=!Lt?Jh:function(e){if(e==null){return[]}e=rt(e);return Tr(Lt(e),(function(t){return Tt.call(e,t)}))};var Ka=!Lt?Jh:function(e){var t=[];while(e){Or(t,Ya(e));e=Et(e)}return t};var Xa=Ni;if(Jt&&Xa(new Jt(new ArrayBuffer(1)))!=de||Qt&&Xa(new Qt)!=Q||er&&Xa(er.resolve())!=ne||tr&&Xa(new tr)!=ae||rr&&Xa(new rr)!=ce){Xa=function(e){var t=Ni(e),r=t==re?e.constructor:o,n=r?Rs(r):"";if(n){switch(n){case lr:return de;case fr:return Q;case hr:return ne;case Rr:return ae;case Pr:return ce}}return t}}function Za(e,t,r){var n=-1,i=r.length;while(++n<i){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=zt(t,e+a);break;case"takeRight":e=Ut(e,t-a);break}}return{start:e,end:t}}function Qa(e){var t=e.match(ze);return t?t[1].split($e):[]}function es(e,t,r){t=Ho(t,e);var n=-1,i=t.length,o=false;while(++n<i){var a=ks(t[n]);if(!(o=e!=null&&r(e,a))){break}e=e[a]}if(o||++n!=i){return o}i=e==null?0:e.length;return!!i&&Sc(i)&&as(a,i)&&(uc(e)||sc(e))}function ts(e){var t=e.length,r=new e.constructor(t);if(t&&typeof e[0]=="string"&&ft.call(e,"index")){r.index=e.index;r.input=e.input}return r}function rs(e){return typeof e.constructor=="function"&&!ds(e)?Sn(Et(e)):{}}function ns(e,t,r){var n=e.constructor;switch(t){case he:return Yo(e);case q:case J:return new n(+e);case de:return Ko(e,r);case pe:case ve:case me:case ge:case ye:case be:case _e:case we:case Ee:return Qo(e,r);case Q:return new n;case ee:case se:return new n(e);case oe:return Xo(e);case ae:return new n;case ue:return Zo(e)}}function is(e,t){var r=t.length;if(!r){return e}var n=r-1;t[n]=(r>1?"& ":"")+t[n];t=t.join(r>2?", ":" ");return e.replace(Ue,"{\n/* [wrapped with "+t+"] */\n")}function os(e){return uc(e)||sc(e)||!!(xt&&e&&e[xt])}function as(e,t){var r=typeof e;t=t==null?F:t;return!!t&&(r=="number"||r!="symbol"&&Ze.test(e))&&(e>-1&&e%1==0&&e<t)}function ss(e,t,r){if(!Tc(r)){return false}var n=typeof t;if(n=="number"?cc(r)&&as(t,r.length):n=="string"&&t in r){return ic(r[t],e)}return false}function us(e,t){if(uc(e)){return false}var r=typeof e;if(r=="number"||r=="symbol"||r=="boolean"||e==null||Bc(e)){return true}return Me.test(e)||!Pe.test(e)||t!=null&&e in rt(t)}function ls(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function cs(e){var t=$a(e),r=wn[t];if(typeof r!="function"||!(t in Dn.prototype)){return false}if(e===r){return true}var n=za(r);return!!n&&e===n[0]}function fs(e){return!!dt&&dt in e}var hs=lt?wc:Yh;function ds(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ut;return e===r}function ps(e){return e===e&&!Tc(e)}function vs(e,t){return function(r){if(r==null){return false}return r[e]===t&&(t!==o||e in rt(r))}}function ms(e){var t=Ul(e,(function(e){if(r.size===h){r.clear()}return e}));var r=t.cache;return t}function gs(e,t){var r=e[1],n=t[1],i=r|n,o=i<(b|_|x);var a=n==x&&r==E||n==x&&r==D&&e[7].length<=t[8]||n==(x|D)&&t[7].length<=t[8]&&r==E;if(!(o||a)){return e}if(n&b){e[2]=t[2];i|=r&b?0:w}var s=t[3];if(s){var u=e[3];e[3]=u?ra(u,s,t[4]):s;e[4]=u?fn(e[3],d):t[4]}s=t[5];if(s){u=e[5];e[5]=u?na(u,s,t[6]):s;e[6]=u?fn(e[5],d):t[6]}s=t[7];if(s){e[7]=s}if(n&x){e[8]=e[8]==null?t[8]:zt(e[8],t[8])}if(e[9]==null){e[9]=t[9]}e[0]=t[0];e[1]=i;return e}function ys(e){var t=[];if(e!=null){for(var r in rt(e)){t.push(r)}}return t}function bs(e){return pt.call(e)}function _s(e,t,n){t=Ut(t===o?e.length-1:t,0);return function(){var i=arguments,o=-1,a=Ut(i.length-t,0),s=r(a);while(++o<a){s[o]=i[t+o]}o=-1;var u=r(t+1);while(++o<t){u[o]=i[o]}u[t]=n(s);return br(e,this,u)}}function ws(e,t){return t.length<2?e:Mi(e,Oo(t,0,-1))}function Es(e,t){var r=e.length,n=zt(t.length,r),i=ia(e);while(n--){var a=t[n];e[n]=as(a,r)?i[a]:o}return e}function Ss(e,t){if(t==="constructor"&&typeof e[t]==="function"){return}if(t=="__proto__"){return}return e[t]}var Ts=Os(Ao);var As=Rt||function(e,t){return sr.setTimeout(e,t)};var xs=Os(xo);function Ds(e,t,r){var n=t+"";return xs(e,is(n,Ps(Qa(n),r)))}function Os(e){var t=0,r=0;return function(){var n=$t(),i=R-(n-r);r=n;if(i>0){if(++t>=k){return arguments[0]}}else{t=0}return e.apply(o,arguments)}}function Is(e,t){var r=-1,n=e.length,i=n-1;t=t===o?n:t;while(++r<t){var a=yo(r,i),s=e[a];e[a]=e[r];e[r]=s}e.length=t;return e}var Cs=ms((function(e){var t=[];if(e.charCodeAt(0)===46){t.push("")}e.replace(Le,(function(e,r,n,i){t.push(n?i.replace(We,"$1"):r||e)}));return t}));function ks(e){if(typeof e=="string"||Bc(e)){return e}var t=e+"";return t=="0"&&1/e==-N?"-0":t}function Rs(e){if(e!=null){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ps(e,t){wr(G,(function(r){var n="_."+r[0];if(t&r[1]&&!Ar(e,n)){e.push(n)}}));return e.sort()}function Ms(e){if(e instanceof Dn){return e.clone()}var t=new xn(e.__wrapped__,e.__chain__);t.__actions__=ia(e.__actions__);t.__index__=e.__index__;t.__values__=e.__values__;return t}function Ls(e,t,n){if(n?ss(e,t,n):t===o){t=1}else{t=Ut(Jc(t),0)}var i=e==null?0:e.length;if(!i||t<1){return[]}var a=0,s=0,u=r(Pt(i/t));while(a<i){u[s++]=Oo(e,a,a+=t)}return u}function Ns(e){var t=-1,r=e==null?0:e.length,n=0,i=[];while(++t<r){var o=e[t];if(o){i[n++]=o}}return i}function Fs(){var e=arguments.length;if(!e){return[]}var t=r(e-1),n=arguments[0],i=e;while(i--){t[i-1]=arguments[i]}return Or(uc(n)?ia(n):[n],Oi(t,1))}var js=wo((function(e,t){return fc(e)?wi(e,Oi(t,1,fc,true)):[]}));var Bs=wo((function(e,t){var r=ou(t);if(fc(r)){r=o}return fc(e)?wi(e,Oi(t,1,fc,true),Ha(r,2)):[]}));var Us=wo((function(e,t){var r=ou(t);if(fc(r)){r=o}return fc(e)?wi(e,Oi(t,1,fc,true),o,r):[]}));function zs(e,t,r){var n=e==null?0:e.length;if(!n){return[]}t=r||t===o?1:Jc(t);return Oo(e,t<0?0:t,n)}function $s(e,t,r){var n=e==null?0:e.length;if(!n){return[]}t=r||t===o?1:Jc(t);t=n-t;return Oo(e,0,t<0?0:t)}function Gs(e,t){return e&&e.length?jo(e,Ha(t,3),true,true):[]}function Hs(e,t){return e&&e.length?jo(e,Ha(t,3),true):[]}function Ws(e,t,r,n){var i=e==null?0:e.length;if(!i){return[]}if(r&&typeof r!="number"&&ss(e,t,r)){r=0;n=i}return xi(e,t,r,n)}function Vs(e,t,r){var n=e==null?0:e.length;if(!n){return-1}var i=r==null?0:Jc(r);if(i<0){i=Ut(n+i,0)}return Nr(e,Ha(t,3),i)}function qs(e,t,r){var n=e==null?0:e.length;if(!n){return-1}var i=n-1;if(r!==o){i=Jc(r);i=r<0?Ut(n+i,0):zt(i,n-1)}return Nr(e,Ha(t,3),i,true)}function Js(e){var t=e==null?0:e.length;return t?Oi(e,1):[]}function Ys(e){var t=e==null?0:e.length;return t?Oi(e,N):[]}function Ks(e,t){var r=e==null?0:e.length;if(!r){return[]}t=t===o?1:Jc(t);return Oi(e,t)}function Xs(e){var t=-1,r=e==null?0:e.length,n={};while(++t<r){var i=e[t];n[i[0]]=i[1]}return n}function Zs(e){return e&&e.length?e[0]:o}function Qs(e,t,r){var n=e==null?0:e.length;if(!n){return-1}var i=r==null?0:Jc(r);if(i<0){i=Ut(n+i,0)}return Fr(e,t,i)}function eu(e){var t=e==null?0:e.length;return t?Oo(e,0,-1):[]}var tu=wo((function(e){var t=Dr(e,$o);return t.length&&t[0]===e[0]?zi(t):[]}));var ru=wo((function(e){var t=ou(e),r=Dr(e,$o);if(t===ou(r)){t=o}else{r.pop()}return r.length&&r[0]===e[0]?zi(r,Ha(t,2)):[]}));var nu=wo((function(e){var t=ou(e),r=Dr(e,$o);t=typeof t=="function"?t:o;if(t){r.pop()}return r.length&&r[0]===e[0]?zi(r,o,t):[]}));function iu(e,t){return e==null?"":jt.call(e,t)}function ou(e){var t=e==null?0:e.length;return t?e[t-1]:o}function au(e,t,r){var n=e==null?0:e.length;if(!n){return-1}var i=n;if(r!==o){i=Jc(r);i=i<0?Ut(n+i,0):zt(i,n-1)}return t===t?vn(e,t,i):Nr(e,Br,i,true)}function su(e,t){return e&&e.length?co(e,Jc(t)):o}var uu=wo(lu);function lu(e,t){return e&&e.length&&t&&t.length?mo(e,t):e}function cu(e,t,r){return e&&e.length&&t&&t.length?mo(e,t,Ha(r,2)):e}function fu(e,t,r){return e&&e.length&&t&&t.length?mo(e,t,o,r):e}var hu=ja((function(e,t){var r=e==null?0:e.length,n=vi(e,t);go(e,Dr(t,(function(e){return as(e,r)?+e:e})).sort(ea));return n}));function du(e,t){var r=[];if(!(e&&e.length)){return r}var n=-1,i=[],o=e.length;t=Ha(t,3);while(++n<o){var a=e[n];if(t(a,n,e)){r.push(a);i.push(n)}}go(e,i);return r}function pu(e){return e==null?e:qt.call(e)}function vu(e,t,r){var n=e==null?0:e.length;if(!n){return[]}if(r&&typeof r!="number"&&ss(e,t,r)){t=0;r=n}else{t=t==null?0:Jc(t);r=r===o?n:Jc(r)}return Oo(e,t,r)}function mu(e,t){return Co(e,t)}function gu(e,t,r){return ko(e,t,Ha(r,2))}function yu(e,t){var r=e==null?0:e.length;if(r){var n=Co(e,t);if(n<r&&ic(e[n],t)){return n}}return-1}function bu(e,t){return Co(e,t,true)}function _u(e,t,r){return ko(e,t,Ha(r,2),true)}function wu(e,t){var r=e==null?0:e.length;if(r){var n=Co(e,t,true)-1;if(ic(e[n],t)){return n}}return-1}function Eu(e){return e&&e.length?Ro(e):[]}function Su(e,t){return e&&e.length?Ro(e,Ha(t,2)):[]}function Tu(e){var t=e==null?0:e.length;return t?Oo(e,1,t):[]}function Au(e,t,r){if(!(e&&e.length)){return[]}t=r||t===o?1:Jc(t);return Oo(e,0,t<0?0:t)}function xu(e,t,r){var n=e==null?0:e.length;if(!n){return[]}t=r||t===o?1:Jc(t);t=n-t;return Oo(e,t<0?0:t,n)}function Du(e,t){return e&&e.length?jo(e,Ha(t,3),false,true):[]}function Ou(e,t){return e&&e.length?jo(e,Ha(t,3)):[]}var Iu=wo((function(e){return Lo(Oi(e,1,fc,true))}));var Cu=wo((function(e){var t=ou(e);if(fc(t)){t=o}return Lo(Oi(e,1,fc,true),Ha(t,2))}));var ku=wo((function(e){var t=ou(e);t=typeof t=="function"?t:o;return Lo(Oi(e,1,fc,true),o,t)}));function Ru(e){return e&&e.length?Lo(e):[]}function Pu(e,t){return e&&e.length?Lo(e,Ha(t,2)):[]}function Mu(e,t){t=typeof t=="function"?t:o;return e&&e.length?Lo(e,o,t):[]}function Lu(e){if(!(e&&e.length)){return[]}var t=0;e=Tr(e,(function(e){if(fc(e)){t=Ut(e.length,t);return true}}));return Vr(t,(function(t){return Dr(e,zr(t))}))}function Nu(e,t){if(!(e&&e.length)){return[]}var r=Lu(e);if(t==null){return r}return Dr(r,(function(e){return br(t,o,e)}))}var Fu=wo((function(e,t){return fc(e)?wi(e,t):[]}));var ju=wo((function(e){return Uo(Tr(e,fc))}));var Bu=wo((function(e){var t=ou(e);if(fc(t)){t=o}return Uo(Tr(e,fc),Ha(t,2))}));var Uu=wo((function(e){var t=ou(e);t=typeof t=="function"?t:o;return Uo(Tr(e,fc),o,t)}));var zu=wo(Lu);function $u(e,t){return zo(e||[],t||[],li)}function Gu(e,t){return zo(e||[],t||[],To)}var Hu=wo((function(e){var t=e.length,r=t>1?e[t-1]:o;r=typeof r=="function"?(e.pop(),r):o;return Nu(e,r)}));function Wu(e){var t=wn(e);t.__chain__=true;return t}function Vu(e,t){t(e);return e}function qu(e,t){return t(e)}var Ju=ja((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return vi(t,e)};if(t>1||this.__actions__.length||!(n instanceof Dn)||!as(r)){return this.thru(i)}n=n.slice(r,+r+(t?1:0));n.__actions__.push({func:qu,args:[i],thisArg:o});return new xn(n,this.__chain__).thru((function(e){if(t&&!e.length){e.push(o)}return e}))}));function Yu(){return Wu(this)}function Ku(){return new xn(this.value(),this.__chain__)}function Xu(){if(this.__values__===o){this.__values__=Vc(this.value())}var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Zu(){return this}function Qu(e){var t,r=this;while(r instanceof An){var n=Ms(r);n.__index__=0;n.__values__=o;if(t){i.__wrapped__=n}else{t=n}var i=n;r=r.__wrapped__}i.__wrapped__=e;return t}function el(){var e=this.__wrapped__;if(e instanceof Dn){var t=e;if(this.__actions__.length){t=new Dn(this)}t=t.reverse();t.__actions__.push({func:qu,args:[pu],thisArg:o});return new xn(t,this.__chain__)}return this.thru(pu)}function tl(){return Bo(this.__wrapped__,this.__actions__)}var rl=ua((function(e,t,r){if(ft.call(e,r)){++e[r]}else{pi(e,r,1)}}));function nl(e,t,r){var n=uc(e)?Sr:Ti;if(r&&ss(e,t,r)){t=o}return n(e,Ha(t,3))}function il(e,t){var r=uc(e)?Tr:Di;return r(e,Ha(t,3))}var ol=ga(Vs);var al=ga(qs);function sl(e,t){return Oi(ml(e,t),1)}function ul(e,t){return Oi(ml(e,t),N)}function ll(e,t,r){r=r===o?1:Jc(r);return Oi(ml(e,t),r)}function cl(e,t){var r=uc(e)?wr:Ei;return r(e,Ha(t,3))}function fl(e,t){var r=uc(e)?Er:Si;return r(e,Ha(t,3))}var hl=ua((function(e,t,r){if(ft.call(e,r)){e[r].push(t)}else{pi(e,r,[t])}}));function dl(e,t,r,n){e=cc(e)?e:$f(e);r=r&&!n?Jc(r):0;var i=e.length;if(r<0){r=Ut(i+r,0)}return jc(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Fr(e,t,r)>-1}var pl=wo((function(e,t,n){var i=-1,o=typeof t=="function",a=cc(e)?r(e.length):[];Ei(e,(function(e){a[++i]=o?br(t,e,n):Gi(e,t,n)}));return a}));var vl=ua((function(e,t,r){pi(e,r,t)}));function ml(e,t){var r=uc(e)?Dr:oo;return r(e,Ha(t,3))}function gl(e,t,r,n){if(e==null){return[]}if(!uc(t)){t=t==null?[]:[t]}r=n?o:r;if(!uc(r)){r=r==null?[]:[r]}return fo(e,t,r)}var yl=ua((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));function bl(e,t,r){var n=uc(e)?Ir:Gr,i=arguments.length<3;return n(e,Ha(t,4),r,i,Ei)}function _l(e,t,r){var n=uc(e)?Cr:Gr,i=arguments.length<3;return n(e,Ha(t,4),r,i,Si)}function wl(e,t){var r=uc(e)?Tr:Di;return r(e,zl(Ha(t,3)))}function El(e){var t=uc(e)?oi:Eo;return t(e)}function Sl(e,t,r){if(r?ss(e,t,r):t===o){t=1}else{t=Jc(t)}var n=uc(e)?ai:So;return n(e,t)}function Tl(e){var t=uc(e)?si:Do;return t(e)}function Al(e){if(e==null){return 0}if(cc(e)){return jc(e)?mn(e):e.length}var t=Xa(e);if(t==Q||t==ae){return e.size}return ro(e).length}function xl(e,t,r){var n=uc(e)?kr:Io;if(r&&ss(e,t,r)){t=o}return n(e,Ha(t,3))}var Dl=wo((function(e,t){if(e==null){return[]}var r=t.length;if(r>1&&ss(e,t[0],t[1])){t=[]}else if(r>2&&ss(t[0],t[1],t[2])){t=[t[0]]}return fo(e,Oi(t,1),[])}));var Ol=kt||function(){return sr.Date.now()};function Il(e,t){if(typeof t!="function"){throw new ot(l)}e=Jc(e);return function(){if(--e<1){return t.apply(this,arguments)}}}function Cl(e,t,r){t=r?o:t;t=e&&t==null?e.length:t;return ka(e,x,o,o,o,o,t)}function kl(e,t){var r;if(typeof t!="function"){throw new ot(l)}e=Jc(e);return function(){if(--e>0){r=t.apply(this,arguments)}if(e<=1){t=o}return r}}var Rl=wo((function(e,t,r){var n=b;if(r.length){var i=fn(r,Ga(Rl));n|=T}return ka(e,n,t,r,i)}));var Pl=wo((function(e,t,r){var n=b|_;if(r.length){var i=fn(r,Ga(Pl));n|=T}return ka(t,n,e,r,i)}));function Ml(e,t,r){t=r?o:t;var n=ka(e,E,o,o,o,o,o,t);n.placeholder=Ml.placeholder;return n}function Ll(e,t,r){t=r?o:t;var n=ka(e,S,o,o,o,o,o,t);n.placeholder=Ll.placeholder;return n}function Nl(e,t,r){var n,i,a,s,u,c,f=0,h=false,d=false,p=true;if(typeof e!="function"){throw new ot(l)}t=Kc(t)||0;if(Tc(r)){h=!!r.leading;d="maxWait"in r;a=d?Ut(Kc(r.maxWait)||0,t):a;p="trailing"in r?!!r.trailing:p}function v(t){var r=n,a=i;n=i=o;f=t;s=e.apply(a,r);return s}function m(e){f=e;u=As(b,t);return h?v(e):s}function g(e){var r=e-c,n=e-f,i=t-r;return d?zt(i,a-n):i}function y(e){var r=e-c,n=e-f;return c===o||r>=t||r<0||d&&n>=a}function b(){var e=Ol();if(y(e)){return _(e)}u=As(b,g(e))}function _(e){u=o;if(p&&n){return v(e)}n=i=o;return s}function w(){if(u!==o){qo(u)}f=0;n=c=i=u=o}function E(){return u===o?s:_(Ol())}function S(){var e=Ol(),r=y(e);n=arguments;i=this;c=e;if(r){if(u===o){return m(c)}if(d){qo(u);u=As(b,t);return v(c)}}if(u===o){u=As(b,t)}return s}S.cancel=w;S.flush=E;return S}var Fl=wo((function(e,t){return _i(e,1,t)}));var jl=wo((function(e,t,r){return _i(e,Kc(t)||0,r)}));function Bl(e){return ka(e,O)}function Ul(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new ot(l)}var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i)){return o.get(i)}var a=e.apply(this,n);r.cache=o.set(i,a)||o;return a};r.cache=new(Ul.Cache||Gn);return r}Ul.Cache=Gn;function zl(e){if(typeof e!="function"){throw new ot(l)}return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function $l(e){return kl(2,e)}var Gl=Wo((function(e,t){t=t.length==1&&uc(t[0])?Dr(t[0],Yr(Ha())):Dr(Oi(t,1),Yr(Ha()));var r=t.length;return wo((function(n){var i=-1,o=zt(n.length,r);while(++i<o){n[i]=t[i].call(this,n[i])}return br(e,this,n)}))}));var Hl=wo((function(e,t){var r=fn(t,Ga(Hl));return ka(e,T,o,t,r)}));var Wl=wo((function(e,t){var r=fn(t,Ga(Wl));return ka(e,A,o,t,r)}));var Vl=ja((function(e,t){return ka(e,D,o,o,o,t)}));function ql(e,t){if(typeof e!="function"){throw new ot(l)}t=t===o?t:Jc(t);return wo(e,t)}function Jl(e,t){if(typeof e!="function"){throw new ot(l)}t=t==null?0:Ut(Jc(t),0);return wo((function(r){var n=r[t],i=Vo(r,0,t);if(n){Or(i,n)}return br(e,this,i)}))}function Yl(e,t,r){var n=true,i=true;if(typeof e!="function"){throw new ot(l)}if(Tc(r)){n="leading"in r?!!r.leading:n;i="trailing"in r?!!r.trailing:i}return Nl(e,t,{leading:n,maxWait:t,trailing:i})}function Kl(e){return Cl(e,1)}function Xl(e,t){return Hl(Go(t),e)}function Zl(){if(!arguments.length){return[]}var e=arguments[0];return uc(e)?e:[e]}function Ql(e){return gi(e,m)}function ec(e,t){t=typeof t=="function"?t:o;return gi(e,m,t)}function tc(e){return gi(e,p|m)}function rc(e,t){t=typeof t=="function"?t:o;return gi(e,p|m,t)}function nc(e,t){return t==null||bi(e,t,Sf(t))}function ic(e,t){return e===t||e!==e&&t!==t}var oc=xa(Fi);var ac=xa((function(e,t){return e>=t}));var sc=Hi(function(){return arguments}())?Hi:function(e){return Ac(e)&&ft.call(e,"callee")&&!Tt.call(e,"callee")};var uc=r.isArray;var lc=dr?Yr(dr):Wi;function cc(e){return e!=null&&Sc(e.length)&&!wc(e)}function fc(e){return Ac(e)&&cc(e)}function hc(e){return e===true||e===false||Ac(e)&&Ni(e)==q}var dc=Nt||Yh;var pc=pr?Yr(pr):Vi;function vc(e){return Ac(e)&&e.nodeType===1&&!Mc(e)}function mc(e){if(e==null){return true}if(cc(e)&&(uc(e)||typeof e=="string"||typeof e.splice=="function"||dc(e)||Uc(e)||sc(e))){return!e.length}var t=Xa(e);if(t==Q||t==ae){return!e.size}if(ds(e)){return!ro(e).length}for(var r in e){if(ft.call(e,r)){return false}}return true}function gc(e,t){return qi(e,t)}function yc(e,t,r){r=typeof r=="function"?r:o;var n=r?r(e,t):o;return n===o?qi(e,t,o,r):!!n}function bc(e){if(!Ac(e)){return false}var t=Ni(e);return t==K||t==Y||typeof e.message=="string"&&typeof e.name=="string"&&!Mc(e)}function _c(e){return typeof e=="number"&&Ft(e)}function wc(e){if(!Tc(e)){return false}var t=Ni(e);return t==X||t==Z||t==V||t==ie}function Ec(e){return typeof e=="number"&&e==Jc(e)}function Sc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=F}function Tc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ac(e){return e!=null&&typeof e=="object"}var xc=vr?Yr(vr):Yi;function Dc(e,t){return e===t||Ki(e,t,Va(t))}function Oc(e,t,r){r=typeof r=="function"?r:o;return Ki(e,t,Va(t),r)}function Ic(e){return Pc(e)&&e!=+e}function Cc(e){if(hs(e)){throw new i(u)}return Xi(e)}function kc(e){return e===null}function Rc(e){return e==null}function Pc(e){return typeof e=="number"||Ac(e)&&Ni(e)==ee}function Mc(e){if(!Ac(e)||Ni(e)!=re){return false}var t=Et(e);if(t===null){return true}var r=ft.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&ct.call(r)==vt}var Lc=mr?Yr(mr):Zi;function Nc(e){return Ec(e)&&e>=-F&&e<=F}var Fc=gr?Yr(gr):Qi;function jc(e){return typeof e=="string"||!uc(e)&&Ac(e)&&Ni(e)==se}function Bc(e){return typeof e=="symbol"||Ac(e)&&Ni(e)==ue}var Uc=yr?Yr(yr):eo;function zc(e){return e===o}function $c(e){return Ac(e)&&Xa(e)==ce}function Gc(e){return Ac(e)&&Ni(e)==fe}var Hc=xa(io);var Wc=xa((function(e,t){return e<=t}));function Vc(e){if(!e){return[]}if(cc(e)){return jc(e)?gn(e):ia(e)}if(Dt&&e[Dt]){return un(e[Dt]())}var t=Xa(e),r=t==Q?ln:t==ae?hn:$f;return r(e)}function qc(e){if(!e){return e===0?e:0}e=Kc(e);if(e===N||e===-N){var t=e<0?-1:1;return t*j}return e===e?e:0}function Jc(e){var t=qc(e),r=t%1;return t===t?r?t-r:t:0}function Yc(e){return e?mi(Jc(e),0,U):0}function Kc(e){if(typeof e=="number"){return e}if(Bc(e)){return B}if(Tc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tc(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=Jr(e);var r=Ye.test(e);return r||Xe.test(e)?ir(e.slice(2),r?2:8):Je.test(e)?B:+e}function Xc(e){return oa(e,Tf(e))}function Zc(e){return e?mi(Jc(e),-F,F):e===0?e:0}function Qc(e){return e==null?"":Mo(e)}var ef=la((function(e,t){if(ds(t)||cc(t)){oa(t,Sf(t),e);return}for(var r in t){if(ft.call(t,r)){li(e,r,t[r])}}}));var tf=la((function(e,t){oa(t,Tf(t),e)}));var rf=la((function(e,t,r,n){oa(t,Tf(t),e,n)}));var nf=la((function(e,t,r,n){oa(t,Sf(t),e,n)}));var of=ja(vi);function af(e,t){var r=Sn(e);return t==null?r:hi(r,t)}var sf=wo((function(e,t){e=rt(e);var r=-1;var n=t.length;var i=n>2?t[2]:o;if(i&&ss(t[0],t[1],i)){n=1}while(++r<n){var a=t[r];var s=Tf(a);var u=-1;var l=s.length;while(++u<l){var c=s[u];var f=e[c];if(f===o||ic(f,ut[c])&&!ft.call(e,c)){e[c]=a[c]}}}return e}));var uf=wo((function(e){e.push(o,Pa);return br(Of,o,e)}));function lf(e,t){return Lr(e,Ha(t,3),ki)}function cf(e,t){return Lr(e,Ha(t,3),Ri)}function ff(e,t){return e==null?e:Ii(e,Ha(t,3),Tf)}function hf(e,t){return e==null?e:Ci(e,Ha(t,3),Tf)}function df(e,t){return e&&ki(e,Ha(t,3))}function pf(e,t){return e&&Ri(e,Ha(t,3))}function vf(e){return e==null?[]:Pi(e,Sf(e))}function mf(e){return e==null?[]:Pi(e,Tf(e))}function gf(e,t,r){var n=e==null?o:Mi(e,t);return n===o?r:n}function yf(e,t){return e!=null&&es(e,t,ji)}function bf(e,t){return e!=null&&es(e,t,Bi)}var _f=_a((function(e,t,r){if(t!=null&&typeof t.toString!="function"){t=pt.call(t)}e[t]=r}),Dh(kh));var wf=_a((function(e,t,r){if(t!=null&&typeof t.toString!="function"){t=pt.call(t)}if(ft.call(e,t)){e[t].push(r)}else{e[t]=[r]}}),Ha);var Ef=wo(Gi);function Sf(e){return cc(e)?ii(e):ro(e)}function Tf(e){return cc(e)?ii(e,true):no(e)}function Af(e,t){var r={};t=Ha(t,3);ki(e,(function(e,n,i){pi(r,t(e,n,i),e)}));return r}function xf(e,t){var r={};t=Ha(t,3);ki(e,(function(e,n,i){pi(r,n,t(e,n,i))}));return r}var Df=la((function(e,t,r){uo(e,t,r)}));var Of=la((function(e,t,r,n){uo(e,t,r,n)}));var If=ja((function(e,t){var r={};if(e==null){return r}var n=false;t=Dr(t,(function(t){t=Ho(t,e);n||(n=t.length>1);return t}));oa(e,Ua(e),r);if(n){r=gi(r,p|v|m,Ma)}var i=t.length;while(i--){No(r,t[i])}return r}));function Cf(e,t){return Rf(e,zl(Ha(t)))}var kf=ja((function(e,t){return e==null?{}:ho(e,t)}));function Rf(e,t){if(e==null){return{}}var r=Dr(Ua(e),(function(e){return[e]}));t=Ha(t);return po(e,r,(function(e,r){return t(e,r[0])}))}function Pf(e,t,r){t=Ho(t,e);var n=-1,i=t.length;if(!i){i=1;e=o}while(++n<i){var a=e==null?o:e[ks(t[n])];if(a===o){n=i;a=r}e=wc(a)?a.call(e):a}return e}function Mf(e,t,r){return e==null?e:To(e,t,r)}function Lf(e,t,r,n){n=typeof n=="function"?n:o;return e==null?e:To(e,t,r,n)}var Nf=Ca(Sf);var Ff=Ca(Tf);function jf(e,t,r){var n=uc(e),i=n||dc(e)||Uc(e);t=Ha(t,4);if(r==null){var o=e&&e.constructor;if(i){r=n?new o:[]}else if(Tc(e)){r=wc(o)?Sn(Et(e)):{}}else{r={}}}(i?wr:ki)(e,(function(e,n,i){return t(r,e,n,i)}));return r}function Bf(e,t){return e==null?true:No(e,t)}function Uf(e,t,r){return e==null?e:Fo(e,t,Go(r))}function zf(e,t,r,n){n=typeof n=="function"?n:o;return e==null?e:Fo(e,t,Go(r),n)}function $f(e){return e==null?[]:Kr(e,Sf(e))}function Gf(e){return e==null?[]:Kr(e,Tf(e))}function Hf(e,t,r){if(r===o){r=t;t=o}if(r!==o){r=Kc(r);r=r===r?r:0}if(t!==o){t=Kc(t);t=t===t?t:0}return mi(Kc(e),t,r)}function Wf(e,t,r){t=qc(t);if(r===o){r=t;t=0}else{r=qc(r)}e=Kc(e);return Ui(e,t,r)}function Vf(e,t,r){if(r&&typeof r!="boolean"&&ss(e,t,r)){t=r=o}if(r===o){if(typeof t=="boolean"){r=t;t=o}else if(typeof e=="boolean"){r=e;e=o}}if(e===o&&t===o){e=0;t=1}else{e=qc(e);if(t===o){t=e;e=0}else{t=qc(t)}}if(e>t){var n=e;e=t;t=n}if(r||e%1||t%1){var i=Vt();return zt(e+i*(t-e+nr("1e-"+((i+"").length-1))),t)}return yo(e,t)}var qf=pa((function(e,t,r){t=t.toLowerCase();return e+(r?Jf(t):t)}));function Jf(e){return wh(Qc(e).toLowerCase())}function Yf(e){e=Qc(e);return e&&e.replace(Qe,tn).replace(Ht,"")}function Kf(e,t,r){e=Qc(e);t=Mo(t);var n=e.length;r=r===o?n:mi(Jc(r),0,n);var i=r;r-=t.length;return r>=0&&e.slice(r,i)==t}function Xf(e){e=Qc(e);return e&&Ie.test(e)?e.replace(De,rn):e}function Zf(e){e=Qc(e);return e&&Fe.test(e)?e.replace(Ne,"\\$&"):e}var Qf=pa((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}));var eh=pa((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}));var th=da("toLowerCase");function rh(e,t,r){e=Qc(e);t=Jc(t);var n=t?mn(e):0;if(!t||n>=t){return e}var i=(t-n)/2;return Sa(Mt(i),r)+e+Sa(Pt(i),r)}function nh(e,t,r){e=Qc(e);t=Jc(t);var n=t?mn(e):0;return t&&n<t?e+Sa(t-n,r):e}function ih(e,t,r){e=Qc(e);t=Jc(t);var n=t?mn(e):0;return t&&n<t?Sa(t-n,r)+e:e}function oh(e,t,r){if(r||t==null){t=0}else if(t){t=+t}return Wt(Qc(e).replace(je,""),t||0)}function ah(e,t,r){if(r?ss(e,t,r):t===o){t=1}else{t=Jc(t)}return _o(Qc(e),t)}function sh(){var e=arguments,t=Qc(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var uh=pa((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));function lh(e,t,r){if(r&&typeof r!="number"&&ss(e,t,r)){t=r=o}r=r===o?U:r>>>0;if(!r){return[]}e=Qc(e);if(e&&(typeof t=="string"||t!=null&&!Lc(t))){t=Mo(t);if(!t&&an(e)){return Vo(gn(e),0,r)}}return e.split(t,r)}var ch=pa((function(e,t,r){return e+(r?" ":"")+wh(t)}));function fh(e,t,r){e=Qc(e);r=r==null?0:mi(Jc(r),0,e.length);t=Mo(t);return e.slice(r,r+t.length)==t}function hh(e,t,r){var n=wn.templateSettings;if(r&&ss(e,t,r)){t=o}e=Qc(e);t=rf({},t,n,Ra);var a=rf({},t.imports,n.imports,Ra),s=Sf(a),u=Kr(a,s);var l,f,h=0,d=t.interpolate||et,p="__p += '";var v=nt((t.escape||et).source+"|"+d.source+"|"+(d===Re?Ve:et).source+"|"+(t.evaluate||et).source+"|$","g");var m="//# sourceURL="+(ft.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kt+"]")+"\n";e.replace(v,(function(t,r,n,i,o,a){n||(n=i);p+=e.slice(h,a).replace(tt,nn);if(r){l=true;p+="' +\n__e("+r+") +\n'"}if(o){f=true;p+="';\n"+o+";\n__p += '"}if(n){p+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"}h=a+t.length;return t}));p+="';\n";var g=ft.call(t,"variable")&&t.variable;if(!g){p="with (obj) {\n"+p+"\n}\n"}else if(He.test(g)){throw new i(c)}p=(f?p.replace(Se,""):p).replace(Te,"$1").replace(Ae,"$1;");p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Sh((function(){return Be(s,m+"return "+p).apply(o,u)}));y.source=p;if(bc(y)){throw y}return y}function dh(e){return Qc(e).toLowerCase()}function ph(e){return Qc(e).toUpperCase()}function vh(e,t,r){e=Qc(e);if(e&&(r||t===o)){return Jr(e)}if(!e||!(t=Mo(t))){return e}var n=gn(e),i=gn(t),a=Zr(n,i),s=Qr(n,i)+1;return Vo(n,a,s).join("")}function mh(e,t,r){e=Qc(e);if(e&&(r||t===o)){return e.slice(0,yn(e)+1)}if(!e||!(t=Mo(t))){return e}var n=gn(e),i=Qr(n,gn(t))+1;return Vo(n,0,i).join("")}function gh(e,t,r){e=Qc(e);if(e&&(r||t===o)){return e.replace(je,"")}if(!e||!(t=Mo(t))){return e}var n=gn(e),i=Zr(n,gn(t));return Vo(n,i).join("")}function yh(e,t){var r=I,n=C;if(Tc(t)){var i="separator"in t?t.separator:i;r="length"in t?Jc(t.length):r;n="omission"in t?Mo(t.omission):n}e=Qc(e);var a=e.length;if(an(e)){var s=gn(e);a=s.length}if(r>=a){return e}var u=r-mn(n);if(u<1){return n}var l=s?Vo(s,0,u).join(""):e.slice(0,u);if(i===o){return l+n}if(s){u+=l.length-u}if(Lc(i)){if(e.slice(u).search(i)){var c,f=l;if(!i.global){i=nt(i.source,Qc(qe.exec(i))+"g")}i.lastIndex=0;while(c=i.exec(f)){var h=c.index}l=l.slice(0,h===o?u:h)}}else if(e.indexOf(Mo(i),u)!=u){var d=l.lastIndexOf(i);if(d>-1){l=l.slice(0,d)}}return l+n}function bh(e){e=Qc(e);return e&&Oe.test(e)?e.replace(xe,bn):e}var _h=pa((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()}));var wh=da("toUpperCase");function Eh(e,t,r){e=Qc(e);t=r?o:t;if(t===o){return sn(e)?En(e):Mr(e)}return e.match(t)||[]}var Sh=wo((function(e,t){try{return br(e,o,t)}catch(e){return bc(e)?e:new i(e)}}));var Th=ja((function(e,t){wr(t,(function(t){t=ks(t);pi(e,t,Rl(e[t],e))}));return e}));function Ah(e){var t=e==null?0:e.length,r=Ha();e=!t?[]:Dr(e,(function(e){if(typeof e[1]!="function"){throw new ot(l)}return[r(e[0]),e[1]]}));return wo((function(r){var n=-1;while(++n<t){var i=e[n];if(br(i[0],this,r)){return br(i[1],this,r)}}}))}function xh(e){return yi(gi(e,p))}function Dh(e){return function(){return e}}function Oh(e,t){return e==null||e!==e?t:e}var Ih=ya();var Ch=ya(true);function kh(e){return e}function Rh(e){return to(typeof e=="function"?e:gi(e,p))}function Ph(e){return ao(gi(e,p))}function Mh(e,t){return so(e,gi(t,p))}var Lh=wo((function(e,t){return function(r){return Gi(r,e,t)}}));var Nh=wo((function(e,t){return function(r){return Gi(e,r,t)}}));function Fh(e,t,r){var n=Sf(t),i=Pi(t,n);if(r==null&&!(Tc(t)&&(i.length||!n.length))){r=t;t=e;e=this;i=Pi(t,Sf(t))}var o=!(Tc(r)&&"chain"in r)||!!r.chain,a=wc(e);wr(i,(function(r){var n=t[r];e[r]=n;if(a){e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__),i=r.__actions__=ia(this.__actions__);i.push({func:n,args:arguments,thisArg:e});r.__chain__=t;return r}return n.apply(e,Or([this.value()],arguments))}}}));return e}function jh(){if(sr._===this){sr._=mt}return this}function Bh(){}function Uh(e){e=Jc(e);return wo((function(t){return co(t,e)}))}var zh=Ea(Dr);var $h=Ea(Sr);var Gh=Ea(kr);function Hh(e){return us(e)?zr(ks(e)):vo(e)}function Wh(e){return function(t){return e==null?o:Mi(e,t)}}var Vh=Aa();var qh=Aa(true);function Jh(){return[]}function Yh(){return false}function Kh(){return{}}function Xh(){return""}function Zh(){return true}function Qh(e,t){e=Jc(e);if(e<1||e>F){return[]}var r=U,n=zt(e,U);t=Ha(t);e-=U;var i=Vr(n,t);while(++r<e){t(r)}return i}function ed(e){if(uc(e)){return Dr(e,ks)}return Bc(e)?[e]:ia(Cs(Qc(e)))}function td(e){var t=++ht;return Qc(e)+t}var rd=wa((function(e,t){return e+t}),0);var nd=Oa("ceil");var id=wa((function(e,t){return e/t}),1);var od=Oa("floor");function ad(e){return e&&e.length?Ai(e,kh,Fi):o}function sd(e,t){return e&&e.length?Ai(e,Ha(t,2),Fi):o}function ud(e){return Ur(e,kh)}function ld(e,t){return Ur(e,Ha(t,2))}function cd(e){return e&&e.length?Ai(e,kh,io):o}function fd(e,t){return e&&e.length?Ai(e,Ha(t,2),io):o}var hd=wa((function(e,t){return e*t}),1);var dd=Oa("round");var pd=wa((function(e,t){return e-t}),0);function vd(e){return e&&e.length?Wr(e,kh):0}function md(e,t){return e&&e.length?Wr(e,Ha(t,2)):0}wn.after=Il;wn.ary=Cl;wn.assign=ef;wn.assignIn=tf;wn.assignInWith=rf;wn.assignWith=nf;wn.at=of;wn.before=kl;wn.bind=Rl;wn.bindAll=Th;wn.bindKey=Pl;wn.castArray=Zl;wn.chain=Wu;wn.chunk=Ls;wn.compact=Ns;wn.concat=Fs;wn.cond=Ah;wn.conforms=xh;wn.constant=Dh;wn.countBy=rl;wn.create=af;wn.curry=Ml;wn.curryRight=Ll;wn.debounce=Nl;wn.defaults=sf;wn.defaultsDeep=uf;wn.defer=Fl;wn.delay=jl;wn.difference=js;wn.differenceBy=Bs;wn.differenceWith=Us;wn.drop=zs;wn.dropRight=$s;wn.dropRightWhile=Gs;wn.dropWhile=Hs;wn.fill=Ws;wn.filter=il;wn.flatMap=sl;wn.flatMapDeep=ul;wn.flatMapDepth=ll;wn.flatten=Js;wn.flattenDeep=Ys;wn.flattenDepth=Ks;wn.flip=Bl;wn.flow=Ih;wn.flowRight=Ch;wn.fromPairs=Xs;wn.functions=vf;wn.functionsIn=mf;wn.groupBy=hl;wn.initial=eu;wn.intersection=tu;wn.intersectionBy=ru;wn.intersectionWith=nu;wn.invert=_f;wn.invertBy=wf;wn.invokeMap=pl;wn.iteratee=Rh;wn.keyBy=vl;wn.keys=Sf;wn.keysIn=Tf;wn.map=ml;wn.mapKeys=Af;wn.mapValues=xf;wn.matches=Ph;wn.matchesProperty=Mh;wn.memoize=Ul;wn.merge=Df;wn.mergeWith=Of;wn.method=Lh;wn.methodOf=Nh;wn.mixin=Fh;wn.negate=zl;wn.nthArg=Uh;wn.omit=If;wn.omitBy=Cf;wn.once=$l;wn.orderBy=gl;wn.over=zh;wn.overArgs=Gl;wn.overEvery=$h;wn.overSome=Gh;wn.partial=Hl;wn.partialRight=Wl;wn.partition=yl;wn.pick=kf;wn.pickBy=Rf;wn.property=Hh;wn.propertyOf=Wh;wn.pull=uu;wn.pullAll=lu;wn.pullAllBy=cu;wn.pullAllWith=fu;wn.pullAt=hu;wn.range=Vh;wn.rangeRight=qh;wn.rearg=Vl;wn.reject=wl;wn.remove=du;wn.rest=ql;wn.reverse=pu;wn.sampleSize=Sl;wn.set=Mf;wn.setWith=Lf;wn.shuffle=Tl;wn.slice=vu;wn.sortBy=Dl;wn.sortedUniq=Eu;wn.sortedUniqBy=Su;wn.split=lh;wn.spread=Jl;wn.tail=Tu;wn.take=Au;wn.takeRight=xu;wn.takeRightWhile=Du;wn.takeWhile=Ou;wn.tap=Vu;wn.throttle=Yl;wn.thru=qu;wn.toArray=Vc;wn.toPairs=Nf;wn.toPairsIn=Ff;wn.toPath=ed;wn.toPlainObject=Xc;wn.transform=jf;wn.unary=Kl;wn.union=Iu;wn.unionBy=Cu;wn.unionWith=ku;wn.uniq=Ru;wn.uniqBy=Pu;wn.uniqWith=Mu;wn.unset=Bf;wn.unzip=Lu;wn.unzipWith=Nu;wn.update=Uf;wn.updateWith=zf;wn.values=$f;wn.valuesIn=Gf;wn.without=Fu;wn.words=Eh;wn.wrap=Xl;wn.xor=ju;wn.xorBy=Bu;wn.xorWith=Uu;wn.zip=zu;wn.zipObject=$u;wn.zipObjectDeep=Gu;wn.zipWith=Hu;wn.entries=Nf;wn.entriesIn=Ff;wn.extend=tf;wn.extendWith=rf;Fh(wn,wn);wn.add=rd;wn.attempt=Sh;wn.camelCase=qf;wn.capitalize=Jf;wn.ceil=nd;wn.clamp=Hf;wn.clone=Ql;wn.cloneDeep=tc;wn.cloneDeepWith=rc;wn.cloneWith=ec;wn.conformsTo=nc;wn.deburr=Yf;wn.defaultTo=Oh;wn.divide=id;wn.endsWith=Kf;wn.eq=ic;wn.escape=Xf;wn.escapeRegExp=Zf;wn.every=nl;wn.find=ol;wn.findIndex=Vs;wn.findKey=lf;wn.findLast=al;wn.findLastIndex=qs;wn.findLastKey=cf;wn.floor=od;wn.forEach=cl;wn.forEachRight=fl;wn.forIn=ff;wn.forInRight=hf;wn.forOwn=df;wn.forOwnRight=pf;wn.get=gf;wn.gt=oc;wn.gte=ac;wn.has=yf;wn.hasIn=bf;wn.head=Zs;wn.identity=kh;wn.includes=dl;wn.indexOf=Qs;wn.inRange=Wf;wn.invoke=Ef;wn.isArguments=sc;wn.isArray=uc;wn.isArrayBuffer=lc;wn.isArrayLike=cc;wn.isArrayLikeObject=fc;wn.isBoolean=hc;wn.isBuffer=dc;wn.isDate=pc;wn.isElement=vc;wn.isEmpty=mc;wn.isEqual=gc;wn.isEqualWith=yc;wn.isError=bc;wn.isFinite=_c;wn.isFunction=wc;wn.isInteger=Ec;wn.isLength=Sc;wn.isMap=xc;wn.isMatch=Dc;wn.isMatchWith=Oc;wn.isNaN=Ic;wn.isNative=Cc;wn.isNil=Rc;wn.isNull=kc;wn.isNumber=Pc;wn.isObject=Tc;wn.isObjectLike=Ac;wn.isPlainObject=Mc;wn.isRegExp=Lc;wn.isSafeInteger=Nc;wn.isSet=Fc;wn.isString=jc;wn.isSymbol=Bc;wn.isTypedArray=Uc;wn.isUndefined=zc;wn.isWeakMap=$c;wn.isWeakSet=Gc;wn.join=iu;wn.kebabCase=Qf;wn.last=ou;wn.lastIndexOf=au;wn.lowerCase=eh;wn.lowerFirst=th;wn.lt=Hc;wn.lte=Wc;wn.max=ad;wn.maxBy=sd;wn.mean=ud;wn.meanBy=ld;wn.min=cd;wn.minBy=fd;wn.stubArray=Jh;wn.stubFalse=Yh;wn.stubObject=Kh;wn.stubString=Xh;wn.stubTrue=Zh;wn.multiply=hd;wn.nth=su;wn.noConflict=jh;wn.noop=Bh;wn.now=Ol;wn.pad=rh;wn.padEnd=nh;wn.padStart=ih;wn.parseInt=oh;wn.random=Vf;wn.reduce=bl;wn.reduceRight=_l;wn.repeat=ah;wn.replace=sh;wn.result=Pf;wn.round=dd;wn.runInContext=e;wn.sample=El;wn.size=Al;wn.snakeCase=uh;wn.some=xl;wn.sortedIndex=mu;wn.sortedIndexBy=gu;wn.sortedIndexOf=yu;wn.sortedLastIndex=bu;wn.sortedLastIndexBy=_u;wn.sortedLastIndexOf=wu;wn.startCase=ch;wn.startsWith=fh;wn.subtract=pd;wn.sum=vd;wn.sumBy=md;wn.template=hh;wn.times=Qh;wn.toFinite=qc;wn.toInteger=Jc;wn.toLength=Yc;wn.toLower=dh;wn.toNumber=Kc;wn.toSafeInteger=Zc;wn.toString=Qc;wn.toUpper=ph;wn.trim=vh;wn.trimEnd=mh;wn.trimStart=gh;wn.truncate=yh;wn.unescape=bh;wn.uniqueId=td;wn.upperCase=_h;wn.upperFirst=wh;wn.each=cl;wn.eachRight=fl;wn.first=Zs;Fh(wn,function(){var e={};ki(wn,(function(t,r){if(!ft.call(wn.prototype,r)){e[r]=t}}));return e}(),{chain:false});wn.VERSION=a;wr(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){wn[e].placeholder=wn}));wr(["drop","take"],(function(e,t){Dn.prototype[e]=function(r){r=r===o?1:Ut(Jc(r),0);var n=this.__filtered__&&!t?new Dn(this):this.clone();if(n.__filtered__){n.__takeCount__=zt(r,n.__takeCount__)}else{n.__views__.push({size:zt(r,U),type:e+(n.__dir__<0?"Right":"")})}return n};Dn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}));wr(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==P||r==L;Dn.prototype[e]=function(e){var t=this.clone();t.__iteratees__.push({iteratee:Ha(e,3),type:r});t.__filtered__=t.__filtered__||n;return t}}));wr(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Dn.prototype[e]=function(){return this[r](1).value()[0]}}));wr(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Dn.prototype[e]=function(){return this.__filtered__?new Dn(this):this[r](1)}}));Dn.prototype.compact=function(){return this.filter(kh)};Dn.prototype.find=function(e){return this.filter(e).head()};Dn.prototype.findLast=function(e){return this.reverse().find(e)};Dn.prototype.invokeMap=wo((function(e,t){if(typeof e=="function"){return new Dn(this)}return this.map((function(r){return Gi(r,e,t)}))}));Dn.prototype.reject=function(e){return this.filter(zl(Ha(e)))};Dn.prototype.slice=function(e,t){e=Jc(e);var r=this;if(r.__filtered__&&(e>0||t<0)){return new Dn(r)}if(e<0){r=r.takeRight(-e)}else if(e){r=r.drop(e)}if(t!==o){t=Jc(t);r=t<0?r.dropRight(-t):r.take(t-e)}return r};Dn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};Dn.prototype.toArray=function(){return this.take(U)};ki(Dn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=wn[n?"take"+(t=="last"?"Right":""):t],a=n||/^find/.test(t);if(!i){return}wn.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof Dn,l=s[0],c=u||uc(t);var f=function(e){var t=i.apply(wn,Or([e],s));return n&&h?t[0]:t};if(c&&r&&typeof l=="function"&&l.length!=1){u=c=false}var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=u&&!d;if(!a&&c){t=v?t:new Dn(this);var m=e.apply(t,s);m.__actions__.push({func:qu,args:[f],thisArg:o});return new xn(m,h)}if(p&&v){return e.apply(this,s)}m=this.thru(f);return p?n?m.value()[0]:m.value():m}}));wr(["pop","push","shift","sort","splice","unshift"],(function(e){var t=at[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);wn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(uc(i)?i:[],e)}return this[r]((function(r){return t.apply(uc(r)?r:[],e)}))}}));ki(Dn.prototype,(function(e,t){var r=wn[t];if(r){var n=r.name+"";if(!ft.call(ur,n)){ur[n]=[]}ur[n].push({name:t,func:r})}}));ur[ba(o,_).name]=[{name:"wrapper",func:o}];Dn.prototype.clone=On;Dn.prototype.reverse=In;Dn.prototype.value=Cn;wn.prototype.at=Ju;wn.prototype.chain=Yu;wn.prototype.commit=Ku;wn.prototype.next=Xu;wn.prototype.plant=Qu;wn.prototype.reverse=el;wn.prototype.toJSON=wn.prototype.valueOf=wn.prototype.value=tl;wn.prototype.first=wn.prototype.head;if(Dt){wn.prototype[Dt]=Zu}return wn};var Tn=Sn();if(true){sr._=Tn;!(i=function(){return Tn}.call(t,r,t,n),i!==o&&(n.exports=i))}else{}}).call(this)}).call(this,r(5),r(79)(e))},function(e,t){if(typeof Object.create==="function"){e.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function e(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}}},function(e,t,r){"use strict";if(true){e.exports=r(142)}else{}},function(e,t){function r(t){"@babel/helpers - typeof";return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=true,e.exports["default"]=e.exports,r(t)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function e(t){var r=Object.keys(t);var n={};for(var i=0;i<r.length;i++){n[r[i]]=Object.getOwnPropertyDescriptor(t,r[i])}return n};var i=/%[sdj%]/g;t.format=function(e){if(!E(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(s(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var o=n.length;var a=String(e).replace(i,(function(e){if(e==="%%")return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}));for(var u=n[r];r<o;u=n[++r]){if(b(u)||!x(u)){a+=" "+u}else{a+=" "+s(u)}}return a};t.deprecate=function(r,n){if(typeof e!=="undefined"&&e.noDeprecation===true){return r}if(typeof e==="undefined"){return function(){return t.deprecate(r,n).apply(this,arguments)}}var i=false;function o(){if(!i){if(e.throwDeprecation){throw new Error(n)}else if(e.traceDeprecation){console.trace(n)}else{console.error(n)}i=true}return r.apply(this,arguments)}return o};var o={};var a;t.debuglog=function(r){if(T(a))a=e.env.NODE_DEBUG||"";r=r.toUpperCase();if(!o[r]){if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else{o[r]=function(){}}}return o[r]};function s(e,r){var n={seen:[],stylize:l};if(arguments.length>=3)n.depth=arguments[2];if(arguments.length>=4)n.colors=arguments[3];if(y(r)){n.showHidden=r}else if(r){t._extend(n,r)}if(T(n.showHidden))n.showHidden=false;if(T(n.depth))n.depth=2;if(T(n.colors))n.colors=false;if(T(n.customInspect))n.customInspect=true;if(n.colors)n.stylize=u;return f(n,e,n.depth)}t.inspect=s;s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(e,t){var r=s.styles[t];if(r){return"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m"}else{return e}}function l(e,t){return e}function c(e){var t={};e.forEach((function(e,r){t[e]=true}));return t}function f(e,r,n){if(e.customInspect&&r&&I(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var i=r.inspect(n,e);if(!E(i)){i=f(e,i,n)}return i}var o=h(e,r);if(o){return o}var a=Object.keys(r);var s=c(a);if(e.showHidden){a=Object.getOwnPropertyNames(r)}if(O(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0)){return d(r)}if(a.length===0){if(I(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(A(r)){return e.stylize(RegExp.prototype.toString.call(r),"regexp")}if(D(r)){return e.stylize(Date.prototype.toString.call(r),"date")}if(O(r)){return d(r)}}var l="",y=false,b=["{","}"];if(g(r)){y=true;b=["[","]"]}if(I(r)){var _=r.name?": "+r.name:"";l=" [Function"+_+"]"}if(A(r)){l=" "+RegExp.prototype.toString.call(r)}if(D(r)){l=" "+Date.prototype.toUTCString.call(r)}if(O(r)){l=" "+d(r)}if(a.length===0&&(!y||r.length==0)){return b[0]+l+b[1]}if(n<0){if(A(r)){return e.stylize(RegExp.prototype.toString.call(r),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(r);var w;if(y){w=p(e,r,n,s,a)}else{w=a.map((function(t){return v(e,r,n,s,t,y)}))}e.seen.pop();return m(w,l,b)}function h(e,t){if(T(t))return e.stylize("undefined","undefined");if(E(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(w(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i){var o=[];for(var a=0,s=t.length;a<s;++a){if(L(t,String(a))){o.push(v(e,t,r,n,String(a),true))}else{o.push("")}}i.forEach((function(i){if(!i.match(/^\d+$/)){o.push(v(e,t,r,n,i,true))}}));return o}function v(e,t,r,n,i,o){var a,s,u;u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(u.get){if(u.set){s=e.stylize("[Getter/Setter]","special")}else{s=e.stylize("[Getter]","special")}}else{if(u.set){s=e.stylize("[Setter]","special")}}if(!L(n,i)){a="["+i+"]"}if(!s){if(e.seen.indexOf(u.value)<0){if(b(r)){s=f(e,u.value,null)}else{s=f(e,u.value,r-1)}if(s.indexOf("\n")>-1){if(o){s=s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2)}else{s="\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")}}}else{s=e.stylize("[Circular]","special")}}if(T(a)){if(o&&i.match(/^\d+$/)){return s}a=JSON.stringify(""+i);if(a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){a=a.substr(1,a.length-2);a=e.stylize(a,"name")}else{a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");a=e.stylize(a,"string")}}return a+": "+s}function m(e,t,r){var n=0;var i=e.reduce((function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(i>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function g(e){return Array.isArray(e)}t.isArray=g;function y(e){return typeof e==="boolean"}t.isBoolean=y;function b(e){return e===null}t.isNull=b;function _(e){return e==null}t.isNullOrUndefined=_;function w(e){return typeof e==="number"}t.isNumber=w;function E(e){return typeof e==="string"}t.isString=E;function S(e){return typeof e==="symbol"}t.isSymbol=S;function T(e){return e===void 0}t.isUndefined=T;function A(e){return x(e)&&k(e)==="[object RegExp]"}t.isRegExp=A;function x(e){return typeof e==="object"&&e!==null}t.isObject=x;function D(e){return x(e)&&k(e)==="[object Date]"}t.isDate=D;function O(e){return x(e)&&(k(e)==="[object Error]"||e instanceof Error)}t.isError=O;function I(e){return typeof e==="function"}t.isFunction=I;function C(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}t.isPrimitive=C;t.isBuffer=r(230);function k(e){return Object.prototype.toString.call(e)}function R(e){return e<10?"0"+e.toString(10):e.toString(10)}var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var e=new Date;var t=[R(e.getHours()),R(e.getMinutes()),R(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))};t.inherits=r(231);t._extend=function(e,t){if(!t||!x(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):undefined;t.promisify=function e(t){if(typeof t!=="function")throw new TypeError('The "original" argument must be of type Function');if(N&&t[N]){var r=t[N];if(typeof r!=="function"){throw new TypeError('The "util.promisify.custom" argument must be of type Function')}Object.defineProperty(r,N,{value:r,enumerable:false,writable:false,configurable:true});return r}function r(){var e,r;var n=new Promise((function(t,n){e=t;r=n}));var i=[];for(var o=0;o<arguments.length;o++){i.push(arguments[o])}i.push((function(t,n){if(t){r(t)}else{e(n)}}));try{t.apply(this,i)}catch(e){r(e)}return n}Object.setPrototypeOf(r,Object.getPrototypeOf(t));if(N)Object.defineProperty(r,N,{value:r,enumerable:false,writable:false,configurable:true});return Object.defineProperties(r,n(t))};t.promisify.custom=N;function F(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e;e=r}return t(e)}function j(t){if(typeof t!=="function"){throw new TypeError('The "original" argument must be of type Function')}function r(){var r=[];for(var n=0;n<arguments.length;n++){r.push(arguments[n])}var i=r.pop();if(typeof i!=="function"){throw new TypeError("The last argument must be of type Function")}var o=this;var a=function(){return i.apply(o,arguments)};t.apply(this,r).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(F,t,a)}))}Object.setPrototypeOf(r,Object.getPrototypeOf(t));Object.defineProperties(r,n(t));return r}t.callbackify=j}).call(this,r(3))},function(e,t,r){"use strict";r.r(t);r.d(t,"METADATA_KEY",(function(){return mr}));r.d(t,"Container",(function(){return Gt}));r.d(t,"BindingScopeEnum",(function(){return y}));r.d(t,"BindingTypeEnum",(function(){return b}));r.d(t,"TargetTypeEnum",(function(){return _}));r.d(t,"AsyncContainerModule",(function(){return Wt}));r.d(t,"ContainerModule",(function(){return Ht}));r.d(t,"createTaggedDecorator",(function(){return Qt}));r.d(t,"injectable",(function(){return nr}));r.d(t,"tagged",(function(){return ir}));r.d(t,"named",(function(){return or}));r.d(t,"inject",(function(){return sr}));r.d(t,"LazyServiceIdentifer",(function(){return ge}));r.d(t,"optional",(function(){return ur}));r.d(t,"unmanaged",(function(){return lr}));r.d(t,"multiInject",(function(){return cr}));r.d(t,"targetName",(function(){return fr}));r.d(t,"postConstruct",(function(){return dr}));r.d(t,"preDestroy",(function(){return pr}));r.d(t,"MetadataReader",(function(){return re}));r.d(t,"id",(function(){return E}));r.d(t,"interfaces",(function(){return vr}));r.d(t,"decorate",(function(){return rr}));r.d(t,"traverseAncerstors",(function(){return At}));r.d(t,"taggedConstraint",(function(){return xt}));r.d(t,"namedConstraint",(function(){return Dt}));r.d(t,"typeConstraint",(function(){return Ot}));r.d(t,"getServiceIdentifierAsString",(function(){return ae}));r.d(t,"multiBindToService",(function(){return Je}));var n={};r.r(n);r.d(n,"NAMED_TAG",(function(){return i}));r.d(n,"NAME_TAG",(function(){return o}));r.d(n,"UNMANAGED_TAG",(function(){return a}));r.d(n,"OPTIONAL_TAG",(function(){return s}));r.d(n,"INJECT_TAG",(function(){return u}));r.d(n,"MULTI_INJECT_TAG",(function(){return l}));r.d(n,"TAGGED",(function(){return c}));r.d(n,"TAGGED_PROP",(function(){return f}));r.d(n,"PARAM_TYPES",(function(){return h}));r.d(n,"DESIGN_PARAM_TYPES",(function(){return d}));r.d(n,"POST_CONSTRUCT",(function(){return p}));r.d(n,"PRE_DESTROY",(function(){return v}));r.d(n,"NON_CUSTOM_TAG_KEYS",(function(){return g}));var i="named";var o="name";var a="unmanaged";var s="optional";var u="inject";var l="multi_inject";var c="inversify:tagged";var f="inversify:tagged_props";var h="inversify:paramtypes";var d="design:paramtypes";var p="post_construct";var v="pre_destroy";function m(){return[u,l,o,a,i,s]}var g=m();var y={Request:"Request",Singleton:"Singleton",Transient:"Transient"};var b={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};var _={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};var w=0;function E(){return w++}var S=function(){function e(e,t){this.id=E();this.activated=false;this.serviceIdentifier=e;this.scope=t;this.type=b.Invalid;this.constraint=function(e){return true};this.implementationType=null;this.cache=null;this.factory=null;this.provider=null;this.onActivation=null;this.onDeactivation=null;this.dynamicValue=null}e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);t.activated=t.scope===y.Singleton?this.activated:false;t.implementationType=this.implementationType;t.dynamicValue=this.dynamicValue;t.scope=this.scope;t.type=this.type;t.factory=this.factory;t.provider=this.provider;t.constraint=this.constraint;t.onActivation=this.onActivation;t.onDeactivation=this.onDeactivation;t.cache=this.cache;return t};return e}();var T="Cannot apply @injectable decorator multiple times.";var A="Metadata key was used more than once in a parameter:";var x="NULL argument";var D="Key Not Found";var O="Ambiguous match found for serviceIdentifier:";var I="Could not unbind serviceIdentifier:";var C="No matching bindings found for serviceIdentifier:";var k="Missing required @injectable annotation in:";var R="Missing required @inject or @multiInject annotation in:";var P=function(e){return"@inject called with undefined this could mean that the class "+e+" has "+"a circular dependency problem. You can use a LazyServiceIdentifer to  "+"overcome this limitation."};var M="Circular dependency found:";var L="Sorry, this feature is not fully implemented yet.";var N="Invalid binding type:";var F="No snapshot available to restore.";var j="Invalid return type in middleware. Middleware must return!";var B="Value provided to function binding must be a function!";var U=function(e){return"You are attempting to construct '"+e+"' in a synchronous way\n but it has asynchronous dependencies."};var z="The toSelf function can only be applied when a constructor is "+"used as service identifier";var $="The @inject @multiInject @tagged and @named decorators "+"must be applied to the parameters of a class constructor or a class property.";var G=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return"The number of constructor arguments in the derived class "+(e[0]+" must be >= than the number of constructor arguments of its base class.")};var H="Invalid Container constructor argument. Container options "+"must be an object.";var W="Invalid Container option. Default scope must "+"be a string ('singleton' or 'transient').";var V="Invalid Container option. Auto bind injectable must "+"be a boolean";var q="Invalid Container option. Skip base check must "+"be a boolean";var J="Cannot apply @preDestroy decorator multiple times in the same class";var Y="Cannot apply @postConstruct decorator multiple times in the same class";var K="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var X=function(e,t){return"@postConstruct error in class "+e+": "+t};var Z=function(e,t){return"@preDestroy error in class "+e+": "+t};var Q=function(e,t){return"onDeactivation() error in class "+e+": "+t};var ee=function(e,t){return"It looks like there is a circular dependency in one of the '"+e+"' bindings. Please investigate bindings with"+("service identifier '"+t+"'.")};var te="Maximum call stack size exceeded";var re=function(){function e(){}e.prototype.getConstructorMetadata=function(e){var t=Reflect.getMetadata(h,e);var r=Reflect.getMetadata(c,e);return{compilerGeneratedMetadata:t,userGeneratedMetadata:r||{}}};e.prototype.getPropertiesMetadata=function(e){var t=Reflect.getMetadata(f,e)||[];return t};return e}();var ne={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function ie(e){return e instanceof RangeError||e.message===te}var oe=function(e,t){try{return e()}catch(e){if(ie(e)){e=t()}throw e}};function ae(e){if(typeof e==="function"){var t=e;return t.name}else if(typeof e==="symbol"){return e.toString()}else{var t=e;return t}}function se(e,t,r){var n="";var i=r(e,t);if(i.length!==0){n="\nRegistered bindings:";i.forEach((function(e){var t="Object";if(e.implementationType!==null){t=he(e.implementationType)}n=n+"\n "+t;if(e.constraint.metaData){n=n+" - "+e.constraint.metaData}}))}return n}function ue(e,t){if(e.parentRequest===null){return false}else if(e.parentRequest.serviceIdentifier===t){return true}else{return ue(e.parentRequest,t)}}function le(e){function t(e,r){if(r===void 0){r=[]}var n=ae(e.serviceIdentifier);r.push(n);if(e.parentRequest!==null){return t(e.parentRequest,r)}return r}var r=t(e);return r.reverse().join(" --\x3e ")}function ce(e){e.childRequests.forEach((function(e){if(ue(e,e.serviceIdentifier)){var t=le(e);throw new Error(M+" "+t)}else{ce(e)}}))}function fe(e,t){if(t.isTagged()||t.isNamed()){var r="";var n=t.getNamedTag();var i=t.getCustomTags();if(n!==null){r+=n.toString()+"\n"}if(i!==null){i.forEach((function(e){r+=e.toString()+"\n"}))}return" "+e+"\n "+e+" - "+r}else{return" "+e}}function he(e){if(e.name){return e.name}else{var t=e.toString();var r=t.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+t}}function de(e){return e.toString().slice(7,-1)}var pe=function(){function e(e){this.id=E();this.container=e}e.prototype.addPlan=function(e){this.plan=e};e.prototype.setCurrentRequest=function(e){this.currentRequest=e};return e}();var ve=function(){function e(e,t){this.key=e;this.value=t}e.prototype.toString=function(){if(this.key===i){return"named: "+String(this.value).toString()+" "}else{return"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"}};return e}();var me=function(){function e(e,t){this.parentContext=e;this.rootRequest=t}return e}();var ge=function(){function e(e){this._cb=e}e.prototype.unwrap=function(){return this._cb()};return e}();var ye=function(){function e(e){this.str=e}e.prototype.startsWith=function(e){return this.str.indexOf(e)===0};e.prototype.endsWith=function(e){var t="";var r=e.split("").reverse().join("");t=this.str.split("").reverse().join("");return this.startsWith.call({str:t},r)};e.prototype.contains=function(e){return this.str.indexOf(e)!==-1};e.prototype.equals=function(e){return this.str===e};e.prototype.value=function(){return this.str};return e}();var be=function(){function e(e,t,r,n){this.id=E();this.type=e;this.serviceIdentifier=r;var o=typeof t==="symbol"?de(t):t;this.name=new ye(o||"");this.identifier=t;this.metadata=new Array;var a=null;if(typeof n==="string"){a=new ve(i,n)}else if(n instanceof ve){a=n}if(a!==null){this.metadata.push(a)}}e.prototype.hasTag=function(e){for(var t=0,r=this.metadata;t<r.length;t++){var n=r[t];if(n.key===e){return true}}return false};e.prototype.isArray=function(){return this.hasTag(l)};e.prototype.matchesArray=function(e){return this.matchesTag(l)(e)};e.prototype.isNamed=function(){return this.hasTag(i)};e.prototype.isTagged=function(){return this.metadata.some((function(e){return g.every((function(t){return e.key!==t}))}))};e.prototype.isOptional=function(){return this.matchesTag(s)(true)};e.prototype.getNamedTag=function(){if(this.isNamed()){return this.metadata.filter((function(e){return e.key===i}))[0]}return null};e.prototype.getCustomTags=function(){if(this.isTagged()){return this.metadata.filter((function(e){return g.every((function(t){return e.key!==t}))}))}else{return null}};e.prototype.matchesNamedTag=function(e){return this.matchesTag(i)(e)};e.prototype.matchesTag=function(e){var t=this;return function(r){for(var n=0,i=t.metadata;n<i.length;n++){var o=i[n];if(o.key===e&&o.value===r){return true}}return false}};return e}();var _e=undefined&&undefined.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++){if(o||!(n in t)){if(!o)o=Array.prototype.slice.call(t,0,n);o[n]=t[n]}}return e.concat(o||Array.prototype.slice.call(t))};function we(e,t){var r=he(t);return Ee(e,r,t,false)}function Ee(e,t,r,n){var i=e.getConstructorMetadata(r);var o=i.compilerGeneratedMetadata;if(o===undefined){var a=k+" "+t+".";throw new Error(a)}var s=i.userGeneratedMetadata;var u=Object.keys(s);var l=r.length===0&&u.length>0;var c=u.length>r.length;var f=l||c?u.length:r.length;var h=Te(n,t,o,s,f);var d=xe(e,r,t);var p=_e(_e([],h,true),d,true);return p}function Se(e,t,r,n,i){var o=i[e.toString()]||[];var a=Oe(o);var s=a.unmanaged!==true;var u=n[e];var l=a.inject||a.multiInject;u=l?l:u;if(u instanceof ge){u=u.unwrap()}if(s){var c=u===Object;var f=u===Function;var h=u===undefined;var d=c||f||h;if(!t&&d){var p=R+" argument "+e+" in class "+r+".";throw new Error(p)}var v=new be(_.ConstructorArgument,a.targetName,u);v.metadata=o;return v}return null}function Te(e,t,r,n,i){var o=[];for(var a=0;a<i;a++){var s=a;var u=Se(s,e,t,r,n);if(u!==null){o.push(u)}}return o}function Ae(e,t,r,n){var i=e||t;if(i===undefined){var o=k+" for property "+String(r)+" in class "+n+".";throw new Error(o)}return i}function xe(e,t,r){var n=e.getPropertiesMetadata(t);var i=[];var o=Object.getOwnPropertySymbols(n);var a=Object.keys(n);var s=a.concat(o);for(var u=0,l=s;u<l.length;u++){var c=l[u];var f=n[c];var h=Oe(f);var d=h.targetName||c;var p=Ae(h.inject,h.multiInject,c,r);var v=new be(_.ClassProperty,d,p);v.metadata=f;i.push(v)}var m=Object.getPrototypeOf(t.prototype).constructor;if(m!==Object){var g=xe(e,m,r);i=_e(_e([],i,true),g,true)}return i}function De(e,t){var r=Object.getPrototypeOf(t.prototype).constructor;if(r!==Object){var n=he(r);var i=Ee(e,n,r,true);var o=i.map((function(e){return e.metadata.filter((function(e){return e.key===a}))}));var s=[].concat.apply([],o).length;var u=i.length-s;if(u>0){return u}else{return De(e,r)}}else{return 0}}function Oe(e){var t={};e.forEach((function(e){t[e.key.toString()]=e.value}));return{inject:t[u],multiInject:t[l],targetName:t[o],unmanaged:t[a]}}var Ie=function(){function e(e,t,r,n,i){this.id=E();this.serviceIdentifier=e;this.parentContext=t;this.parentRequest=r;this.target=i;this.childRequests=[];this.bindings=Array.isArray(n)?n:[n];this.requestScope=r===null?new Map:null}e.prototype.addChildRequest=function(t,r,n){var i=new e(t,this.parentContext,this,r,n);this.childRequests.push(i);return i};return e}();function Ce(e){return e._bindingDictionary}function ke(e,t,r,n,i,o){var a=e?l:u;var s=new ve(a,r);var c=new be(t,n,r,s);if(i!==undefined){var f=new ve(i,o);c.metadata.push(f)}return c}function Re(e,t,r,n,i){var o=Le(r.container,i.serviceIdentifier);var a=[];if(o.length===ne.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof i.serviceIdentifier==="function"&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata){r.container.bind(i.serviceIdentifier).toSelf();o=Le(r.container,i.serviceIdentifier)}if(!t){a=o.filter((function(e){var t=new Ie(e.serviceIdentifier,r,n,e,i);return e.constraint(t)}))}else{a=o}Pe(i.serviceIdentifier,a,i,r.container);return a}function Pe(e,t,r,n){switch(t.length){case ne.NoBindingsAvailable:if(r.isOptional()){return t}else{var i=ae(e);var o=C;o+=fe(i,r);o+=se(n,i,Le);throw new Error(o)}case ne.OnlyOneBindingAvailable:return t;case ne.MultipleBindingsAvailable:default:if(!r.isArray()){var i=ae(e);var o=O+" "+i;o+=se(n,i,Le);throw new Error(o)}else{return t}}}function Me(e,t,r,n,i,o){var a;var s;if(i===null){a=Re(e,t,n,null,o);s=new Ie(r,n,null,a,o);var u=new me(n,s);n.addPlan(u)}else{a=Re(e,t,n,i,o);s=i.addChildRequest(o.serviceIdentifier,a,o)}a.forEach((function(t){var r=null;if(o.isArray()){r=s.addChildRequest(t.serviceIdentifier,t,o)}else{if(t.cache){return}r=s}if(t.type===b.Instance&&t.implementationType!==null){var i=we(e,t.implementationType);if(!n.container.options.skipBaseClassChecks){var a=De(e,t.implementationType);if(i.length<a){var u=G(he(t.implementationType));throw new Error(u)}}i.forEach((function(t){Me(e,false,t.serviceIdentifier,n,r,t)}))}}))}function Le(e,t){var r=[];var n=Ce(e);if(n.hasKey(t)){r=n.get(t)}else if(e.parent!==null){r=Le(e.parent,t)}return r}function Ne(e,t,r,n,i,o,a,s){if(s===void 0){s=false}var u=new pe(t);var l=ke(r,n,i,"",o,a);try{Me(e,s,i,u,null,l);return u}catch(e){if(ie(e)){ce(u.plan.rootRequest)}throw e}}function Fe(e,t,r,n){var i=new be(_.Variable,"",t,new ve(r,n));var o=new pe(e);var a=new Ie(t,o,null,[],i);return a}function je(e){var t=typeof e==="object"&&e!==null||typeof e==="function";return t&&typeof e.then==="function"}function Be(e){if(je(e)){return true}return Array.isArray(e)&&e.some(je)}var Ue=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))};var ze=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var $e=function(e,t){if(t.scope===y.Singleton&&t.activated){return t.cache}if(t.scope===y.Request&&e.has(t.id)){return e.get(t.id)}return null};var Ge=function(e,t,r){if(t.scope===y.Singleton){We(t,r)}if(t.scope===y.Request){He(e,t,r)}};var He=function(e,t,r){if(!e.has(t.id)){e.set(t.id,r)}};var We=function(e,t){e.cache=t;e.activated=true;if(je(t)){void Ve(e,t)}};var Ve=function(e,t){return Ue(void 0,void 0,void 0,(function(){var r,n;return ze(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,t];case 1:r=i.sent();e.cache=r;return[3,3];case 2:n=i.sent();e.cache=null;e.activated=false;throw n;case 3:return[2]}}))}))};var qe;(function(e){e["DynamicValue"]="toDynamicValue";e["Factory"]="toFactory";e["Provider"]="toProvider"})(qe||(qe={}));var Je=function(e){return function(t){return function(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}return r.forEach((function(r){return e.bind(r).toService(t)}))}}};var Ye=function(e){var t=null;switch(e.type){case b.ConstantValue:case b.Function:t=e.cache;break;case b.Constructor:case b.Instance:t=e.implementationType;break;case b.DynamicValue:t=e.dynamicValue;break;case b.Provider:t=e.provider;break;case b.Factory:t=e.factory;break}if(t===null){var r=ae(e.serviceIdentifier);throw new Error(N+" "+r)}};var Ke=function(e){switch(e.type){case b.Factory:return{factory:e.factory,factoryType:qe.Factory};case b.Provider:return{factory:e.provider,factoryType:qe.Provider};case b.DynamicValue:return{factory:e.dynamicValue,factoryType:qe.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}};var Xe=undefined&&undefined.__assign||function(){Xe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return Xe.apply(this,arguments)};var Ze=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))};var Qe=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var et=undefined&&undefined.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++){if(o||!(n in t)){if(!o)o=Array.prototype.slice.call(t,0,n);o[n]=t[n]}}return e.concat(o||Array.prototype.slice.call(t))};function tt(e,t){return e.reduce((function(e,r){var n=t(r);var i=r.target.type;if(i===_.ConstructorArgument){e.constructorInjections.push(n)}else{e.propertyRequests.push(r);e.propertyInjections.push(n)}if(!e.isAsync){e.isAsync=Be(n)}return e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:false})}function rt(e,t,r){var n;if(t.length>0){var i=tt(t,r);var o=Xe(Xe({},i),{constr:e});if(i.isAsync){n=it(o)}else{n=nt(o)}}else{n=new e}return n}function nt(e){var t;var r=new((t=e.constr).bind.apply(t,et([void 0],e.constructorInjections,false)));e.propertyRequests.forEach((function(t,n){var i=t.target.identifier;var o=e.propertyInjections[n];r[i]=o}));return r}function it(e){return Ze(this,void 0,void 0,(function(){var t,r;return Qe(this,(function(n){switch(n.label){case 0:return[4,ot(e.constructorInjections)];case 1:t=n.sent();return[4,ot(e.propertyInjections)];case 2:r=n.sent();return[2,nt(Xe(Xe({},e),{constructorInjections:t,propertyInjections:r}))]}}))}))}function ot(e){return Ze(this,void 0,void 0,(function(){var t,r,n,i;return Qe(this,(function(o){t=[];for(r=0,n=e;r<n.length;r++){i=n[r];if(Array.isArray(i)){t.push(Promise.all(i))}else{t.push(i)}}return[2,Promise.all(t)]}))}))}function at(e,t){var r=st(e,t);if(je(r)){return r.then((function(){return t}))}else{return t}}function st(e,t){var r,n;if(Reflect.hasMetadata(p,e)){var i=Reflect.getMetadata(p,e);try{return(n=(r=t)[i.value])===null||n===void 0?void 0:n.call(r)}catch(t){throw new Error(X(e.name,t.message))}}}function ut(e,t){if(e.scope!==y.Singleton){lt(e,t)}}function lt(e,t){var r="Class cannot be instantiated in "+(e.scope===y.Request?"request":"transient")+" scope.";if(typeof e.onDeactivation==="function"){throw new Error(Q(t.name,r))}if(Reflect.hasMetadata(v,t)){throw new Error(Z(t.name,r))}}function ct(e,t,r,n){ut(e,t);var i=rt(t,r,n);if(je(i)){return i.then((function(e){return at(t,e)}))}else{return at(t,i)}}var ft=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))};var ht=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var dt=function(e){return function(t){t.parentContext.setCurrentRequest(t);var r=t.bindings;var n=t.childRequests;var i=t.target&&t.target.isArray();var o=!t.parentRequest||!t.parentRequest.target||!t.target||!t.parentRequest.target.matchesArray(t.target.serviceIdentifier);if(i&&o){return n.map((function(t){var r=dt(e);return r(t)}))}else{if(t.target.isOptional()&&r.length===0){return undefined}var a=r[0];return gt(e,t,a)}}};var pt=function(e,t){var r=Ke(e);return oe((function(){return r.factory.bind(e)(t)}),(function(){return new Error(ee(r.factoryType,t.currentRequest.serviceIdentifier.toString()))}))};var vt=function(e,t,r){var n;var i=t.childRequests;Ye(r);switch(r.type){case b.ConstantValue:case b.Function:n=r.cache;break;case b.Constructor:n=r.implementationType;break;case b.Instance:n=ct(r,r.implementationType,i,dt(e));break;default:n=pt(r,t.parentContext)}return n};var mt=function(e,t,r){var n=$e(e,t);if(n!==null){return n}n=r();Ge(e,t,n);return n};var gt=function(e,t,r){return mt(e,r,(function(){var n=vt(e,t,r);if(je(n)){n=n.then((function(e){return yt(t,r,e)}))}else{n=yt(t,r,n)}return n}))};function yt(e,t,r){var n=bt(e.parentContext,t,r);var i=St(e.parentContext.container);var o;var a=i.next();do{o=a.value;var s=e.parentContext;var u=e.serviceIdentifier;var l=Et(o,u);if(je(n)){n=wt(l,s,n)}else{n=_t(l,s,n)}a=i.next()}while(a.done!==true&&!Ce(o).hasKey(e.serviceIdentifier));return n}var bt=function(e,t,r){var n;if(typeof t.onActivation==="function"){n=t.onActivation(e,r)}else{n=r}return n};var _t=function(e,t,r){var n=e.next();while(!n.done){r=n.value(t,r);if(je(r)){return wt(e,t,r)}n=e.next()}return r};var wt=function(e,t,r){return ft(void 0,void 0,void 0,(function(){var n,i;return ht(this,(function(o){switch(o.label){case 0:return[4,r];case 1:n=o.sent();i=e.next();o.label=2;case 2:if(!!i.done)return[3,4];return[4,i.value(t,n)];case 3:n=o.sent();i=e.next();return[3,2];case 4:return[2,n]}}))}))};var Et=function(e,t){var r=e._activations;return r.hasKey(t)?r.get(t).values():[].values()};var St=function(e){var t=[e];var r=e.parent;while(r!==null){t.push(r);r=r.parent}var n=function(){var e=t.pop();if(e!==undefined){return{done:false,value:e}}else{return{done:true,value:undefined}}};var i={next:n};return i};function Tt(e){var t=dt(e.plan.rootRequest.requestScope);return t(e.plan.rootRequest)}var At=function(e,t){var r=e.parentRequest;if(r!==null){return t(r)?true:At(r,t)}else{return false}};var xt=function(e){return function(t){var r=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(e)(t)};r.metaData=new ve(e,t);return r}};var Dt=xt(i);var Ot=function(e){return function(t){var r=null;if(t!==null){r=t.bindings[0];if(typeof e==="string"){var n=r.serviceIdentifier;return n===e}else{var i=t.bindings[0].implementationType;return e===i}}return false}};var It=function(){function e(e){this._binding=e}e.prototype.when=function(e){this._binding.constraint=e;return new Ct(this._binding)};e.prototype.whenTargetNamed=function(e){this._binding.constraint=Dt(e);return new Ct(this._binding)};e.prototype.whenTargetIsDefault=function(){this._binding.constraint=function(e){if(e===null){return false}var t=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return t};return new Ct(this._binding)};e.prototype.whenTargetTagged=function(e,t){this._binding.constraint=xt(e)(t);return new Ct(this._binding)};e.prototype.whenInjectedInto=function(e){this._binding.constraint=function(t){return t!==null&&Ot(e)(t.parentRequest)};return new Ct(this._binding)};e.prototype.whenParentNamed=function(e){this._binding.constraint=function(t){return t!==null&&Dt(e)(t.parentRequest)};return new Ct(this._binding)};e.prototype.whenParentTagged=function(e,t){this._binding.constraint=function(r){return r!==null&&xt(e)(t)(r.parentRequest)};return new Ct(this._binding)};e.prototype.whenAnyAncestorIs=function(e){this._binding.constraint=function(t){return t!==null&&At(t,Ot(e))};return new Ct(this._binding)};e.prototype.whenNoAncestorIs=function(e){this._binding.constraint=function(t){return t!==null&&!At(t,Ot(e))};return new Ct(this._binding)};e.prototype.whenAnyAncestorNamed=function(e){this._binding.constraint=function(t){return t!==null&&At(t,Dt(e))};return new Ct(this._binding)};e.prototype.whenNoAncestorNamed=function(e){this._binding.constraint=function(t){return t!==null&&!At(t,Dt(e))};return new Ct(this._binding)};e.prototype.whenAnyAncestorTagged=function(e,t){this._binding.constraint=function(r){return r!==null&&At(r,xt(e)(t))};return new Ct(this._binding)};e.prototype.whenNoAncestorTagged=function(e,t){this._binding.constraint=function(r){return r!==null&&!At(r,xt(e)(t))};return new Ct(this._binding)};e.prototype.whenAnyAncestorMatches=function(e){this._binding.constraint=function(t){return t!==null&&At(t,e)};return new Ct(this._binding)};e.prototype.whenNoAncestorMatches=function(e){this._binding.constraint=function(t){return t!==null&&!At(t,e)};return new Ct(this._binding)};return e}();var Ct=function(){function e(e){this._binding=e}e.prototype.onActivation=function(e){this._binding.onActivation=e;return new It(this._binding)};e.prototype.onDeactivation=function(e){this._binding.onDeactivation=e;return new It(this._binding)};return e}();var kt=function(){function e(e){this._binding=e;this._bindingWhenSyntax=new It(this._binding);this._bindingOnSyntax=new Ct(this._binding)}e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)};e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)};e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()};e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)};e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)};e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)};e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)};e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)};e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)};e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)};e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)};e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)};e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)};e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)};e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)};e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)};e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)};return e}();var Rt=function(){function e(e){this._binding=e}e.prototype.inRequestScope=function(){this._binding.scope=y.Request;return new kt(this._binding)};e.prototype.inSingletonScope=function(){this._binding.scope=y.Singleton;return new kt(this._binding)};e.prototype.inTransientScope=function(){this._binding.scope=y.Transient;return new kt(this._binding)};return e}();var Pt=function(){function e(e){this._binding=e;this._bindingWhenSyntax=new It(this._binding);this._bindingOnSyntax=new Ct(this._binding);this._bindingInSyntax=new Rt(e)}e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()};e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()};e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()};e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)};e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)};e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()};e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)};e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)};e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)};e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)};e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)};e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)};e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)};e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)};e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)};e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)};e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)};e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)};e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)};e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)};return e}();var Mt=function(){function e(e){this._binding=e}e.prototype.to=function(e){this._binding.type=b.Instance;this._binding.implementationType=e;return new Pt(this._binding)};e.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!=="function"){throw new Error(""+z)}var e=this._binding.serviceIdentifier;return this.to(e)};e.prototype.toConstantValue=function(e){this._binding.type=b.ConstantValue;this._binding.cache=e;this._binding.dynamicValue=null;this._binding.implementationType=null;this._binding.scope=y.Singleton;return new kt(this._binding)};e.prototype.toDynamicValue=function(e){this._binding.type=b.DynamicValue;this._binding.cache=null;this._binding.dynamicValue=e;this._binding.implementationType=null;return new Pt(this._binding)};e.prototype.toConstructor=function(e){this._binding.type=b.Constructor;this._binding.implementationType=e;this._binding.scope=y.Singleton;return new kt(this._binding)};e.prototype.toFactory=function(e){this._binding.type=b.Factory;this._binding.factory=e;this._binding.scope=y.Singleton;return new kt(this._binding)};e.prototype.toFunction=function(e){if(typeof e!=="function"){throw new Error(B)}var t=this.toConstantValue(e);this._binding.type=b.Function;this._binding.scope=y.Singleton;return t};e.prototype.toAutoFactory=function(e){this._binding.type=b.Factory;this._binding.factory=function(t){var r=function(){return t.container.get(e)};return r};this._binding.scope=y.Singleton;return new kt(this._binding)};e.prototype.toAutoNamedFactory=function(e){this._binding.type=b.Factory;this._binding.factory=function(t){return function(r){return t.container.getNamed(e,r)}};return new kt(this._binding)};e.prototype.toProvider=function(e){this._binding.type=b.Provider;this._binding.provider=e;this._binding.scope=y.Singleton;return new kt(this._binding)};e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))};return e}();var Lt=function(){function e(){}e.of=function(t,r,n,i,o){var a=new e;a.bindings=t;a.middleware=r;a.deactivations=i;a.activations=n;a.moduleActivationStore=o;return a};return e}();function Nt(e){return typeof e==="object"&&e!==null&&"clone"in e&&typeof e.clone==="function"}var Ft=function(){function e(){this._map=new Map}e.prototype.getMap=function(){return this._map};e.prototype.add=function(e,t){if(e===null||e===undefined){throw new Error(x)}if(t===null||t===undefined){throw new Error(x)}var r=this._map.get(e);if(r!==undefined){r.push(t)}else{this._map.set(e,[t])}};e.prototype.get=function(e){if(e===null||e===undefined){throw new Error(x)}var t=this._map.get(e);if(t!==undefined){return t}else{throw new Error(D)}};e.prototype.remove=function(e){if(e===null||e===undefined){throw new Error(x)}if(!this._map.delete(e)){throw new Error(D)}};e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(r,n){var i=e.hasKey(r)?e.get(r):undefined;if(i!==undefined){var o=n.filter((function(e){return!i.some((function(t){return e===t}))}));t._setValue(r,o)}}))};e.prototype.removeByCondition=function(e){var t=this;var r=[];this._map.forEach((function(n,i){var o=[];for(var a=0,s=n;a<s.length;a++){var u=s[a];var l=e(u);if(l){r.push(u)}else{o.push(u)}}t._setValue(i,o)}));return r};e.prototype.hasKey=function(e){if(e===null||e===undefined){throw new Error(x)}return this._map.has(e)};e.prototype.clone=function(){var t=new e;this._map.forEach((function(e,r){e.forEach((function(e){return t.add(r,Nt(e)?e.clone():e)}))}));return t};e.prototype.traverse=function(e){this._map.forEach((function(t,r){e(r,t)}))};e.prototype._setValue=function(e,t){if(t.length>0){this._map.set(e,t)}else{this._map.delete(e)}};return e}();var jt=function(){function e(){this._map=new Map}e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);this._map.delete(e);return t}return this._getEmptyHandlersStore()};e.prototype.addDeactivation=function(e,t,r){this._getModuleActivationHandlers(e).onDeactivations.add(t,r)};e.prototype.addActivation=function(e,t,r){this._getModuleActivationHandlers(e).onActivations.add(t,r)};e.prototype.clone=function(){var t=new e;this._map.forEach((function(e,r){t._map.set(r,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})}));return t};e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);if(t===undefined){t=this._getEmptyHandlersStore();this._map.set(e,t)}return t};e.prototype._getEmptyHandlersStore=function(){var e={onActivations:new Ft,onDeactivations:new Ft};return e};return e}();var Bt=undefined&&undefined.__assign||function(){Bt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return Bt.apply(this,arguments)};var Ut=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))};var zt=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var $t=undefined&&undefined.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++){if(o||!(n in t)){if(!o)o=Array.prototype.slice.call(t,0,n);o[n]=t[n]}}return e.concat(o||Array.prototype.slice.call(t))};var Gt=function(){function e(e){var t=e||{};if(typeof t!=="object"){throw new Error(""+H)}if(t.defaultScope===undefined){t.defaultScope=y.Transient}else if(t.defaultScope!==y.Singleton&&t.defaultScope!==y.Transient&&t.defaultScope!==y.Request){throw new Error(""+W)}if(t.autoBindInjectable===undefined){t.autoBindInjectable=false}else if(typeof t.autoBindInjectable!=="boolean"){throw new Error(""+V)}if(t.skipBaseClassChecks===undefined){t.skipBaseClassChecks=false}else if(typeof t.skipBaseClassChecks!=="boolean"){throw new Error(""+q)}this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks};this.id=E();this._bindingDictionary=new Ft;this._snapshots=[];this._middleware=null;this._activations=new Ft;this._deactivations=new Ft;this.parent=null;this._metadataReader=new re;this._moduleActivationStore=new jt}e.merge=function(t,r){var n=[];for(var i=2;i<arguments.length;i++){n[i-2]=arguments[i]}var o=new e;var a=$t([t,r],n,true).map((function(e){return Ce(e)}));var s=Ce(o);function u(e,t){e.traverse((function(e,r){r.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}a.forEach((function(e){u(e,s)}));return o};e.prototype.load=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=this._getContainerModuleHelpersFactory();for(var n=0,i=e;n<i.length;n++){var o=i[n];var a=r(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}};e.prototype.loadAsync=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return Ut(this,void 0,void 0,(function(){var t,r,n,i,o;return zt(this,(function(a){switch(a.label){case 0:t=this._getContainerModuleHelpersFactory();r=0,n=e;a.label=1;case 1:if(!(r<n.length))return[3,4];i=n[r];o=t(i.id);return[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction,o.unbindAsyncFunction,o.onActivationFunction,o.onDeactivationFunction)];case 2:a.sent();a.label=3;case 3:r++;return[3,1];case 4:return[2]}}))}))};e.prototype.unload=function(){var e=this;var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}t.forEach((function(t){var r=e._removeModuleBindings(t.id);e._deactivateSingletons(r);e._removeModuleHandlers(t.id)}))};e.prototype.unloadAsync=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return Ut(this,void 0,void 0,(function(){var t,r,n,i;return zt(this,(function(o){switch(o.label){case 0:t=0,r=e;o.label=1;case 1:if(!(t<r.length))return[3,4];n=r[t];i=this._removeModuleBindings(n.id);return[4,this._deactivateSingletonsAsync(i)];case 2:o.sent();this._removeModuleHandlers(n.id);o.label=3;case 3:t++;return[3,1];case 4:return[2]}}))}))};e.prototype.bind=function(e){var t=this.options.defaultScope||y.Transient;var r=new S(e,t);this._bindingDictionary.add(e,r);return new Mt(r)};e.prototype.rebind=function(e){this.unbind(e);return this.bind(e)};e.prototype.rebindAsync=function(e){return Ut(this,void 0,void 0,(function(){return zt(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:t.sent();return[2,this.bind(e)]}}))}))};e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)};e.prototype.unbindAsync=function(e){return Ut(this,void 0,void 0,(function(){var t;return zt(this,(function(r){switch(r.label){case 0:if(!this._bindingDictionary.hasKey(e))return[3,2];t=this._bindingDictionary.get(e);return[4,this._deactivateSingletonsAsync(t)];case 1:r.sent();r.label=2;case 2:this._removeServiceFromDictionary(e);return[2]}}))}))};e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,r){e._deactivateSingletons(r)}));this._bindingDictionary=new Ft};e.prototype.unbindAllAsync=function(){return Ut(this,void 0,void 0,(function(){var e;var t=this;return zt(this,(function(r){switch(r.label){case 0:e=[];this._bindingDictionary.traverse((function(r,n){e.push(t._deactivateSingletonsAsync(n))}));return[4,Promise.all(e)];case 1:r.sent();this._bindingDictionary=new Ft;return[2]}}))}))};e.prototype.onActivation=function(e,t){this._activations.add(e,t)};e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)};e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);if(!t&&this.parent){t=this.parent.isBound(e)}return t};e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)};e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,i,t)};e.prototype.isBoundTagged=function(e,t,r){var n=false;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e);var o=Fe(this,e,t,r);n=i.some((function(e){return e.constraint(o)}))}if(!n&&this.parent){n=this.parent.isBoundTagged(e,t,r)}return n};e.prototype.snapshot=function(){this._snapshots.push(Lt.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))};e.prototype.restore=function(){var e=this._snapshots.pop();if(e===undefined){throw new Error(F)}this._bindingDictionary=e.bindings;this._activations=e.activations;this._deactivations=e.deactivations;this._middleware=e.middleware;this._moduleActivationStore=e.moduleActivationStore};e.prototype.createChild=function(t){var r=new e(t||this.options);r.parent=this;return r};e.prototype.applyMiddleware=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),r)};e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e};e.prototype.get=function(e){var t=this._getNotAllArgs(e,false);return this._getButThrowIfAsync(t)};e.prototype.getAsync=function(e){return Ut(this,void 0,void 0,(function(){var t;return zt(this,(function(r){t=this._getNotAllArgs(e,false);return[2,this._get(t)]}))}))};e.prototype.getTagged=function(e,t,r){var n=this._getNotAllArgs(e,false,t,r);return this._getButThrowIfAsync(n)};e.prototype.getTaggedAsync=function(e,t,r){return Ut(this,void 0,void 0,(function(){var n;return zt(this,(function(i){n=this._getNotAllArgs(e,false,t,r);return[2,this._get(n)]}))}))};e.prototype.getNamed=function(e,t){return this.getTagged(e,i,t)};e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,i,t)};e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)};e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)};e.prototype.getAllTagged=function(e,t,r){var n=this._getNotAllArgs(e,true,t,r);return this._getButThrowIfAsync(n)};e.prototype.getAllTaggedAsync=function(e,t,r){var n=this._getNotAllArgs(e,true,t,r);return this._getAll(n)};e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,i,t)};e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,i,t)};e.prototype.resolve=function(e){var t=this.isBound(e);if(!t){this.bind(e).toSelf()}var r=this.get(e);if(!t){this.unbind(e)}return r};e.prototype._preDestroy=function(e,t){if(Reflect.hasMetadata(v,e)){var r=Reflect.getMetadata(v,e);return t[r.value]()}};e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations);this._deactivations.removeIntersection(t.onDeactivations)};e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))};e.prototype._deactivate=function(e,t){var r=this;var n=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var i=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if(je(i)){return this._handleDeactivationError(i.then((function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,n)})),n)}}var o=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,n);if(je(o)){return this._handleDeactivationError(o,n)}}catch(e){throw new Error(Q(n.name,e.message))}};e.prototype._handleDeactivationError=function(e,t){return Ut(this,void 0,void 0,(function(){var r;return zt(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,e];case 1:n.sent();return[3,3];case 2:r=n.sent();throw new Error(Q(t.name,r.message));case 3:return[2]}}))}))};e.prototype._deactivateContainer=function(e,t){var r=this;var n=t.next();while(n.value){var i=n.value(e);if(je(i)){return i.then((function(){return r._deactivateContainerAsync(e,t)}))}n=t.next()}};e.prototype._deactivateContainerAsync=function(e,t){return Ut(this,void 0,void 0,(function(){var r;return zt(this,(function(n){switch(n.label){case 0:r=t.next();n.label=1;case 1:if(!r.value)return[3,3];return[4,r.value(e)];case 2:n.sent();r=t.next();return[3,1];case 3:return[2]}}))}))};e.prototype._getContainerModuleHelpersFactory=function(){var e=this;var t=function(e,t){e._binding.moduleId=t};var r=function(r){return function(n){var i=e.bind(n);t(i,r);return i}};var n=function(){return function(t){return e.unbind(t)}};var i=function(){return function(t){return e.unbindAsync(t)}};var o=function(){return function(t){return e.isBound(t)}};var a=function(r){return function(n){var i=e.rebind(n);t(i,r);return i}};var s=function(t){return function(r,n){e._moduleActivationStore.addActivation(t,r,n);e.onActivation(r,n)}};var u=function(t){return function(r,n){e._moduleActivationStore.addDeactivation(t,r,n);e.onDeactivation(r,n)}};return function(e){return{bindFunction:r(e),isboundFunction:o(),onActivationFunction:s(e),onDeactivationFunction:u(e),rebindFunction:a(e),unbindFunction:n(),unbindAsyncFunction:i()}}};e.prototype._getAll=function(e){return Promise.all(this._get(e))};e.prototype._get=function(e){var t=Bt(Bt({},e),{contextInterceptor:function(e){return e},targetType:_.Variable});if(this._middleware){var r=this._middleware(t);if(r===undefined||r===null){throw new Error(j)}return r}return this._planAndResolve()(t)};e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if(Be(t)){throw new Error(U(e.serviceIdentifier))}return t};e.prototype._getAllArgs=function(e){var t={avoidConstraints:true,isMultiInject:true,serviceIdentifier:e};return t};e.prototype._getNotAllArgs=function(e,t,r,n){var i={avoidConstraints:false,isMultiInject:t,serviceIdentifier:e,key:r,value:n};return i};e.prototype._planAndResolve=function(){var e=this;return function(t){var r=Ne(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);r=t.contextInterceptor(r);var n=Tt(r);return n}};e.prototype._deactivateIfSingleton=function(e){var t=this;if(!e.activated){return}if(je(e.cache)){return e.cache.then((function(r){return t._deactivate(e,r)}))}return this._deactivate(e,e.cache)};e.prototype._deactivateSingletons=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];var i=this._deactivateIfSingleton(n);if(je(i)){throw new Error(K)}}};e.prototype._deactivateSingletonsAsync=function(e){return Ut(this,void 0,void 0,(function(){var t=this;return zt(this,(function(r){switch(r.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:r.sent();return[2]}}))}))};e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,r){if(this.parent){return this._deactivate.bind(this.parent)(e,t)}else{return this._bindingDeactivationAndPreDestroy(e,t,r)}};e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,r){return Ut(this,void 0,void 0,(function(){return zt(this,(function(n){switch(n.label){case 0:if(!this.parent)return[3,2];return[4,this._deactivate.bind(this.parent)(e,t)];case 1:n.sent();return[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,r)];case 3:n.sent();n.label=4;case 4:return[2]}}))}))};e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(I+" "+ae(e))}};e.prototype._bindingDeactivationAndPreDestroy=function(e,t,r){var n=this;if(typeof e.onDeactivation==="function"){var i=e.onDeactivation(t);if(je(i)){return i.then((function(){return n._preDestroy(r,t)}))}}return this._preDestroy(r,t)};e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,r){return Ut(this,void 0,void 0,(function(){return zt(this,(function(n){switch(n.label){case 0:if(!(typeof e.onDeactivation==="function"))return[3,2];return[4,e.onDeactivation(t)];case 1:n.sent();n.label=2;case 2:return[4,this._preDestroy(r,t)];case 3:n.sent();return[2]}}))}))};return e}();var Ht=function(){function e(e){this.id=E();this.registry=e}return e}();var Wt=function(){function e(e){this.id=E();this.registry=e}return e}();function Vt(e){var t=new Set;for(var r=0,n=e;r<n.length;r++){var i=n[r];if(t.has(i)){return i}else{t.add(i)}}return undefined}function qt(e){return e.prototype!==undefined}function Jt(e){if(e!==undefined){throw new Error($)}}function Yt(e,t,r,n){Jt(t);Zt(c,e,r.toString(),n)}function Kt(e,t,r){if(qt(e)){throw new Error($)}Zt(f,e.constructor,t,r)}function Xt(e){var t=[];if(Array.isArray(e)){t=e;var r=Vt(t.map((function(e){return e.key})));if(r!==undefined){throw new Error(A+" "+r.toString())}}else{t=[e]}return t}function Zt(e,t,r,n){var i=Xt(n);var o={};if(Reflect.hasOwnMetadata(e,t)){o=Reflect.getMetadata(e,t)}var a=o[r];if(a===undefined){a=[]}else{var s=function(e){if(i.some((function(t){return t.key===e.key}))){throw new Error(A+" "+e.key.toString())}};for(var u=0,l=a;u<l.length;u++){var c=l[u];s(c)}}a.push.apply(a,i);o[r]=a;Reflect.defineMetadata(e,o,t)}function Qt(e){return function(t,r,n){if(typeof n==="number"){Yt(t,r,n,e)}else{Kt(t,r,e)}}}function er(e,t){Reflect.decorate(e,t)}function tr(e,t){return function(r,n){t(r,n,e)}}function rr(e,t,r){if(typeof r==="number"){er([tr(r,e)],t)}else if(typeof r==="string"){Reflect.decorate([e],t,r)}else{er([e],t)}}function nr(){return function(e){if(Reflect.hasOwnMetadata(h,e)){throw new Error(T)}var t=Reflect.getMetadata(d,e)||[];Reflect.defineMetadata(h,t,e);return e}}function ir(e,t){return Qt(new ve(e,t))}function or(e){return Qt(new ve(i,e))}function ar(e){return function(t){return function(r,n,i){if(t===undefined){var o=typeof r==="function"?r.name:r.constructor.name;throw new Error(P(o))}return Qt(new ve(e,t))(r,n,i)}}}var sr=ar(u);function ur(){return Qt(new ve(s,true))}function lr(){return function(e,t,r){var n=new ve(a,true);Yt(e,t,r,n)}}var cr=ar(l);function fr(e){return function(t,r,n){var i=new ve(o,e);Yt(t,r,n,i)}}function hr(e,t){return function(){return function(r,n){var i=new ve(e,n);if(Reflect.hasOwnMetadata(e,r.constructor)){throw new Error(t)}Reflect.defineMetadata(e,i,r.constructor)}}}var dr=hr(p,Y);var pr=hr(v,J);var vr;(function(e){})(vr||(vr={}));var mr=n},function(e,t,r){var n=r(96);function i(e,t,r){t=n(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}e.exports=i,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){"use strict";var n=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);while(t.length){var r=t.shift();if(!r){continue}if(typeof r!=="object"){throw new TypeError(r+"must be non-object")}for(var n in r){if(i(r,n)){e[n]=r[n]}}}return e};t.shrinkBuf=function(e,t){if(e.length===t){return e}if(e.subarray){return e.subarray(0,t)}e.length=t;return e};var o={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+n),i);return}for(var o=0;o<n;o++){e[i+o]=t[r+o]}},flattenChunks:function(e){var t,r,n,i,o,a;n=0;for(t=0,r=e.length;t<r;t++){n+=e[t].length}a=new Uint8Array(n);i=0;for(t=0,r=e.length;t<r;t++){o=e[t];a.set(o,i);i+=o.length}return a}};var a={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++){e[i+o]=t[r+o]}},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){if(e){t.Buf8=Uint8Array;t.Buf16=Uint16Array;t.Buf32=Int32Array;t.assign(t,o)}else{t.Buf8=Array;t.Buf16=Array;t.Buf32=Array;t.assign(t,a)}};t.setTyped(n)},function(e,t,r){"use strict";var n=typeof Reflect==="object"?Reflect:null;var i=n&&typeof n.apply==="function"?n.apply:function e(t,r,n){return Function.prototype.apply.call(t,r,n)};var o;if(n&&typeof n.ownKeys==="function"){o=n.ownKeys}else if(Object.getOwnPropertySymbols){o=function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}}else{o=function e(t){return Object.getOwnPropertyNames(t)}}function a(e){if(console&&console.warn)console.warn(e)}var s=Number.isNaN||function e(t){return t!==t};function u(){u.init.call(this)}e.exports=u;e.exports.once=_;u.EventEmitter=u;u.prototype._events=undefined;u.prototype._eventsCount=0;u.prototype._maxListeners=undefined;var l=10;function c(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:true,get:function(){return l},set:function(e){if(typeof e!=="number"||e<0||s(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}l=e}});u.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};u.prototype.setMaxListeners=function e(t){if(typeof t!=="number"||t<0||s(t)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".")}this._maxListeners=t;return this};function f(e){if(e._maxListeners===undefined)return u.defaultMaxListeners;return e._maxListeners}u.prototype.getMaxListeners=function e(){return f(this)};u.prototype.emit=function e(t){var r=[];for(var n=1;n<arguments.length;n++)r.push(arguments[n]);var o=t==="error";var a=this._events;if(a!==undefined)o=o&&a.error===undefined;else if(!o)return false;if(o){var s;if(r.length>0)s=r[0];if(s instanceof Error){throw s}var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));u.context=s;throw u}var l=a[t];if(l===undefined)return false;if(typeof l==="function"){i(l,this,r)}else{var c=l.length;var f=g(l,c);for(var n=0;n<c;++n)i(f[n],this,r)}return true};function h(e,t,r,n){var i;var o;var s;c(r);o=e._events;if(o===undefined){o=e._events=Object.create(null);e._eventsCount=0}else{if(o.newListener!==undefined){e.emit("newListener",t,r.listener?r.listener:r);o=e._events}s=o[t]}if(s===undefined){s=o[t]=r;++e._eventsCount}else{if(typeof s==="function"){s=o[t]=n?[r,s]:[s,r]}else if(n){s.unshift(r)}else{s.push(r)}i=f(e);if(i>0&&s.length>i&&!s.warned){s.warned=true;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");u.name="MaxListenersExceededWarning";u.emitter=e;u.type=t;u.count=s.length;a(u)}}return e}u.prototype.addListener=function e(t,r){return h(this,t,r,false)};u.prototype.on=u.prototype.addListener;u.prototype.prependListener=function e(t,r){return h(this,t,r,true)};function d(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function p(e,t,r){var n={fired:false,wrapFn:undefined,target:e,type:t,listener:r};var i=d.bind(n);i.listener=r;n.wrapFn=i;return i}u.prototype.once=function e(t,r){c(r);this.on(t,p(this,t,r));return this};u.prototype.prependOnceListener=function e(t,r){c(r);this.prependListener(t,p(this,t,r));return this};u.prototype.removeListener=function e(t,r){var n,i,o,a,s;c(r);i=this._events;if(i===undefined)return this;n=i[t];if(n===undefined)return this;if(n===r||n.listener===r){if(--this._eventsCount===0)this._events=Object.create(null);else{delete i[t];if(i.removeListener)this.emit("removeListener",t,n.listener||r)}}else if(typeof n!=="function"){o=-1;for(a=n.length-1;a>=0;a--){if(n[a]===r||n[a].listener===r){s=n[a].listener;o=a;break}}if(o<0)return this;if(o===0)n.shift();else{y(n,o)}if(n.length===1)i[t]=n[0];if(i.removeListener!==undefined)this.emit("removeListener",t,s||r)}return this};u.prototype.off=u.prototype.removeListener;u.prototype.removeAllListeners=function e(t){var r,n,i;n=this._events;if(n===undefined)return this;if(n.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(n[t]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete n[t]}return this}if(arguments.length===0){var o=Object.keys(n);var a;for(i=0;i<o.length;++i){a=o[i];if(a==="removeListener")continue;this.removeAllListeners(a)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}r=n[t];if(typeof r==="function"){this.removeListener(t,r)}else if(r!==undefined){for(i=r.length-1;i>=0;i--){this.removeListener(t,r[i])}}return this};function v(e,t,r){var n=e._events;if(n===undefined)return[];var i=n[t];if(i===undefined)return[];if(typeof i==="function")return r?[i.listener||i]:[i];return r?b(i):g(i,i.length)}u.prototype.listeners=function e(t){return v(this,t,true)};u.prototype.rawListeners=function e(t){return v(this,t,false)};u.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return m.call(e,t)}};u.prototype.listenerCount=m;function m(e){var t=this._events;if(t!==undefined){var r=t[e];if(typeof r==="function"){return 1}else if(r!==undefined){return r.length}}return 0}u.prototype.eventNames=function e(){return this._eventsCount>0?o(this._events):[]};function g(e,t){var r=new Array(t);for(var n=0;n<t;++n)r[n]=e[n];return r}function y(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){var t=new Array(e.length);for(var r=0;r<t.length;++r){t[r]=e[r].listener||e[r]}return t}function _(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o);n(r)}function o(){if(typeof e.removeListener==="function"){e.removeListener("error",i)}r([].slice.call(arguments))}E(e,t,o,{once:true});if(t!=="error"){w(e,i,{once:true})}}))}function w(e,t,r){if(typeof e.on==="function"){E(e,"error",t,r)}}function E(e,t,r,n){if(typeof e.on==="function"){if(n.once){e.once(t,r)}else{e.on(t,r)}}else if(typeof e.addEventListener==="function"){e.addEventListener(t,(function i(o){if(n.once){e.removeEventListener(t,i)}r(o)}))}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}}},function(e,t,r){"use strict";var n=r(41);var i=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};e.exports=f;var o=Object.create(r(31));o.inherits=r(12);var a=r(85);var s=r(52);o.inherits(f,a);{var u=i(s.prototype);for(var l=0;l<u.length;l++){var c=u[l];if(!f.prototype[c])f.prototype[c]=s.prototype[c]}}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e);s.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",h)}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function h(){if(this.allowHalfOpen||this._writableState.ended)return;n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});f.prototype._destroy=function(e,t){this.push(null);this.end();n.nextTick(t,e)}},function(e,t,r){var n=r(1);var i=n.Buffer;function o(e,t){for(var r in e){t[r]=e[r]}}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow){e.exports=n}else{o(n,t);t.Buffer=a}function a(e,t,r){return i(e,t,r)}a.prototype=Object.create(i.prototype);o(i,a);a.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return i(e,t,r)};a.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=i(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};a.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i(e)};a.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},function(e,t,r){"use strict";r.r(t);(function(e){r.d(t,"Observer",(function(){return N}));r.d(t,"isObserverBatched",(function(){return y}));r.d(t,"isUsingStaticRendering",(function(){return u}));r.d(t,"observer",(function(){return P}));r.d(t,"observerBatching",(function(){return m}));r.d(t,"observerBatchingOptOut",(function(){return g}));r.d(t,"useAsObservableSource",(function(){return B}));r.d(t,"useForceUpdate",(function(){return c}));r.d(t,"useLocalStore",(function(){return U}));r.d(t,"useObserver",(function(){return R}));r.d(t,"useStaticRendering",(function(){return s}));var n=r(0);var i=r(8);var o=r.n(i);if(!i["useState"]){throw new Error("mobx-react-lite requires React with Hooks support")}if(!n["spy"]){throw new Error("mobx-react-lite requires mobx at least version 4 to be available")}var a=false;function s(e){a=e}function u(){return a}function l(){l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};return l.apply(this,arguments)}function c(){var e=Object(i["useState"])(0),t=e[1];var r=Object(i["useCallback"])((function(){t((function(e){return e+1}))}),[]);return r}function f(e){if(!e||typeof e!=="object"){return false}var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}function h(e){if(typeof Symbol==="function"){return Symbol.for(e)}return"__$mobx-react "+e+"__"}var d={};function p(){if(typeof window!=="undefined"){return window}if(typeof e!=="undefined"){return e}if(typeof self!=="undefined"){return self}return d}var v=h("observerBatching");var m=function e(t){if(typeof t==="function"){Object(n["configure"])({reactionScheduler:t})}p()[v]=true};var g=function e(){Object(n["configure"])({reactionScheduler:undefined});p()[v]=true};var y=function e(){return p()[v]};function b(e){return Object(n["getDependencyTree"])(e)}function _(e){var t={cleanAt:Date.now()+w,reaction:e};return t}var w=1e4;var E=1e4;var S=new Set;var T;function A(){if(T===undefined){T=setTimeout(O,E)}}function x(e){S.add(e);A()}function D(e){S.delete(e)}function O(){T=undefined;var e=Date.now();S.forEach((function(t){var r=t.current;if(r){if(e>=r.cleanAt){r.reaction.dispose();t.current=null;S.delete(t)}}}));if(S.size>0){A()}}var I={};function C(e){return"observer"+e}var k=false;function R(e,t,r){if(t===void 0){t="observed"}if(r===void 0){r=I}if(u()){return e()}if(false){}var i=r.useForceUpdate||c;var a=i();var s=o.a.useRef(null);if(!s.current){var l=new n["Reaction"](C(t),(function(){if(f.mounted){a()}else{l.dispose();s.current=null}}));var f=_(l);s.current=f;x(s)}var h=s.current.reaction;o.a.useDebugValue(h,b);o.a.useEffect((function(){D(s);if(s.current){s.current.mounted=true}else{s.current={reaction:new n["Reaction"](C(t),(function(){a()})),cleanAt:Infinity};a()}return function(){s.current.reaction.dispose();s.current=null}}),[]);var d;var p;h.track((function(){try{d=e()}catch(e){p=e}}));if(p){throw p}return d}function P(e,t){if(u()){return e}var r=l({forwardRef:false},t);var n=e.displayName||e.name;var o=function t(r,i){return R((function(){return e(r,i)}),n)};o.displayName=n;var a;if(r.forwardRef){a=Object(i["memo"])(Object(i["forwardRef"])(o))}else{a=Object(i["memo"])(o)}L(e,a);a.displayName=n;return a}var M={$$typeof:true,render:true,compare:true,type:true};function L(e,t){Object.keys(e).forEach((function(r){if(!M[r]){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}}))}function N(e){var t=e.children,r=e.render;var n=t||r;if(typeof n!=="function"){return null}return R(n)}N.propTypes={children:F,render:F};N.displayName="Observer";function F(e,t,r,n,i){var o=t==="children"?"render":"children";var a=typeof e[t]==="function";var s=typeof e[o]==="function";if(a&&s){return new Error("MobX Observer: Do not use children and render in the same time in`"+r)}if(a||s){return null}return new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to"+" `"+r+"`, expected `function`.")}function j(e,t){var r=t?"useLocalStore":"useAsObservableSource";if(false){var i,a}if(t&&e===undefined){return undefined}if(false){}var s=o.a.useState((function(){return Object(n["observable"])(e,{},{deep:false})})),u=s[0];if(false){}Object(n["runInAction"])((function(){Object.assign(u,e)}));return u}function B(e){return j(e,false)}function U(e,t){var r=j(t,true);return o.a.useState((function(){var t=Object(n["observable"])(e(r));if(f(t)){Object(n["runInAction"])((function(){Object.keys(t).forEach((function(e){var r=t[e];if(typeof r==="function"){t[e]=z(r,t)}}))}))}return t}))[0]}function z(e,t){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++){i[o]=arguments[o]}return Object(n["transaction"])((function(){return e.apply(t,i)}))}}}).call(this,r(5))},function(e,t,r){"use strict";(function(e,n){var i=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var o=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:true});t.FeatureFlagsService=t.LabFeatureFlag=void 0;const a=r(11);const s=r(0);const u=r(6);const l=r(9);const c=r(58);const f=u.Logger.getLogger("FeatureFlagsService");const h=1e4;let d={Flag:class e{isEnabled(){return false}},Variant:class e{getValue(){return undefined}},Configuration:class Configuration{},setup(){},register(){},setCustomStringProperty(){},setCustomBooleanProperty(){},showOverrides(){}};if(!(e===null||e===void 0?void 0:false)){d=r(184)}const p=["labs","disabled","enabled"];class v extends d.Variant{constructor(e="disabled"){super(e,p)}getValue(){const e=super.getValue();if(!p.includes(e)){f.warn('unexpected value for lab feature flag. Falling back to value "labs"',{featureFlagName:this.name,value:e});return"labs"}return e}}t.LabFeatureFlag=v;const m=s.observable.object({targetingObservable:0});class g extends d.Flag{isEnabled(){const e=m.targetingObservable;return super.isEnabled()}}class y extends c.EventEmitter{get targetingObservable(){return m.targetingObservable}set targetingObservable(e){m.targetingObservable=e}constructor(){super();this.debouncedTargetingChangeUpdate=a.debounce((()=>this.targetingObservable++),120);this.flags={testKeybordShortcutUI:new d.Flag,showNonUniqueSelectors:new d.Flag,showFoundElementTooltip:new d.Flag,showAuryc:new d.Flag,recordNetworkEffects:new d.Flag,recordNthOfTypeWithChildLocators:new d.Flag,showTestVisualizationMigrated:new v("labs"),useNewWS:new d.Flag,alwaysSaveDoms:new d.Flag,disableEdgeVisibilityChecks:new d.Flag,allowDOMSavingOnMac:new d.Flag,propagateChildLogs:new g,fullPageScreenshotStep:new d.Flag,supportChat:new d.Variant("intercom",["intercom","zendesk","off"]),loadLocatorFromCollection:new d.Flag,useLocatorFromCollection:new d.Flag,importCustomTestDataMaxCols:new d.Configuration(50),showGranularGraph:new d.Configuration(500),locateDiffRatioWarning:new d.Configuration(.8,{freeze:"untilLaunch"}),maximumJsResultSize:new d.Configuration(2e3*1024),showCompareLastSuccessfulRun:new d.Flag,enableGroupHooks:new d.Flag,enableSendDownloadFileUsingS3:new d.Flag,uploadCDPFileWhenNoHar:new d.Flag,showAdvancedCloneOptions:new d.Flag,mobileWebOpenTabAsPopup:new d.Flag,allowFragmentNavigation:new d.Flag,useNewParameterMode:new d.Flag,enableFullFocusableTest:new d.Flag,attachDebuggerOnRecord:new d.Flag,throwOnConditionSyntaxError:new d.Flag,attemptToRecoverFromTabRedirects:new d.Flag,addTestsWizard:new d.Flag,recordingMessage:new d.Flag,preventSharedStepSameName:new d.Flag,showRemoteLocalRunsToggle:new d.Flag,collectJSCoverage:new d.Flag,newProductTour:new d.Flag,dispatchMoveAfterDebuggerAttach:new d.Flag,loadTestUseBranchMap:new d.Flag,slackClientId:new d.Variant("5076786919.191811168726",["5076786919.191811168726","5076786919.1234031510752"]),showArchivedProjects:new d.Flag,enableOverrideMouseOffset:new d.Flag,revertFrameNativeClickPoller:new d.Flag,overrideAzureStorageUrl:new d.Flag,debugLabFeatureForTestimDevsMigrated:new v("disabled"),uploadRecImageToStorage:new d.Flag,exportRunsFromServer:new d.Flag,lookbackWindowSize:new d.Configuration(5),showRevisionTree:new d.Flag,generateRandomFieldStep:new d.Flag,allowSuggestionExecution:new d.Flag,migrateCloudinaryAssets:new d.Flag,localRunnerBgEvents:new d.Flag,remoteBranches:new d.Flag,recordUploadToDocumentFragment:new d.Flag,showPayingProjectOnly:new d.Flag,useFullParentPathForChildSelectors:new d.Flag,enableAutoImproveMarking:new d.Flag,demoAutoImprove:new d.Flag,networkBodyCapture:new d.Flag,experimentalPreCodeCompilation:new d.Flag(true),serializeConsoleLogObjects:new d.Flag,newReportFilters:new v("labs"),autoCheckoutQuickForks:new d.Flag(true),allowDownloadResultScreenshots:new d.Flag,runFreeGridOnDeviceFarm:new d.Flag,multipleOwners:new d.Flag,sharedStepDirectNavigationMigrated:new v("labs"),enableTeamProductivity:new d.Flag,schedulerWebhookNotification:new v,OnboardingUpgrade:new d.Flag,showRoleModalSelection:new d.Flag,allowGroupIterationUsingIndex:new d.Flag,shouldEnableAutoImprove:new v("disabled"),apiStepOmitCookiesOption:new d.Flag,highSpeedMode:new v,experimentalAsyncCustomCode:new d.Flag,useAccessibilityStepAsShared:new d.Flag,skipTour3Tests:new d.Flag,useCDPScreencast:new d.Flag,lockedSharedSteps:new d.Flag,PREnhancements:new v,allowPublishingToMarketplace:new d.Flag,showMarketplaceItems:new d.Flag,allowMfaStep:new d.Flag,usageExampleImprovements:new d.Flag,salesForceSelectrorFix:new d.Flag,customTagScore:new d.Flag,signInWithAzureSSO:new d.Flag,disableGroupReplace:new d.Flag,useHashForStepParamUpload:new d.Flag,showDynamicScrollCheckbox:new d.Flag,useNewTestimGuide:new d.Flag,gitHubActionSnippet:new d.Flag,testPlanInScheduler:new d.Flag,testLibrarySort:new d.Flag,displayTemporaryEmails:new d.Flag,showMergeCodeDiff:new d.Flag,displayMergeChangedProperty:new d.Flag,salesforceSfdc:new d.Flag,addFileToAPI:new d.Flag,cmdClickOpenNewTab:new d.Flag,adminListView:new d.Flag,adminBackOffice:new d.Flag,cutEditorArtifacts:new d.Flag,verboseNewTestLogs:new d.Flag,ignoreMissingClickOffsetVisibleCheck:new d.Flag,bulkUserRemoval:new d.Flag,saveFilteringPreferences:new d.Flag,forceFromSurfaceScreenshots:new d.Flag(true),replaceSuperagentWithFetch:new d.Flag,disableLiveStepsSuggestions:new d.Flag,enableHooksPresentation:new d.Flag,forceMarketoSignup:new d.Flag,highlightHoveredMobileElement:new d.Flag,navigateInNewTab:new d.Flag,addVisitedUrlsToTestResult:new d.Flag,checkDeviceStatus:new d.Flag,displaySwipeDuration:new d.Flag,deviceMirrorControlBar:new d.Flag,saveMobilePlaybackDataToS3:new d.Flag,locateMobileElementsUsingDom:new d.Flag(true),locateMobileElementsUsingImage:new d.Flag(true),locateMobileElementsUsingClosestText:new d.Flag(true),locateMobileElementsUsingContentDesc:new d.Flag(true),locateMobileElementsUsingML:new d.Flag,webLitSupport:new d.Flag,multiProjectUsageReportMobile:new d.Flag,showMobileEvaluateExpressionOnSelectors:new d.Flag,shoutoutChangelog:new d.Flag,appNewAppDebugScheme:new d.Flag,showTestDataMergeCodeDiff:new d.Flag,saveEditorContextOnBranchChange:new d.Flag,hideRemoteRunOnQuotaExceeded:new d.Flag,appDebugHelperWindows:new d.Flag,hideKeyboardStep:new d.Flag,useLinkedomToParseHtml:new d.Flag,resizablePropertyPanel:new g,solveStepFailingIfConditionFrameNotFound:new d.Flag,hookDrillReadOnly:new g,createProjectSelfService:new g,executeDriverStep:new g,sfdcSampleTests:new g,enableAutoSwipeToLocateElement:new d.Flag,mobileTestRunLogs:new d.Flag(false),codeJSDebugActivities:new d.Flag,dontCaptureNetworkLogs:new d.Flag,showOverrideTimeoutFromEditor:new d.Flag,emailAndProjectSelectionSignupFlow:new g,remotePerformanceSession:new g,showSharedResourceWarning:new d.Flag,nativeClickConfig:new g,ttm4jTestCaseBulkOperation:new g,signInWithOkta:new g,useContextFrameHandler:new d.Flag,shouldShowL2cToggle:new d.Flag,showLocalMobileCliTab:new g,sfdcInternalTestStep:new d.Flag,autoOpenDebugHelperPanels:new g,sfdcDocumentValidationStep:new d.Flag,gainsightForTTA4SF:new d.Flag,dontWrapUnwrapLoginData:new d.Flag,showMobileMlLocateOptions:new d.Flag,locateOnImageIfElemNotFoundByML:new d.Flag,mobileOpenKeyboardOnSetText:new d.Flag,exportLocalEditorRunsCSV:new d.Flag,mobileCloseKeyboardOnSetTextInIos:new d.Flag,mobileCaptureScreenshotBeforeActionInRecord:new d.Flag,dontLimitMobileAppSize:new d.Flag,codelessEmailValidation:new d.Flag,skipCheckingLongDragSteps:new d.Flag,showApplicationTypeMobileAppsColumn:new g,customerErrorSuffix:new g,enablePCloudyGrid:new d.Flag,mobileAppsRedesign:new g,hideDriverInCustomCode:new g,helpAssistantBeta:new g,mobileAllowRunningSuiteFromEditor:new g,mobileRelativeTapBasedOnRecordedSize:new d.Flag,helpAssistantDisclaimerLink:new d.Configuration("https://help.testim.io/docs"),redirectLoggedInUsersFromSigninAndSignup:new d.Flag,enableDockerDebugMode:new d.Flag,enableTvcDeviceRecording:new d.Flag,useLocalImageManipulator:new d.Flag};let e;this._waitForFetched=new Promise((t=>{e=e=>{if(e.errorDetails){f.error("rox fetch has error details",e.errorDetails)}return t(e)}}));const t={httpsAgent:undefined,httpAgent:undefined,configurationFetchedHandler:t=>e(t),analytics:{flushAt:20}};if(l.utils.isNode()&&n.proxyUri&&n.ProxyAgent){t.httpsAgent=new n.ProxyAgent(n.proxyUri);t.httpAgent=new n.ProxyAgent(n.proxyUri)}try{d.register("default",this.flags)}catch(e){f.log("multiple flags instance loaded",e)}if(false){}if(true){d.setup("5b5560729601aa6484276518",t)}this.setGitBranch()}setStringCustomProperty(e,t){var r;d.setCustomStringProperty(e,t);(r=d.unfreeze)===null||r===void 0?void 0:r.call(d);this.debouncedTargetingChangeUpdate()}setBooleanCustomProperty(e,t){var r;d.setCustomBooleanProperty(e,t);(r=d.unfreeze)===null||r===void 0?void 0:r.call(d);this.debouncedTargetingChangeUpdate()}setProjectId(e){this.setStringCustomProperty("projectId",e)}setProjectType(e){this.setStringCustomProperty("projectType",e)}setCompanyId(e){this.setStringCustomProperty("companyId",e)}setPlanType(e){this.setStringCustomProperty("planType",e)}setIsPOC(e){this.setBooleanCustomProperty("isPOC",e)}setIsStartUp(e){this.setBooleanCustomProperty("isStartUp",e)}setCompanyProductType(e){this.setStringCustomProperty("productType",e)}setEmail(e){this.setStringCustomProperty("email",e)}setGitBranch(){this.setStringCustomProperty("gitBranch","undefined")}setPlaybackTestId(e){this.setStringCustomProperty("playbackTestId",e)}isAdmin(e){this.setBooleanCustomProperty("isAdmin",e)}showOverrides(){d.showOverrides()}async fetch(){if(!this._waitForFetched){return}try{await l.utils.promiseTimeout(this._waitForFetched,h);if(false){}}catch(e){f.error("failed to get feature flag status",e)}}}t.FeatureFlagsService=y;i([s.computed,o("design:type",Object),o("design:paramtypes",[Object])],y.prototype,"targetingObservable",null);const b=new y;t.default=b}).call(this,r(3),r(5))},function(e,t,r){"use strict";(function(e){var n=r(1).Buffer;var i=r(29).Transform;var o=r(229);var a=r(15);var s=r(64).ok;var u=r(1).kMaxLength;var l="Cannot create final Buffer. It would be larger "+"than 0x"+u.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8;o.Z_MAX_WINDOWBITS=15;o.Z_DEFAULT_WINDOWBITS=15;o.Z_MIN_CHUNK=64;o.Z_MAX_CHUNK=Infinity;o.Z_DEFAULT_CHUNK=16*1024;o.Z_MIN_MEMLEVEL=1;o.Z_MAX_MEMLEVEL=9;o.Z_DEFAULT_MEMLEVEL=8;o.Z_MIN_LEVEL=-1;o.Z_MAX_LEVEL=9;o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;var c=Object.keys(o);for(var f=0;f<c.length;f++){var h=c[f];if(h.match(/^Z/)){Object.defineProperty(t,h,{enumerable:true,value:o[h],writable:false})}}var d={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR};var p=Object.keys(d);for(var v=0;v<p.length;v++){var m=p[v];d[d[m]]=m}Object.defineProperty(t,"codes",{enumerable:true,value:Object.freeze(d),writable:false});t.Deflate=b;t.Inflate=_;t.Gzip=w;t.Gunzip=E;t.DeflateRaw=S;t.InflateRaw=T;t.Unzip=A;t.createDeflate=function(e){return new b(e)};t.createInflate=function(e){return new _(e)};t.createDeflateRaw=function(e){return new S(e)};t.createInflateRaw=function(e){return new T(e)};t.createGzip=function(e){return new w(e)};t.createGunzip=function(e){return new E(e)};t.createUnzip=function(e){return new A(e)};t.deflate=function(e,t,r){if(typeof t==="function"){r=t;t={}}return g(new b(t),e,r)};t.deflateSync=function(e,t){return y(new b(t),e)};t.gzip=function(e,t,r){if(typeof t==="function"){r=t;t={}}return g(new w(t),e,r)};t.gzipSync=function(e,t){return y(new w(t),e)};t.deflateRaw=function(e,t,r){if(typeof t==="function"){r=t;t={}}return g(new S(t),e,r)};t.deflateRawSync=function(e,t){return y(new S(t),e)};t.unzip=function(e,t,r){if(typeof t==="function"){r=t;t={}}return g(new A(t),e,r)};t.unzipSync=function(e,t){return y(new A(t),e)};t.inflate=function(e,t,r){if(typeof t==="function"){r=t;t={}}return g(new _(t),e,r)};t.inflateSync=function(e,t){return y(new _(t),e)};t.gunzip=function(e,t,r){if(typeof t==="function"){r=t;t={}}return g(new E(t),e,r)};t.gunzipSync=function(e,t){return y(new E(t),e)};t.inflateRaw=function(e,t,r){if(typeof t==="function"){r=t;t={}}return g(new T(t),e,r)};t.inflateRawSync=function(e,t){return y(new T(t),e)};function g(e,t,r){var i=[];var o=0;e.on("error",s);e.on("end",c);e.end(t);a();function a(){var t;while(null!==(t=e.read())){i.push(t);o+=t.length}e.once("readable",a)}function s(t){e.removeListener("end",c);e.removeListener("readable",a);r(t)}function c(){var t;var a=null;if(o>=u){a=new RangeError(l)}else{t=n.concat(i,o)}i=[];e.close();r(a,t)}}function y(e,t){if(typeof t==="string")t=n.from(t);if(!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function b(e){if(!(this instanceof b))return new b(e);D.call(this,e,o.DEFLATE)}function _(e){if(!(this instanceof _))return new _(e);D.call(this,e,o.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);D.call(this,e,o.GZIP)}function E(e){if(!(this instanceof E))return new E(e);D.call(this,e,o.GUNZIP)}function S(e){if(!(this instanceof S))return new S(e);D.call(this,e,o.DEFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);D.call(this,e,o.INFLATERAW)}function A(e){if(!(this instanceof A))return new A(e);D.call(this,e,o.UNZIP)}function x(e){return e===o.Z_NO_FLUSH||e===o.Z_PARTIAL_FLUSH||e===o.Z_SYNC_FLUSH||e===o.Z_FULL_FLUSH||e===o.Z_FINISH||e===o.Z_BLOCK}function D(e,r){var a=this;this._opts=e=e||{};this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK;i.call(this,e);if(e.flush&&!x(e.flush)){throw new Error("Invalid flush flag: "+e.flush)}if(e.finishFlush&&!x(e.finishFlush)){throw new Error("Invalid flush flag: "+e.finishFlush)}this._flushFlag=e.flush||o.Z_NO_FLUSH;this._finishFlushFlag=typeof e.finishFlush!=="undefined"?e.finishFlush:o.Z_FINISH;if(e.chunkSize){if(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK){throw new Error("Invalid chunk size: "+e.chunkSize)}}if(e.windowBits){if(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS){throw new Error("Invalid windowBits: "+e.windowBits)}}if(e.level){if(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL){throw new Error("Invalid compression level: "+e.level)}}if(e.memLevel){if(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL){throw new Error("Invalid memLevel: "+e.memLevel)}}if(e.strategy){if(e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY){throw new Error("Invalid strategy: "+e.strategy)}}if(e.dictionary){if(!n.isBuffer(e.dictionary)){throw new Error("Invalid dictionary: it should be a Buffer instance")}}this._handle=new o.Zlib(r);var s=this;this._hadError=false;this._handle.onerror=function(e,r){O(s);s._hadError=true;var n=new Error(e);n.errno=r;n.code=t.codes[r];s.emit("error",n)};var u=t.Z_DEFAULT_COMPRESSION;if(typeof e.level==="number")u=e.level;var l=t.Z_DEFAULT_STRATEGY;if(typeof e.strategy==="number")l=e.strategy;this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary);this._buffer=n.allocUnsafe(this._chunkSize);this._offset=0;this._level=u;this._strategy=l;this.once("end",this.close);Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:true,enumerable:true})}a.inherits(D,i);D.prototype.params=function(r,n,i){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL){throw new RangeError("Invalid compression level: "+r)}if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY){throw new TypeError("Invalid strategy: "+n)}if(this._level!==r||this._strategy!==n){var a=this;this.flush(o.Z_SYNC_FLUSH,(function(){s(a._handle,"zlib binding closed");a._handle.params(r,n);if(!a._hadError){a._level=r;a._strategy=n;if(i)i()}}))}else{e.nextTick(i)}};D.prototype.reset=function(){s(this._handle,"zlib binding closed");return this._handle.reset()};D.prototype._flush=function(e){this._transform(n.alloc(0),"",e)};D.prototype.flush=function(t,r){var i=this;var a=this._writableState;if(typeof t==="function"||t===undefined&&!r){r=t;t=o.Z_FULL_FLUSH}if(a.ended){if(r)e.nextTick(r)}else if(a.ending){if(r)this.once("end",r)}else if(a.needDrain){if(r){this.once("drain",(function(){return i.flush(t,r)}))}}else{this._flushFlag=t;this.write(n.alloc(0),"",r)}};D.prototype.close=function(t){O(this,t);e.nextTick(I,this)};function O(t,r){if(r)e.nextTick(r);if(!t._handle)return;t._handle.close();t._handle=null}function I(e){e.emit("close")}D.prototype._transform=function(e,t,r){var i;var a=this._writableState;var s=a.ending||a.ended;var u=s&&(!e||a.length===e.length);if(e!==null&&!n.isBuffer(e))return r(new Error("invalid input"));if(!this._handle)return r(new Error("zlib binding closed"));if(u)i=this._finishFlushFlag;else{i=this._flushFlag;if(e.length>=a.length){this._flushFlag=this._opts.flush||o.Z_NO_FLUSH}}this._processChunk(e,i,r)};D.prototype._processChunk=function(e,t,r){var i=e&&e.length;var o=this._chunkSize-this._offset;var a=0;var c=this;var f=typeof r==="function";if(!f){var h=[];var d=0;var p;this.on("error",(function(e){p=e}));s(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(t,e,a,i,this._buffer,this._offset,o)}while(!this._hadError&&y(v[0],v[1]));if(this._hadError){throw p}if(d>=u){O(this);throw new RangeError(l)}var m=n.concat(h,d);O(this);return m}s(this._handle,"zlib binding closed");var g=this._handle.write(t,e,a,i,this._buffer,this._offset,o);g.buffer=e;g.callback=y;function y(u,l){if(this){this.buffer=null;this.callback=null}if(c._hadError)return;var p=o-l;s(p>=0,"have should not go down");if(p>0){var v=c._buffer.slice(c._offset,c._offset+p);c._offset+=p;if(f){c.push(v)}else{h.push(v);d+=v.length}}if(l===0||c._offset>=c._chunkSize){o=c._chunkSize;c._offset=0;c._buffer=n.allocUnsafe(c._chunkSize)}if(l===0){a+=i-u;i=u;if(!f)return true;var m=c._handle.write(t,e,a,i,c._buffer,c._offset,c._chunkSize);m.callback=y;m.buffer=e;return}if(!f)return false;r()}};a.inherits(b,D);a.inherits(_,D);a.inherits(w,D);a.inherits(E,D);a.inherits(S,D);a.inherits(T,D);a.inherits(A,D)}).call(this,r(3))},function(e,t,r){"use strict";function n(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var i={};function o(e,t,r){if(!r){r=Error}function o(e,r,n){if(typeof t==="string"){return t}else{return t(e,r,n)}}var a=function(e){n(t,e);function t(t,r,n){return e.call(this,o(t,r,n))||this}return t}(r);a.prototype.name=r.name;a.prototype.code=e;i[e]=a}function a(e,t){if(Array.isArray(e)){var r=e.length;e=e.map((function(e){return String(e)}));if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function s(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError);o("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n;if(typeof t==="string"&&s(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(a(t,"type"))}else{var o=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(a(t,"type"))}i+=". Received type ".concat(typeof r);return i}),TypeError);o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"}));o("ERR_STREAM_PREMATURE_CLOSE","Premature close");o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"}));o("ERR_MULTIPLE_CALLBACK","Callback called multiple times");o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");o("ERR_STREAM_WRITE_AFTER_END","write after end");o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError);o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=i},function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var i=r(129);var o=r(133);r(12)(l,i);{var a=n(o.prototype);for(var s=0;s<a.length;s++){var u=a[s];if(!l.prototype[u])l.prototype[u]=o.prototype[u]}}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e);o.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",c)}}}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(l.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(l.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function c(){if(this._writableState.ended)return;t.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,r(3))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.injectorUtils=void 0;const{guid:n}=r(151);const i={13:"⏎",27:"Esc",9:"Tab",33:"Page Up",34:"Page Down",35:"End",36:"Home",45:"Ins",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"};t.injectorUtils={TESTIM_VISIBILITY:"testim_visibility",toHashCode:e=>{const t=e.toString();let r=0;let n;let i;if(t.length===0){return r}for(n=0;n<t.length;n++){i=t.charCodeAt(n);r=(r<<5)-r+i;r&=r}return r},isContentEditable:e=>e.contentEditable==="true",getElementLabel:e=>{var t,r;const n=(r=(t=e.labels)===null||t===void 0?void 0:t[0])===null||r===void 0?void 0:r.innerText;return e.placeholder||n||e.getAttribute("name")||e.title||e.alt||e.innerText||""},isTextInputElement:e=>t.injectorUtils.isTextElement(e)&&!t.injectorUtils.isFileInput(e),isFileInput:e=>e.tagName==="INPUT"&&e.type==="file",isTextElement:e=>{const t=e.tagName;return t==="INPUT"||t==="TEXTAREA"},getElementTags:(e,r=[])=>{const n=e.cloneNode();const i=t.injectorUtils.getTagName(n);r.forEach((e=>n.removeAttribute(e)));if(n.innerHTML){return`${n.outerHTML.slice(0,n.outerHTML.lastIndexOf(n.innerHTML))}</${i}>`}return n.outerHTML},getElementTextContent:(e,r,n)=>{n||(n={});n.isSvgElement||(n.isSvgElement=o);const i=e=>{e.querySelectorAll("TITLE").forEach((e=>e.parentElement.removeChild(e)));return e};if(t.injectorUtils.isTextElement(e)){return e.value}if(n.isSvgElement(e)){let n=e;if(e.querySelectorAll("TITLE").length>0){n=i(e.cloneNode(true))}return t.injectorUtils.getFixedTextContent(n,r)}return t.injectorUtils.getFixedTextContent(e,r)},getFixedTextContent:(e,r)=>{if(r&&Array.prototype.some.call(e.children,(e=>e.hidden))){const r=e.cloneNode(true);const n=Array.prototype.filter.call(r.children,(e=>e.hidden));n.forEach((e=>{r.removeChild(e)}));return r.textContent?t.injectorUtils.replaceNewLines(r.textContent):""}return e.textContent?t.injectorUtils.replaceNewLines(e.textContent):""},replaceNewLines:e=>e.replace(/(\r\n|\n|\r)/gm,""),getEscapeCssChars:()=>/[\!\"\$\%\&\'\(\)\*\+\,\.\/\:\;\<\=\>\?\@\[\]\^\`\{\|\}\~\#]/g,escapeClass:e=>typeof e==="string"?e.replace(t.injectorUtils.getEscapeCssChars(),"\\$&"):e,escapeID:e=>typeof e==="string"?e.replace(t.injectorUtils.getEscapeCssChars(),"\\\\$&"):e,get escapeIDV2(){return t.injectorUtils.escapeClass},guid:n,getSpecialKeyFromKeyCode:e=>i[e],binarySearch:(e,t)=>{let r=0;let n=t.length;while(r<n){const i=Math.floor((r+n)/2);if(e(t[i])){n=i}else{r=i+1}}return n===t.length?null:n},isRegExp:e=>{if(typeof e==="number"){return false}if(typeof e==="string"){return/^\/[^/]+\/[gimuy]*$/.test(e)||e.startsWith("/")&&e.endsWith("/")}if(e instanceof RegExp){return true}return false},getRegExp:e=>{if(!t.injectorUtils.isRegExp(e)){return undefined}const r=e.match(/[gimuy]*$/)[0];const n=e.match(/^\/([^/]*)\/[gimuy]*$/)[1];return new RegExp(n,r)},clearWhiteSpaces:e=>e.replace(/\s+/g," ").trim(),compareTexts:(e,r)=>{if(typeof e!=="string"||typeof r!=="string"){return false}return t.injectorUtils.clearWhiteSpaces(e)===t.injectorUtils.clearWhiteSpaces(r)},isNode:()=>typeof e!=="undefined"&&{}.toString.call(e)==="[object global]",calcTestimAttributes:e=>{const t=i("iframe");const r=i("frame");const n=t.concat(r);n.forEach((e=>{const t=window.getComputedStyle(e);const r=e.getBoundingClientRect();if(t.opacity==="0"||t.visibility==="hidden"||r.width===0||r.height===0||o(a(document,e))){e.setAttribute("testim_visibility","not-shown")}else{e.setAttribute("testim_visibility","shown")}}));function i(t){return Array.apply(null,e.querySelectorAll(document,t))}function o(e){return e.some((e=>window.getComputedStyle(e).display==="none"))}function a(e,t){const r=[];while(t&&t!==e.documentElement){r.push(t);t=t.parentElement}return r}},getTagName:(e,t)=>{if(!(e===null||e===void 0?void 0:e.tagName)){return""}if(typeof e.tagName==="string"){return t?e.tagName:e.tagName.toLowerCase()}if(typeof e.nodeName==="string"){return t?e.nodeName:e.nodeName.toLowerCase()}const r=e.ownerDocument.defaultView;if(r){try{const n=Object.getOwnPropertyDescriptor(r.Element.prototype,"tagName");const i=n.get.call(e);if(i){return t?i:i.toLowerCase()}}catch(e){return""}}return""},dragEventTypes:["drag","dragstart","drop","dragenter","dragend"],isNativeFunction:e=>{if(!(e===null||e===void 0?void 0:e.toString)){return false}return e.toString().includes("[native code]")}};function o(e){if(typeof SVGElement!=="undefined"){return e instanceof SVGElement}return e.ownerSVGElement!==undefined}}).call(this,r(5))},function(e,t,r){"use strict";const n=r(162);const i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super();if(e instanceof Error){this.originalError=e;({message:e}=e)}else{this.originalError=new Error(e);this.originalError.stack=this.stack}this.name="AbortError";this.message=e}}const a=(e,t,r)=>{const n=r.retries-(t-1);e.attemptNumber=t;e.retriesLeft=n;return e};const s=e=>i.includes(e);const u=(e,t)=>new Promise(((r,i)=>{t={onFailedAttempt:()=>{},retries:10,...t};const u=n.operation(t);u.attempt((async n=>{try{r(await e(n))}catch(e){if(!(e instanceof Error)){i(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));return}if(e instanceof o){u.stop();i(e.originalError)}else if(e instanceof TypeError&&!s(e.message)){u.stop();i(e)}else{a(e,n,t);try{await t.onFailedAttempt(e)}catch(e){i(e);return}if(!u.retry(e)){i(u.mainError())}}}}))}));e.exports=u;e.exports.default=u;e.exports.AbortError=o},function(e,t,r){e.exports=o;var n=r(19).EventEmitter;var i=r(12);i(o,n);o.Readable=r(30);o.Writable=r(178);o.Duplex=r(179);o.Transform=r(180);o.PassThrough=r(181);o.Stream=o;function o(){n.call(this)}o.prototype.pipe=function(e,t){var r=this;function i(t){if(e.writable){if(false===e.write(t)&&r.pause){r.pause()}}}r.on("data",i);function o(){if(r.readable&&r.resume){r.resume()}}e.on("drain",o);if(!e._isStdio&&(!t||t.end!==false)){r.on("end",s);r.on("close",u)}var a=false;function s(){if(a)return;a=true;e.end()}function u(){if(a)return;a=true;if(typeof e.destroy==="function")e.destroy()}function l(e){c();if(n.listenerCount(this,"error")===0){throw e}}r.on("error",l);e.on("error",l);function c(){r.removeListener("data",i);e.removeListener("drain",o);r.removeListener("end",s);r.removeListener("close",u);r.removeListener("error",l);e.removeListener("error",l);r.removeListener("end",c);r.removeListener("close",c);e.removeListener("close",c)}r.on("end",c);r.on("close",c);e.on("close",c);e.emit("pipe",r);return e}},function(e,t,r){t=e.exports=r(85);t.Stream=t;t.Readable=t;t.Writable=r(52);t.Duplex=r(20);t.Transform=r(89);t.PassThrough=r(177)},function(e,t,r){(function(e){function r(e){if(Array.isArray){return Array.isArray(e)}return m(e)==="[object Array]"}t.isArray=r;function n(e){return typeof e==="boolean"}t.isBoolean=n;function i(e){return e===null}t.isNull=i;function o(e){return e==null}t.isNullOrUndefined=o;function a(e){return typeof e==="number"}t.isNumber=a;function s(e){return typeof e==="string"}t.isString=s;function u(e){return typeof e==="symbol"}t.isSymbol=u;function l(e){return e===void 0}t.isUndefined=l;function c(e){return m(e)==="[object RegExp]"}t.isRegExp=c;function f(e){return typeof e==="object"&&e!==null}t.isObject=f;function h(e){return m(e)==="[object Date]"}t.isDate=h;function d(e){return m(e)==="[object Error]"||e instanceof Error}t.isError=d;function p(e){return typeof e==="function"}t.isFunction=p;function v(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}t.isPrimitive=v;t.isBuffer=e.isBuffer;function m(e){return Object.prototype.toString.call(e)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:true});t.httpRequest=void 0;const i=r(11);const o=r(187);const a=r(28);const s=r(9);const u=r(23);const l=r(33);const c=r(6);const f=r(38);const h=r(193);const d=c.Logger.getLogger("httpRequest");const p=l.container.get(u.FeatureFlagsService);const v=r(194);const m=new v({ratePer:100,concurrent:20});const g=(0,h.throttleFunction)(fetch,{callsNum:20,delayMs:100});function y(){if(s.utils.isNode()&&e.caFileContent){return e.caFileContent}return undefined}function b(){if(!s.utils.isNode()){return undefined}if(!o.Request.prototype.proxy&&e.SuperagentProxy){e.SuperagentProxy(o)}if(e.proxyUri){return e.proxyUri}return undefined}function _(){var t,n;if(s.utils.isNode()&&e.proxyUri){const o=r(44);const a=o.parse(e.proxyUri);const s=y();if(!i.isEmpty(s)&&/https/.test((t=a.protocol)!==null&&t!==void 0?t:"")){a.ca=s;return(n=e.HttpsProxyAgent)===null||n===void 0?void 0:n.call(e,a)}return new e.ProxyAgent(e.proxyUri)}return undefined}function w(e,t,r){if(s.utils.isNode()){return n.from(e,"base64")}t||(t="");r||(r=512);const i=atob(e);const o=[];for(let e=0;e<i.length;e+=r){const t=i.slice(e,e+r);const n=new Array(t.length);for(let e=0;e<t.length;e++){n[e]=t.charCodeAt(e)}const a=new Uint8Array(n);o.push(a)}return new Blob(o,{type:t})}function E(e,t,r,n,a={},s,u,l,c,h){function d(){switch(t){case"DELETE":return o.del(e);case"POST":return o.post(e);case"HEAD":return o.head(e);case"PUT":return o.put(e);case"GET":return o.get(e);default:throw new Error(`invalid request method: ${t}`)}}const p=d();p.use(m.plugin());const v=()=>p.abort();h===null||h===void 0?void 0:h.addEventListener("abort",v);if(i.isNumber(s)){p.timeout(s)}if(i.isNumber(c)){p.retry(c)}if(r&&!a["Content-Type"]){a["Content-Type"]=r}if(a["Content-Type"]==="multipart/form-data"){delete a["Content-Type"]}if(!i.isEmpty(a)){p.set(a)}if(!i.isEmpty(y())){p.ca(y())}if(!i.isEmpty(b())){p.proxy(b())}if(!i.isEmpty(l)){p.responseType(l)}if(n){if(r==="multipart/form-data"){p.field(n)}else{p.send(n)}}if(u&&Object.keys(u).length>0&&r==="multipart/form-data"){Object.keys(u).forEach((e=>{const{fileName:t,mimeType:r,file:n}=u[e];const i=n instanceof Blob?t:{filename:t,contentType:r};p.attach(e,n,i)}))}return p.then((e=>e.body||e.text)).catch((r=>{var n,i;throw new f.TypedHttpError({err:r,response:((n=r.response)===null||n===void 0?void 0:n.body)||((i=r.response)===null||i===void 0?void 0:i.text),method:t,url:e,timedout:p.timedout})})).finally((()=>{h===null||h===void 0?void 0:h.removeEventListener("abort",v)}))}const S="timeout";const T="Content-Type";function A(e,t,r,n,o={},s,u,l,c,h){const p={method:t,body:n||undefined,headers:new Headers(o)};const v=new AbortController;const m=(...e)=>v.abort(...e);try{h===null||h===void 0?void 0:h.addEventListener("abort",m);p.signal=v.signal;if(r&&!p.headers.has(T)){p.headers.set(T,r)}if(p.headers.get(T)==="multipart/form-data"){p.headers.delete(T)}p.agent=_();if(/json|multipart\/form-data/i.test(r||"")){p.body=typeof n==="string"?n:JSON.stringify(n)}if(t.toLocaleLowerCase()==="get"){delete p.body}const e=Object.keys(u||{});if(u&&e.length>0&&r==="multipart/form-data"){let t=new FormData;if(n instanceof FormData){t=n}else if(i.isObject(n)){Object.entries(n).forEach((([e,r])=>{t.append(e,r)}))}e.forEach((e=>{const{fileName:r,mimeType:n,file:i}=u[e];let o;if(i instanceof Blob){if(i.type!==n){o=i.slice(0,i.size,n)}else{o=i}}else{o=new Blob([i],{type:n})}t.append(e,o,r)}));p.body=t}}catch(i){d.error("Failed to build fetch request",{error:i,arguments:{url:e,method:t,contentType:r,body:n,headers:o,timeout:s,files:u,responseType:l,retry:c,abortSignal:h}});throw i}const y=async e=>{const t=await(e===null||e===void 0?void 0:e.text());if(!t){return t}try{return JSON.parse(t)}catch(e){return t}};let b;if(s){b=setTimeout((()=>{v.abort(S)}),s)}const w=async()=>(0,a.default)((async()=>{try{const r=await g(e,p);if(!r.ok){const n=v.signal.reason===S;const i=await y(r);throw new f.TypedHttpError({err:r,response:i,method:t,url:e,timedout:n})}return r}catch(e){if(e.name==="AbortError"){throw new a.AbortError(e.message)}throw e}}),{onFailedAttempt:t=>{d.log(`Failed request to ${e} with error: ${t.message} - retrying ${t.retriesLeft} more times`)},retries:c||0,factor:1});return w().then((e=>{if(!e.ok){throw e}const t={json:()=>e.json(),text:()=>e.text(),blob:()=>e.blob(),default:()=>{var t;const r=(t=e.headers.get(T))!==null&&t!==void 0?t:"";if(/json/i.test(r)){return e.json()}return e.text()}};return t[l||"default"]()})).catch((async r=>{if(r instanceof f.TypedHttpError){throw r}const n=v.signal.reason===S;const i=await y(r instanceof Response?r:undefined);throw new f.TypedHttpError({err:r,response:i,method:t,url:e,timedout:n})})).finally((()=>{h===null||h===void 0?void 0:h.removeEventListener("abort",m);clearTimeout(b)}))}const x=(...e)=>{const t=p.flags.replaceSuperagentWithFetch.isEnabled();if(t){return A(...e)}return E(...e)};t.httpRequest={head(e,t,r){return x(e,"HEAD",null,null,t,r)},getBlob(e,t,r){return x(e,"GET",t,null,r,null,null,"blob")},get(e,t,r){return x(e,"GET",t,null,r)},getJson(e,t,r){return x(e,"GET","application/json",null,t,undefined,undefined,undefined,undefined,r)},put(e,t,r){return x(e,"PUT",t,r)},putJson(e,t,r,n,i){return x(e,"PUT","application/json",t,r,n,undefined,undefined,i)},postJson(e,t,r,n,i,o){return x(e,"POST","application/json",t,r,n,undefined,undefined,i,o)},postForm(e,t,r,n){const i=Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&");return x(e,"POST","application/x-www-form-urlencoded",i,r,n)},postFormData(e,t,r,n,i,o){return x(e,"POST","multipart/form-data",t,n,i,r,undefined,undefined,o)},postFormDataWithProgress(e,t,r,n,i,o,a){const s=new XMLHttpRequest;s.open("POST",e);s.upload.addEventListener("progress",(e=>{a===null||a===void 0?void 0:a(e)}));Object.keys(n||{}).forEach((e=>{s.setRequestHeader(e,n[e])}));const u=new FormData;Object.entries(r||{}).forEach((([e,t])=>{u.append(e,t.file,t.fileName)}));const l=new Promise(((e,t)=>{function r(){t(Object.assign(new Error("POST formData with progress failed"),{status:s.status,statusText:s.statusText}))}s.onload=()=>{var t;if([0,200,201].includes(s.status)){if((t=s.getResponseHeader("content-type"))===null||t===void 0?void 0:t.startsWith("application/json")){e(JSON.parse(s.response));return}e(s.response);return}r()};s.onerror=()=>{r()}}));s.timeout=i||0;o===null||o===void 0?void 0:o.addEventListener("abort",(()=>{s.abort()}));s.send(u);return l},uploadBase64AsBlob(e,t,r,n,i){return this.postFormData(e,{name:r,file:w(t,n),filename:r},null,i)},putBase64AsBlob(e,t,r,i){const o=w(t,r);i["content-length"]=o.size||n.byteLength(o);return x(e,"PUT",r,o,i)},delete(e,t,r){return x(e,"DELETE","application/json",t,r)}}}).call(this,r(5),r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.container=void 0;r(50);const n=r(16);const i=r(23);t.container=new n.Container({autoBindInjectable:true,defaultScope:"Singleton"});t.container.bind(i.FeatureFlagsService).toConstantValue(i.default)},function(e,t,r){"use strict";e.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.dataToBufferOrBlob=t.convertDataURIToBinary=t.compressDataURIToGzip=t.compressToGzip=void 0;const n=r(9);const i=()=>new Promise(((e,t)=>{Promise.resolve().then((t=>e(r(69))).bind(null,r)).catch((e=>t(e)))}));const o=async(e,t)=>{const r=await i();return l(r.gzip(e,{level:3}),t)};t.compressToGzip=o;const a=async e=>{const{data:t,mimeType:r}=u(e);if(!t){return undefined}const n=await i();return l(n.gzip(t,{level:3}),r)};t.compressDataURIToGzip=a;function s(e){let t=e.split(":");let r;if(["",","].includes(t[1])){return{base64:"",mimeType:r}}if(t[1].includes(";")){t=t[1].split(";");r=t[0]}const n=t[1].split(",")[1];return{base64:n,mimeType:r}}function u(e){const{base64:t,mimeType:r}=s(e);if(!t){return{data:undefined,mimeType:undefined}}const n=window.atob(t);const i=n.length;const o=new Uint8Array(new ArrayBuffer(i));for(let e=0;e<i;e++){o[e]=n.charCodeAt(e)}return{data:o,mimeType:r}}t.convertDataURIToBinary=u;function l(t,r){if(n.utils.isNode()){if(typeof t==="string"){return e.from(t)}if(e.isBuffer(t)){return t}return e.from(t)}return new Blob([t],{type:r})}t.dataToBufferOrBlob=l}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.addTokenToFileUrl=t.createLogsLink=t.isDataUrl=t.fixUrlSlash=t.buildArtifactUrlWithToken=t.buildDomArtifactUrlWithToken=t.getArtifactUrl=t.fixUrl=t.getHostname=t.isURL=t.getUrlFieldsFromObject=t.urlToRegex=t.isAboutBlank=t.isValidUrl=t.getTestimBaseAgentUrl=t.getAzureFileUrl=t.getAppiumUrl=t.getTmaUrl=t.getServicesUrl=t.getClickimBaseUrl=t.getWsUrl=t.getDeviceId=t.getURLParameter=t.updateServicesUrl=t.servicesUrlGetter=t.URL_REGEX=void 0;t.URL_REGEX=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,})/g;const r=()=>typeof e!=="undefined"&&{}.toString.call(e)==="[object global]";let n;function i(){return n}t.servicesUrlGetter=i;function o(e){n=e}t.updateServicesUrl=o;function a(e){var t;const r={[e]:""};const n=typeof window!=="undefined"?(t=window.location)===null||t===void 0?void 0:t.search:r;const i=new RegExp(`[?|&]${e}=([^&;]+?)(&|#|;|$)`);return decodeURIComponent((i.exec(n)||["",""])[1].replace(/\+/g,"%20"))||null}t.getURLParameter=a;function s(){if(false){}return null}t.getDeviceId=s;function u(){if(false){}if(false){}return undefined}t.getWsUrl=u;function l(){return`${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}`}t.getClickimBaseUrl=l;function c(e){if(false){}if(false){}if(true){if(n){return n}if(!e){return"https://services.testim.io"}return`https://services${String(e)}.testim.io`}if(false){}return undefined}t.getServicesUrl=c;function f(){let e;if(typeof localStorage!=="undefined"){e=localStorage.getItem("tmaUrl")||""}const t=a("tmaUrl")||e||"http://127.0.0.1:8585"||"http://127.0.0.1:8585";return t.replace(/\/$/,"")}t.getTmaUrl=f;function h(){let e;if(typeof localStorage!=="undefined"){e=localStorage.getItem("appiumUrl")||""}const t=a("appiumUrl")||e||"";return t.replace(/\/$/,"")}t.getAppiumUrl=h;function d(){const e=a("azureFileUrl");if(e){return e.replace(/\/$/,"")}return"https://backandstoragetest.blob.core.windows.net"}t.getAzureFileUrl=d;function p(){if(false){}return"http://127.0.0.1:42543"}t.getTestimBaseAgentUrl=p;function v(e){if(!e||typeof e!=="string"){return false}try{new URL(e)}catch{return false}return true}t.isValidUrl=v;function m(e){return e==="about:blank"}t.isAboutBlank=m;function g(e){const t=e=>e.replace(/[%|\\{}()[\]^$+*?.]/g,"\\$&");return new RegExp(`^${e.split(/\*+/).map(t).join(".*")}$`)}t.urlToRegex=g;function y(e){const t=["origin","hash","search","pathname","port","hostname","host","protocol","href"];return t.reduce(((t,r)=>{t[r]=e[r];return t}),{})}t.getUrlFieldsFromObject=y;function b(e){const t=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-/]))?/;return t.test(e)}t.isURL=b;function _(e){try{return new URL(e).hostname}catch(e){return null}}t.getHostname=_;function w(e,t=["http","https","localhost"]){if(!e){return e}if(!t.some((t=>e.startsWith(t)))){return`http://${e}`}return e}t.fixUrl=w;async function E(e,t,r){const n=await t.user.getToken();e.searchParams.append("access_token",n);if(r){e.searchParams.append("attachment",r)}return e}function S(e){if(!e){return{artifactUrl:undefined,isNewStorageApi:false}}if(D(e)){return{artifactUrl:e,isNewStorageApi:false}}if(e.startsWith("http://")||e.startsWith("https://")){try{const t=new URL(e);return{artifactUrl:t,isNewStorageApi:false}}catch(e){return{artifactUrl:undefined,isNewStorageApi:false}}}return{artifactUrl:e,isNewStorageApi:true}}t.getArtifactUrl=S;function T(e,t,r){const{artifactUrl:n,isNewStorageApi:i}=S(e);if(!i){return Promise.resolve(n)}const o=r.storage.getStorageRelativePath(n);const a=new URL(`${t}/dom${o}`);return E(a,r)}t.buildDomArtifactUrlWithToken=T;function A(e,t,r,n){const{artifactUrl:i,isNewStorageApi:o}=S(e);if(!o){return Promise.resolve(i)}const a=r.storage.getStorageFullPath(i);const s=new URL(`${t}${a}`);return E(s,r,n)}t.buildArtifactUrlWithToken=A;function x(e){if(!e){return e}let t=e;const r=["http","https"].some((t=>e.startsWith(t)));if(!r){t=`http://${e}`}try{const n=new URL(t);n.pathname=n.pathname.replace(/\/\/+/g,"/");const i=n.toString();if(!e.endsWith("/")&&i.endsWith("/")){return i.slice(0,-1)}if(!r){const t=i.replace(/^http:\/\//,"");if(e.startsWith("/")&&!t.startsWith("/")){return`/${t}`}return t}return i}catch(t){return e}}t.fixUrlSlash=x;function D(e){if(!e){return false}try{const t=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@/?%\s]*)\s*$/i;return!!e&&!!e.match(t)}catch(e){return false}}t.isDataUrl=D;function O(e,t=Date.now(),r=t+5e6,n=2e4,i=2e4){const o=t-n;let a=r+i;if(a<=o||Number.isNaN(a)){a=t+5e6+i}return`https://testim.coralogix.com/#/query-new/archive-logs?query=${e}&startTime=${o}&endTime=${a}`}t.createLogsLink=O;function I(e,t,r,n,i){return Promise.all(t.map((async({name:t,url:o})=>{const a=e=>e.at(-1);if(n&&(o.startsWith("http://")||o.startsWith("https://"))){const{pathname:t}=new URL(o);const r=t.startsWith(`/file-by-project/${e}/`);const n=t.startsWith("/file/");if(r){const r=a(t.split("/"));o=`/test-projects-artifacts/${e}/upload-file/${r}`}if(n){i.warn(`still running with old file url ${o}`)}}const s=await A(o,r.testimServerBaseUrl,r,t);if(!s){return undefined}const u=s.href;const l={name:t,url:u};return l})).filter(Boolean))}t.addTokenToFileUrl=I}).call(this,r(5))},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function a(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function s(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if(n.join("")!=="0123456789"){return false}var i={};"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e}));if(Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=s()?Object.assign:function(e,t){var r;var s=a(e);var u;for(var l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r){if(i.call(r,c)){s[c]=r[c]}}if(n){u=n(r);for(var f=0;f<u.length;f++){if(o.call(r,u[f])){s[u[f]]=r[u[f]]}}}}return s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TypedHttpError=void 0;const n=r(152);const i=(0,n.configure)({bigint:false,circularValue:"[Circular]"});class o extends Error{constructor({err:e,response:t,timedout:r,method:n,url:o}){const a="message"in e?e.message:"";super(`Error, while trying to ${n} at ${o} ${a}`);let s;this.response=t;this.timedout=r;if("response"in e){this.superAgentSafeStringifyResponse=e.response&&JSON.parse(i(e.response));this.status=e.status;s=e.response}else if(e instanceof Response){this.status=e.status;s=e}else{s=e}Object.defineProperty(this,"originalResponse",{enumerable:false,value:s})}}t.TypedHttpError=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.combineScopes=t.ConnectionMaxSizeError=t.BrokerTimeoutError=t.ActionsQueue=t.stampMessage=t.hasMetadata=void 0;const n=r(6);const i=new n.Logger("broker utils");function o(e){var t;return Boolean((t=e.metadata)===null||t===void 0?void 0:t.transactionId)}t.hasMetadata=o;function a(e,t,r){var n;(n=e.metadata.stamps)[t]||(n[t]=r);return e}t.stampMessage=a;class s{constructor(e,t={}){this.canRunQueueItems=e;this.options=t;this._actions=[];this.ttl=t.ttl||2e4}remove(e){const t=this._actions.indexOf(e);if(t<0){return}this._actions.splice(t,1)}async add(e){const t=this.canRunQueueItems();const r=t instanceof Promise?await t:t;if(!r){let t;return new Promise(((r,n)=>{const i=async()=>{clearTimeout(t);try{await e();r()}catch(e){n(e)}};this._actions.push(i);t=setTimeout((()=>{this.remove(i);if(this.options.throwOnTimeout){n(new u(this.ttl));return}r()}),this.ttl)}))}this.doAll();return e()}doAll(){for(const e of this._actions){(async()=>{try{await e()}catch(e){i.error("Failed to perform a action from the action queue",{error:e})}})()}this._actions=[]}}t.ActionsQueue=s;class u extends Error{constructor(e){super("TIMEOUT");this.timeout=e}}t.BrokerTimeoutError=u;class l extends Error{constructor(e){super("MAX_SIZE_ERROR");this.maxSize=e}}t.ConnectionMaxSizeError=l;function c(...e){let t=[];e.forEach((e=>{if(e){t=t.concat(e)}}));return t}t.combineScopes=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.useLocalStoreWithInjectedDependencies=t.useDependencyInjector=t.DependencyInjectionProvider=t.DIContext=void 0;const n=r(13);const i=r(8);const o=r(16);const a=r(6);const s=a.Logger.getLogger("di-provider");t.DIContext=(0,i.createContext)({container:null});const u=e=>(0,n.jsx)(t.DIContext.Provider,{value:{container:e.container},children:e.children});t.DependencyInjectionProvider=u;t.DependencyInjectionProvider.displayName="DependencyInjectionProvider";function l(e){const{container:r}=(0,i.useContext)(t.DIContext);if(!r){throw new Error("useDependencyInjector missing DI container in context")}return r.get(e)}t.useDependencyInjector=l;function c(e){const{container:r}=(0,i.useContext)(t.DIContext);if(!r){throw new Error("useLocalStoreWithInjectedDependencies missing DI container in context")}const n=(0,i.useMemo)((()=>{const t=Reflect.getMetadata(o.METADATA_KEY.DESIGN_PARAM_TYPES,e)||[];const n=t.map(((e,n)=>{try{return r.get(e)}catch(r){const i=`Failed to find dependency for: ${e.name}, param index:${n}, dependencyClasses: ${String(t)}`;if(false){}else{s.exception(i,r)}return undefined}}));return new e(...n)}),[e,r]);(0,i.useEffect)((()=>()=>{var e,t;return(t=(e=n).dispose)===null||t===void 0?void 0:t.call(e)}),[n]);return n}t.useLocalStoreWithInjectedDependencies=c},function(e,t,r){"use strict";(function(t){if(typeof t==="undefined"||!t.version||t.version.indexOf("v0.")===0||t.version.indexOf("v1.")===0&&t.version.indexOf("v1.8.")!==0){e.exports={nextTick:r}}else{e.exports=t}function r(e,r,n,i){if(typeof e!=="function"){throw new TypeError('"callback" argument must be a function')}var o=arguments.length;var a,s;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function t(){e.call(null,r)}));case 3:return t.nextTick((function t(){e.call(null,r,n)}));case 4:return t.nextTick((function t(){e.call(null,r,n,i)}));default:a=new Array(o-1);s=0;while(s<a.length){a[s++]=arguments[s]}return t.nextTick((function t(){e.apply(null,a)}))}}}).call(this,r(3))},function(e,t,r){"use strict";var n=r(21).Buffer;var i=n.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function o(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function a(e){var t=o(e);if(typeof t!=="string"&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}t.StringDecoder=s;function s(e){this.encoding=a(e);var t;switch(this.encoding){case"utf16le":this.text=p;this.end=v;t=4;break;case"utf8":this.fillLast=f;t=4;break;case"base64":this.text=m;this.end=g;t=3;break;default:this.write=y;this.end=b;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=n.allocUnsafe(t)}s.prototype.write=function(e){if(e.length===0)return"";var t;var r;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";r=this.lastNeed;this.lastNeed=0}else{r=0}if(r<e.length)return t?t+this.text(e,r):this.text(e,r);return t||""};s.prototype.end=d;s.prototype.text=h;s.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function u(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function l(e,t,r){var n=t.length-1;if(n<r)return 0;var i=u(t[n]);if(i>=0){if(i>0)e.lastNeed=i-1;return i}if(--n<r||i===-2)return 0;i=u(t[n]);if(i>=0){if(i>0)e.lastNeed=i-2;return i}if(--n<r||i===-2)return 0;i=u(t[n]);if(i>=0){if(i>0){if(i===2)i=0;else e.lastNeed=i-3}return i}return 0}function c(e,t,r){if((t[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return"�"}}}}function f(e){var t=this.lastTotal-this.lastNeed;var r=c(this,e,t);if(r!==undefined)return r;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function h(e,t){var r=l(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);e.copy(this.lastChar,0,n);return e.toString("utf8",t,n)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"�";return t}function p(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function v(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function m(e,t){var r=(e.length-t)%3;if(r===0)return e.toString("base64",t);this.lastNeed=3-r;this.lastTotal=3;if(r===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-r)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function y(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deviceFromParams=void 0;const n=r(11);const i=r(54);const o=r(6);t.deviceFromParams=(()=>{var e,t;const r=JSON.parse((e=new URLSearchParams(window.location.search).get("state"))!==null&&e!==void 0?e:"e30=");(t=r.scaleFactor)!==null&&t!==void 0?t:r.scaleFactor=1;r.width||(r.width=i.MIRRORING_DEFAULT_WIDTH);r.height||(r.height=i.MIRRORING_DEFAULT_HEIGHT);return r})();o.Logger.setGlobalInfo({device:JSON.stringify(n.pick(t.deviceFromParams,["model","name","osType","osVersion","virtual"]))})},function(e,t,r){"use strict";var n=r(195);var i=r(196);t.parse=w;t.resolve=S;t.resolveObject=T;t.format=E;t.Url=o;function o(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(l),f=["'"].concat(c),h=["%","/","?",";","#"].concat(f),d=["/","?","#"],p=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:true,"javascript:":true},y={javascript:true,"javascript:":true},b={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},_=r(92);function w(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;n.parse(e,t,r);return n}o.prototype.parse=function(e,t,r){if(!i.isString(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var o=e.indexOf("?"),s=o!==-1&&o<e.indexOf("#")?"?":"#",l=e.split(s),c=/\\/g;l[0]=l[0].replace(c,"/");e=l.join(s);var w=e;w=w.trim();if(!r&&e.split("#").length===1){var E=u.exec(w);if(E){this.path=w;this.href=w;this.pathname=E[1];if(E[2]){this.search=E[2];if(t){this.query=_.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var S=a.exec(w);if(S){S=S[0];var T=S.toLowerCase();this.protocol=T;w=w.substr(S.length)}if(r||S||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var A=w.substr(0,2)==="//";if(A&&!(S&&y[S])){w=w.substr(2);this.slashes=true}}if(!y[S]&&(A||S&&!b[S])){var x=-1;for(var D=0;D<d.length;D++){var O=w.indexOf(d[D]);if(O!==-1&&(x===-1||O<x))x=O}var I,C;if(x===-1){C=w.lastIndexOf("@")}else{C=w.lastIndexOf("@",x)}if(C!==-1){I=w.slice(0,C);w=w.slice(C+1);this.auth=decodeURIComponent(I)}x=-1;for(var D=0;D<h.length;D++){var O=w.indexOf(h[D]);if(O!==-1&&(x===-1||O<x))x=O}if(x===-1)x=w.length;this.host=w.slice(0,x);w=w.slice(x);this.parseHost();this.hostname=this.hostname||"";var k=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!k){var R=this.hostname.split(/\./);for(var D=0,P=R.length;D<P;D++){var M=R[D];if(!M)continue;if(!M.match(v)){var L="";for(var N=0,F=M.length;N<F;N++){if(M.charCodeAt(N)>127){L+="x"}else{L+=M[N]}}if(!L.match(v)){var j=R.slice(0,D);var B=R.slice(D+1);var U=M.match(m);if(U){j.push(U[1]);B.unshift(U[2])}if(B.length){w="/"+B.join(".")+w}this.hostname=j.join(".");break}}}}if(this.hostname.length>p){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!k){this.hostname=n.toASCII(this.hostname)}var z=this.port?":"+this.port:"";var $=this.hostname||"";this.host=$+z;this.href+=this.host;if(k){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(w[0]!=="/"){w="/"+w}}}if(!g[T]){for(var D=0,P=f.length;D<P;D++){var G=f[D];if(w.indexOf(G)===-1)continue;var H=encodeURIComponent(G);if(H===G){H=escape(G)}w=w.split(G).join(H)}}var W=w.indexOf("#");if(W!==-1){this.hash=w.substr(W);w=w.slice(0,W)}var V=w.indexOf("?");if(V!==-1){this.search=w.substr(V);this.query=w.substr(V+1);if(t){this.query=_.parse(this.query)}w=w.slice(0,V)}else if(t){this.search="";this.query={}}if(w)this.pathname=w;if(b[T]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var z=this.pathname||"";var q=this.search||"";this.path=z+q}this.href=this.format();return this};function E(e){if(i.isString(e))e=w(e);if(!(e instanceof o))return o.prototype.format.call(e);return e.format()}o.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=false,a="";if(this.host){o=e+this.host}else if(this.hostname){o=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){o+=":"+this.port}}if(this.query&&i.isObject(this.query)&&Object.keys(this.query).length){a=_.stringify(this.query)}var s=this.search||a&&"?"+a||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||b[t])&&o!==false){o="//"+(o||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!o){o=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(s&&s.charAt(0)!=="?")s="?"+s;r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)}));s=s.replace("#","%23");return t+o+r+s+n};function S(e,t){return w(e,false,true).resolve(t)}o.prototype.resolve=function(e){return this.resolveObject(w(e,false,true)).format()};function T(e,t){if(!e)return t;return w(e,false,true).resolveObject(t)}o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,false,true);e=t}var r=new o;var n=Object.keys(this);for(var a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var u=Object.keys(e);for(var l=0;l<u.length;l++){var c=u[l];if(c!=="protocol")r[c]=e[c]}if(b[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!b[e.protocol]){var f=Object.keys(e);for(var h=0;h<f.length;h++){var d=f[h];r[d]=e[d]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!y[e.protocol]){var p=(e.pathname||"").split("/");while(p.length&&!(e.host=p.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(p[0]!=="")p.unshift("");if(p.length<2)p.unshift("");r.pathname=p.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var v=r.pathname||"";var m=r.search||"";r.path=v+m}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var g=r.pathname&&r.pathname.charAt(0)==="/",_=e.host||e.pathname&&e.pathname.charAt(0)==="/",w=_||g||r.host&&e.pathname,E=w,S=r.pathname&&r.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],T=r.protocol&&!b[r.protocol];if(T){r.hostname="";r.port=null;if(r.host){if(S[0]==="")S[0]=r.host;else S.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(p[0]==="")p[0]=e.host;else p.unshift(e.host)}e.host=null}w=w&&(p[0]===""||S[0]==="")}if(_){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;S=p}else if(p.length){if(!S)S=[];S.pop();S=S.concat(p);r.search=e.search;r.query=e.query}else if(!i.isNullOrUndefined(e.search)){if(T){r.hostname=r.host=S.shift();var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(A){r.auth=A.shift();r.host=r.hostname=A.shift()}}r.search=e.search;r.query=e.query;if(!i.isNull(r.pathname)||!i.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!S.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var x=S.slice(-1)[0];var D=(r.host||e.host||S.length>1)&&(x==="."||x==="..")||x==="";var O=0;for(var I=S.length;I>=0;I--){x=S[I];if(x==="."){S.splice(I,1)}else if(x===".."){S.splice(I,1);O++}else if(O){S.splice(I,1);O--}}if(!w&&!E){for(;O--;O){S.unshift("..")}}if(w&&S[0]!==""&&(!S[0]||S[0].charAt(0)!=="/")){S.unshift("")}if(D&&S.join("/").substr(-1)!=="/"){S.push("")}var C=S[0]===""||S[0]&&S[0].charAt(0)==="/";if(T){r.hostname=r.host=C?"":S.length?S.shift():"";var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(A){r.auth=A.shift();r.host=r.hostname=A.shift()}}w=w||r.host&&S.length;if(w&&!C){S.unshift("")}if(!S.length){r.pathname=null;r.path=null}else{r.pathname=S.join("/")}if(!i.isNull(r.pathname)||!i.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};o.prototype.parseHost=function(){var e=this.host;var t=s.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},function(e,t,r){var n=r(14)["default"];function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(i=function e(n){return n?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=i(t);if(r&&r.has(e)){return r.get(e)}var o={};var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var u=a?Object.getOwnPropertyDescriptor(e,s):null;if(u&&(u.get||u.set)){Object.defineProperty(o,s,u)}else{o[s]=e[s]}}}o["default"]=e;if(r){r.set(e,o)}return o}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(200);var i=r(201);var o=r(95);var a=r(202);function s(e){return n(e)||i(e)||o(e)||a()}e.exports=s,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){"use strict";class n{constructor(e,t,r){this.width=r.width;this.height=r.height;this.loops=r.loops;this.usesTransparency=r.usesTransparency;this.colorScope=r.colorScope;this.frames=t;this.buffer=e}}n.GlobalColorsPreferred=0;n.GlobalColorsOnly=1;n.LocalColorsOnly=2;class i extends Error{constructor(e){super(e);if(e instanceof Error){this.stack="Gif"+e.stack}}}t.Gif=n;t.GifError=i},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o;Object.defineProperty(t,"__esModule",{value:true});t.MobileLocatorFactory=t.MobileLocator=t.LocatorConfiguration=t.ExtractionType=t.LocateMode=void 0;const a=r(11);const s=r(23);const u=r(0);const l=r(73);const c=r(72);var f;(function(e){e[e["Shallow"]=0]="Shallow";e[e["DeepThenShallow"]=1]="DeepThenShallow"})(f||(t.LocateMode=f={}));var h;(function(e){e[e["Shallow"]=0]="Shallow";e[e["Deep"]=1]="Deep"})(h||(t.ExtractionType=h={}));const d=1;var p;(function(e){e[e["TreeElementMembersLimitPerLevel"]=5]="TreeElementMembersLimitPerLevel";e[e["ParentsTreeLevelsUp"]=10]="ParentsTreeLevelsUp";e[e["ChildrenThreeLevelsDown"]=1]="ChildrenThreeLevelsDown"})(p||(t.LocatorConfiguration=p={}));class v{constructor(e){this.locatorStrategy=undefined;this.threshold=undefined;this.extractionType=h.Shallow;this.xpath=new c.ManualSelector("");this.parents=[];this.children=[];this.siblings=[];this.attributes={};this.closestText=new c.ManualSelector("");if(e){this.xpath=new c.ManualSelector(e)}this.version=d;this._indexOnlyXpath=new c.AutoGeneratedSelector("indexOnlyXpath",this);this._closestParentIndexOnlyXpath=new c.AutoGeneratedSelector("closestParentIndexOnlyXpath",this);this._xpathWithoutIndices=new c.AutoGeneratedSelector("xpathWithoutIndices",this)}get computedLocatorStrategy(){if(this.locatorStrategy){return this.locatorStrategy}if(!s.default.flags.locateMobileElementsUsingML.isEnabled()){return"fallback"}if(Object.values(this.attributes).some((e=>e.isExpression))){return"fallback"}return"ML"}static getMobileLocator(e,t){if(!e)return undefined;return new this(t)}static isOldVersionLocator(e){return typeof e.xpath==="string"}static isValidSelector(e){return e&&e.currentValue!==""}static getFirstValidSelector(e){return e.find((e=>this.isValidSelector(e)))}get text(){return v.getFirstValidSelector([this.attributes.text,this.attributes.label,this.attributes.value])}get label(){return this.text}get value(){return this.text}get class(){return this.attributes.class||this.attributes.type}get type(){return this.class}get id(){const e=this.resourceId;const t=this.name;return e||t}get resourceId(){return this.attributes["resource-id"]}get name(){return this.attributes.name}get index(){return this.attributes.index}get accessabilityId(){return this.attributes.accessabilityId}_updateAndGetAutoGeneratedSelector(e){e.updateValues(this);return e}get xpathWithoutIndices(){return this._updateAndGetAutoGeneratedSelector(this._xpathWithoutIndices)}get indexOnlyXpath(){return this._updateAndGetAutoGeneratedSelector(this._indexOnlyXpath)}get closestParentIndexOnlyXpath(){return this._updateAndGetAutoGeneratedSelector(this._closestParentIndexOnlyXpath)}get position(){var e;if(this.attributes.bounds){const t=this.attributes.bounds.currentValue;const r=(e=t.match(/\d+/g))===null||e===void 0?void 0:e.map(Number);if(r){return{x:r[0],y:r[1]}}return undefined}return{x:parseInt(this.attributes.x.currentValue,10),y:parseInt(this.attributes.y.currentValue,10)}}get contentDesc(){return this.attributes["content-desc"]}get osType(){var e;if((e=this.device)===null||e===void 0?void 0:e.osType){return this.device.osType.toLowerCase()}const t=this.attributes.bounds;if(t){return"android"}return"ios"}}t.MobileLocator=v;n([u.observable.ref,i("design:type",Object)],v.prototype,"locatorStrategy",void 0);n([u.observable.ref,i("design:type",String)],v.prototype,"threshold",void 0);n([u.computed,i("design:type",Object),i("design:paramtypes",[])],v.prototype,"computedLocatorStrategy",null);class m{static getClosestText(e,t=this.selectorDistanceType){if(!e||e.length===0)return"";let r="";let n=Number.MAX_SAFE_INTEGER;let i=Number.MAX_SAFE_INTEGER;for(let o=0;o<e.length;o++){const[a,s,u]=e[o];if(!a)continue;let l;let f;if(t===c.SelectorDistanceType.Euclidean){l=s;f=u}else{l=u;f=s}if(!l||!f)continue;if(l<n){r=a;n=l;i=f}if(l===n&&f<i){r=a;n=l;i=f}}return r}static getElementClosestTextCandidatesInBfsBounds(e,t,r=3,n=20){const i=[];const o=new Set;let a=false;const s=[[e,0]];while(s.length>0){const[u,l]=s.shift();if(l>r&&o.size>n){break}if(o.has(u))continue;o.add(u);for(const e of Array.from(u.children)){s.push([e,l+1])}const c=u.parentElement;if(c!==null){s.push([c,l+1])}if(!a){a=true;continue}const f=this._getDomElementText(u,t.toLowerCase());if(!f)continue;const h=this._getElementsEuclideanDistance(e,u);i.push([f,h,l])}return i}static _getMobileLocatorClosestTextCandidatesInBfsBounds(e){var t;const r=[];const n=2;const i=e.parents.slice(0,n);const o=[...e.children,...i,...e.siblings];for(let i=0;i<o.length;i++){const a=o[i];if(a===e)continue;const s=(t=a.text)===null||t===void 0?void 0:t.currentValue;if(!s)continue;const u=this._getEuclideanDistance(e.position,a.position);let l=1;if(i>=e.children.length+n){l=2}r.push([s,u,l])}return r}static _getDomElementText(e,t){if(t==="android"){return e.getAttribute("text")||""}if(t==="ios"){const t=e.getAttribute("label");if(t&&t!=="")return t;const r=e.getAttribute("value");if(r&&r!=="")return r;const n=e.getAttribute("text");if(n&&n!=="")return n}return""}static _getElementsEuclideanDistance(e,t){const r=this._getElementPosition2D(e);const n=this._getElementPosition2D(t);if(!r||!n)return undefined;const i=n.x-r.x;const o=n.y-r.y;return Math.hypot(i,o)}static _getElementPosition2D(e){const t=(0,l.parseBoundsFromElement)(e);return{x:t.left,y:t.top}}static createAndFillMobileLocatorDataRecursive(e){var t;e=this.getUpdatedLocatorDataForBackwardCompatibility(e);const r=v.getMobileLocator(true);const{children:n,parents:i,siblings:u}=e;Object.assign(r,e);this._fillPropertiesWithTypes(r,e);r.children=o._fillMobileLocatorsListRecursively(a.cloneDeep(n));r.parents=o._fillMobileLocatorsListRecursively(a.cloneDeep(i));r.siblings=o._fillMobileLocatorsListRecursively(a.cloneDeep(u));if(s.default.flags.locateMobileElementsUsingClosestText.isEnabled()&&((t=e.closestText)===null||t===void 0?void 0:t.originalValue)===undefined){const e=this._getMobileLocatorClosestTextCandidatesInBfsBounds(r);const t=this.getClosestText(e);r.closestText=new c.ManualSelector(t)}return r}static _getEuclideanDistance(e,t){if(!e||!t)return undefined;const r=t.x-e.x;const n=t.y-e.y;return Math.hypot(r,n)}static _attributesMapStringToStringDictionary(e){const t=JSON.parse(e);return Object.assign({},...t.map((e=>({[e[0]]:e[1]}))))}static getUpdatedLocatorDataForBackwardCompatibility(e){if(v.isOldVersionLocator(e))e=this._updateMobileLocatorData(e);return e}static _updateMobileLocatorData(e){const t={xpath:new c.ManualSelector(e.xpath)};t.domLocation=e.domLocation;t.extractionType=e.extractionType;t.children=e.children&&typeof e.children[0]!=="string"?e.children:undefined;t.parents=e.parents&&typeof e.parents[0]!=="string"?e.parents:undefined;t.siblings=e.siblings&&typeof e.siblings[0]!=="string"?e.siblings:undefined;t.attributes={};const r=e.attributesMapString?this._attributesMapStringToStringDictionary(e.attributesMapString):e.attributes;if(r){Object.keys(r).forEach((e=>{t.attributes[e]=new c.ManualSelector(r[e])}))}return t}static _fillPropertiesWithTypes(e,t){Object.keys(t).forEach((r=>{const n=r;if(c.AbstractSelector.isAttributeNameOfSelector(n,t)){let r=t[n];if(r.selectorKind==="Manual")r=new c.ManualSelector;else{const e=t[n];r=new c.AutoGeneratedSelector(e.name,v.getMobileLocator(true));delete r["currentValue"];const i=e.name;t[n].name=g(i)}Object.assign(r,t[n]);Reflect.set(e,n,r)}}));Object.keys(e.attributes).forEach((r=>{const n=new c.ManualSelector;e.attributes[r]=Object.assign(n,t.attributes[r])}))}}t.MobileLocatorFactory=m;o=m;m.selectorDistanceType=c.SelectorDistanceType.DomBfs;m.createMobileLocatorFromElement=(e,t,r=f.DeepThenShallow,n=p.ChildrenThreeLevelsDown)=>{const i=(0,l.getElementXpath)(e).replace("hierarchy","").replace("AppiumAUT","");const a=v.getMobileLocator(true,i);if(!a){throw new Error("Sanity check failed in MobileLocatorFactory.createMobileLocatorFromElement")}a.extractionType=r===f.Shallow?h.Shallow:h.Deep;const u=e.getAttributeNames();u.forEach((t=>{const r=e.getAttribute(t);a.attributes[t]=new c.ManualSelector(r)}));if(r!==f.Shallow){const t=r===f.DeepThenShallow?f.Shallow:r;o._fillDeepMobileLocatorAttributes(a,i,e,t,n)}if(t&&s.default.flags.locateMobileElementsUsingClosestText.isEnabled()){const r=o.getElementClosestTextCandidatesInBfsBounds(e,t.deviceType);const n=o.getClosestText(r);a.closestText=new c.ManualSelector(n)}if(t){a.device={width:t.width,height:t.height,name:t.name,osType:t.deviceType,osVersion:t.osVersion,virtual:t.virtual}}return a};m._fillDeepMobileLocatorAttributes=(e,t,r,n,i)=>{e.xpath=new c.ManualSelector(t);if(r.parentElement){let t=r.parentElement;while(t&&e.parents.length<p.ParentsTreeLevelsUp){const r=o.createMobileLocatorFromElement(t,undefined,f.Shallow);e.parents.push(r);t=t.parentElement}}if(i>0){const t=Array.from(r.children||[]);t.slice(0,p.TreeElementMembersLimitPerLevel).forEach((t=>{const r=o.createMobileLocatorFromElement(t,undefined,n,i-1);e.children.push(r)}));if(r.parentNode){const t=Array.from(r.parentNode.children||[]);t.slice(0,p.TreeElementMembersLimitPerLevel).forEach((t=>{if(t!==r){const r=o.createMobileLocatorFromElement(t,undefined,n,i-1);e.siblings.push(r)}}))}}};m._fillMobileLocatorsListRecursively=e=>{if(!e)return[];return e.map((e=>o.createAndFillMobileLocatorDataRecursive(e)))};function g(e){return e[0].toLowerCase()+e.substring(1)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.promiseMap=t.promisifiedRequestIdleCallback=t.promiseTimeout=t.TimeoutError=t.delay=void 0;const n=r(158);function i(e){return new Promise((t=>{setTimeout(t,e)}))}t.delay=i;class o extends Error{}t.TimeoutError=o;function a(e,t,r){let n;if(typeof r!=="string"){if(r instanceof Error){n=r}else{n=new o("operation timed out")}}else{n=new o(r)}const a=Date.now();return Promise.race([e,i(t).then((()=>{throw Object.assign(n,{timeout:t,passedTime:Date.now()-a})}))])}t.promiseTimeout=a;const s=globalThis.requestIdleCallback||globalThis.setTimeout;const u=()=>new Promise((e=>{s((()=>e()))}));t.promisifiedRequestIdleCallback=u;async function l(e,t,{concurrency:r}={}){if(r){const i=n(r);return await Promise.all(Array.from(e,((e,r)=>i((()=>t(e,r))))))}return await Promise.all(Array.from(e,t))}t.promiseMap=l},function(e,t,r){(function(e,t){var r;(function(r){(function(e){var n=typeof t==="object"?t:typeof self==="object"?self:typeof this==="object"?this:Function("return this;")();var i=o(r);if(typeof n.Reflect==="undefined"){n.Reflect=r}else{i=o(n.Reflect,i)}e(i);function o(e,t){return function(r,n){if(typeof e[r]!=="function"){Object.defineProperty(e,r,{configurable:true,writable:true,value:n})}if(t)t(r,n)}}})((function(t){var r=Object.prototype.hasOwnProperty;var n=typeof Symbol==="function";var i=n&&typeof Symbol.toPrimitive!=="undefined"?Symbol.toPrimitive:"@@toPrimitive";var o=n&&typeof Symbol.iterator!=="undefined"?Symbol.iterator:"@@iterator";var a=typeof Object.create==="function";var s={__proto__:[]}instanceof Array;var u=!a&&!s;var l={create:a?function(){return oe(Object.create(null))}:s?function(){return oe({__proto__:null})}:function(){return oe({})},has:u?function(e,t){return r.call(e,t)}:function(e,t){return t in e},get:u?function(e,t){return r.call(e,t)?e[t]:undefined}:function(e,t){return e[t]}};var c=Object.getPrototypeOf(Function);var f=typeof e==="object"&&e.env&&e.env["REFLECT_METADATA_USE_MAP_POLYFILL"]==="true";var h=!f&&typeof Map==="function"&&typeof Map.prototype.entries==="function"?Map:re();var d=!f&&typeof Set==="function"&&typeof Set.prototype.entries==="function"?Set:ne();var p=!f&&typeof WeakMap==="function"?WeakMap:ie();var v=new p;function m(e,t,r,n){if(!F(r)){if(!V(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(n)&&!F(n)&&!j(n))throw new TypeError;if(j(n))n=undefined;r=W(r);return D(e,t,r,n)}else{if(!V(e))throw new TypeError;if(!J(t))throw new TypeError;return x(e,t)}}t("decorate",m);function g(e,t){function r(r,n){if(!U(r))throw new TypeError;if(!F(n)&&!Y(n))throw new TypeError;P(e,t,r,n)}return r}t("metadata",g);function y(e,t,r,n){if(!U(r))throw new TypeError;if(!F(n))n=W(n);return P(e,t,r,n)}t("defineMetadata",y);function b(e,t,r){if(!U(t))throw new TypeError;if(!F(r))r=W(r);return I(e,t,r)}t("hasMetadata",b);function _(e,t,r){if(!U(t))throw new TypeError;if(!F(r))r=W(r);return C(e,t,r)}t("hasOwnMetadata",_);function w(e,t,r){if(!U(t))throw new TypeError;if(!F(r))r=W(r);return k(e,t,r)}t("getMetadata",w);function E(e,t,r){if(!U(t))throw new TypeError;if(!F(r))r=W(r);return R(e,t,r)}t("getOwnMetadata",E);function S(e,t){if(!U(e))throw new TypeError;if(!F(t))t=W(t);return M(e,t)}t("getMetadataKeys",S);function T(e,t){if(!U(e))throw new TypeError;if(!F(t))t=W(t);return L(e,t)}t("getOwnMetadataKeys",T);function A(e,t,r){if(!U(t))throw new TypeError;if(!F(r))r=W(r);var n=O(t,r,false);if(F(n))return false;if(!n.delete(e))return false;if(n.size>0)return true;var i=v.get(t);i.delete(r);if(i.size>0)return true;v.delete(t);return true}t("deleteMetadata",A);function x(e,t){for(var r=e.length-1;r>=0;--r){var n=e[r];var i=n(t);if(!F(i)&&!j(i)){if(!J(i))throw new TypeError;t=i}}return t}function D(e,t,r,n){for(var i=e.length-1;i>=0;--i){var o=e[i];var a=o(t,r,n);if(!F(a)&&!j(a)){if(!U(a))throw new TypeError;n=a}}return n}function O(e,t,r){var n=v.get(e);if(F(n)){if(!r)return undefined;n=new h;v.set(e,n)}var i=n.get(t);if(F(i)){if(!r)return undefined;i=new h;n.set(t,i)}return i}function I(e,t,r){var n=C(e,t,r);if(n)return true;var i=te(t);if(!j(i))return I(e,i,r);return false}function C(e,t,r){var n=O(t,r,false);if(F(n))return false;return G(n.has(e))}function k(e,t,r){var n=C(e,t,r);if(n)return R(e,t,r);var i=te(t);if(!j(i))return k(e,i,r);return undefined}function R(e,t,r){var n=O(t,r,false);if(F(n))return undefined;return n.get(e)}function P(e,t,r,n){var i=O(r,n,true);i.set(e,t)}function M(e,t){var r=L(e,t);var n=te(e);if(n===null)return r;var i=M(n,t);if(i.length<=0)return r;if(r.length<=0)return i;var o=new d;var a=[];for(var s=0,u=r;s<u.length;s++){var l=u[s];var c=o.has(l);if(!c){o.add(l);a.push(l)}}for(var f=0,h=i;f<h.length;f++){var l=h[f];var c=o.has(l);if(!c){o.add(l);a.push(l)}}return a}function L(e,t){var r=[];var n=O(e,t,false);if(F(n))return r;var i=n.keys();var o=X(i);var a=0;while(true){var s=Q(o);if(!s){r.length=a;return r}var u=Z(s);try{r[a]=u}catch(e){try{ee(o)}finally{throw e}}a++}}function N(e){if(e===null)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return e===null?1:6;default:return 6}}function F(e){return e===undefined}function j(e){return e===null}function B(e){return typeof e==="symbol"}function U(e){return typeof e==="object"?e!==null:typeof e==="function"}function z(e,t){switch(N(e)){case 0:return e;case 1:return e;case 2:return e;case 3:return e;case 4:return e;case 5:return e}var r=t===3?"string":t===5?"number":"default";var n=K(e,i);if(n!==undefined){var o=n.call(e,r);if(U(o))throw new TypeError;return o}return $(e,r==="default"?"number":r)}function $(e,t){if(t==="string"){var r=e.toString;if(q(r)){var n=r.call(e);if(!U(n))return n}var i=e.valueOf;if(q(i)){var n=i.call(e);if(!U(n))return n}}else{var i=e.valueOf;if(q(i)){var n=i.call(e);if(!U(n))return n}var o=e.toString;if(q(o)){var n=o.call(e);if(!U(n))return n}}throw new TypeError}function G(e){return!!e}function H(e){return""+e}function W(e){var t=z(e,3);if(B(t))return t;return H(t)}function V(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:Object.prototype.toString.call(e)==="[object Array]"}function q(e){return typeof e==="function"}function J(e){return typeof e==="function"}function Y(e){switch(N(e)){case 3:return true;case 4:return true;default:return false}}function K(e,t){var r=e[t];if(r===undefined||r===null)return undefined;if(!q(r))throw new TypeError;return r}function X(e){var t=K(e,o);if(!q(t))throw new TypeError;var r=t.call(e);if(!U(r))throw new TypeError;return r}function Z(e){return e.value}function Q(e){var t=e.next();return t.done?false:t}function ee(e){var t=e["return"];if(t)t.call(e)}function te(e){var t=Object.getPrototypeOf(e);if(typeof e!=="function"||e===c)return t;if(t!==c)return t;var r=e.prototype;var n=r&&Object.getPrototypeOf(r);if(n==null||n===Object.prototype)return t;var i=n.constructor;if(typeof i!=="function")return t;if(i===e)return t;return i}function re(){var e={};var t=[];var r=function(){function e(e,t,r){this._index=0;this._keys=e;this._values=t;this._selector=r}e.prototype["@@iterator"]=function(){return this};e.prototype[o]=function(){return this};e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);if(e+1>=this._keys.length){this._index=-1;this._keys=t;this._values=t}else{this._index++}return{value:r,done:false}}return{value:undefined,done:true}};e.prototype.throw=function(e){if(this._index>=0){this._index=-1;this._keys=t;this._values=t}throw e};e.prototype.return=function(e){if(this._index>=0){this._index=-1;this._keys=t;this._values=t}return{value:e,done:true}};return e}();return function(){function t(){this._keys=[];this._values=[];this._cacheKey=e;this._cacheIndex=-2}Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:true,configurable:true});t.prototype.has=function(e){return this._find(e,false)>=0};t.prototype.get=function(e){var t=this._find(e,false);return t>=0?this._values[t]:undefined};t.prototype.set=function(e,t){var r=this._find(e,true);this._values[r]=t;return this};t.prototype.delete=function(t){var r=this._find(t,false);if(r>=0){var n=this._keys.length;for(var i=r+1;i<n;i++){this._keys[i-1]=this._keys[i];this._values[i-1]=this._values[i]}this._keys.length--;this._values.length--;if(t===this._cacheKey){this._cacheKey=e;this._cacheIndex=-2}return true}return false};t.prototype.clear=function(){this._keys.length=0;this._values.length=0;this._cacheKey=e;this._cacheIndex=-2};t.prototype.keys=function(){return new r(this._keys,this._values,n)};t.prototype.values=function(){return new r(this._keys,this._values,i)};t.prototype.entries=function(){return new r(this._keys,this._values,a)};t.prototype["@@iterator"]=function(){return this.entries()};t.prototype[o]=function(){return this.entries()};t.prototype._find=function(e,t){if(this._cacheKey!==e){this._cacheIndex=this._keys.indexOf(this._cacheKey=e)}if(this._cacheIndex<0&&t){this._cacheIndex=this._keys.length;this._keys.push(e);this._values.push(undefined)}return this._cacheIndex};return t}();function n(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}function ne(){return function(){function e(){this._map=new h}Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:true,configurable:true});e.prototype.has=function(e){return this._map.has(e)};e.prototype.add=function(e){return this._map.set(e,e),this};e.prototype.delete=function(e){return this._map.delete(e)};e.prototype.clear=function(){this._map.clear()};e.prototype.keys=function(){return this._map.keys()};e.prototype.values=function(){return this._map.values()};e.prototype.entries=function(){return this._map.entries()};e.prototype["@@iterator"]=function(){return this.keys()};e.prototype[o]=function(){return this.keys()};return e}()}function ie(){var e=16;var t=l.create();var n=i();return function(){function e(){this._key=i()}e.prototype.has=function(e){var t=o(e,false);return t!==undefined?l.has(t,this._key):false};e.prototype.get=function(e){var t=o(e,false);return t!==undefined?l.get(t,this._key):undefined};e.prototype.set=function(e,t){var r=o(e,true);r[this._key]=t;return this};e.prototype.delete=function(e){var t=o(e,false);return t!==undefined?delete t[this._key]:false};e.prototype.clear=function(){this._key=i()};return e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(l.has(t,e));t[e]=true;return e}function o(e,t){if(!r.call(e,n)){if(!t)return undefined;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function a(e,t){for(var r=0;r<t;++r)e[r]=Math.random()*255|0;return e}function s(e){if(typeof Uint8Array==="function"){if(typeof crypto!=="undefined")return crypto.getRandomValues(new Uint8Array(e));if(typeof msCrypto!=="undefined")return msCrypto.getRandomValues(new Uint8Array(e));return a(new Uint8Array(e),e)}return a(new Array(e),e)}function u(){var t=s(e);t[6]=t[6]&79|64;t[8]=t[8]&191|128;var r="";for(var n=0;n<e;++n){var i=t[n];if(n===4||n===6||n===8)r+="-";if(i<16)r+="0";r+=i.toString(16).toLowerCase()}return r}}function oe(e){e.__=undefined;delete e.__;return e}}))})(r||(r={}))}).call(this,r(3),r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.switchboard=void 0;const n=r(154);const i=r(160);const o={EDITOR:"editor",MOBILE_MIRROR:"mobileMirror",AUT:"aut",BACKGROUND:"background"};const a={[o.EDITOR]:()=>{if(window.chrome){return[new n.ConnectionToBackground(o.EDITOR,{external:true})]}return[]},[o.MOBILE_MIRROR]:()=>[new n.ConnectionToBackground(o.MOBILE_MIRROR)],[o.AUT]:()=>[new n.ConnectionToBackground(o.AUT)],[o.BACKGROUND]:()=>[new n.RuntimeConnectionListener(o.BACKGROUND),new n.RuntimeConnectionListener(o.BACKGROUND,{external:true})]};t.switchboard=new i.Switchboard(a);if(false){}},function(e,t,r){"use strict";(function(t,n,i){var o=r(41);e.exports=w;function a(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function s(e){var t=this;this.next=null;this.entry=null;this.finish=function(){j(t,e)}}var u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;var l;w.WritableState=b;var c=Object.create(r(31));c.inherits=r(12);var f={deprecate:r(88)};var h=r(86);var d=r(21).Buffer;var p=i.Uint8Array||function(){};function v(e){return d.from(e)}function m(e){return d.isBuffer(e)||e instanceof p}var g=r(87);c.inherits(w,h);function y(){}function b(e,t){l=l||r(20);e=e||{};var n=t instanceof l;this.objectMode=!!e.objectMode;if(n)this.objectMode=this.objectMode||!!e.writableObjectMode;var i=e.highWaterMark;var o=e.writableHighWaterMark;var a=this.objectMode?16:16*1024;if(i||i===0)this.highWaterMark=i;else if(n&&(o||o===0))this.highWaterMark=o;else this.highWaterMark=a;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var u=e.decodeStrings===false;this.decodeStrings=!u;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new s(this)}b.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(b.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var _;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){_=Function.prototype[Symbol.hasInstance];Object.defineProperty(w,Symbol.hasInstance,{value:function(e){if(_.call(this,e))return true;if(this!==w)return false;return e&&e._writableState instanceof b}})}else{_=function(e){return e instanceof this}}function w(e){l=l||r(20);if(!_.call(w,this)&&!(this instanceof l)){return new w(e)}this._writableState=new b(e,this);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}h.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function E(e,t){var r=new Error("write after end");e.emit("error",r);o.nextTick(t,r)}function S(e,t,r,n){var i=true;var a=false;if(r===null){a=new TypeError("May not write null values to stream")}else if(typeof r!=="string"&&r!==undefined&&!t.objectMode){a=new TypeError("Invalid non-string/buffer chunk")}if(a){e.emit("error",a);o.nextTick(n,a);i=false}return i}w.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var o=!n.objectMode&&m(e);if(o&&!d.isBuffer(e)){e=v(e)}if(typeof t==="function"){r=t;t=null}if(o)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=y;if(n.ended)E(this,r);else if(o||S(this,n,e,r)){n.pendingcb++;i=A(this,n,o,e,t,r)}return i};w.prototype.cork=function(){var e=this._writableState;e.corked++};w.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)R(this,e)}};w.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t;return this};function T(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=d.from(t,r)}return t}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,o){if(!r){var a=T(t,n,i);if(n!==a){r=true;i="buffer";n=a}}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(!u)t.needDrain=true;if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null};if(l){l.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{x(e,t,false,s,n,i,o)}return u}function x(e,t,r,n,i,o,a){t.writelen=n;t.writecb=a;t.writing=true;t.sync=true;if(r)e._writev(i,t.onwrite);else e._write(i,o,t.onwrite);t.sync=false}function D(e,t,r,n,i){--t.pendingcb;if(r){o.nextTick(i,n);o.nextTick(N,e,t);e._writableState.errorEmitted=true;e.emit("error",n)}else{i(n);e._writableState.errorEmitted=true;e.emit("error",n);N(e,t)}}function O(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;O(r);if(t)D(e,r,n,t,i);else{var o=P(r);if(!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){R(e,r)}if(n){u(C,e,r,o,i)}else{C(e,r,o,i)}}}function C(e,t,r,n){if(!r)k(e,t);t.pendingcb--;n();N(e,t)}function k(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function R(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var o=t.corkedRequestsFree;o.entry=r;var a=0;var u=true;while(r){i[a]=r;if(!r.isBuf)u=false;r=r.next;a+=1}i.allBuffers=u;x(e,t,true,t.length,i,"",o.finish);t.pendingcb++;t.lastBufferedRequest=null;if(o.next){t.corkedRequestsFree=o.next;o.next=null}else{t.corkedRequestsFree=new s(t)}t.bufferedRequestCount=0}else{while(r){var l=r.chunk;var c=r.encoding;var f=r.callback;var h=t.objectMode?1:l.length;x(e,t,false,h,l,c,f);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}w.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};w.prototype._writev=null;w.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)F(this,n,r)};function P(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function M(e,t){e._final((function(r){t.pendingcb--;if(r){e.emit("error",r)}t.prefinished=true;e.emit("prefinish");N(e,t)}))}function L(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"){t.pendingcb++;t.finalCalled=true;o.nextTick(M,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function N(e,t){var r=P(t);if(r){L(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish")}}return r}function F(e,t,r){t.ending=true;N(e,t);if(r){if(t.finished)o.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function j(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}if(t.corkedRequestsFree){t.corkedRequestsFree.next=e}else{t.corkedRequestsFree=e}}Object.defineProperty(w.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});w.prototype.destroy=g.destroy;w.prototype._undestroy=g.undestroy;w.prototype._destroy=function(e,t){this.end();t(e)}}).call(this,r(3),r(53).setImmediate,r(5))},function(e,t,r){(function(e){var n=typeof e!=="undefined"&&e||typeof self!=="undefined"&&self||window;var i=Function.prototype.apply;t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)};t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){if(e){e.close()}};function o(e,t){this._id=e;this._clearFn=t}o.prototype.unref=o.prototype.ref=function(){};o.prototype.close=function(){this._clearFn.call(n,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout((function t(){if(e._onTimeout)e._onTimeout()}),t)}};r(176);t.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof e!=="undefined"&&e.setImmediate||this&&this.setImmediate;t.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof e!=="undefined"&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(5))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ANDROID_KEYCODES_MAP=t.MIRRORING_DEFAULT_HEIGHT=t.MIRRORING_DEFAULT_WIDTH=t.MOBILE_OS=t.DOM_POLL_INTERVAL=t.DEFAULT_STEP_DELAY=t.TMA_SOCKET_BASE_URL=t.tmaBaseUrl=void 0;const n=r(36);function i(){return`${(0,n.getTmaUrl)()}/api`}t.tmaBaseUrl=i;t.TMA_SOCKET_BASE_URL=`${(0,n.getTmaUrl)().replace("https://","wss://").replace("http://","ws://")}`;t.DEFAULT_STEP_DELAY=1e3;t.DOM_POLL_INTERVAL=2e3;t.MOBILE_OS={ANDROID:"Android",IOS:"iOS"};t.MIRRORING_DEFAULT_WIDTH=356;t.MIRRORING_DEFAULT_HEIGHT=Math.round(t.MIRRORING_DEFAULT_WIDTH/.481);t.ANDROID_KEYCODES_MAP={0:7,1:8,2:9,3:10,4:11,5:12,6:13,7:14,8:15,9:16}},function(e,t,r){"use strict";(function(e){var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o,a,s,u;Object.defineProperty(t,"__esModule",{value:true});t.getMirroringInfoForLogs=t.RecordingService=void 0;const l=r(11);const c=r(0);const f=r(54);const h=r(7);const d=r(27);const p=r(16);const v=r(56);const m=r(186);const g=r(314);const y=r(315);const b=r(43);const _=r(370);const w=r(48);const E=r(72);const S=r(126);const T=r(6);const A=r(35);const x=r(372);const D=r(33);const O=r(51);const I=r(59);const C=r(78);const k=r(9);const R=r(385);const P=r(73);const M=r(38);const{guid:L}=d.injectorUtils;window.TST={locatorBuilderUtils:_.locatorBuilderUtils,eventRegistrar:{registerToDomMutation:()=>null},emitKeyState:()=>null};r(386);const N=document.createElement("div");const F=T.Logger.getLogger("RecordingService");function j(e){const t=e=>e+Array((4-e.length%4)%4+1).join("=");return`data:image/png;base64,${t(e.replace(/[\r\n]/g,""))}`}let B=class t{constructor(e,t){this.messagingService=e;this.testimServicesApi=t;this.pendingDom=false;this.DOMOverlay=Object.assign(N.attachShadow({mode:"open"}),{ratio:undefined});this.domRequestCounterSinceSessionStart=0;this.failedDomRequestCounterSinceSessionStart=0;this.device=b.deviceFromParams;this.mirroringWindowToDeviceRatio=window.innerWidth/this.device.width;this.isLoadingApp=true;this.isRecording=false;this.playState="idle";this.appiumSessionOpened=async({serverAddress:e,sessionId:t,streamUrl:r})=>{var n;this.appiumApi=new m.AppiumApi(e,t);this.streamUrl=r;T.Logger.setGlobalInfo({appiumSessionId:t,appiumServerAddress:e});F.log("appium session opened");this.domRequestCounterSinceSessionStart=0;this.failedDomRequestCounterSinceSessionStart=0;try{const{width:e,height:t}=await this.appiumApi.getDeviceSize();this.device.appiumWidth=e;this.device.appiumHeight=t}catch(e){F.warn("get device size after session start failed",{error:e})}this.pollDOM();this.isLoadingApp=false;(n=this.onAppiumSessionConnected)===null||n===void 0?void 0:n.call(this)};this.startRecording=async({data:e})=>{if(!("device"in e)){return}if(e.editorSessionId!==this.messagingService.editorSessionId){window.location.reload();return}this.isRecording=true;this.recordingConfig=e;T.Logger.setGlobalInfo({projectId:e.projectId,recordingConfig:JSON.stringify(l.pick(e,["app.appId","app.fileName"]))});this.pollDOM()};this.stopRecording=async e=>{if(this.messagingService.editorSessionId!==e.data.sessionId){return}this.isRecording=false};this.endLocator=()=>{N.remove();if(this.domOutline){this.domOutline.stop();this.domOutline=null}};this.onLocatorSelected=async(e,t)=>{var r;if(!(e===null||e===void 0?void 0:e.element)){this.messagingService.postMessage(h.commonConstants.AUT.LOCATOR,{canceled:true},t);return}if(!((r=e.element)===null||r===void 0?void 0:r.getAttribute("node-name"))||e.element.shadowRoot){this.domOutline.start();return}if(!this.appiumApi){return}this.domOutline=null;const n=this.getLocatorFromElement(e.element);const i=await this.appiumApi.getScreenshot();const o=j(i);const a={...n,screenshotUrl:o};N.remove();this.messagingService.postMessage(h.commonConstants.AUT.LOCATOR,a,t)};this.getLocator=({transactionId:e})=>{var t;if(this.domOutline){return}window.focus();(t=this.rootMirrorElRef.current)===null||t===void 0?void 0:t.appendChild(N);const{DomOutline:r}=window.TST;this.domOutline=new r({onClick:t=>this.onLocatorSelected(t,e),filter:null,type:"box",getTagName:e=>{var t;return(t=e.getAttribute("node-name"))!==null&&t!==void 0?t:e.tagName},elementFromPoint:(e,t,r)=>(0,g.elementFromPoint)(this.DOMOverlay.lastChild,{x:t,y:r}),maxElementChainDisplay:1,targetElementDescFormatter:e=>e.getAttribute("name")||""});this.domOutline.start()};this.getZoom=async()=>{const{GET_ZOOM:e}=h.commonConstants.tab;return new Promise((t=>{const r=({data:n})=>{const{error:i,zoomLevel:o}=n;this.messagingService.removeEventListener(e,r);if(i){F.error("failed while trying to get zoom level from background",{error:i});t(window.devicePixelRatio);return}t(o)};this.messagingService.postMessage(e);this.messagingService.addEventListener(e,r)}))};this.handlers={[h.commonConstants.scenario.START_RECORDING]:this.startRecording,[h.commonConstants.scenario.STOP_RECORDING]:this.stopRecording,[h.commonConstants.scenario.GET_LOCATOR]:this.getLocator,[h.commonConstants.AUT.END_LOCATOR]:this.endLocator,[h.commonConstants.AUT.CANCEL_LOCATOR]:this.endLocator,[h.commonConstants.mobile.TAKE_SCREEN_SHOT]:({data:e})=>this.updateScreenshot(e.stepId),[h.commonConstants.mobile.INIT_DEVICE]:({data:e})=>{this.device={...this.device,...e};T.Logger.setGlobalInfo({device:JSON.stringify(l.pick(this.device,["model","name","osType","osVersion","virtual"]))})}};this.getMirroringHealth=()=>({unhandledErrors:(0,C.getMirroringErrors)(),unhandledRejections:(0,C.getMirroringUnhandledrejections)(),...this.getMirroringHealthWithoutErrors()});this.getMirroringHealthWithoutErrors=()=>({isRecording:this.isRecording,isLoadingApp:this.isLoadingApp,customProgressMessage:this.customProgressMessage,hasDom:this.hasInitialDom,hasDomOverlayVisible:this.DOMOverlay.isConnected,videoElements:document.querySelectorAll("video").length,imageElements:document.querySelectorAll("img").length,canvasElements:document.querySelectorAll("canvas").length,playState:this.playState,lastDomUpdate:this.lastDomUpdate});for(const[t,r]of Object.entries(this.handlers)){e.addEventListener(t,r)}}get currentWidth(){return this.device.width*this.mirroringWindowToDeviceRatio}get currentHeight(){return this.device.height*this.mirroringWindowToDeviceRatio}get hasInitialDom(){return Boolean(this.domXml)}get isWaitingForOperation(){var e;return((e=this.asyncOperationPromise)===null||e===void 0?void 0:e.state)==="pending"}get platform(){var e;return((e=this.device.deviceType)!==null&&e!==void 0?e:"").toLowerCase()}get rootElementRect(){var e,t,r;return(r=(t=(e=this.rootMirrorElRef)===null||e===void 0?void 0:e.current)===null||t===void 0?void 0:t.getBoundingClientRect())!==null&&r!==void 0?r:{left:0,top:0}}async updateDom(){var e;if(this.isLoadingApp||this.playState==="playing"&&this.hasInitialDom){return}this.domRequestCounterSinceSessionStart++;const t=await this.getDom().catch((e=>{var t,r;this.failedDomRequestCounterSinceSessionStart++;if(e instanceof M.TypedHttpError){if(e.originalResponse instanceof TypeError&&e.originalResponse.message==="Failed to fetch"){return undefined}if(e.status===404&&((r=(t=e.response)===null||t===void 0?void 0:t.value)===null||r===void 0?void 0:r.message)==="A session is either terminated or not started"){return undefined}}F.warn("Failed to get DOM",{mirroringHealth:this.getMirroringHealthWithoutErrors(),domRequestCounterSinceSessionStart:this.domRequestCounterSinceSessionStart,failedDomRequestCounterSinceSessionStart:this.failedDomRequestCounterSinceSessionStart,err:e});return undefined}));if(!t){return}this.lastDomUpdate=Date.now();const r=(e=this.domXml)===null||e===void 0?void 0:e.innerHTML;this.domXml=t.documentElement;const n=this.domXml.innerHTML;if(r!==n||this.DOMOverlay.ratio!==this.mirroringWindowToDeviceRatio){this.updateDomOverlay()}}abortPendingDomRequest(){var e;(e=this.pendingDomRequestAbortController)===null||e===void 0?void 0:e.abort("aborted pending dom requests");this.pendingDom=false}async getDom(){if(!this.appiumApi){return undefined}this.pendingDom=true;try{this.pendingDomRequestAbortController=new AbortController;if(this.device.deviceType==="iOS"){return await this.appiumApi.ios.getSource({excludedAttributes:["accessible"],abortSignal:this.pendingDomRequestAbortController.signal})}return await this.appiumApi.getDom(this.pendingDomRequestAbortController.signal)}finally{this.pendingDom=false}}updateDomOverlay(){this.DOMOverlay.ratio=this.mirroringWindowToDeviceRatio;this.DOMOverlay.innerHTML=`\n            <style>\n                *, *:before, *:after {\n                    box-sizing: border-box;\n                }\n            </style>`;this.DOMOverlay.appendChild((0,g.cloneToDOMOverlay)(this.domXml,this.mirroringWindowToDeviceRatio,this.device))}getElementBoundsByXpath(e){var t;if(!((t=this.domXml)===null||t===void 0?void 0:t.ownerDocument)){return"missing appium DOM"}const r=this.domXml.ownerDocument.evaluate(e,this.domXml.ownerDocument,null,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue;if(!r){return"element not found"}const[n,i]=this.device.deviceType==="Android"?[this.device.scaleFactor,this.device.scaleFactor]:[this.device.height/this.device.appiumHeight,this.device.width/this.device.appiumWidth];const o=(0,P.parseBoundsFromElement)(r);o.left*=n;o.top*=i;o.width*=n;o.height*=i;return o}pollDOM(){if(this.getDomInterval){return}this.updateDom();this.getDomInterval=window.setInterval((async()=>{if(this.pendingDom){return}this.updateDom()}),f.DOM_POLL_INTERVAL)}elementFromPoint(e,t="locator"){var r;try{const n=this.DOMOverlay.lastChild;if(!(n instanceof HTMLElement)){console.warn("Missing dom overlay");return null}(r=this.rootMirrorElRef.current)===null||r===void 0?void 0:r.appendChild(N);const i=(0,g.elementFromPoint)(n,e);if(!i){return null}if(i.getAttribute("visible")==="false"){return null}if(t==="metadata"){return this.getMetadataFromElement(i)}return this.getLocatorFromElement(i,e)}finally{N.remove()}}getCurrentDomAsString(){var e;return((e=this.domXml)===null||e===void 0?void 0:e.innerHTML)||""}saveDom(e,t){const r="application/xml";const n=L();if(!this.recordingConfig){return}const i=this.testimServicesApi.storage.getProjectArtifactPath(`DOM/${n}`,this.recordingConfig.projectId);this.testimServicesApi.storage.uploadProjectArtifact(i,n,t,r);e.domLocation=i}getElementImageStoragePathAndFileName(e){const t=`${L()}.png`;const r=this.testimServicesApi.storage.getStorageRelativePath(`${x.ArtifactsSubTypes.ELEMENT_IMAGE_FILE}/${t}`,x.PROJECT_ARTIFACTS_BUCKET,e);return{storagePath:r,fileName:t}}async saveElementImage(e,t){if(!this.appiumApi||!this.recordingConfig||!e){return}const r=x.MIME_TYPES.PNG;const{data:n}=(0,A.convertDataURIToBinary)(e);if(!n){throw new Error("failed to convert image url")}const i=t.fileName;const o=t.storagePath;this.testimServicesApi.storage.uploadFile(o,{fileName:i,mimeType:r,file:new Blob([n.buffer],{type:r})})}async cropAndSaveElementImage(t,n){var i,o;const a=r(93);const s=(o=(i=t===null||t===void 0?void 0:t.class)===null||i===void 0?void 0:i.currentValue)===null||o===void 0?void 0:o.toLocaleLowerCase();if(!n||!((s===null||s===void 0?void 0:s.includes("image"))||(s===null||s===void 0?void 0:s.includes("button")))){return}if(!this.recordingConfig||!this.appiumApi){return}const u=this.getElementImageStoragePathAndFileName(this.recordingConfig.projectId);if(t.imageLocation){t.imageLocation.setCurrentValue(u.storagePath,false)}else{t.imageLocation=new E.ManualSelector(u.storagePath)}const l=await this.appiumApi.getScreenshot();try{const t=e.from(l,"base64");const r=await a.default.read(t);const i=await r.crop(n.left,n.top,n.width,n.height);const o=await i.getBase64Async(a.default.AUTO);this.saveElementImage(o,u)}catch(e){console.log(e)}}getElementRect(e){const t=(0,P.parseBoundsFromElement)(e);return{left:t.left,top:t.top,width:t.width,height:t.height,pixelRatio:this.device.scaleFactor}}getMetadataFromElement(e){var t;const r=this.getElementRect(e);const[n,i]=this.device.deviceType==="Android"?[this.device.scaleFactor,this.device.scaleFactor]:[this.device.height/this.device.appiumHeight,this.device.width/this.device.appiumWidth];r.width*=n;r.height*=i;r.top*=i;r.left*=n;return{targetName:(t=e.getAttribute("target-name"))!==null&&t!==void 0?t:"",nodeName:e.getAttribute("node-name"),screenImageHighlight:r}}getLocatorFromElement(e,t){var r;const n=(0,P.parseBoundsFromElement)(e);const i=(r=this.recordingConfig)===null||r===void 0?void 0:r.device;const o=(0,P.getElementXpath)(e).replace("hierarchy","").replace("AppiumAUT","");const a=this.getElementRect(e);a.height*=this.device.scaleFactor;a.width*=this.device.scaleFactor;a.top*=this.device.scaleFactor;a.left*=this.device.scaleFactor;const s=w.MobileLocatorFactory.createMobileLocatorFromElement(e,i);I.AlgoUtils.Logging.log("Mobile Locator Was Created",s,a);const u=this.rootElementRect.top;const l=t&&{x:Math.round(t.x/this.mirroringWindowToDeviceRatio/this.device.scaleFactor),y:Math.round((t.y-u)/this.mirroringWindowToDeviceRatio/this.device.scaleFactor)};return{elementText:e.getAttribute("value")||e.getAttribute("text")||e.getAttribute("target-name")||"",nodeName:e.getAttribute("node-name"),screenImageHighlight:a,element:{type:"mobile-locate",xpath:o,mobileLocator:s,elementPositionInfoAtRecording:{deviceWidth:this.device.width/this.device.scaleFactor,deviceHeight:this.device.height/this.device.scaleFactor,deviceScaleRatio:this.device.scaleFactor,elementAbsoluteWidth:n.width,elementAbsoluteHeight:n.height,elementAbsoluteX:n.left,elementAbsoluteY:n.top,elementRelativeTapX:l?l.x-n.left:NaN,elementRelativeTapY:l?l.y-n.top:NaN},thumbnailInfo:{elementArea:a},forceVisibility:true}}}async setTextOnElement(e,t){const r=await this.appiumApi.getElementId(e);await this.appiumApi.clear(r);await this.appiumApi.typeKeys(r,t);if(this.device.deviceType==="iOS"){if(!this.recordingConfig.mobileCloseKeyboardOnSetTextInIos){return}await k.utils.delay(500);const e=await this.appiumApi.isKeyboardShown().catch((()=>false));if(e){await this.appiumApi.typeKeys(r,"\n")}return}try{await this.hideKeyboard()}catch(e){F.warn("Failed to hide keyboard",e)}}async hideKeyboard(){await this.appiumApi.hideKeyboard(500)}async updateScreenshot(e){if(!this.appiumApi||!this.recordingConfig){return}const t=await this.takeScreenshot();this.updateStepWithExistingScreenshot(e,t)}async takeScreenshot(){if(!this.appiumApi||!this.recordingConfig){return undefined}let e;try{e=await this.appiumApi.getScreenshot()}catch(e){F.warn("Failed to take screenshot",e);return undefined}const t=j(e);return await(0,y.ImageUploader)(this.recordingConfig.storageType).uploadImage({imageURL:t,storageBaseUrl:this.recordingConfig.storageBaseUrl,projectId:this.recordingConfig.projectId})}async wrapAsyncOperationWithLoader(e){const t=(0,R.fromPromise)(e());this.asyncOperationPromise=t;return await t}updateStepWithExistingScreenshot(e,t){const r={screenImage:t,element:{thumbnailInfo:{image:t}}};this.messagingService.postMessage(h.commonConstants.scenario.UPDATE_STEP,{stepId:e,stepData:r})}setRootMirrorElementRef(e){this.rootMirrorElRef=e}};t.RecordingService=B;n([c.observable.ref,i("design:type",Object)],B.prototype,"recordingConfig",void 0);n([c.observable.ref,i("design:type",Object)],B.prototype,"device",void 0);n([c.observable.ref,i("design:type",String)],B.prototype,"customProgressMessage",void 0);n([c.observable.ref,i("design:type",Object)],B.prototype,"mirroringWindowToDeviceRatio",void 0);n([c.observable.ref,i("design:type",Object)],B.prototype,"isLoadingApp",void 0);n([c.observable.ref,i("design:type",Object)],B.prototype,"isRecording",void 0);n([c.observable.ref,i("design:type",typeof(s=typeof HTMLElement!=="undefined"&&HTMLElement)==="function"?s:Object)],B.prototype,"domXml",void 0);n([c.observable.ref,i("design:type",Object)],B.prototype,"asyncOperationPromise",void 0);n([c.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"currentWidth",null);n([c.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"currentHeight",null);n([c.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"hasInitialDom",null);n([c.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"isWaitingForOperation",null);n([c.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"platform",null);t.RecordingService=B=n([(0,p.injectable)(),i("design:paramtypes",[typeof(o=typeof v.MessagingService!=="undefined"&&v.MessagingService)==="function"?o:Object,typeof(a=typeof S.TestimServicesApi!=="undefined"&&S.TestimServicesApi)==="function"?a:Object])],B);const U=D.container.get(B);O.switchboard.expose("recordingService",U);t.getMirroringInfoForLogs=l.throttle((()=>JSON.stringify(U.getMirroringHealthWithoutErrors())),100);T.Logger.setGlobalInfoGetter("health",t.getMirroringInfoForLogs)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o;Object.defineProperty(t,"__esModule",{value:true});t.MessagingService=void 0;const a=r(7);const s=r(16);const u=r(57);const l=r(43);const c=r(51);const f=r(185);const h=r(6);let d=class e{constructor(e){this.listeners=new Map;this.onMessage=e=>{var t;const{command:r}=e;const n=(t=this.listeners.get(r))!==null&&t!==void 0?t:[];n.forEach((t=>t(e)))};this.onDisconnect=()=>{this.port.onMessage.removeListener(this.onMessage);this.port.onDisconnect.removeListener(this.onDisconnect);this.port=null};this.port=chrome.runtime.connect({name:a.commonConstants.host.DEVICE_MIRRORING_PORT});this.addEventListener(a.commonConstants.host.CONNECTED,(({data:t})=>{var r,n;h.Logger.setGlobalInfo({user:{email:(r=t.loginData)===null||r===void 0?void 0:r.email,uid:(n=t.loginData)===null||n===void 0?void 0:n.uid}});e.setLoginData(t.loginData);this._editorSessionId=t.sessionId;c.switchboard.registerToScope(t.sessionId);c.switchboard.on(f.sessionEvents.REPLACED,(({oldSessionId:e,newSessionId:t})=>{if(this._editorSessionId===e){this._editorSessionId=t;c.switchboard.registerToScope(t)}}));const i={...l.deviceFromParams,editorSessionId:this._editorSessionId};this.port.postMessage({command:a.commonConstants.host.CONNECTED_ACK,data:i})}));this.port.onMessage.addListener(this.onMessage);this.port.onDisconnect.addListener(this.onDisconnect)}get editorSessionId(){return this._editorSessionId}addEventListener(e,t){if(!this.listeners.has(e)){this.listeners.set(e,[])}const r=this.listeners.get(e);r.push(t)}removeEventListener(e,t){if(!this.listeners.has(e)){return}const r=this.listeners.get(e);const n=r.indexOf(t);if(n!==-1){r.splice(n,1)}}postMessage(e,t,r){this.port.postMessage({command:e,data:t,transactionId:r})}destroy(){if(this.port){this.port.disconnect()}}};t.MessagingService=d;t.MessagingService=d=n([(0,s.injectable)(),i("design:paramtypes",[typeof(o=typeof u.AuthenticationService!=="undefined"&&u.AuthenticationService)==="function"?o:Object])],d)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o;Object.defineProperty(t,"__esModule",{value:true});t.AuthenticationService=void 0;const a=r(11);const s=r(183);const u=r(6);const l=r(9);const c=r(7);const f=r(58);const h=r(16);const d=r(23);const p=r(0);const v=u.Logger.getLogger("auth-manager");const m=5*60*1e3;let g=class e extends f.EventEmitter{constructor(e){super();this.featureFlagService=e;this._loginData=null}get isAdmin(){var e;return this.isLoggedIn()&&Boolean((e=this.getLoggedUserInfo().adminSettings)===null||e===void 0?void 0:e.isAdmin)}get isSuperAdmin(){const{isAdmin:e,adminGroup:t,companyAllowPrivileges:r,companyBlockList:n,defaultAdminPrivileges:i}=this.getLoggedUserInfo().adminSettings||{};return this.isLoggedIn()&&Boolean(e)&&a.isEmpty(r)&&a.isEmpty(n)&&t===undefined&&!["readOnly","none"].includes(i)}get loginData(){if(this._loginData){return this._loginData}const e=l.utils.getStorage().getItem("loginData");try{return JSON.parse(e||"")}catch{return null}}logout(e=""){this._loginData=null;this.trigger(c.commonConstants.scenario.APP_LOGOUT,{logoutReason:e});l.utils.getStorage().removeItem("loginData");l.utils.getStorage().removeItem("isNewUser")}jwtDecode(e){if(e){try{return(0,s.default)(e)}catch(e){v.warn("failed to decode token",e);return{}}}return{}}setRefreshToken(e){const t=this._loginData;if(t){t.refreshToken=e;this._loginData=t;this.setCachedLoginData(this._loginData)}}setLoginData(e){const t=e?this.jwtDecode(e.token):{};this._loginData=t&&Object.assign({},e,{tokenExpIn:(t.exp||1)*1e3});this.setCachedLoginData(this._loginData)}login(e){var t,r,n,i,o,a;if(!e.uid){this.logout();return}Object.assign(e,{adminSettings:{isAdmin:Boolean((t=e.adminSettings)===null||t===void 0?void 0:t.isAdmin),adminGroup:(r=e.adminSettings)===null||r===void 0?void 0:r.adminGroup,defaultAdminPrivileges:(n=e.adminSettings)===null||n===void 0?void 0:n.defaultAdminPrivileges,companyAllowPrivileges:(i=e.adminSettings)===null||i===void 0?void 0:i.companyAllowPrivileges,companyBlockList:(o=e.adminSettings)===null||o===void 0?void 0:o.companyBlockList}});this.setLoginData(e);this.featureFlagService.setEmail(e.email);this.featureFlagService.isAdmin((a=e.adminSettings)===null||a===void 0?void 0:a.isAdmin);this.trigger(c.commonConstants.scenario.APP_LOGIN,e)}updateDataOnRefreshToken(e){var t;v.log("updateDataOnRefreshToken",{isLoggedIn:this.isLoggedIn(),doesDataExist:Boolean(e),doesTokenExist:Boolean(e===null||e===void 0?void 0:e.token)});if(!this.isLoggedIn()){return}const r=this.jwtDecode(e.token);const n=Object.assign({},this._loginData,{token:e.token,refreshToken:e.refreshToken||((t=this._loginData)===null||t===void 0?void 0:t.refreshToken),tokenExpIn:(r.exp||1)*1e3});this.setCachedLoginData(n);this._loginData=n}isLoggedIn(){return this.isLoginDataExist()}isTokenAlive(e=this.loginData,t=m){return(e===null||e===void 0?void 0:e.tokenExpIn)&&(e===null||e===void 0?void 0:e.tokenExpIn)>Date.now()+t}setCachedLoginData(e){const t=a.clone(e);t.isNew=false;if(t&&t.uid===c.commonConstants.defaults.FAKE_CODE_USER_ID){return}l.utils.getStorage().setItem("loginData",JSON.stringify(t))}updatePreferences(e){if(this.isLoginDataExist(this._loginData)){this._loginData.preferences=e;this.setCachedLoginData(this._loginData)}}updateRole(e){if(this.isLoginDataExist(this._loginData)&&!a.isEmpty(e)){this._loginData.role=e;this.setCachedLoginData(this._loginData)}}updateName(e){if(this.isLoginDataExist(this._loginData)&&e){this._loginData.name=e;this.setCachedLoginData(this._loginData)}}updatePhoneNumber(e){if(this.isLoginDataExist(this._loginData)&&e){this._loginData.phoneNumber=e;this.setCachedLoginData(this._loginData)}}getBasicUserInfo(){const e=this._loginData;return{uid:(e===null||e===void 0?void 0:e.uid)||null}}getToken(){var e;return(e=this._loginData)===null||e===void 0?void 0:e.token}getRefreshToken(){var e;return(e=this._loginData)===null||e===void 0?void 0:e.refreshToken}getLoggedUserInfo(){var e,t,r,n,i;const o=this._loginData;if(this.featureFlagService.flags.dontWrapUnwrapLoginData.isEnabled()){return o||{}}if(a.isEmpty(o)){return{uid:null,email:null,error:"not logged in"}}return{email:o.email||"",name:o.name||"",uid:o.uid,phone:o.phoneNumber||"",token:o.token,isNew:o.isNew,provider:o.provider||"google.com",preferences:o.preferences||{},photoURL:o.photoURL,role:o.role,adminSettings:{isAdmin:Boolean((e=o.adminSettings)===null||e===void 0?void 0:e.isAdmin),adminGroup:(t=o.adminSettings)===null||t===void 0?void 0:t.adminGroup,defaultAdminPrivileges:(r=o.adminSettings)===null||r===void 0?void 0:r.defaultAdminPrivileges,companyAllowPrivileges:(n=o.adminSettings)===null||n===void 0?void 0:n.companyAllowPrivileges,companyBlockList:(i=o.adminSettings)===null||i===void 0?void 0:i.companyBlockList}}}isLoginDataExist(e=this._loginData){return!a.isEmpty(e)}};t.AuthenticationService=g;n([p.observable,i("design:type",Object)],g.prototype,"_loginData",void 0);n([p.computed,i("design:type",Object),i("design:paramtypes",[])],g.prototype,"isAdmin",null);n([p.computed,i("design:type",Object),i("design:paramtypes",[])],g.prototype,"isSuperAdmin",null);t.AuthenticationService=g=n([(0,h.injectable)(),i("design:paramtypes",[typeof(o=typeof d.FeatureFlagsService!=="undefined"&&d.FeatureFlagsService)==="function"?o:Object])],g)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:true});t.EventEmitter=void 0;r(50);const i=r(11);const o=r(16);let a=class e{constructor(){this.eventListeners=new Map}listenersByEvent(e,t){const r=this.eventListeners;e||(e="");if(t&&!r.has(e)){r.set(e,[])}return r.get(e)}cleanup(){const e=this.eventListeners;e.forEach(((t,r)=>{if(!t.length){e.delete(r)}}))}on(e,t,r,n){if(!e){window.console.error("cannot register to empty event")}else if(Array.isArray(e)){e.forEach((e=>this.on(e,t,r)))}else if(typeof t==="function"){const i=this.listenersByEvent(e,true);i.push({scope:r,callback:t,options:n})}else{window.console.error("events mixin addListener: bad callback",t)}return this}off(e,t){if(!e&&!t){return this}if(!t&&typeof e==="object"&&!Array.isArray(e)){t=e;e=null}if(Array.isArray(e)){e.forEach((e=>this.off(e,t)));return this}function r(e){return e&&(!t||e.scope===t||e.callback===t)}this.eventListeners.forEach(((t,n)=>{if(!e||e===n){i.remove(t,r)}}));this.cleanup();return this}removeAllListeners(){this.eventListeners.clear();return this}trigger(e,...t){const r=this.listenersByEvent(e);if(!(r===null||r===void 0?void 0:r.length)){return}const n=r.slice();const o=[];n.forEach((e=>{var r;e.callback.apply(e.scope,t);if(((r=e.options)===null||r===void 0?void 0:r.count)&&--e.options.count<=0){o.push(e)}}));if(o.length){o.forEach((e=>i.remove(r,(t=>t===e))));this.cleanup()}}once(e,t,r,n){n||(n={});n.count=1;return this.on(e,t,r,n)}};t.EventEmitter=a;t.EventEmitter=a=n([(0,o.injectable)()],a)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.cropImageIntoPieces=t.measureSync=t.measureAsync=t.AlgoUtils=void 0;var n;(function(e){e.getDebugMode=()=>typeof localStorage!=="undefined"&&localStorage.getItem("algo_logs")==="verbose";e.Logging={log(...t){if(e.getDebugMode()){console.log(...t)}else{}},warn(...t){if(e.getDebugMode()){console.warn(...t)}else{}},error(...t){if(e.getDebugMode()){console.error(...t)}else{}}};class t{constructor(e="",t=0){this.logCounter=0;this.identifier=t;this.prefixLog=e}log(t){this.logCounter++;const r=`${this.prefixLog}${this.identifier.toString()}`;e.Logging.log(r,this.logCounter,t)}setIdentifier(e){this.identifier=e}}e.IncrementLogger=t;function r(t,...r){const n=performance.now();const i=t(...r);const o=performance.now();e.Logging.log(`${t.name}: time - ${(o-n).toFixed(2)} milliseconds`);return i}e.logFunctionExecutionTime=r;async function n(t,...r){const n=performance.now();const i=await t(...r);const o=performance.now();e.Logging.log(`${t.name}: time - ${(o-n).toFixed(2)} milliseconds`);return i}e.logAsyncFunctionExecutionTime=n})(n||(t.AlgoUtils=n={}));const i=(e,t,r)=>{const i=r.value;r.value=async function(...e){const r=performance.now();const o=await i.apply(this,e);const a=performance.now();n.Logging.log(`${t}: time - ${(a-r).toFixed(2)} milliseconds`);return o};return r};t.measureAsync=i;const o=(e,t,r)=>{const i=r.value;r.value=function(...e){const r=performance.now();const o=i.apply(this,e);const a=performance.now();n.Logging.log(`${t}: time - ${(a-r).toFixed(2)} milliseconds`);return o};return r};t.measureSync=o;async function a(t,i){const o=r(93);if(!(i===null||i===void 0?void 0:i.length)){n.Logging.warn("No candidate list areas in cropImageIntoPieces");return[]}n.Logging.log(`Number of image areas to crop: ${i.length}`);const a=e.from(t,"base64");const s=await o.default.read(a);let u=[];const l=i.map((async e=>{try{const t=await s.clone().crop(e.left,e.top,e.width,e.height);const r=await t.getBufferAsync(o.default.AUTO);const n=r.toString("base64");return n}catch(e){n.Logging.warn("Error while cropping image: ",e);return null}}));u=(await Promise.all(l)).filter((e=>e!==null));n.Logging.log(`Number of image cropped candidates: ${u.length}`);return u}t.cropImageIntoPieces=a}).call(this,r(1).Buffer)},function(e,t,r){var n=r(204);var i=r(205);var o=r(95);var a=r(206);function s(e,t){return n(e)||i(e,t)||o(e,t)||a()}e.exports=s,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){},function(e,t,r){(function(e){function r(e,t){var r=0;for(var n=e.length-1;n>=0;n--){var i=e[n];if(i==="."){e.splice(n,1)}else if(i===".."){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t){for(;r--;r){e.unshift("..")}}return e}t.resolve=function(){var t="",n=false;for(var o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if(typeof a!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!a){continue}t=a+"/"+t;n=a.charAt(0)==="/"}t=r(i(t.split("/"),(function(e){return!!e})),!n).join("/");return(n?"/":"")+t||"."};t.normalize=function(e){var n=t.isAbsolute(e),a=o(e,-1)==="/";e=r(i(e.split("/"),(function(e){return!!e})),!n).join("/");if(!e&&!n){e="."}if(e&&a){e+="/"}return(n?"/":"")+e};t.isAbsolute=function(e){return e.charAt(0)==="/"};t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if(typeof e!=="string"){throw new TypeError("Arguments to path.join must be strings")}return e})).join("/"))};t.relative=function(e,r){e=t.resolve(e).substr(1);r=t.resolve(r).substr(1);function n(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var i=n(e.split("/"));var o=n(r.split("/"));var a=Math.min(i.length,o.length);var s=a;for(var u=0;u<a;u++){if(i[u]!==o[u]){s=u;break}}var l=[];for(var u=s;u<i.length;u++){l.push("..")}l=l.concat(o.slice(s));return l.join("/")};t.sep="/";t.delimiter=":";t.dirname=function(e){if(typeof e!=="string")e=e+"";if(e.length===0)return".";var t=e.charCodeAt(0);var r=t===47;var n=-1;var i=true;for(var o=e.length-1;o>=1;--o){t=e.charCodeAt(o);if(t===47){if(!i){n=o;break}}else{i=false}}if(n===-1)return r?"/":".";if(r&&n===1){return"/"}return e.slice(0,n)};function n(e){if(typeof e!=="string")e=e+"";var t=0;var r=-1;var n=true;var i;for(i=e.length-1;i>=0;--i){if(e.charCodeAt(i)===47){if(!n){t=i+1;break}}else if(r===-1){n=false;r=i+1}}if(r===-1)return"";return e.slice(t,r)}t.basename=function(e,t){var r=n(e);if(t&&r.substr(-1*t.length)===t){r=r.substr(0,r.length-t.length)}return r};t.extname=function(e){if(typeof e!=="string")e=e+"";var t=-1;var r=0;var n=-1;var i=true;var o=0;for(var a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(s===47){if(!i){r=a+1;break}continue}if(n===-1){i=false;n=a+1}if(s===46){if(t===-1)t=a;else if(o!==1)o=1}else if(t!==-1){o=-1}}if(t===-1||n===-1||o===0||o===1&&t===n-1&&t===r+1){return""}return e.slice(t,n)};function i(e,t){if(e.filter)return e.filter(t);var r=[];for(var n=0;n<e.length;n++){if(t(e[n],n,e))r.push(e[n])}return r}var o="ab".substr(-1)==="b"?function(e,t,r){return e.substr(t,r)}:function(e,t,r){if(t<0)t=e.length+t;return e.substr(t,r)}}).call(this,r(3))},function(e,t){e.exports=n;var r=Object.prototype.hasOwnProperty;function n(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(r.call(n,i)){e[i]=n[i]}}}return e}},function(e,t,r){"use strict";(function(t){var n=r(37);function i(e,t){if(e===t){return 0}var r=e.length;var n=t.length;for(var i=0,o=Math.min(r,n);i<o;++i){if(e[i]!==t[i]){r=e[i];n=t[i];break}}if(r<n){return-1}if(n<r){return 1}return 0}function o(e){if(t.Buffer&&typeof t.Buffer.isBuffer==="function"){return t.Buffer.isBuffer(e)}return!!(e!=null&&e._isBuffer)}var a=r(15);var s=Object.prototype.hasOwnProperty;var u=Array.prototype.slice;var l=function(){return function e(){}.name==="foo"}();function c(e){return Object.prototype.toString.call(e)}function f(e){if(o(e)){return false}if(typeof t.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(e)}if(!e){return false}if(e instanceof DataView){return true}if(e.buffer&&e.buffer instanceof ArrayBuffer){return true}return false}var h=e.exports=b;var d=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(!a.isFunction(e)){return}if(l){return e.name}var t=e.toString();var r=t.match(d);return r&&r[1]}h.AssertionError=function e(t){this.name="AssertionError";this.actual=t.actual;this.expected=t.expected;this.operator=t.operator;if(t.message){this.message=t.message;this.generatedMessage=false}else{this.message=g(this);this.generatedMessage=true}var r=t.stackStartFunction||y;if(Error.captureStackTrace){Error.captureStackTrace(this,r)}else{var n=new Error;if(n.stack){var i=n.stack;var o=p(r);var a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}};a.inherits(h.AssertionError,Error);function v(e,t){if(typeof e==="string"){return e.length<t?e:e.slice(0,t)}else{return e}}function m(e){if(l||!a.isFunction(e)){return a.inspect(e)}var t=p(e);var r=t?": "+t:"";return"[Function"+r+"]"}function g(e){return v(m(e.actual),128)+" "+e.operator+" "+v(m(e.expected),128)}function y(e,t,r,n,i){throw new h.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}h.fail=y;function b(e,t){if(!e)y(e,true,t,"==",h.ok)}h.ok=b;h.equal=function e(t,r,n){if(t!=r)y(t,r,n,"==",h.equal)};h.notEqual=function e(t,r,n){if(t==r){y(t,r,n,"!=",h.notEqual)}};h.deepEqual=function e(t,r,n){if(!_(t,r,false)){y(t,r,n,"deepEqual",h.deepEqual)}};h.deepStrictEqual=function e(t,r,n){if(!_(t,r,true)){y(t,r,n,"deepStrictEqual",h.deepStrictEqual)}};function _(e,t,r,n){if(e===t){return true}else if(o(e)&&o(t)){return i(e,t)===0}else if(a.isDate(e)&&a.isDate(t)){return e.getTime()===t.getTime()}else if(a.isRegExp(e)&&a.isRegExp(t)){return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase}else if((e===null||typeof e!=="object")&&(t===null||typeof t!=="object")){return r?e===t:e==t}else if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array)){return i(new Uint8Array(e.buffer),new Uint8Array(t.buffer))===0}else if(o(e)!==o(t)){return false}else{n=n||{actual:[],expected:[]};var s=n.actual.indexOf(e);if(s!==-1){if(s===n.expected.indexOf(t)){return true}}n.actual.push(e);n.expected.push(t);return E(e,t,r,n)}}function w(e){return Object.prototype.toString.call(e)=="[object Arguments]"}function E(e,t,r,n){if(e===null||e===undefined||t===null||t===undefined)return false;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return false;var i=w(e);var o=w(t);if(i&&!o||!i&&o)return false;if(i){e=u.call(e);t=u.call(t);return _(e,t,r)}var s=O(e);var l=O(t);var c,f;if(s.length!==l.length)return false;s.sort();l.sort();for(f=s.length-1;f>=0;f--){if(s[f]!==l[f])return false}for(f=s.length-1;f>=0;f--){c=s[f];if(!_(e[c],t[c],r,n))return false}return true}h.notDeepEqual=function e(t,r,n){if(_(t,r,false)){y(t,r,n,"notDeepEqual",h.notDeepEqual)}};h.notDeepStrictEqual=S;function S(e,t,r){if(_(e,t,true)){y(e,t,r,"notDeepStrictEqual",S)}}h.strictEqual=function e(t,r,n){if(t!==r){y(t,r,n,"===",h.strictEqual)}};h.notStrictEqual=function e(t,r,n){if(t===r){y(t,r,n,"!==",h.notStrictEqual)}};function T(e,t){if(!e||!t){return false}if(Object.prototype.toString.call(t)=="[object RegExp]"){return t.test(e)}try{if(e instanceof t){return true}}catch(e){}if(Error.isPrototypeOf(t)){return false}return t.call({},e)===true}function A(e){var t;try{e()}catch(e){t=e}return t}function x(e,t,r,n){var i;if(typeof t!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof r==="string"){n=r;r=null}i=A(t);n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:".");if(e&&!i){y(i,r,"Missing expected exception"+n)}var o=typeof n==="string";var s=!e&&a.isError(i);var u=!e&&i&&!r;if(s&&o&&T(i,r)||u){y(i,r,"Got unwanted exception"+n)}if(e&&i&&r&&!T(i,r)||!e&&i){throw i}}h.throws=function(e,t,r){x(true,e,t,r)};h.doesNotThrow=function(e,t,r){x(false,e,t,r)};h.ifError=function(e){if(e)throw e};function D(e,t){if(!e)y(e,true,t,"==",D)}h.strict=n(D,h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual});h.strict.strict=h.strict;var O=Object.keys||function(e){var t=[];for(var r in e){if(s.call(e,r))t.push(r)}return t}}).call(this,r(5))},function(e,t,r){"use strict";function n(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}e.exports=n},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EDGE_CROP=t.EDGE_WRAP=t.EDGE_EXTEND=t.BLEND_EXCLUSION=t.BLEND_DIFFERENCE=t.BLEND_HARDLIGHT=t.BLEND_LIGHTEN=t.BLEND_DARKEN=t.BLEND_OVERLAY=t.BLEND_SCREEN=t.BLEND_ADD=t.BLEND_MULTIPLY=t.BLEND_DESTINATION_OVER=t.BLEND_SOURCE_OVER=t.VERTICAL_ALIGN_BOTTOM=t.VERTICAL_ALIGN_MIDDLE=t.VERTICAL_ALIGN_TOP=t.HORIZONTAL_ALIGN_RIGHT=t.HORIZONTAL_ALIGN_CENTER=t.HORIZONTAL_ALIGN_LEFT=t.AUTO=void 0;var n=-1;t.AUTO=n;var i=1;t.HORIZONTAL_ALIGN_LEFT=i;var o=2;t.HORIZONTAL_ALIGN_CENTER=o;var a=4;t.HORIZONTAL_ALIGN_RIGHT=a;var s=8;t.VERTICAL_ALIGN_TOP=s;var u=16;t.VERTICAL_ALIGN_MIDDLE=u;var l=32;t.VERTICAL_ALIGN_BOTTOM=l;var c="srcOver";t.BLEND_SOURCE_OVER=c;var f="dstOver";t.BLEND_DESTINATION_OVER=f;var h="multiply";t.BLEND_MULTIPLY=h;var d="add";t.BLEND_ADD=d;var p="screen";t.BLEND_SCREEN=p;var v="overlay";t.BLEND_OVERLAY=v;var m="darken";t.BLEND_DARKEN=m;var g="lighten";t.BLEND_LIGHTEN=g;var y="hardLight";t.BLEND_HARDLIGHT=y;var b="difference";t.BLEND_DIFFERENCE=b;var _="exclusion";t.BLEND_EXCLUSION=_;var w=1;t.EDGE_EXTEND=w;var E=2;t.EDGE_WRAP=E;var S=3;t.EDGE_CROP=S},function(e,t,r){"use strict";var n=r(18).assign;var i=r(270);var o=r(271);var a=r(67);var s={};n(s,i,o,a);e.exports=s},function(e,t,r){"use strict";(function(t){class r{constructor(...e){if(e.length===0){throw new Error("constructor requires parameters")}const n=e[0];if(n!==null&&typeof n==="object"){if(n instanceof r){const e=n.bitmap;this.bitmap={width:e.width,height:e.height,data:new t(e.width*e.height*4)};e.data.copy(this.bitmap.data)}else if(n.width&&n.height&&n.data){this.bitmap=n}else{throw new Error("unrecognized constructor parameters")}}else if(typeof n==="number"&&typeof e[1]==="number"){const r=n;const i=e[1];const o=e[2];this.bitmap={width:r,height:i};if(t.isBuffer(o)){this.bitmap.data=o}else{this.bitmap.data=new t(r*i*4);if(typeof o==="number"){this.fillRGBA(o)}}}else{throw new Error("unrecognized constructor parameters")}}blit(e,t,r,n,i,o,a){if(n+o>this.bitmap.width){throw new Error("copy exceeds width of source bitmap")}if(t+o>e.bitmap.width){throw new Error("copy exceeds width of target bitmap")}if(i+a>this.bitmap.height){throw new Error("copy exceeds height of source bitmap")}if(r+a>e.bitmap.height){throw new Erro("copy exceeds height of target bitmap")}const s=this.bitmap.data;const u=e.bitmap.data;const l=this.bitmap.width*4;const c=e.bitmap.width*4;const f=o*4;let h=i*l+n*4;let d=r*c+t*4;while(--a>=0){s.copy(u,d,h,h+f);h+=l;d+=c}return this}fillRGBA(e){const t=this.bitmap.data;const r=this.bitmap.height*4;let n=0;while(n<r){t.writeUInt32BE(e,n);n+=4}while(n<t.length){t.copy(t,n,0,r);n+=r}return this}getRGBA(e,t){const r=(t*this.bitmap.width+e)*4;return this.bitmap.data.readUInt32BE(r)}getRGBASet(){const e=new Set;const t=this.bitmap.data;for(let r=0;r<t.length;r+=4){e.add(t.readUInt32BE(r,true))}return e}greyscale(){const e=this.bitmap.data;this.scan(0,0,this.bitmap.width,this.bitmap.height,((t,r,n)=>{const i=Math.round(.299*e[n]+.587*e[n+1]+.114*e[n+2]);e[n]=i;e[n+1]=i;e[n+2]=i}));return this}reframe(e,t,n,i,o){const a=e<0?0:e;const s=t<0?0:t;const u=n+a>this.bitmap.width?this.bitmap.width-a:n;const l=i+s>this.bitmap.height?this.bitmap.height-s:i;const c=e<0?-e:0;const f=t<0?-t:0;let h;if(o===undefined){if(a!==e||s!=t||u!==n||l!==i){throw new GifError(`fillRGBA required for this reframing`)}h=new r(n,i)}else{h=new r(n,i,o)}this.blit(h,c,f,a,s,u,l);this.bitmap=h.bitmap;return this}scale(e){if(e===1){return}if(!Number.isInteger(e)||e<1){throw new Error("the scale must be an integer >= 1")}const r=this.bitmap.width;const n=this.bitmap.height;const i=r*e*4;const o=this.bitmap.data;const a=new t(n*i*e);let s=0;let u;let l=0;for(let t=0;t<n;++t){u=l;for(let t=0;t<r;++t){const t=o.readUInt32BE(s,true);for(let r=0;r<e;++r){a.writeUInt32BE(t,l);l+=4}s+=4}for(let t=1;t<e;++t){a.copy(a,l,u,l);l+=i;u+=i}}this.bitmap={width:r*e,height:n*e,data:a};return this}scanAllCoords(e){const t=this.bitmap.width;const r=this.bitmap.data.length;let n=0;let i=0;for(let o=0;o<r;o+=4){e(n,i,o);if(++n===t){n=0;++i}}}scanAllIndexes(e){const t=this.bitmap.data.length;for(let r=0;r<t;r+=4){e(r)}}}e.exports=r}).call(this,r(1).Buffer)},function(e,t,r){"use strict";const n=r(70);const{GifError:i}=r(47);class o extends n{constructor(...e){super(...e);if(e[0]instanceof o){const t=e[0];this.xOffset=t.xOffset;this.yOffset=t.yOffset;this.disposalMethod=t.disposalMethod;this.delayCentisecs=t.delayCentisecs;this.interlaced=t.interlaced}else{const t=e[e.length-1];let r={};if(typeof t==="object"&&!(t instanceof n)){r=t}this.xOffset=r.xOffset||0;this.yOffset=r.yOffset||0;this.disposalMethod=r.disposalMethod!==undefined?r.disposalMethod:o.DisposeToBackgroundColor;this.delayCentisecs=r.delayCentisecs||8;this.interlaced=r.interlaced||false}}getPalette(){const e=new Set;const t=this.bitmap.data;let r=0;let n=false;while(r<t.length){if(t[r+3]===0){n=true}else{const n=t.readUInt32BE(r,true)>>8&16777215;e.add(n)}r+=4}const i=new Array(e.size);const o=e.values();for(r=0;r<i.length;++r){i[r]=o.next().value}i.sort(((e,t)=>e-t));let a=i.length;if(n){++a}return{colors:i,usesTransparency:n,indexCount:a}}}o.DisposeToAnything=0;o.DisposeNothing=1;o.DisposeToBackgroundColor=2;o.DisposeToPrevious=3;t.GifFrame=o},function(e,t,r){"use strict";(function(e){var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:true});t.selectorsConfig=t.generatedValueCreationFunc=t.selectorLocateOrder=t.AutoGeneratedSelector=t.ManualSelector=t.AbstractSelector=t.MOBILE_MATCHING_METHOD_OPTIONS_WITH_VALUES=t.MobileSelectorMatchMethod=t.SelectorDistanceType=t.xpathManipulations=t.IndexXpathType=t.getXpathWithoutClassNames=void 0;const o=r(0);function a(e,t){let r=e;if(r.startsWith("//")){r=r.substring(2)}let n=0;if(r.includes("/")){n=r.match(/[/]/g).length}let i="";for(let e=0;e<n+1;e++){const e=r.indexOf("[");const n=r.indexOf("/");if(e!==-1&&(n===-1||n>e)){if(t){const e=r.substring(0,r.indexOf("]")+1);i+=`${e}/`}else{const t=r.substring(e,r.indexOf("]")+1);i+=`*${t}/`}}else{i+="*/"}r=r.substring(r.indexOf("/")+1)}i=i.substring(0,i.length-1);return`//${i}`}t.getXpathWithoutClassNames=a;var s;(function(e){e["First"]="first";e["Last"]="last"})(s||(t.IndexXpathType=s={}));t.xpathManipulations={getXpathFromIndexType:(e,t,r=false)=>{if(!r)e=a(e,true);let n=e;if(n.startsWith("//")){n=n.substring(2)}let i="";let o;if(t===s.First){o=e.indexOf("]")}else if(t===s.Last){o=e.lastIndexOf("]")}else{return e}if(o!==-1){const t=e.substring(0,o).lastIndexOf("/");if(t!==-1){i=e.substring(t+1)}return`//${i}`}return""},removeXpathIndices:e=>e.replace(/\[[0-9]+\]/g,"[*]")};var u;(function(e){e["Euclidean"]="Euclidean";e["DomBfs"]="DomBfs"})(u||(t.SelectorDistanceType=u={}));var l;(function(e){e["Equals"]="Equals";e["Contains"]="Contains";e["StartsWith"]="StartsWith";e["EndsWith"]="EndsWith"})(l||(t.MobileSelectorMatchMethod=l={}));t.MOBILE_MATCHING_METHOD_OPTIONS_WITH_VALUES=Object.keys(l).map((e=>({name:e,value:e})));class c{get disabled(){return this._disabled}get lastValueEditByUser(){return this._isCurrentValueUserEdited}disable(){this._disabled=true}enable(){this._disabled=undefined}static isSelector(e,t){if(e&&e instanceof Object&&"selectorKind"in e){return t?e.selectorKind===t:true}return false}static isAttributeNameOfSelector(e,t,r){if(!e||!(e in t))return false;return c.isSelector(t[e],r)}}t.AbstractSelector=c;n([o.observable.ref,i("design:type",Boolean)],c.prototype,"_disabled",void 0);class f extends c{constructor(e){super();this.originalValue="";this._lastValueBeforeUserEdit="";this._currentValue="";this._isExpression=false;this._matchMethod=l.Equals;this.selectorKind="Manual";if(e){this._currentValue=e;this.originalValue=e;this._lastValueBeforeUserEdit=e}}get isExpression(){return Boolean(this._isExpression)}set isExpression(e){this._isExpression=e}get currentValue(){return this._currentValue}get matchMethod(){return this._matchMethod||l.Equals}set matchMethod(e){this._matchMethod=e}get lastValueBeforeUserEdit(){return this._lastValueBeforeUserEdit}revertUserEdits(){this.setCurrentValue(this._lastValueBeforeUserEdit,false)}setCurrentValue(e,t){this._currentValue=e;if(t){this._isCurrentValueUserEdited=true}else{this._isCurrentValueUserEdited=undefined;this._lastValueBeforeUserEdit=e}}}t.ManualSelector=f;if(e.env.isClickimEditor||false){(0,o.decorate)(f,{_currentValue:o.observable.ref})}class h extends c{constructor(e,t){super();this.selectorKind="AutoGenerated";this._xpath="";this.name=e;this._xpath=t.xpath.currentValue}get currentValue(){return d(this._xpath,this.name)}updateValues(e){this._xpath=e.xpath.currentValue}}t.AutoGeneratedSelector=h;t.selectorLocateOrder=["text","id","imageLocation","class","contentDesc","closestText","closestParentIndexOnlyXpath","indexOnlyXpath","xpathWithoutIndices","xpath"];function d(e,r){switch(r){case"closestParentIndexOnlyXpath":return t.xpathManipulations.getXpathFromIndexType(e,s.First);case"indexOnlyXpath":return t.xpathManipulations.getXpathFromIndexType(e,s.Last);case"xpathWithoutIndices":return t.xpathManipulations.removeXpathIndices(e);default:throw Error("AutoGenerated selector name given does not have a suitable function ingeneratedValueCreationFunc")}}t.generatedValueCreationFunc=d;t.selectorsConfig={id:{selectorType:"Manual",description:"In android: ResourceId. In ios: Name.",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.25,locateOrder:t.selectorLocateOrder.indexOf("id")},text:{selectorType:"Manual",description:"Notice: In ios the text could be in the label or value attribute.",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.25,locateOrder:t.selectorLocateOrder.indexOf("text")},label:{selectorType:"Manual",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.25,locateOrder:t.selectorLocateOrder.indexOf("label")},value:{selectorType:"Manual",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.25,locateOrder:t.selectorLocateOrder.indexOf("value")},class:{selectorType:"Manual",description:"Examples: android.widget.TextView, android.ViewGroup.",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.1,locateOrder:t.selectorLocateOrder.indexOf("class")},xpath:{selectorType:"Manual",description:"The path of the element in the elements tree.",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.02,locateOrder:t.selectorLocateOrder.indexOf("xpath")},contentDesc:{selectorType:"Manual",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.08,locateOrder:t.selectorLocateOrder.indexOf("contentDesc")},name:{selectorType:"Manual",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:0,locateOrder:t.selectorLocateOrder.indexOf("name")},index:{selectorType:"Manual",isUserEditable:false,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"0",confidenceWeight:0,locateOrder:t.selectorLocateOrder.indexOf("index")},type:{selectorType:"Manual",description:"Similar to Class.",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.1,locateOrder:t.selectorLocateOrder.indexOf("type")},resourceId:{selectorType:"Manual",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:0,locateOrder:t.selectorLocateOrder.indexOf("resourceId")},accessabilityId:{selectorType:"Manual",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:0,locateOrder:t.selectorLocateOrder.indexOf("accessabilityId")},closestText:{selectorType:"Manual",description:"Closest text to the element.",isUserEditable:true,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.07,locateOrder:t.selectorLocateOrder.indexOf("closestText")},imageLocation:{selectorType:"Manual",isUserEditable:false,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.08,locateOrder:t.selectorLocateOrder.indexOf("imageLocation")},closestParentIndexOnlyXpath:{selectorType:"AutoGenerated",description:"Xpath of the first target parent in the xml tree that has an index.",isUserEditable:false,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.06,locateOrder:t.selectorLocateOrder.indexOf("closestParentIndexOnlyXpath")},xpathWithoutIndices:{selectorType:"AutoGenerated",description:"The index of the smallest group of elements that has index and which the target element belongs to.",isUserEditable:false,canBeDisabledByUser:false,showValueInUI:true,defaultValue:"",confidenceWeight:.03,locateOrder:t.selectorLocateOrder.indexOf("xpathWithoutIndices")},indexOnlyXpath:{selectorType:"AutoGenerated",description:"Xpath with only indices, ignore class names or other attributes.",isUserEditable:false,canBeDisabledByUser:true,showValueInUI:true,defaultValue:"",confidenceWeight:.06,locateOrder:t.selectorLocateOrder.indexOf("indexOnlyXpath")}};t.selectorLocateOrder.sort(((e,r)=>{const n=t.selectorsConfig[e].confidenceWeight||0;const i=t.selectorsConfig[r].confidenceWeight||0;return i-n}))}).call(this,r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.xpathOne=t.getElementTag=t.getElementXpath=t.parseBounds=t.parseBoundsFromElement=void 0;function n(e){const t=e.getAttribute("bounds");if(t){return i(t)}return{left:Number(e.getAttribute("x")),top:Number(e.getAttribute("y")),height:Number(e.getAttribute("height")),width:Number(e.getAttribute("width"))}}t.parseBoundsFromElement=n;function i(e){if(!(e===null||e===void 0?void 0:e.includes("]["))){return{left:0,top:0,width:0,height:0}}const t=/\[(\d+),(\d+)\]\[(\d+),(\d+)\]/g.exec(e);const r=Number(t[1]||"0");const n=Number(t[2]||"0");const i=Number(t[3]||"0");const o=Number(t[4]||"0");return{left:r,width:i-r,top:n,height:o-n}}t.parseBounds=i;function o(e){if(!e||e.nodeType!==1)return"";const t=a(e);const r=s(e);return`${o(e.parentNode)}/${t}${r}`}t.getElementXpath=o;function a(e){return e.getAttribute("node-name")||e.nodeName}t.getElementTag=a;function s(e){if(!e||e.nodeType!==1||typeof DocumentFragment!=="undefined"&&e.parentNode instanceof DocumentFragment||!e.parentNode){return""}const t=a(e);const r=Array.from(e.parentNode.children).map((e=>({tag:a(e),index:Number(e.getAttribute("index"))}))).sort(((e,t)=>e.index-t.index));let n=0;let i=false;let o=false;for(const a of r){if(i&&o){break}if(Number(e.getAttribute("index"))===a.index){i=true}else if(a.tag===t){o=true;if(!i){n++}}}return o?`[${n+1}]`:""}t.xpathOne=s},function(e,t,r){"use strict";var n=r(25).codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=false;return function(){if(t)return;t=true;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}e.apply(this,n)}}function o(){}function a(e){return e.setHeader&&typeof e.abort==="function"}function s(e,t,r){if(typeof t==="function")return s(e,null,t);if(!t)t={};r=i(r||o);var u=t.readable||t.readable!==false&&e.readable;var l=t.writable||t.writable!==false&&e.writable;var c=function t(){if(!e.writable)h()};var f=e._writableState&&e._writableState.finished;var h=function t(){l=false;f=true;if(!u)r.call(e)};var d=e._readableState&&e._readableState.endEmitted;var p=function t(){u=false;d=true;if(!l)r.call(e)};var v=function t(n){r.call(e,n)};var m=function t(){var i;if(u&&!d){if(!e._readableState||!e._readableState.ended)i=new n;return r.call(e,i)}if(l&&!f){if(!e._writableState||!e._writableState.ended)i=new n;return r.call(e,i)}};var g=function t(){e.req.on("finish",h)};if(a(e)){e.on("complete",h);e.on("abort",m);if(e.req)g();else e.on("request",g)}else if(l&&!e._writableState){e.on("end",c);e.on("close",c)}e.on("end",p);e.on("finish",h);if(t.error!==false)e.on("error",v);e.on("close",m);return function(){e.removeListener("complete",h);e.removeListener("abort",m);e.removeListener("request",g);if(e.req)e.req.removeListener("finish",h);e.removeListener("end",c);e.removeListener("close",c);e.removeListener("finish",h);e.removeListener("end",p);e.removeListener("error",v);e.removeListener("close",m)}}e.exports=s},function(e,t,r){var n,i;(function(){"use strict";var r={}.hasOwnProperty;function o(){var e=[];for(var t=0;t<arguments.length;t++){var n=arguments[t];if(!n)continue;var i=typeof n;if(i==="string"||i==="number"){e.push(n)}else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);if(a){e.push(a)}}}else if(i==="object"){if(n.toString===Object.prototype.toString){for(var s in n){if(r.call(n,s)&&n[s]){e.push(s)}}}else{e.push(n.toString())}}}return e.join(" ")}if(true&&e.exports){o.default=o;e.exports=o}else if(true){!(n=[],i=function(){return o}.apply(t,n),i!==undefined&&(e.exports=i))}else{}})()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getYPoint=t.getXPoint=t.calculateElementMiddlePoint=t.calculateClickPoint=t.isWithinBounds=t.isWithinTargetRect=void 0;function n(e,t,r){return i(e.left,e.right,t)&&i(e.top,e.bottom,r)}t.isWithinTargetRect=n;function i(e,t,r){return r>e&&r<t}t.isWithinBounds=i;function o(e,t){if(!e){return null}const r=i(0,t.width,e.x);const n=i(0,t.height,e.y);if(r&&n){return{x:t.left+e.x,y:t.top+e.y}}return null}t.calculateClickPoint=o;function a(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}t.calculateElementMiddlePoint=a;const s=(e,t)=>e.width*t+e.left;t.getXPoint=s;const u=(e,t)=>e.height*t+e.top;t.getYPoint=u},function(e,t,r){"use strict";function n(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function"){return}if(false){}try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}if(true){n();e.exports=r(145)}else{}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getMirroringUnhandledrejections=t.getMirroringErrors=void 0;const n=r(6);n.Logger.setGlobalInfo({version:chrome.runtime.getManifest().version});const i=n.Logger.getLogger("uncaught-mirroring-error");const o=[];const a=[];window.onerror=function(e,t,r,n,a){i.exception("Unhandled Error",{error:a});o.push(a);if(o.length>10){o.shift()}};window.addEventListener("unhandledrejection",(e=>{i.exception("Unhandled Promise rejection",e.reason);a.push(e);if(a.length>10){a.shift()}}));function s(){return o}t.getMirroringErrors=s;function u(){return a}t.getMirroringUnhandledrejections=u},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RuntimeConnectionListener=t.throwMaxLengthIfNeeded=t.EXTENSION_LOADED=t.PONG_MSG=t.PING_MSG=void 0;const n=r(6);const i=r(81);const o=r(82);const a=r(39);const s=r(83);const u=r(7);t.PING_MSG="BROKER_RUNTIME_CONNECTION_PING";t.PONG_MSG="BROKER_RUNTIME_CONNECTION_PONG";t.EXTENSION_LOADED="EXTENSION_LOADED";function l(e){var t;if((t=e===null||e===void 0?void 0:e.message)===null||t===void 0?void 0:t.startsWith(u.commonConstants.error.MESSAGE_LENGTH_EXCEEDED_MAX_LENGTH_ERROR_MESSAGE)){throw new a.ConnectionMaxSizeError(6e7)}}t.throwMaxLengthIfNeeded=l;const c=n.Logger.getLogger("runtime-connection-listener");async function f({external:e}){const r=e?"*://*/*":"chrome-extension://*/*";const n=await i.browser.tabs.queryAsync({url:r,status:"complete"});n.forEach((r=>{if(!r.id){return}if(e){i.browser.tabs.executeScriptAsync(r.id,{allFrames:true,code:`window.postMessage('${t.EXTENSION_LOADED}')`}).catch((e=>{var t;if((t=e.message)===null||t===void 0?void 0:t.includes("The tab was closed")){return}c.error("Failed to send extension loaded event",{error:e})}));return}i.browser.tabs.sendMessage(r.id,{data:t.EXTENSION_LOADED})}))}function h(e={}){const{frameId:t,tab:r}=e;const n=r===null||r===void 0?void 0:r.id;if(n===undefined){return undefined}return`t:${n}f:${t}`}class d{constructor(e,{external:r}={}){this.context=e;this._handlersData=new Map;this._handlersMsgQueues=new Map;this._external=r;f({external:r});i.browser.runtime[r?"onConnectExternal":"onConnect"].addListener((e=>{e.postMessage({type:t.PING_MSG});const r=({type:n,data:i}={type:"",data:{}})=>{if(n===t.PONG_MSG&&i.context){this.registerHandler(e,i);e.onMessage.removeListener(r)}};e.onMessage.addListener(r)}))}registerHandler(e,t){var r,n,i;const u=(r=t.context)!==null&&r!==void 0?r:"unknown";const l=(n=t.exposedServices)!==null&&n!==void 0?n:[];const c=h(e.sender);if(!c){e.disconnect();return}this._handlersData.set(c,Object.assign(e,{context:u,services:new Set(l)}));if(!this._handlersMsgQueues.has(c)){this._handlersMsgQueues.set(c,new a.ActionsQueue((()=>Boolean(this._handlersData.get(c)))))}const f=e=>{var t;if(!(0,a.hasMetadata)(e)){return}if(this.msgProcessor.debug){(0,o.logMessage)("received <<",u,e)}const r={handlerId:c,handlerContext:u};this.msgProcessor.processMessage((0,a.stampMessage)(e,this.context,r));if(e.type===s.switchboardEvents.EXPOSED){const{data:{key:r}}=e;(t=this._handlersData.get(c))===null||t===void 0?void 0:t.services.add(r)}};e.onDisconnect.addListener((e=>{e.onMessage.removeListener(f);this._handlersData.delete(c);setTimeout((()=>{if(!this._handlersData.has(c)){this._handlersMsgQueues.delete(c)}}),1e3*30)}));e.onMessage.addListener(f);(i=this._handlersMsgQueues.get(c))===null||i===void 0?void 0:i.doAll()}getOrigin(e){var t;const r=(t=e.metadata.stamps[this.context])!==null&&t!==void 0?t:{};if("handlerId"in r&&"handlerContext"in r){return r}return undefined}async addToQueue(e,t){const r=this._handlersMsgQueues.get(e);await(r===null||r===void 0?void 0:r.add((()=>{const r=this._handlersData.get(e);try{r===null||r===void 0?void 0:r.postMessage(t);if(r&&this.msgProcessor.debug){(0,o.logMessage)("post >>",r.context,t)}}catch(e){l(e);throw e}})))}async forward(e){var t;const r=(t=this.getOrigin(e))===null||t===void 0?void 0:t.handlerId;const{recipientServiceKey:n}=e.metadata;const i=async t=>{if(t===r){return}await this.addToQueue(t,e)};if(n){for(const[e,t]of this._handlersData){if(t.services.has(n)){await i(e)}}return}for(const e of this._handlersMsgQueues.keys()){await i(e)}}async backward(e){const t=this.getOrigin(e);if(t){await this.addToQueue(t.handlerId,e)}}}t.RuntimeConnectionListener=d},function(e,t,r){"use strict";const n=r(155);const i=()=>{if(typeof window==="undefined"){return null}if(window.chrome){return window.chrome}if(typeof chrome!=="undefined"){return chrome}if(window.browser){return window.browser}if(typeof browser!=="undefined"){return browser}return null};const o=()=>{var e;const t=i();if(!t){return t}if(t.browsingData){(0,n.promisifyAll)(t,t.browsingData)}(0,n.promisifyAll)(t,t.cookies);(0,n.promisifyAll)(t,t.debugger);(0,n.promisifyAll)(t,t.extension);(0,n.promisifyAll)(t,t.pageCapture);(0,n.promisifyAll)(t,t.runtime);(0,n.promisifyAll)(t,(e=t.storage)===null||e===void 0?void 0:e.local);(0,n.promisifyAll)(t,t.tabs);(0,n.promisifyAll)(t,t.webNavigation);(0,n.promisifyAll)(t,t.windows);return t};let a;const s={get browser(){a||(a=o());return a}};e.exports=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.logMessage=void 0;const n="font-family: monospace";const i=["#FFAB00","#1DE9B6","#FF4081","#EEFF41"];const o={};let a=0;function s(e,t,r){var s,u;if((s=r.metadata)===null||s===void 0?void 0:s.noConsoleLog){return}(u=o[t])!==null&&u!==void 0?u:o[t]=i[a++%i.length];const{type:l,...c}=r;console.debug(`%c${e.toLocaleUpperCase()} %c[${t}] %c${l}`,n,`color: ${o[t]}; ${n}`,"",c)}t.logMessage=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.switchboardEvents=void 0;t.switchboardEvents={EXPOSED:"switchboard:exposed",ERROR:"switchboard:ERROR"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ConditionType=void 0;t.ConditionType={ALWAYS:"none",NEVER:"skip-code-step",CUSTOM:"condition-step",ELEMENT:"element-code-step"}},function(e,t,r){"use strict";(function(t,n){var i=r(41);e.exports=S;var o=r(169);var a;S.ReadableState=E;var s=r(19).EventEmitter;var u=function(e,t){return e.listeners(t).length};var l=r(86);var c=r(21).Buffer;var f=t.Uint8Array||function(){};function h(e){return c.from(e)}function d(e){return c.isBuffer(e)||e instanceof f}var p=Object.create(r(31));p.inherits=r(12);var v=r(173);var m=void 0;if(v&&v.debuglog){m=v.debuglog("stream")}else{m=function(){}}var g=r(174);var y=r(87);var b;p.inherits(S,l);var _=["error","close","destroy","pause","resume"];function w(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(o(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function E(e,t){a=a||r(20);e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode;if(n)this.objectMode=this.objectMode||!!e.readableObjectMode;var i=e.highWaterMark;var o=e.readableHighWaterMark;var s=this.objectMode?16:16*1024;if(i||i===0)this.highWaterMark=i;else if(n&&(o||o===0))this.highWaterMark=o;else this.highWaterMark=s;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new g;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!b)b=r(42).StringDecoder;this.decoder=new b(e.encoding);this.encoding=e.encoding}}function S(e){a=a||r(20);if(!(this instanceof S))return new S(e);this._readableState=new E(e,this);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}l.call(this)}Object.defineProperty(S.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});S.prototype.destroy=y.destroy;S.prototype._undestroy=y.undestroy;S.prototype._destroy=function(e,t){this.push(null);t(e)};S.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=c.from(e,t);t=""}n=true}}else{n=true}return T(this,e,t,false,n)};S.prototype.unshift=function(e){return T(this,e,null,true,false)};function T(e,t,r,n,i){var o=e._readableState;if(t===null){o.reading=false;k(e,o)}else{var a;if(!i)a=x(o,t);if(a){e.emit("error",a)}else if(o.objectMode||t&&t.length>0){if(typeof t!=="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==c.prototype){t=h(t)}if(n){if(o.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else A(e,o,t,true)}else if(o.ended){e.emit("error",new Error("stream.push() after EOF"))}else{o.reading=false;if(o.decoder&&!r){t=o.decoder.write(t);if(o.objectMode||t.length!==0)A(e,o,t,false);else M(e,o)}else{A(e,o,t,false)}}}else if(!n){o.reading=false}}return D(o)}function A(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)R(e)}M(e,t)}function x(e,t){var r;if(!d(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function D(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}S.prototype.isPaused=function(){return this._readableState.flowing===false};S.prototype.setEncoding=function(e){if(!b)b=r(42).StringDecoder;this._readableState.decoder=new b(e);this._readableState.encoding=e;return this};var O=8388608;function I(e){if(e>=O){e=O}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=I(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}S.prototype.read=function(e){m("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){m("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)W(this);else R(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)W(this);return null}var n=t.needReadable;m("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;m("length less than watermark",n)}if(t.ended||t.reading){n=false;m("reading or ended",n)}else if(n){m("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)W(this)}if(i!==null)this.emit("data",i);return i};function k(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;R(e)}function R(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){m("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)i.nextTick(P,e);else P(e)}}function P(e){m("emit readable");e.emit("readable");U(e)}function M(e,t){if(!t.readingMore){t.readingMore=true;i.nextTick(L,e,t)}}function L(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){m("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}S.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};S.prototype.pipe=function(e,t){var r=this;var o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1;m("pipe count=%d opts=%j",o.pipesCount,t);var a=(!t||t.end!==false)&&e!==n.stdout&&e!==n.stderr;var s=a?c:_;if(o.endEmitted)i.nextTick(s);else r.once("end",s);e.on("unpipe",l);function l(e,t){m("onunpipe");if(e===r){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;d()}}}function c(){m("onend");e.end()}var f=N(r);e.on("drain",f);var h=false;function d(){m("cleanup");e.removeListener("close",y);e.removeListener("finish",b);e.removeListener("drain",f);e.removeListener("error",g);e.removeListener("unpipe",l);r.removeListener("end",c);r.removeListener("end",_);r.removeListener("data",v);h=true;if(o.awaitDrain&&(!e._writableState||e._writableState.needDrain))f()}var p=false;r.on("data",v);function v(t){m("ondata");p=false;var n=e.write(t);if(false===n&&!p){if((o.pipesCount===1&&o.pipes===e||o.pipesCount>1&&q(o.pipes,e)!==-1)&&!h){m("false write response, pause",r._readableState.awaitDrain);r._readableState.awaitDrain++;p=true}r.pause()}}function g(t){m("onerror",t);_();e.removeListener("error",g);if(u(e,"error")===0)e.emit("error",t)}w(e,"error",g);function y(){e.removeListener("finish",b);_()}e.once("close",y);function b(){m("onfinish");e.removeListener("close",y);_()}e.once("finish",b);function _(){m("unpipe");r.unpipe(e)}e.emit("pipe",r);if(!o.flowing){m("pipe resume");r.resume()}return e};function N(e){return function(){var t=e._readableState;m("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&u(e,"data")){t.flowing=true;U(e)}}}S.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var o=0;o<i;o++){n[o].emit("unpipe",this,r)}return this}var a=q(t.pipes,e);if(a===-1)return this;t.pipes.splice(a,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};S.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var n=this._readableState;if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.emittedReadable=false;if(!n.reading){i.nextTick(F,this)}else if(n.length){R(this)}}}return r};S.prototype.addListener=S.prototype.on;function F(e){m("readable nexttick read 0");e.read(0)}S.prototype.resume=function(){var e=this._readableState;if(!e.flowing){m("resume");e.flowing=true;j(this,e)}return this};function j(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;i.nextTick(B,e,t)}}function B(e,t){if(!t.reading){m("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");U(e);if(t.flowing&&!t.reading)e.read(0)}S.prototype.pause=function(){m("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){m("pause");this._readableState.flowing=false;this.emit("pause")}return this};function U(e){var t=e._readableState;m("flow",t.flowing);while(t.flowing&&e.read()!==null){}}S.prototype.wrap=function(e){var t=this;var r=this._readableState;var n=false;e.on("end",(function(){m("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();if(e&&e.length)t.push(e)}t.push(null)}));e.on("data",(function(i){m("wrapped data");if(r.decoder)i=r.decoder.write(i);if(r.objectMode&&(i===null||i===undefined))return;else if(!r.objectMode&&(!i||!i.length))return;var o=t.push(i);if(!o){n=true;e.pause()}}));for(var i in e){if(this[i]===undefined&&typeof e[i]==="function"){this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i)}}for(var o=0;o<_.length;o++){e.on(_[o],this.emit.bind(this,_[o]))}this._read=function(t){m("wrapped _read",t);if(n){n=false;e.resume()}};return this};Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});S._fromList=z;function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.head.data;else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=$(e,t.buffer,t.decoder)}return r}function $(e,t,r){var n;if(e<t.head.data.length){n=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){n=t.shift()}else{n=r?G(e,t):H(e,t)}return n}function G(e,t){var r=t.head;var n=1;var i=r.data;e-=i.length;while(r=r.next){var o=r.data;var a=e>o.length?o.length:e;if(a===o.length)i+=o;else i+=o.slice(0,e);e-=a;if(e===0){if(a===o.length){++n;if(r.next)t.head=r.next;else t.head=t.tail=null}else{t.head=r;r.data=o.slice(a)}break}++n}t.length-=n;return i}function H(e,t){var r=c.allocUnsafe(e);var n=t.head;var i=1;n.data.copy(r);e-=n.data.length;while(n=n.next){var o=n.data;var a=e>o.length?o.length:e;o.copy(r,r.length-e,0,a);e-=a;if(e===0){if(a===o.length){++i;if(n.next)t.head=n.next;else t.head=t.tail=null}else{t.head=n;n.data=o.slice(a)}break}++i}t.length-=i;return r}function W(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;i.nextTick(V,t,e)}}function V(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function q(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,r(5),r(3))},function(e,t,r){e.exports=r(19).EventEmitter},function(e,t,r){"use strict";var n=r(41);function i(e,t){var r=this;var i=this._readableState&&this._readableState.destroyed;var o=this._writableState&&this._writableState.destroyed;if(i||o){if(t){t(e)}else if(e&&(!this._writableState||!this._writableState.errorEmitted)){n.nextTick(a,this,e)}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,(function(e){if(!t&&e){n.nextTick(a,r,e);if(r._writableState){r._writableState.errorEmitted=true}}else if(t){t(e)}}));return this}function o(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function a(e,t){e.emit("error",t)}e.exports={destroy:i,undestroy:o}},function(e,t,r){(function(t){e.exports=r;function r(e,t){if(n("noDeprecation")){return e}var r=false;function i(){if(!r){if(n("throwDeprecation")){throw new Error(t)}else if(n("traceDeprecation")){console.trace(t)}else{console.warn(t)}r=true}return e.apply(this,arguments)}return i}function n(e){try{if(!t.localStorage)return false}catch(e){return false}var r=t.localStorage[e];if(null==r)return false;return String(r).toLowerCase()==="true"}}).call(this,r(5))},function(e,t,r){"use strict";e.exports=a;var n=r(20);var i=Object.create(r(31));i.inherits=r(12);i.inherits(a,n);function o(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(!n){return this.emit("error",new Error("write callback called multiple times"))}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e);this._transformState={afterTransform:o.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",s)}function s(){var e=this;if(typeof this._flush==="function"){this._flush((function(t,r){u(e,t,r)}))}else{u(this,null,null)}}a.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};a.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};a.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e);r.emit("close")}))};function u(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},function(e,t,r){"use strict";r.r(t);t["default"]={isMirroringUnavailable:"DeviceMirroring_isMirroringUnavailable_O6EiP_Jyb3Jpbmct",deviceMirroring:"DeviceMirroring_deviceMirroring_2X0QL_Jyb3Jpbmct",loaderContainer:"DeviceMirroring_loaderContainer_1VXG7_Jyb3Jpbmct",video:"DeviceMirroring_video_3Zdx1_Jyb3Jpbmct",canvas:"DeviceMirroring_canvas_1e9cO_Jyb3Jpbmct",deviceInfo:"DeviceMirroring_deviceInfo_2jqp0_Jyb3Jpbmct",deviceName:"DeviceMirroring_deviceName_2LOpN_Jyb3Jpbmct",resolution:"DeviceMirroring_resolution_1r3Ur_Jyb3Jpbmct"}},function(e,t,r){"use strict";function n(e){return null!==e&&"object"===typeof e}e.exports=n},function(e,t,r){"use strict";t.decode=t.parse=r(197);t.encode=t.stringify=r(198)},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(199));var o=n(r(247));var a=n(r(276));var s=(0,i["default"])({types:[o["default"]],plugins:[a["default"]]});t["default"]=s},function(e,t){function r(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(94);function i(e,t){if(!e)return;if(typeof e==="string")return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}e.exports=i,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(14)["default"];var i=r(203);function o(e){var t=i(e,"string");return n(t)==="symbol"?t:String(t)}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(t,n){e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t},e.exports.__esModule=true,e.exports["default"]=e.exports;return r(t,n)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n;(function(i){var o=/^\s+/,a=/\s+$/,s=0,u=i.round,l=i.min,c=i.max,f=i.random;function h(e,t){e=e?e:"";t=t||{};if(e instanceof h){return e}if(!(this instanceof h)){return new h(e,t)}var r=d(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=u(100*this._a)/100,this._format=t.format||r.format;this._gradientType=t.gradientType;if(this._r<1){this._r=u(this._r)}if(this._g<1){this._g=u(this._g)}if(this._b<1){this._b=u(this._b)}this._ok=r.ok;this._tc_id=s++}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb();var t,r,n,o,a,s;t=e.r/255;r=e.g/255;n=e.b/255;if(t<=.03928){o=t/12.92}else{o=i.pow((t+.055)/1.055,2.4)}if(r<=.03928){a=r/12.92}else{a=i.pow((r+.055)/1.055,2.4)}if(n<=.03928){s=n/12.92}else{s=i.pow((n+.055)/1.055,2.4)}return.2126*o+.7152*a+.0722*s},setAlpha:function(e){this._a=j(e);this._roundA=u(100*this._a)/100;return this},toHsv:function(){var e=g(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=g(this._r,this._g,this._b);var t=u(e.h*360),r=u(e.s*100),n=u(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=v(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=v(this._r,this._g,this._b);var t=u(e.h*360),r=u(e.s*100),n=u(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return b(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return _(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(B(this._r,255)*100)+"%",g:u(B(this._g,255)*100)+"%",b:u(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+u(B(this._r,255)*100)+"%, "+u(B(this._g,255)*100)+"%, "+u(B(this._b,255)*100)+"%)":"rgba("+u(B(this._r,255)*100)+"%, "+u(B(this._g,255)*100)+"%, "+u(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){if(this._a===0){return"transparent"}if(this._a<1){return false}return N[b(this._r,this._g,this._b,true)]||false},toFilter:function(e){var t="#"+w(this._r,this._g,this._b,this._a);var r=t;var n=this._gradientType?"GradientType = 1, ":"";if(e){var i=h(e);r="#"+w(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=false;var n=this._a<1&&this._a>=0;var i=!t&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");if(i){if(e==="name"&&this._a===0){return this.toName()}return this.toRgbString()}if(e==="rgb"){r=this.toRgbString()}if(e==="prgb"){r=this.toPercentageRgbString()}if(e==="hex"||e==="hex6"){r=this.toHexString()}if(e==="hex3"){r=this.toHexString(true)}if(e==="hex4"){r=this.toHex8String(true)}if(e==="hex8"){r=this.toHex8String()}if(e==="name"){r=this.toName()}if(e==="hsl"){r=this.toHslString()}if(e==="hsv"){r=this.toHsvString()}return r||this.toHexString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));this._r=r._r;this._g=r._g;this._b=r._b;this.setAlpha(r._a);return this},lighten:function(){return this._applyModification(A,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(D,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(I,arguments)},monochromatic:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(R,arguments)},triad:function(){return this._applyCombination(C,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}};h.fromRatio=function(e,t){if(typeof e=="object"){var r={};for(var n in e){if(e.hasOwnProperty(n)){if(n==="a"){r[n]=e[n]}else{r[n]=W(e[n])}}}e=r}return h(e,t)};function d(e){var t={r:0,g:0,b:0};var r=1;var n=null;var i=null;var o=null;var a=false;var s=false;if(typeof e=="string"){e=K(e)}if(typeof e=="object"){if(Y(e.r)&&Y(e.g)&&Y(e.b)){t=p(e.r,e.g,e.b);a=true;s=String(e.r).substr(-1)==="%"?"prgb":"rgb"}else if(Y(e.h)&&Y(e.s)&&Y(e.v)){n=W(e.s);i=W(e.v);t=y(e.h,n,i);a=true;s="hsv"}else if(Y(e.h)&&Y(e.s)&&Y(e.l)){n=W(e.s);o=W(e.l);t=m(e.h,n,o);a=true;s="hsl"}if(e.hasOwnProperty("a")){r=e.a}}r=j(r);return{ok:a,format:e.format||s,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:r}}function p(e,t,r){return{r:B(e,255)*255,g:B(t,255)*255,b:B(r,255)*255}}function v(e,t,r){e=B(e,255);t=B(t,255);r=B(r,255);var n=c(e,t,r),i=l(e,t,r);var o,a,s=(n+i)/2;if(n==i){o=a=0}else{var u=n-i;a=s>.5?u/(2-n-i):u/(n+i);switch(n){case e:o=(t-r)/u+(t<r?6:0);break;case t:o=(r-e)/u+2;break;case r:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,l:s}}function m(e,t,r){var n,i,o;e=B(e,360);t=B(t,100);r=B(r,100);function a(e,t,r){if(r<0)r+=1;if(r>1)r-=1;if(r<1/6)return e+(t-e)*6*r;if(r<1/2)return t;if(r<2/3)return e+(t-e)*(2/3-r)*6;return e}if(t===0){n=i=o=r}else{var s=r<.5?r*(1+t):r+t-r*t;var u=2*r-s;n=a(u,s,e+1/3);i=a(u,s,e);o=a(u,s,e-1/3)}return{r:n*255,g:i*255,b:o*255}}function g(e,t,r){e=B(e,255);t=B(t,255);r=B(r,255);var n=c(e,t,r),i=l(e,t,r);var o,a,s=n;var u=n-i;a=n===0?0:u/n;if(n==i){o=0}else{switch(n){case e:o=(t-r)/u+(t<r?6:0);break;case t:o=(r-e)/u+2;break;case r:o=(e-t)/u+4;break}o/=6}return{h:o,s:a,v:s}}function y(e,t,r){e=B(e,360)*6;t=B(t,100);r=B(r,100);var n=i.floor(e),o=e-n,a=r*(1-t),s=r*(1-o*t),u=r*(1-(1-o)*t),l=n%6,c=[r,s,a,a,u,r][l],f=[u,r,r,s,a,a][l],h=[a,a,u,r,r,s][l];return{r:c*255,g:f*255,b:h*255}}function b(e,t,r,n){var i=[H(u(e).toString(16)),H(u(t).toString(16)),H(u(r).toString(16))];if(n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)){return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)}return i.join("")}function _(e,t,r,n,i){var o=[H(u(e).toString(16)),H(u(t).toString(16)),H(u(r).toString(16)),H(V(n))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)){return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0)}return o.join("")}function w(e,t,r,n){var i=[H(V(n)),H(u(e).toString(16)),H(u(t).toString(16)),H(u(r).toString(16))];return i.join("")}h.equals=function(e,t){if(!e||!t){return false}return h(e).toRgbString()==h(t).toRgbString()};h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})};function E(e,t){t=t===0?0:t||10;var r=h(e).toHsl();r.s-=t/100;r.s=U(r.s);return h(r)}function S(e,t){t=t===0?0:t||10;var r=h(e).toHsl();r.s+=t/100;r.s=U(r.s);return h(r)}function T(e){return h(e).desaturate(100)}function A(e,t){t=t===0?0:t||10;var r=h(e).toHsl();r.l+=t/100;r.l=U(r.l);return h(r)}function x(e,t){t=t===0?0:t||10;var r=h(e).toRgb();r.r=c(0,l(255,r.r-u(255*-(t/100))));r.g=c(0,l(255,r.g-u(255*-(t/100))));r.b=c(0,l(255,r.b-u(255*-(t/100))));return h(r)}function D(e,t){t=t===0?0:t||10;var r=h(e).toHsl();r.l-=t/100;r.l=U(r.l);return h(r)}function O(e,t){var r=h(e).toHsl();var n=(r.h+t)%360;r.h=n<0?360+n:n;return h(r)}function I(e){var t=h(e).toHsl();t.h=(t.h+180)%360;return h(t)}function C(e){var t=h(e).toHsl();var r=t.h;return[h(e),h({h:(r+120)%360,s:t.s,l:t.l}),h({h:(r+240)%360,s:t.s,l:t.l})]}function k(e){var t=h(e).toHsl();var r=t.h;return[h(e),h({h:(r+90)%360,s:t.s,l:t.l}),h({h:(r+180)%360,s:t.s,l:t.l}),h({h:(r+270)%360,s:t.s,l:t.l})]}function R(e){var t=h(e).toHsl();var r=t.h;return[h(e),h({h:(r+72)%360,s:t.s,l:t.l}),h({h:(r+216)%360,s:t.s,l:t.l})]}function P(e,t,r){t=t||6;r=r||30;var n=h(e).toHsl();var i=360/r;var o=[h(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;){n.h=(n.h+i)%360;o.push(h(n))}return o}function M(e,t){t=t||6;var r=h(e).toHsv();var n=r.h,i=r.s,o=r.v;var a=[];var s=1/t;while(t--){a.push(h({h:n,s:i,v:o}));o=(o+s)%1}return a}h.mix=function(e,t,r){r=r===0?0:r||50;var n=h(e).toRgb();var i=h(t).toRgb();var o=r/100;var a={r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a};return h(a)};h.readability=function(e,t){var r=h(e);var n=h(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)};h.isReadable=function(e,t,r){var n=h.readability(e,t);var i,o;o=false;i=X(r);switch(i.level+i.size){case"AAsmall":case"AAAlarge":o=n>=4.5;break;case"AAlarge":o=n>=3;break;case"AAAsmall":o=n>=7;break}return o};h.mostReadable=function(e,t,r){var n=null;var i=0;var o;var a,s,u;r=r||{};a=r.includeFallbackColors;s=r.level;u=r.size;for(var l=0;l<t.length;l++){o=h.readability(e,t[l]);if(o>i){i=o;n=h(t[l])}}if(h.isReadable(e,n,{level:s,size:u})||!a){return n}else{r.includeFallbackColors=false;return h.mostReadable(e,["#fff","#000"],r)}};var L=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var N=h.hexNames=F(L);function F(e){var t={};for(var r in e){if(e.hasOwnProperty(r)){t[e[r]]=r}}return t}function j(e){e=parseFloat(e);if(isNaN(e)||e<0||e>1){e=1}return e}function B(e,t){if($(e)){e="100%"}var r=G(e);e=l(t,c(0,parseFloat(e)));if(r){e=parseInt(e*t,10)/100}if(i.abs(e-t)<1e-6){return 1}return e%t/parseFloat(t)}function U(e){return l(1,c(0,e))}function z(e){return parseInt(e,16)}function $(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function G(e){return typeof e==="string"&&e.indexOf("%")!=-1}function H(e){return e.length==1?"0"+e:""+e}function W(e){if(e<=1){e=e*100+"%"}return e}function V(e){return i.round(parseFloat(e)*255).toString(16)}function q(e){return z(e)/255}var J=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var r="(?:"+t+")|(?:"+e+")";var n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";var i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(e){return!!J.CSS_UNIT.exec(e)}function K(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t=false;if(L[e]){e=L[e];t=true}else if(e=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}var r;if(r=J.rgb.exec(e)){return{r:r[1],g:r[2],b:r[3]}}if(r=J.rgba.exec(e)){return{r:r[1],g:r[2],b:r[3],a:r[4]}}if(r=J.hsl.exec(e)){return{h:r[1],s:r[2],l:r[3]}}if(r=J.hsla.exec(e)){return{h:r[1],s:r[2],l:r[3],a:r[4]}}if(r=J.hsv.exec(e)){return{h:r[1],s:r[2],v:r[3]}}if(r=J.hsva.exec(e)){return{h:r[1],s:r[2],v:r[3],a:r[4]}}if(r=J.hex8.exec(e)){return{r:z(r[1]),g:z(r[2]),b:z(r[3]),a:q(r[4]),format:t?"name":"hex8"}}if(r=J.hex6.exec(e)){return{r:z(r[1]),g:z(r[2]),b:z(r[3]),format:t?"name":"hex"}}if(r=J.hex4.exec(e)){return{r:z(r[1]+""+r[1]),g:z(r[2]+""+r[2]),b:z(r[3]+""+r[3]),a:q(r[4]+""+r[4]),format:t?"name":"hex8"}}if(r=J.hex3.exec(e)){return{r:z(r[1]+""+r[1]),g:z(r[2]+""+r[2]),b:z(r[3]+""+r[3]),format:t?"name":"hex"}}return false}function X(e){var t,r;e=e||{level:"AA",size:"small"};t=(e.level||"AA").toUpperCase();r=(e.size||"small").toLowerCase();if(t!=="AA"&&t!=="AAA"){t="AA"}if(r!=="small"&&r!=="large"){r="small"}return{level:t,size:r}}if(true&&e.exports){e.exports=h}else if(true){!(n=function(){return h}.call(t,r,t,e),n!==undefined&&(e.exports=n))}else{}})(Math)},function(e,t,r){(function(e){var n=r(225);var i=r(102);var o=r(63);var a=r(227);var s=r(44);var u=t;u.request=function(t,r){if(typeof t==="string")t=s.parse(t);else t=o(t);var i=e.location.protocol.search(/^https?:$/)===-1?"http:":"";var a=t.protocol||i;var u=t.hostname||t.host;var l=t.port;var c=t.path||"/";if(u&&u.indexOf(":")!==-1)u="["+u+"]";t.url=(u?a+"//"+u:"")+(l?":"+l:"")+c;t.method=(t.method||"GET").toUpperCase();t.headers=t.headers||{};var f=new n(t);if(r)f.on("response",r);return f};u.get=function e(t,r){var n=u.request(t,r);n.end();return n};u.ClientRequest=n;u.IncomingMessage=i.IncomingMessage;u.Agent=function(){};u.Agent.defaultMaxSockets=4;u.globalAgent=new u.Agent;u.STATUS_CODES=a;u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(5))},function(e,t,r){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream);t.writableStream=s(e.WritableStream);t.abortController=s(e.AbortController);t.blobConstructor=false;try{new Blob([new ArrayBuffer(1)]);t.blobConstructor=true}catch(e){}var r;function n(){if(r!==undefined)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else{r=null}return r}function i(e){var t=n();if(!t)return false;try{t.responseType=e;return t.responseType===e}catch(e){}return false}var o=typeof e.ArrayBuffer!=="undefined";var a=o&&s(e.ArrayBuffer.prototype.slice);t.arraybuffer=t.fetch||o&&i("arraybuffer");t.msstream=!t.fetch&&a&&i("ms-stream");t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer");t.overrideMimeType=t.fetch||(n()?s(n().overrideMimeType):false);t.vbArray=s(e.VBArray);function s(e){return typeof e==="function"}r=null}).call(this,r(5))},function(e,t,r){(function(e,n,i){var o=r(101);var a=r(12);var s=r(30);var u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var l=t.IncomingMessage=function(t,r,a,u){var l=this;s.Readable.call(l);l._mode=a;l.headers={};l.rawHeaders=[];l.trailers={};l.rawTrailers=[];l.on("end",(function(){e.nextTick((function(){l.emit("close")}))}));if(a==="fetch"){l._fetchResponse=r;l.url=r.url;l.statusCode=r.status;l.statusMessage=r.statusText;r.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e;l.rawHeaders.push(t,e)}));if(o.writableStream){var c=new WritableStream({write:function(e){return new Promise((function(t,r){if(l._destroyed){r()}else if(l.push(new n(e))){t()}else{l._resumeFetch=t}}))},close:function(){i.clearTimeout(u);if(!l._destroyed)l.push(null)},abort:function(e){if(!l._destroyed)l.emit("error",e)}});try{r.body.pipeTo(c).catch((function(e){i.clearTimeout(u);if(!l._destroyed)l.emit("error",e)}));return}catch(m){}}var f=r.body.getReader();function h(){f.read().then((function(e){if(l._destroyed)return;if(e.done){i.clearTimeout(u);l.push(null);return}l.push(new n(e.value));h()})).catch((function(e){i.clearTimeout(u);if(!l._destroyed)l.emit("error",e)}))}h()}else{l._xhr=t;l._pos=0;l.url=t.responseURL;l.statusCode=t.status;l.statusMessage=t.statusText;var d=t.getAllResponseHeaders().split(/\r?\n/);d.forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();if(r==="set-cookie"){if(l.headers[r]===undefined){l.headers[r]=[]}l.headers[r].push(t[2])}else if(l.headers[r]!==undefined){l.headers[r]+=", "+t[2]}else{l.headers[r]=t[2]}l.rawHeaders.push(t[1],t[2])}}));l._charset="x-user-defined";if(!o.overrideMimeType){var p=l.rawHeaders["mime-type"];if(p){var v=p.match(/;\s*charset=([^;])(;|$)/);if(v){l._charset=v[1].toLowerCase()}}if(!l._charset)l._charset="utf-8"}}};a(l,s.Readable);l.prototype._read=function(){var e=this;var t=e._resumeFetch;if(t){e._resumeFetch=null;t()}};l.prototype._onXHRProgress=function(){var e=this;var t=e._xhr;var r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new i.VBArray(t.responseBody).toArray()}catch(e){}if(r!==null){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if(e._charset==="x-user-defined"){var a=new n(o.length);for(var s=0;s<o.length;s++)a[s]=o.charCodeAt(s)&255;e.push(a)}else{e.push(o,e._charset)}e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response;e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":r=t.response;if(t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":r=t.response;if(t.readyState!==u.LOADING)break;var l=new i.MSStreamReader;l.onprogress=function(){if(l.result.byteLength>e._pos){e.push(new n(new Uint8Array(l.result.slice(e._pos))));e._pos=l.result.byteLength}};l.onload=function(){e.push(null)};l.readAsArrayBuffer(r);break}if(e._xhr.readyState===u.DONE&&e._mode!=="ms-stream"){e.push(null)}}}).call(this,r(3),r(1).Buffer,r(5))},function(e,t,r){"use strict";var n=r(18);var i=r(232);var o=r(104);var a=r(105);var s=r(66);var u=0;var l=1;var c=3;var f=4;var h=5;var d=0;var p=1;var v=-2;var m=-3;var g=-5;var y=-1;var b=1;var _=2;var w=3;var E=4;var S=0;var T=2;var A=8;var x=9;var D=15;var O=8;var I=29;var C=256;var k=C+1+I;var R=30;var P=19;var M=2*k+1;var L=15;var N=3;var F=258;var j=F+N+1;var B=32;var U=42;var z=69;var $=73;var G=91;var H=103;var W=113;var V=666;var q=1;var J=2;var Y=3;var K=4;var X=3;function Z(e,t){e.msg=s[t];return t}function Q(e){return(e<<1)-(e>4?9:0)}function ee(e){var t=e.length;while(--t>=0){e[t]=0}}function te(e){var t=e.state;var r=t.pending;if(r>e.avail_out){r=e.avail_out}if(r===0){return}n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out);e.next_out+=r;t.pending_out+=r;e.total_out+=r;e.avail_out-=r;t.pending-=r;if(t.pending===0){t.pending_out=0}}function re(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t);e.block_start=e.strstart;te(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function ie(e,t){e.pending_buf[e.pending++]=t>>>8&255;e.pending_buf[e.pending++]=t&255}function oe(e,t,r,i){var s=e.avail_in;if(s>i){s=i}if(s===0){return 0}e.avail_in-=s;n.arraySet(t,e.input,e.next_in,s,r);if(e.state.wrap===1){e.adler=o(e.adler,t,s,r)}else if(e.state.wrap===2){e.adler=a(e.adler,t,s,r)}e.next_in+=s;e.total_in+=s;return s}function ae(e,t){var r=e.max_chain_length;var n=e.strstart;var i;var o;var a=e.prev_length;var s=e.nice_match;var u=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0;var l=e.window;var c=e.w_mask;var f=e.prev;var h=e.strstart+F;var d=l[n+a-1];var p=l[n+a];if(e.prev_length>=e.good_match){r>>=2}if(s>e.lookahead){s=e.lookahead}do{i=t;if(l[i+a]!==p||l[i+a-1]!==d||l[i]!==l[n]||l[++i]!==l[n+1]){continue}n+=2;i++;do{}while(l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&n<h);o=F-(h-n);n=h-F;if(o>a){e.match_start=t;a=o;if(o>=s){break}d=l[n+a-1];p=l[n+a]}}while((t=f[t&c])>u&&--r!==0);if(a<=e.lookahead){return a}return e.lookahead}function se(e){var t=e.w_size;var r,i,o,a,s;do{a=e.window_size-e.lookahead-e.strstart;if(e.strstart>=t+(t-j)){n.arraySet(e.window,e.window,t,t,0);e.match_start-=t;e.strstart-=t;e.block_start-=t;i=e.hash_size;r=i;do{o=e.head[--r];e.head[r]=o>=t?o-t:0}while(--i);i=t;r=i;do{o=e.prev[--r];e.prev[r]=o>=t?o-t:0}while(--i);a+=t}if(e.strm.avail_in===0){break}i=oe(e.strm,e.window,e.strstart+e.lookahead,a);e.lookahead+=i;if(e.lookahead+e.insert>=N){s=e.strstart-e.insert;e.ins_h=e.window[s];e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;while(e.insert){e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+N-1])&e.hash_mask;e.prev[s&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=s;s++;e.insert--;if(e.lookahead+e.insert<N){break}}}}while(e.lookahead<j&&e.strm.avail_in!==0)}function ue(e,t){var r=65535;if(r>e.pending_buf_size-5){r=e.pending_buf_size-5}for(;;){if(e.lookahead<=1){se(e);if(e.lookahead===0&&t===u){return q}if(e.lookahead===0){break}}e.strstart+=e.lookahead;e.lookahead=0;var n=e.block_start+r;if(e.strstart===0||e.strstart>=n){e.lookahead=e.strstart-n;e.strstart=n;re(e,false);if(e.strm.avail_out===0){return q}}if(e.strstart-e.block_start>=e.w_size-j){re(e,false);if(e.strm.avail_out===0){return q}}}e.insert=0;if(t===f){re(e,true);if(e.strm.avail_out===0){return Y}return K}if(e.strstart>e.block_start){re(e,false);if(e.strm.avail_out===0){return q}}return q}function le(e,t){var r;var n;for(;;){if(e.lookahead<j){se(e);if(e.lookahead<j&&t===u){return q}if(e.lookahead===0){break}}r=0;if(e.lookahead>=N){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}if(r!==0&&e.strstart-r<=e.w_size-j){e.match_length=ae(e,r)}if(e.match_length>=N){n=i._tr_tally(e,e.strstart-e.match_start,e.match_length-N);e.lookahead-=e.match_length;if(e.match_length<=e.max_lazy_match&&e.lookahead>=N){e.match_length--;do{e.strstart++;e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}while(--e.match_length!==0);e.strstart++}else{e.strstart+=e.match_length;e.match_length=0;e.ins_h=e.window[e.strstart];e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}}else{n=i._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(n){re(e,false);if(e.strm.avail_out===0){return q}}}e.insert=e.strstart<N-1?e.strstart:N-1;if(t===f){re(e,true);if(e.strm.avail_out===0){return Y}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return q}}return J}function ce(e,t){var r;var n;var o;for(;;){if(e.lookahead<j){se(e);if(e.lookahead<j&&t===u){return q}if(e.lookahead===0){break}}r=0;if(e.lookahead>=N){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}e.prev_length=e.match_length;e.prev_match=e.match_start;e.match_length=N-1;if(r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-j){e.match_length=ae(e,r);if(e.match_length<=5&&(e.strategy===b||e.match_length===N&&e.strstart-e.match_start>4096)){e.match_length=N-1}}if(e.prev_length>=N&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-N;n=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-N);e.lookahead-=e.prev_length-1;e.prev_length-=2;do{if(++e.strstart<=o){e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask;r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h];e.head[e.ins_h]=e.strstart}}while(--e.prev_length!==0);e.match_available=0;e.match_length=N-1;e.strstart++;if(n){re(e,false);if(e.strm.avail_out===0){return q}}}else if(e.match_available){n=i._tr_tally(e,0,e.window[e.strstart-1]);if(n){re(e,false)}e.strstart++;e.lookahead--;if(e.strm.avail_out===0){return q}}else{e.match_available=1;e.strstart++;e.lookahead--}}if(e.match_available){n=i._tr_tally(e,0,e.window[e.strstart-1]);e.match_available=0}e.insert=e.strstart<N-1?e.strstart:N-1;if(t===f){re(e,true);if(e.strm.avail_out===0){return Y}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return q}}return J}function fe(e,t){var r;var n;var o,a;var s=e.window;for(;;){if(e.lookahead<=F){se(e);if(e.lookahead<=F&&t===u){return q}if(e.lookahead===0){break}}e.match_length=0;if(e.lookahead>=N&&e.strstart>0){o=e.strstart-1;n=s[o];if(n===s[++o]&&n===s[++o]&&n===s[++o]){a=e.strstart+F;do{}while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<a);e.match_length=F-(a-o);if(e.match_length>e.lookahead){e.match_length=e.lookahead}}}if(e.match_length>=N){r=i._tr_tally(e,1,e.match_length-N);e.lookahead-=e.match_length;e.strstart+=e.match_length;e.match_length=0}else{r=i._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++}if(r){re(e,false);if(e.strm.avail_out===0){return q}}}e.insert=0;if(t===f){re(e,true);if(e.strm.avail_out===0){return Y}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return q}}return J}function he(e,t){var r;for(;;){if(e.lookahead===0){se(e);if(e.lookahead===0){if(t===u){return q}break}}e.match_length=0;r=i._tr_tally(e,0,e.window[e.strstart]);e.lookahead--;e.strstart++;if(r){re(e,false);if(e.strm.avail_out===0){return q}}}e.insert=0;if(t===f){re(e,true);if(e.strm.avail_out===0){return Y}return K}if(e.last_lit){re(e,false);if(e.strm.avail_out===0){return q}}return J}function de(e,t,r,n,i){this.good_length=e;this.max_lazy=t;this.nice_length=r;this.max_chain=n;this.func=i}var pe;pe=[new de(0,0,0,0,ue),new de(4,4,8,4,le),new de(4,5,16,8,le),new de(4,6,32,32,le),new de(4,4,16,16,ce),new de(8,16,32,32,ce),new de(8,16,128,128,ce),new de(8,32,128,256,ce),new de(32,128,258,1024,ce),new de(32,258,258,4096,ce)];function ve(e){e.window_size=2*e.w_size;ee(e.head);e.max_lazy_match=pe[e.level].max_lazy;e.good_match=pe[e.level].good_length;e.nice_match=pe[e.level].nice_length;e.max_chain_length=pe[e.level].max_chain;e.strstart=0;e.block_start=0;e.lookahead=0;e.insert=0;e.match_length=e.prev_length=N-1;e.match_available=0;e.ins_h=0}function me(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=A;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new n.Buf16(M*2);this.dyn_dtree=new n.Buf16((2*R+1)*2);this.bl_tree=new n.Buf16((2*P+1)*2);ee(this.dyn_ltree);ee(this.dyn_dtree);ee(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new n.Buf16(L+1);this.heap=new n.Buf16(2*k+1);ee(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new n.Buf16(2*k+1);ee(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function ge(e){var t;if(!e||!e.state){return Z(e,v)}e.total_in=e.total_out=0;e.data_type=T;t=e.state;t.pending=0;t.pending_out=0;if(t.wrap<0){t.wrap=-t.wrap}t.status=t.wrap?U:W;e.adler=t.wrap===2?0:1;t.last_flush=u;i._tr_init(t);return d}function ye(e){var t=ge(e);if(t===d){ve(e.state)}return t}function be(e,t){if(!e||!e.state){return v}if(e.state.wrap!==2){return v}e.state.gzhead=t;return d}function _e(e,t,r,i,o,a){if(!e){return v}var s=1;if(t===y){t=6}if(i<0){s=0;i=-i}else if(i>15){s=2;i-=16}if(o<1||o>x||r!==A||i<8||i>15||t<0||t>9||a<0||a>E){return Z(e,v)}if(i===8){i=9}var u=new me;e.state=u;u.strm=e;u.wrap=s;u.gzhead=null;u.w_bits=i;u.w_size=1<<u.w_bits;u.w_mask=u.w_size-1;u.hash_bits=o+7;u.hash_size=1<<u.hash_bits;u.hash_mask=u.hash_size-1;u.hash_shift=~~((u.hash_bits+N-1)/N);u.window=new n.Buf8(u.w_size*2);u.head=new n.Buf16(u.hash_size);u.prev=new n.Buf16(u.w_size);u.lit_bufsize=1<<o+6;u.pending_buf_size=u.lit_bufsize*4;u.pending_buf=new n.Buf8(u.pending_buf_size);u.d_buf=1*u.lit_bufsize;u.l_buf=(1+2)*u.lit_bufsize;u.level=t;u.strategy=a;u.method=r;return ye(e)}function we(e,t){return _e(e,t,A,D,O,S)}function Ee(e,t){var r,n;var o,s;if(!e||!e.state||t>h||t<0){return e?Z(e,v):v}n=e.state;if(!e.output||!e.input&&e.avail_in!==0||n.status===V&&t!==f){return Z(e,e.avail_out===0?g:v)}n.strm=e;r=n.last_flush;n.last_flush=t;if(n.status===U){if(n.wrap===2){e.adler=0;ne(n,31);ne(n,139);ne(n,8);if(!n.gzhead){ne(n,0);ne(n,0);ne(n,0);ne(n,0);ne(n,0);ne(n,n.level===9?2:n.strategy>=_||n.level<2?4:0);ne(n,X);n.status=W}else{ne(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(!n.gzhead.extra?0:4)+(!n.gzhead.name?0:8)+(!n.gzhead.comment?0:16));ne(n,n.gzhead.time&255);ne(n,n.gzhead.time>>8&255);ne(n,n.gzhead.time>>16&255);ne(n,n.gzhead.time>>24&255);ne(n,n.level===9?2:n.strategy>=_||n.level<2?4:0);ne(n,n.gzhead.os&255);if(n.gzhead.extra&&n.gzhead.extra.length){ne(n,n.gzhead.extra.length&255);ne(n,n.gzhead.extra.length>>8&255)}if(n.gzhead.hcrc){e.adler=a(e.adler,n.pending_buf,n.pending,0)}n.gzindex=0;n.status=z}}else{var m=A+(n.w_bits-8<<4)<<8;var y=-1;if(n.strategy>=_||n.level<2){y=0}else if(n.level<6){y=1}else if(n.level===6){y=2}else{y=3}m|=y<<6;if(n.strstart!==0){m|=B}m+=31-m%31;n.status=W;ie(n,m);if(n.strstart!==0){ie(n,e.adler>>>16);ie(n,e.adler&65535)}e.adler=1}}if(n.status===z){if(n.gzhead.extra){o=n.pending;while(n.gzindex<(n.gzhead.extra.length&65535)){if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o){e.adler=a(e.adler,n.pending_buf,n.pending-o,o)}te(e);o=n.pending;if(n.pending===n.pending_buf_size){break}}ne(n,n.gzhead.extra[n.gzindex]&255);n.gzindex++}if(n.gzhead.hcrc&&n.pending>o){e.adler=a(e.adler,n.pending_buf,n.pending-o,o)}if(n.gzindex===n.gzhead.extra.length){n.gzindex=0;n.status=$}}else{n.status=$}}if(n.status===$){if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o){e.adler=a(e.adler,n.pending_buf,n.pending-o,o)}te(e);o=n.pending;if(n.pending===n.pending_buf_size){s=1;break}}if(n.gzindex<n.gzhead.name.length){s=n.gzhead.name.charCodeAt(n.gzindex++)&255}else{s=0}ne(n,s)}while(s!==0);if(n.gzhead.hcrc&&n.pending>o){e.adler=a(e.adler,n.pending_buf,n.pending-o,o)}if(s===0){n.gzindex=0;n.status=G}}else{n.status=G}}if(n.status===G){if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o){e.adler=a(e.adler,n.pending_buf,n.pending-o,o)}te(e);o=n.pending;if(n.pending===n.pending_buf_size){s=1;break}}if(n.gzindex<n.gzhead.comment.length){s=n.gzhead.comment.charCodeAt(n.gzindex++)&255}else{s=0}ne(n,s)}while(s!==0);if(n.gzhead.hcrc&&n.pending>o){e.adler=a(e.adler,n.pending_buf,n.pending-o,o)}if(s===0){n.status=H}}else{n.status=H}}if(n.status===H){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size){te(e)}if(n.pending+2<=n.pending_buf_size){ne(n,e.adler&255);ne(n,e.adler>>8&255);e.adler=0;n.status=W}}else{n.status=W}}if(n.pending!==0){te(e);if(e.avail_out===0){n.last_flush=-1;return d}}else if(e.avail_in===0&&Q(t)<=Q(r)&&t!==f){return Z(e,g)}if(n.status===V&&e.avail_in!==0){return Z(e,g)}if(e.avail_in!==0||n.lookahead!==0||t!==u&&n.status!==V){var b=n.strategy===_?he(n,t):n.strategy===w?fe(n,t):pe[n.level].func(n,t);if(b===Y||b===K){n.status=V}if(b===q||b===Y){if(e.avail_out===0){n.last_flush=-1}return d}if(b===J){if(t===l){i._tr_align(n)}else if(t!==h){i._tr_stored_block(n,0,0,false);if(t===c){ee(n.head);if(n.lookahead===0){n.strstart=0;n.block_start=0;n.insert=0}}}te(e);if(e.avail_out===0){n.last_flush=-1;return d}}}if(t!==f){return d}if(n.wrap<=0){return p}if(n.wrap===2){ne(n,e.adler&255);ne(n,e.adler>>8&255);ne(n,e.adler>>16&255);ne(n,e.adler>>24&255);ne(n,e.total_in&255);ne(n,e.total_in>>8&255);ne(n,e.total_in>>16&255);ne(n,e.total_in>>24&255)}else{ie(n,e.adler>>>16);ie(n,e.adler&65535)}te(e);if(n.wrap>0){n.wrap=-n.wrap}return n.pending!==0?d:p}function Se(e){var t;if(!e||!e.state){return v}t=e.state.status;if(t!==U&&t!==z&&t!==$&&t!==G&&t!==H&&t!==W&&t!==V){return Z(e,v)}e.state=null;return t===W?Z(e,m):d}function Te(e,t){var r=t.length;var i;var a,s;var u;var l;var c;var f;var h;if(!e||!e.state){return v}i=e.state;u=i.wrap;if(u===2||u===1&&i.status!==U||i.lookahead){return v}if(u===1){e.adler=o(e.adler,t,r,0)}i.wrap=0;if(r>=i.w_size){if(u===0){ee(i.head);i.strstart=0;i.block_start=0;i.insert=0}h=new n.Buf8(i.w_size);n.arraySet(h,t,r-i.w_size,i.w_size,0);t=h;r=i.w_size}l=e.avail_in;c=e.next_in;f=e.input;e.avail_in=r;e.next_in=0;e.input=t;se(i);while(i.lookahead>=N){a=i.strstart;s=i.lookahead-(N-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[a+N-1])&i.hash_mask;i.prev[a&i.w_mask]=i.head[i.ins_h];i.head[i.ins_h]=a;a++}while(--s);i.strstart=a;i.lookahead=N-1;se(i)}i.strstart+=i.lookahead;i.block_start=i.strstart;i.insert=i.lookahead;i.lookahead=0;i.match_length=i.prev_length=N-1;i.match_available=0;e.next_in=c;e.input=f;e.avail_in=l;i.wrap=u;return d}t.deflateInit=we;t.deflateInit2=_e;t.deflateReset=ye;t.deflateResetKeep=ge;t.deflateSetHeader=be;t.deflate=Ee;t.deflateEnd=Se;t.deflateSetDictionary=Te;t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";function n(e,t,r,n){var i=e&65535|0,o=e>>>16&65535|0,a=0;while(r!==0){a=r>2e3?2e3:r;r-=a;do{i=i+t[n++]|0;o=o+i|0}while(--a);i%=65521;o%=65521}return i|o<<16|0}e.exports=n},function(e,t,r){"use strict";function n(){var e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++){e=e&1?3988292384^e>>>1:e>>>1}t[r]=e}return t}var i=n();function o(e,t,r,n){var o=i,a=n+r;e^=-1;for(var s=n;s<a;s++){e=e>>>8^o[(e^t[s])&255]}return e^-1}e.exports=o},function(e,t,r){"use strict";var n=r(18);var i=r(104);var o=r(105);var a=r(233);var s=r(234);var u=0;var l=1;var c=2;var f=4;var h=5;var d=6;var p=0;var v=1;var m=2;var g=-2;var y=-3;var b=-4;var _=-5;var w=8;var E=1;var S=2;var T=3;var A=4;var x=5;var D=6;var O=7;var I=8;var C=9;var k=10;var R=11;var P=12;var M=13;var L=14;var N=15;var F=16;var j=17;var B=18;var U=19;var z=20;var $=21;var G=22;var H=23;var W=24;var V=25;var q=26;var J=27;var Y=28;var K=29;var X=30;var Z=31;var Q=32;var ee=852;var te=592;var re=15;var ne=re;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function oe(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new n.Buf16(320);this.work=new n.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function ae(e){var t;if(!e||!e.state){return g}t=e.state;e.total_in=e.total_out=t.total=0;e.msg="";if(t.wrap){e.adler=t.wrap&1}t.mode=E;t.last=0;t.havedict=0;t.dmax=32768;t.head=null;t.hold=0;t.bits=0;t.lencode=t.lendyn=new n.Buf32(ee);t.distcode=t.distdyn=new n.Buf32(te);t.sane=1;t.back=-1;return p}function se(e){var t;if(!e||!e.state){return g}t=e.state;t.wsize=0;t.whave=0;t.wnext=0;return ae(e)}function ue(e,t){var r;var n;if(!e||!e.state){return g}n=e.state;if(t<0){r=0;t=-t}else{r=(t>>4)+1;if(t<48){t&=15}}if(t&&(t<8||t>15)){return g}if(n.window!==null&&n.wbits!==t){n.window=null}n.wrap=r;n.wbits=t;return se(e)}function le(e,t){var r;var n;if(!e){return g}n=new oe;e.state=n;n.window=null;r=ue(e,t);if(r!==p){e.state=null}return r}function ce(e){return le(e,ne)}var fe=true;var he,de;function pe(e){if(fe){var t;he=new n.Buf32(512);de=new n.Buf32(32);t=0;while(t<144){e.lens[t++]=8}while(t<256){e.lens[t++]=9}while(t<280){e.lens[t++]=7}while(t<288){e.lens[t++]=8}s(l,e.lens,0,288,he,0,e.work,{bits:9});t=0;while(t<32){e.lens[t++]=5}s(c,e.lens,0,32,de,0,e.work,{bits:5});fe=false}e.lencode=he;e.lenbits=9;e.distcode=de;e.distbits=5}function ve(e,t,r,i){var o;var a=e.state;if(a.window===null){a.wsize=1<<a.wbits;a.wnext=0;a.whave=0;a.window=new n.Buf8(a.wsize)}if(i>=a.wsize){n.arraySet(a.window,t,r-a.wsize,a.wsize,0);a.wnext=0;a.whave=a.wsize}else{o=a.wsize-a.wnext;if(o>i){o=i}n.arraySet(a.window,t,r-i,o,a.wnext);i-=o;if(i){n.arraySet(a.window,t,r-i,i,0);a.wnext=i;a.whave=a.wsize}else{a.wnext+=o;if(a.wnext===a.wsize){a.wnext=0}if(a.whave<a.wsize){a.whave+=o}}}return 0}function me(e,t){var r;var ee,te;var re;var ne;var oe,ae;var se;var ue;var le,ce;var fe;var he;var de;var me=0;var ge,ye,be;var _e,we,Ee;var Se;var Te;var Ae=new n.Buf8(4);var xe;var De;var Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0){return g}r=e.state;if(r.mode===P){r.mode=M}ne=e.next_out;te=e.output;ae=e.avail_out;re=e.next_in;ee=e.input;oe=e.avail_in;se=r.hold;ue=r.bits;le=oe;ce=ae;Te=p;e:for(;;){switch(r.mode){case E:if(r.wrap===0){r.mode=M;break}while(ue<16){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if(r.wrap&2&&se===35615){r.check=0;Ae[0]=se&255;Ae[1]=se>>>8&255;r.check=o(r.check,Ae,2,0);se=0;ue=0;r.mode=S;break}r.flags=0;if(r.head){r.head.done=false}if(!(r.wrap&1)||(((se&255)<<8)+(se>>8))%31){e.msg="incorrect header check";r.mode=X;break}if((se&15)!==w){e.msg="unknown compression method";r.mode=X;break}se>>>=4;ue-=4;Se=(se&15)+8;if(r.wbits===0){r.wbits=Se}else if(Se>r.wbits){e.msg="invalid window size";r.mode=X;break}r.dmax=1<<Se;e.adler=r.check=1;r.mode=se&512?k:P;se=0;ue=0;break;case S:while(ue<16){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}r.flags=se;if((r.flags&255)!==w){e.msg="unknown compression method";r.mode=X;break}if(r.flags&57344){e.msg="unknown header flags set";r.mode=X;break}if(r.head){r.head.text=se>>8&1}if(r.flags&512){Ae[0]=se&255;Ae[1]=se>>>8&255;r.check=o(r.check,Ae,2,0)}se=0;ue=0;r.mode=T;case T:while(ue<32){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if(r.head){r.head.time=se}if(r.flags&512){Ae[0]=se&255;Ae[1]=se>>>8&255;Ae[2]=se>>>16&255;Ae[3]=se>>>24&255;r.check=o(r.check,Ae,4,0)}se=0;ue=0;r.mode=A;case A:while(ue<16){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if(r.head){r.head.xflags=se&255;r.head.os=se>>8}if(r.flags&512){Ae[0]=se&255;Ae[1]=se>>>8&255;r.check=o(r.check,Ae,2,0)}se=0;ue=0;r.mode=x;case x:if(r.flags&1024){while(ue<16){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}r.length=se;if(r.head){r.head.extra_len=se}if(r.flags&512){Ae[0]=se&255;Ae[1]=se>>>8&255;r.check=o(r.check,Ae,2,0)}se=0;ue=0}else if(r.head){r.head.extra=null}r.mode=D;case D:if(r.flags&1024){fe=r.length;if(fe>oe){fe=oe}if(fe){if(r.head){Se=r.head.extra_len-r.length;if(!r.head.extra){r.head.extra=new Array(r.head.extra_len)}n.arraySet(r.head.extra,ee,re,fe,Se)}if(r.flags&512){r.check=o(r.check,ee,fe,re)}oe-=fe;re+=fe;r.length-=fe}if(r.length){break e}}r.length=0;r.mode=O;case O:if(r.flags&2048){if(oe===0){break e}fe=0;do{Se=ee[re+fe++];if(r.head&&Se&&r.length<65536){r.head.name+=String.fromCharCode(Se)}}while(Se&&fe<oe);if(r.flags&512){r.check=o(r.check,ee,fe,re)}oe-=fe;re+=fe;if(Se){break e}}else if(r.head){r.head.name=null}r.length=0;r.mode=I;case I:if(r.flags&4096){if(oe===0){break e}fe=0;do{Se=ee[re+fe++];if(r.head&&Se&&r.length<65536){r.head.comment+=String.fromCharCode(Se)}}while(Se&&fe<oe);if(r.flags&512){r.check=o(r.check,ee,fe,re)}oe-=fe;re+=fe;if(Se){break e}}else if(r.head){r.head.comment=null}r.mode=C;case C:if(r.flags&512){while(ue<16){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if(se!==(r.check&65535)){e.msg="header crc mismatch";r.mode=X;break}se=0;ue=0}if(r.head){r.head.hcrc=r.flags>>9&1;r.head.done=true}e.adler=r.check=0;r.mode=P;break;case k:while(ue<32){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}e.adler=r.check=ie(se);se=0;ue=0;r.mode=R;case R:if(r.havedict===0){e.next_out=ne;e.avail_out=ae;e.next_in=re;e.avail_in=oe;r.hold=se;r.bits=ue;return m}e.adler=r.check=1;r.mode=P;case P:if(t===h||t===d){break e}case M:if(r.last){se>>>=ue&7;ue-=ue&7;r.mode=J;break}while(ue<3){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}r.last=se&1;se>>>=1;ue-=1;switch(se&3){case 0:r.mode=L;break;case 1:pe(r);r.mode=z;if(t===d){se>>>=2;ue-=2;break e}break;case 2:r.mode=j;break;case 3:e.msg="invalid block type";r.mode=X}se>>>=2;ue-=2;break;case L:se>>>=ue&7;ue-=ue&7;while(ue<32){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if((se&65535)!==(se>>>16^65535)){e.msg="invalid stored block lengths";r.mode=X;break}r.length=se&65535;se=0;ue=0;r.mode=N;if(t===d){break e}case N:r.mode=F;case F:fe=r.length;if(fe){if(fe>oe){fe=oe}if(fe>ae){fe=ae}if(fe===0){break e}n.arraySet(te,ee,re,fe,ne);oe-=fe;re+=fe;ae-=fe;ne+=fe;r.length-=fe;break}r.mode=P;break;case j:while(ue<14){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}r.nlen=(se&31)+257;se>>>=5;ue-=5;r.ndist=(se&31)+1;se>>>=5;ue-=5;r.ncode=(se&15)+4;se>>>=4;ue-=4;if(r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols";r.mode=X;break}r.have=0;r.mode=B;case B:while(r.have<r.ncode){while(ue<3){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}r.lens[Oe[r.have++]]=se&7;se>>>=3;ue-=3}while(r.have<19){r.lens[Oe[r.have++]]=0}r.lencode=r.lendyn;r.lenbits=7;xe={bits:r.lenbits};Te=s(u,r.lens,0,19,r.lencode,0,r.work,xe);r.lenbits=xe.bits;if(Te){e.msg="invalid code lengths set";r.mode=X;break}r.have=0;r.mode=U;case U:while(r.have<r.nlen+r.ndist){for(;;){me=r.lencode[se&(1<<r.lenbits)-1];ge=me>>>24;ye=me>>>16&255;be=me&65535;if(ge<=ue){break}if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if(be<16){se>>>=ge;ue-=ge;r.lens[r.have++]=be}else{if(be===16){De=ge+2;while(ue<De){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}se>>>=ge;ue-=ge;if(r.have===0){e.msg="invalid bit length repeat";r.mode=X;break}Se=r.lens[r.have-1];fe=3+(se&3);se>>>=2;ue-=2}else if(be===17){De=ge+3;while(ue<De){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}se>>>=ge;ue-=ge;Se=0;fe=3+(se&7);se>>>=3;ue-=3}else{De=ge+7;while(ue<De){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}se>>>=ge;ue-=ge;Se=0;fe=11+(se&127);se>>>=7;ue-=7}if(r.have+fe>r.nlen+r.ndist){e.msg="invalid bit length repeat";r.mode=X;break}while(fe--){r.lens[r.have++]=Se}}}if(r.mode===X){break}if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block";r.mode=X;break}r.lenbits=9;xe={bits:r.lenbits};Te=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,xe);r.lenbits=xe.bits;if(Te){e.msg="invalid literal/lengths set";r.mode=X;break}r.distbits=6;r.distcode=r.distdyn;xe={bits:r.distbits};Te=s(c,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,xe);r.distbits=xe.bits;if(Te){e.msg="invalid distances set";r.mode=X;break}r.mode=z;if(t===d){break e}case z:r.mode=$;case $:if(oe>=6&&ae>=258){e.next_out=ne;e.avail_out=ae;e.next_in=re;e.avail_in=oe;r.hold=se;r.bits=ue;a(e,ce);ne=e.next_out;te=e.output;ae=e.avail_out;re=e.next_in;ee=e.input;oe=e.avail_in;se=r.hold;ue=r.bits;if(r.mode===P){r.back=-1}break}r.back=0;for(;;){me=r.lencode[se&(1<<r.lenbits)-1];ge=me>>>24;ye=me>>>16&255;be=me&65535;if(ge<=ue){break}if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if(ye&&(ye&240)===0){_e=ge;we=ye;Ee=be;for(;;){me=r.lencode[Ee+((se&(1<<_e+we)-1)>>_e)];ge=me>>>24;ye=me>>>16&255;be=me&65535;if(_e+ge<=ue){break}if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}se>>>=_e;ue-=_e;r.back+=_e}se>>>=ge;ue-=ge;r.back+=ge;r.length=be;if(ye===0){r.mode=q;break}if(ye&32){r.back=-1;r.mode=P;break}if(ye&64){e.msg="invalid literal/length code";r.mode=X;break}r.extra=ye&15;r.mode=G;case G:if(r.extra){De=r.extra;while(ue<De){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}r.length+=se&(1<<r.extra)-1;se>>>=r.extra;ue-=r.extra;r.back+=r.extra}r.was=r.length;r.mode=H;case H:for(;;){me=r.distcode[se&(1<<r.distbits)-1];ge=me>>>24;ye=me>>>16&255;be=me&65535;if(ge<=ue){break}if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if((ye&240)===0){_e=ge;we=ye;Ee=be;for(;;){me=r.distcode[Ee+((se&(1<<_e+we)-1)>>_e)];ge=me>>>24;ye=me>>>16&255;be=me&65535;if(_e+ge<=ue){break}if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}se>>>=_e;ue-=_e;r.back+=_e}se>>>=ge;ue-=ge;r.back+=ge;if(ye&64){e.msg="invalid distance code";r.mode=X;break}r.offset=be;r.extra=ye&15;r.mode=W;case W:if(r.extra){De=r.extra;while(ue<De){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}r.offset+=se&(1<<r.extra)-1;se>>>=r.extra;ue-=r.extra;r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back";r.mode=X;break}r.mode=V;case V:if(ae===0){break e}fe=ce-ae;if(r.offset>fe){fe=r.offset-fe;if(fe>r.whave){if(r.sane){e.msg="invalid distance too far back";r.mode=X;break}}if(fe>r.wnext){fe-=r.wnext;he=r.wsize-fe}else{he=r.wnext-fe}if(fe>r.length){fe=r.length}de=r.window}else{de=te;he=ne-r.offset;fe=r.length}if(fe>ae){fe=ae}ae-=fe;r.length-=fe;do{te[ne++]=de[he++]}while(--fe);if(r.length===0){r.mode=$}break;case q:if(ae===0){break e}te[ne++]=r.length;ae--;r.mode=$;break;case J:if(r.wrap){while(ue<32){if(oe===0){break e}oe--;se|=ee[re++]<<ue;ue+=8}ce-=ae;e.total_out+=ce;r.total+=ce;if(ce){e.adler=r.check=r.flags?o(r.check,te,ce,ne-ce):i(r.check,te,ce,ne-ce)}ce=ae;if((r.flags?se:ie(se))!==r.check){e.msg="incorrect data check";r.mode=X;break}se=0;ue=0}r.mode=Y;case Y:if(r.wrap&&r.flags){while(ue<32){if(oe===0){break e}oe--;se+=ee[re++]<<ue;ue+=8}if(se!==(r.total&4294967295)){e.msg="incorrect length check";r.mode=X;break}se=0;ue=0}r.mode=K;case K:Te=v;break e;case X:Te=y;break e;case Z:return b;case Q:default:return g}}e.next_out=ne;e.avail_out=ae;e.next_in=re;e.avail_in=oe;r.hold=se;r.bits=ue;if(r.wsize||ce!==e.avail_out&&r.mode<X&&(r.mode<J||t!==f)){if(ve(e,e.output,e.next_out,ce-e.avail_out)){r.mode=Z;return b}}le-=e.avail_in;ce-=e.avail_out;e.total_in+=le;e.total_out+=ce;r.total+=ce;if(r.wrap&&ce){e.adler=r.check=r.flags?o(r.check,te,ce,e.next_out-ce):i(r.check,te,ce,e.next_out-ce)}e.data_type=r.bits+(r.last?64:0)+(r.mode===P?128:0)+(r.mode===z||r.mode===N?256:0);if((le===0&&ce===0||t===f)&&Te===p){Te=_}return Te}function ge(e){if(!e||!e.state){return g}var t=e.state;if(t.window){t.window=null}e.state=null;return p}function ye(e,t){var r;if(!e||!e.state){return g}r=e.state;if((r.wrap&2)===0){return g}r.head=t;t.done=false;return p}function be(e,t){var r=t.length;var n;var o;var a;if(!e||!e.state){return g}n=e.state;if(n.wrap!==0&&n.mode!==R){return g}if(n.mode===R){o=1;o=i(o,t,r,0);if(o!==n.check){return y}}a=ve(e,t,r,r);if(a){n.mode=Z;return b}n.havedict=1;return p}t.inflateReset=se;t.inflateReset2=ue;t.inflateResetKeep=ae;t.inflateInit=ce;t.inflateInit2=le;t.inflate=me;t.inflateEnd=ge;t.inflateGetHeader=ye;t.inflateSetDictionary=be;t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=function e(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++){i[o-2]=arguments[o]}return new Promise((function(e,n){i.push((function(t,r){if(t){n(t)}e(r)}));t.bind(r).apply(void 0,i)}))};var i=n;t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getExtension=t.getType=t.addType=void 0;var n={};var i=function e(t){return Object.entries(n).find((function(e){return e[1].includes(t)}))||[]};var o=function e(t,r){n[t]=r};t.addType=o;var a=function e(t){var r=t.split("/").slice(-1);var n=r[r.length-1].split(".").pop();var o=i(n);return o[0]};t.getType=a;var s=function e(t){return(n[t.toLowerCase()]||[])[0]};t.getExtension=s},function(e,t){function r(e,t){switch(e){case 1:return t.nextUInt8();case 3:return t.nextUInt16();case 4:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 8:return t.nextUInt16();case 9:return t.nextUInt32();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function n(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function i(e,t){var i=t.nextUInt16(),o=t.nextUInt16(),a=n(o),s=t.nextUInt32(),u=a*s,l,c,f;if(u>4){t=e.openWithOffset(t.nextUInt32())}if(o===2){l=t.nextString(s);var h=l.indexOf("\0");if(h!==-1){l=l.substr(0,h)}}else if(o===7){l=t.nextBuffer(s)}else if(o!==0){l=[];for(f=0;f<s;++f){l.push(r(o,t))}}if(u<4){t.skip(4-u)}return[i,l,o]}function o(e,t,r){var n=t.nextUInt16(),o,a;for(a=0;a<n;++a){o=i(e,t);r(o[0],o[1],o[2])}}function a(e){var t=e.nextString(6);if(t!=="Exif\0\0"){throw new Error("Invalid EXIF header")}var r=e.mark();var n=e.nextUInt16();if(n===18761){e.setBigEndian(false)}else if(n===19789){e.setBigEndian(true)}else{throw new Error("Invalid TIFF header")}if(e.nextUInt16()!==42){throw new Error("Invalid TIFF data")}return r}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var r;try{r=a(e)}catch(e){return false}var n,i,s;var u=r.openWithOffset(e.nextUInt32()),l=this.IFD0;o(r,u,(function(e,r,o){switch(e){case 34853:i=r[0];break;case 34665:n=r[0];break;default:t(l,e,r,o);break}}));var c=u.nextUInt32();if(c!==0){var f=r.openWithOffset(c);o(r,f,t.bind(null,this.IFD1))}if(i){var h=r.openWithOffset(i);o(r,h,t.bind(null,this.GPSIFD))}if(n){var d=r.openWithOffset(n),p=this.InteropIFD;o(r,d,(function(e,r,n){if(e===40965){s=r[0]}else{t(p,e,r,n)}}))}if(s){var v=r.openWithOffset(s);o(r,v,t.bind(null,this.InteropIFD))}return true}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.clone=u;t.addLast=c;t.addFirst=f;t.removeLast=h;t.removeFirst=d;t.insert=p;t.removeAt=v;t.replaceAt=m;t.getIn=g;t.set=y;t.setIn=b;t.update=w;t.updateIn=E;t.merge=S;t.mergeDeep=T;t.mergeIn=A;t.omit=x;t.addDefaults=D;t.default=void 0;const n="INVALID_ARGS";const i="production"!=="production";function o(e){throw new Error(e)}function a(e){const t=Object.keys(e);if(Object.getOwnPropertySymbols){return t.concat(Object.getOwnPropertySymbols(e))}return t}const s={}.hasOwnProperty;function u(e){if(Array.isArray(e))return e.slice();const t=e;const r=a(t);const n={};for(let e=0;e<r.length;e++){const i=r[e];n[i]=t[i]}return n}function l(e){return e!=null&&typeof e==="object"}function c(e,t){if(Array.isArray(t))return e.concat(t);return e.concat([t])}function f(e,t){if(Array.isArray(t))return t.concat(e);return[t].concat(e)}function h(e){if(!e.length)return e;return e.slice(0,e.length-1)}function d(e){if(!e.length)return e;return e.slice(1)}function p(e,t,r){return e.slice(0,t).concat(Array.isArray(r)?r:[r]).concat(e.slice(t))}function v(e,t){if(t>=e.length||t<0)return e;return e.slice(0,t).concat(e.slice(t+1))}function m(e,t,r){if(e[t]===r)return e;const n=e.length;const i=Array(n);for(let t=0;t<n;t++){i[t]=e[t]}i[t]=r;return i}function g(e,t){if(!Array.isArray(t)){o(i?"A path array should be provided when calling getIn()":n)}if(e==null)return undefined;let r=e;for(let e=0;e<t.length;e++){const n=t[e];r=r!=null?r[n]:undefined;if(r===undefined)return r}return r}function y(e,t,r){let n=e;if(n==null)n=typeof t==="number"?[]:{};if(n[t]===r)return n;const i=u(n);i[t]=r;return i}function b(e,t,r){if(!t.length)return r;return _(e,t,r,0)}function _(e,t,r,n){let i;const o=t[n];if(n===t.length-1){i=r}else{const a=l(e)&&l(e[o])?e[o]:typeof t[n+1]==="number"?[]:{};i=_(a,t,r,n+1)}return y(e,o,i)}function w(e,t,r){const n=e==null?undefined:e[t];const i=r(n);return y(e,t,i)}function E(e,t,r){const n=g(e,t);const i=r(n);return b(e,t,i)}function S(e,t,r,n,i,o,...a){return a.length?O.call(null,false,false,e,t,r,n,i,o,...a):O(false,false,e,t,r,n,i,o)}function T(e,t,r,n,i,o,...a){return a.length?O.call(null,false,true,e,t,r,n,i,o,...a):O(false,true,e,t,r,n,i,o)}function A(e,t,r,n,i,o,a,...s){let u=g(e,t);if(u==null)u={};let l;if(s.length){l=O.call(null,false,false,u,r,n,i,o,a,...s)}else{l=O(false,false,u,r,n,i,o,a)}return b(e,t,l)}function x(e,t){const r=Array.isArray(t)?t:[t];let n=false;for(let t=0;t<r.length;t++){if(s.call(e,r[t])){n=true;break}}if(!n)return e;const i={};const o=a(e);for(let t=0;t<o.length;t++){const n=o[t];if(r.indexOf(n)>=0)continue;i[n]=e[n]}return i}function D(e,t,r,n,i,o,...a){return a.length?O.call(null,true,false,e,t,r,n,i,o,...a):O(true,false,e,t,r,n,i,o)}function O(e,t,r,...s){let c=r;if(!(c!=null)){o(i?"At least one object should be provided to merge()":n)}let f=false;for(let r=0;r<s.length;r++){const n=s[r];if(n==null)continue;const i=a(n);if(!i.length)continue;for(let r=0;r<=i.length;r++){const o=i[r];if(e&&c[o]!==undefined)continue;let a=n[o];if(t&&l(c[o])&&l(a)){a=O(e,t,c[o],a)}if(a===undefined||a===c[o])continue;if(!f){f=true;c=u(c)}c[o]=a}}return c}const I={clone:u,addLast:c,addFirst:f,removeLast:h,removeFirst:d,insert:p,removeAt:v,replaceAt:m,getIn:g,set:y,setIn:b,update:w,updateIn:E,merge:S,mergeDeep:T,mergeIn:A,omit:x,addDefaults:D};var C=I;t.default=C},function(e,t,r){"use strict";(function(t,n){var i=r(15);var o=r(29);var a=e.exports=function(){o.call(this);this._buffers=[];this._buffered=0;this._reads=[];this._paused=false;this._encoding="utf8";this.writable=true};i.inherits(a,o);a.prototype.read=function(e,r){this._reads.push({length:Math.abs(e),allowLess:e<0,func:r});t.nextTick(function(){this._process();if(this._paused&&this._reads.length>0){this._paused=false;this.emit("drain")}}.bind(this))};a.prototype.write=function(e,t){if(!this.writable){this.emit("error",new Error("Stream not writable"));return false}var r;if(n.isBuffer(e)){r=e}else{r=new n(e,t||this._encoding)}this._buffers.push(r);this._buffered+=r.length;this._process();if(this._reads&&this._reads.length===0){this._paused=true}return this.writable&&!this._paused};a.prototype.end=function(e,t){if(e){this.write(e,t)}this.writable=false;if(!this._buffers){return}if(this._buffers.length===0){this._end()}else{this._buffers.push(null);this._process()}};a.prototype.destroySoon=a.prototype.end;a.prototype._end=function(){if(this._reads.length>0){this.emit("error",new Error("Unexpected end of input"))}this.destroy()};a.prototype.destroy=function(){if(!this._buffers){return}this.writable=false;this._reads=null;this._buffers=null;this.emit("close")};a.prototype._processReadAllowingLess=function(e){this._reads.shift();var t=this._buffers[0];if(t.length>e.length){this._buffered-=e.length;this._buffers[0]=t.slice(e.length);e.func.call(this,t.slice(0,e.length))}else{this._buffered-=t.length;this._buffers.shift();e.func.call(this,t)}};a.prototype._processRead=function(e){this._reads.shift();var t=0;var r=0;var i=new n(e.length);while(t<e.length){var o=this._buffers[r++];var a=Math.min(o.length,e.length-t);o.copy(i,t,0,a);t+=a;if(a!==o.length){this._buffers[--r]=o.slice(a)}}if(r>0){this._buffers.splice(0,r)}this._buffered-=e.length;e.func.call(this,i)};a.prototype._process=function(){try{while(this._buffered>0&&this._reads&&this._reads.length>0){var e=this._reads[0];if(e.allowLess){this._processReadAllowingLess(e)}else if(this._buffered>=e.length){this._processRead(e)}else{break}}if(this._buffers&&!this.writable){this._end()}}catch(e){this.emit("error",e)}}}).call(this,r(3),r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(113);var i=r(114);function o(e,t,r){var n=e*t;if(r!==8){n=Math.ceil(n/(8/r))}return n}var a=e.exports=function(e,t){var r=e.width;var i=e.height;var a=e.interlace;var s=e.bpp;var u=e.depth;this.read=t.read;this.write=t.write;this.complete=t.complete;this._imageIndex=0;this._images=[];if(a){var l=n.getImagePasses(r,i);for(var c=0;c<l.length;c++){this._images.push({byteWidth:o(l[c].width,s,u),height:l[c].height,lineIndex:0})}}else{this._images.push({byteWidth:o(r,s,u),height:i,lineIndex:0})}if(u===8){this._xComparison=s}else if(u===16){this._xComparison=s*2}else{this._xComparison=1}};a.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};a.prototype._unFilterType1=function(e,t,r){var n=this._xComparison;var i=n-1;for(var o=0;o<r;o++){var a=e[1+o];var s=o>i?t[o-n]:0;t[o]=a+s}};a.prototype._unFilterType2=function(e,t,r){var n=this._lastLine;for(var i=0;i<r;i++){var o=e[1+i];var a=n?n[i]:0;t[i]=o+a}};a.prototype._unFilterType3=function(e,t,r){var n=this._xComparison;var i=n-1;var o=this._lastLine;for(var a=0;a<r;a++){var s=e[1+a];var u=o?o[a]:0;var l=a>i?t[a-n]:0;var c=Math.floor((l+u)/2);t[a]=s+c}};a.prototype._unFilterType4=function(e,t,r){var n=this._xComparison;var o=n-1;var a=this._lastLine;for(var s=0;s<r;s++){var u=e[1+s];var l=a?a[s]:0;var c=s>o?t[s-n]:0;var f=s>o&&a?a[s-n]:0;var h=i(c,l,f);t[s]=u+h}};a.prototype._reverseFilterLine=function(e){var r=e[0];var n;var i=this._images[this._imageIndex];var o=i.byteWidth;if(r===0){n=e.slice(1,o+1)}else{n=new t(o);switch(r){case 1:this._unFilterType1(e,n,o);break;case 2:this._unFilterType2(e,n,o);break;case 3:this._unFilterType3(e,n,o);break;case 4:this._unFilterType4(e,n,o);break;default:throw new Error("Unrecognised filter type - "+r)}}this.write(n);i.lineIndex++;if(i.lineIndex>=i.height){this._lastLine=null;this._imageIndex++;i=this._images[this._imageIndex]}else{this._lastLine=n}if(i){this.read(i.byteWidth+1,this._reverseFilterLine.bind(this))}else{this._lastLine=null;this.complete()}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];t.getImagePasses=function(e,t){var r=[];var i=e%8;var o=t%8;var a=(e-i)/8;var s=(t-o)/8;for(var u=0;u<n.length;u++){var l=n[u];var c=a*l.x.length;var f=s*l.y.length;for(var h=0;h<l.x.length;h++){if(l.x[h]<i){c++}else{break}}for(h=0;h<l.y.length;h++){if(l.y[h]<o){f++}else{break}}if(c>0&&f>0){r.push({width:c,height:f,index:u})}}return r};t.getInterlaceIterator=function(e){return function(t,r,i){var o=t%n[i].x.length;var a=(t-o)/n[i].x.length*8+n[i].x[o];var s=r%n[i].y.length;var u=(r-s)/n[i].y.length*8+n[i].y[s];return a*4+u*e*4}}},function(e,t,r){"use strict";e.exports=function e(t,r,n){var i=t+r-n;var o=Math.abs(i-t);var a=Math.abs(i-r);var s=Math.abs(i-n);if(o<=a&&o<=s){return t}if(a<=s){return r}return n}},function(e,t,r){"use strict";(function(t){var n=r(34);var i=r(116);var o=e.exports=function(e,t){this._options=e;e.checkCRC=e.checkCRC!==false;this._hasIHDR=false;this._hasIEND=false;this._emittedHeadersFinished=false;this._palette=[];this._colorType=0;this._chunks={};this._chunks[n.TYPE_IHDR]=this._handleIHDR.bind(this);this._chunks[n.TYPE_IEND]=this._handleIEND.bind(this);this._chunks[n.TYPE_IDAT]=this._handleIDAT.bind(this);this._chunks[n.TYPE_PLTE]=this._handlePLTE.bind(this);this._chunks[n.TYPE_tRNS]=this._handleTRNS.bind(this);this._chunks[n.TYPE_gAMA]=this._handleGAMA.bind(this);this.read=t.read;this.error=t.error;this.metadata=t.metadata;this.gamma=t.gamma;this.transColor=t.transColor;this.palette=t.palette;this.parsed=t.parsed;this.inflateData=t.inflateData;this.finished=t.finished;this.simpleTransparency=t.simpleTransparency;this.headersFinished=t.headersFinished||function(){}};o.prototype.start=function(){this.read(n.PNG_SIGNATURE.length,this._parseSignature.bind(this))};o.prototype._parseSignature=function(e){var t=n.PNG_SIGNATURE;for(var r=0;r<t.length;r++){if(e[r]!==t[r]){this.error(new Error("Invalid file signature"));return}}this.read(8,this._parseChunkBegin.bind(this))};o.prototype._parseChunkBegin=function(e){var r=e.readUInt32BE(0);var o=e.readUInt32BE(4);var a="";for(var s=4;s<8;s++){a+=String.fromCharCode(e[s])}var u=Boolean(e[4]&32);if(!this._hasIHDR&&o!==n.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}this._crc=new i;this._crc.write(new t(a));if(this._chunks[o]){return this._chunks[o](r)}if(!u){this.error(new Error("Unsupported critical chunk type "+a));return}this.read(r+4,this._skipChunk.bind(this))};o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};o.prototype._parseChunkEnd=function(e){var t=e.readInt32BE(0);var r=this._crc.crc32();if(this._options.checkCRC&&r!==t){this.error(new Error("Crc error - "+t+" - "+r));return}if(!this._hasIEND){this.read(8,this._parseChunkBegin.bind(this))}};o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))};o.prototype._parseIHDR=function(e){this._crc.write(e);var t=e.readUInt32BE(0);var r=e.readUInt32BE(4);var i=e[8];var o=e[9];var a=e[10];var s=e[11];var u=e[12];if(i!==8&&i!==4&&i!==2&&i!==1&&i!==16){this.error(new Error("Unsupported bit depth "+i));return}if(!(o in n.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(a!==0){this.error(new Error("Unsupported compression method"));return}if(s!==0){this.error(new Error("Unsupported filter method"));return}if(u!==0&&u!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=o;var l=n.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=true;this.metadata({width:t,height:r,depth:i,interlace:Boolean(u),palette:Boolean(o&n.COLORTYPE_PALETTE),color:Boolean(o&n.COLORTYPE_COLOR),alpha:Boolean(o&n.COLORTYPE_ALPHA),bpp:l,colorType:o});this._handleChunkEnd()};o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))};o.prototype._parsePLTE=function(e){this._crc.write(e);var t=Math.floor(e.length/3);for(var r=0;r<t;r++){this._palette.push([e[r*3],e[r*3+1],e[r*3+2],255])}this.palette(this._palette);this._handleChunkEnd()};o.prototype._handleTRNS=function(e){this.simpleTransparency();this.read(e,this._parseTRNS.bind(this))};o.prototype._parseTRNS=function(e){this._crc.write(e);if(this._colorType===n.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(e.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var t=0;t<e.length;t++){this._palette[t][3]=e[t]}this.palette(this._palette)}if(this._colorType===n.COLORTYPE_GRAYSCALE){this.transColor([e.readUInt16BE(0)])}if(this._colorType===n.COLORTYPE_COLOR){this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)])}this._handleChunkEnd()};o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))};o.prototype._parseGAMA=function(e){this._crc.write(e);this.gamma(e.readUInt32BE(0)/n.GAMMA_DIVISION);this._handleChunkEnd()};o.prototype._handleIDAT=function(e){if(!this._emittedHeadersFinished){this._emittedHeadersFinished=true;this.headersFinished()}this.read(-e,this._parseIDAT.bind(this,e))};o.prototype._parseIDAT=function(e,t){this._crc.write(t);if(this._colorType===n.COLORTYPE_PALETTE_COLOR&&this._palette.length===0){throw new Error("Expected palette not found")}this.inflateData(t);var r=e-t.length;if(r>0){this._handleIDAT(r)}else{this._handleChunkEnd()}};o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))};o.prototype._parseIEND=function(e){this._crc.write(e);this._hasIEND=true;this._handleChunkEnd();if(this.finished){this.finished()}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=[];(function(){for(var e=0;e<256;e++){var t=e;for(var r=0;r<8;r++){if(t&1){t=3988292384^t>>>1}else{t=t>>>1}}n[e]=t}})();var i=e.exports=function(){this._crc=-1};i.prototype.write=function(e){for(var t=0;t<e.length;t++){this._crc=n[(this._crc^e[t])&255]^this._crc>>>8}return true};i.prototype.crc32=function(){return this._crc^-1};i.crc32=function(e){var t=-1;for(var r=0;r<e.length;r++){t=n[(t^e[r])&255]^t>>>8}return t^-1}},function(e,t,r){"use strict";(function(e){var n=r(113);var i=[function(){},function(e,t,r,n){if(n===t.length){throw new Error("Ran out of data")}var i=t[n];e[r]=i;e[r+1]=i;e[r+2]=i;e[r+3]=255},function(e,t,r,n){if(n+1>=t.length){throw new Error("Ran out of data")}var i=t[n];e[r]=i;e[r+1]=i;e[r+2]=i;e[r+3]=t[n+1]},function(e,t,r,n){if(n+2>=t.length){throw new Error("Ran out of data")}e[r]=t[n];e[r+1]=t[n+1];e[r+2]=t[n+2];e[r+3]=255},function(e,t,r,n){if(n+3>=t.length){throw new Error("Ran out of data")}e[r]=t[n];e[r+1]=t[n+1];e[r+2]=t[n+2];e[r+3]=t[n+3]}];var o=[function(){},function(e,t,r,n){var i=t[0];e[r]=i;e[r+1]=i;e[r+2]=i;e[r+3]=n},function(e,t,r){var n=t[0];e[r]=n;e[r+1]=n;e[r+2]=n;e[r+3]=t[1]},function(e,t,r,n){e[r]=t[0];e[r+1]=t[1];e[r+2]=t[2];e[r+3]=n},function(e,t,r){e[r]=t[0];e[r+1]=t[1];e[r+2]=t[2];e[r+3]=t[3]}];function a(e,t){var r=[];var n=0;function i(){if(n===e.length){throw new Error("Ran out of data")}var i=e[n];n++;var o,a,s,u,l,c,f,h;switch(t){default:throw new Error("unrecognised depth");case 16:f=e[n];n++;r.push((i<<8)+f);break;case 4:f=i&15;h=i>>4;r.push(h,f);break;case 2:l=i&3;c=i>>2&3;f=i>>4&3;h=i>>6&3;r.push(h,f,c,l);break;case 1:o=i&1;a=i>>1&1;s=i>>2&1;u=i>>3&1;l=i>>4&1;c=i>>5&1;f=i>>6&1;h=i>>7&1;r.push(h,f,c,l,u,s,a,o);break}}return{get:function(e){while(r.length<e){i()}var t=r.slice(0,e);r=r.slice(e);return t},resetAfterLine:function(){r.length=0},end:function(){if(n!==e.length){throw new Error("extra data found")}}}}function s(e,t,r,n,o,a){var s=e.width;var u=e.height;var l=e.index;for(var c=0;c<u;c++){for(var f=0;f<s;f++){var h=r(f,c,l);i[n](t,o,h,a);a+=n}}return a}function u(e,t,r,n,i,a){var s=e.width;var u=e.height;var l=e.index;for(var c=0;c<u;c++){for(var f=0;f<s;f++){var h=i.get(n);var d=r(f,c,l);o[n](t,h,d,a)}i.resetAfterLine()}}t.dataToBitMap=function(t,r){var i=r.width;var o=r.height;var l=r.depth;var c=r.bpp;var f=r.interlace;if(l!==8){var h=a(t,l)}var d;if(l<=8){d=new e(i*o*4)}else{d=new Uint16Array(i*o*4)}var p=Math.pow(2,l)-1;var v=0;var m;var g;if(f){m=n.getImagePasses(i,o);g=n.getInterlaceIterator(i,o)}else{var y=0;g=function(){var e=y;y+=4;return e};m=[{width:i,height:o}]}for(var b=0;b<m.length;b++){if(l===8){v=s(m[b],d,g,c,t,v)}else{u(m[b],d,g,c,h,p)}}if(l===8){if(v!==t.length){throw new Error("extra data found")}}else{h.end()}return d}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){function r(e,t,r,n,i){var o=0;for(var a=0;a<n;a++){for(var s=0;s<r;s++){var u=i[e[o]];if(!u){throw new Error("index "+e[o]+" not in palette")}for(var l=0;l<4;l++){t[o+l]=u[l]}o+=4}}}function n(e,t,r,n,i){var o=0;for(var a=0;a<n;a++){for(var s=0;s<r;s++){var u=false;if(i.length===1){if(i[0]===e[o]){u=true}}else if(i[0]===e[o]&&i[1]===e[o+1]&&i[2]===e[o+2]){u=true}if(u){for(var l=0;l<4;l++){t[o+l]=0}}o+=4}}}function i(e,t,r,n,i){var o=255;var a=Math.pow(2,i)-1;var s=0;for(var u=0;u<n;u++){for(var l=0;l<r;l++){for(var c=0;c<4;c++){t[s+c]=Math.floor(e[s+c]*o/a+.5)}s+=4}}}e.exports=function(e,o){var a=o.depth;var s=o.width;var u=o.height;var l=o.colorType;var c=o.transColor;var f=o.palette;var h=e;if(l===3){r(e,h,s,u,f)}else{if(c){n(e,h,s,u,c)}if(a!==8){if(a===16){h=new t(s*u*4)}i(e,h,s,u,a)}}return h}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(34);var i=r(116);var o=r(257);var a=r(258);var s=r(24);var u=e.exports=function(e){this._options=e;e.deflateChunkSize=e.deflateChunkSize||32*1024;e.deflateLevel=e.deflateLevel!=null?e.deflateLevel:9;e.deflateStrategy=e.deflateStrategy!=null?e.deflateStrategy:3;e.inputHasAlpha=e.inputHasAlpha!=null?e.inputHasAlpha:true;e.deflateFactory=e.deflateFactory||s.createDeflate;e.bitDepth=e.bitDepth||8;e.colorType=typeof e.colorType==="number"?e.colorType:n.COLORTYPE_COLOR_ALPHA;e.inputColorType=typeof e.inputColorType==="number"?e.inputColorType:n.COLORTYPE_COLOR_ALPHA;if([n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.colorType)===-1){throw new Error("option color type:"+e.colorType+" is not supported at present")}if([n.COLORTYPE_GRAYSCALE,n.COLORTYPE_COLOR,n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(e.inputColorType)===-1){throw new Error("option input color type:"+e.inputColorType+" is not supported at present")}if(e.bitDepth!==8&&e.bitDepth!==16){throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")}};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};u.prototype.filterData=function(e,t,r){var i=o(e,t,r,this._options);var s=n.COLORTYPE_TO_BPP_MAP[this._options.colorType];var u=a(i,t,r,this._options,s);return u};u.prototype._packChunk=function(e,r){var n=r?r.length:0;var o=new t(n+12);o.writeUInt32BE(n,0);o.writeUInt32BE(e,4);if(r){r.copy(o,8)}o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4);return o};u.prototype.packGAMA=function(e){var r=new t(4);r.writeUInt32BE(Math.floor(e*n.GAMMA_DIVISION),0);return this._packChunk(n.TYPE_gAMA,r)};u.prototype.packIHDR=function(e,r){var i=new t(13);i.writeUInt32BE(e,0);i.writeUInt32BE(r,4);i[8]=this._options.bitDepth;i[9]=this._options.colorType;i[10]=0;i[11]=0;i[12]=0;return this._packChunk(n.TYPE_IHDR,i)};u.prototype.packIDAT=function(e){return this._packChunk(n.TYPE_IDAT,e)};u.prototype.packIEND=function(){return this._packChunk(n.TYPE_IEND,null)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=e.exports=function(e){this._buffer=e;this._reads=[]};n.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})};n.prototype.process=function(){while(this._reads.length>0&&this._buffer.length){var e=this._reads[0];if(this._buffer.length&&(this._buffer.length>=e.length||e.allowLess)){this._reads.shift();var t=this._buffer;this._buffer=t.slice(e.length);e.func.call(this,t.slice(0,e.length))}else{break}}if(this._reads.length>0){return new Error("There are some read requests waitng on finished stream")}if(this._buffer.length>0){return new Error("unrecognised content at end of stream")}}},function(e,t,r){"use strict";var n=r(18);var i=true;var o=true;try{String.fromCharCode.apply(null,[0])}catch(e){i=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=false}var a=new n.Buf8(256);for(var s=0;s<256;s++){a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1}a[254]=a[254]=1;t.string2buf=function(e){var t,r,i,o,a,s=e.length,u=0;for(o=0;o<s;o++){r=e.charCodeAt(o);if((r&64512)===55296&&o+1<s){i=e.charCodeAt(o+1);if((i&64512)===56320){r=65536+(r-55296<<10)+(i-56320);o++}}u+=r<128?1:r<2048?2:r<65536?3:4}t=new n.Buf8(u);for(a=0,o=0;a<u;o++){r=e.charCodeAt(o);if((r&64512)===55296&&o+1<s){i=e.charCodeAt(o+1);if((i&64512)===56320){r=65536+(r-55296<<10)+(i-56320);o++}}if(r<128){t[a++]=r}else if(r<2048){t[a++]=192|r>>>6;t[a++]=128|r&63}else if(r<65536){t[a++]=224|r>>>12;t[a++]=128|r>>>6&63;t[a++]=128|r&63}else{t[a++]=240|r>>>18;t[a++]=128|r>>>12&63;t[a++]=128|r>>>6&63;t[a++]=128|r&63}}return t};function u(e,t){if(t<65534){if(e.subarray&&o||!e.subarray&&i){return String.fromCharCode.apply(null,n.shrinkBuf(e,t))}}var r="";for(var a=0;a<t;a++){r+=String.fromCharCode(e[a])}return r}t.buf2binstring=function(e){return u(e,e.length)};t.binstring2buf=function(e){var t=new n.Buf8(e.length);for(var r=0,i=t.length;r<i;r++){t[r]=e.charCodeAt(r)}return t};t.buf2string=function(e,t){var r,n,i,o;var s=t||e.length;var l=new Array(s*2);for(n=0,r=0;r<s;){i=e[r++];if(i<128){l[n++]=i;continue}o=a[i];if(o>4){l[n++]=65533;r+=o-1;continue}i&=o===2?31:o===3?15:7;while(o>1&&r<s){i=i<<6|e[r++]&63;o--}if(o>1){l[n++]=65533;continue}if(i<65536){l[n++]=i}else{i-=65536;l[n++]=55296|i>>10&1023;l[n++]=56320|i&1023}}return u(l,n)};t.utf8border=function(e,t){var r;t=t||e.length;if(t>e.length){t=e.length}r=t-1;while(r>=0&&(e[r]&192)===128){r--}if(r<0){return t}if(r===0){return t}return r+a[e[r]]>t?r:t}},function(e,t,r){"use strict";function n(e,t,r,n){var o=0;var n=n===undefined?{}:n;var a=n.loop===undefined?null:n.loop;var s=n.palette===undefined?null:n.palette;if(t<=0||r<=0||t>65535||r>65535)throw new Error("Width/Height invalid.");function u(e){var t=e.length;if(t<2||t>256||t&t-1){throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.")}return t}e[o++]=71;e[o++]=73;e[o++]=70;e[o++]=56;e[o++]=57;e[o++]=97;var l=0;var c=0;if(s!==null){var f=u(s);while(f>>=1)++l;f=1<<l;--l;if(n.background!==undefined){c=n.background;if(c>=f)throw new Error("Background index out of range.");if(c===0)throw new Error("Background index explicitly passed as 0.")}}e[o++]=t&255;e[o++]=t>>8&255;e[o++]=r&255;e[o++]=r>>8&255;e[o++]=(s!==null?128:0)|l;e[o++]=c;e[o++]=0;if(s!==null){for(var h=0,d=s.length;h<d;++h){var p=s[h];e[o++]=p>>16&255;e[o++]=p>>8&255;e[o++]=p&255}}if(a!==null){if(a<0||a>65535)throw new Error("Loop count invalid.");e[o++]=33;e[o++]=255;e[o++]=11;e[o++]=78;e[o++]=69;e[o++]=84;e[o++]=83;e[o++]=67;e[o++]=65;e[o++]=80;e[o++]=69;e[o++]=50;e[o++]=46;e[o++]=48;e[o++]=3;e[o++]=1;e[o++]=a&255;e[o++]=a>>8&255;e[o++]=0}var v=false;this.addFrame=function(t,r,n,a,l,c){if(v===true){--o;v=false}c=c===undefined?{}:c;if(t<0||r<0||t>65535||r>65535)throw new Error("x/y invalid.");if(n<=0||a<=0||n>65535||a>65535)throw new Error("Width/Height invalid.");if(l.length<n*a)throw new Error("Not enough pixels for the frame size.");var f=true;var h=c.palette;if(h===undefined||h===null){f=false;h=s}if(h===undefined||h===null)throw new Error("Must supply either a local or global palette.");var d=u(h);var p=0;while(d>>=1)++p;d=1<<p;var m=c.delay===undefined?0:c.delay;var g=c.disposal===undefined?0:c.disposal;if(g<0||g>3)throw new Error("Disposal out of range.");var y=false;var b=0;if(c.transparent!==undefined&&c.transparent!==null){y=true;b=c.transparent;if(b<0||b>=d)throw new Error("Transparent color index.")}if(g!==0||y||m!==0){e[o++]=33;e[o++]=249;e[o++]=4;e[o++]=g<<2|(y===true?1:0);e[o++]=m&255;e[o++]=m>>8&255;e[o++]=b;e[o++]=0}e[o++]=44;e[o++]=t&255;e[o++]=t>>8&255;e[o++]=r&255;e[o++]=r>>8&255;e[o++]=n&255;e[o++]=n>>8&255;e[o++]=a&255;e[o++]=a>>8&255;e[o++]=f===true?128|p-1:0;if(f===true){for(var _=0,w=h.length;_<w;++_){var E=h[_];e[o++]=E>>16&255;e[o++]=E>>8&255;e[o++]=E&255}}o=i(e,o,p<2?2:p,l);return o};this.end=function(){if(v===false){e[o++]=59;v=true}return o};this.getOutputBuffer=function(){return e};this.setOutputBuffer=function(t){e=t};this.getOutputBufferPosition=function(){return o};this.setOutputBufferPosition=function(e){o=e}}function i(e,t,r,n){e[t++]=r;var i=t++;var o=1<<r;var a=o-1;var s=o+1;var u=s+1;var l=r+1;var c=0;var f=0;function h(r){while(c>=r){e[t++]=f&255;f>>=8;c-=8;if(t===i+256){e[i]=255;i=t++}}}function d(e){f|=e<<c;c+=l;h(8)}var p=n[0]&a;var v={};d(o);for(var m=1,g=n.length;m<g;++m){var y=n[m]&a;var b=p<<8|y;var _=v[b];if(_===undefined){f|=p<<c;c+=l;while(c>=8){e[t++]=f&255;f>>=8;c-=8;if(t===i+256){e[i]=255;i=t++}}if(u===4096){d(o);u=s+1;l=r+1;v={}}else{if(u>=1<<l)++l;v[b]=u++}p=y}else{p=_}}d(p);d(s);h(1);if(i+1===t){e[i]=0}else{e[i]=t-i-1;e[t++]=0}return t}function o(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!==56||e[t++]!==97){throw new Error("Invalid GIF 87a/89a header.")}var r=e[t++]|e[t++]<<8;var n=e[t++]|e[t++]<<8;var i=e[t++];var o=i>>7;var s=i&7;var u=1<<s+1;var l=e[t++];e[t++];var c=null;var f=null;if(o){c=t;f=u;t+=u*3}var h=true;var d=[];var p=0;var v=null;var m=0;var g=null;this.width=r;this.height=n;while(h&&t<e.length){switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0){t+=14;g=e[t++]|e[t++]<<8;t++}else{t+=12;while(true){var y=e[t++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;t+=y}}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];p=e[t++]|e[t++]<<8;v=e[t++];if((b&1)===0)v=null;m=b>>2&7;t++;break;case 254:while(true){var y=e[t++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;t+=y}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var _=e[t++]|e[t++]<<8;var w=e[t++]|e[t++]<<8;var E=e[t++]|e[t++]<<8;var S=e[t++]|e[t++]<<8;var T=e[t++];var A=T>>7;var x=T>>6&1;var D=T&7;var O=1<<D+1;var I=c;var C=f;var k=false;if(A){var k=true;I=t;C=O;t+=O*3}var R=t;t++;while(true){var y=e[t++];if(!(y>=0))throw Error("Invalid block size");if(y===0)break;t+=y}d.push({x:_,y:w,width:E,height:S,has_local_palette:k,palette_offset:I,palette_size:C,data_offset:R,data_length:t-R,transparent_index:v,interlaced:!!x,delay:p,disposal:m});break;case 59:h=false;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16));break}}this.numFrames=function(){return d.length};this.loopCount=function(){return g};this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]};this.decodeAndBlitFrameBGRA=function(t,n){var i=this.frameInfo(t);var o=i.width*i.height;var s=new Uint8Array(o);a(e,i.data_offset,s,o);var u=i.palette_offset;var l=i.transparent_index;if(l===null)l=256;var c=i.width;var f=r-c;var h=c;var d=(i.y*r+i.x)*4;var p=((i.y+i.height)*r+i.x)*4;var v=d;var m=f*4;if(i.interlaced===true){m+=r*4*7}var g=8;for(var y=0,b=s.length;y<b;++y){var _=s[y];if(h===0){v+=m;h=c;if(v>=p){m=f*4+r*4*(g-1);v=d+(c+f)*(g<<1);g>>=1}}if(_===l){v+=4}else{var w=e[u+_*3];var E=e[u+_*3+1];var S=e[u+_*3+2];n[v++]=S;n[v++]=E;n[v++]=w;n[v++]=255}--h}};this.decodeAndBlitFrameRGBA=function(t,n){var i=this.frameInfo(t);var o=i.width*i.height;var s=new Uint8Array(o);a(e,i.data_offset,s,o);var u=i.palette_offset;var l=i.transparent_index;if(l===null)l=256;var c=i.width;var f=r-c;var h=c;var d=(i.y*r+i.x)*4;var p=((i.y+i.height)*r+i.x)*4;var v=d;var m=f*4;if(i.interlaced===true){m+=r*4*7}var g=8;for(var y=0,b=s.length;y<b;++y){var _=s[y];if(h===0){v+=m;h=c;if(v>=p){m=f*4+r*4*(g-1);v=d+(c+f)*(g<<1);g>>=1}}if(_===l){v+=4}else{var w=e[u+_*3];var E=e[u+_*3+1];var S=e[u+_*3+2];n[v++]=w;n[v++]=E;n[v++]=S;n[v++]=255}--h}}}function a(e,t,r,n){var i=e[t++];var o=1<<i;var a=o+1;var s=a+1;var u=i+1;var l=(1<<u)-1;var c=0;var f=0;var h=0;var d=e[t++];var p=new Int32Array(4096);var v=null;while(true){while(c<16){if(d===0)break;f|=e[t++]<<c;c+=8;if(d===1){d=e[t++]}else{--d}}if(c<u)break;var m=f&l;f>>=u;c-=u;if(m===o){s=a+1;u=i+1;l=(1<<u)-1;v=null;continue}else if(m===a){break}var g=m<s?m:v;var y=0;var b=g;while(b>o){b=p[b]>>8;++y}var _=b;var w=h+y+(g!==m?1:0);if(w>n){console.log("Warning, gif stream longer than expected.");return}r[h++]=_;h+=y;var E=h;if(g!==m)r[h++]=_;b=g;while(y--){b=p[b];r[--E]=b&255;b>>=8}if(v!==null&&s<4096){p[s++]=v<<8|_;if(s>=l+1&&u<12){++u;l=l<<1|1}}v=m}if(h!==n){console.log("Warning, gif stream shorter than expected.")}return r}try{t.GifWriter=n;t.GifReader=o}catch(e){}},function(e,t,r){"use strict";(function(e){const n=r(122);const{Gif:i,GifError:o}=r(47);function a(){const e=r(124);a=function(){return e};return e}const{GifFrame:s}=r(71);const u=200;const l=100;class c{constructor(e={}){this._transparentRGB=null;if(typeof e.transparentRGB==="number"&&e.transparentRGB!==0){this._transparentRGBA=e.transparentRGB*256}this._testInitialBufferSize=0}decodeGif(e){try{let t;try{t=new n.GifReader(e)}catch(e){throw new o(e)}const r=t.numFrames();const a=[];const s={width:t.width,height:t.height,loops:t.loopCount()};s.usesTransparency=false;for(let e=0;e<r;++e){const r=this._decodeFrame(t,e,s.usesTransparency);a.push(r.frame);if(r.usesTransparency){s.usesTransparency=true}}return Promise.resolve(new i(e,a,s))}catch(e){return Promise.reject(e)}}encodeGif(e,t={}){try{if(e===null||e.length===0){throw new o("there are no frames")}const r=a().getMaxDimensions(e);t=Object.assign({},t);t.width=r.maxWidth;t.height=r.maxHeight;t.loops=t.loops||0;t.colorScope=t.colorScope||i.GlobalColorsPreferred;return Promise.resolve(this._encodeGif(e,t))}catch(e){return Promise.reject(e)}}_decodeFrame(t,r,n){let i,a;try{i=t.frameInfo(r);a=new e(t.width*t.height*4);t.decodeAndBlitFrameRGBA(r,a);if(i.width!==t.width||i.height!==t.height){if(i.y){a=a.slice(i.y*t.width*4)}if(t.width>i.width){for(let e=0;e<i.height;++e){a.copy(a,e*i.width*4,(i.x+e*t.width)*4,(i.x+e*t.width)*4+i.width*4)}}a=a.slice(0,i.width*i.height*4)}}catch(e){throw new o(e)}let u=false;if(this._transparentRGBA===null){if(!n){for(let e=3;e<a.length;e+=4){if(a[e]===0){u=true;e=a.length}}}}else{for(let e=3;e<a.length;e+=4){if(a[e]===0){a.writeUInt32BE(this._transparentRGBA,e-3);u=true}}}const l=new s(i.width,i.height,a,{xOffset:i.x,yOffset:i.y,disposalMethod:i.disposal,interlaced:i.interlaced,delayCentisecs:i.delay});return{frame:l,usesTransparency:u}}_encodeGif(e,t){let r;if(t.colorScope===i.LocalColorsOnly){r=a().getColorInfo(e,0)}else{r=a().getColorInfo(e,256);if(!r.colors){if(t.colorScope===i.GlobalColorsOnly){throw new o("Too many color indexes for global color table")}t.colorScope=i.LocalColorsOnly}}t.usesTransparency=r.usesTransparency;const n=r.palettes;if(t.colorScope===i.LocalColorsOnly){const r=2e3;return p(e,t,r,n)}const s=2e3;return d(e,t,s,r)}_getSizeEstimateGlobal(e,t){if(this._testInitialBufferSize>0){return this._testInitialBufferSize}let r=u+3*256;const n=y(e);t.forEach((e=>{r+=m(e,n)}));return r}_getSizeEstimateLocal(e,t){if(this._testInitialBufferSize>0){return this._testInitialBufferSize}let r=u;for(let n=0;n<t.length;++n){const i=e[n];const o=y(i);r+=m(t[n],o)}return r}}t.GifCodec=c;function f(e,t){const r=e.indexOf(t);return r===-1?null:r}function h(e,t){var r=0,n=e.length-1,i;while(r<=n){i=Math.floor((r+n)/2);if(e[i]>t)n=i-1;else if(e[i]<t)r=i+1;else return i}return null}function d(t,r,a,s){const u={colors:s.colors.slice(),usesTransparency:s.usesTransparency};v(u);const l={palette:u.colors,loop:r.loops};let c=new e(a);let f;try{f=new n.GifWriter(c,r.width,r.height,l)}catch(e){throw new o(e)}for(let e=0;e<t.length;++e){c=b(f,e,t[e],s,false)}return new i(c.slice(0,f.end()),t,r)}function p(t,r,a,s){const u={loop:r.loops};let l=new e(a);let c;try{c=new n.GifWriter(l,r.width,r.height,u)}catch(e){throw new o(e)}for(let e=0;e<t.length;++e){l=b(c,e,t[e],s[e],true)}return new i(l.slice(0,c.end()),t,r)}function v(e){const t=e.colors;if(e.usesTransparency){t.push(0)}const r=t.length;let n=2;while(r>n){n<<=1}t.length=n;t.fill(0,r)}function m(e,t){let r=e.bitmap.width*e.bitmap.height;r=Math.ceil(r*t/8);r+=Math.ceil(r/255);return l+r+3*256}function g(t,r,n){const i=n.colors;const a=i.length<=8?f:h;const s=r.bitmap.data;const u=new e(s.length/4);let l=i.length;let c=0,d=0;while(c<s.length){if(s[c+3]!==0){const e=s.readUInt32BE(c,true)>>8&16777215;u[d]=a(i,e)}else{u[d]=l}c+=4;++d}if(n.usesTransparency){if(l===256){throw new o(`Frame ${t} already has 256 colors`+`and so can't use transparency`)}}else{l=null}return{buffer:u,transparentIndex:l}}function y(e){let t=e.indexCount;let r=0;--t;while(t){++r;t>>=1}return r>0?r:1}function b(t,r,n,i,a){if(n.interlaced){throw new o("writing interlaced GIFs is not supported")}const s=g(r,n,i);const u={delay:n.delayCentisecs,disposal:n.disposalMethod,transparent:s.transparentIndex};if(a){v(i);u.palette=i.colors}try{let r=t.getOutputBuffer();let i=t.getOutputBufferPosition();let o;let a=true;while(a){o=t.addFrame(n.xOffset,n.yOffset,n.bitmap.width,n.bitmap.height,s.buffer,u);a=false;if(o>=r.length-1){const n=new e(r.length*1.5);r.copy(n);t.setOutputBuffer(n);t.setOutputBufferPosition(i);r=n;a=true}}return r}catch(e){throw new o(e)}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){const n=r(61);const i=r(275);const o=r(70);const{GifFrame:a}=r(71);const{GifError:s}=r(47);const{GifCodec:u}=r(123);const l=[".jpg",".jpeg",".png",".bmp"];const c=new u;t.cloneFrames=function(e){let t=[];e.forEach((e=>{t.push(new a(e))}));return t};t.getColorInfo=function(e,t){let r=false;const n=[];for(let t=0;t<e.length;++t){let i=e[t].getPalette();if(i.usesTransparency){r=true}if(i.indexCount>256){throw new s(`Frame ${t} uses more than 256 color indexes`)}n.push(i)}if(t===0){return{usesTransparency:r,palettes:n}}const i=new Set;n.forEach((e=>{e.colors.forEach((e=>{i.add(e)}))}));let o=i.size;if(r){++o}if(t&&o>t){return{usesTransparency:r,palettes:n}}const a=new Array(i.size);const u=i.values();for(let e=0;e<a.length;++e){a[e]=u.next().value}a.sort(((e,t)=>e-t));return{colors:a,indexCount:o,usesTransparency:r,palettes:n}};t.copyAsJimp=function(e,r){return t.shareAsJimp(e,new o(r))};t.getMaxDimensions=function(e){let t=0,r=0;e.forEach((e=>{const n=e.xOffset+e.bitmap.width;if(n>t){t=n}const i=e.yOffset+e.bitmap.height;if(i>r){r=i}}));return{maxWidth:t,maxHeight:r}};t.quantizeDekker=function(e,t,r){t=t||256;f(e,"NeuQuantFloat",t,0,r)};t.quantizeSorokin=function(e,t,r,n){t=t||256;r=r||"min-pop";let i;switch(r){case"min-pop":i=2;break;case"top-pop":i=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${r}'`)}f(e,"RGBQuant",t,i,n)};t.quantizeWu=function(e,t,r,n){t=t||256;r=r||5;if(r<1||r>8){throw new Error("Invalid quantization quality")}f(e,"WuQuant",t,r,n)};t.read=function(t,r){r=r||c;if(e.isBuffer(t)){return r.decodeGif(t)}return h(t).then((e=>r.decodeGif(e)))};t.shareAsJimp=function(e,t){const r=new e(t.bitmap.width,t.bitmap.height,0);r.bitmap.data=t.bitmap.data;return r};t.write=function(e,t,r,n){n=n||c;const i=e.match(/\.[a-zA-Z]+$/);if(i!==null&&l.includes(i[0].toLowerCase())){throw new Error(`GIF '${e}' has an unexpected suffix`)}return n.encodeGif(t,r).then((t=>d(e,t.buffer).then((()=>t))))};function f(e,t,r,n,o){const a=Array.isArray(e)?e:[e];const s=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(o){if(s.indexOf(o.ditherAlgorithm)<0){throw new Error(`Invalid ditherAlgorithm '${o.ditherAlgorithm}'`)}if(o.serpentine===undefined){o.serpentine=true}if(o.minimumColorDistanceToDither===undefined){o.minimumColorDistanceToDither=0}if(o.calculateErrorLikeGIMP===undefined){o.calculateErrorLikeGIMP=false}}const u=new i.distance.Euclidean;const l=new i.palette[t](u,r,n);let c;if(o){c=new i.image.ErrorDiffusionArray(u,i.image.ErrorDiffusionArrayKernel[o.ditherAlgorithm],o.serpentine,o.minimumColorDistanceToDither,o.calculateErrorLikeGIMP)}else{c=new i.image.NearestColor(u)}const f=[];a.forEach((e=>{const t=e.bitmap.data;const r=new ArrayBuffer(t.length);const n=new Uint32Array(r);for(let e=0,r=0;e<t.length;e+=4,++r){n[r]=t.readUInt32LE(e,true)}const o=i.utils.PointContainer.fromUint32Array(n,e.bitmap.width,e.bitmap.height);l.sample(o);f.push(o)}));const h=l.quantizeSync();for(let e=0;e<a.length;++e){const t=a[e].bitmap.data;const r=c.quantizeSync(f[e],h);const n=r.toUint32Array();for(let e=0,r=0;e<t.length;e+=4,++r){t.writeUInt32LE(n[r],e)}}}function h(e){return new Promise(((t,r)=>{n.readFile(e,((e,n)=>{if(e){return r(e)}return t(n)}))}))}function d(e,t){return new Promise(((r,i)=>{n.writeFile(e,t,(e=>{if(e){return i(e)}return r()}))}))}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BaseImageUploader=void 0;const n=r(9);const i=3e4;class o{constructor(e){this.servicesApi=e}getUploadTimeout(e){return i}uploadImage(e){const t=encodeURI(e.imageURL).length;return n.utils.promiseTimeout(this.saveImageToServerPromise(e),this.getUploadTimeout(t),"timeout while trying to upload an image")}}t.BaseImageUploader=o},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o;Object.defineProperty(t,"__esModule",{value:true});t.TestimServicesApi=void 0;const a=r(9);const s=r(16);const u=r(57);const l=r(2);const c=r(318);const f=r(319);const h=r(320);const d=r(321);const p=r(322);const v=r(323);const m=r(324);const g=r(325);const y=r(127);const b=r(326);const _=r(327);const w=r(328);const E=r(329);const S=r(330);const T=r(331);const A=r(332);const x=r(333);const D=r(334);const O=r(335);const I=r(336);const C=r(337);const k=r(338);const R=r(339);const P=r(340);const M=r(341);const L=r(342);const N=r(343);const F=r(344);const j=r(345);const B=r(346);const U=r(347);const z=r(348);const $=r(349);const G=r(350);const H=r(351);const W=r(352);const V=r(353);const q=r(354);const J=r(355);const Y=r(356);const K=r(357);const X=r(358);const Z=r(359);const Q=r(360);const ee=r(361);const te=r(362);const re=r(363);const ne=r(364);const ie=r(365);const oe=r(366);const ae=r(367);const se=r(368);const ue=r(369);function le(){if(false){}return a.utils.getServicesUrl()}let ce=class e{constructor(e){this.authenticationManager=e;this.callOrderScheduler=new y.CallOrderScheduler;this.user=new w.TestimUserApi(this.callOrderScheduler);this.scheduler=new F.TestimSchedulerApi(this.callOrderScheduler);this.test=new p.TestimTestApi(this.callOrderScheduler);this.project=new q.TestimProjectApi(this.callOrderScheduler);this.secrets=new Q.SecretsApi(this.callOrderScheduler);this.applitools=new U.TestimApplitoolsApi(this.callOrderScheduler);this.slack=new S.TestimSlackApi(this.callOrderScheduler);this.slackBugTracker=new K.TestimSlackBugTracker(this.callOrderScheduler);this.plan=new B.TestimPlanApi(this.callOrderScheduler);this.execution=new T.TestimExecutionApi(this.callOrderScheduler);this.label=new V.TestimLabelApi(this.callOrderScheduler);this.step=new c.TestimStepApi(this.callOrderScheduler);this.testConfig=new C.TestimTestConfigApi(this.callOrderScheduler);this.branch=new $.TestimBranchApi(this.callOrderScheduler);this.testPlan=new A.TestimTestPlanApi(this.callOrderScheduler);this.suite=new h.TestimSuiteApi(this.callOrderScheduler);this.integration=new W.TestimIntegrationApi(this.callOrderScheduler);this.auth=new z.TestimAuthApi(this.callOrderScheduler);this.sharedSteps=new M.TestimSharedStepApi(this.callOrderScheduler);this.company=new G.TestimCompanyApi(this.callOrderScheduler);this.remote=new m.TestimRemoteApi(this.callOrderScheduler);this.tms=new b.TestimTmsApi(this.callOrderScheduler);this.report=new k.TestimReportApi(this.callOrderScheduler);this.grid=new j.TestimGridApi(this.callOrderScheduler);this.realData=new D.TestimRealDataApi(this.callOrderScheduler);this.emailValidation=new H.TestimEmailValidationApi(this.callOrderScheduler);this.result=new f.TestimResultsApi(this.callOrderScheduler);this.remoteStep=new J.TestimRemoteStepApi(this.callOrderScheduler);this.storage=new d.TestimStorageApi(this.callOrderScheduler);this.locators=new v.TestimLocatorsApi(this.callOrderScheduler);this.analyticsSystems=new g.TestimAnalyticsSystemsApi(this.callOrderScheduler);this.suggestions=new E.TestimSuggestionsApi(this.callOrderScheduler);this.autoGroup=new _.TestimAutoGroupingApi(this.callOrderScheduler);this.auditLog=new x.TestimAuditLogApi(this.callOrderScheduler);this.labFeatures=new O.TestimLabFeaturesApi(this.callOrderScheduler);this.publicApiKeysManagementApi=new I.PublicApiKeysManagementApi(this.callOrderScheduler);this.utilityApis=new R.UtilityApis(this.callOrderScheduler);this.folder=new P.TestimFolderApi(this.callOrderScheduler);this.remoteBranch=new L.TestimRemoteBranch(this.callOrderScheduler);this.pullRequest=new N.TestimPullRequestApi(this.callOrderScheduler);this.dashboard=new Y.TestimDashboardApi(this.callOrderScheduler);this.autoImprove=new X.TestimAutoImproveApi(this.callOrderScheduler);this.marketplace=new Z.TestimMarketplaceApi(this.callOrderScheduler);this.dropbear=new ee.TestimDropbearApi(this.callOrderScheduler);this.adminManagement=new te.TestimAdminManagementApi(this.callOrderScheduler);this.adminTools=new re.TestimAdminToolsApi(this.callOrderScheduler);this.mobileApp=new ne.TestimMobileAppApi(this.callOrderScheduler);this.tmaVersions=new ie.TestimTmaVersionsApi(this.callOrderScheduler);this.tdc=new oe.TestimTdcApi(this.callOrderScheduler);this.tvc=new ae.TestimTvcApi(this.callOrderScheduler);this.textract=new se.TestimTextractApi(this.callOrderScheduler);this.assistant=new ue.TestimAssistant(this.callOrderScheduler);this.changeBaseUrl(le(),{updateStorage:false})}changeBaseUrl(e,{updateStorage:t=true}={}){this.testimServerBaseUrl=e;for(const t of Object.values(this)){if(t instanceof l.TestimBaseApi){t.changeTestimBaseUrl(e);t.authenticationManager=this.authenticationManager}}if(false){}}getCurrentToken(){return this.authenticationManager.getToken()}};t.TestimServicesApi=ce;t.TestimServicesApi=ce=n([(0,s.injectable)(),i("design:paramtypes",[typeof(o=typeof u.AuthenticationService!=="undefined"&&u.AuthenticationService)==="function"?o:Object])],ce)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CallOrderScheduler=t.UPDATE_REQUEST_TIMEOUT_MS=t.TIMEOUT_REQUEST_ORDERING=void 0;const n=r(28);const i=r(6);const o=r(58);const a=r(9);t.TIMEOUT_REQUEST_ORDERING=30*60*1e3;t.UPDATE_REQUEST_TIMEOUT_MS=3e4;const s={retry:false,retries:20,minTimeout:3e3,key:"",timeoutBetweenRequestOrdering:t.TIMEOUT_REQUEST_ORDERING};class u extends o.EventEmitter{constructor(){super(...arguments);this.promiseQueueMap=new Map;this.promiseQueueTimeoutsMap=new Map;this.logger=i.Logger.getLogger("call-order-scheduler")}schedule(e,r=s){var i,o;this.trigger("schedule",e,r);const u=(i=this.promiseQueueMap.get(r.key))!==null&&i!==void 0?i:Promise.resolve();clearTimeout(this.promiseQueueTimeoutsMap.get(r.key));this.promiseQueueTimeoutsMap.set(r.key,setTimeout((()=>{this.trigger("timeout",e,r);this.promiseQueueMap.delete(r.key);this.promiseQueueTimeoutsMap.delete(r.key)}),(o=r.timeoutBetweenRequestOrdering)!==null&&o!==void 0?o:t.TIMEOUT_REQUEST_ORDERING));const l=u.then((()=>{var i;this.trigger("run",e,r);const o=r.retry?n.default:(e,t)=>e();return o((async()=>{this.trigger("retry",e,r);let n;try{n=await a.utils.promiseTimeout(e(),t.UPDATE_REQUEST_TIMEOUT_MS)}catch(e){this.logger.warn("Error in update (retrying):",e);throw e}this.trigger("success",e,r);return n}),{retries:(i=r===null||r===void 0?void 0:r.retries)!==null&&i!==void 0?i:s.retries,minTimeout:r.minTimeout})})).catch((t=>{this.trigger("error",e,r,t);this.logger.error("Error in update:",t,r===null||r===void 0?void 0:r.key,e===null||e===void 0?void 0:e.name);return undefined}));this.promiseQueueMap.set(r.key,l);return l}async waitUntilAllStartsWithKeysFulfilled(e){const t=Array.from(this.promiseQueueMap.keys()).filter((t=>t.startsWith(e)));if(t.length===0){return}const r=t.map((e=>this.promiseQueueMap.get(e)));await Promise.all(r)}}t.CallOrderScheduler=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isDemoCompanyId=t.isDemoProjectId=void 0;const n=r(7);const i=[n.commonConstants.defaults.DEMO_PROJECT_ID,n.commonConstants.defaults.TTA_SFDC_DEMO_PROJECT_ID];const o=[n.commonConstants.defaults.DEMO_COMPANY_ID,n.commonConstants.defaults.TTA_SFDC_DEMO_COMPANY_ID];function a(e){return i.includes(e)}t.isDemoProjectId=a;function s(e){return o.includes(e)}t.isDemoCompanyId=s},function(e,t,r){"use strict";(function(t,n){e.exports=C;var i;C.ReadableState=I;var o=r(19).EventEmitter;var a=function e(t,r){return t.listeners(r).length};var s=r(130);var u=r(1).Buffer;var l=(typeof t!=="undefined"?t:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function c(e){return u.from(e)}function f(e){return u.isBuffer(e)||e instanceof l}var h=r(378);var d;if(h&&h.debuglog){d=h.debuglog("stream")}else{d=function e(){}}var p=r(379);var v=r(131);var m=r(132),g=m.getHighWaterMark;var y=r(25).codes,b=y.ERR_INVALID_ARG_TYPE,_=y.ERR_STREAM_PUSH_AFTER_EOF,w=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var S;var T;var A;r(12)(C,s);var x=v.errorOrDestroy;var D=["error","close","destroy","pause","resume"];function O(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function I(e,t,n){i=i||r(26);e=e||{};if(typeof n!=="boolean")n=t instanceof i;this.objectMode=!!e.objectMode;if(n)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=g(this,e,"readableHighWaterMark",n);this.buffer=new p;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!S)S=r(42).StringDecoder;this.decoder=new S(e.encoding);this.encoding=e.encoding}}function C(e){i=i||r(26);if(!(this instanceof C))return new C(e);var t=this instanceof i;this._readableState=new I(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}s.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});C.prototype.destroy=v.destroy;C.prototype._undestroy=v.undestroy;C.prototype._destroy=function(e,t){t(e)};C.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=u.from(e,t);t=""}n=true}}else{n=true}return k(this,e,t,false,n)};C.prototype.unshift=function(e){return k(this,e,null,true,false)};function k(e,t,r,n,i){d("readableAddChunk",t);var o=e._readableState;if(t===null){o.reading=false;F(e,o)}else{var a;if(!i)a=P(o,t);if(a){x(e,a)}else if(o.objectMode||t&&t.length>0){if(typeof t!=="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==u.prototype){t=c(t)}if(n){if(o.endEmitted)x(e,new E);else R(e,o,t,true)}else if(o.ended){x(e,new _)}else if(o.destroyed){return false}else{o.reading=false;if(o.decoder&&!r){t=o.decoder.write(t);if(o.objectMode||t.length!==0)R(e,o,t,false);else U(e,o)}else{R(e,o,t,false)}}}else if(!n){o.reading=false;U(e,o)}}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function R(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)j(e)}U(e,t)}function P(e,t){var r;if(!f(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new b("chunk",["string","Buffer","Uint8Array"],t)}return r}C.prototype.isPaused=function(){return this._readableState.flowing===false};C.prototype.setEncoding=function(e){if(!S)S=r(42).StringDecoder;var t=new S(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head;var i="";while(n!==null){i+=t.write(n.data);n=n.next}this._readableState.buffer.clear();if(i!=="")this._readableState.buffer.push(i);this._readableState.length=i.length;return this};var M=1073741824;function L(e){if(e>=M){e=M}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function N(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=L(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}C.prototype.read=function(e){d("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){d("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)Y(this);else j(this);return null}e=N(e,t);if(e===0&&t.ended){if(t.length===0)Y(this);return null}var n=t.needReadable;d("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;d("length less than watermark",n)}if(t.ended||t.reading){n=false;d("reading or ended",n)}else if(n){d("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=N(r,t)}var i;if(e>0)i=J(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)Y(this)}if(i!==null)this.emit("data",i);return i};function F(e,t){d("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){j(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function j(e){var t=e._readableState;d("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){d("emitReadable",t.flowing);t.emittedReadable=true;n.nextTick(B,e)}}function B(e){var t=e._readableState;d("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;q(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;n.nextTick(z,e,t)}}function z(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;d("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}C.prototype._read=function(e){x(this,new w("_read()"))};C.prototype.pipe=function(e,t){var r=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1;d("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||t.end!==false)&&e!==n.stdout&&e!==n.stderr;var s=o?l:y;if(i.endEmitted)n.nextTick(s);else r.once("end",s);e.on("unpipe",u);function u(e,t){d("onunpipe");if(e===r){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;h()}}}function l(){d("onend");e.end()}var c=$(r);e.on("drain",c);var f=false;function h(){d("cleanup");e.removeListener("close",m);e.removeListener("finish",g);e.removeListener("drain",c);e.removeListener("error",v);e.removeListener("unpipe",u);r.removeListener("end",l);r.removeListener("end",y);r.removeListener("data",p);f=true;if(i.awaitDrain&&(!e._writableState||e._writableState.needDrain))c()}r.on("data",p);function p(t){d("ondata");var n=e.write(t);d("dest.write",n);if(n===false){if((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&X(i.pipes,e)!==-1)&&!f){d("false write response, pause",i.awaitDrain);i.awaitDrain++}r.pause()}}function v(t){d("onerror",t);y();e.removeListener("error",v);if(a(e,"error")===0)x(e,t)}O(e,"error",v);function m(){e.removeListener("finish",g);y()}e.once("close",m);function g(){d("onfinish");e.removeListener("close",m);y()}e.once("finish",g);function y(){d("unpipe");r.unpipe(e)}e.emit("pipe",r);if(!i.flowing){d("pipe resume");r.resume()}return e};function $(e){return function t(){var r=e._readableState;d("pipeOnDrain",r.awaitDrain);if(r.awaitDrain)r.awaitDrain--;if(r.awaitDrain===0&&a(e,"data")){r.flowing=true;q(e)}}}C.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:false});return this}var a=X(t.pipes,e);if(a===-1)return this;t.pipes.splice(a,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};C.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t);var i=this._readableState;if(e==="data"){i.readableListening=this.listenerCount("readable")>0;if(i.flowing!==false)this.resume()}else if(e==="readable"){if(!i.endEmitted&&!i.readableListening){i.readableListening=i.needReadable=true;i.flowing=false;i.emittedReadable=false;d("on readable",i.length,i.reading);if(i.length){j(this)}else if(!i.reading){n.nextTick(H,this)}}}return r};C.prototype.addListener=C.prototype.on;C.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);if(e==="readable"){n.nextTick(G,this)}return r};C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){n.nextTick(G,this)}return t};function G(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){d("readable nexttick read 0");e.read(0)}C.prototype.resume=function(){var e=this._readableState;if(!e.flowing){d("resume");e.flowing=!e.readableListening;W(this,e)}e.paused=false;return this};function W(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;n.nextTick(V,e,t)}}function V(e,t){d("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");q(e);if(t.flowing&&!t.reading)e.read(0)}C.prototype.pause=function(){d("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){d("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function q(e){var t=e._readableState;d("flow",t.flowing);while(t.flowing&&e.read()!==null);}C.prototype.wrap=function(e){var t=this;var r=this._readableState;var n=false;e.on("end",(function(){d("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();if(e&&e.length)t.push(e)}t.push(null)}));e.on("data",(function(i){d("wrapped data");if(r.decoder)i=r.decoder.write(i);if(r.objectMode&&(i===null||i===undefined))return;else if(!r.objectMode&&(!i||!i.length))return;var o=t.push(i);if(!o){n=true;e.pause()}}));for(var i in e){if(this[i]===undefined&&typeof e[i]==="function"){this[i]=function t(r){return function t(){return e[r].apply(e,arguments)}}(i)}}for(var o=0;o<D.length;o++){e.on(D[o],this.emit.bind(this,D[o]))}this._read=function(t){d("wrapped _read",t);if(n){n=false;e.resume()}};return this};if(typeof Symbol==="function"){C.prototype[Symbol.asyncIterator]=function(){if(T===undefined){T=r(381)}return T(this)}}Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(C.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(C.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});C._fromList=J;Object.defineProperty(C.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function J(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function Y(e){var t=e._readableState;d("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;n.nextTick(K,t,e)}}function K(e,t){d("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){C.from=function(e,t){if(A===undefined){A=r(382)}return A(C,e,t)}}function X(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,r(5),r(3))},function(e,t,r){e.exports=r(19).EventEmitter},function(e,t,r){"use strict";(function(t){function r(e,r){var o=this;var s=this._readableState&&this._readableState.destroyed;var u=this._writableState&&this._writableState.destroyed;if(s||u){if(r){r(e)}else if(e){if(!this._writableState){t.nextTick(a,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;t.nextTick(a,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,(function(e){if(!r&&e){if(!o._writableState){t.nextTick(n,o,e)}else if(!o._writableState.errorEmitted){o._writableState.errorEmitted=true;t.nextTick(n,o,e)}else{t.nextTick(i,o)}}else if(r){t.nextTick(i,o);r(e)}else{t.nextTick(i,o)}}));return this}function n(e,t){a(e,t);i(e)}function i(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function o(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function a(e,t){e.emit("error",t)}function s(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}e.exports={destroy:r,undestroy:o,errorOrDestroy:s}}).call(this,r(3))},function(e,t,r){"use strict";var n=r(25).codes.ERR_INVALID_OPT_VALUE;function i(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function o(e,t,r,o){var a=i(t,o,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=o?r:"highWaterMark";throw new n(s,a)}return Math.floor(a)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:o}},function(e,t,r){"use strict";(function(t,n){e.exports=I;function i(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function o(e){var t=this;this.next=null;this.entry=null;this.finish=function(){V(t,e)}}var a;I.WritableState=D;var s={deprecate:r(88)};var u=r(130);var l=r(1).Buffer;var c=(typeof t!=="undefined"?t:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function f(e){return l.from(e)}function h(e){return l.isBuffer(e)||e instanceof c}var d=r(131);var p=r(132),v=p.getHighWaterMark;var m=r(25).codes,g=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,_=m.ERR_STREAM_CANNOT_PIPE,w=m.ERR_STREAM_DESTROYED,E=m.ERR_STREAM_NULL_VALUES,S=m.ERR_STREAM_WRITE_AFTER_END,T=m.ERR_UNKNOWN_ENCODING;var A=d.errorOrDestroy;r(12)(I,u);function x(){}function D(e,t,n){a=a||r(26);e=e||{};if(typeof n!=="boolean")n=t instanceof a;this.objectMode=!!e.objectMode;if(n)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=v(this,e,"writableHighWaterMark",n);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var i=e.decodeStrings===false;this.decodeStrings=!i;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){F(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new o(this)}D.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(D.prototype,"buffer",{get:s.deprecate((function e(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var O;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){O=Function.prototype[Symbol.hasInstance];Object.defineProperty(I,Symbol.hasInstance,{value:function e(t){if(O.call(this,t))return true;if(this!==I)return false;return t&&t._writableState instanceof D}})}else{O=function e(t){return t instanceof this}}function I(e){a=a||r(26);var t=this instanceof a;if(!t&&!O.call(I,this))return new I(e);this._writableState=new D(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}u.call(this)}I.prototype.pipe=function(){A(this,new _)};function C(e,t){var r=new S;A(e,r);n.nextTick(t,r)}function k(e,t,r,i){var o;if(r===null){o=new E}else if(typeof r!=="string"&&!t.objectMode){o=new g("chunk",["string","Buffer"],r)}if(o){A(e,o);n.nextTick(i,o);return false}return true}I.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var o=!n.objectMode&&h(e);if(o&&!l.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(o)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=x;if(n.ending)C(this,r);else if(o||k(this,n,e,r)){n.pendingcb++;i=P(this,n,o,e,t,r)}return i};I.prototype.cork=function(){this._writableState.corked++};I.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};I.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new T(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(I.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function R(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=l.from(t,r)}return t}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function P(e,t,r,n,i,o){if(!r){var a=R(t,n,i);if(n!==a){r=true;i="buffer";n=a}}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(!u)t.needDrain=true;if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null};if(l){l.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{M(e,t,false,s,n,i,o)}return u}function M(e,t,r,n,i,o,a){t.writelen=n;t.writecb=a;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new w("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,o,t.onwrite);t.sync=false}function L(e,t,r,i,o){--t.pendingcb;if(r){n.nextTick(o,i);n.nextTick(H,e,t);e._writableState.errorEmitted=true;A(e,i)}else{o(i);e._writableState.errorEmitted=true;A(e,i);H(e,t)}}function N(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function F(e,t){var r=e._writableState;var i=r.sync;var o=r.writecb;if(typeof o!=="function")throw new b;N(r);if(t)L(e,r,i,t,o);else{var a=z(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(i){n.nextTick(j,e,r,a,o)}else{j(e,r,a,o)}}}function j(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var u=true;while(r){i[s]=r;if(!r.isBuf)u=false;r=r.next;s+=1}i.allBuffers=u;M(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new o(t)}t.bufferedRequestCount=0}else{while(r){var l=r.chunk;var c=r.encoding;var f=r.callback;var h=t.objectMode?1:l.length;M(e,t,false,h,l,c,f);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}I.prototype._write=function(e,t,r){r(new y("_write()"))};I.prototype._writev=null;I.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)W(this,n,r);return this};Object.defineProperty(I.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function z(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function $(e,t){e._final((function(r){t.pendingcb--;if(r){A(e,r)}t.prefinished=true;e.emit("prefinish");H(e,t)}))}function G(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;n.nextTick($,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=z(t);if(r){G(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function W(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)n.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function V(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(I.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});I.prototype.destroy=d.destroy;I.prototype._undestroy=d.undestroy;I.prototype._destroy=function(e,t){t(e)}}).call(this,r(5),r(3))},function(e,t,r){"use strict";e.exports=c;var n=r(25).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0;var u=r(26);r(12)(c,u);function l(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new o)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e);this._transformState={afterTransform:l.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",f)}function f(){var e=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush((function(t,r){h(e,t,r)}))}else{h(this,null,null)}}c.prototype.push=function(e,t){this._transformState.needTransform=false;return u.prototype.push.call(this,e,t)};c.prototype._transform=function(e,t,r){r(new i("_transform()"))};c.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};c.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))};function h(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isTextElement=void 0;const n=["EditText","AutoCompleteTextView","MultiAutoCompleteTextView"];const i=["XCUIElementTypePicker","XCUIElementTypePickerWheel","XCUIElementTypeSearchField","XCUIElementTypeSecureTextField","XCUIElementTypeTextField"];const o=[...n,...i];function a(e){const t=e.slice(e.lastIndexOf(".")+1);return o.includes(t)}t.isTextElement=a},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(398),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.conditionSubType=t.expressionSubType=void 0;t.expressionSubType={EXPRESSION:"expression",TEXT:"text"};t.conditionSubType={MUST_BE_HIDDEN:"mustBeHidden",MUST_BE_VISIBLE:"mustBeVisible",ELEMENT_TEXT:"elementText",CUSTOM_CODE:"custom-code",IS_VISIBLE:"IS_VISIBLE",IS_NOT_VISIBLE:"IS_NOT_VISIBLE",DYNAMIC_PARENT_LOOP_CONDITION:"DYNAMIC_PARENT_LOOP_CONDITION",LOOP_FOR:"loopFor"}},function(e,t,r){"use strict";(function(e){var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o;Object.defineProperty(t,"__esModule",{value:true});t.Step=void 0;const a=r(7);const s=r(137);const u=r(84);const l=r(415);const c=r(9);const f=r(0);class h{constructor(e,t){this._isDirty=false;this._isNew=true;this.causedEffects={network:[],mutations:[]};this.isUpdating=false;this.location="";this.name=null;this.originalStepId=null;this.overrideWaitForVisibility=false;this.previousStepId=null;this.quirks={};this.targetId=null;this.label=null;this.userDefinedError=null;this.preStepDelay=0;this.stepTimeout=0;this.stopOnError=true;this.treatAsWarning=false;this.usePreStepDelay=false;this.useStepTimeout=false;this.screenImage=null;this.screenImageHighlight=null;this.tabInfo=null;this.targetName=null;Object.defineProperties(this,{id:{value:e||c.utils.guid(),enumerable:true,writable:true},type:{value:t||"unknown",enumerable:true,writable:false,configurable:false},parentStep:{value:null,enumerable:false,writable:true},version:{get:this.getVersion,enumerable:true}})}hasNativeEventsOption(){return false}hasAutoScrollOption(){return false}hasTimeoutOverrideOption(){return false}useCurrentTab(){return false}getIcon(){return"action"}getThumbnailElement(){return null}getStepPreview(){return this.name}getDisplayName(){return`${this.type} step`}shouldSkipWaitForVisibility(){return this.overrideWaitForVisibility}getElementLocatorsWithTypes(){return this.element?[{element:this.element,type:"element"}]:[]}getElementLocators(){return this.getElementLocatorsWithTypes().map((e=>e.element))}isOptionalLocator(e){return false}update(e){if(this.isChanged(e)){this.setDirty()}return this._update(e)}isChanged(e){return Object.keys(e).some((t=>e[t]!==this[t]))}getSerializableObject(e){var t,r;const n=(t=this.condition)===null||t===void 0?void 0:t.getSerializableObject();const i=(r=this.whileLoop)===null||r===void 0?void 0:r.getSerializableObject();return{type:this.type,id:this.id,label:this.label,stopOnError:this.stopOnError,treatAsWarning:this.treatAsWarning,stepTimeout:this.stepTimeout,useStepTimeout:this.useStepTimeout,preStepDelay:this.preStepDelay,usePreStepDelay:this.usePreStepDelay,location:this.location,targetName:this.targetName,name:this.name,targetId:this.targetId,screenImage:this.screenImage||"",screenImageHighlight:this.screenImageHighlight,quirks:this.quirks,userDefinedError:this.userDefinedError,tabInfo:this.tabInfo,previousStepId:this.previousStepId,version:this.getStepVersion(),description:this.getDisplayName(),condition:n,whileLoop:i,isTabOpener:this.isTabOpener,isNavigationTrigger:this.isNavigationTrigger,originalStepId:this.originalStepId,autoScroll:this.autoScroll,causedEffects:this.causedEffects,overrideWaitForVisibility:this.overrideWaitForVisibility,...(e===null||e===void 0?void 0:e.addDirtyFlag)&&{isDirty:this.isDirty},...(e===null||e===void 0?void 0:e.addIsNewFlag)&&{isNew:this.isNew},...(e===null||e===void 0?void 0:e.full)&&{isUpdating:this.isUpdating,_isDirty:false},...Object.hasOwn(this,"nativeEvents")&&this.hasNativeEventsOption()&&{nativeEvents:this.nativeEvents},...Object.hasOwn(this,"wasImproved")&&{wasImproved:this.wasImproved},...Object.hasOwn(this,"secrets")&&{secrets:this.secrets},...this.locatorIds&&{locatorIds:this.locatorIds}}}getSerializableSaveObject(e){return this.getSerializableObject(e)}getStopOnError(){return typeof this.stopOnError==="boolean"?this.stopOnError:true}getTreatAsWarning(){return!!this.treatAsWarning}_update(e){if(!e){return this}if(e.quirks){this.quirks=Object.assign(this.quirks,e.quirks)}if(e.targetName){this.targetName=String(e.targetName).trim()}if(e.name){this.name=String(e.name).trim()}if(e.tabInfo){this.tabInfo=e.tabInfo}if(Object.hasOwn(e,"overrideWaitForVisibility")){this.overrideWaitForVisibility=e.overrideWaitForVisibility}if(e.previousStepId){this.previousStepId=e.previousStepId}if(e.originalStepId){this.originalStepId=e.originalStepId}if(e.targetId){this.targetId=String(e.targetId).trim()}if(e.location){this.location=e.location}if(typeof e.label==="string"){this.label=e.label}if(e.stopOnError!==undefined){this.stopOnError=e.stopOnError}if(e.treatAsWarning!==undefined){this.treatAsWarning=e.treatAsWarning}if(e.screenImage){this.screenImage=e.screenImage}if(e.screenImageHighlight){const t=e.screenImageHighlight;this.screenImageHighlight={height:t.height&&Math.round(t.height),width:t.width&&Math.round(t.width),left:t.left&&Math.round(t.left),top:t.top&&Math.round(t.top),pixelRatio:t.pixelRatio}}if(e.removeScreenImageHighlight){this.screenImageHighlight=null}if(typeof e.stepTimeout==="number"){this.stepTimeout=e.stepTimeout}if(typeof e.useStepTimeout==="boolean"){this.useStepTimeout=e.useStepTimeout}if(typeof e.preStepDelay==="number"&&e.preStepDelay>=0){this.preStepDelay=e.preStepDelay}if(typeof e.usePreStepDelay==="boolean"){this.usePreStepDelay=e.usePreStepDelay}if(typeof e.isUpdating==="boolean"){this.isUpdating=e.isUpdating}if(typeof e._isDirty==="boolean"){this._isDirty=e._isDirty}if(typeof e.autoScroll==="boolean"&&this.hasAutoScrollOption()){this.autoScroll=e.autoScroll}if(e.condition){if(this.condition){this.condition.update(e.condition)}else{this.condition=e.condition;this.condition.parentStep=this}}if(e.removeCondition){this.condition=undefined}if(e.whileLoop){if(this.whileLoop){this.whileLoop.update(e.whileLoop)}else{this.whileLoop=e.whileLoop;this.whileLoop.parentStep=this}}if(e.removeWhileLoop){this.whileLoop=undefined}if(typeof e.isTabOpener==="boolean"){this.isTabOpener=e.isTabOpener}if(typeof e.isNavigationTrigger==="boolean"){this.isNavigationTrigger=e.isNavigationTrigger}if(e.version){this._version=e.version}if(Object.hasOwn(e,"nativeEvents")){this.nativeEvents=e.nativeEvents}if(Object.hasOwn(e,"wasImproved")){this.wasImproved=e.wasImproved}if(Object.hasOwn(e,"network")){this.causedEffects.network.push(e.network)}if(Object.hasOwn(e,"secrets")){this.secrets=e.secrets}if(e.locatorIds){this.locatorIds=e.locatorIds}if(e.hasOwnProperty("userDefinedError")){this.userDefinedError=e.userDefinedError}return this}getStepPath(e,t=[]){var r,n;if(!e)throw new Error("stepPath wasn't passed stepId");if(this.id===e){return t.concat([this.id])}if(((r=this.getStepCondition())===null||r===void 0?void 0:r.id)===e||((n=this.getStepWhileLoop())===null||n===void 0?void 0:n.id)===e){return t.concat([this.id]).concat([e])}return null}getSerializablePlaybackObject(){return this.getSerializableObject()}getScreenImage(){return this.screenImage}getScreenImageHighlight(){return this.screenImageHighlight}getStepVersion(){return this._version||this.version}getVersion(){return"1.2.0"}setDirty(){var e;if(this._isDirty){return}this._isDirty=true;(e=this.parentStep)===null||e===void 0?void 0:e.setDirty()}get ignoreTopFrame(){return false}get ignoreFrameRetries(){return false}get hasRealChanges(){return this._isDirty}resetDirty(e){if(e&&!e.has(this)){return}if(this.condition){this.condition.resetDirty()}if(this.whileLoop){this.whileLoop.resetDirty()}this._isDirty=false}setNew(){this._isNew=true}resetNew(e){if(e&&!e.has(this)){return}this._isNew=false}getType(){return this.type}getStepContent(){return this}getStepCondition(){return this.getStepContent()?this.getStepContent().condition:null}getStepWhileLoop(){return this.getStepContent()?this.getStepContent().whileLoop:null}getPostCodeStep(){return this.getStepContent()?this.getStepContent().postCode:null}getTargetElementLabel(e){return""}getCompletedValue(e){var t;const r=e.success;const n=this.isVerificationStep()&&((t=e===null||e===void 0?void 0:e.eyesResult)===null||t===void 0?void 0:t.isNew);const i=e.treatAsWarning&&(n||r===false);if(i||this.isPassWithWarning(e)){return"partial"}return r}showButtonFailureReason(){return Boolean(this.hasResult()&&this.result.reason&&this.result.success!==true)}hasResult(){return Boolean(this.result&&this.isComplete!==undefined)}isPassWithWarning(e){const t=e.success;return!!(t&&t!=="skipped"&&e.reason)}setHiddenParamsResult(e=this.result){e.incomingParams=(0,l.maskHiddenParams)(e.incomingParams);if(e.outgoingParams){e.outgoingParams.global=(0,l.maskHiddenParams)(e.outgoingParams.global);e.outgoingParams.test=(0,l.maskHiddenParams)(e.outgoingParams.test);e.outgoingParams.local=(0,l.maskHiddenParams)(e.outgoingParams.local)}}setResult(e){var t;this.setHiddenParamsResult(e);if(e.isHookResult&&e.reason){const r=a.commonConstants.HOOK.FAIL_PREFIX[e.hookType];if(!((t=e.reason)===null||t===void 0?void 0:t.startsWith(r))){e.reason=`${r}: ${e.reason}`}}this.result=e;if(this.condition){this.condition.result=e}else if(this.getStepContent().condition&&this.isSharedStepInstance()){this.conditionResult=e}}reset(e=0){this.result=undefined}isVerificationStep(){return false}isScrollStep(){return false}getFirstRetryMinimalThreshold(){return.7}getFriendlyName(){return a.commonConstants.sharedStepsFriendlyNames[this.type]||a.commonConstants.sharedStepsFriendlyNames.__default}getTestimDocsUrl(){return undefined}getPropertiesDescription(e,t,r){const n=this.getTreatAsWarning();const i=this.getStopOnError();let o="Mark error & stop";if(n){o="Mark warning & continue"}else if(!i){o="Mark error & continue"}const a={[u.ConditionType.ALWAYS]:"Always Run",[u.ConditionType.ELEMENT]:{[s.conditionSubType.IS_VISIBLE]:"Element is visible",[s.conditionSubType.IS_NOT_VISIBLE]:"Element is not visible",[s.conditionSubType.ELEMENT_TEXT]:"Element Text"},[u.ConditionType.CUSTOM]:"Custom",[u.ConditionType.NEVER]:"Never (skip)"};const l=this.getStepCondition();const c=(l===null||l===void 0?void 0:l.type)===u.ConditionType.ELEMENT?a[u.ConditionType.ELEMENT][l.subType]:a[(l===null||l===void 0?void 0:l.type)||u.ConditionType.ALWAYS];const f=[{key:"stepCondition",name:"When to run step",value:c},{key:"whenStepFails",name:"When this step fails",value:o}];if(this.hasTimeoutOverrideOption()){f.push({key:"overrideOption",name:"Override timeout",value:this.useStepTimeout?this.stepTimeout:false})}return f}isSharedStepInstance(){return this.type==="shared-step-instance"}static buildFrameLocatorStepData(e){if(e.isTopFrame||e.isAndroid||e.isIos){return[]}if(e.frameLocators){return e.frameLocators.map((e=>({elementLocator:e.elementLocator,selector:e.selector,isShadowed:e.isShadowed,type:"locate",testimFrameId:e.testimFrameId})))}return null}get isGroupStep(){return false}get isDirty(){return this._isDirty}get isNew(){return this._isNew}get displayName(){return this.label||this.getDisplayName()}stepTitleHandlers(){return this.displayName}get stepTitle(){return this.stepTitleHandlers()||this.displayName}get isRunning(){var e,t,r;const{WHILELOOP_DONE:n,RUNNING:i}=a.commonConstants.stepStatus;return((e=this.result)===null||e===void 0?void 0:e.status)===i&&!this.getStepContent().whileLoop||((t=this.result)===null||t===void 0?void 0:t.status)===n&&!((r=this.result)===null||r===void 0?void 0:r.whileLoopEvaluated)}get isComplete(){const{WHILELOOP_DONE:e,COMPLETED:t}=a.commonConstants.stepStatus;const{result:r}=this;if((r===null||r===void 0?void 0:r.status)===t||(r===null||r===void 0?void 0:r.status)===e&&(r===null||r===void 0?void 0:r.whileLoopEvaluated)){return this.getCompletedValue(r)}return undefined}get passWithWarning(){const{WHILELOOP_DONE:e,COMPLETED:t}=a.commonConstants.stepStatus;const{result:r}=this;if((r===null||r===void 0?void 0:r.status)===t||(r===null||r===void 0?void 0:r.status)===e&&(r===null||r===void 0?void 0:r.whileLoopEvaluated)){return this.isPassWithWarning(r)}return undefined}}t.Step=h;n([f.observable,i("design:type",Boolean)],h.prototype,"autoScroll",void 0);n([f.observable,i("design:type",String)],h.prototype,"exportScope",void 0);n([f.observable,i("design:type",Object)],h.prototype,"label",void 0);n([f.observable,i("design:type",Object)],h.prototype,"userDefinedError",void 0);n([f.observable,i("design:type",Boolean)],h.prototype,"nativeEvents",void 0);n([f.observable,i("design:type",Number)],h.prototype,"preStepDelay",void 0);n([f.observable,i("design:type",typeof(o=typeof Record!=="undefined"&&Record)==="function"?o:Object)],h.prototype,"secrets",void 0);n([f.observable,i("design:type",Number)],h.prototype,"stepTimeout",void 0);n([f.observable,i("design:type",Boolean)],h.prototype,"stopOnError",void 0);n([f.observable,i("design:type",Boolean)],h.prototype,"treatAsWarning",void 0);n([f.observable,i("design:type",Boolean)],h.prototype,"usePreStepDelay",void 0);n([f.observable,i("design:type",Boolean)],h.prototype,"useStepTimeout",void 0);n([f.observable.deep,i("design:type",Object)],h.prototype,"result",void 0);n([f.observable.ref,i("design:type",Object)],h.prototype,"condition",void 0);n([f.observable.ref,i("design:type",Object)],h.prototype,"element",void 0);n([f.observable.ref,i("design:type",Object)],h.prototype,"screenImage",void 0);n([f.observable.ref,i("design:type",Object)],h.prototype,"screenImageHighlight",void 0);n([f.observable.ref,i("design:type",Object)],h.prototype,"tabInfo",void 0);n([f.observable.ref,i("design:type",Object)],h.prototype,"targetName",void 0);n([f.observable.ref,i("design:type",Object)],h.prototype,"whileLoop",void 0);n([f.action,i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],h.prototype,"setHiddenParamsResult",null);n([f.action,i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],h.prototype,"setResult",null);n([f.computed,i("design:type",Object),i("design:paramtypes",[])],h.prototype,"stepTitle",null);n([f.computed,i("design:type",Object),i("design:paramtypes",[])],h.prototype,"isRunning",null);n([f.computed,i("design:type",Object),i("design:paramtypes",[])],h.prototype,"isComplete",null);n([f.computed,i("design:type",Object),i("design:paramtypes",[])],h.prototype,"passWithWarning",null);if(e.env.isClickimEditor||false){(0,f.decorate)(h,{name:f.observable.ref})}}).call(this,r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isLocalEnv=t.isProdEnv=t.getUserAgentInfo=t.getMajorVersion=t.os=t.getOS=t.isEdgeChromium=t.isChrome=t.isFirefox=t.browserName=t.browserVersion=t.hasStorage=t.getEnvName=t.isTouchDevice=t.isWindows=t.isMac=void 0;const n=r(36);const i=r(157);function o(){return navigator.platform.toUpperCase().includes("MAC")}t.isMac=o;function a(){return navigator.platform.toUpperCase().includes("WIN")}t.isWindows=a;function s(){return("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&window.innerHeight<600&&window.innerWidth<1024}t.isTouchDevice=s;function u(){return(0,n.getURLParameter)("env")||"prod"}t.getEnvName=u;function l(){let e=false;if(typeof window==="undefined"){return false}try{if(typeof window==="undefined"){return false}e=typeof window.localStorage==="object"&&typeof window.localStorage.getItem==="function"}catch(e){}return e}t.hasStorage=l;function c(){if(typeof window==="undefined"||!window.navigator||!window.navigator.userAgent){return{name:"unknown",version:"0"}}const e=navigator.userAgent;let t;let r=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(r[1])){t=/\brv[ :]+(\d+)/g.exec(e)||[];return{name:"IE",version:t[1]||""}}if(r[1]==="Chrome"){t=e.match(/\b(OPR|Edge|Edg)\/(\d+)/);if(t!=null){return{name:t[1].replace("OPR","Opera").replace(/Edg$/,"Edge"),version:t[2]}}}r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"];if((t=e.match(/version\/(\d+)/i))!=null)r.splice(1,1,t[1]);return{name:r[0],version:r[1]}}function f(){return c().version}t.browserVersion=f;function h(){return c().name.toLowerCase()}t.browserName=h;function d(){return h()==="firefox"}t.isFirefox=d;function p(){return h()==="chrome"}t.isChrome=p;function v(e){e||(e=c());const t=typeof e.version==="number"?Math.floor(e.version):Number(e.version.split(".")[0]);const r=e.name.toLowerCase()==="edge"&&t>=79;return r}t.isEdgeChromium=v;function m(){const e=i().os;return`${e.name} ${e.version}`}t.getOS=m;t.os=m;function g(e){return typeof e==="number"?Math.floor(e):Number(e.split(".")[0])}t.getMajorVersion=g;function y(){const e=new i;return e.getResult()}t.getUserAgentInfo=y;function b(){const e=u();return["prod","prod/"].includes(e)}t.isProdEnv=b;function _(){const e=u();return["local","local/"].includes(e)}t.isLocalEnv=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateSalesforceMfaSecret=t.findUniqueName=t.pluralize=t.valueContainsOnlyDigits=t.getSafeFileName=t.getNumberWithOrdinal=t.formatBytes=t.nFormatter=t.getElapsedTimeFromSeconds=t.numberWithCommas=t.validatePasswordStrength=t.validateEmail=t.toCamelCase=t.isLegalName=t.copyCurrentSelectionToClipboard=t.copyToClipboard=t.removeLeadAndTrailingQuotes=t.isTextExpression=t.combinePath=t.escapeAndRemoveQuotes=t.escapeText=t.escapeJSName=t.isValidParamName=t.jsVarNameValidator=t.get2xImage=t.encodeFilepath=t.isValidJavaScriptIdentifier=void 0;function n(e){const t=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|null|this|true|void|with|await|break|catch|class|const|false|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)(?:[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFF1]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])(?:[\$0-9A-Z_a-z\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFF1]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF])*$/;return t.test(e)}t.isValidJavaScriptIdentifier=n;function i(e){const t=e.includes("\\");const r=t?"\\":"/";const n=e.lastIndexOf(r);const i=e.substr(0,n);const o=e.substr(n+1);const a=encodeURIComponent(o);const s=`${i}${r}${a}`;return s}t.encodeFilepath=i;function o(e){if(!e){return""}const t=e.substring(0,e.lastIndexOf("."));const r=e.substring(e.lastIndexOf("."));return`${t}@2x${r}`}t.get2xImage=o;const a=e=>["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"].includes(e);const s=e=>!/[$A-Z_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/.test(e[0]);t.jsVarNameValidator={isReservedWord:a,hasInvalidFirstLetter:s};function u(e){return e===l(e)}t.isValidParamName=u;function l(e){e||(e="param");function t(e){return e.replace(/[^$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]/g,"_")}if(a(e)){e=`_${e}`}if(s(e)){e=`_${e}`}e=t(e);return e}t.escapeJSName=l;function c(e){return typeof e==="string"?`'${e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}'`:e}t.escapeText=c;function f(e){return c(p(e))}t.escapeAndRemoveQuotes=f;function h(...e){const t=/^\/+(.*)/;const r=/\/+$/;function n(e,n,i){if(n){e=e.replace(t,"")}if(i){e=e.replace(r,"")}return e}return e.map(((e,t)=>n(String(e||""),t!==0,true))).join("/")}t.combinePath=h;function d(e){return Boolean(e&&(e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')||e.startsWith("`")&&e.endsWith("`")))}t.isTextExpression=d;function p(e){return d(e)?e.slice(1,e.length-1):e}t.removeLeadAndTrailingQuotes=p;const v=function(e=""){return navigator.clipboard.writeText(e)};t.copyToClipboard=v;const m=function(){let e=false;try{e=document.execCommand("copy")}catch(t){e=false}return e};t.copyCurrentSelectionToClipboard=m;function g(e){const t=[".","#","[","]","$","/"];const r=t.filter((t=>e.includes(t))).length;return r===0}t.isLegalName=g;function y(e){const t=/-|\s/gi;const r=/\w/;const n=e.split(t).reduce(((e,t,n)=>{let i=e;if(n===1){i=i.replace(r,(e=>e.toLowerCase()))}return i+t.replace(r,(e=>e.toUpperCase()))}));if(n===e){e=e.toLowerCase();return e.replace(r,(e=>e.toUpperCase()))}return n}t.toCamelCase=y;function b(e){const t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}t.validateEmail=b;function _(e,t=8){const r=()=>new RegExp(/\d+/).test(e);const n=()=>new RegExp(/[a-zA-Z]+/).test(e);const i=()=>new RegExp(/[`~\!@#\$%\^\&\*\(\)\-_\=\+\[\{\}\]\\\|;:'",<.>\/\?€£¥₹]+/).test(e);const o=()=>!new RegExp(/[\s]+/).test(e);const a=!e;const s=a||e.length<t;const u=a||!r()||!i();const l=a||!n();const c=a||!o();const f=!(s||u||l||c);return{tooShort:s,missingDigitsOrSymbols:u,missingLetters:l,hasSpaces:c,valid:f}}t.validatePasswordStrength=_;function w(e){const t=e.toString().split(".");t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return t.join(".")}t.numberWithCommas=w;function E(e=0){e=Math.floor(e);const t=Math.floor(e/3600);const r=Math.floor((e-t*3600)/60);let n=e-t*3600-r*60;n=Math.round(n*100)/100;let i=t>0?`${t<10?`0${t}`:t}:`:"";i+=r<10?`0${r}`:r;i+=`:${n<10?`0${n}`:n}`;return i}t.getElapsedTimeFromSeconds=E;function S(e,t){const r=["","K","M","G","T","P","E","Z","Y"];const n=e===0?e:Math.floor(Math.log(e)/Math.log(1e3));const i=parseFloat((e/1e3**n).toFixed(t));return`${i}${r[n]}`}t.nFormatter=S;function T(e,t,r){if(!e||e===0)return"0 Byte";const n=r?1024:1e3;const i=t+1||3;const o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];const a=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/n**a).toFixed(i))} ${o[a]}`}t.formatBytes=T;function A(e){const t=["th","st","nd","rd"];const r=e%100;return e+(t[(r-20)%10]||t[r]||t[0])}t.getNumberWithOrdinal=A;function x(e,t){const r=99;const n=t.length+1;const i=e.replace(/[/\\?%*:|"<>]/g,"-").slice(0,r-n);return`${i}.${t}`}t.getSafeFileName=x;const D=e=>/^[0-9]+$|^$/.test(e);t.valueContainsOnlyDigits=D;const O=(e,t)=>`${e===1||t.endsWith("s")?t:`${t}s`}`;t.pluralize=O;function I(e,t,r){r=String(r);if(!(e===null||e===void 0?void 0:e.length)||!t){return r}const n=e.map((e=>e[t]));let i;let o;const a=n.length;for(i=0;i<a;++i){if(i===0){o=r}else{o=`${r}_${i}`}if(!n.includes(o)){return o}}return`${r}_${i}`}t.findUniqueName=I;function C(e){if(!e.trim()){return"Missing key"}const t=e=>/^[\x00-\x7F]*$/.test(e);if(!t(e)){return"Key must be ASCII"}return undefined}t.validateSalesforceMfaSecret=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(13);r(50);r(144);r(150);r(78);r(153);const i=r(77);const o=r(40);const a=r(166);const s=r(33);const u=()=>(0,n.jsx)(o.DependencyInjectionProvider,{container:s.container,children:(0,n.jsx)(a.DeviceMirroring,{})});i.render((0,n.jsx)(u,{}),document.getElementById("react-root"))},function(e,t,r){"use strict";r(37);var n=r(8),i=60103;t.Fragment=60107;if("function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element");t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,o={},l=null,c=null;void 0!==r&&(l=""+r);void 0!==t.key&&(l=""+t.key);void 0!==t.ref&&(c=t.ref);for(n in t)s.call(t,n)&&!u.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:a.current}}t.jsx=l;t.jsxs=l},function(e,t,r){"use strict";var n=r(37),i=60103,o=60106;t.Fragment=60107;t.StrictMode=60108;t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element");o=f("react.portal");t.Fragment=f("react.fragment");t.StrictMode=f("react.strict_mode");t.Profiler=f("react.profiler");a=f("react.provider");s=f("react.context");u=f("react.forward_ref");t.Suspense=f("react.suspense");l=f("react.memo");c=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){if(null===e||"object"!==typeof e)return null;e=h&&e[h]||e["@@iterator"];return"function"===typeof e?e:null}function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,r){this.props=e;this.context=t;this.refs=m;this.updater=r||v}g.prototype.isReactComponent={};g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")};g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y(){}y.prototype=g.prototype;function b(e,t,r){this.props=e;this.context=t;this.refs=m;this.updater=r||v}var _=b.prototype=new y;_.constructor=b;n(_,g.prototype);_.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var n,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,n)&&!S.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function A(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}function D(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var O=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?D(""+e.key):t.toString(36)}function C(e,t,r,n,a){var s=typeof e;if("undefined"===s||"boolean"===s)e=null;var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return u=e,a=a(u),e=""===n?"."+I(u,0):n,Array.isArray(a)?(r="",null!=e&&(r=e.replace(O,"$&/")+"/"),C(a,t,r,"",(function(e){return e}))):null!=a&&(x(a)&&(a=A(a,r+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;u=0;n=""===n?".":n+":";if(Array.isArray(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+I(s,l);u+=C(s,t,r,c,a)}else if(c=d(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+I(s,l++),u+=C(s,t,r,c,a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function k(e,t,r){if(null==e)return e;var n=[],i=0;C(e,n,"","",(function(e){return t.call(r,e,i++)}));return n}function R(e){if(-1===e._status){var t=e._result;t=t();e._status=0;e._result=t;t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function M(){var e=P.current;if(null===e)throw Error(p(321));return e}var L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:k,forEach:function(e,t,r){k(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;k(e,(function(){t++}));return t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(p(143));return e}};t.Component=g;t.PureComponent=b;t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L;t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(p(267,e));var o=n({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=w.current);void 0!==t.key&&(a=""+t.key);if(e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];o.children=l}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}};t.createContext=function(e,t){void 0===t&&(t=null);e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null};e.Provider={$$typeof:a,_context:e};return e.Consumer=e};t.createElement=T;t.createFactory=function(e){var t=T.bind(null,e);t.type=e;return t};t.createRef=function(){return{current:null}};t.forwardRef=function(e){return{$$typeof:u,render:e}};t.isValidElement=x;t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:R}};t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}};t.useCallback=function(e,t){return M().useCallback(e,t)};t.useContext=function(e,t){return M().useContext(e,t)};t.useDebugValue=function(){};t.useEffect=function(e,t){return M().useEffect(e,t)};t.useImperativeHandle=function(e,t,r){return M().useImperativeHandle(e,t,r)};t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)};t.useMemo=function(e,t){return M().useMemo(e,t)};t.useReducer=function(e,t,r){return M().useReducer(e,t,r)};t.useRef=function(e){return M().useRef(e)};t.useState=function(e){return M().useState(e)};t.version="17.0.2"},function(e,t,r){const n=r(77);r(148).observerBatching(n.unstable_batchedUpdates)},function(e,t,r){"use strict";var n=r(8),i=r(37),o=r(146);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,u={};function l(e,t){c(e,t);c(e+"Capture",t)}function c(e,t){u[e]=t;for(e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e){if(d.call(v,e))return!0;if(d.call(p,e))return!1;if(h.test(e))return v[e]=!0;p[e]=!0;return!1}function g(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(n)return!1;if(null!==r)return!r.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function y(e,t,r,n){if(null===t||"undefined"===typeof t||g(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function b(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t;this.attributeName=n;this.attributeNamespace=i;this.mustUseProperty=r;this.propertyName=e;this.type=t;this.sanitizeURL=o;this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new b(e,0,!1,e,null,!1,!1)}));[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new b(t,1,!1,e[1],null,!1,!1)}));["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}));["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new b(e,2,!1,e,null,!1,!1)}));"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}));["checked","multiple","muted","selected"].forEach((function(e){_[e]=new b(e,3,!0,e,null,!1,!1)}));["capture","download"].forEach((function(e){_[e]=new b(e,4,!1,e,null,!1,!1)}));["cols","rows","size","span"].forEach((function(e){_[e]=new b(e,6,!1,e,null,!1,!1)}));["rowSpan","start"].forEach((function(e){_[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)}));var w=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(w,E);_[t]=new b(t,1,!1,e,null,!1,!1)}));"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(w,E);_[t]=new b(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}));["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(w,E);_[t]=new b(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}));["tabIndex","crossOrigin"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}));_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach((function(e){_[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)}));function S(e,t,r,n){var i=_.hasOwnProperty(t)?_[t]:null;var o=null!==i?0===i.type:n?!1:!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]?!1:!0;o||(y(t,r,i,n)&&(r=null),n||null===i?m(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3===i.type?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(i=i.type,r=3===i||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=60103,x=60106,D=60107,O=60108,I=60114,C=60109,k=60110,R=60112,P=60113,M=60120,L=60115,N=60116,F=60121,j=60128,B=60129,U=60130,z=60131;if("function"===typeof Symbol&&Symbol.for){var $=Symbol.for;A=$("react.element");x=$("react.portal");D=$("react.fragment");O=$("react.strict_mode");I=$("react.profiler");C=$("react.provider");k=$("react.context");R=$("react.forward_ref");P=$("react.suspense");M=$("react.suspense_list");L=$("react.memo");N=$("react.lazy");F=$("react.block");$("react.scope");j=$("react.opaque.id");B=$("react.debug_trace_mode");U=$("react.offscreen");z=$("react.legacy_hidden")}var G="function"===typeof Symbol&&Symbol.iterator;function H(e){if(null===e||"object"!==typeof e)return null;e=G&&e[G]||e["@@iterator"];return"function"===typeof e?e:null}var W;function V(e){if(void 0===W)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||""}return"\n"+W+e}var q=!1;function J(e,t){if(!e||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(e){if(e&&n&&"string"===typeof e.stack){for(var i=e.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s){do{if(a--,s--,0>s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s)}break}}}finally{q=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?V(e):""}function Y(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=J(e.type,!1),e;case 11:return e=J(e.type.render,!1),e;case 22:return e=J(e.type._render,!1),e;case 1:return e=J(e.type,!0),e;default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case D:return"Fragment";case x:return"Portal";case I:return"Profiler";case O:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;t=t.displayName||t.name||"";return e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return K(e.type);case F:return K(e._render);case N:t=e._payload;e=e._init;try{return K(e(t))}catch(e){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){var t=Z(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e;o.call(this,e)}});Object.defineProperty(e,t,{enumerable:r.enumerable});return{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null;delete e[t]}}}}function ee(e){e._valueTracker||(e._valueTracker=Q(e))}function te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue();var n="";e&&(n=Z(e)?e.checked?"true":"false":e.value);e=n;return e!==r?(t.setValue(e),!0):!1}function re(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ne(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ie(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=X(null!=t.value?t.value:r);e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function oe(e,t){t=t.checked;null!=t&&S(e,"checked",t,!1)}function ae(e,t){oe(e,t);var r=X(t.value),n=t.type;if(null!=r)if("number"===n){if(0===r&&""===e.value||e.value!=r)e.value=""+r}else e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n){e.removeAttribute("value");return}t.hasOwnProperty("value")?ue(e,t.type,r):t.hasOwnProperty("defaultValue")&&ue(e,t.type,X(t.defaultValue));null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function se(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue;r||t===e.value||(e.value=t);e.defaultValue=t}r=e.name;""!==r&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==r&&(e.name=r)}function ue(e,t,r){if("number"!==t||re(e.ownerDocument)!==e)null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r)}function le(e){var t="";n.Children.forEach(e,(function(e){null!=e&&(t+=e)}));return t}function ce(e,t){e=i({children:void 0},t);if(t=le(t.children))e.children=t;return e}function fe(e,t,r,n){e=e.options;if(t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{r=""+X(r);t=null;for(i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0;n&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function he(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function de(e,t){var r=t.value;if(null==r){r=t.children;t=t.defaultValue;if(null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t="");r=t}e._wrapperState={initialValue:X(r)}}function pe(e,t){var r=X(t.value),n=X(t.defaultValue);null!=r&&(r=""+r,r!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r));null!=n&&(e.defaultValue=""+n)}function ve(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var me={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ge(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ye(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ge(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var be,_e=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r,n,i)}))}:e}((function(e,t){if(e.namespaceURI!==me.svg||"innerHTML"in e)e.innerHTML=t;else{be=be||document.createElement("div");be.innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(t=be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function we(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=t;return}}e.textContent=t}var Ee={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Se=["Webkit","ms","Moz","O"];Object.keys(Ee).forEach((function(e){Se.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1);Ee[t]=Ee[e]}))}));function Te(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||Ee.hasOwnProperty(e)&&Ee[e]?(""+t).trim():t+"px"}function Ae(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=Te(r,t[r],n);"float"===r&&(r="cssFloat");n?e.setProperty(r,i):e[r]=i}}var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Oe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}var Ce=null,ke=null,Re=null;function Pe(e){if(e=Ai(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=Di(t),Ce(e.stateNode,e.type,t))}}function Me(e){ke?Re?Re.push(e):Re=[e]:ke=e}function Le(){if(ke){var e=ke,t=Re;Re=ke=null;Pe(e);if(t)for(e=0;e<t.length;e++)Pe(t[e])}}function Ne(e,t){return e(t)}function Fe(e,t,r,n,i){return e(t,r,n,i)}function je(){}var Be=Ne,Ue=!1,ze=!1;function $e(){if(null!==ke||null!==Re)je(),Le()}function Ge(e,t,r){if(ze)return e(t,r);ze=!0;try{return Be(e,t,r)}finally{ze=!1,$e()}}function He(e,t){var r=e.stateNode;if(null===r)return null;var n=Di(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var We=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){We=!0}});window.addEventListener("test",Ve,Ve);window.removeEventListener("test",Ve,Ve)}catch(e){We=!1}function qe(e,t,r,n,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){this.onError(e)}}var Je=!1,Ye=null,Ke=!1,Xe=null,Ze={onError:function(e){Je=!0;Ye=e}};function Qe(e,t,r,n,i,o,a,s,u){Je=!1;Ye=null;qe.apply(Ze,arguments)}function et(e,t,r,n,i,o,s,u,l){Qe.apply(this,arguments);if(Je){if(Je){var c=Ye;Je=!1;Ye=null}else throw Error(a(198));Ke||(Ke=!0,Xe=c)}}function tt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(t.flags&1026)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function rt(e){if(13===e.tag){var t=e.memoizedState;null===t&&(e=e.alternate,null!==e&&(t=e.memoizedState));if(null!==t)return t.dehydrated}return null}function nt(e){if(tt(e)!==e)throw Error(a(188))}function it(e){var t=e.alternate;if(!t){t=tt(e);if(null===t)throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){n=i.return;if(null!==n){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return nt(i),e;if(o===n)return nt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0;r=i;n=o;break}if(u===n){s=!0;n=i;r=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===r){s=!0;r=o;n=i;break}if(u===n){s=!0;n=o;r=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}function ot(e){e=it(e);if(!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}}return null}function at(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var st,ut,lt,ct,ft=!1,ht=[],dt=null,pt=null,vt=null,mt=new Map,gt=new Map,yt=[],bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function wt(e,t){switch(e){case"focusin":case"focusout":dt=null;break;case"dragenter":case"dragleave":pt=null;break;case"mouseover":case"mouseout":vt=null;break;case"pointerover":case"pointerout":mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gt.delete(t.pointerId)}}function Et(e,t,r,n,i,o){if(null===e||e.nativeEvent!==o)return e=_t(t,r,n,i,o),null!==t&&(t=Ai(t),null!==t&&ut(t)),e;e.eventSystemFlags|=n;t=e.targetContainers;null!==i&&-1===t.indexOf(i)&&t.push(i);return e}function St(e,t,r,n,i){switch(t){case"focusin":return dt=Et(dt,e,t,r,n,i),!0;case"dragenter":return pt=Et(pt,e,t,r,n,i),!0;case"mouseover":return vt=Et(vt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;mt.set(o,Et(mt.get(o)||null,e,t,r,n,i));return!0;case"gotpointercapture":return o=i.pointerId,gt.set(o,Et(gt.get(o)||null,e,t,r,n,i)),!0}return!1}function Tt(e){var t=Ti(e.target);if(null!==t){var r=tt(t);if(null!==r)if(t=r.tag,13===t){if(t=rt(r),null!==t){e.blockedOn=t;ct(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){lt(r)}))}));return}}else if(3===t&&r.stateNode.hydrate){e.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=cr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return t=Ai(r),null!==t&&ut(t),e.blockedOn=r,!1;t.shift()}return!0}function xt(e,t,r){At(e)&&r.delete(t)}function Dt(){for(ft=!1;0<ht.length;){var e=ht[0];if(null!==e.blockedOn){e=Ai(e.blockedOn);null!==e&&st(e);break}for(var t=e.targetContainers;0<t.length;){var r=cr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&ht.shift()}null!==dt&&At(dt)&&(dt=null);null!==pt&&At(pt)&&(pt=null);null!==vt&&At(vt)&&(vt=null);mt.forEach(xt);gt.forEach(xt)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,ft||(ft=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Dt)))}function It(e){function t(t){return Ot(t,e)}if(0<ht.length){Ot(ht[0],e);for(var r=1;r<ht.length;r++){var n=ht[r];n.blockedOn===e&&(n.blockedOn=null)}}null!==dt&&Ot(dt,e);null!==pt&&Ot(pt,e);null!==vt&&Ot(vt,e);mt.forEach(t);gt.forEach(t);for(r=0;r<yt.length;r++)n=yt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<yt.length&&(r=yt[0],null===r.blockedOn);)Tt(r),null===r.blockedOn&&yt.shift()}function Ct(e,t){var r={};r[e.toLowerCase()]=t.toLowerCase();r["Webkit"+e]="webkit"+t;r["Moz"+e]="moz"+t;return r}var kt={animationend:Ct("Animation","AnimationEnd"),animationiteration:Ct("Animation","AnimationIteration"),animationstart:Ct("Animation","AnimationStart"),transitionend:Ct("Transition","TransitionEnd")},Rt={},Pt={};f&&(Pt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);function Mt(e){if(Rt[e])return Rt[e];if(!kt[e])return e;var t=kt[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Pt)return Rt[e]=t[r];return e}var Lt=Mt("animationend"),Nt=Mt("animationiteration"),Ft=Mt("animationstart"),jt=Mt("transitionend"),Bt=new Map,Ut=new Map,zt=["abort","abort",Lt,"animationEnd",Nt,"animationIteration",Ft,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",jt,"transitionEnd","waiting","waiting"];function $t(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1));Ut.set(n,t);Bt.set(n,i);l(i,[n])}}var Gt=o.unstable_now;Gt();var Ht=8;function Wt(e){if(0!==(1&e))return Ht=15,1;if(0!==(2&e))return Ht=14,2;if(0!==(4&e))return Ht=13,4;var t=24&e;if(0!==t)return Ht=12,t;if(0!==(e&32))return Ht=11,32;t=192&e;if(0!==t)return Ht=10,t;if(0!==(e&256))return Ht=9,256;t=3584&e;if(0!==t)return Ht=8,t;if(0!==(e&4096))return Ht=7,4096;t=4186112&e;if(0!==t)return Ht=6,t;t=62914560&e;if(0!==t)return Ht=5,t;if(e&67108864)return Ht=4,67108864;if(0!==(e&134217728))return Ht=3,134217728;t=805306368&e;if(0!==t)return Ht=2,t;if(0!==(1073741824&e))return Ht=1,1073741824;Ht=8;return e}function Vt(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function qt(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}function Jt(e,t){var r=e.pendingLanes;if(0===r)return Ht=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,i=Ht=15;else if(o=r&134217727,0!==o){var u=o&~a;0!==u?(n=Wt(u),i=Ht):(s&=o,0!==s&&(n=Wt(s),i=Ht))}else o=r&~a,0!==o?(n=Wt(o),i=Ht):0!==s&&(n=Wt(s),i=Ht);if(0===n)return 0;n=31-er(n);n=r&((0>n?0:1<<n)<<1)-1;if(0!==t&&t!==n&&0===(t&a)){Wt(t);if(i<=Ht)return t;Ht=i}t=e.entangledLanes;if(0!==t)for(e=e.entanglements,t&=n;0<t;)r=31-er(t),i=1<<r,n|=e[r],t&=~i;return n}function Yt(e){e=e.pendingLanes&-1073741825;return 0!==e?e:e&1073741824?1073741824:0}function Kt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Xt(24&~t),0===e?Kt(10,t):e;case 10:return e=Xt(192&~t),0===e?Kt(8,t):e;case 8:return e=Xt(3584&~t),0===e&&(e=Xt(4186112&~t),0===e&&(e=512)),e;case 2:return t=Xt(805306368&~t),0===t&&(t=268435456),t}throw Error(a(358,e))}function Xt(e){return e&-e}function Zt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n;e.pingedLanes&=n;e=e.eventTimes;t=31-er(t);e[t]=r}var er=Math.clz32?Math.clz32:nr,tr=Math.log,rr=Math.LN2;function nr(e){return 0===e?32:31-(tr(e)/rr|0)|0}var ir=o.unstable_UserBlockingPriority,or=o.unstable_runWithPriority,ar=!0;function sr(e,t,r,n){Ue||je();var i=lr,o=Ue;Ue=!0;try{Fe(i,e,t,r,n)}finally{(Ue=o)||$e()}}function ur(e,t,r,n){or(ir,lr.bind(null,e,t,r,n))}function lr(e,t,r,n){if(ar){var i;if((i=0===(t&4))&&0<ht.length&&-1<bt.indexOf(e))e=_t(null,e,t,r,n),ht.push(e);else{var o=cr(e,t,r,n);if(null===o)i&&wt(e,n);else{if(i){if(-1<bt.indexOf(e)){e=_t(o,e,t,r,n);ht.push(e);return}if(St(o,e,t,r,n))return;wt(e,n)}ri(e,t,n,null,r)}}}}function cr(e,t,r,n){var i=Ie(n);i=Ti(i);if(null!==i){var o=tt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){i=rt(o);if(null!==i)return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}ri(e,t,n,i,r);return null}var fr=null,hr=null,dr=null;function pr(){if(dr)return dr;var e,t=hr,r=t.length,n,i="value"in fr?fr.value:fr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return dr=i.slice(e,1<n?1-n:void 0)}function vr(e){var t=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t;10===e&&(e=13);return 32<=e||13===e?e:0}function mr(){return!0}function gr(){return!1}function yr(e){function t(t,r,n,i,o){this._reactName=t;this._targetInst=n;this.type=r;this.nativeEvent=i;this.target=o;this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?mr:gr;this.isPropagationStopped=gr;return this}i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr});return t}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=yr(br),wr=i({},br,{view:0,detail:0}),Er=yr(wr),Sr,Tr,Ar,xr=i({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){if("movementX"in e)return e.movementX;e!==Ar&&(Ar&&"mousemove"===e.type?(Sr=e.screenX-Ar.screenX,Tr=e.screenY-Ar.screenY):Tr=Sr=0,Ar=e);return Sr},movementY:function(e){return"movementY"in e?e.movementY:Tr}}),Dr=yr(xr),Or=i({},xr,{dataTransfer:0}),Ir=yr(Or),Cr=i({},wr,{relatedTarget:0}),kr=yr(Cr),Rr=i({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Pr=yr(Rr),Mr=i({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lr=yr(Mr),Nr=i({},br,{data:0}),Fr=yr(Nr),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ur[e])?!!t[e]:!1}function $r(){return zr}var Gr=i({},wr,{key:function(e){if(e.key){var t=jr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=vr(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Br[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return"keypress"===e.type?vr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?vr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Hr=yr(Gr),Wr=i({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vr=yr(Wr),qr=i({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),Jr=yr(qr),Yr=i({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kr=yr(Yr),Xr=i({},xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zr=yr(Xr),Qr=[9,13,27,32],en=f&&"CompositionEvent"in window,tn=null;f&&"documentMode"in document&&(tn=document.documentMode);var rn=f&&"TextEvent"in window&&!tn,nn=f&&(!en||tn&&8<tn&&11>=tn),on=String.fromCharCode(32),an=!1;function sn(e,t){switch(e){case"keyup":return-1!==Qr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function un(e){e=e.detail;return"object"===typeof e&&"data"in e?e.data:null}var ln=!1;function cn(e,t){switch(e){case"compositionend":return un(t);case"keypress":if(32!==t.which)return null;an=!0;return on;case"textInput":return e=t.data,e===on&&an?null:e;default:return null}}function fn(e,t){if(ln)return"compositionend"===e||!en&&sn(e,t)?(e=pr(),dr=hr=fr=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nn&&"ko"!==t.locale?null:t.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hn[e.type]:"textarea"===t?!0:!1}function pn(e,t,r,n){Me(n);t=ii(t,"onChange");0<t.length&&(r=new _r("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vn=null,mn=null;function gn(e){Kn(e,0)}function yn(e){var t=xi(e);if(te(t))return e}function bn(e,t){if("change"===e)return t}var _n=!1;if(f){var wn;if(f){var En="oninput"in document;if(!En){var Sn=document.createElement("div");Sn.setAttribute("oninput","return;");En="function"===typeof Sn.oninput}wn=En}else wn=!1;_n=wn&&(!document.documentMode||9<document.documentMode)}function Tn(){vn&&(vn.detachEvent("onpropertychange",An),mn=vn=null)}function An(e){if("value"===e.propertyName&&yn(mn)){var t=[];pn(t,mn,e,Ie(e));e=gn;if(Ue)e(t);else{Ue=!0;try{Ne(e,t)}finally{Ue=!1,$e()}}}}function xn(e,t,r){"focusin"===e?(Tn(),vn=t,mn=r,vn.attachEvent("onpropertychange",An)):"focusout"===e&&Tn()}function Dn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return yn(mn)}function On(e,t){if("click"===e)return yn(t)}function In(e,t){if("input"===e||"change"===e)return yn(t)}function Cn(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var kn="function"===typeof Object.is?Object.is:Cn,Rn=Object.prototype.hasOwnProperty;function Pn(e,t){if(kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Rn.call(t,r[n])||!kn(e[r[n]],t[r[n]]))return!1;return!0}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var r=Mn(e);e=0;for(var n;r;){if(3===r.nodeType){n=e+r.textContent.length;if(e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function Nn(e,t){return e&&t?e===t?!0:e&&3===e.nodeType?!1:t&&3===t.nodeType?Nn(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fn(){for(var e=window,t=re();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(e){r=!1}if(r)e=t.contentWindow;else break;t=re(e.document)}return t}function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Bn=f&&"documentMode"in document&&11>=document.documentMode,Un=null,zn=null,$n=null,Gn=!1;function Hn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Gn||null==Un||Un!==re(n)||(n=Un,"selectionStart"in n&&jn(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$n&&Pn($n,n)||($n=n,n=ii(zn,"onSelect"),0<n.length&&(t=new _r("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Un)))}$t("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);$t("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);$t(zt,2);for(var Wn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Vn=0;Vn<Wn.length;Vn++)Ut.set(Wn[Vn],0);c("onMouseEnter",["mouseout","mouseover"]);c("onMouseLeave",["mouseout","mouseover"]);c("onPointerEnter",["pointerout","pointerover"]);c("onPointerLeave",["pointerout","pointerover"]);l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));l("onBeforeInput",["compositionend","keypress","textInput","paste"]);l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jn=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function Yn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r;et(n,t,void 0,e);e.currentTarget=null}function Kn(e,t){t=0!==(t&4);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;s=s.listener;if(u!==o&&i.isPropagationStopped())break e;Yn(i,s,l);o=u}else for(a=0;a<n.length;a++){s=n[a];u=s.instance;l=s.currentTarget;s=s.listener;if(u!==o&&i.isPropagationStopped())break e;Yn(i,s,l);o=u}}}if(Ke)throw e=Xe,Ke=!1,Xe=null,e}function Xn(e,t){var r=Oi(t),n=e+"__bubble";r.has(n)||(ti(t,e,2,!1),r.add(n))}var Zn="_reactListening"+Math.random().toString(36).slice(2);function Qn(e){e[Zn]||(e[Zn]=!0,s.forEach((function(t){Jn.has(t)||ei(t,!1,e,null);ei(t,!0,e,null)})))}function ei(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;"selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument);if(null!==n&&!t&&Jn.has(e)){if("scroll"!==e)return;i|=2;o=n}var a=Oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),ti(o,e,i,t),a.add(s))}function ti(e,t,r,n){var i=Ut.get(t);switch(void 0===i?2:i){case 0:i=sr;break;case 1:i=ur;break;default:i=lr}r=i.bind(null,t,r,e);i=void 0;!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0);n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ri(e,t,r,n,i){var o=n;if(0===(t&1)&&0===(t&2)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var u=a.tag;if(3===u||4===u)if(u=a.stateNode.containerInfo,u===i||8===u.nodeType&&u.parentNode===i)return;a=a.return}for(;null!==s;){a=Ti(s);if(null===a)return;u=a.tag;if(5===u||6===u){n=o=a;continue e}s=s.parentNode}}n=n.return}Ge((function(){var n=o,i=Ie(r),a=[];e:{var s=Bt.get(e);if(void 0!==s){var u=_r,l=e;switch(e){case"keypress":if(0===vr(r))break e;case"keydown":case"keyup":u=Hr;break;case"focusin":l="focus";u=kr;break;case"focusout":l="blur";u=kr;break;case"beforeblur":case"afterblur":u=kr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Jr;break;case Lt:case Nt:case Ft:u=Pr;break;case jt:u=Kr;break;case"scroll":u=Er;break;case"wheel":u=Zr;break;case"copy":case"cut":case"paste":u=Lr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Vr}var c=0!==(t&4),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d=n,p;null!==d;){p=d;var v=p.stateNode;5===p.tag&&null!==v&&(p=v,null!==h&&(v=He(d,h),null!=v&&c.push(ni(d,v,p))));if(f)break;d=d.return}0<c.length&&(s=new u(s,l,null,r,i),a.push({event:s,listeners:c}))}}if(0===(t&7)){e:{s="mouseover"===e||"pointerover"===e;u="mouseout"===e||"pointerout"===e;if(s&&0===(t&16)&&(l=r.relatedTarget||r.fromElement)&&(Ti(l)||l[Ei]))break e;if(u||s){s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window;if(u){if(l=r.relatedTarget||r.toElement,u=n,l=l?Ti(l):null,null!==l&&(f=tt(l),l!==f||5!==l.tag&&6!==l.tag))l=null}else u=null,l=n;if(u!==l){c=Dr;v="onMouseLeave";h="onMouseEnter";d="mouse";if("pointerout"===e||"pointerover"===e)c=Vr,v="onPointerLeave",h="onPointerEnter",d="pointer";f=null==u?s:xi(u);p=null==l?s:xi(l);s=new c(v,d+"leave",u,r,i);s.target=f;s.relatedTarget=p;v=null;Ti(i)===n&&(c=new c(h,d+"enter",l,r,i),c.target=p,c.relatedTarget=f,v=c);f=v;if(u&&l)t:{c=u;h=l;d=0;for(p=c;p;p=oi(p))d++;p=0;for(v=h;v;v=oi(v))p++;for(;0<d-p;)c=oi(c),d--;for(;0<p-d;)h=oi(h),p--;for(;d--;){if(c===h||null!==h&&c===h.alternate)break t;c=oi(c);h=oi(h)}c=null}else c=null;null!==u&&ai(a,s,u,c,!1);null!==l&&null!==f&&ai(a,f,l,c,!0)}}}e:{s=n?xi(n):window;u=s.nodeName&&s.nodeName.toLowerCase();if("select"===u||"input"===u&&"file"===s.type)var m=bn;else if(dn(s))if(_n)m=In;else{m=Dn;var g=xn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=On);if(m&&(m=m(e,n))){pn(a,m,r,i);break e}g&&g(e,s,n);"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ue(s,"number",s.value)}g=n?xi(n):window;switch(e){case"focusin":if(dn(g)||"true"===g.contentEditable)Un=g,zn=n,$n=null;break;case"focusout":$n=zn=Un=null;break;case"mousedown":Gn=!0;break;case"contextmenu":case"mouseup":case"dragend":Gn=!1;Hn(a,r,i);break;case"selectionchange":if(Bn)break;case"keydown":case"keyup":Hn(a,r,i)}var y;if(en)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else ln?sn(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(nn&&"ko"!==r.locale&&(ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&ln&&(y=pr()):(fr=i,hr="value"in fr?fr.value:fr.textContent,ln=!0)),g=ii(n,b),0<g.length&&(b=new Fr(b,e,null,r,i),a.push({event:b,listeners:g}),y?b.data=y:(y=un(r),null!==y&&(b.data=y))));if(y=rn?cn(e,r):fn(e,r))n=ii(n,"onBeforeInput"),0<n.length&&(i=new Fr("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=y)}Kn(a,t)}))}function ni(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ii(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=He(e,r),null!=o&&n.unshift(ni(e,o,i)),o=He(e,t),null!=o&&n.push(ni(e,o,i)));e=e.return}return n}function oi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e?e:null}function ai(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==l&&(s=l,i?(u=He(r,o),null!=u&&a.unshift(ni(r,u,s))):i||(u=He(r,o),null!=u&&a.push(ni(r,u,s))));r=r.return}0!==a.length&&e.push({event:t,listeners:a})}function si(){}var ui=null,li=null;function ci(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function fi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"===typeof setTimeout?setTimeout:void 0,di="function"===typeof clearTimeout?clearTimeout:void 0;function pi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(e=e.body,null!=e&&(e.textContent=""))}function vi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function mi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var gi=0;function yi(e){return{$$typeof:j,toString:e,valueOf:e}}var bi=Math.random().toString(36).slice(2),_i="__reactFiber$"+bi,wi="__reactProps$"+bi,Ei="__reactContainer$"+bi,Si="__reactEvents$"+bi;function Ti(e){var t=e[_i];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ei]||r[_i]){r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(e=mi(e);null!==e;){if(r=e[_i])return r;e=mi(e)}return t}e=r;r=e.parentNode}return null}function Ai(e){e=e[_i]||e[Ei];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Di(e){return e[wi]||null}function Oi(e){var t=e[Si];void 0===t&&(t=e[Si]=new Set);return t}var Ii=[],Ci=-1;function ki(e){return{current:e}}function Ri(e){0>Ci||(e.current=Ii[Ci],Ii[Ci]=null,Ci--)}function Pi(e,t){Ci++;Ii[Ci]=e.current;e.current=t}var Mi={},Li=ki(Mi),Ni=ki(!1),Fi=Mi;function ji(e,t){var r=e.type.contextTypes;if(!r)return Mi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i);return i}function Bi(e){e=e.childContextTypes;return null!==e&&void 0!==e}function Ui(){Ri(Ni);Ri(Li)}function zi(e,t,r){if(Li.current!==Mi)throw Error(a(168));Pi(Li,t);Pi(Ni,r)}function $i(e,t,r){var n=e.stateNode;e=t.childContextTypes;if("function"!==typeof n.getChildContext)return r;n=n.getChildContext();for(var o in n)if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},r,n)}function Gi(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi;Fi=Li.current;Pi(Li,e);Pi(Ni,Ni.current);return!0}function Hi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=$i(e,t,Fi),n.__reactInternalMemoizedMergedChildContext=e,Ri(Ni),Ri(Li),Pi(Li,e)):Ri(Ni);Pi(Ni,r)}var Wi=null,Vi=null,qi=o.unstable_runWithPriority,Ji=o.unstable_scheduleCallback,Yi=o.unstable_cancelCallback,Ki=o.unstable_shouldYield,Xi=o.unstable_requestPaint,Zi=o.unstable_now,Qi=o.unstable_getCurrentPriorityLevel,eo=o.unstable_ImmediatePriority,to=o.unstable_UserBlockingPriority,ro=o.unstable_NormalPriority,no=o.unstable_LowPriority,io=o.unstable_IdlePriority,oo={},ao=void 0!==Xi?Xi:function(){},so=null,uo=null,lo=!1,co=Zi(),fo=1e4>co?Zi:function(){return Zi()-co};function ho(){switch(Qi()){case eo:return 99;case to:return 98;case ro:return 97;case no:return 96;case io:return 95;default:throw Error(a(332))}}function po(e){switch(e){case 99:return eo;case 98:return to;case 97:return ro;case 96:return no;case 95:return io;default:throw Error(a(332))}}function vo(e,t){e=po(e);return qi(e,t)}function mo(e,t,r){e=po(e);return Ji(e,t,r)}function go(){if(null!==uo){var e=uo;uo=null;Yi(e)}yo()}function yo(){if(!lo&&null!==so){lo=!0;var e=0;try{var t=so;vo(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}}));so=null}catch(t){throw null!==so&&(so=so.slice(e+1)),Ji(eo,go),t}finally{lo=!1}}}var bo=T.ReactCurrentBatchConfig;function _o(e,t){if(e&&e.defaultProps){t=i({},t);e=e.defaultProps;for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t}return t}var wo=ki(null),Eo=null,So=null,To=null;function Ao(){To=So=Eo=null}function xo(e){var t=wo.current;Ri(wo);e.type._context._currentValue=t}function Do(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t)if(null===r||(r.childLanes&t)===t)break;else r.childLanes|=t;else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function Oo(e,t){Eo=e;To=So=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(0!==(e.lanes&t)&&(os=!0),e.firstContext=null)}function Io(e,t){if(To!==e&&!1!==t&&0!==t){if("number"!==typeof t||1073741823===t)To=e,t=1073741823;t={context:e,observedBits:t,next:null};if(null===So){if(null===Eo)throw Error(a(308));So=t;Eo.dependencies={lanes:0,firstContext:t,responders:null}}else So=So.next=t}return e._currentValue}var Co=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Ro(e,t){e=e.updateQueue;t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t){e=e.updateQueue;if(null!==e){e=e.shared;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t);e.pending=t}}function Lo(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&(n=n.updateQueue,r===n)){var i=null,o=null;r=r.firstBaseUpdate;if(null!==r){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a;r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects};e.updateQueue=r;return}e=r.lastBaseUpdate;null===e?r.firstBaseUpdate=t:e.next=t;r.lastBaseUpdate=t}function No(e,t,r,n){var o=e.updateQueue;Co=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null;null===s?a=c:s.next=c;s=l;var f=e.alternate;if(null!==f){f=f.updateQueue;var h=f.lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=l)}}if(null!==a){h=o.baseState;s=0;f=c=l=null;do{u=a.lane;var d=a.eventTime;if((n&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;u=t;d=r;switch(v.tag){case 1:p=v.payload;if("function"===typeof p){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:p=v.payload;u="function"===typeof p?p.call(d,h,u):p;if(null===u||void 0===u)break e;h=i({},h,u);break e;case 2:Co=!0}}null!==a.callback&&(e.flags|=32,u=o.effects,null===u?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=d,l=h):f=f.next=d,s|=u;a=a.next;if(null===a)if(u=o.shared.pending,null===u)break;else a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}while(1);null===f&&(l=h);o.baseState=l;o.firstBaseUpdate=c;o.lastBaseUpdate=f;cu|=s;e.lanes=s;e.memoizedState=h}}function Fo(e,t,r){e=t.effects;t.effects=null;if(null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){n.callback=null;n=r;if("function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var jo=(new n.Component).refs;function Bo(e,t,r,n){t=e.memoizedState;r=r(n,t);r=null===r||void 0===r?t:i({},t,r);e.memoizedState=r;0===e.lanes&&(e.updateQueue.baseState=r)}var Uo={isMounted:function(e){return(e=e._reactInternals)?tt(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mu(),i=Lu(e),o=Po(n,i);o.payload=t;void 0!==r&&null!==r&&(o.callback=r);Mo(e,o);Nu(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mu(),i=Lu(e),o=Po(n,i);o.tag=1;o.payload=t;void 0!==r&&null!==r&&(o.callback=r);Mo(e,o);Nu(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mu(),n=Lu(e),i=Po(r,n);i.tag=2;void 0!==t&&null!==t&&(i.callback=t);Mo(e,i);Nu(e,n,r)}};function zo(e,t,r,n,i,o,a){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Pn(r,n)||!Pn(i,o):!0}function $o(e,t,r){var n=!1,i=Mi;var o=t.contextType;"object"===typeof o&&null!==o?o=Io(o):(i=Bi(t)?Fi:Li.current,n=t.contextTypes,o=(n=null!==n&&void 0!==n)?ji(e,i):Mi);t=new t(r,o);e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null;t.updater=Uo;e.stateNode=t;t._reactInternals=e;n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o);return t}function Go(e,t,r,n){e=t.state;"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n);"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n);t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,r,n){var i=e.stateNode;i.props=r;i.state=e.memoizedState;i.refs=jo;ko(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Bi(t)?Fi:Li.current,i.context=ji(e,o));No(e,r,i,n);i.state=e.memoizedState;o=t.getDerivedStateFromProps;"function"===typeof o&&(Bo(e,t,o,r),i.state=e.memoizedState);"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),No(e,r,i,n),i.state=e.memoizedState);"function"===typeof i.componentDidMount&&(e.flags|=4)}var Wo=Array.isArray;function Vo(e,t,r){e=r.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){r=r._owner;if(r){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;if(null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i)return t.ref;t=function(e){var t=n.refs;t===jo&&(t=n.refs={});null===e?delete t[i]:t[i]=e};t._stringRef=i;return t}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function qo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Jo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r;r.nextEffect=null;r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){e=gl(e,t);e.index=0;e.sibling=null;return e}function o(t,r,n){t.index=n;if(!e)return r;n=t.alternate;if(null!==n)return n=n.index,n<r?(t.flags=2,r):n;t.flags=2;return r}function s(t){e&&null===t.alternate&&(t.flags=2);return t}function u(e,t,r,n){if(null===t||6!==t.tag)return t=wl(r,e.mode,n),t.return=e,t;t=i(t,r);t.return=e;return t}function l(e,t,r,n){if(null!==t&&t.elementType===r.type)return n=i(t,r.props),n.ref=Vo(e,t,r),n.return=e,n;n=yl(r.type,r.key,r.props,null,e.mode,n);n.ref=Vo(e,t,r);n.return=e;return n}function c(e,t,r,n){if(null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation)return t=El(r,e.mode,n),t.return=e,t;t=i(t,r.children||[]);t.return=e;return t}function f(e,t,r,n,o){if(null===t||7!==t.tag)return t=bl(r,e.mode,n,o),t.return=e,t;t=i(t,r);t.return=e;return t}function h(e,t,r){if("string"===typeof t||"number"===typeof t)return t=wl(""+t,e.mode,r),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case A:return r=yl(t.type,t.key,t.props,null,e.mode,r),r.ref=Vo(e,null,t),r.return=e,r;case x:return t=El(t,e.mode,r),t.return=e,t}if(Wo(t)||H(t))return t=bl(t,e.mode,r,null),t.return=e,t;qo(e,t)}return null}function d(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case A:return r.key===i?r.type===D?f(e,t,r.props.children,n,i):l(e,t,r,n):null;case x:return r.key===i?c(e,t,r,n):null}if(Wo(r)||H(r))return null!==i?null:f(e,t,r,n,null);qo(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return e=e.get(r)||null,u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case A:return e=e.get(null===n.key?r:n.key)||null,n.type===D?f(t,e,n.props.children,i,n.key):l(t,e,n,i);case x:return e=e.get(null===n.key?r:n.key)||null,c(t,e,n,i)}if(Wo(n)||H(n))return e=e.get(r)||null,f(t,e,n,i,null);qo(t,n)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f);a=o(g,a,v);null===c?l=g:c.sibling=g;c=g;f=m}if(v===s.length)return r(i,f),l;if(null===f){for(;v<s.length;v++)f=h(i,s[v],u),null!==f&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=n(i,f);v<s.length;v++)m=p(f,i,v,s[v],u),null!==m&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);e&&f.forEach((function(e){return t(i,e)}));return l}function m(i,s,u,l){var c=H(u);if("function"!==typeof c)throw Error(a(150));u=c.call(u);if(null==u)throw Error(a(151));for(var f=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v);s=o(b,s,m);null===f?c=b:f.sibling=b;f=b;v=g}if(y.done)return r(i,v),c;if(null===v){for(;!y.done;m++,y=u.next())y=h(i,y.value,l),null!==y&&(s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);return c}for(v=n(i,v);!y.done;m++,y=u.next())y=p(v,i,m,y.value,l),null!==y&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===f?c=y:f.sibling=y,f=y);e&&v.forEach((function(e){return t(i,e)}));return c}return function(e,n,o,u){var l="object"===typeof o&&null!==o&&o.type===D&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case A:e:{c=o.key;for(l=n;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===D){r(e,l.sibling);n=i(l,o.props.children);n.return=e;e=n;break e}break;default:if(l.elementType===o.type){r(e,l.sibling);n=i(l,o.props);n.ref=Vo(e,l,o);n.return=e;e=n;break e}}r(e,l);break}else t(e,l);l=l.sibling}o.type===D?(n=bl(o.props.children,e.mode,u,o.key),n.return=e,e=n):(u=yl(o.type,o.key,o.props,null,e.mode,u),u.ref=Vo(e,n,o),u.return=e,e=u)}return s(e);case x:e:{for(l=o.key;null!==n;){if(n.key===l)if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling);n=i(n,o.children||[]);n.return=e;e=n;break e}else{r(e,n);break}else t(e,n);n=n.sibling}n=El(o,e.mode,u);n.return=e;e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),n=i(n,o),n.return=e,e=n):(r(e,n),n=wl(o,e.mode,u),n.return=e,e=n),s(e);if(Wo(o))return v(e,n,o,u);if(H(o))return m(e,n,o,u);c&&qo(e,o);if("undefined"===typeof o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return r(e,n)}}var Yo=Jo(!0),Ko=Jo(!1),Xo={},Zo=ki(Xo),Qo=ki(Xo),ea=ki(Xo);function ta(e){if(e===Xo)throw Error(a(174));return e}function ra(e,t){Pi(ea,t);Pi(Qo,e);Pi(Zo,Xo);e=t.nodeType;switch(e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ye(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ye(t,e)}Ri(Zo);Pi(Zo,t)}function na(){Ri(Zo);Ri(Qo);Ri(ea)}function ia(e){ta(ea.current);var t=ta(Zo.current);var r=ye(t,e.type);t!==r&&(Pi(Qo,e),Pi(Zo,r))}function oa(e){Qo.current===e&&(Ri(Zo),Ri(Qo))}var aa=ki(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(t.flags&64))return t}else if(null!==t.child){t.child.return=t;t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return;t=t.sibling}return null}var ua=null,la=null,ca=!1;function fa(e,t){var r=pl(5,null,null,0);r.elementType="DELETED";r.type="DELETED";r.stateNode=t;r.return=e;r.flags=8;null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function ha(e,t){switch(e.tag){case 5:var r=e.type;t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t;return null!==t?(e.stateNode=t,!0):!1;case 6:return t=""===e.pendingProps||3!==t.nodeType?null:t,null!==t?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function da(e){if(ca){var t=la;if(t){var r=t;if(!ha(e,t)){t=vi(r.nextSibling);if(!t||!ha(e,t)){e.flags=e.flags&-1025|2;ca=!1;ua=e;return}fa(ua,r)}ua=e;la=vi(t.firstChild)}else e.flags=e.flags&-1025|2,ca=!1,ua=e}}function pa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ua=e}function va(e){if(e!==ua)return!1;if(!ca)return pa(e),ca=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!fi(t,e.memoizedProps))for(t=la;t;)fa(e,t),t=vi(t.nextSibling);pa(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(a(317));e:{e=e.nextSibling;for(t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){la=vi(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}la=null}}else la=ua?vi(e.stateNode.nextSibling):null;return!0}function ma(){la=ua=null;ca=!1}var ga=[];function ya(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var ba=T.ReactCurrentDispatcher,_a=T.ReactCurrentBatchConfig,wa=0,Ea=null,Sa=null,Ta=null,Aa=!1,xa=!1;function Da(){throw Error(a(321))}function Oa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!kn(e[r],t[r]))return!1;return!0}function Ia(e,t,r,n,i,o){wa=o;Ea=t;t.memoizedState=null;t.updateQueue=null;t.lanes=0;ba.current=null===e||null===e.memoizedState?ts:rs;e=r(n,i);if(xa){o=0;do{xa=!1;if(!(25>o))throw Error(a(301));o+=1;Ta=Sa=null;t.updateQueue=null;ba.current=ns;e=r(n,i)}while(xa)}ba.current=es;t=null!==Sa&&null!==Sa.next;wa=0;Ta=Sa=Ea=null;Aa=!1;if(t)throw Error(a(300));return e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Ta?Ea.memoizedState=Ta=e:Ta=Ta.next=e;return Ta}function ka(){if(null===Sa){var e=Ea.alternate;e=null!==e?e.memoizedState:null}else e=Sa.next;var t=null===Ta?Ea.memoizedState:Ta.next;if(null!==t)Ta=t,Sa=e;else{if(null===e)throw Error(a(310));Sa=e;e={memoizedState:Sa.memoizedState,baseState:Sa.baseState,baseQueue:Sa.baseQueue,queue:Sa.queue,next:null};null===Ta?Ea.memoizedState=Ta=e:Ta=Ta.next=e}return Ta}function Ra(e,t){return"function"===typeof t?t(e):t}function Pa(e){var t=ka(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=Sa,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next;o.next=s}n.baseQueue=i=o;r.pending=null}if(null!==i){i=i.next;n=n.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((wa&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,o=n):u=u.next=f;Ea.lanes|=c;cu|=c}l=l.next}while(null!==l&&l!==i);null===u?o=n:u.next=s;kn(n,t.memoizedState)||(os=!0);t.memoizedState=n;t.baseState=o;t.baseQueue=u;r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Ma(e){var t=ka(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);kn(o,t.memoizedState)||(os=!0);t.memoizedState=o;null===t.baseQueue&&(t.baseState=o);r.lastRenderedState=o}return[o,n]}function La(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(null!==i)e=i===n;else if(e=e.mutableReadLanes,e=(wa&e)===e)t._workInProgressVersionPrimary=n,ga.push(t);if(e)return r(t._source);ga.push(t);throw Error(a(350))}function Na(e,t,r,n){var i=ru;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=ba.current,l=u.useState((function(){return La(i,t,r)})),c=l[1],f=l[0];l=Ta;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ea;e.memoizedState={refs:d,source:t,subscribe:n};u.useEffect((function(){d.getSnapshot=r;d.setSnapshot=c;var e=o(t._source);if(!kn(s,e)){e=r(t._source);kn(f,e)||(c(e),e=Lu(m),i.mutableReadLanes|=e&i.pendingLanes);e=i.mutableReadLanes;i.entangledLanes|=e;for(var n=i.entanglements,a=e;0<a;){var u=31-er(a),l=1<<u;n[u]|=e;a&=~l}}}),[r,t,n]);u.useEffect((function(){return n(t._source,(function(){var e=d.getSnapshot,r=d.setSnapshot;try{r(e(t._source));var n=Lu(m);i.mutableReadLanes|=n&i.pendingLanes}catch(e){r((function(){throw e}))}}))}),[t,n]);kn(p,r)&&kn(v,t)&&kn(h,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:f},e.dispatch=c=Qa.bind(null,Ea,e),l.queue=e,l.baseQueue=null,f=La(i,t,r),l.memoizedState=l.baseState=f);return f}function Fa(e,t,r){var n=ka();return Na(n,e,t,r)}function ja(e){var t=Ca();"function"===typeof e&&(e=e());t.memoizedState=t.baseState=e;e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:e};e=e.dispatch=Qa.bind(null,Ea,e);return[t.memoizedState,e]}function Ba(e,t,r,n){e={tag:e,create:t,destroy:r,deps:n,next:null};t=Ea.updateQueue;null===t?(t={lastEffect:null},Ea.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,null===r?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e));return e}function Ua(e){var t=Ca();e={current:e};return t.memoizedState=e}function za(){return ka().memoizedState}function $a(e,t,r,n){var i=Ca();Ea.flags|=e;i.memoizedState=Ba(1|t,r,void 0,void 0===n?null:n)}function Ga(e,t,r,n){var i=ka();n=void 0===n?null:n;var o=void 0;if(null!==Sa){var a=Sa.memoizedState;o=a.destroy;if(null!==n&&Oa(n,a.deps)){Ba(t,r,o,n);return}}Ea.flags|=e;i.memoizedState=Ba(1|t,r,o,n)}function Ha(e,t){return $a(516,4,e,t)}function Wa(e,t){return Ga(516,4,e,t)}function Va(e,t){return Ga(4,2,e,t)}function qa(e,t){if("function"===typeof t)return e=e(),t(e),function(){t(null)};if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ja(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return Ga(4,2,qa.bind(null,t,e),r)}function Ya(){}function Ka(e,t){var r=ka();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&Oa(t,n[1]))return n[0];r.memoizedState=[e,t];return e}function Xa(e,t){var r=ka();t=void 0===t?null:t;var n=r.memoizedState;if(null!==n&&null!==t&&Oa(t,n[1]))return n[0];e=e();r.memoizedState=[e,t];return e}function Za(e,t){var r=ho();vo(98>r?98:r,(function(){e(!0)}));vo(97<r?97:r,(function(){var r=_a.transition;_a.transition=1;try{e(!1),t()}finally{_a.transition=r}}))}function Qa(e,t,r){var n=Mu(),i=Lu(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;null===a?o.next=o:(o.next=a.next,a.next=o);t.pending=o;a=e.alternate;if(e===Ea||null!==a&&a===Ea)xa=Aa=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&(a=t.lastRenderedReducer,null!==a))try{var s=t.lastRenderedState,u=a(s,r);o.eagerReducer=a;o.eagerState=u;if(kn(u,s))return}catch(e){}finally{}Nu(e,i,n)}}var es={readContext:Io,useCallback:Da,useContext:Da,useEffect:Da,useImperativeHandle:Da,useLayoutEffect:Da,useMemo:Da,useReducer:Da,useRef:Da,useState:Da,useDebugValue:Da,useDeferredValue:Da,useTransition:Da,useMutableSource:Da,useOpaqueIdentifier:Da,unstable_isNewReconciler:!1},ts={readContext:Io,useCallback:function(e,t){Ca().memoizedState=[e,void 0===t?null:t];return e},useContext:Io,useEffect:Ha,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null;return $a(4,2,qa.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $a(4,2,e,t)},useMemo:function(e,t){var r=Ca();t=void 0===t?null:t;e=e();r.memoizedState=[e,t];return e},useReducer:function(e,t,r){var n=Ca();t=void 0!==r?r(t):t;n.memoizedState=n.baseState=t;e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t};e=e.dispatch=Qa.bind(null,Ea,e);return[n.memoizedState,e]},useRef:Ua,useState:ja,useDebugValue:Ya,useDeferredValue:function(e){var t=ja(e),r=t[0],n=t[1];Ha((function(){var t=_a.transition;_a.transition=1;try{n(e)}finally{_a.transition=t}}),[e]);return r},useTransition:function(){var e=ja(!1),t=e[0];e=Za.bind(null,e[1]);Ua(e);return[e,t]},useMutableSource:function(e,t,r){var n=Ca();n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r};return Na(n,e,t,r)},useOpaqueIdentifier:function(){if(ca){var e=!1,t=yi((function(){e||(e=!0,r("r:"+(gi++).toString(36)));throw Error(a(355))})),r=ja(t)[1];0===(Ea.mode&2)&&(Ea.flags|=516,Ba(5,(function(){r("r:"+(gi++).toString(36))}),void 0,null));return t}t="r:"+(gi++).toString(36);ja(t);return t},unstable_isNewReconciler:!1},rs={readContext:Io,useCallback:Ka,useContext:Io,useEffect:Wa,useImperativeHandle:Ja,useLayoutEffect:Va,useMemo:Xa,useReducer:Pa,useRef:za,useState:function(){return Pa(Ra)},useDebugValue:Ya,useDeferredValue:function(e){var t=Pa(Ra),r=t[0],n=t[1];Wa((function(){var t=_a.transition;_a.transition=1;try{n(e)}finally{_a.transition=t}}),[e]);return r},useTransition:function(){var e=Pa(Ra)[0];return[za().current,e]},useMutableSource:Fa,useOpaqueIdentifier:function(){return Pa(Ra)[0]},unstable_isNewReconciler:!1},ns={readContext:Io,useCallback:Ka,useContext:Io,useEffect:Wa,useImperativeHandle:Ja,useLayoutEffect:Va,useMemo:Xa,useReducer:Ma,useRef:za,useState:function(){return Ma(Ra)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ma(Ra),r=t[0],n=t[1];Wa((function(){var t=_a.transition;_a.transition=1;try{n(e)}finally{_a.transition=t}}),[e]);return r},useTransition:function(){var e=Ma(Ra)[0];return[za().current,e]},useMutableSource:Fa,useOpaqueIdentifier:function(){return Ma(Ra)[0]},unstable_isNewReconciler:!1},is=T.ReactCurrentOwner,os=!1;function as(e,t,r,n){t.child=null===e?Ko(t,null,r,n):Yo(t,e.child,r,n)}function ss(e,t,r,n,i){r=r.render;var o=t.ref;Oo(t,i);n=Ia(e,t,r,n,o,i);if(null!==e&&!os)return t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ts(e,t,i);t.flags|=1;as(e,t,n,i);return t.child}function us(e,t,r,n,i,o){if(null===e){var a=r.type;if("function"===typeof a&&!vl(a)&&void 0===a.defaultProps&&null===r.compare&&void 0===r.defaultProps)return t.tag=15,t.type=a,ls(e,t,a,n,i,o);e=yl(r.type,null,n,t,t.mode,o);e.ref=t.ref;e.return=t;return t.child=e}a=e.child;if(0===(i&o)&&(i=a.memoizedProps,r=r.compare,r=null!==r?r:Pn,r(i,n)&&e.ref===t.ref))return Ts(e,t,o);t.flags|=1;e=gl(a,n);e.ref=t.ref;e.return=t;return t.child=e}function ls(e,t,r,n,i,o){if(null!==e&&Pn(e.memoizedProps,n)&&e.ref===t.ref)if(os=!1,0!==(o&i))0!==(e.flags&16384)&&(os=!0);else return t.lanes=e.lanes,Ts(e,t,o);return hs(e,t,r,n,o)}function cs(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(t.mode&4))t.memoizedState={baseLanes:0},Wu(t,r);else if(0!==(r&1073741824))t.memoizedState={baseLanes:0},Wu(t,null!==o?o.baseLanes:r);else return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Wu(t,e),null;else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Wu(t,n);as(e,t,i,r);return t.child}function fs(e,t){var r=t.ref;if(null===e&&null!==r||null!==e&&e.ref!==r)t.flags|=128}function hs(e,t,r,n,i){var o=Bi(r)?Fi:Li.current;o=ji(t,o);Oo(t,i);r=Ia(e,t,r,n,o,i);if(null!==e&&!os)return t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Ts(e,t,i);t.flags|=1;as(e,t,r,i);return t.child}function ds(e,t,r,n,i){if(Bi(r)){var o=!0;Gi(t)}else o=!1;Oo(t,i);if(null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),$o(t,r,n),Ho(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=r.contextType;"object"===typeof l&&null!==l?l=Io(l):(l=Bi(r)?Fi:Li.current,l=ji(t,l));var c=r.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==l)&&Go(t,a,n,l);Co=!1;var h=t.memoizedState;a.state=h;No(t,n,a,i);u=t.memoizedState;s!==n||h!==u||Ni.current||Co?("function"===typeof c&&(Bo(t,r,c,n),u=t.memoizedState),(s=Co||zo(t,r,s,n,h,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode;Ro(e,t);s=t.memoizedProps;l=t.type===t.elementType?s:_o(t.type,s);a.props=l;f=t.pendingProps;h=a.context;u=r.contextType;"object"===typeof u&&null!==u?u=Io(u):(u=Bi(r)?Fi:Li.current,u=ji(t,u));var d=r.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&Go(t,a,n,u);Co=!1;h=t.memoizedState;a.state=h;No(t,n,a,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Co?("function"===typeof d&&(Bo(t,r,d,n),p=t.memoizedState),(l=Co||zo(t,r,l,n,h,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=u,n=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),n=!1)}return ps(e,t,r,n,o,i)}function ps(e,t,r,n,i,o){fs(e,t);var a=0!==(t.flags&64);if(!n&&!a)return i&&Hi(t,r,!1),Ts(e,t,o);n=t.stateNode;is.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();t.flags|=1;null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):as(e,t,s,o);t.memoizedState=n.state;i&&Hi(t,r,!0);return t.child}function vs(e){var t=e.stateNode;t.pendingContext?zi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zi(e,t.context,!1);ra(e,t.containerInfo)}var ms={dehydrated:null,retryLane:0};function gs(e,t,r){var n=t.pendingProps,i=aa.current,o=!1,a;(a=0!==(t.flags&64))||(a=null!==e&&null===e.memoizedState?!1:0!==(i&2));a?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===n.fallback||!0===n.unstable_avoidThisFallback||(i|=1);Pi(aa,i&1);if(null===e){void 0!==n.fallback&&da(t);e=n.children;i=n.fallback;if(o)return e=ys(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=ms,e;if("number"===typeof n.unstable_expectedLoadTime)return e=ys(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=ms,t.lanes=33554432,e;r=_l({mode:"visible",children:e},t.mode,r,null);r.return=t;return t.child=r}if(null!==e.memoizedState){if(o)return n=_s(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=ms,n;r=bs(e,t,n.children,r);t.memoizedState=null;return r}if(o)return n=_s(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=ms,n;r=bs(e,t,n.children,r);t.memoizedState=null;return r}function ys(e,t,r,n){var i=e.mode,o=e.child;t={mode:"hidden",children:t};0===(i&2)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=_l(t,i,0,null);r=bl(r,i,n,null);o.return=e;r.return=e;o.sibling=r;e.child=o;return r}function bs(e,t,r,n){var i=e.child;e=i.sibling;r=gl(i,{mode:"visible",children:r});0===(t.mode&2)&&(r.lanes=n);r.return=t;r.sibling=null;null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e);return t.child=r}function _s(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};0===(o&2)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,a=r.lastEffect,null!==a?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=gl(a,s);null!==e?n=gl(e,n):(n=bl(n,o,i,null),n.flags|=2);n.return=t;r.return=t;r.sibling=n;t.child=r;return n}function ws(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);Do(e.return,t)}function Es(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function Ss(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;as(e,t,n.children,r);n=aa.current;if(0!==(n&2))n=n&1|2,t.flags|=64;else{if(null!==e&&0!==(e.flags&64))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ws(e,r);else if(19===e.tag)ws(e,r);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return;e=e.sibling}n&=1}Pi(aa,n);if(0===(t.mode&2))t.memoizedState=null;else switch(i){case"forwards":r=t.child;for(i=null;null!==r;)e=r.alternate,null!==e&&null===sa(e)&&(i=r),r=r.sibling;r=i;null===r?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null);Es(t,!1,i,r,o,t.lastEffect);break;case"backwards":r=null;i=t.child;for(t.child=null;null!==i;){e=i.alternate;if(null!==e&&null===sa(e)){t.child=i;break}e=i.sibling;i.sibling=r;r=i;i=e}Es(t,!0,r,null,o,t.lastEffect);break;case"together":Es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ts(e,t,r){null!==e&&(t.dependencies=e.dependencies);cu|=t.lanes;if(0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){e=t.child;r=gl(e,e.pendingProps);t.child=r;for(r.return=t;null!==e.sibling;)e=e.sibling,r=r.sibling=gl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var As,xs,Ds,Os;As=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return;r=r.sibling}};xs=function(){};Ds=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode;ta(Zo.current);var a=null;switch(r){case"input":o=ne(e,o);n=ne(e,n);a=[];break;case"option":o=ce(e,o);n=ce(e,n);a=[];break;case"select":o=i({},o,{value:void 0});n=i({},n,{value:void 0});a=[];break;case"textarea":o=he(e,o);n=he(e,n);a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=si)}De(r,n);var s;r=null;for(f in o)if(!n.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var l=o[f];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in n){var c=n[f];l=null!=o?o[f]:void 0;if(n.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(f,r)),r=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Xn("scroll",e),a||l===c||(a=[])):"object"===typeof c&&null!==c&&c.$$typeof===j?c.toString():(a=a||[]).push(f,c))}r&&(a=a||[]).push("style",r);var f=a;if(t.updateQueue=f)t.flags|=4}};Os=function(e,t,r,n){r!==n&&(t.flags|=4)};function Is(e,t){if(!ca)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Cs(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Bi(t.type)&&Ui(),null;case 3:na();Ri(Ni);Ri(Li);ya();n=t.stateNode;n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null);if(null===e||null===e.child)va(t)?t.flags|=4:n.hydrate||(t.flags|=256);xs(t);return null;case 5:oa(t);var o=ta(ea.current);r=t.type;if(null!==e&&null!=t.stateNode)Ds(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}e=ta(Zo.current);if(va(t)){n=t.stateNode;r=t.type;var s=t.memoizedProps;n[_i]=t;n[wi]=s;switch(r){case"dialog":Xn("cancel",n);Xn("close",n);break;case"iframe":case"object":case"embed":Xn("load",n);break;case"video":case"audio":for(e=0;e<qn.length;e++)Xn(qn[e],n);break;case"source":Xn("error",n);break;case"img":case"image":case"link":Xn("error",n);Xn("load",n);break;case"details":Xn("toggle",n);break;case"input":ie(n,s);Xn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple};Xn("invalid",n);break;case"textarea":de(n,s),Xn("invalid",n)}De(r,s);e=null;for(var l in s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?n.textContent!==o&&(e=["children",o]):"number"===typeof o&&n.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Xn("scroll",n));switch(r){case"input":ee(n);se(n,s,!0);break;case"textarea":ee(n);ve(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=si)}n=e;t.updateQueue=n;null!==n&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument;e===me.html&&(e=ge(r));e===me.html?"script"===r?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r);e[_i]=t;e[wi]=n;As(e,t,!1,!1);t.stateNode=e;l=Oe(r,n);switch(r){case"dialog":Xn("cancel",e);Xn("close",e);o=n;break;case"iframe":case"object":case"embed":Xn("load",e);o=n;break;case"video":case"audio":for(o=0;o<qn.length;o++)Xn(qn[o],e);o=n;break;case"source":Xn("error",e);o=n;break;case"img":case"image":case"link":Xn("error",e);Xn("load",e);o=n;break;case"details":Xn("toggle",e);o=n;break;case"input":ie(e,n);o=ne(e,n);Xn("invalid",e);break;case"option":o=ce(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple};o=i({},n,{value:void 0});Xn("invalid",e);break;case"textarea":de(e,n);o=he(e,n);Xn("invalid",e);break;default:o=n}De(r,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?Ae(e,f):"dangerouslySetInnerHTML"===s?(f=f?f.__html:void 0,null!=f&&_e(e,f)):"children"===s?"string"===typeof f?("textarea"!==r||""!==f)&&we(e,f):"number"===typeof f&&we(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Xn("scroll",e):null!=f&&S(e,s,f,l))}switch(r){case"input":ee(e);se(e,n,!1);break;case"textarea":ee(e);ve(e);break;case"option":null!=n.value&&e.setAttribute("value",""+X(n.value));break;case"select":e.multiple=!!n.multiple;s=n.value;null!=s?fe(e,!!n.multiple,s,!1):null!=n.defaultValue&&fe(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=si)}ci(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=ta(ea.current);ta(Zo.current);va(t)?(n=t.stateNode,r=t.memoizedProps,n[_i]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n),n[_i]=t,t.stateNode=n)}return null;case 13:Ri(aa);n=t.memoizedState;if(0!==(t.flags&64))return t.lanes=r,t;n=null!==n;r=!1;null===e?void 0!==t.memoizedProps.fallback&&va(t):r=null!==e.memoizedState;if(n&&!r&&0!==(t.mode&2))if(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(aa.current&1))0===su&&(su=3);else{if(0===su||3===su)su=4;null===ru||0===(cu&134217727)&&0===(fu&134217727)||Uu(ru,iu)}if(n||r)t.flags|=4;return null;case 4:return na(),xs(t),null===e&&Qn(t.stateNode.containerInfo),null;case 10:return xo(t),null;case 17:return Bi(t.type)&&Ui(),null;case 19:Ri(aa);n=t.memoizedState;if(null===n)return null;s=0!==(t.flags&64);l=n.rendering;if(null===l)if(s)Is(n,!1);else{if(0!==su||null!==e&&0!==(e.flags&64))for(e=t.child;null!==e;){l=sa(e);if(null!==l){t.flags|=64;Is(n,!1);s=l.updateQueue;null!==s&&(t.updateQueue=s,t.flags|=4);null===n.lastEffect&&(t.firstEffect=null);t.lastEffect=n.lastEffect;n=r;for(r=t.child;null!==r;)s=r,e=n,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,l=s.alternate,null===l?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;Pi(aa,aa.current&1|2);return t.child}e=e.sibling}null!==n.tail&&fo()>vu&&(t.flags|=64,s=!0,Is(n,!1),t.lanes=33554432)}else{if(!s)if(e=sa(l),null!==e){if(t.flags|=64,s=!0,r=e.updateQueue,null!==r&&(t.updateQueue=r,t.flags|=4),Is(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!ca)return t=t.lastEffect=n.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*fo()-n.renderingStartTime>vu&&1073741824!==r&&(t.flags|=64,s=!0,Is(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(r=n.last,null!==r?r.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=fo(),r.sibling=null,t=aa.current,Pi(aa,s?t&1|2:t&1),r):null;case 23:case 24:return Vu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ks(e){switch(e.tag){case 1:Bi(e.type)&&Ui();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:na();Ri(Ni);Ri(Li);ya();t=e.flags;if(0!==(t&64))throw Error(a(285));e.flags=t&-4097|64;return e;case 5:return oa(e),null;case 13:return Ri(aa),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ri(aa),null;case 4:return na(),null;case 10:return xo(e),null;case 23:case 24:return Vu(),null;default:return null}}function Rs(e,t){try{var r="",n=t;do{r+=Y(n),n=n.return}while(n);var i=r}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Ps(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Ms="function"===typeof WeakMap?WeakMap:Map;function Ls(e,t,r){r=Po(-1,r);r.tag=3;r.payload={element:null};var n=t.value;r.callback=function(){yu||(yu=!0,bu=n);Ps(e,t)};return r}function Ns(e,t,r){r=Po(-1,r);r.tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){Ps(e,t);return n(i)}}var o=e.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===_u?_u=new Set([this]):_u.add(this),Ps(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})});return r}var Fs="function"===typeof WeakSet?WeakSet:Set;function js(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){ll(e,t)}else t.current=null}function Bs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&null!==e){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode;t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:_o(t.type,r),n);e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&pi(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Us(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:t=r.updateQueue;t=null!==t?t.lastEffect:null;if(null!==t){e=t=t.next;do{if(3===(e.tag&3)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}t=r.updateQueue;t=null!==t?t.lastEffect:null;if(null!==t){e=t=t.next;do{var i=e;n=i.next;i=i.tag;0!==(i&4)&&0!==(i&1)&&(al(r,e),ol(r,e));e=n}while(e!==t)}return;case 1:e=r.stateNode;r.flags&4&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:_o(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)));t=r.updateQueue;null!==t&&Fo(r,t,e);return;case 3:t=r.updateQueue;if(null!==t){e=null;if(null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}Fo(r,t,e)}return;case 5:e=r.stateNode;null===t&&r.flags&4&&ci(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&It(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function zs(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)n=n.style,"function"===typeof n.setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null;n.style.display=Te("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return;r=r.sibling}}function $s(e,t){if(Vi&&"function"===typeof Vi.onCommitFiberUnmount)try{Vi.onCommitFiberUnmount(Wi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:e=t.updateQueue;if(null!==e&&(e=e.lastEffect,null!==e)){var r=e=e.next;do{var n=r,i=n.destroy;n=n.tag;if(void 0!==i)if(0!==(n&4))al(t,r);else{n=t;try{i()}catch(e){ll(n,e)}}r=r.next}while(r!==e)}break;case 1:js(t);e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ll(t,e)}break;case 5:js(t);break;case 4:Js(e,t)}}function Gs(e){e.alternate=null;e.child=null;e.dependencies=null;e.firstEffect=null;e.lastEffect=null;e.memoizedProps=null;e.memoizedState=null;e.pendingProps=null;e.return=null;e.updateQueue=null}function Hs(e){return 5===e.tag||3===e.tag||4===e.tag}function Ws(e){e:{for(var t=e.return;null!==t;){if(Hs(t))break e;t=t.return}throw Error(a(160))}var r=t;t=r.stateNode;switch(r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo;n=!0;break;case 4:t=t.containerInfo;n=!0;break;default:throw Error(a(161))}r.flags&16&&(we(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Hs(r.return)){r=null;break e}r=r.return}r.sibling.return=r.return;for(r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(r.flags&2)continue t;if(null===r.child||4===r.tag)continue t;else r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Vs(e,r,t):qs(e,r,t)}function Vs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,null!==r&&void 0!==r||null!==t.onclick||(t.onclick=si));else if(4!==n&&(e=e.child,null!==e))for(Vs(e,t,r),e=e.sibling;null!==e;)Vs(e,t,r),e=e.sibling}function qs(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(e=e.child,null!==e))for(qs(e,t,r),e=e.sibling;null!==e;)qs(e,t,r),e=e.sibling}function Js(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(null===n)throw Error(a(160));i=n.stateNode;switch(n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo;o=!0;break e;case 4:i=i.containerInfo;o=!0;break e}n=n.return}n=!0}if(5===r.tag||6===r.tag){e:for(var s=e,u=r,l=u;;)if($s(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return;l=l.sibling}o?(s=i,u=r.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):i.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){i=r.stateNode.containerInfo;o=!0;r.child.return=r;r=r.child;continue}}else if($s(e,r),null!==r.child){r.child.return=r;r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return;4===r.tag&&(n=!1)}r.sibling.return=r.return;r=r.sibling}}function Ys(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;r=null!==r?r.lastEffect:null;if(null!==r){var n=r=r.next;do{3===(n.tag&3)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:return;case 5:r=t.stateNode;if(null!=r){n=t.memoizedProps;var i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;t.updateQueue=null;if(null!==o){r[wi]=n;"input"===e&&"radio"===n.type&&null!=n.name&&oe(r,n);Oe(e,i);t=Oe(e,n);for(i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ae(r,u):"dangerouslySetInnerHTML"===s?_e(r,u):"children"===s?we(r,u):S(r,s,u,t)}switch(e){case"input":ae(r,n);break;case"textarea":pe(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,null!=o?fe(r,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?fe(r,!!n.multiple,n.defaultValue,!0):fe(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode;r.hydrate&&(r.hydrate=!1,It(r.containerInfo));return;case 12:return;case 13:null!==t.memoizedState&&(pu=fo(),zs(t.child,!0));Ks(t);return;case 19:Ks(t);return;case 17:return;case 23:case 24:zs(t,null!==t.memoizedState);return}throw Error(a(163))}function Ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Fs);t.forEach((function(t){var n=fl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Xs(e,t){return null!==e&&(e=e.memoizedState,null===e||null!==e.dehydrated)?(t=t.memoizedState,null!==t&&null===t.dehydrated):!1}var Zs=Math.ceil,Qs=T.ReactCurrentDispatcher,eu=T.ReactCurrentOwner,tu=0,ru=null,nu=null,iu=0,ou=0,au=ki(0),su=0,uu=null,lu=0,cu=0,fu=0,hu=0,du=null,pu=0,vu=Infinity;function mu(){vu=fo()+500}var gu=null,yu=!1,bu=null,_u=null,wu=!1,Eu=null,Su=90,Tu=[],Au=[],xu=null,Du=0,Ou=null,Iu=-1,Cu=0,ku=0,Ru=null,Pu=!1;function Mu(){return 0!==(tu&48)?fo():-1!==Iu?Iu:Iu=fo()}function Lu(e){e=e.mode;if(0===(e&2))return 1;if(0===(e&4))return 99===ho()?1:2;0===Cu&&(Cu=lu);if(0!==bo.transition){0!==ku&&(ku=null!==du?du.pendingLanes:0);e=Cu;var t=4186112&~ku;t&=-t;0===t&&(e=4186112&~e,t=e&-e,0===t&&(t=8192));return t}e=ho();0!==(tu&4)&&98===e?e=Kt(12,Cu):(e=Vt(e),e=Kt(e,Cu));return e}function Nu(e,t,r){if(50<Du)throw Du=0,Ou=null,Error(a(185));e=Fu(e,t);if(null===e)return null;Qt(e,t,r);e===ru&&(fu|=t,4===su&&Uu(e,iu));var n=ho();1===t?0!==(tu&8)&&0===(tu&48)?zu(e):(ju(e,r),0===tu&&(mu(),go())):(0===(tu&4)||98!==n&&99!==n||(null===xu?xu=new Set([e]):xu.add(e)),ju(e,r));du=e}function Fu(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);r=e;for(e=e.return;null!==e;)e.childLanes|=t,r=e.alternate,null!==r&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function ju(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-er(a),u=1<<s,l=o[s];if(-1===l){if(0===(u&n)||0!==(u&i)){l=t;Wt(u);var c=Ht;o[s]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);a&=~u}n=Jt(e,e===ru?iu:0);t=Ht;if(0===n)null!==r&&(r!==oo&&Yi(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==oo&&Yi(r)}15===t?(r=zu.bind(null,e),null===so?(so=[r],uo=Ji(eo,yo)):so.push(r),r=oo):14===t?r=mo(99,zu.bind(null,e)):(r=qt(t),r=mo(r,Bu.bind(null,e)));e.callbackPriority=t;e.callbackNode=r}}function Bu(e){Iu=-1;ku=Cu=0;if(0!==(tu&48))throw Error(a(327));var t=e.callbackNode;if(il()&&e.callbackNode!==t)return null;var r=Jt(e,e===ru?iu:0);if(0===r)return null;var n=r;var i=tu;tu|=16;var o=Yu();if(ru!==e||iu!==n)mu(),qu(e,n);do{try{Zu();break}catch(t){Ju(e,t)}}while(1);Ao();Qs.current=o;tu=i;null!==nu?n=0:(ru=null,iu=0,n=su);if(0!==(lu&fu))qu(e,0);else if(0!==n){2===n&&(tu|=64,e.hydrate&&(e.hydrate=!1,pi(e.containerInfo)),r=Yt(e),0!==r&&(n=Ku(e,r)));if(1===n)throw t=uu,qu(e,0),Uu(e,r),ju(e,fo()),t;e.finishedWork=e.current.alternate;e.finishedLanes=r;switch(n){case 0:case 1:throw Error(a(345));case 2:tl(e);break;case 3:Uu(e,r);if((r&62914560)===r&&(n=pu+500-fo(),10<n)){if(0!==Jt(e,0))break;i=e.suspendedLanes;if((i&r)!==r){Mu();e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hi(tl.bind(null,e),n);break}tl(e);break;case 4:Uu(e,r);if((r&4186112)===r)break;n=e.eventTimes;for(i=-1;0<r;){var s=31-er(r);o=1<<s;s=n[s];s>i&&(i=s);r&=~o}r=i;r=fo()-r;r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zs(r/1960))-r;if(10<r){e.timeoutHandle=hi(tl.bind(null,e),r);break}tl(e);break;case 5:tl(e);break;default:throw Error(a(329))}}ju(e,fo());return e.callbackNode===t?Bu.bind(null,e):null}function Uu(e,t){t&=~hu;t&=~fu;e.suspendedLanes|=t;e.pingedLanes&=~t;for(e=e.expirationTimes;0<t;){var r=31-er(t),n=1<<r;e[r]=-1;t&=~n}}function zu(e){if(0!==(tu&48))throw Error(a(327));il();if(e===ru&&0!==(e.expiredLanes&iu)){var t=iu;var r=Ku(e,t);0!==(lu&fu)&&(t=Jt(e,t),r=Ku(e,t))}else t=Jt(e,0),r=Ku(e,t);0!==e.tag&&2===r&&(tu|=64,e.hydrate&&(e.hydrate=!1,pi(e.containerInfo)),t=Yt(e),0!==t&&(r=Ku(e,t)));if(1===r)throw r=uu,qu(e,0),Uu(e,t),ju(e,fo()),r;e.finishedWork=e.current.alternate;e.finishedLanes=t;tl(e);ju(e,fo());return null}function $u(){if(null!==xu){var e=xu;xu=null;e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes;ju(e,fo())}))}go()}function Gu(e,t){var r=tu;tu|=1;try{return e(t)}finally{tu=r,0===tu&&(mu(),go())}}function Hu(e,t){var r=tu;tu&=-2;tu|=8;try{return e(t)}finally{tu=r,0===tu&&(mu(),go())}}function Wu(e,t){Pi(au,ou);ou|=t;lu|=t}function Vu(){ou=au.current;Ri(au)}function qu(e,t){e.finishedWork=null;e.finishedLanes=0;var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,di(r));if(null!==nu)for(r=nu.return;null!==r;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes;null!==n&&void 0!==n&&Ui();break;case 3:na();Ri(Ni);Ri(Li);ya();break;case 5:oa(n);break;case 4:na();break;case 13:Ri(aa);break;case 19:Ri(aa);break;case 10:xo(n);break;case 23:case 24:Vu()}r=r.return}ru=e;nu=gl(e.current,null);iu=ou=lu=t;su=0;uu=null;hu=fu=cu=0}function Ju(e,t){do{var r=nu;try{Ao();ba.current=es;if(Aa){for(var n=Ea.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null);n=n.next}Aa=!1}wa=0;Ta=Sa=Ea=null;xa=!1;eu.current=null;if(null===r||null===r.return){su=1;uu=t;nu=null;break}e:{var o=e,a=r.return,s=r,u=t;t=iu;s.flags|=2048;s.firstEffect=s.lastEffect=null;if(null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(s.mode&2)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(aa.current&1),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated?!0:!1;else{var v=h.memoizedProps;d=void 0===v.fallback?!1:!0!==v.unstable_avoidThisFallback?!0:f?!1:!0}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l);h.updateQueue=g}else m.add(l);if(0===(h.mode&2)){h.flags|=64;s.flags|=16384;s.flags&=-2981;if(1===s.tag)if(null===s.alternate)s.tag=17;else{var y=Po(-1,1);y.tag=2;Mo(s,y)}s.lanes|=1;break e}u=void 0;s=t;var b=o.pingCache;null===b?(b=o.pingCache=new Ms,u=new Set,b.set(l,u)):(u=b.get(l),void 0===u&&(u=new Set,b.set(l,u)));if(!u.has(s)){u.add(s);var _=cl.bind(null,o,l,s);l.then(_,_)}h.flags|=4096;h.lanes=t;break e}h=h.return}while(null!==h);u=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==su&&(su=2);u=Rs(u,s);h=a;do{switch(h.tag){case 3:o=u;h.flags|=4096;t&=-t;h.lanes|=t;var w=Ls(h,o,t);Lo(h,w);break e;case 1:o=u;var E=h.type,S=h.stateNode;if(0===(h.flags&64)&&("function"===typeof E.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===_u||!_u.has(S)))){h.flags|=4096;t&=-t;h.lanes|=t;var T=Ns(h,o,t);Lo(h,T);break e}}h=h.return}while(null!==h)}el(r)}catch(e){t=e;nu===r&&null!==r&&(nu=r=r.return);continue}break}while(1)}function Yu(){var e=Qs.current;Qs.current=es;return null===e?es:e}function Ku(e,t){var r=tu;tu|=16;var n=Yu();ru===e&&iu===t||qu(e,t);do{try{Xu();break}catch(t){Ju(e,t)}}while(1);Ao();tu=r;Qs.current=n;if(null!==nu)throw Error(a(261));ru=null;iu=0;return su}function Xu(){for(;null!==nu;)Qu(nu)}function Zu(){for(;null!==nu&&!Ki();)Qu(nu)}function Qu(e){var t=hl(e.alternate,e,ou);e.memoizedProps=e.pendingProps;null===t?el(e):nu=t;eu.current=null}function el(e){var t=e;do{var r=t.alternate;e=t.return;if(0===(t.flags&2048)){r=Cs(r,t,ou);if(null!==r){nu=r;return}r=t;if(24!==r.tag&&23!==r.tag||null===r.memoizedState||0!==(ou&1073741824)||0===(r.mode&4)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0===(e.flags&2048)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{r=ks(t);if(null!==r){r.flags&=2047;nu=r;return}null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}t=t.sibling;if(null!==t){nu=t;return}nu=t=e}while(null!==t);0===su&&(su=5)}function tl(e){var t=ho();vo(99,rl.bind(null,e,t));return null}function rl(e,t){do{il()}while(null!==Eu);if(0!==(tu&48))throw Error(a(327));var r=e.finishedWork;if(null===r)return null;e.finishedWork=null;e.finishedLanes=0;if(r===e.current)throw Error(a(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i;e.suspendedLanes=0;e.pingedLanes=0;e.expiredLanes&=i;e.mutableReadLanes&=i;e.entangledLanes&=i;i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var l=31-er(o),c=1<<l;i[l]=0;s[l]=-1;u[l]=-1;o&=~c}null!==xu&&0===(n&24)&&xu.has(e)&&xu.delete(e);e===ru&&(nu=ru=null,iu=0);1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect;if(null!==n){i=tu;tu|=32;eu.current=null;ui=ar;s=Fn();if(jn(s)){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode;o=c.anchorOffset;l=c.focusNode;c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;;){m!==u||0!==o&&3!==m.nodeType||(h=f+o);m!==l||0!==c&&3!==m.nodeType||(d=f+c);3===m.nodeType&&(f+=m.nodeValue.length);if(null===(y=m.firstChild))break;g=m;m=y}for(;;){if(m===s)break t;g===u&&++p===o&&(h=f);g===l&&++v===c&&(d=f);if(null!==(y=m.nextSibling))break;m=g;g=m.parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;li={focusedElem:s,selectionRange:u};ar=!1;Ru=null;Pu=!1;gu=n;do{try{nl()}catch(e){if(null===gu)throw Error(a(330));ll(gu,e);gu=gu.nextEffect}}while(null!==gu);Ru=null;gu=n;do{try{for(s=e;null!==gu;){var b=gu.flags;b&16&&we(gu.stateNode,"");if(b&128){var _=gu.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(b&1038){case 2:Ws(gu);gu.flags&=-3;break;case 6:Ws(gu);gu.flags&=-3;Ys(gu.alternate,gu);break;case 1024:gu.flags&=-1025;break;case 1028:gu.flags&=-1025;Ys(gu.alternate,gu);break;case 4:Ys(gu.alternate,gu);break;case 8:u=gu;Js(s,u);var E=u.alternate;Gs(u);null!==E&&Gs(E)}gu=gu.nextEffect}}catch(e){if(null===gu)throw Error(a(330));ll(gu,e);gu=gu.nextEffect}}while(null!==gu);w=li;_=Fn();b=w.focusedElem;s=w.selectionRange;if(_!==b&&b&&b.ownerDocument&&Nn(b.ownerDocument.documentElement,b)){null!==s&&jn(b)&&(_=s.start,w=s.end,void 0===w&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window,w.getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=Ln(b,E),o=Ln(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&(_=_.createRange(),_.setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))));_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});"function"===typeof b.focus&&b.focus();for(b=0;b<_.length;b++)w=_[b],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}ar=!!ui;li=ui=null;e.current=r;gu=n;do{try{for(b=e;null!==gu;){var S=gu.flags;S&36&&Us(b,gu.alternate,gu);if(S&128){_=void 0;var T=gu.ref;if(null!==T){var A=gu.stateNode;switch(gu.tag){case 5:_=A;break;default:_=A}"function"===typeof T?T(_):T.current=_}}gu=gu.nextEffect}}catch(e){if(null===gu)throw Error(a(330));ll(gu,e);gu=gu.nextEffect}}while(null!==gu);gu=null;ao();tu=i}else e.current=r;if(wu)wu=!1,Eu=e,Su=t;else for(gu=n;null!==gu;)t=gu.nextEffect,gu.nextEffect=null,gu.flags&8&&(S=gu,S.sibling=null,S.stateNode=null),gu=t;n=e.pendingLanes;0===n&&(_u=null);1===n?e===Ou?Du++:(Du=0,Ou=e):Du=0;r=r.stateNode;if(Vi&&"function"===typeof Vi.onCommitFiberRoot)try{Vi.onCommitFiberRoot(Wi,r,void 0,64===(r.current.flags&64))}catch(e){}ju(e,fo());if(yu)throw yu=!1,e=bu,bu=null,e;if(0!==(tu&8))return null;go();return null}function nl(){for(;null!==gu;){var e=gu.alternate;Pu||null===Ru||(0!==(gu.flags&8)?at(gu,Ru)&&(Pu=!0):13===gu.tag&&Xs(e,gu)&&at(gu,Ru)&&(Pu=!0));var t=gu.flags;0!==(t&256)&&Bs(e,gu);0===(t&512)||wu||(wu=!0,mo(97,(function(){il();return null})));gu=gu.nextEffect}}function il(){if(90!==Su){var e=97<Su?97:Su;Su=90;return vo(e,sl)}return!1}function ol(e,t){Tu.push(t,e);wu||(wu=!0,mo(97,(function(){il();return null})))}function al(e,t){Au.push(t,e);wu||(wu=!0,mo(97,(function(){il();return null})))}function sl(){if(null===Eu)return!1;var e=Eu;Eu=null;if(0!==(tu&48))throw Error(a(331));var t=tu;tu|=32;var r=Au;Au=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;i.destroy=void 0;if("function"===typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));ll(o,e)}}r=Tu;Tu=[];for(n=0;n<r.length;n+=2){i=r[n];o=r[n+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));ll(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=e;tu=t;go();return!0}function ul(e,t,r){t=Rs(r,t);t=Ls(e,t,1);Mo(e,t);t=Mu();e=Fu(e,1);null!==e&&(Qt(e,1,t),ju(e,t))}function ll(e,t){if(3===e.tag)ul(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){ul(r,e,t);break}else if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===_u||!_u.has(n))){e=Rs(t,e);var i=Ns(r,e,1);Mo(r,i);i=Mu();r=Fu(r,1);if(null!==r)Qt(r,1,i),ju(r,i);else if("function"===typeof n.componentDidCatch&&(null===_u||!_u.has(n)))try{n.componentDidCatch(t,e)}catch(e){}break}}r=r.return}}function cl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t);t=Mu();e.pingedLanes|=e.suspendedLanes&r;ru===e&&(iu&r)===r&&(4===su||3===su&&(iu&62914560)===iu&&500>fo()-pu?qu(e,0):hu|=r);ju(e,t)}function fl(e,t){var r=e.stateNode;null!==r&&r.delete(t);t=0;0===t&&(t=e.mode,0===(t&2)?t=1:0===(t&4)?t=99===ho()?1:2:(0===Cu&&(Cu=lu),t=Xt(62914560&~Cu),0===t&&(t=4194304)));r=Mu();e=Fu(e,t);null!==e&&(Qt(e,t,r),ju(e,r))}var hl;hl=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)os=!0;else if(0!==(r&n))os=0!==(e.flags&16384)?!0:!1;else{os=!1;switch(t.tag){case 3:vs(t);ma();break;case 5:ia(t);break;case 1:Bi(t.type)&&Gi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Pi(wo,i._currentValue);i._currentValue=n;break;case 13:if(null!==t.memoizedState){if(0!==(r&t.child.childLanes))return gs(e,t,r);Pi(aa,aa.current&1);t=Ts(e,t,r);return null!==t?t.sibling:null}Pi(aa,aa.current&1);break;case 19:n=0!==(r&t.childLanes);if(0!==(e.flags&64)){if(n)return Ss(e,t,r);t.flags|=64}i=t.memoizedState;null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null);Pi(aa,aa.current);if(n)break;else return null;case 23:case 24:return t.lanes=0,cs(e,t,r)}return Ts(e,t,r)}else os=!1;t.lanes=0;switch(t.tag){case 2:n=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);e=t.pendingProps;i=ji(t,Li.current);Oo(t,r);i=Ia(null,t,n,e,i,r);t.flags|=1;if("object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){t.tag=1;t.memoizedState=null;t.updateQueue=null;if(Bi(n)){var o=!0;Gi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;ko(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&Bo(t,n,s,e);i.updater=Uo;t.stateNode=i;i._reactInternals=t;Ho(t,n,e,r);t=ps(null,t,n,!0,o,r)}else t.tag=0,as(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);e=t.pendingProps;o=i._init;i=o(i._payload);t.type=i;o=t.tag=ml(i);e=_o(i,e);switch(o){case 0:t=hs(null,t,i,e,r);break e;case 1:t=ds(null,t,i,e,r);break e;case 11:t=ss(null,t,i,e,r);break e;case 14:t=us(null,t,i,_o(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_o(n,i),hs(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_o(n,i),ds(e,t,n,i,r);case 3:vs(t);n=t.updateQueue;if(null===e||null===n)throw Error(a(282));n=t.pendingProps;i=t.memoizedState;i=null!==i?i.element:null;Ro(e,t);No(t,n,null,r);n=t.memoizedState.element;if(n===i)ma(),t=Ts(e,t,r);else{i=t.stateNode;if(o=i.hydrate)la=vi(t.stateNode.containerInfo.firstChild),ua=t,o=ca=!0;if(o){e=i.mutableSourceEagerHydrationData;if(null!=e)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],ga.push(o);r=Ko(t,null,n,r);for(t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else as(e,t,n,r),ma();t=t.child}return t;case 5:return ia(t),null===e&&da(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,fi(n,i)?s=null:null!==o&&fi(n,o)&&(t.flags|=16),fs(e,t),as(e,t,s,r),t.child;case 6:return null===e&&da(t),null;case 13:return gs(e,t,r);case 4:return ra(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Yo(t,null,n,r):as(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_o(n,i),ss(e,t,n,i,r);case 7:return as(e,t,t.pendingProps,r),t.child;case 8:return as(e,t,t.pendingProps.children,r),t.child;case 12:return as(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context;i=t.pendingProps;s=t.memoizedProps;o=i.value;var u=t.type._context;Pi(wo,u._currentValue);u._currentValue=o;if(null!==s)if(u=s.value,o=kn(u,o)?0:("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,o):1073741823)|0,0===o){if(s.children===i.children&&!Ni.current){t=Ts(e,t,r);break e}}else for(u=t.child,null!==u&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&o)){1===u.tag&&(c=Po(-1,r&-r),c.tag=2,Mo(u,c));u.lanes|=r;c=u.alternate;null!==c&&(c.lanes|=r);Do(u.return,r);l.lanes|=r;break}c=c.next}}else s=10===u.tag?u.type===t.type?null:u.child:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}u=s.sibling;if(null!==u){u.return=s.return;s=u;break}s=s.return}u=s}as(e,t,i.children,r);t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Oo(t,r),i=Io(i,o.unstable_observedBits),n=n(i),t.flags|=1,as(e,t,n,r),t.child;case 14:return i=t.type,o=_o(i,t.pendingProps),o=_o(i.type,o),us(e,t,i,o,n,r);case 15:return ls(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_o(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Bi(n)?(e=!0,Gi(t)):e=!1,Oo(t,r),$o(t,n,i),Ho(t,n,i,r),ps(null,t,n,!0,e,r);case 19:return Ss(e,t,r);case 23:return cs(e,t,r);case 24:return cs(e,t,r)}throw Error(a(156,t.tag))};function dl(e,t,r,n){this.tag=e;this.key=r;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=t;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=n;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function pl(e,t,r,n){return new dl(e,t,r,n)}function vl(e){e=e.prototype;return!(!e||!e.isReactComponent)}function ml(e){if("function"===typeof e)return vl(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===R)return 11;if(e===L)return 14}return 2}function gl(e,t){var r=e.alternate;null===r?(r=pl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null);r.childLanes=e.childLanes;r.lanes=e.lanes;r.child=e.child;r.memoizedProps=e.memoizedProps;r.memoizedState=e.memoizedState;r.updateQueue=e.updateQueue;t=e.dependencies;r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext};r.sibling=e.sibling;r.index=e.index;r.ref=e.ref;return r}function yl(e,t,r,n,i,o){var s=2;n=e;if("function"===typeof e)vl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case D:return bl(r.children,i,o,t);case B:s=8;i|=16;break;case O:s=8;i|=1;break;case I:return e=pl(12,r,t,i|8),e.elementType=I,e.type=I,e.lanes=o,e;case P:return e=pl(13,r,t,i),e.type=P,e.elementType=P,e.lanes=o,e;case M:return e=pl(19,r,t,i),e.elementType=M,e.lanes=o,e;case U:return _l(r,i,o,t);case z:return e=pl(24,r,t,i),e.elementType=z,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case k:s=9;break e;case R:s=11;break e;case L:s=14;break e;case N:s=16;n=null;break e;case F:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}t=pl(s,r,t,i);t.elementType=e;t.type=n;t.lanes=o;return t}function bl(e,t,r,n){e=pl(7,e,n,t);e.lanes=r;return e}function _l(e,t,r,n){e=pl(23,e,n,t);e.elementType=U;e.lanes=r;return e}function wl(e,t,r){e=pl(6,e,null,t);e.lanes=r;return e}function El(e,t,r){t=pl(4,null!==e.children?e.children:[],e.key,t);t.lanes=r;t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return t}function Sl(e,t,r){this.tag=t;this.containerInfo=e;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=r;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zt(0);this.expirationTimes=Zt(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zt(0);this.mutableSourceEagerHydrationData=null}function Tl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function Al(e,t,r,n){var i=t.current,o=Mu(),s=Lu(i);e:if(r){r=r._reactInternals;t:{if(tt(r)!==r||1!==r.tag)throw Error(a(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Bi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===r.tag){var l=r.type;if(Bi(l)){r=$i(r,l,u);break e}}r=u}else r=Mi;null===t.context?t.context=r:t.pendingContext=r;t=Po(o,s);t.payload={element:e};n=void 0===n?null:n;null!==n&&(t.callback=n);Mo(i,t);Nu(i,s,o);return s}function xl(e){e=e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dl(e,t){e=e.memoizedState;if(null!==e&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Ol(e,t){Dl(e,t);(e=e.alternate)&&Dl(e,t)}function Il(){return null}function Cl(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;r=new Sl(e,t,null!=r&&!0===r.hydrate);t=pl(3,null,null,2===t?7:1===t?3:0);r.current=t;t.stateNode=r;ko(t);e[Ei]=r.current;Qn(8===e.nodeType?e.parentNode:e);if(n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source);null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}Cl.prototype.render=function(e){Al(e,this._internalRoot,null,null)};Cl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Al(null,e,null,(function(){t[Ei]=null}))};function kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Rl(e,t){t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot")));if(!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Cl(e,0,t?{hydrate:!0}:void 0)}function Pl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=xl(a);s.call(e)}}Al(t,a,e,i)}else{o=r._reactRootContainer=Rl(r,n);a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=xl(a);u.call(e)}}Hu((function(){Al(t,a,e,i)}))}return xl(a)}st=function(e){if(13===e.tag){var t=Mu();Nu(e,4,t);Ol(e,4)}};ut=function(e){if(13===e.tag){var t=Mu();Nu(e,67108864,t);Ol(e,67108864)}};lt=function(e){if(13===e.tag){var t=Mu(),r=Lu(e);Nu(e,r,t);Ol(e,r)}};ct=function(e,t){return t()};Ce=function(e,t,r){switch(t){case"input":ae(e,r);t=r.name;if("radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]');for(t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Di(n);if(!i)throw Error(a(90));te(n);ae(n,i)}}}break;case"textarea":pe(e,r);break;case"select":t=r.value,null!=t&&fe(e,!!r.multiple,t,!1)}};Ne=Gu;Fe=function(e,t,r,n,i){var o=tu;tu|=4;try{return vo(98,e.bind(null,t,r,n,i))}finally{tu=o,0===tu&&(mu(),go())}};je=function(){0===(tu&49)&&($u(),il())};Be=function(e,t){var r=tu;tu|=2;try{return e(t)}finally{tu=r,0===tu&&(mu(),go())}};function Ml(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!kl(t))throw Error(a(200));return Tl(e,t,null,r)}var Ll={Events:[Ai,xi,Di,Me,Le,il,{current:!1}]},Nl={findFiberByHostInstance:Ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"};var Fl={bundleType:Nl.bundleType,version:Nl.version,rendererPackageName:Nl.rendererPackageName,rendererConfig:Nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){e=ot(e);return null===e?null:e.stateNode},findFiberByHostInstance:Nl.findFiberByHostInstance||Il,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Wi=jl.inject(Fl),Vi=jl}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ll;t.createPortal=Ml;t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}e=ot(t);e=null===e?null:e.stateNode;return e};t.flushSync=function(e,t){var r=tu;if(0!==(r&48))return e(t);tu|=1;try{if(e)return vo(99,e.bind(null,t))}finally{tu=r,go()}};t.hydrate=function(e,t,r){if(!kl(t))throw Error(a(200));return Pl(null,e,t,!0,r)};t.render=function(e,t,r){if(!kl(t))throw Error(a(200));return Pl(null,e,t,!1,r)};t.unmountComponentAtNode=function(e){if(!kl(e))throw Error(a(40));return e._reactRootContainer?(Hu((function(){Pl(null,null,e,!1,(function(){e._reactRootContainer=null;e[Ei]=null}))})),!0):!1};t.unstable_batchedUpdates=Gu;t.unstable_createPortal=function(e,t){return Ml(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kl(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Pl(e,t,r,!1,n)};t.version="17.0.2"},function(e,t,r){"use strict";if(true){e.exports=r(147)}else{}},function(e,t,r){"use strict";var n,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,f=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e);c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))};i=function(e,t){f=setTimeout(e,t)};o=function(){clearTimeout(f)};t.unstable_shouldYield=function(){return!1};a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_};a=function(){};t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();_=e+b;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1};n=function(e){g=e;m||(m=!0,E.postMessage(null))};i=function(e,r){y=d((function(){e(t.unstable_now())}),r)};o=function(){p(y);y=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(void 0!==i&&0<x(i,t))e[n]=t,e[r]=i,r=n;else break e}}function T(e){e=e[0];return void 0===e?null:e}function A(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>x(a,r))void 0!==u&&0>x(u,a)?(e[n]=u,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else if(void 0!==u&&0>x(u,r))e[n]=u,e[s]=r,n=s;else break e}}return t}return null}function x(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var D=[],O=[],I=1,C=null,k=3,R=!1,P=!1,M=!1;function L(e){for(var t=T(O);null!==t;){if(null===t.callback)A(O);else if(t.startTime<=e)A(O),t.sortIndex=t.expirationTime,S(D,t);else break;t=T(O)}}function N(e){M=!1;L(e);if(!P)if(null!==T(D))P=!0,n(F);else{var t=T(O);null!==t&&i(N,t.startTime-e)}}function F(e,r){P=!1;M&&(M=!1,o());R=!0;var n=k;try{L(r);for(C=T(D);null!==C&&(!(C.expirationTime>r)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null;k=C.priorityLevel;var s=a(C.expirationTime<=r);r=t.unstable_now();"function"===typeof s?C.callback=s:C===T(D)&&A(D);L(r)}else A(D);C=T(D)}if(null!==C)var u=!0;else{var l=T(O);null!==l&&i(N,l.startTime-r);u=!1}return u}finally{C=null,k=n,R=!1}}var j=a;t.unstable_IdlePriority=5;t.unstable_ImmediatePriority=1;t.unstable_LowPriority=4;t.unstable_NormalPriority=3;t.unstable_Profiling=null;t.unstable_UserBlockingPriority=2;t.unstable_cancelCallback=function(e){e.callback=null};t.unstable_continueExecution=function(){P||R||(P=!0,n(F))};t.unstable_getCurrentPriorityLevel=function(){return k};t.unstable_getFirstCallbackNode=function(){return T(D)};t.unstable_next=function(e){switch(k){case 1:case 2:case 3:var t=3;break;default:t=k}var r=k;k=t;try{return e()}finally{k=r}};t.unstable_pauseExecution=function(){};t.unstable_requestPaint=j;t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=k;k=e;try{return t()}finally{k=r}};t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();"object"===typeof a&&null!==a?(a=a.delay,a="number"===typeof a&&0<a?s+a:s):a=s;switch(e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}u=a+u;e={id:I++,callback:r,priorityLevel:e,startTime:a,expirationTime:u,sortIndex:-1};a>s?(e.sortIndex=a,S(O,e),null===T(D)&&e===T(O)&&(M?o():M=!0,i(N,a-s))):(e.sortIndex=u,S(D,e),P||R||(P=!0,n(F)));return e};t.unstable_wrapCallback=function(e){var t=k;return function(){var r=k;k=t;try{return e.apply(this,arguments)}finally{k=r}}}},function(e,t,r){"use strict";if(true){e.exports=r(149)}else{}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0),o=r(8),a=(n=o)&&"object"==typeof n&&"default"in n?n.default:n;if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.spy)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var s=!1;function u(){return s}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(){var e=o.useState(0)[1];return o.useCallback((function(){e((function(e){return e+1}))}),[])}function f(e){return"function"==typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}var h={};function d(){return"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:h}var p=f("observerBatching");function v(e){return i.getDependencyTree(e)}var m,g=new Set;function y(){void 0===m&&(m=setTimeout(b,1e4))}function b(){m=void 0;var e=Date.now();g.forEach((function(t){var r=t.current;r&&e>=r.cleanAt&&(r.reaction.dispose(),t.current=null,g.delete(t))})),g.size>0&&y()}var _={};function w(e){return"observer"+e}function E(e,t,r){if(void 0===t&&(t="observed"),void 0===r&&(r=_),u())return e();var n=(r.useForceUpdate||c)(),o=a.useRef(null);if(!o.current){var s=new i.Reaction(w(t),(function(){l.mounted?n():(s.dispose(),o.current=null)})),l=function(e){return{cleanAt:Date.now()+1e4,reaction:e}}(s);o.current=l,g.add(o),y()}var f,h,d=o.current.reaction;if(a.useDebugValue(d,v),a.useEffect((function(){return g.delete(o),o.current?o.current.mounted=!0:(o.current={reaction:new i.Reaction(w(t),(function(){n()})),cleanAt:Infinity},n()),function(){o.current.reaction.dispose(),o.current=null}}),[]),d.track((function(){try{f=e()}catch(e){h=e}})),h)throw h;return f}var S={$$typeof:!0,render:!0,compare:!0,type:!0};function T(e){var t=e.children||e.render;return"function"!=typeof t?null:E(t)}function A(e,t,r,n,i){var o="function"==typeof e[t],a="function"==typeof e["children"===t?"render":"children"];return o&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+r):o||a?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+r+"`, expected `function`.")}function x(e,t){if(!t||void 0!==e){var r=a.useState((function(){return i.observable(e,{},{deep:!1})}))[0];return i.runInAction((function(){Object.assign(r,e)})),r}}T.propTypes={children:A,render:A},T.displayName="Observer",t.Observer=T,t.isObserverBatched=function(){return d()[p]},t.isUsingStaticRendering=u,t.observer=function(e,t){if(u())return e;var r,n,i,a=l({forwardRef:!1},t),s=e.displayName||e.name,c=function(t,r){return E((function(){return e(t,r)}),s)};return c.displayName=s,r=o.memo(a.forwardRef?o.forwardRef(c):c),n=e,i=r,Object.keys(n).forEach((function(e){S[e]||Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))})),r.displayName=s,r},t.observerBatching=function(e){"function"==typeof e&&i.configure({reactionScheduler:e}),d()[p]=!0},t.observerBatchingOptOut=function(){i.configure({reactionScheduler:void 0}),d()[p]=!0},t.useAsObservableSource=function(e){return x(e,!1)},t.useForceUpdate=c,t.useLocalStore=function(e,t){var r=x(t,!0);return a.useState((function(){var t=i.observable(e(r));return function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(t)&&i.runInAction((function(){Object.keys(t).forEach((function(e){var r,n,o=t[e];"function"==typeof o&&(t[e]=(r=o,n=t,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return i.transaction((function(){return r.apply(n,t)}))}))}))})),t}))[0]},t.useObserver=E,t.useStaticRendering=function(e){s=e}}).call(this,r(5))},function(e,t,r){"use strict";r.r(t);t["default"]={}},function(e,t,r){"use strict";const n="qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890";function i(e){let t="";for(let r=0;r<e;r++){const e=Math.floor(Math.random()*n.length);t+=n[e]}return t}e.exports.guid=function e(t=16){return i(t)}},function(e,t,r){"use strict";const{hasOwnProperty:n}=Object.prototype;const i=_();i.configure=_;i.stringify=i;i.default=i;t.stringify=i;t.configure=_;e.exports=i;const o=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/;const a=new RegExp(o,"g");const s=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000b","\\f","\\r","\\u000e","\\u000f","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001a","\\u001b","\\u001c","\\u001d","\\u001e","\\u001f","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\"];function u(e){if(e.length===2){const t=e.charCodeAt(1);return`${e[0]}\\u${t.toString(16)}`}const t=e.charCodeAt(0);return s.length>t?s[t]:`\\u${t.toString(16)}`}function l(e){if(e.length<5e3&&!o.test(e)){return e}if(e.length>100){return e.replace(a,u)}let t="";let r=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i===34||i===92||i<32){t+=`${e.slice(r,n)}${s[i]}`;r=n+1}else if(i>=55296&&i<=57343){if(i<=56319&&n+1<e.length){const t=e.charCodeAt(n+1);if(t>=56320&&t<=57343){n++;continue}}t+=`${e.slice(r,n)}\\u${i.toString(16)}`;r=n+1}}t+=e.slice(r);return t}function c(e){if(e.length>200){return e.sort()}for(let t=1;t<e.length;t++){const r=e[t];let n=t;while(n!==0&&e[n-1]>r){e[n]=e[n-1];n--}e[n]=r}return e}const f=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function h(e){return f.call(e)!==undefined&&e.length!==0}function d(e,t,r){if(e.length<r){r=e.length}const n=t===","?"":" ";let i=`"0":${n}${e[0]}`;for(let o=1;o<r;o++){i+=`${t}"${o}":${n}${e[o]}`}return i}function p(e){if(e&&n.call(e,"circularValue")){const t=e.circularValue;if(typeof t==="string"){return`"${t}"`}if(t==null){return t}if(t===Error||t===TypeError){return{toString(){throw new TypeError("Converting circular structure to JSON")}}}throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function v(e,t){let r;if(e&&n.call(e,t)){r=e[t];if(typeof r!=="boolean"){throw new TypeError(`The "${t}" argument must be of type boolean`)}}return r===undefined?true:r}function m(e,t){let r;if(e&&n.call(e,t)){r=e[t];if(typeof r!=="number"){throw new TypeError(`The "${t}" argument must be of type number`)}if(!Number.isInteger(r)){throw new TypeError(`The "${t}" argument must be an integer`)}if(r<1){throw new RangeError(`The "${t}" argument must be >= 1`)}}return r===undefined?Infinity:r}function g(e){if(e===1){return"1 item"}return`${e} items`}function y(e){const t=new Set;for(const r of e){if(typeof r==="string"||typeof r==="number"){t.add(String(r))}}return t}function b(e){if(e&&n.call(e,"strict")){const t=e.strict;if(typeof t!=="boolean"){throw new TypeError('The "strict" argument must be of type boolean')}if(t){return e=>{let t=`Object can not safely be stringified. Received type ${typeof e}`;if(typeof e!=="function")t+=` (${e.toString()})`;throw new Error(t)}}}}function _(e){e={...e};const t=b(e);if(t){if(e.bigint===undefined){e.bigint=false}if(!("circularValue"in e)){e.circularValue=Error}}const r=p(e);const n=v(e,"bigint");const i=v(e,"deterministic");const o=m(e,"maximumDepth");const a=m(e,"maximumBreadth");function s(e,u,f,p,v,m){let y=u[e];if(typeof y==="object"&&y!==null&&typeof y.toJSON==="function"){y=y.toJSON(e)}y=p.call(u,e,y);switch(typeof y){case"string":return`"${l(y)}"`;case"object":{if(y===null){return"null"}if(f.indexOf(y)!==-1){return r}let e="";let t=",";const n=m;if(Array.isArray(y)){if(y.length===0){return"[]"}if(o<f.length+1){return'"[Array]"'}f.push(y);if(v!==""){m+=v;e+=`\n${m}`;t=`,\n${m}`}const r=Math.min(y.length,a);let i=0;for(;i<r-1;i++){const r=s(i,y,f,p,v,m);e+=r!==undefined?r:"null";e+=t}const u=s(i,y,f,p,v,m);e+=u!==undefined?u:"null";if(y.length-1>a){const r=y.length-a-1;e+=`${t}"... ${g(r)} not stringified"`}if(v!==""){e+=`\n${n}`}f.pop();return`[${e}]`}let u=Object.keys(y);const b=u.length;if(b===0){return"{}"}if(o<f.length+1){return'"[Object]"'}let _="";let w="";if(v!==""){m+=v;t=`,\n${m}`;_=" "}let E=Math.min(b,a);if(h(y)){e+=d(y,t,a);u=u.slice(y.length);E-=y.length;w=t}if(i){u=c(u)}f.push(y);for(let r=0;r<E;r++){const n=u[r];const i=s(n,y,f,p,v,m);if(i!==undefined){e+=`${w}"${l(n)}":${_}${i}`;w=t}}if(b>a){const r=b-a;e+=`${w}"...":${_}"${g(r)} not stringified"`;w=t}if(v!==""&&w.length>1){e=`\n${m}${e}\n${n}`}f.pop();return`{${e}}`}case"number":return isFinite(y)?String(y):t?t(y):"null";case"boolean":return y===true?"true":"false";case"undefined":return undefined;case"bigint":if(n){return String(y)}default:return t?t(y):undefined}}function u(e,i,s,c,f,h){if(typeof i==="object"&&i!==null&&typeof i.toJSON==="function"){i=i.toJSON(e)}switch(typeof i){case"string":return`"${l(i)}"`;case"object":{if(i===null){return"null"}if(s.indexOf(i)!==-1){return r}const e=h;let t="";let n=",";if(Array.isArray(i)){if(i.length===0){return"[]"}if(o<s.length+1){return'"[Array]"'}s.push(i);if(f!==""){h+=f;t+=`\n${h}`;n=`,\n${h}`}const r=Math.min(i.length,a);let l=0;for(;l<r-1;l++){const e=u(l,i[l],s,c,f,h);t+=e!==undefined?e:"null";t+=n}const d=u(l,i[l],s,c,f,h);t+=d!==undefined?d:"null";if(i.length-1>a){const e=i.length-a-1;t+=`${n}"... ${g(e)} not stringified"`}if(f!==""){t+=`\n${e}`}s.pop();return`[${t}]`}if(c.size===0){return"{}"}s.push(i);let d="";if(f!==""){h+=f;n=`,\n${h}`;d=" "}let p="";for(const e of c){const r=u(e,i[e],s,c,f,h);if(r!==undefined){t+=`${p}"${l(e)}":${d}${r}`;p=n}}if(f!==""&&p.length>1){t=`\n${h}${t}\n${e}`}s.pop();return`{${t}}`}case"number":return isFinite(i)?String(i):t?t(i):"null";case"boolean":return i===true?"true":"false";case"undefined":return undefined;case"bigint":if(n){return String(i)}default:return t?t(i):undefined}}function f(e,s,u,p,v){switch(typeof s){case"string":return`"${l(s)}"`;case"object":{if(s===null){return"null"}if(typeof s.toJSON==="function"){s=s.toJSON(e);if(typeof s!=="object"){return f(e,s,u,p,v)}if(s===null){return"null"}}if(u.indexOf(s)!==-1){return r}const t=v;if(Array.isArray(s)){if(s.length===0){return"[]"}if(o<u.length+1){return'"[Array]"'}u.push(s);v+=p;let e=`\n${v}`;const r=`,\n${v}`;const n=Math.min(s.length,a);let i=0;for(;i<n-1;i++){const t=f(i,s[i],u,p,v);e+=t!==undefined?t:"null";e+=r}const l=f(i,s[i],u,p,v);e+=l!==undefined?l:"null";if(s.length-1>a){const t=s.length-a-1;e+=`${r}"... ${g(t)} not stringified"`}e+=`\n${t}`;u.pop();return`[${e}]`}let n=Object.keys(s);const m=n.length;if(m===0){return"{}"}if(o<u.length+1){return'"[Object]"'}v+=p;const y=`,\n${v}`;let b="";let _="";let w=Math.min(m,a);if(h(s)){b+=d(s,y,a);n=n.slice(s.length);w-=s.length;_=y}if(i){n=c(n)}u.push(s);for(let e=0;e<w;e++){const t=n[e];const r=f(t,s[t],u,p,v);if(r!==undefined){b+=`${_}"${l(t)}": ${r}`;_=y}}if(m>a){const e=m-a;b+=`${_}"...": "${g(e)} not stringified"`;_=y}if(_!==""){b=`\n${v}${b}\n${t}`}u.pop();return`{${b}}`}case"number":return isFinite(s)?String(s):t?t(s):"null";case"boolean":return s===true?"true":"false";case"undefined":return undefined;case"bigint":if(n){return String(s)}default:return t?t(s):undefined}}function _(e,s,u){switch(typeof s){case"string":return`"${l(s)}"`;case"object":{if(s===null){return"null"}if(typeof s.toJSON==="function"){s=s.toJSON(e);if(typeof s!=="object"){return _(e,s,u)}if(s===null){return"null"}}if(u.indexOf(s)!==-1){return r}let t="";if(Array.isArray(s)){if(s.length===0){return"[]"}if(o<u.length+1){return'"[Array]"'}u.push(s);const e=Math.min(s.length,a);let r=0;for(;r<e-1;r++){const e=_(r,s[r],u);t+=e!==undefined?e:"null";t+=","}const n=_(r,s[r],u);t+=n!==undefined?n:"null";if(s.length-1>a){const e=s.length-a-1;t+=`,"... ${g(e)} not stringified"`}u.pop();return`[${t}]`}let n=Object.keys(s);const f=n.length;if(f===0){return"{}"}if(o<u.length+1){return'"[Object]"'}let p="";let v=Math.min(f,a);if(h(s)){t+=d(s,",",a);n=n.slice(s.length);v-=s.length;p=","}if(i){n=c(n)}u.push(s);for(let e=0;e<v;e++){const r=n[e];const i=_(r,s[r],u);if(i!==undefined){t+=`${p}"${l(r)}":${i}`;p=","}}if(f>a){const e=f-a;t+=`${p}"...":"${g(e)} not stringified"`}u.pop();return`{${t}}`}case"number":return isFinite(s)?String(s):t?t(s):"null";case"boolean":return s===true?"true":"false";case"undefined":return undefined;case"bigint":if(n){return String(s)}default:return t?t(s):undefined}}function w(e,t,r){if(arguments.length>1){let n="";if(typeof r==="number"){n=" ".repeat(Math.min(r,10))}else if(typeof r==="string"){n=r.slice(0,10)}if(t!=null){if(typeof t==="function"){return s("",{"":e},[],t,n,"")}if(Array.isArray(t)){return u("",e,[],y(t),n,"")}}if(n.length!==0){return f("",e,[],n,"")}}return _("",e,[])}return w}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(51);n.switchboard.connect("mobileMirror")},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(80),t);i(r(156),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.promisifyAll=t.promisify=t.ChromeError=void 0;class n extends Error{constructor(e,t){super(e);this.originalStack=t}}t.ChromeError=n;const i=(e,t,r)=>(...i)=>{const o=new Error("Promisified CDP Error").stack;const a=t[r].bind(t);return new Promise(((t,r)=>{a(...i,(i=>{var a;const s=(a=e.runtime)===null||a===void 0?void 0:a.lastError;if(s){return r(new n(s.message,o))}return t(i)}))}))};t.promisify=i;const o=Symbol("promisified");const a=(e,r)=>{if(!r||o in r)return r;for(const n of Object.getOwnPropertyNames(r)){if(typeof r[n]!=="function"){continue}r[`${n}Async`]=(0,t.promisify)(e,r,n)}r[o]=true;return r};t.promisifyAll=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ConnectionToBackground=void 0;const n=r(81);const i=r(9);const o=r(7);const a=r(39);const s=r(82);const u=r(80);const l=20;function c({external:e},t){const r=({data:e})=>{if(e===u.EXTENSION_LOADED){t()}};if(e){window.addEventListener("message",r);return}n.browser.runtime.onMessage.addListener(r)}function f(){const e=100;const t=2e3;const r=1.2;return{lastWait:null,space:e,async wait(){const e=this.lastWait?Date.now()-this.lastWait:null;await i.utils.delay(this.space-(e!==null&&e!==void 0?e:this.space));this.lastWait=Date.now();if(this.space<t){this.space*=r}},reset(){this.lastWait=null;this.space=e}}}function h(e){const t=`${e}:${i.utils.guid()}`;return t}class d{constructor(e,{external:t}={}){this.context=e;this._queue=new a.ActionsQueue((()=>this._connected));this._connected=Promise.resolve(false);const r=f();let i=l;const{runtime:d}=n.browser!==null&&n.browser!==void 0?n.browser:{};const p={name:h("switchboard-connection-to-bg")};const v=t?()=>d===null||d===void 0?void 0:d.connect(o.TESTIM_EXTENSION_ID,p):()=>d===null||d===void 0?void 0:d.connect(p);const m=async()=>{var e,t;if(await this._connected){return}this._port=v();this._connected=new Promise((e=>{var t;const n=t=>{var o,a;if((t===null||t===void 0?void 0:t.type)===u.PING_MSG){e(true);(o=this._port)===null||o===void 0?void 0:o.onMessage.removeListener(n);r.reset();i=l;const{exposedServices:t}=this.msgProcessor;const s={context:this.context,exposedServices:t};(a=this._port)===null||a===void 0?void 0:a.postMessage({type:u.PONG_MSG,data:s})}};(t=this._port)===null||t===void 0?void 0:t.onMessage.addListener(n)}));const n=e=>{if(!(0,a.hasMetadata)(e)){return}if(this.msgProcessor.debug){(0,s.logMessage)("received <<","background",e)}this.msgProcessor.processMessage((0,a.stampMessage)(e,this.context,"background"))};(e=this._port)===null||e===void 0?void 0:e.onDisconnect.addListener((async e=>{this._connected=Promise.resolve(false);e.onMessage.removeListener(n);if(i<=0){return}await r.wait();i--;m()}));(t=this._port)===null||t===void 0?void 0:t.onMessage.addListener(n);await this._connected;this._queue.doAll()};m();c({external:t},(()=>{this._connected=Promise.resolve(false);m()}))}fromBackground(e){var t;return Boolean((t=e.metadata)===null||t===void 0?void 0:t.stamps[this.context])}async addToQueue(e){let t=0;const r=()=>{var n,i;try{t++;(n=this._port)===null||n===void 0?void 0:n.postMessage(e);if(this.msgProcessor.debug){(0,s.logMessage)("post >>","background",e)}}catch(e){if((i=e===null||e===void 0?void 0:e.message)===null||i===void 0?void 0:i.toLowerCase().includes("disconnected")){this._connected=Promise.resolve(false);if(t<3){this._queue.add(r)}return}(0,u.throwMaxLengthIfNeeded)(e);throw e}};await this._queue.add(r)}async forward(e){if(this.fromBackground(e)){return}await this.addToQueue(e)}async backward(e){if(this.fromBackground(e)){await this.addToQueue(e)}}}t.ConnectionToBackground=d},function(e,t){(function(r,n){"use strict";var i="0.7.33",o="",a="?",s="function",u="undefined",l="object",c="string",f="major",h="model",d="name",p="type",v="vendor",m="version",g="architecture",y="console",b="mobile",_="tablet",w="smarttv",E="wearable",S="embedded",T=350;var A="Amazon",x="Apple",D="ASUS",O="BlackBerry",I="Browser",C="Chrome",k="Edge",R="Firefox",P="Google",M="Huawei",L="LG",N="Microsoft",F="Motorola",j="Opera",B="Samsung",U="Sharp",z="Sony",$="Xiaomi",G="Zebra",H="Facebook";var W=function(e,t){var r={};for(var n in e){if(t[n]&&t[n].length%2===0){r[n]=t[n].concat(e[n])}else{r[n]=e[n]}}return r},V=function(e){var t={};for(var r=0;r<e.length;r++){t[e[r].toUpperCase()]=e[r]}return t},q=function(e,t){return typeof e===c?J(t).indexOf(J(e))!==-1:false},J=function(e){return e.toLowerCase()},Y=function(e){return typeof e===c?e.replace(/[^\d\.]/g,o).split(".")[0]:n},K=function(e,t){if(typeof e===c){e=e.replace(/^\s\s*/,o);return typeof t===u?e:e.substring(0,T)}};var X=function(e,t){var r=0,i,o,a,u,c,f;while(r<t.length&&!c){var h=t[r],d=t[r+1];i=o=0;while(i<h.length&&!c){c=h[i++].exec(e);if(!!c){for(a=0;a<d.length;a++){f=c[++o];u=d[a];if(typeof u===l&&u.length>0){if(u.length===2){if(typeof u[1]==s){this[u[0]]=u[1].call(this,f)}else{this[u[0]]=u[1]}}else if(u.length===3){if(typeof u[1]===s&&!(u[1].exec&&u[1].test)){this[u[0]]=f?u[1].call(this,f,u[2]):n}else{this[u[0]]=f?f.replace(u[1],u[2]):n}}else if(u.length===4){this[u[0]]=f?u[3].call(this,f.replace(u[1],u[2])):n}}else{this[u]=f?f:n}}}}r+=2}},Z=function(e,t){for(var r in t){if(typeof t[r]===l&&t[r].length>0){for(var i=0;i<t[r].length;i++){if(q(t[r][i],e)){return r===a?n:r}}}else if(q(t[r],e)){return r===a?n:r}}return e};var Q={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ee={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"};var te={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,m],[/opios[\/ ]+([\w\.]+)/i],[m,[d,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[d,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[d,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[m,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[m,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[m,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+I],m],[/\bfocus\/([\w\.]+)/i],[m,[d,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[d,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[d,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[d,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[m,[d,R]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+I]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+I],m],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,m],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,H],m],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[d,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,C+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[d,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[m,Z,Q]],[/(webkit|khtml)\/([\w\.]+)/i],[d,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[d,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,m],[/(cobalt)\/([\w\.]+)/i],[d,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,J]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,o,J]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,J]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[v,B],[p,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[v,B],[p,b]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[v,x],[p,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[v,x],[p,_]],[/(macintosh);/i],[h,[v,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[v,M],[p,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[v,M],[p,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[v,$],[p,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[v,$],[p,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[v,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[v,"Vivo"],[p,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[v,"Realme"],[p,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[v,F],[p,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[v,F],[p,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[v,L],[p,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[v,L],[p,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[v,"Lenovo"],[p,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[v,"Nokia"],[p,b]],[/(pixel c)\b/i],[h,[v,P],[p,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[v,P],[p,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[v,z],[p,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[v,z],[p,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[v,"OnePlus"],[p,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[v,A],[p,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[v,A],[p,b]],[/(playbook);[-\w\),; ]+(rim)/i],[h,v,[p,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[v,O],[p,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[v,D],[p,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[v,D],[p,b]],[/(nexus 9)/i],[h,[v,"HTC"],[p,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[h,/_/g," "],[p,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[v,"Acer"],[p,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[v,"Meizu"],[p,b]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[v,U],[p,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,h,[p,b]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,h,[p,_]],[/(surface duo)/i],[h,[v,N],[p,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[v,"Fairphone"],[p,b]],[/(u304aa)/i],[h,[v,"AT&T"],[p,b]],[/\bsie-(\w*)/i],[h,[v,"Siemens"],[p,b]],[/\b(rct\w+) b/i],[h,[v,"RCA"],[p,_]],[/\b(venue[\d ]{2,7}) b/i],[h,[v,"Dell"],[p,_]],[/\b(q(?:mv|ta)\w+) b/i],[h,[v,"Verizon"],[p,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[v,"Barnes & Noble"],[p,_]],[/\b(tm\d{3}\w+) b/i],[h,[v,"NuVision"],[p,_]],[/\b(k88) b/i],[h,[v,"ZTE"],[p,_]],[/\b(nx\d{3}j) b/i],[h,[v,"ZTE"],[p,b]],[/\b(gen\d{3}) b.+49h/i],[h,[v,"Swiss"],[p,b]],[/\b(zur\d{3}) b/i],[h,[v,"Swiss"],[p,_]],[/\b((zeki)?tb.*\b) b/i],[h,[v,"Zeki"],[p,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],h,[p,_]],[/\b(ns-?\w{0,9}) b/i],[h,[v,"Insignia"],[p,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[v,"NextBook"],[p,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],h,[p,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],h,[p,b]],[/\b(ph-1) /i],[h,[v,"Essential"],[p,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[v,"Envizen"],[p,_]],[/\b(trio[-\w\. ]+) b/i],[h,[v,"MachSpeed"],[p,_]],[/\btu_(1491) b/i],[h,[v,"Rotor"],[p,_]],[/(shield[\w ]+) b/i],[h,[v,"Nvidia"],[p,_]],[/(sprint) (\w+)/i],[v,h,[p,b]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[v,N],[p,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[v,G],[p,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[v,G],[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,h,[p,y]],[/droid.+; (shield) bui/i],[h,[v,"Nvidia"],[p,y]],[/(playstation [345portablevi]+)/i],[h,[v,z],[p,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[v,N],[p,y]],[/smart-tv.+(samsung)/i],[v,[p,w]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[v,B],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,L],[p,w]],[/(apple) ?tv/i],[v,[h,x+" TV"],[p,w]],[/crkey/i],[[h,C+"cast"],[v,P],[p,w]],[/droid.+aft(\w)( bui|\))/i],[h,[v,A],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[v,U],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[h,[v,z],[p,w]],[/(mitv-\w{5}) bui/i],[h,[v,$],[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[v,K],[h,K],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/((pebble))app/i],[v,h,[p,E]],[/droid.+; (glass) \d/i],[h,[v,P],[p,E]],[/droid.+; (wt63?0{2,3})\)/i],[h,[v,G],[p,E]],[/(quest( 2)?)/i],[h,[v,H],[p,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[p,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[p,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[p,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,b]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[d,k+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,m],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[m,Z,ee]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[m,Z,ee]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,m],[/\(bb(10);/i],[m,[d,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[d,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[m,[d,C+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],m],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,m],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,m]]};var re=function(e,t){if(typeof e===l){t=e;e=n}if(!(this instanceof re)){return new re(e,t).getResult()}var i=e||(typeof r!==u&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:o);var a=t?W(te,t):te;this.getBrowser=function(){var e={};e[d]=n;e[m]=n;X.call(e,i,a.browser);e.major=Y(e.version);return e};this.getCPU=function(){var e={};e[g]=n;X.call(e,i,a.cpu);return e};this.getDevice=function(){var e={};e[v]=n;e[h]=n;e[p]=n;X.call(e,i,a.device);return e};this.getEngine=function(){var e={};e[d]=n;e[m]=n;X.call(e,i,a.engine);return e};this.getOS=function(){var e={};e[d]=n;e[m]=n;X.call(e,i,a.os);return e};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return i};this.setUA=function(e){i=typeof e===c&&e.length>T?K(e,T):e;return this};this.setUA(i);return this};re.VERSION=i;re.BROWSER=V([d,m,f]);re.CPU=V([g]);re.DEVICE=V([h,v,p,y,b,w,_,E,S]);re.ENGINE=re.OS=V([d,m]);if(typeof t!==u){if(typeof e!==u&&e.exports){t=e.exports=re}t.UAParser=re}else{if(typeof define===s&&define.amd){define((function(){return re}))}else if(typeof r!==u){r.UAParser=re}}var ne=typeof r!==u&&(r.jQuery||r.Zepto);if(ne&&!ne.ua){var ie=new re;ne.ua=ie.getResult();ne.ua.get=function(){return ie.getUA()};ne.ua.set=function(e){ie.setUA(e);var t=ie.getResult();for(var r in t){ne.ua[r]=t[r]}}}})(typeof window==="object"?window:this)},function(e,t,r){"use strict";const n=r(159);const i=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0)){throw new TypeError("Expected `concurrency` to be a number from 1 and up")}const t=new n;let r=0;const i=()=>{r--;if(t.size>0){t.dequeue()()}};const o=async(e,t,...n)=>{r++;const o=(async()=>e(...n))();t(o);try{await o}catch{}i()};const a=(n,i,...a)=>{t.enqueue(o.bind(null,n,i,...a));(async()=>{await Promise.resolve();if(r<e&&t.size>0){t.dequeue()()}})()};const s=(e,...t)=>new Promise((r=>{a(e,r,...t)}));Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}});return s};e.exports=i},function(e,t){class r{constructor(e){this.value=e;this.next=undefined}}class n{constructor(){this.clear()}enqueue(e){const t=new r(e);if(this._head){this._tail.next=t;this._tail=t}else{this._head=t;this._tail=t}this._size++}dequeue(){const e=this._head;if(!e){return}this._head=this._head.next;this._size--;return e.value}clear(){this._head=undefined;this._tail=undefined;this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;while(e){yield e.value;e=e.next}}}e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Switchboard=t.getKeysDeep=void 0;const n=r(161);const i=r(39);class o extends Error{constructor(e,t){super(`Multiple registration\n    You are trying to register connections for broker in context: "${t}", but it's already registered to context: "${e}".\n    Make sure you are not importing something you shouldn't`)}}function a(e){const t=new Set;let r=e;do{Object.getOwnPropertyNames(r).forEach((e=>t.add(e)));r=Object.getPrototypeOf(r)}while(Object.getPrototypeOf(r));t.delete("constructor");return Array.from(t)}t.getKeysDeep=a;const s={CALL:"call",GET:"get",SET:"set"};class u{constructor(e){this.contextConnectionMap=e;this._debug=false;this.actionsQueue=new i.ActionsQueue((()=>Boolean(this._broker)));this.on=(...e)=>{let t=false;let r;this.actionsQueue.add((()=>{var n;if(!t){r=(n=this._broker)===null||n===void 0?void 0:n.on(...e)}}));return()=>{r===null||r===void 0?void 0:r();t=true}};this.trigger=(...e)=>new Promise(((t,r)=>{this.actionsQueue.add((()=>{var n;(n=this._broker)===null||n===void 0?void 0:n.trigger(...e).then(t).catch(r)}))}));this.registerToScope=(...e)=>{this.actionsQueue.add((()=>{var t;(t=this._broker)===null||t===void 0?void 0:t.registerToScope(...e)}))}}scoped(e){return{trigger:(t,r,n)=>this.trigger(t,r,{...n,additionalScopes:(0,i.combineScopes)(e,n===null||n===void 0?void 0:n.additionalScopes)}),on:(t,r,n)=>this.on(t,r,{...n,additionalScopes:(0,i.combineScopes)(e,n===null||n===void 0?void 0:n.additionalScopes)}),getRemote:(t,r)=>this.getRemote(t,{...r,scope:(0,i.combineScopes)(e,r===null||r===void 0?void 0:r.scope)})}}getRemote(e,{scope:t,ignoreTimeoutByDefault:r}={}){const n=this;return new Proxy({},{get(o,a){const u=e=>{if(r){return undefined}return t=>{Object.assign(t,{stack:e===null||e===void 0?void 0:e.replace(/^Error\n.*?\n/,"Error: TIMEOUT\n")});throw t}};const l=(r,n)=>({onTimeout:u(n),...r,additionalScopes:(0,i.combineScopes)(t,r===null||r===void 0?void 0:r.additionalScopes),recipientServiceKey:e});const{stack:c}=Error();const f=(t,r)=>n.trigger(`${e}:${s.CALL}:${a}`,t,l(r,c));f.get=t=>{const{stack:r}=Error();return n.trigger(`${e}:${s.GET}:${a}`,undefined,l(t,r))};f.set=(t,r)=>{const{stack:i}=Error();return n.trigger(`${e}:${s.SET}:${a}`,t,l(r,i))};return f}})}expose(e,t,{exposedFields:r,...n}={}){queueMicrotask((async()=>{await this.registerServiceToBroker(e);a(t).forEach((i=>{if(!r||r.includes(i)){this._broker.on(`${e}:${s.CALL}:${String(i)}`,(async(e,r)=>{const n=await t[i].call(t,e);r(n)}),n);this._broker.on(`${e}:${s.GET}:${String(i)}`,((e,r)=>{r(t[i])}),n);this._broker.on(`${e}:${s.SET}:${String(i)}`,((e,r)=>{t[i]=e;r(t[i])}),n)}}))}))}connect(e){if(this._broker){throw new o(this._broker.context,e)}const t=this.contextConnectionMap[e]();this._broker=new n.Broker(e,t);this._broker.debug=this._debug;this.actionsQueue.doAll()}debug(){this._debug=true;Object.defineProperty(window,"$broker",{get:()=>this._broker})}registerServiceToBroker(e){return new Promise(((t,r)=>{this.actionsQueue.add((()=>{var n;(n=this._broker)===null||n===void 0?void 0:n.registerService(e).then(t).catch(r)}))}))}}t.Switchboard=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Broker=void 0;const n=r(11);const i=r(28);const o=r(9);const a=r(165);const s=r(39);const u=r(83);const l=r(6);const c=l.Logger.getLogger("switchboard:broker");const f=u.switchboardEvents.ERROR;function h(e,t){const r=JSON.stringify(e.data);const n=[];for(let e=0;e<r.length;e+=t){n.push(r.slice(e,e+t))}return n.map(((t,r)=>{const i={...e.metadata,chunkData:{total:n.length,index:r}};return{...e,metadata:i,data:t}}))}class d{get exposedServices(){return Array.from(this._exposedServices)}constructor(e,t){this.context=e;this._connections=t;this.debug=false;this._localActions=new a.ActionsService;this._transactions={};this._scopes=new Set;this._exposedServices=new Set;this._chunks=new Map;this.on=(e,t,{additionalScopes:r}={})=>{if(r){return this._localActions.on(e,((e,n,i)=>{if([r].flat().some((e=>i.scopes.includes(e)))){return t(e,n,i)}return undefined}))}return this._localActions.on(e,t)};this.registerService=e=>{if(this._exposedServices.has(e)){throw new Error(`You already expose "${e}" in this context`)}this._exposedServices.add(e);return this.trigger(u.switchboardEvents.EXPOSED,{key:e,context:this.context})};this.registerToScope=e=>{this._scopes.add(e)};this.trigger=async(e,t,r={})=>{const{timeout:n,onTimeout:o,retries:a,retryOptions:u,noConsoleLog:l,additionalScopes:c,recipientServiceKey:f}=r;try{return await i((()=>{const{transactionId:r,promise:i}=this.createTransaction(n!==null&&n!==void 0?n:2*1e3);const o={type:e,data:t,metadata:{transactionId:r,sender:this.context,stamps:{},noConsoleLog:l,scopes:Array.from(this._scopes).concat(c!==null&&c!==void 0?c:[]),recipientServiceKey:f}};this.forward(o);return i}),{retries:a||0,factor:1,...u})}catch(e){if(e instanceof s.BrokerTimeoutError){return o===null||o===void 0?void 0:o(e)}throw e}};this.processMessage=e=>{if(this._scopes.size>0&&e.metadata.scopes.every((e=>!this._scopes.has(e)))){return}const t=this.joinChunks(e);if(!t){return}if(!t.metadata.responder){this.forward(t);return}if(t.metadata.sender===this.context){this.resolveTransaction(t);return}this.backward(t)};this.callLocalActions=async e=>{const t={...e,metadata:{...e.metadata}};let r=false;const i=e=>{r=true;t.metadata.responder=this.context;t.data=e;this.processMessage(t)};const o=this._localActions.trigger(e,i);if(o===undefined){return}try{const e=await o;if(!r){i(e)}}catch(e){t.metadata.responder=this.context;t.data=n.pick(e,["message","stack"]);t.type=f;this.processMessage(t)}};this.forward=async e=>{const t=()=>this.callLocalActions(e);const r=()=>this._connections.forEach((async t=>{try{return await t.forward(e)}catch(r){if(r instanceof s.ConnectionMaxSizeError){const n=h(e,r.maxSize);n.forEach((e=>t.forward(e)));return undefined}throw r}}));const{recipientServiceKey:n}=e.metadata;if(!n){r();await t();return}if(this._exposedServices.has(n)){await t()}else{r()}};this.backward=e=>{this._connections.forEach((async t=>{try{return await t.backward(e)}catch(r){if(r instanceof s.ConnectionMaxSizeError){const n=h(e,r.maxSize);n.forEach((e=>t.backward(e)));return undefined}throw r}}))};this.createTransaction=e=>{const t=o.utils.guid();let r;const n=new Promise(((n,i)=>{this._transactions[t]={resolve:n,reject:i};r=setTimeout((()=>{i(new s.BrokerTimeoutError(e))}),e)})).finally((()=>{delete this._transactions[t];clearTimeout(r)}));return{transactionId:t,promise:n}};this.parseError=e=>{if(e.message||e.stack){const t=new Error(e.message);t.stack=e.stack;return t}if(typeof e==="string"){return new Error(e)}return new Error(JSON.stringify(e))};this.resolveTransaction=e=>{const{type:t,data:r,metadata:{transactionId:n}}=e;const i=this._transactions[n];if(i){if(t===f){i.reject(this.parseError(r))}else{i.resolve(r)}return true}return false};this.on(u.switchboardEvents.EXPOSED,(({key:t,context:r})=>{if(e!==r&&this._exposedServices.has(t)){throw new Error(`You already expose "${t}" in "${e}"`)}}));t.forEach((e=>{e.msgProcessor=this}))}joinChunks(e){if(!e.metadata.chunkData){return e}const{index:t,total:r}=e.metadata.chunkData;if(!this._chunks.has(e.metadata.transactionId)){this._chunks.set(e.metadata.transactionId,[])}const n=this._chunks.get(e.metadata.transactionId);n[t]=e;if(!(n.length===r&&n.every((e=>e!==undefined)))){return undefined}this._chunks.delete(e.metadata.transactionId);try{const t=JSON.parse(n.map((e=>e.data)).join(""));const r={...e.metadata};delete r.chunkData;return{...e,metadata:r,data:t}}catch(e){c.error("failed to parse chunks",{error:e,chunks:n});return undefined}}}t.Broker=d},function(e,t,r){e.exports=r(163)},function(e,t,r){var n=r(164);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===Infinity),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};t.timeouts=function(e){if(e instanceof Array){return[].concat(e)}var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:false};for(var r in e){t[r]=e[r]}if(t.minTimeout>t.maxTimeout){throw new Error("minTimeout is greater than maxTimeout")}var n=[];for(var i=0;i<t.retries;i++){n.push(this.createTimeout(i,t))}if(e&&e.forever&&!n.length){n.push(this.createTimeout(i,t))}n.sort((function(e,t){return e-t}));return n};t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1;var n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));n=Math.min(n,t.maxTimeout);return n};t.wrap=function(e,r,n){if(r instanceof Array){n=r;r=null}if(!n){n=[];for(var i in e){if(typeof e[i]==="function"){n.push(i)}}}for(var o=0;o<n.length;o++){var a=n[o];var s=e[a];e[a]=function n(i){var o=t.operation(r);var a=Array.prototype.slice.call(arguments,1);var s=a.pop();a.push((function(e){if(o.retry(e)){return}if(e){arguments[0]=o.mainError()}s.apply(this,arguments)}));o.attempt((function(){i.apply(e,a)}))}.bind(e,s);e[a].options=r}}},function(e,t){function r(e,t){if(typeof t==="boolean"){t={forever:t}}this._originalTimeouts=JSON.parse(JSON.stringify(e));this._timeouts=e;this._options=t||{};this._maxRetryTime=t&&t.maxRetryTime||Infinity;this._fn=null;this._errors=[];this._attempts=1;this._operationTimeout=null;this._operationTimeoutCb=null;this._timeout=null;this._operationStart=null;this._timer=null;if(this._options.forever){this._cachedTimeouts=this._timeouts.slice(0)}}e.exports=r;r.prototype.reset=function(){this._attempts=1;this._timeouts=this._originalTimeouts.slice(0)};r.prototype.stop=function(){if(this._timeout){clearTimeout(this._timeout)}if(this._timer){clearTimeout(this._timer)}this._timeouts=[];this._cachedTimeouts=null};r.prototype.retry=function(e){if(this._timeout){clearTimeout(this._timeout)}if(!e){return false}var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime){this._errors.push(e);this._errors.unshift(new Error("RetryOperation timeout occurred"));return false}this._errors.push(e);var r=this._timeouts.shift();if(r===undefined){if(this._cachedTimeouts){this._errors.splice(0,this._errors.length-1);r=this._cachedTimeouts.slice(-1)}else{return false}}var n=this;this._timer=setTimeout((function(){n._attempts++;if(n._operationTimeoutCb){n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout);if(n._options.unref){n._timeout.unref()}}n._fn(n._attempts)}),r);if(this._options.unref){this._timer.unref()}return true};r.prototype.attempt=function(e,t){this._fn=e;if(t){if(t.timeout){this._operationTimeout=t.timeout}if(t.cb){this._operationTimeoutCb=t.cb}}var r=this;if(this._operationTimeoutCb){this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)}this._operationStart=(new Date).getTime();this._fn(this._attempts)};r.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated");this.attempt(e)};r.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated");this.attempt(e)};r.prototype.start=r.prototype.try;r.prototype.errors=function(){return this._errors};r.prototype.attempts=function(){return this._attempts};r.prototype.mainError=function(){if(this._errors.length===0){return null}var e={};var t=null;var r=0;for(var n=0;n<this._errors.length;n++){var i=this._errors[n];var o=i.message;var a=(e[o]||0)+1;e[o]=a;if(a>=r){t=i;r=a}}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ActionsService=void 0;function n(e){return typeof(e===null||e===void 0?void 0:e.then)==="function"}class i{constructor(){this._listeners=new Map;this.on=(e,t)=>{const r=Symbol("uuid");if(!this._listeners.has(e)){this._listeners.set(e,new Map)}this._listeners.get(e).set(r,t);return()=>{var t;(t=this._listeners.get(e))===null||t===void 0?void 0:t.delete(r)}};this.trigger=({data:e,type:t,metadata:r},i)=>{const o=this._listeners.get(t);if(!o){return undefined}return new Promise(((t,a)=>{for(const s of o.values()){const o=s(e,i,r);if(!n(o)&&o!==undefined){t(o)}else if(n(o)){o.then((e=>{if(e!==undefined){t(e)}})).catch(a)}}}))}}}t.ActionsService=i},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(167),t)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o,a,s;Object.defineProperty(t,"__esModule",{value:true});t.DeviceMirroring=t.DeviceMirroringLocalStore=t.LOADING_APP_MESSAGES=void 0;const u=r(13);const l=r(168);const c=r(11);const f=r(90);const h=r(182);const d=r(22);const p=r(54);const v=r(40);const m=r(55);const g=r(393);const y=r(394);const b=r(16);const _=r(9);const w=r(7);const E=r(56);const S=r(8);const T=r(0);const A=r(135);const x=r(400);const D=r(407);const O=r(32);const I=r(410);const C=r(411);const k=r(417);const R=r(23);const P=r(6);const M=r(420);const L=r(43);t.LOADING_APP_MESSAGES={DEFAULT:"Sit back and relax while we're preparing your device...",INITIALIZING_MIRRORING:"Initializing device screen mirroring..."};const N=`${p.TMA_SOCKET_BASE_URL}/mobile-frames`;const F=`${p.TMA_SOCKET_BASE_URL}/mirroring`;const j=P.Logger.getLogger("DeviceMirroringLocalStore");let B=class e{constructor(e,t,r){this.messagingService=e;this.recordingService=t;this.featureFlagsService=r;this.promptText="";this.isRecordingDeviceDisconnected=false;this.jmuxer=null;this.isDeviceConnected=true;this.setTextState="default";this.dispose=()=>{var e,t,r;this.disposers.forEach((e=>e()));(e=this.framesSocket)===null||e===void 0?void 0:e.close();(t=this.mirroringSocket)===null||t===void 0?void 0:t.close();(r=this.jmuxer)===null||r===void 0?void 0:r.destroy();this.messagingService.destroy();window.clearInterval(this.fixVideoBufferInterval)};this.onInputTextChange=e=>this.promptText=e.target.value;this.promptForInput=()=>{(0,T.runInAction)((()=>{this.setTextState="editing";this.promptText=""}));return new Promise((e=>{this.onAcceptTextPrompt=()=>{e(this.promptText);this.setTextState="pending"};this.onCancelTextPrompt=()=>{e(undefined);this.setTextState="default"}}))};this.onSwipe=async e=>{this.recordingService.wrapAsyncOperationWithLoader((()=>this.onSwipeWithSpinner(e)))};this.onSwipeWithSpinner=async e=>{if(!this.captureScreenshotBeforeActionInRecord){this.performSwipe(e)}if(this.isRecording){await this.addSwipeStep(e)}if(this.captureScreenshotBeforeActionInRecord){await this.performSwipe(e)}};this.onTap=async e=>{this.recordingService.wrapAsyncOperationWithLoader((()=>this.onTapWithSpinner(e)))};this.onTapWithSpinner=async e=>{const t=()=>this.performTap({x:e.x/e.scales.widthScaling,y:e.y/e.scales.heightScaling});const r=this.getElementInfoFromPoint(e);const{xpath:n}=(r===null||r===void 0?void 0:r.element)||{};if(n&&r&&(0,A.isTextElement)(r.nodeName||"")){if(this.featureFlagsService.flags.mobileOpenKeyboardOnSetText.isEnabled()){t()}const e=await this.promptForInput();if(e===undefined){return}try{if(this.isRecording){await this.addSetTextStep(e,r,n)}else{await this.recordingService.setTextOnElement(n,e)}}finally{this.setTextState="default"}return}if(this.isRecording&&r){await this.addTapStep(r,t)}if(!this.isRecording){await t()}};this.relativePointToActual=({x:e,y:t})=>{const{left:r,top:n}=this.recordingService.rootElementRect;return{x:e+r,y:t+n}};if(false){}this.disposers=[(0,T.autorun)((()=>{document.title=this.title}))];this.initializeIsDeviceConnected()}get recordingConfig(){return this.recordingService.recordingConfig}get captureScreenshotBeforeActionInRecord(){var e;return Boolean((e=this.recordingService.recordingConfig)===null||e===void 0?void 0:e.mobileCaptureScreenshotBeforeActionInRecord)}get isControlBarFlagEnabled(){return this.featureFlagsService.flags.deviceMirrorControlBar.isEnabled()}async initializeIsDeviceConnected(){if(L.deviceFromParams.from!=="TMA"){this.isDeviceConnected=true;return}try{const e=await O.httpRequest.get(`${(0,p.tmaBaseUrl)()}/devices`);this.isDeviceConnected=e.some((({udid:e})=>e===this.deviceId))}catch(e){this.isDeviceConnected=false}}getMP4Track(){return this.jmuxer.remuxController.tracks.video.mp4track}getVideoBounds(){const e=this.getMP4Track();return{width:e.width,height:e.height}}get splashScreenMessage(){var e;if(!this.isLoadingApp||!this.isDeviceConnected){if(!this.recordingService.hasInitialDom){return t.LOADING_APP_MESSAGES.INITIALIZING_MIRRORING}return null}if(this.recordingService.customProgressMessage){return this.recordingService.customProgressMessage}if(this.loadingAppMessageType){return(e=t.LOADING_APP_MESSAGES[this.loadingAppMessageType])!==null&&e!==void 0?e:t.LOADING_APP_MESSAGES.DEFAULT}return t.LOADING_APP_MESSAGES.DEFAULT}get deviceId(){return this.recordingService.device.udid}get platform(){return this.recordingService.platform}get title(){const{device:e}=this.recordingService;return`${e.name} | ${e.deviceType} ${e.osVersion}`}get isWaitingForOperation(){return this.captureScreenshotBeforeActionInRecord&&this.recordingService.isWaitingForOperation}get isLoadingApp(){return this.recordingService.isLoadingApp}get isRecording(){return this.recordingService.isRecording}connectMirroringEvents(){var e;if(!((e=this.recordingService.appiumApi)===null||e===void 0?void 0:e.baseUrl)||L.deviceFromParams.from!=="TMA"){return}this.mirroringSocket=new WebSocket(F);this.mirroringSocket.onmessage=e=>{const t=JSON.parse(e.data);this.loadingAppMessageType=t.type}}async connectMirroringFrames(){var e;(e=this.framesSocket)===null||e===void 0?void 0:e.close();await _.utils.delay(200);let t=this.recordingService.streamUrl;if(!t&&L.deviceFromParams.from==="TVC"){return}t||(t=N);this.framesSocket=new h.default(t,[],{maxRetries:10,connectionTimeout:2500});if(this.platform==="android"){this.framesSocket.binaryType="arraybuffer"}await new Promise(((e,t)=>{this.framesSocket.onmessage=t=>{e();this.onReceiveNewFrame(t)};this.framesSocket.onerror=e=>{t(e)}}))}async init(e,t,r){this.videoRef=e;this.imageRef=t;this.recordingService.setRootMirrorElementRef(r);this.setupVideoIfNeeded();this.connectMirroringEvents();j.log("Connecting to mirroring frames socket");if(L.deviceFromParams.from==="TMA"){await this.connectMirroringFrames()}else{this.recordingService.onAppiumSessionConnected=()=>{this.connectMirroringFrames()}}j.log("Received first frame");if(false){}}setupVideoIfNeeded(){const e=this.videoRef.current;if(!e){return}this.jmuxer=new l({node:e,mode:"video",flushingTime:16});this.fixVideoBufferInterval=window.setInterval((()=>{const t=e.buffered.length;if(t<=0){return}const r=e.buffered.end(0);const n=e.currentTime;if(Math.abs(r-n)>.2){e.currentTime=r}if(e.paused&&n<r){e.play().catch((()=>null))}}),16)}async addSetTextStep(e,t,r){const n=_.utils.guid();let i;this.addStep({id:n,type:`${this.platform}-set-text`,text:JSON.stringify(e),...t});if(this.captureScreenshotBeforeActionInRecord){i=await this.recordingService.takeScreenshot()}await this.recordingService.setTextOnElement(r,e);if(!this.captureScreenshotBeforeActionInRecord){await this.recordingService.updateScreenshot(n)}if(i){this.recordingService.updateStepWithExistingScreenshot(n,i)}}async addTapStep(e,t){if(!e.element){return}const r=_.utils.guid();this.addStep({id:r,type:`${this.platform}-tap`,...e});let n;if(this.captureScreenshotBeforeActionInRecord){n=await this.recordingService.takeScreenshot()}await t();if(!this.captureScreenshotBeforeActionInRecord){await this.recordingService.updateScreenshot(r)}if(n){this.recordingService.updateStepWithExistingScreenshot(r,n)}}async addSwipeStep({deviceScaled:e,...t}){const r=_.utils.guid();let n;try{n=this.getElementInfoFromPoint(e.from)}catch(e){}this.addStep({id:r,type:`${this.platform}-swipe`,duration:C.DEFAULT_SWIPE_WAIT,from:t.appiumScaled.from,to:t.appiumScaled.to,pointsRatio:t.pointsRatio,...n});let i;if(n&&this.captureScreenshotBeforeActionInRecord){i=await this.recordingService.takeScreenshot()}if(!this.captureScreenshotBeforeActionInRecord){await this.recordingService.updateScreenshot(r)}if(i){this.recordingService.updateStepWithExistingScreenshot(r,i)}}addStep(e){const t={stepData:e};this.messagingService.postMessage(w.commonConstants.scenario.ADD_STEP,t)}onReceiveNewFrame(e){if(L.deviceFromParams.from!=="TVC"){if(this.platform==="android"){if(this.jmuxer&&this.videoRef.current&&e.data!=="-1"){this.jmuxer.feed({video:new Uint8Array(e.data)})}return}if(this.imageRef.current){const t=this.imageRef.current.src;if(t){URL.revokeObjectURL(t)}this.imageRef.current.src=URL.createObjectURL(e.data)}return}if(!this.imageRef.current){return}const t=JSON.parse(e.data);this.imageRef.current.src=`data:image/jpeg;base64,${t.frame}`}getElementInfoFromPoint(e){const t=this.recordingService.elementFromPoint(this.relativePointToActual(e));if(!(t===null||t===void 0?void 0:t.element)){return undefined}const r=this.recordingService.getCurrentDomAsString();this.recordingService.saveDom(t.element.mobileLocator,r);const n=t.element.thumbnailInfo.elementArea;this.recordingService.cropAndSaveElementImage(t.element.mobileLocator,n);return t}async performTap(e){if(L.deviceFromParams.from==="TVC"){await this.recordingService.appiumApi.tapOnPoint(e);return}await O.httpRequest.postJson(`${(0,p.tmaBaseUrl)()}/device-interaction/${this.deviceId}/tap`,e)}async performSwipe(e){await this.recordingService.appiumApi.touchPerform([{action:"press",options:e.appiumScaled.from},{action:"wait",options:{ms:C.DEFAULT_SWIPE_WAIT}},{action:"moveTo",options:e.appiumScaled.to},{action:"release"}])}};t.DeviceMirroringLocalStore=B;n([T.observable.ref,i("design:type",Object)],B.prototype,"promptText",void 0);n([T.observable.ref,i("design:type",Object)],B.prototype,"isRecordingDeviceDisconnected",void 0);n([T.observable,i("design:type",Object)],B.prototype,"isDeviceConnected",void 0);n([T.observable,i("design:type",Object)],B.prototype,"loadingAppMessageType",void 0);n([T.observable,i("design:type",String)],B.prototype,"setTextState",void 0);n([T.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"splashScreenMessage",null);n([T.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"deviceId",null);n([T.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"platform",null);n([T.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"title",null);n([T.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"isWaitingForOperation",null);n([T.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"isLoadingApp",null);n([T.computed,i("design:type",Object),i("design:paramtypes",[])],B.prototype,"isRecording",null);t.DeviceMirroringLocalStore=B=n([(0,b.injectable)(),i("design:paramtypes",[typeof(o=typeof E.MessagingService!=="undefined"&&E.MessagingService)==="function"?o:Object,typeof(a=typeof m.RecordingService!=="undefined"&&m.RecordingService)==="function"?a:Object,typeof(s=typeof R.FeatureFlagsService!=="undefined"&&R.FeatureFlagsService)==="function"?s:Object])],B);function U(){const e=1280;const t=250;const r=(0,v.useDependencyInjector)(m.RecordingService);const[n,i]=(0,S.useState)(window);(0,S.useLayoutEffect)((()=>{const e=c.debounce((()=>{const e=c.pick(window,["innerWidth","innerHeight"]);i(e)}),500);window.addEventListener("resize",e);return()=>{e.cancel();window.removeEventListener("resize",e)}}),[]);(0,I.useAsyncEffect)((async()=>{var i;const{device:o,rootElementRect:a}=r;const s=(i=await r.getZoom())!==null&&i!==void 0?i:1;const u=n.innerWidth*s;const l=n.innerHeight*s;const{top:c,left:f}=a;const h=window.outerHeight-l+c*s;const d=window.outerWidth-u+f*s;const p=l/o.height;const v=Math.min(u,e)/o.width;const m=Math.min(p,v);const g=Math.max(Math.round(o.width*m),t);const y=g/o.width;const b=o.height*y;const _=g+d;const w=b+h;const E=Math.abs(w-window.outerHeight)+Math.abs(_-window.outerWidth);if(E>5){window.resizeTo(_,w);j.log("Resizing device mirroring window",{newWidth:_,newHeight:w,diff:E,zoom:s,newScale:y})}r.mirroringWindowToDeviceRatio=y/s}),[n,r.device,r,r.rootElementRect])}t.DeviceMirroring=(0,d.observer)((()=>{const e=(0,S.useRef)(null);const t=(0,S.useRef)(null);const r=(0,S.useRef)(null);const n=(0,v.useLocalStoreWithInjectedDependencies)(B);const i=n.isLoadingApp||!n.isDeviceConnected?f.default.isMirroringUnavailable:f.default.video;U();(0,S.useLayoutEffect)((()=>{n.init(t,e,r)}),[n]);(0,S.useEffect)((()=>{document.title=n.title}),[n.title]);return(0,u.jsxs)("div",{children:[n.isControlBarFlagEnabled&&(0,u.jsx)(k.DeviceMirroringControlBar,{deviceMirroringLocalStore:n}),(0,u.jsxs)("div",{ref:r,className:f.default.deviceMirroring,children:[!n.isDeviceConnected&&L.deviceFromParams.from!=="TVC"&&(0,u.jsx)(D.DeviceDisconnectedScreen,{isRecordingDeviceDisconnected:n.isRecordingDeviceDisconnected}),n.isWaitingForOperation&&(0,u.jsx)("div",{className:f.default.loaderContainer,children:(0,u.jsx)(M.Loader,{marginAuto:true})}),n.splashScreenMessage&&(0,u.jsx)(y.SplashScreen,{message:n.splashScreenMessage}),n.setTextState!=="default"&&(0,u.jsx)(x.TextInputPrompt,{value:n.promptText,isLoading:n.setTextState==="pending",onChange:n.onInputTextChange,onAccept:n.onAcceptTextPrompt,onCancel:n.onCancelTextPrompt}),L.deviceFromParams.from!=="TVC"&&n.platform==="android"?(0,u.jsx)("video",{ref:t,controls:false,autoPlay:true,muted:true,className:i}):(0,u.jsx)("img",{ref:e,draggable:false,alt:"mirror frame",className:i}),(0,u.jsx)(g.MirroringGesturesLayer,{onSwipe:n.onSwipe,onTap:n.onTap})]})]})}));t.DeviceMirroring.displayName="DeviceMirroring"},function(e,t,r){(function(t){!function(t,n){true?e.exports=n(r(29)):undefined}(this,(function(e){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return f(this,r)}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var g,y;function b(e){if(g){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];g.apply(void 0,[e].concat(r))}}function _(e){if(y){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];y.apply(void 0,[e].concat(r))}}var w=function(){function e(t){n(this,e),this.payload=t,this.nri=(96&this.payload[0])>>5,this.ntype=31&this.payload[0],this.isvcl=1==this.ntype||5==this.ntype,this.stype="",this.isfmb=!1}return o(e,[{key:"toString",value:function(){return"".concat(e.type(this),": NRI: ").concat(this.getNri())}},{key:"getNri",value:function(){return this.nri}},{key:"type",value:function(){return this.ntype}},{key:"isKeyframe",value:function(){return this.ntype===e.IDR}},{key:"getPayload",value:function(){return this.payload}},{key:"getPayloadSize",value:function(){return this.payload.byteLength}},{key:"getSize",value:function(){return 4+this.getPayloadSize()}},{key:"getData",value:function(){var e=new Uint8Array(this.getSize());return new DataView(e.buffer).setUint32(0,this.getSize()-4),e.set(this.getPayload(),4),e}}],[{key:"NDR",get:function(){return 1}},{key:"IDR",get:function(){return 5}},{key:"SEI",get:function(){return 6}},{key:"SPS",get:function(){return 7}},{key:"PPS",get:function(){return 8}},{key:"AUD",get:function(){return 9}},{key:"TYPES",get:function(){var t;return a(t={},e.IDR,"IDR"),a(t,e.SEI,"SEI"),a(t,e.SPS,"SPS"),a(t,e.PPS,"PPS"),a(t,e.NDR,"NDR"),a(t,e.AUD,"AUD"),t}},{key:"type",value:function(t){return t.ntype in e.TYPES?e.TYPES[t.ntype]:"UNKNOWN"}}]),e}();function E(e,t){var r=new Uint8Array((0|e.byteLength)+(0|t.byteLength));return r.set(e,0),r.set(t,0|e.byteLength),r}var S,T=function(){function e(t){n(this,e),this.data=t,this.index=0,this.bitLength=8*t.byteLength}return o(e,[{key:"setData",value:function(e){this.data=e,this.index=0,this.bitLength=8*e.byteLength}},{key:"bitsAvailable",get:function(){return this.bitLength-this.index}},{key:"skipBits",value:function(e){if(this.bitsAvailable<e)return!1;this.index+=e}},{key:"readBits",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.getBits(e,this.index,t);return r}},{key:"getBits",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.bitsAvailable<e)return 0;var n=t%8,i=this.data[t/8|0]&255>>>n,o=8-n;if(o>=e)return r&&(this.index+=e),i>>o-e;r&&(this.index+=o);var a=e-o;return i<<a|this.getBits(a,t+o,r)}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitLength-this.index;++e)if(0!==this.getBits(1,this.index+e,!1))return this.index+=e,e;return e}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readBits(8*e)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}}]),e}(),A=function(){function e(t){n(this,e),this.remuxer=t,this.track=t.mp4track}return o(e,[{key:"parseSPS",value:function(t){var r=e.readSPS(new Uint8Array(t));this.track.fps=r.fps,this.track.width=r.width,this.track.height=r.height,this.track.sps=[new Uint8Array(t)],this.track.codec="avc1.";for(var n=new DataView(t.buffer,t.byteOffset+1,4),i=0;i<3;++i){var o=n.getUint8(i).toString(16);o.length<2&&(o="0"+o),this.track.codec+=o}}},{key:"parsePPS",value:function(e){this.track.pps=[new Uint8Array(e)]}},{key:"parseNAL",value:function(e){if(!e)return!1;var t=!1;switch(e.type()){case w.IDR:case w.NDR:t=!0;break;case w.PPS:this.track.pps||(this.parsePPS(e.getPayload()),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),t=!0;break;case w.SPS:this.track.sps||(this.parseSPS(e.getPayload()),!this.remuxer.readyToDecode&&this.track.pps&&this.track.sps&&(this.remuxer.readyToDecode=!0)),t=!0;break;case w.AUD:b("AUD - ignoing");break;case w.SEI:b("SEI - ignoing")}return t}}],[{key:"extractNALu",value:function(e){for(var t,r,n=0,i=e.byteLength,o=0,a=[],s=0;n<i;)switch(t=e[n++],o){case 0:0===t&&(o=1);break;case 1:o=0===t?2:0;break;case 2:case 3:0===t?o=3:1===t&&n<i?(s!=n-o-1&&a.push(e.subarray(s,n-o-1)),s=n,o=0):o=0}return s<i&&(r=e.subarray(s,i)),[a,r]}},{key:"skipScalingList",value:function(e,t){for(var r=8,n=8,i=0;i<t;i++)0!==n&&(n=(r+e.readEG()+256)%256),r=0===n?r:n}},{key:"readSPS",value:function(t){var r,n,i,o,a,s,u=new T(t),l=0,c=0,f=0,h=0,d=1,p=0;u.readUByte();for(var v=[],m=t.byteLength,g=1;g<m;g++)g+2<m&&3===u.readBits(24,!1)?(v.push(u.readBits(8)),v.push(u.readBits(8)),g+=2,u.readBits(8)):v.push(u.readBits(8));if(u.setData(new Uint8Array(v)),r=u.readUByte(),u.readBits(5),u.skipBits(3),u.readUByte(),u.skipUEG(),100===r||110===r||122===r||244===r||44===r||83===r||86===r||118===r||128===r){var y=u.readUEG();if(3===y&&u.skipBits(1),u.skipUEG(),u.skipUEG(),u.skipBits(1),u.readBoolean()){s=3!==y?8:12;for(var b=0;b<s;++b)u.readBoolean()&&(b<6?e.skipScalingList(u,16):e.skipScalingList(u,64))}}u.skipUEG();var _=u.readUEG();if(0===_)u.readUEG();else if(1===_){u.skipBits(1),u.skipEG(),u.skipEG(),n=u.readUEG();for(var w=0;w<n;++w)u.skipEG()}if(u.skipUEG(),u.skipBits(1),i=u.readUEG(),o=u.readUEG(),0===(a=u.readBits(1))&&u.skipBits(1),u.skipBits(1),u.readBoolean()&&(l=u.readUEG(),c=u.readUEG(),f=u.readUEG(),h=u.readUEG()),u.readBoolean()){if(u.readBoolean()){var E;switch(u.readUByte()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[u.readUByte()<<8|u.readUByte(),u.readUByte()<<8|u.readUByte()]}E&&E[0]>0&&E[1]>0&&(d=E[0]/E[1])}if(u.readBoolean()&&u.skipBits(1),u.readBoolean()&&(u.skipBits(4),u.readBoolean()&&u.skipBits(24)),u.readBoolean()&&(u.skipUEG(),u.skipUEG()),u.readBoolean()){var S=u.readUInt(),A=u.readUInt();u.readBoolean()&&(p=A/(2*S))}}return{fps:p>0?p:void 0,width:Math.ceil((16*(i+1)-2*l-2*c)*d),height:(2-a)*(o+1)*16-(a?2:4)*(f+h)}}},{key:"parseHeader",value:function(e){var t=new T(e.getPayload());t.readUByte(),e.isfmb=0===t.readUEG(),e.stype=t.readUEG()}}]),e}(),x=function(){function e(t){n(this,e),this.remuxer=t,this.track=t.mp4track}return o(e,[{key:"setAACConfig",value:function(){var t,r,n,i=new Uint8Array(2),o=e.getAACHeaderData;o&&(t=1+((192&o[2])>>>6),r=(60&o[2])>>>2,n=(1&o[2])<<2,n|=(192&o[3])>>>6,i[0]=t<<3,i[0]|=(14&r)>>1,i[1]|=(1&r)<<7,i[1]|=n<<3,this.track.codec="mp4a.40."+t,this.track.channelCount=n,this.track.config=i,this.remuxer.readyToDecode=!0)}}],[{key:"samplingRateMap",get:function(){return[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350]}},{key:"getAACHeaderData",get:function(){return S}},{key:"getHeaderLength",value:function(e){return 1&e[1]?7:9}},{key:"getFrameLength",value:function(e){return(3&e[3])<<11|e[4]<<3|(224&e[5])>>>5}},{key:"isAACPattern",value:function(e){return 255===e[0]&&240==(240&e[1])&&0==(6&e[1])}},{key:"extractAAC",value:function(t){var r,n,i=0,o=t.byteLength,a=[];if(!e.isAACPattern(t))return _("Invalid ADTS audio format"),a;for(r=e.getHeaderLength(t),S||(S=t.subarray(0,r));i<o;)n=e.getFrameLength(t),a.push(t.subarray(r,n)),t=t.slice(n),i+=n;return a}}]),e}(),D=function(){function e(t){n(this,e),this.listener={},this.type=""|t}return o(e,[{key:"on",value:function(e,t){return this.listener[e]||(this.listener[e]=[]),this.listener[e].push(t),!0}},{key:"off",value:function(e,t){if(this.listener[e]){var r=this.listener[e].indexOf(t);return r>-1&&this.listener[e].splice(r,1),!0}return!1}},{key:"offAll",value:function(){this.listener={}}},{key:"dispatch",value:function(e,t){return!!this.listener[e]&&(this.listener[e].map((function(e){e.apply(null,[t])})),!0)}}]),e}(),O=function(){function e(){n(this,e)}return o(e,null,[{key:"init",value:function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i,o=8,a=r.length,s=a;a--;)o+=r[a].byteLength;for((i=new Uint8Array(o))[0]=o>>24&255,i[1]=o>>16&255,i[2]=o>>8&255,i[3]=255&o,i.set(e,4),a=0,o=8;a<s;++a)i.set(r[a],o),o+=r[a].byteLength;return i}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,r){return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))}},{key:"moov",value:function(t,r,n){for(var i=t.length,o=[];i--;)o[i]=e.trak(t[i]);return e.box.apply(null,[e.types.moov,e.mvhd(n,r)].concat(o).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))}},{key:"mvhd",value:function(t,r){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,n)}},{key:"sdtp",value:function(t){var r,n,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var r,n,i,o=[],a=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,98,105,110,101,108,112,114,111,46,114,117,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(e){var t=e.config.byteLength,r=new Uint8Array(26+t+3);return r.set([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5,t]),r.set(e.config,26),r.set([6,1,2],26+t),r}},{key:"mp4a",value:function(t){var r=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"stsd",value:function(t){return"audio"===t.type?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var r=t.id,n=t.duration,i=t.width,o=t.height,a=t.volume;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,a>>0&255,a%1*10>>0&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,r){var n=e.sdtp(t),i=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.trun(t,n.length+16+16+8+16+8+8),n)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,r){var n,i,o,a,s,u,l=t.samples||[],c=l.length,f=12+16*c,h=new Uint8Array(f);for(r+=8+f,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<c;n++)o=(i=l[n]).duration,a=i.size,s=i.flags,u=i.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*n);return e.box(e.types.trun,h)}},{key:"initSegment",value:function(t,r,n){e.types||e.init();var i,o=e.moov(t,r,n);return(i=new Uint8Array(e.FTYP.byteLength+o.byteLength)).set(e.FTYP),i.set(o,e.FTYP.byteLength),i}}]),e}(),I=1,C=function(){function e(){n(this,e)}return o(e,[{key:"flush",value:function(){this.mp4track.len=0,this.mp4track.samples=[]}},{key:"isReady",value:function(){return!(!this.readyToDecode||!this.samples.length)||null}}],[{key:"getTrackID",value:function(){return I++}}]),e}(),k=function(e){s(r,e);var t=h(r);function r(e){var i;return n(this,r),(i=t.call(this)).readyToDecode=!1,i.nextDts=0,i.dts=0,i.mp4track={id:C.getTrackID(),type:"audio",channelCount:0,len:0,fragmented:!0,timescale:e,duration:e,samples:[],config:"",codec:""},i.samples=[],i.aac=new x(c(i)),i}return o(r,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.codec="",this.mp4track.channelCount="",this.mp4track.config="",this.mp4track.timescale=this.timescale,this.nextDts=0,this.dts=0}},{key:"remux",value:function(e){if(e.length>0)for(var t=0;t<e.length;t++){var r=e[t],n=r.units,i=n.byteLength;this.samples.push({units:n,size:i,duration:r.duration}),this.mp4track.len+=i,this.readyToDecode||this.aac.setAACConfig()}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var e,t,r=new Uint8Array(this.mp4track.len),n=0,i=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var o=this.samples.shift();o.units,(t=o.duration)<=0?(b("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(t)),this.mp4track.len-=o.size):(this.nextDts+=t,e={size:o.size,duration:t,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},r.set(o.units,n),n+=o.size,i.push(e))}return i.length?new Uint8Array(r.buffer,0,this.mp4track.len):null}}]),r}(C),R=function(e){s(r,e);var t=h(r);function r(e){var i;return n(this,r),(i=t.call(this)).readyToDecode=!1,i.nextDts=0,i.dts=0,i.mp4track={id:C.getTrackID(),type:"video",len:0,fragmented:!0,sps:"",pps:"",fps:30,width:0,height:0,timescale:e,duration:e,samples:[]},i.samples=[],i.h264=new A(c(i)),i}return o(r,[{key:"resetTrack",value:function(){this.readyToDecode=!1,this.mp4track.sps="",this.mp4track.pps="",this.nextDts=0,this.dts=0}},{key:"remux",value:function(e){var t,r=m(e);try{for(r.s();!(t=r.n()).done;){var n,i=t.value,o=[],a=0,s=m(i.units);try{for(s.s();!(n=s.n()).done;){var u=n.value;this.h264.parseNAL(u)&&(o.push(u),a+=u.getSize())}}catch(e){s.e(e)}finally{s.f()}o.length>0&&this.readyToDecode&&(this.mp4track.len+=a,this.samples.push({units:o,size:a,keyFrame:i.keyFrame,duration:i.duration}))}}catch(e){r.e(e)}finally{r.f()}}},{key:"getPayload",value:function(){if(!this.isReady())return null;var e,t,r=new Uint8Array(this.mp4track.len),n=0,i=this.mp4track.samples;for(this.dts=this.nextDts;this.samples.length;){var o=this.samples.shift(),a=o.units;if((t=o.duration)<=0)b("remuxer: invalid sample duration at DTS: ".concat(this.nextDts," :").concat(t)),this.mp4track.len-=o.size;else{this.nextDts+=t,e={size:o.size,duration:t,cts:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,isNonSync:o.keyFrame?0:1,dependsOn:o.keyFrame?2:1}};var s,u=m(a);try{for(u.s();!(s=u.n()).done;){var l=s.value;r.set(l.getData(),n),n+=l.getSize()}}catch(e){u.e(e)}finally{u.f()}i.push(e)}}return i.length?new Uint8Array(r.buffer,0,this.mp4track.len):null}}]),r}(C),P=function(e){s(r,e);var t=h(r);function r(e){var i;return n(this,r),(i=t.call(this,"remuxer")).initialized=!1,i.trackTypes=[],i.tracks={},i.seq=1,i.env=e,i.timescale=1e3,i.mediaDuration=0,i}return o(r,[{key:"addTrack",value:function(e){"video"!==e&&"both"!==e||(this.tracks.video=new R(this.timescale),this.trackTypes.push("video")),"audio"!==e&&"both"!==e||(this.tracks.audio=new k(this.timescale),this.trackTypes.push("audio"))}},{key:"reset",value:function(){var e,t=m(this.trackTypes);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.tracks[r].resetTrack()}}catch(e){t.e(e)}finally{t.f()}this.initialized=!1}},{key:"destroy",value:function(){this.tracks={},this.offAll()}},{key:"flush",value:function(){if(this.initialized){var e,t=m(this.trackTypes);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=this.tracks[r],i=n.getPayload();if(i&&i.byteLength){var o={type:r,payload:E(O.moof(this.seq,n.dts,n.mp4track),O.mdat(i)),dts:n.dts};"video"===r&&(o.fps=n.mp4track.fps),this.dispatch("buffer",o);var a=(s=n.dts/this.timescale,u=void 0,l=void 0,c=void 0,f=void 0,f="",u=Math.floor(s),(l=parseInt(u/3600,10)%24)>0&&(f+=(l<10?"0"+l:l)+":"),f+=((c=parseInt(u/60,10)%60)<10?"0"+c:c)+":"+((u=u<0?0:u%60)<10?"0"+u:u));b("put segment (".concat(r,"): dts: ").concat(n.dts," frames: ").concat(n.mp4track.samples.length," second: ").concat(a)),n.flush(),this.seq++}}}catch(e){t.e(e)}finally{t.f()}}else this.isReady()&&(this.dispatch("ready"),this.initSegment(),this.initialized=!0,this.flush());var s,u,l,c,f}},{key:"initSegment",value:function(){var e,t=[],r=m(this.trackTypes);try{for(r.s();!(e=r.n()).done;){var n=e.value,i=this.tracks[n];if("browser"==this.env){var o={type:n,payload:O.initSegment([i.mp4track],this.mediaDuration,this.timescale)};this.dispatch("buffer",o)}else t.push(i.mp4track)}}catch(e){r.e(e)}finally{r.f()}if("node"==this.env){var a={type:"all",payload:O.initSegment(t,this.mediaDuration,this.timescale)};this.dispatch("buffer",a)}b("Initial segment generated.")}},{key:"isReady",value:function(){var e,t=m(this.trackTypes);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!this.tracks[r].readyToDecode||!this.tracks[r].samples.length)return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"remux",value:function(e){var t,r=m(this.trackTypes);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=e[n];"audio"===n&&this.tracks.video&&!this.tracks.video.readyToDecode||i.length>0&&this.tracks[n].remux(i)}}catch(e){r.e(e)}finally{r.f()}this.flush()}}]),r}(D),M=function(e){s(r,e);var t=h(r);function r(e,i){var o;return n(this,r),(o=t.call(this,"buffer")).type=i,o.queue=new Uint8Array,o.cleaning=!1,o.pendingCleaning=0,o.cleanOffset=30,o.cleanRanges=[],o.sourceBuffer=e,o.sourceBuffer.addEventListener("updateend",(function(){o.pendingCleaning>0&&(o.initCleanup(o.pendingCleaning),o.pendingCleaning=0),o.cleaning=!1,o.cleanRanges.length&&o.doCleanup()})),o.sourceBuffer.addEventListener("error",(function(){o.dispatch("error",{type:o.type,name:"buffer",error:"buffer error"})})),o}return o(r,[{key:"destroy",value:function(){this.queue=null,this.sourceBuffer=null,this.offAll()}},{key:"doCleanup",value:function(){if(this.cleanRanges.length){var e=this.cleanRanges.shift();b("".concat(this.type," remove range [").concat(e[0]," - ").concat(e[1],")")),this.cleaning=!0,this.sourceBuffer.remove(e[0],e[1])}else this.cleaning=!1}},{key:"initCleanup",value:function(e){try{if(this.sourceBuffer.updating)return void(this.pendingCleaning=e);if(this.sourceBuffer.buffered&&this.sourceBuffer.buffered.length&&!this.cleaning){for(var t=0;t<this.sourceBuffer.buffered.length;++t){var r=this.sourceBuffer.buffered.start(t),n=this.sourceBuffer.buffered.end(t);e-r>this.cleanOffset&&r<(n=e-this.cleanOffset)&&this.cleanRanges.push([r,n])}this.doCleanup()}}catch(e){_("Error occured while cleaning ".concat(this.type," buffer - ").concat(e.name,": ").concat(e.message))}}},{key:"doAppend",value:function(){if(this.queue.length&&this.sourceBuffer&&!this.sourceBuffer.updating)try{this.sourceBuffer.appendBuffer(this.queue),this.queue=new Uint8Array}catch(t){var e="unexpectedError";"QuotaExceededError"===t.name?(b("".concat(this.type," buffer quota full")),e="QuotaExceeded"):(_("Error occured while appending ".concat(this.type," buffer - ").concat(t.name,": ").concat(t.message)),e="InvalidStateError"),this.dispatch("error",{type:this.type,name:e,error:"buffer error"})}}},{key:"feed",value:function(e){this.queue=E(this.queue,e)}}]),r}(D);return function(i){s(u,i);var a=h(u);function u(e){var i;n(this,u),(i=a.call(this,"jmuxer")).isReset=!1;return i.options=Object.assign({},{node:"",mode:"both",flushingTime:500,maxDelay:500,clearBuffer:!0,fps:30,readFpsFromTrack:!1,debug:!1,onReady:function(){},onError:function(){}},e),i.env="object"===("undefined"==typeof t?"undefined":r(t))&&"undefined"==typeof window?"node":"browser",i.options.debug&&(g=console.log,y=console.error),i.options.fps||(i.options.fps=30),i.frameDuration=1e3/i.options.fps|0,i.remuxController=new P(i.env),i.remuxController.addTrack(i.options.mode),i.initData(),i.remuxController.on("buffer",i.onBuffer.bind(c(i))),"browser"==i.env&&(i.remuxController.on("ready",i.createBuffer.bind(c(i))),i.initBrowser()),i}return o(u,[{key:"initData",value:function(){this.lastCleaningTime=Date.now(),this.kfPosition=[],this.kfCounter=0,this.pendingUnits={},this.remainingData=new Uint8Array,this.startInterval()}},{key:"initBrowser",value:function(){"string"==typeof this.options.node&&""==this.options.node&&_("no video element were found to render, provide a valid video element"),this.node="string"==typeof this.options.node?document.getElementById(this.options.node):this.options.node,this.mseReady=!1,this.setupMSE()}},{key:"createStream",value:function(){var t=this.feed.bind(this),r=this.destroy.bind(this);return this.stream=new e.Duplex({writableObjectMode:!0,read:function(e){},write:function(e,r,n){t(e),n()},final:function(e){r(),e()}}),this.stream}},{key:"setupMSE",value:function(){if(window.MediaSource=window.MediaSource||window.WebKitMediaSource,!window.MediaSource)throw"Oops! Browser does not support media source extension.";this.isMSESupported=!!window.MediaSource,this.mediaSource=new MediaSource,this.url=URL.createObjectURL(this.mediaSource),this.node.src=this.url,this.mseEnded=!1,this.mediaSource.addEventListener("sourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("sourceclose",this.onMSEClose.bind(this)),this.mediaSource.addEventListener("webkitsourceopen",this.onMSEOpen.bind(this)),this.mediaSource.addEventListener("webkitsourceclose",this.onMSEClose.bind(this))}},{key:"endMSE",value:function(){if(!this.mseEnded)try{this.mseEnded=!0,this.mediaSource.endOfStream()}catch(e){_("mediasource is not available to end")}}},{key:"feed",value:function(e){var t,r,n,i=!1,o={video:[],audio:[]};if(e&&this.remuxController){if(n=e.duration?parseInt(e.duration):0,e.video){e.video=E(this.remainingData,e.video);var a=d(A.extractNALu(e.video),2);if(t=a[0],r=a[1],this.remainingData=r||new Uint8Array,!(t.length>0))return void _("Failed to extract any NAL units from video data:",r);o.video=this.getVideoFrames(t,n),i=!0}if(e.audio){if(!((t=x.extractAAC(e.audio)).length>0))return void _("Failed to extract audio data from:",e.audio);o.audio=this.getAudioFrames(t,n),i=!0}i?this.remuxController.remux(o):_("Input object must have video and/or audio property. Make sure it is a valid typed array")}}},{key:"getVideoFrames",value:function(e,t){var r,n=this,i=[],o=[],a=0,s=!1,u=!1;this.pendingUnits.units&&(i=this.pendingUnits.units,u=this.pendingUnits.vcl,s=this.pendingUnits.keyFrame,this.pendingUnits={});var l,c=m(e);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=new w(f);h.type()!==w.IDR&&h.type()!==w.NDR||A.parseHeader(h),i.length&&u&&(h.isfmb||!h.isvcl)&&(o.push({units:i,keyFrame:s}),i=[],s=!1,u=!1),i.push(h),s=s||h.isKeyframe(),u=u||h.isvcl}}catch(e){c.e(e)}finally{c.f()}if(i.length)if(t)if(u)o.push({units:i,keyFrame:s});else{var d=o.length-1;d>=0&&(o[d].units=o[d].units.concat(i))}else this.pendingUnits={units:i,keyFrame:s,vcl:u};return r=t?t/o.length|0:this.frameDuration,a=t?t-r*o.length:0,o.map((function(e){e.duration=r,a>0&&(e.duration++,a--),n.kfCounter++,e.keyFrame&&n.options.clearBuffer&&n.kfPosition.push(n.kfCounter*r/1e3)})),b("jmuxer: No. of frames of the last chunk: ".concat(o.length)),o}},{key:"getAudioFrames",value:function(e,t){var r,n,i=[],o=0,a=m(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;i.push({units:s})}}catch(e){a.e(e)}finally{a.f()}return r=t?t/i.length|0:this.frameDuration,o=t?t-r*i.length:0,i.map((function(e){e.duration=r,o>0&&(e.duration++,o--)})),i}},{key:"destroy",value:function(){if(this.stopInterval(),this.stream&&(this.remuxController.flush(),this.stream.push(null),this.stream=null),this.remuxController&&(this.remuxController.destroy(),this.remuxController=null),this.bufferControllers){for(var e in this.bufferControllers)this.bufferControllers[e].destroy();this.bufferControllers=null,this.endMSE()}this.node=!1,this.mseReady=!1,this.videoStarted=!1,this.mediaSource=null}},{key:"reset",value:function(){if(this.stopInterval(),this.isReset=!0,this.node.pause(),this.remuxController&&this.remuxController.reset(),this.bufferControllers){for(var e in this.bufferControllers)this.bufferControllers[e].destroy();this.bufferControllers=null,this.endMSE()}this.initData(),"browser"==this.env&&this.initBrowser(),b("JMuxer was reset")}},{key:"createBuffer",value:function(){if(this.mseReady&&this.remuxController&&this.remuxController.isReady()&&!this.bufferControllers)for(var e in this.bufferControllers={},this.remuxController.tracks){var t=this.remuxController.tracks[e];if(!u.isSupported("".concat(e,'/mp4; codecs="').concat(t.mp4track.codec,'"')))return _("Browser does not support codec"),!1;var r=this.mediaSource.addSourceBuffer("".concat(e,'/mp4; codecs="').concat(t.mp4track.codec,'"'));this.bufferControllers[e]=new M(r,e),this.bufferControllers[e].on("error",this.onBufferError.bind(this))}}},{key:"startInterval",value:function(){var e=this;this.interval=setInterval((function(){e.options.flushingTime?e.applyAndClearBuffer():e.bufferControllers&&e.cancelDelay()}),this.options.flushingTime||1e3)}},{key:"stopInterval",value:function(){this.interval&&clearInterval(this.interval)}},{key:"cancelDelay",value:function(){if(this.node.buffered&&this.node.buffered.length>0&&!this.node.seeking){var e=this.node.buffered.end(0);e-this.node.currentTime>this.options.maxDelay/1e3&&(console.log("delay"),this.node.currentTime=e-.001)}}},{key:"releaseBuffer",value:function(){for(var e in this.bufferControllers)this.bufferControllers[e].doAppend()}},{key:"applyAndClearBuffer",value:function(){this.bufferControllers&&(this.releaseBuffer(),this.clearBuffer())}},{key:"getSafeClearOffsetOfBuffer",value:function(e){for(var t,r="audio"===this.options.mode&&e||0,n=0;n<this.kfPosition.length&&!(this.kfPosition[n]>=e);n++)t=this.kfPosition[n];return t&&(this.kfPosition=this.kfPosition.filter((function(e){return e<t&&(r=e),e>=t}))),r}},{key:"clearBuffer",value:function(){if(this.options.clearBuffer&&Date.now()-this.lastCleaningTime>1e4){for(var e in this.bufferControllers){var t=this.getSafeClearOffsetOfBuffer(this.node.currentTime);this.bufferControllers[e].initCleanup(t)}this.lastCleaningTime=Date.now()}}},{key:"onBuffer",value:function(e){this.options.readFpsFromTrack&&void 0!==e.fps&&this.options.fps!=e.fps&&(this.options.fps=e.fps,this.frameDuration=Math.ceil(1e3/e.fps),b("JMuxer changed FPS to ".concat(e.fps," from track data"))),"browser"==this.env?this.bufferControllers&&this.bufferControllers[e.type]&&this.bufferControllers[e.type].feed(e.payload):this.stream&&this.stream.push(e.payload),0===this.options.flushingTime&&this.applyAndClearBuffer()}},{key:"onMSEOpen",value:function(){this.mseReady=!0,URL.revokeObjectURL(this.url),"function"==typeof this.options.onReady&&this.options.onReady.call(null,this.isReset)}},{key:"onMSEClose",value:function(){this.mseReady=!1,this.videoStarted=!1}},{key:"onBufferError",value:function(e){if("QuotaExceeded"==e.name)return b("JMuxer cleaning ".concat(e.type," buffer due to QuotaExceeded error")),void this.bufferControllers[e.type].initCleanup(this.node.currentTime);"InvalidStateError"==e.name?(b("JMuxer is reseting due to InvalidStateError"),this.reset()):this.endMSE(),"function"==typeof this.options.onError&&this.options.onError.call(null,e)}}],[{key:"isSupported",value:function(e){return window.MediaSource&&window.MediaSource.isTypeSupported(e)}}]),u}(D)}))}).call(this,r(3))},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return r.call(e)=="[object Array]"}},function(e,t,r){"use strict";t.byteLength=c;t.toByteArray=h;t.fromByteArray=v;var n=[];var i=[];var o=typeof Uint8Array!=="undefined"?Uint8Array:Array;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var s=0,u=a.length;s<u;++s){n[s]=a[s];i[a.charCodeAt(s)]=s}i["-".charCodeAt(0)]=62;i["_".charCodeAt(0)]=63;function l(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var r=e.indexOf("=");if(r===-1)r=t;var n=r===t?0:4-r%4;return[r,n]}function c(e){var t=l(e);var r=t[0];var n=t[1];return(r+n)*3/4-n}function f(e,t,r){return(t+r)*3/4-r}function h(e){var t;var r=l(e);var n=r[0];var a=r[1];var s=new o(f(e,n,a));var u=0;var c=a>0?n-4:n;var h;for(h=0;h<c;h+=4){t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)];s[u++]=t>>16&255;s[u++]=t>>8&255;s[u++]=t&255}if(a===2){t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4;s[u++]=t&255}if(a===1){t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2;s[u++]=t>>8&255;s[u++]=t&255}return s}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function p(e,t,r){var n;var i=[];for(var o=t;o<r;o+=3){n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255);i.push(d(n))}return i.join("")}function v(e){var t;var r=e.length;var i=r%3;var o=[];var a=16383;for(var s=0,u=r-i;s<u;s+=a){o.push(p(e,s,s+a>u?u:s+a))}if(i===1){t=e[r-1];o.push(n[t>>2]+n[t<<4&63]+"==")}else if(i===2){t=(e[r-2]<<8)+e[r-1];o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")}return o.join("")}},function(e,t){t.read=function(e,t,r,n,i){var o,a;var s=i*8-n-1;var u=(1<<s)-1;var l=u>>1;var c=-7;var f=r?i-1:0;var h=r?-1:1;var d=e[t+f];f+=h;o=d&(1<<-c)-1;d>>=-c;c+=s;for(;c>0;o=o*256+e[t+f],f+=h,c-=8){}a=o&(1<<-c)-1;o>>=-c;c+=n;for(;c>0;a=a*256+e[t+f],f+=h,c-=8){}if(o===0){o=1-l}else if(o===u){return a?NaN:(d?-1:1)*Infinity}else{a=a+Math.pow(2,n);o=o-l}return(d?-1:1)*a*Math.pow(2,o-n)};t.write=function(e,t,r,n,i,o){var a,s,u;var l=o*8-i-1;var c=(1<<l)-1;var f=c>>1;var h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var d=n?0:o-1;var p=n?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){s=isNaN(t)?1:0;a=c}else{a=Math.floor(Math.log(t)/Math.LN2);if(t*(u=Math.pow(2,-a))<1){a--;u*=2}if(a+f>=1){t+=h/u}else{t+=h*Math.pow(2,1-f)}if(t*u>=2){a++;u/=2}if(a+f>=c){s=0;a=c}else if(a+f>=1){s=(t*u-1)*Math.pow(2,i);a=a+f}else{s=t*Math.pow(2,f-1)*Math.pow(2,i);a=0}}for(;i>=8;e[r+d]=s&255,d+=p,s/=256,i-=8){}a=a<<i|s;l+=i;for(;l>0;e[r+d]=a&255,d+=p,a/=256,l-=8){}e[r+d-p]|=v*128}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return r.call(e)=="[object Array]"}},function(e,t){},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=r(21).Buffer;var o=r(175);function a(e,t,r){e.copy(t,r)}e.exports=function(){function e(){n(this,e);this.head=null;this.tail=null;this.length=0}e.prototype.push=function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length};e.prototype.unshift=function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length};e.prototype.shift=function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t};e.prototype.clear=function e(){this.head=this.tail=null;this.length=0};e.prototype.join=function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n};e.prototype.concat=function e(t){if(this.length===0)return i.alloc(0);if(this.length===1)return this.head.data;var r=i.allocUnsafe(t>>>0);var n=this.head;var o=0;while(n){a(n.data,r,o);o+=n.data.length;n=n.next}return r};return e}();if(o&&o.inspect&&o.inspect.custom){e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e}}},function(e,t){},function(e,t,r){(function(e,t){(function(e,r){"use strict";if(e.setImmediate){return}var n=1;var i={};var o=false;var a=e.document;var s;function u(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var r=0;r<t.length;r++){t[r]=arguments[r+1]}var o={callback:e,args:t};i[n]=o;s(n);return n++}function l(e){delete i[e]}function c(e){var t=e.callback;var n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n);break}}function f(e){if(o){setTimeout(f,0,e)}else{var t=i[e];if(t){o=true;try{c(t)}finally{l(e);o=false}}}}function h(){s=function(e){t.nextTick((function(){f(e)}))}}function d(){if(e.postMessage&&!e.importScripts){var t=true;var r=e.onmessage;e.onmessage=function(){t=false};e.postMessage("","*");e.onmessage=r;return t}}function p(){var t="setImmediate$"+Math.random()+"$";var r=function(r){if(r.source===e&&typeof r.data==="string"&&r.data.indexOf(t)===0){f(+r.data.slice(t.length))}};if(e.addEventListener){e.addEventListener("message",r,false)}else{e.attachEvent("onmessage",r)}s=function(r){e.postMessage(t+r,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;f(t)};s=function(t){e.port2.postMessage(t)}}function m(){var e=a.documentElement;s=function(t){var r=a.createElement("script");r.onreadystatechange=function(){f(t);r.onreadystatechange=null;e.removeChild(r);r=null};e.appendChild(r)}}function g(){s=function(e){setTimeout(f,0,e)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e;if({}.toString.call(e.process)==="[object process]"){h()}else if(d()){p()}else if(e.MessageChannel){v()}else if(a&&"onreadystatechange"in a.createElement("script")){m()}else{g()}y.setImmediate=u;y.clearImmediate=l})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(this,r(5),r(3))},function(e,t,r){"use strict";e.exports=o;var n=r(89);var i=Object.create(r(31));i.inherits=r(12);i.inherits(o,n);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(52)},function(e,t,r){e.exports=r(20)},function(e,t,r){e.exports=r(30).Transform},function(e,t,r){e.exports=r(30).PassThrough},function(e,t,r){"use strict";r.r(t);var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return n(e,t)};function i(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function o(e){var t=typeof Symbol==="function"&&e[Symbol.iterator],r=0;if(t)return t.call(e);return{next:function(){if(e&&r>=e.length)e=void 0;return{value:e&&e[r++],done:!e}}}}function a(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var u=function(){function e(e,t){this.target=t;this.type=e}return e}();var l=function(e){i(t,e);function t(t,r){var n=e.call(this,"error",r)||this;n.message=t.message;n.error=t;return n}return t}(u);var c=function(e){i(t,e);function t(t,r,n){if(t===void 0){t=1e3}if(r===void 0){r=""}var i=e.call(this,"close",n)||this;i.wasClean=true;i.code=t;i.reason=r;return i}return t}(u);var f=function(){if(typeof WebSocket!=="undefined"){return WebSocket}};var h=function(e){return typeof e!=="undefined"&&!!e&&e.CLOSING===2};var d={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Infinity,maxEnqueuedMessages:Infinity,startClosed:false,debug:false};var p=function(){function e(e,t,r){var n=this;if(r===void 0){r={}}this._listeners={error:[],message:[],open:[],close:[]};this._retryCount=-1;this._shouldReconnect=true;this._connectLock=false;this._binaryType="blob";this._closeCalled=false;this._messageQueue=[];this.onclose=null;this.onerror=null;this.onmessage=null;this.onopen=null;this._handleOpen=function(e){n._debug("open event");var t=n._options.minUptime,r=t===void 0?d.minUptime:t;clearTimeout(n._connectTimeout);n._uptimeTimeout=setTimeout((function(){return n._acceptOpen()}),r);n._ws.binaryType=n._binaryType;n._messageQueue.forEach((function(e){return n._ws.send(e)}));n._messageQueue=[];if(n.onopen){n.onopen(e)}n._listeners.open.forEach((function(t){return n._callEventListener(e,t)}))};this._handleMessage=function(e){n._debug("message event");if(n.onmessage){n.onmessage(e)}n._listeners.message.forEach((function(t){return n._callEventListener(e,t)}))};this._handleError=function(e){n._debug("error event",e.message);n._disconnect(undefined,e.message==="TIMEOUT"?"timeout":undefined);if(n.onerror){n.onerror(e)}n._debug("exec error listeners");n._listeners.error.forEach((function(t){return n._callEventListener(e,t)}));n._connect()};this._handleClose=function(e){n._debug("close event");n._clearTimeouts();if(n._shouldReconnect){n._connect()}if(n.onclose){n.onclose(e)}n._listeners.close.forEach((function(t){return n._callEventListener(e,t)}))};this._url=e;this._protocols=t;this._options=r;if(this._options.startClosed){this._shouldReconnect=false}this._connect()}Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:true,configurable:true});Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:true,configurable:true});Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:true,configurable:true});Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e;if(this._ws){this._ws.binaryType=e}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce((function(e,t){if(typeof t==="string"){e+=t.length}else if(t instanceof Blob){e+=t.size}else{e+=t.byteLength}return e}),0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"readyState",{get:function(){if(this._ws){return this._ws.readyState}return this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:true,configurable:true});e.prototype.close=function(e,t){if(e===void 0){e=1e3}this._closeCalled=true;this._shouldReconnect=false;this._clearTimeouts();if(!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,t)};e.prototype.reconnect=function(e,t){this._shouldReconnect=true;this._closeCalled=false;this._retryCount=-1;if(!this._ws||this._ws.readyState===this.CLOSED){this._connect()}else{this._disconnect(e,t);this._connect()}};e.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN){this._debug("send",e);this._ws.send(e)}else{var t=this._options.maxEnqueuedMessages,r=t===void 0?d.maxEnqueuedMessages:t;if(this._messageQueue.length<r){this._debug("enqueue",e);this._messageQueue.push(e)}}};e.prototype.addEventListener=function(e,t){if(this._listeners[e]){this._listeners[e].push(t)}};e.prototype.dispatchEvent=function(e){var t,r;var n=this._listeners[e.type];if(n){try{for(var i=o(n),a=i.next();!a.done;a=i.next()){var s=a.value;this._callEventListener(e,s)}}catch(e){t={error:e}}finally{try{if(a&&!a.done&&(r=i.return))r.call(i)}finally{if(t)throw t.error}}}return true};e.prototype.removeEventListener=function(e,t){if(this._listeners[e]){this._listeners[e]=this._listeners[e].filter((function(e){return e!==t}))}};e.prototype._debug=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(this._options.debug){console.log.apply(console,s(["RWS>"],e))}};e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,r=t===void 0?d.reconnectionDelayGrowFactor:t,n=e.minReconnectionDelay,i=n===void 0?d.minReconnectionDelay:n,o=e.maxReconnectionDelay,a=o===void 0?d.maxReconnectionDelay:o;var s=0;if(this._retryCount>0){s=i*Math.pow(r,this._retryCount-1);if(s>a){s=a}}this._debug("next delay",s);return s};e.prototype._wait=function(){var e=this;return new Promise((function(t){setTimeout(t,e._getNextDelay())}))};e.prototype._getNextUrl=function(e){if(typeof e==="string"){return Promise.resolve(e)}if(typeof e==="function"){var t=e();if(typeof t==="string"){return Promise.resolve(t)}if(!!t.then){return t}}throw Error("Invalid URL")};e.prototype._connect=function(){var e=this;if(this._connectLock||!this._shouldReconnect){return}this._connectLock=true;var t=this._options,r=t.maxRetries,n=r===void 0?d.maxRetries:r,i=t.connectionTimeout,o=i===void 0?d.connectionTimeout:i,a=t.WebSocket,s=a===void 0?f():a;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++;this._debug("connect",this._retryCount);this._removeListeners();if(!h(s)){throw Error("No valid WebSocket class provided")}this._wait().then((function(){return e._getNextUrl(e._url)})).then((function(t){if(e._closeCalled){return}e._debug("connect",{url:t,protocols:e._protocols});e._ws=e._protocols?new s(t,e._protocols):new s(t);e._ws.binaryType=e._binaryType;e._connectLock=false;e._addListeners();e._connectTimeout=setTimeout((function(){return e._handleTimeout()}),o)}))};e.prototype._handleTimeout=function(){this._debug("timeout event");this._handleError(new l(Error("TIMEOUT"),this))};e.prototype._disconnect=function(e,t){if(e===void 0){e=1e3}this._clearTimeouts();if(!this._ws){return}this._removeListeners();try{this._ws.close(e,t);this._handleClose(new c(e,t,this))}catch(e){}};e.prototype._acceptOpen=function(){this._debug("accept open");this._retryCount=0};e.prototype._callEventListener=function(e,t){if("handleEvent"in t){t.handleEvent(e)}else{t(e)}};e.prototype._removeListeners=function(){if(!this._ws){return}this._debug("removeListeners");this._ws.removeEventListener("open",this._handleOpen);this._ws.removeEventListener("close",this._handleClose);this._ws.removeEventListener("message",this._handleMessage);this._ws.removeEventListener("error",this._handleError)};e.prototype._addListeners=function(){if(!this._ws){return}this._debug("addListeners");this._ws.addEventListener("open",this._handleOpen);this._ws.addEventListener("close",this._handleClose);this._ws.addEventListener("message",this._handleMessage);this._ws.addEventListener("error",this._handleError)};e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout);clearTimeout(this._uptimeTimeout)};return e}();t["default"]=p},function(e,t,r){"use strict";r.r(t);r.d(t,"InvalidTokenError",(function(){return a}));function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,a=0,s="";i=t.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?s+=String.fromCharCode(255&r>>(-2*o&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return i(t)}}function a(e){this.message=e}function s(e,t){if("string"!=typeof e)throw new a("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[r]))}catch(e){throw new a("Invalid token specified: "+e.message)}}a.prototype=new Error,a.prototype.name="InvalidTokenError";t["default"]=s},function(e,t,r){(function(t,r){!function(t,r){true?e.exports=r():undefined}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=95)}([function(e,t,r){var n=r(3),i=r(35),o=r(10),a=r(18),s=r(16),u=function(e,t,r){var l,c,f,h,d=e&u.F,p=e&u.G,v=e&u.S,m=e&u.P,g=e&u.B,y=p?n:v?n[t]||(n[t]={}):(n[t]||{}).prototype,b=p?i:i[t]||(i[t]={}),_=b.prototype||(b.prototype={});for(l in p&&(r=t),r)f=((c=!d&&y&&void 0!==y[l])?y:r)[l],h=g&&c?s(f,n):m&&"function"==typeof f?s(Function.call,f):f,y&&a(y,l,f,e&u.U),b[l]!=f&&o(b,l,h),m&&_[l]!=f&&(_[l]=f)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){var n=r(1);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(71)("wks"),i=r(23),o=r(3).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(19),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(2),i=r(67),o=r(36),a=Object.defineProperty;t.f=r(8)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(7),i=r(22);e.exports=r(8)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(0),i=r(35),o=r(4);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",a)}},function(e,t,r){var n=r(45),i=r(20);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(20);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";if(r(8)){var n=r(44),i=r(3),o=r(4),a=r(0),s=r(43),u=r(68),l=r(16),c=r(31),f=r(22),h=r(10),d=r(30),p=r(19),v=r(6),m=r(69),g=r(24),y=r(36),b=r(9),_=r(73),w=r(1),E=r(13),S=r(51),T=r(39),A=r(26),x=r(37).f,D=r(52),O=r(23),I=r(5),C=r(34),k=r(46),R=r(72),P=r(53),M=r(25),L=r(54),N=r(50),F=r(49),j=r(77),B=r(7),U=r(17),z=B.f,$=U.f,G=i.RangeError,H=i.TypeError,W=i.Uint8Array,V=Array.prototype,q=u.ArrayBuffer,J=u.DataView,Y=C(0),K=C(2),X=C(3),Z=C(4),Q=C(5),ee=C(6),te=k(!0),re=k(!1),ne=P.values,ie=P.keys,oe=P.entries,ae=V.lastIndexOf,se=V.reduce,ue=V.reduceRight,le=V.join,ce=V.sort,fe=V.slice,he=V.toString,de=V.toLocaleString,pe=I("iterator"),ve=I("toStringTag"),me=O("typed_constructor"),ge=O("def_constructor"),ye=s.CONSTR,be=s.TYPED,_e=s.VIEW,we=C(1,(function(e,t){return xe(R(e,e[ge]),t)})),Ee=o((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),Se=!!W&&!!W.prototype.set&&o((function(){new W(1).set({})})),Te=function(e,t){var r=p(e);if(r<0||r%t)throw G("Wrong offset!");return r},Ae=function(e){if(w(e)&&be in e)return e;throw H(e+" is not a typed array!")},xe=function(e,t){if(!(w(e)&&me in e))throw H("It is not a typed array constructor!");return new e(t)},De=function(e,t){return Oe(R(e,e[ge]),t)},Oe=function(e,t){for(var r=0,n=t.length,i=xe(e,n);n>r;)i[r]=t[r++];return i},Ie=function(e,t,r){z(e,t,{get:function(){return this._d[r]}})},Ce=function(e){var t,r,n,i,o,a,s=E(e),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,h=D(s);if(void 0!=h&&!S(h)){for(a=h.call(s),n=[],t=0;!(o=a.next()).done;t++)n.push(o.value);s=n}for(f&&u>2&&(c=l(c,arguments[2],2)),t=0,r=v(s.length),i=xe(this,r);r>t;t++)i[t]=f?c(s[t],t):s[t];return i},ke=function(){for(var e=0,t=arguments.length,r=xe(this,t);t>e;)r[e]=arguments[e++];return r},Re=!!W&&o((function(){de.call(new W(1))})),Pe=function(){return de.apply(Re?fe.call(Ae(this)):Ae(this),arguments)},Me={copyWithin:function(e,t){return j.call(Ae(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Ae(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return F.apply(Ae(this),arguments)},filter:function(e){return De(this,K(Ae(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(Ae(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ae(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Y(Ae(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Ae(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ae(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Ae(this),arguments)},lastIndexOf:function(e){return ae.apply(Ae(this),arguments)},map:function(e){return we(Ae(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ae(this),arguments)},reduceRight:function(e){return ue.apply(Ae(this),arguments)},reverse:function(){for(var e,t=Ae(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return X(Ae(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(Ae(this),e)},subarray:function(e,t){var r=Ae(this),n=r.length,i=g(e,n);return new(R(r,r[ge]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,v((void 0===t?n:g(t,n))-i))}},Le=function(e,t){return De(this,fe.call(Ae(this),e,t))},Ne=function(e){Ae(this);var t=Te(arguments[1],1),r=this.length,n=E(e),i=v(n.length),o=0;if(i+t>r)throw G("Wrong length!");for(;o<i;)this[t+o]=n[o++]},Fe={entries:function(){return oe.call(Ae(this))},keys:function(){return ie.call(Ae(this))},values:function(){return ne.call(Ae(this))}},je=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Be=function(e,t){return je(e,t=y(t,!0))?f(2,e[t]):$(e,t)},Ue=function(e,t,r){return!(je(e,t=y(t,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?z(e,t,r):(e[t]=r.value,e)};ye||(U.f=Be,B.f=Ue),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Be,defineProperty:Ue}),o((function(){he.call({})}))&&(he=de=function(){return le.call(this)});var ze=d({},Me);d(ze,Fe),h(ze,pe,Fe.values),d(ze,{slice:Le,set:Ne,constructor:function(){},toString:he,toLocaleString:Pe}),Ie(ze,"buffer","b"),Ie(ze,"byteOffset","o"),Ie(ze,"byteLength","l"),Ie(ze,"length","e"),z(ze,ve,{get:function(){return this[be]}}),e.exports=function(e,t,r,u){var l=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,d="set"+e,p=i[l],g=p||{},y=p&&A(p),b=!p||!s.ABV,E={},S=p&&p.prototype,D=function(e,r){z(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[f](r*t+n.o,Ee)}(this,r)},set:function(e){return function(e,r,n){var i=e._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[d](r*t+i.o,n,Ee)}(this,r,e)},enumerable:!0})};b?(p=r((function(e,r,n,i){c(e,p,l,"_d");var o,a,s,u,f=0,d=0;if(w(r)){if(!(r instanceof q||"ArrayBuffer"==(u=_(r))||"SharedArrayBuffer"==u))return be in r?Oe(p,r):Ce.call(p,r);o=r,d=Te(n,t);var g=r.byteLength;if(void 0===i){if(g%t)throw G("Wrong length!");if((a=g-d)<0)throw G("Wrong length!")}else if((a=v(i)*t)+d>g)throw G("Wrong length!");s=a/t}else s=m(r),o=new q(a=s*t);for(h(e,"_d",{b:o,o:d,l:a,e:s,v:new J(o)});f<s;)D(e,f++)})),S=p.prototype=T(ze),h(S,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&L((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=r((function(e,r,n,i){var o;return c(e,p,l),w(r)?r instanceof q||"ArrayBuffer"==(o=_(r))||"SharedArrayBuffer"==o?void 0!==i?new g(r,Te(n,t),i):void 0!==n?new g(r,Te(n,t)):new g(r):be in r?Oe(p,r):Ce.call(p,r):new g(m(r))})),Y(y!==Function.prototype?x(g).concat(x(y)):x(g),(function(e){e in p||h(p,e,g[e])})),p.prototype=S,n||(S.constructor=p));var O=S[pe],I=!!O&&("values"==O.name||void 0==O.name),C=Fe.values;h(p,me,!0),h(S,be,l),h(S,_e,!0),h(S,ge,p),(u?new p(1)[ve]==l:ve in S)||z(S,ve,{get:function(){return l}}),E[l]=p,a(a.G+a.W+a.F*(p!=g),E),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(p,1)})),l,{from:Ce,of:ke}),"BYTES_PER_ELEMENT"in S||h(S,"BYTES_PER_ELEMENT",t),a(a.P,l,Me),N(l),a(a.P+a.F*Se,l,{set:Ne}),a(a.P+a.F*!I,l,Fe),n||S.toString==he||(S.toString=he),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:Le}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),l,{toLocaleString:Pe}),M[l]=I?O:C,n||I||h(S,pe,C)}}else e.exports=function(){}},function(e,t,r){"use strict";(function(e,n,i){var o,a,s,u,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="undefined"==typeof Promise?r(203).Promise:Promise;"undefined"!=typeof self&&self,u=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=64)}([function(e,t,r){var n=r(31),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==(void 0===e?"undefined":l(e))}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=(void 0===e?"undefined":l(e))&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function r(r,n){"object"==l(t[n])&&"object"==(void 0===r?"undefined":l(r))?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==l(t[n])&&"object"==(void 0===r?"undefined":l(r))?t[n]=e(t[n],r):t[n]="object"==(void 0===r?"undefined":l(r))?e({},r):r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={debug:0,info:1,warn:2,error:3},i="error",o=new function e(){var t=this;!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.debug=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a;n[i]<=n.debug&&console&&(a=console).log.apply(a,[e].concat(r))},this.info=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a;n[i]<=n.info&&console&&(a=console).info.apply(a,[e].concat(r))},this.warn=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var a;n[i]<=n.warn&&console&&(a=console).warn.apply(a,[e].concat(r))},this.error=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;console&&(i=console).error.apply(i,[e].concat(r))},this.setVerboseMode=function(e){"verbose"===e?(i="debug",t.debug("Active verbose mode")):i="error"},this.seLogger=function(e){o=e}};t.default=o},function(e,t,r){var n=r(69),i=r(70),o=r(27);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(n)return B(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=r;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(e,o+h)!==l(t,h)){f=!1;break}if(f)return o}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function b(e,t,r,n){return z(B(t,e.length-r),e,r,n)}function _(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return _(e,t,r,n)}function E(e,t,r,n){return z(U(t),e,r,n)}function S(e,t,r,n){return z(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return c(t),t<=0?s(null,t):void 0!==r?"string"==typeof n?s(null,t).fill(r,n):s(null,t).fill(r):s(null,t)}(0,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return D(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),l=this.slice(n,i),c=e.slice(t,r),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function D(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",a=t;a<r;++a)o+=(n=e[a])<16?"0"+n.toString(16):n.toString(16);return o}function C(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function M(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,o){return o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function F(e,t,r,n,o){return o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||k(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return F(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return F(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function U(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="x-api.rollout.io",i={API_HOST:n,CD_API_ENDPOINT:"https://"+n+"/device/get_configuration",CD_S3_ENDPOINT:"https://conf.rollout.io/",SS_API_ENDPOINT:"https://"+n+"/device/update_state_store/",SS_S3_ENDPOINT:"https://statestore.rollout.io/",CLIENT_DATA_CACHE_KEY:"client_data",NOTIFICATIONS_ENDPOINT:"https://push.rollout.io/sse",ANALYTICS_ENDPOINT:"https://analytic.rollout.io"},o=Object.assign({},i);t.default={get:function(e){return o[e]},set:function(e,t){o[e]=t},setActive:function(e){o=Object.assign({},e)},setSelfManagedMode:function(e){var t,r,n;o=Object.assign({},i,(r=(t=e).analyticsURL,{CD_API_ENDPOINT:(n=t.serverURL)+"/device/get_configuration",SS_API_ENDPOINT:n+"/device/update_state_store/",CLIENT_DATA_CACHE_KEY:"client_data",ANALYTICS_ENDPOINT:r,NOTIFICATIONS_ENDPOINT:t.pushUpdateURL+"/sse",CD_S3_ENDPOINT:t.configurationURL,SS_S3_ENDPOINT:t.stateURL}))}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return n(e,[{key:"setExperiments",value:function(e){this.map={},(e=e||[]).forEach((function(e){this.map[e.identifier]=e}),this)}},{key:"experimentWithName",value:function(e){return this.map[e]}},{key:"experimentForFlagName",value:function(e){return this.experiments.find((function(t){return t.flags&&t.flags.some((function(t){return t.name===e}))}))}},{key:"experimentForFlag",value:function(e){return this.experimentForFlagName(e.name)}},{key:"experiments",get:function(){var e=this;return Object.keys(this.map).map((function(t){return e.map[t]}))}}]),e}());t.default=i},function(e,t,r){var n=r(15),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(9);o.inherits=r(5);var a=r(54),s=r(57);o.inherits(f,a);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),n(t,e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(19);Object.defineProperty(t,"RoxxParser",{enumerable:!0,get:function(){return a(n).default}});var i=r(89);Object.defineProperty(t,"ConfigurationParser",{enumerable:!0,get:function(){return a(i).default}});var o=r(63);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"RemoteConfigurationsParser",{enumerable:!0,get:function(){return a(o).default}})},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==(void 0===e?"undefined":l(e))},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==(void 0===e?"undefined":l(e))&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==(void 0===e?"undefined":l(e))||void 0===e},t.isBuffer=e.isBuffer}).call(t,r(3).Buffer)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(65);Object.defineProperty(t,"FlagsSetter",{enumerable:!0,get:function(){return o(n).default}});var i=r(66);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"ConfigurationSetter",{enumerable:!0,get:function(){return o(i).default}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(12);Object.defineProperty(t,"CustomProperties",{enumerable:!0,get:function(){return u(n).default}});var i=r(6);Object.defineProperty(t,"Experiments",{enumerable:!0,get:function(){return u(i).default}});var o=r(17);Object.defineProperty(t,"Configuration",{enumerable:!0,get:function(){return u(o).default}});var a=r(13);Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return u(a).default}});var s=r(18);function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"TargetGroups",{enumerable:!0,get:function(){return u(s).default}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.store=new Map}return n(e,[{key:"has",value:function(e){return this.store.has(e.name)}},{key:"get",value:function(e){return this.store.get(e)}},{key:"set",value:function(e){this.store.set(e.name,e)}},{key:"setIfNotExists",value:function(e){this.has(e)||this.set(e)}},{key:"clear",value:function(){this.store.clear()}},{key:"items",get:function(){return Array.from(this.store.values())}}]),e}();t.default=new i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RoxFlagRepository=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(10),a=(n=r(6))&&n.__esModule?n:{default:n},s=t.RoxFlagRepository=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return i(e,[{key:"addFlag",value:function(e,t){t.name=e,this.map[e]=t,new o.FlagsSetter(this,a.default).setAddedFlag(t)}},{key:"flagWithName",value:function(e){return this.map[e]}},{key:"flags",get:function(){var e=this;return Object.keys(this.map).map((function(t){return e.map[t]}))}},{key:"items",get:function(){return this.flags}}]),e}();t.default=new s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(102);Object.defineProperty(t,"ConfigurationFetcher",{enumerable:!0,get:function(){return p(n).default}});var i=r(49);Object.defineProperty(t,"RuntimeRegistry",{enumerable:!0,get:function(){return p(i).default}});var o=r(106);Object.defineProperty(t,"ClassRegister",{enumerable:!0,get:function(){return p(o).default}});var a=r(107);Object.defineProperty(t,"DeviceProperties",{enumerable:!0,get:function(){return p(a).default}});var s=r(2);Object.defineProperty(t,"RoxLogger",{enumerable:!0,get:function(){return p(s).default}});var u=r(20);Object.defineProperty(t,"BugsnagReporter",{enumerable:!0,get:function(){return p(u).default}});var l=r(108);Object.defineProperty(t,"createRoxClient",{enumerable:!0,get:function(){return p(l).default}});var c=r(50);Object.defineProperty(t,"DynamicApi",{enumerable:!0,get:function(){return p(c).default}});var f=r(11);Object.defineProperty(t,"Experiments",{enumerable:!0,get:function(){return f.Experiments}}),Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return f.Flags}});var h=r(8);Object.defineProperty(t,"ConfigurationParser",{enumerable:!0,get:function(){return h.ConfigurationParser}});var d=r(10);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"FlagsSetter",{enumerable:!0,get:function(){return d.FlagsSetter}})},function(e,t,r){(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}:e.exports=t.nextTick}).call(t,r(1))},function(e,t,r){var n=r(3),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return n(e,[{key:"addRemoteConfiguration",value:function(e,t){t._name||(t._name=e),this.map[e]=t}},{key:"remoteConfigurationWithName",value:function(e){return this.map[e]}},{key:"remoteConfigurations",get:function(){var e=this;return Object.keys(this.map).map((function(t){return e.map[t]}))}},{key:"items",get:function(){return this.remoteConfigurations}}]),e}());t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.map={}}return n(e,[{key:"addTargetGroup",value:function(e){this.map[e.identifier]=e}},{key:"setTargetGroups",value:function(e){this.map={},(e=e||[]).forEach((function(e){this.map[e.identifier]=e}),this)}},{key:"targetGroupWithName",value:function(e){return this.map[e]}},{key:"targetGroups",get:function(){var e=this;return Object.keys(this.map).map((function(t){return e.map[t]}))}}]),e}());t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(67),o=u(r(20)),a=u(r(2)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(26));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._tokenizer=new i.RoxxTokenizer,this._cache=t||{}}return n(e,[{key:"_argsArrayForOperator",value:function(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var o=t.pop();r.push(o)}return r}},{key:"_modifyArgsHook",value:function(e){var t=e.operator,r=e.args,n=e.context,i=e.callContext,o=r;return n&&s.operatorsWithContext.includes(t)&&(o=[].concat(l(r),[n])),i?[].concat(l(o),[i]):o}},{key:"compileExpression",value:function(e){var t=this._cache[e];return t||(t=this._tokenizer.tokenize(e).reverse(),this._cache[e]=t),t}},{key:"evaluateExpression",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],u=[],l=this.compileExpression(e),c=void 0,f=l.length;try{for(var h=0;h<f;h++){var d=l[h];if(d.type==i.RoxxTokenTypeRand)u.push(d.value);else{if(d.type!=i.RoxxTokenTypeRator){u.push(void 0);break}var p=s[d.value],v=this._argsArrayForOperator(p,u);v=this._modifyArgsHook({operator:p,args:v,context:r,callContext:t});var m=p.apply(this,v);u.push(m);var g=d.value+"("+JSON.stringify(v)+") => "+m;n&&n.push(g),a.default.debug("Roxx: "+g)}}c=u.pop()}catch(t){var y="Oh uh! An error occured during Roxx evaluation. "+e;a.default.error(y,t),o.default.error(y,t),c=!1}finally{return c}}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(21)),a=(n=r(2))&&n.__esModule?n:{default:n},s=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return i(e,[{key:"init",value:function(e,t,r,n){if(this.selfManagedMode=n,!this.selfManagedMode){var i=t.getProperties(),o=i.distinct_id,a=i.app_release,s=i.platform,u=i.api_version,l=i.lib_version,c=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(i,["distinct_id","app_release","platform","api_version","lib_version"]);this.device=c,this.header={apiKey:"abbf3bd9c6e80eb1e8c0566c35b08748",notifier:{name:"Rollout JavaScript SDK",version:l,url:"undefined"!=typeof window&&window.location&&window.location.href||void 0}},this.networkOptions=r,this.user={distinct_id:o,app_release:a,app_key:e,platform:s},this.app={api_version:u,lib_version:l}}}},{key:"error",value:function(e,t){if(!this.selfManagedMode)return this._notify("error",e,t)}},{key:"_notify",value:function(e,t,r){var n={payloadVersion:4,exceptions:[],app:this.app,user:this.user,device:this.device,metaData:{data:{message:t,exception:r.toString()}},severity:e};return r instanceof Error?(n.exceptions.push({errorClass:r.name,message:t+"\n"+r.message+"\n"+r.stack,stacktrace:[]}),n.groupingHash=r.fileName):n.exceptions.push({errorClass:"Error",message:t,stacktrace:[]}),this._send([n])}},{key:"_send",value:function(e){var t=Object.assign({events:e},this.header);a.default.debug("Sending bugsnag error report.");try{o.post("https://notify.bugsnag.com",t,this.networkOptions).catch((function(e){a.default.debug("Failed to send error report",e)})),a.default.debug("Successfully sent error report.")}catch(e){a.default.debug("Failed to send error report.",e)}}}]),e}();t.default=new s},function(e,t,r){e.exports=r(73)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(39);Object.defineProperty(t,"CustomProperty",{enumerable:!0,get:function(){return c(n).default}});var i=r(91);Object.defineProperty(t,"DeviceProperty",{enumerable:!0,get:function(){return c(i).default}});var o=r(92);Object.defineProperty(t,"DeploymentConfiguration",{enumerable:!0,get:function(){return c(o).default}});var a=r(93);Object.defineProperty(t,"Experiment",{enumerable:!0,get:function(){return c(a).default}});var s=r(94);Object.defineProperty(t,"Configuration",{enumerable:!0,get:function(){return c(s).default}});var u=r(43);Object.defineProperty(t,"TargetGroup",{enumerable:!0,get:function(){return c(u).default}});var l=r(101);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return c(l).default}}),Object.defineProperty(t,"CallContextTypes",{enumerable:!0,get:function(){return l.callContextTypes}})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isEnabled=function(e){var t=u(e);return"boolean"==typeof t?t:"true"===t},t.value=u,t.getNumber=function(e){var t=u(e);return parseInt(t)||0},t.setDefaultsMode=function(e){a=e};var n=o(r(19)),i=o(r(6));function o(e){return e&&e.__esModule?e:{default:e}}var a=!1,s={"rox.internal.pushUpdates":"true","rox.internal.considerThrottleInPush":"false","rox.internal.throttleFetchInSeconds":"0","rox.internal.analytics":"true"};function u(e){if(a&&s.hasOwnProperty(e))return s[e];var t=i.default.experimentForFlagName(e);return t&&t.deploymentConfiguration?(new n.default).evaluateExpression(t.deploymentConfiguration.condition):""}},function(e,t,r){var n=r(116),i=r(118);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=_,t.resolve=function(e,t){return _(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?_(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=_(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(c),h=["%","/","?",";","#"].concat(f),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(119);function _(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===e?"undefined":l(e)));var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var _=e=c.join(s);if(_=_.trim(),!r&&1===e.split("#").length){var w=u.exec(_);if(w)return this.path=_,this.href=_,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=a.exec(_);if(E){var S=(E=E[0]).toLowerCase();this.protocol=S,_=_.substr(E.length)}if(r||E||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===_.substr(0,2);!T||E&&g[E]||(_=_.substr(2),this.slashes=!0)}if(!g[E]&&(T||E&&!y[E])){for(var A,x,D=-1,O=0;O<d.length;O++)-1!==(I=_.indexOf(d[O]))&&(-1===D||I<D)&&(D=I);for(-1!==(x=-1===D?_.lastIndexOf("@"):_.lastIndexOf("@",D))&&(A=_.slice(0,x),_=_.slice(x+1),this.auth=decodeURIComponent(A)),D=-1,O=0;O<h.length;O++){var I;-1!==(I=_.indexOf(h[O]))&&(-1===D||I<D)&&(D=I)}-1===D&&(D=_.length),this.host=_.slice(0,D),_=_.slice(D),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var k=this.hostname.split(/\./),R=(O=0,k.length);O<R;O++){var P=k[O];if(P&&!P.match(p)){for(var M="",L=0,N=P.length;L<N;L++)P.charCodeAt(L)>127?M+="x":M+=P[L];if(!M.match(p)){var F=k.slice(0,O),j=k.slice(O+1),B=P.match(v);B&&(F.push(B[1]),j.unshift(B[2])),j.length&&(_="/"+j.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+U,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!m[S])for(O=0,R=f.length;O<R;O++){var $=f[O];if(-1!==_.indexOf($)){var G=encodeURIComponent($);G===$&&(G=escape($)),_=_.split($).join(G)}}var H=_.indexOf("#");-1!==H&&(this.hash=_.substr(H),_=_.slice(0,H));var W=_.indexOf("?");if(-1!==W?(this.search=_.substr(W),this.query=_.substr(W+1),t&&(this.query=b.parse(this.query)),_=_.slice(0,W)):t&&(this.search="",this.query={}),_&&(this.pathname=_),y[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(_(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(r[c]=e[c])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var d=f[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",m=r.search||"";r.path=v+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||r.host&&e.pathname,E=w,S=r.pathname&&r.pathname.split("/")||[],T=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(T&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===S[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search))return T&&(r.hostname=r.host=S.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var A=S.slice(-1)[0],x=(r.host||e.host||S.length>1)&&("."===A||".."===A)||""===A,D=0,O=S.length;O>=0;O--)"."===(A=S[O])?S.splice(O,1):".."===A?(S.splice(O,1),D++):D&&(S.splice(O,1),D--);if(!w&&!E)for(;D--;D)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),x&&"/"!==S.join("/").substr(-1)&&S.push("");var I,C=""===S[0]||S[0]&&"/"===S[0].charAt(0);return T&&(r.hostname=r.host=C?"":S.length?S.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift())),(w=w||r.host&&S.length)&&!C&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==(void 0===e?"undefined":l(e))&&null!==e}function o(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,a,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),a=(l=r.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,o=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.operatorsWithContext=t.b64d=t.concat=t.md5=t.inArray=t.property=t.isTargetGroupPaired=t.isInTargetGroup=t.flagValue=t.isInPercentageRange=t.isInPercentage=t.mergeSeed=t.semverNe=t.semverEq=t.semverGte=t.semverGt=t.semverLte=t.semverLt=t.match=t.gte=t.gt=t.lte=t.lt=t.ifThen=t.not=t.eq=t.ne=t.or=t.and=t.now=t.isUndefined=void 0;var n=c(r(18)),i=c(r(12)),o=c(r(13)),a=c(r(6)),s=c(r(19)),u=c(r(28)),l=r(30);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{zeroExtend:!0,lexicographical:!0},n=r&&r.lexicographical,i=r&&r.zeroExtend,o=e.split("."),a=t.split(".");function s(e){return(n?/[0-9A-Za-z_-]+$/:/^\d+$/).test(e)}if(!o.every(s)||!a.every(s))return NaN;if(i){for(;o.length<a.length;)o.push("0");for(;a.length<o.length;)a.push("0")}n||(o=o.map(Number),a=a.map(Number));for(var u=0;u<o.length;++u){if(a.length==u)return 1;if(o[u]!=a[u])return o[u]>a[u]?1:-1}return o.length!=a.length?-1:0}var h=function(e){var t=(0,u.default)(e,{asBytes:!0});return(t=(255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24)>>>0)/(Math.pow(2,32)-1)},d=t.isUndefined=function(e){return void 0===e},p=(t.now=function(){return Date.now()},t.and=function(e,t){return e&&t},t.or=function(e,t){return e||t},t.ne=function(e,t){return(!d(e)&&e)!==(!d(t)&&t)},t.eq=function(e,t){return(!d(e)&&e)===(!d(t)&&t)},t.not=function(e){return!e},t.ifThen=function(e,t,r){return e?t:r},t.lt=function(e,t){return!d(e)&&!d(t)&&"number"==typeof e&&"number"==typeof t&&e<t},t.lte=function(e,t){return!d(e)&&!d(t)&&"number"==typeof e&&"number"==typeof t&&e<=t},t.gt=function(e,t){return!d(e)&&!d(t)&&"number"==typeof e&&"number"==typeof t&&e>t},t.gte=function(e,t){return!d(e)&&!d(t)&&"number"==typeof e&&"number"==typeof t&&e>=t},t.match=function(e,t,r){var n=e;return!!new RegExp(t,r).exec(n)},t.semverLt=function(e,t){return!d(e)&&!d(t)&&"string"==typeof e&&"string"==typeof t&&f(e,t,{zeroExtend:!0})<0},t.semverLte=function(e,t){return!d(e)&&!d(t)&&"string"==typeof e&&"string"==typeof t&&f(e,t,{zeroExtend:!0})<=0},t.semverGt=function(e,t){return!d(e)&&!d(t)&&"string"==typeof e&&"string"==typeof t&&f(e,t,{zeroExtend:!0})>0},t.semverGte=function(e,t){return!d(e)&&!d(t)&&"string"==typeof e&&"string"==typeof t&&f(e,t,{zeroExtend:!0})>=0},t.semverEq=function(e,t){return!d(e)&&!d(t)&&"string"==typeof e&&"string"==typeof t&&0==f(e,t)},t.semverNe=function(e,t){return!d(e)&&!d(t)&&"string"==typeof e&&"string"==typeof t&&0!=f(e,t)},t.mergeSeed=function(e,t){return e+"."+t},t.isInPercentage=function(e,t){return h(t)<=e},t.isInPercentageRange=function(e,t,r){var n=h(r);return n>=e&&n<=t},t.flagValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=o.default.flagWithName(e);if(n)return n.getInternalValue(r,t);var i=a.default.experimentForFlagName(e);return i&&i.deploymentConfiguration&&(new s.default).evaluateExpression(i.deploymentConfiguration.condition,r,t)||"false"}),v=t.isInTargetGroup=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.default.targetGroupWithName(e);return!!i&&(new s.default).evaluateExpression(i.condition,r,t)},m=(t.isTargetGroupPaired=function(){return!1},t.property=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.default.get(e);if(r)return r.getValue(t);var n=l.DynamicPropertiesHandler&&(0,l.DynamicPropertiesHandler)();return n?n(e,t):void 0});t.inArray=function(e,t){return t.includes(e)},t.md5=function(e){if("string"==typeof e)return(0,u.default)(e)},t.concat=function(e,t){if("string"==typeof e&&"string"==typeof t)return""+e+t},t.b64d=function(t){if("string"==typeof t)return decodeURIComponent(e.from(t,"base64").toString("utf8"))},t.operatorsWithContext=[v,p,m]}).call(t,r(3).Buffer)},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n,i,o,a,s;n=r(71),i=r(29).utf8,o=r(72),a=r(29).bin,(s=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?a.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var r=n.bytesToWords(e),u=8*e.length,l=1732584193,c=-271733879,f=-1732584194,h=271733878,d=0;d<r.length;d++)r[d]=16711935&(r[d]<<8|r[d]>>>24)|4278255360&(r[d]<<24|r[d]>>>8);r[u>>>5]|=128<<u%32,r[14+(u+64>>>9<<4)]=u;var p=s._ff,v=s._gg,m=s._hh,g=s._ii;for(d=0;d<r.length;d+=16){var y=l,b=c,_=f,w=h;c=g(c=g(c=g(c=g(c=m(c=m(c=m(c=m(c=v(c=v(c=v(c=v(c=p(c=p(c=p(c=p(c,f=p(f,h=p(h,l=p(l,c,f,h,r[d+0],7,-680876936),c,f,r[d+1],12,-389564586),l,c,r[d+2],17,606105819),h,l,r[d+3],22,-1044525330),f=p(f,h=p(h,l=p(l,c,f,h,r[d+4],7,-176418897),c,f,r[d+5],12,1200080426),l,c,r[d+6],17,-1473231341),h,l,r[d+7],22,-45705983),f=p(f,h=p(h,l=p(l,c,f,h,r[d+8],7,1770035416),c,f,r[d+9],12,-1958414417),l,c,r[d+10],17,-42063),h,l,r[d+11],22,-1990404162),f=p(f,h=p(h,l=p(l,c,f,h,r[d+12],7,1804603682),c,f,r[d+13],12,-40341101),l,c,r[d+14],17,-1502002290),h,l,r[d+15],22,1236535329),f=v(f,h=v(h,l=v(l,c,f,h,r[d+1],5,-165796510),c,f,r[d+6],9,-1069501632),l,c,r[d+11],14,643717713),h,l,r[d+0],20,-373897302),f=v(f,h=v(h,l=v(l,c,f,h,r[d+5],5,-701558691),c,f,r[d+10],9,38016083),l,c,r[d+15],14,-660478335),h,l,r[d+4],20,-405537848),f=v(f,h=v(h,l=v(l,c,f,h,r[d+9],5,568446438),c,f,r[d+14],9,-1019803690),l,c,r[d+3],14,-187363961),h,l,r[d+8],20,1163531501),f=v(f,h=v(h,l=v(l,c,f,h,r[d+13],5,-1444681467),c,f,r[d+2],9,-51403784),l,c,r[d+7],14,1735328473),h,l,r[d+12],20,-1926607734),f=m(f,h=m(h,l=m(l,c,f,h,r[d+5],4,-378558),c,f,r[d+8],11,-2022574463),l,c,r[d+11],16,1839030562),h,l,r[d+14],23,-35309556),f=m(f,h=m(h,l=m(l,c,f,h,r[d+1],4,-1530992060),c,f,r[d+4],11,1272893353),l,c,r[d+7],16,-155497632),h,l,r[d+10],23,-1094730640),f=m(f,h=m(h,l=m(l,c,f,h,r[d+13],4,681279174),c,f,r[d+0],11,-358537222),l,c,r[d+3],16,-722521979),h,l,r[d+6],23,76029189),f=m(f,h=m(h,l=m(l,c,f,h,r[d+9],4,-640364487),c,f,r[d+12],11,-421815835),l,c,r[d+15],16,530742520),h,l,r[d+2],23,-995338651),f=g(f,h=g(h,l=g(l,c,f,h,r[d+0],6,-198630844),c,f,r[d+7],10,1126891415),l,c,r[d+14],15,-1416354905),h,l,r[d+5],21,-57434055),f=g(f,h=g(h,l=g(l,c,f,h,r[d+12],6,1700485571),c,f,r[d+3],10,-1894986606),l,c,r[d+10],15,-1051523),h,l,r[d+1],21,-2054922799),f=g(f,h=g(h,l=g(l,c,f,h,r[d+8],6,1873313359),c,f,r[d+15],10,-30611744),l,c,r[d+6],15,-1560198380),h,l,r[d+13],21,1309151649),f=g(f,h=g(h,l=g(l,c,f,h,r[d+4],6,-145523070),c,f,r[d+11],10,-1120210379),l,c,r[d+2],15,718787259),h,l,r[d+9],21,-343485551),l=l+y>>>0,c=c+b>>>0,f=f+_>>>0,h=h+w>>>0}return n.endian([l,c,f,h])})._ff=function(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._gg=function(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._hh=function(e,t,r,n,i,o,a){var s=e+(t^r^n)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._ii=function(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},s._blocksize=16,s._digestsize=16,e.exports=function(e,t){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(s(e,t));return t&&t.asBytes?r:t&&t.asString?a.bytesToString(r):n.bytesToHex(r)}},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDynamicPropertyHandler=function(){return n},t.setDynamicPropertyHandler=function(e){i=e},t.DynamicPropertiesHandler=function(){return i};var n=function(e,t){return t?t[e]:void 0},i=n},function(e,t,r){e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){var n=r(0);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&void 0!==e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,r){e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){(function(t){var n=r(0),i=r(78),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=r(35):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(s=r(35)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(o)})),e.exports=u}).call(t,r(1))},function(e,t,r){var n=r(0),i=r(79),o=r(32),a=r(81),s=r(84),u=r(85),l=r(36);e.exports=function(e){return new c((function(t,c){var f=e.data,h=e.headers;n.isFormData(f)&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",v=e.auth.password||"";h.Authorization="Basic "+btoa(p+":"+v)}var m=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?s(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,c,n),d=null}},d.onabort=function(){d&&(c(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){c(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),c(l(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r(86),y=(e.withCredentials||u(m))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&n.forEach(h,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),c(e),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(e,t,r){var n=r(80);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},function(e,t,r){var n=r(0);e.exports=function(e,t){t=t||{};var r={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(i,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(o,(function(i){n.isObject(t[i])?r[i]=n.deepMerge(e[i],t[i]):void 0!==t[i]?r[i]=t[i]:n.isObject(e[i])?r[i]=n.deepMerge(e[i]):void 0!==e[i]&&(r[i]=e[i])})),n.forEach(a,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var s=i.concat(o).concat(a),u=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return n.forEach(u,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},function(e,t,r){function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){if(void 0===e||""===e)throw new Error("Custom property must be initialized with a name.")},o=function(e,t){if(t&&t.constructor!==e&&t.constructor!==Function)throw new Error("Custom property initialized with an invalid type / value combination. (Type: "+e+", Value: "+t+")")},a=function(e){if(e.length>1)throw new Error("Dynamic value of a custom property should be a function with maximum 1 argument")},s=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),i(t),this._name=t,"function"==typeof n?(a(n),this._value=n):(o(r,n),this._value=function(){return n}),this._type=r}return n(e,[{key:"getValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._value(e)}},{key:"type",get:function(){return this._type.name}},{key:"externalType",get:function(){return this._type.name}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value()}}]),e}();t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=t.Actions=void 0;var n=o(r(95)),i=o(r(41));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.Actions=n,t.Manager=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),i={};t.getContext=function(){return n(i)},t.setContext=function(e){i=e}},function(e,t,r){var n=r(96),i=r(98),o=r(99);e.exports=function e(t,r){switch(i(t)){case"object":return function(t,r){if("function"==typeof r)return r(t);if(r||o(t)){var n=new t.constructor;for(var i in t)n[i]=e(t[i],r);return n}return t}(t,r);case"array":return function(t,r){for(var n=new t.constructor(t.length),i=0;i<t.length;i++)n[i]=e(t[i],r);return n}(t,r);default:return n(t)}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.identifier=t,this.condition=r}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.invokeImpression=function(e,t,r){var s=o.default.experimentForFlag(t);try{if(l&&s&&(0,i.isEnabled)("rox.internal.analytics")){var f=a.default.get(s.stickinessProperty)||a.default.get("rox.distinct_id"),h=f?f.getValue(r):"";l.track({flag:t.name,value:e,distinctId:h,experimentId:s.identifier,experimentVersion:"0",type:"IMPRESSION",time:(new Date).getTime()})}}catch(e){n.RoxLogger.error("Failed to send analytics",e)}if("function"==typeof u){var d=s&&c(s);u({name:t.name,value:e},d,r)}},t.setHandler=function(e){u=e},t.setAnalytics=function(e){l=e};var n=r(14),i=r(23),o=s(r(6)),a=s(r(12));function s(e){return e&&e.__esModule?e:{default:e}}var u=null,l=null,c=function(e){return{identifier:e.identifier,name:e.name,isArchived:e.archived,labels:e.labels}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.buildSetStateAPIURL=t.buildSetStateS3URL=t.buildAPIURL=void 0;var n,i=(n=r(4))&&n.__esModule?n:{default:n};t.buildAPIURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.app_key,n=e.buid,o=e.relative_url,a=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["app_key","buid","relative_url"]);a.cache_miss_relative_url=o;var s=i.default.get("CD_API_ENDPOINT")+"/"+r+"/"+n;return{url:t||s,body:a}},t.buildSetStateS3URL=function(e){return""+i.default.get("SS_S3_ENDPOINT")+e.app_key+"/"+e.md5},t.buildSetStateAPIURL=function(e){return{url:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||""+i.default.get("SS_API_ENDPOINT")+e.app_key+"/"+e.md5,body:{platform:e.platform,feature_flags:e.feature_flags,custom_properties:e.custom_properties,remoteVariables:e.remoteVariables,devModeSecret:e.devModeSecret}}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)};t.fetchFromCDN=function(e,t){return o.get(e,t).then((function(e){var t=e.data;if(200===e.status&&t&&"object"===(void 0===t?"undefined":n(t)))return 404===t.result?(a.default.debug("succeed fetch from CDN, but it was missing"),c.reject()):(a.default.debug("succeed fetch from CDN"),t)})).catch((function(e){if(404==e.response.status||403==e.response.status)return c.reject();a.default.debug("Unexpected error calling get configuration, status code returned different from 403 or 404. error: "+e)}))},t.fetchFromAPI=function(e,t,r){return o.post(e,t,r).then(s)},t.fetchFromRoxyAPI=function(e,t){return o.get(e,t).then(s)},t.stateFromCDN=function(e,t){return o.get(e,t).then((function(e){var t=e.data;if(200===e.status&&t&&"object"===(void 0===t?"undefined":n(t))){if(404===t.result)return a.default.debug("succeed setState from CDN, but it was missing"),c.reject();if(200===t.result)return void a.default.debug("succeed setState from CDN")}a.default.debug("succeed setState, but with unexpected response")})).catch((function(e){if(404==e.response.status||403==e.response.status)return c.reject();a.default.debug("Unexpected error calling setState, status code returned different from 403 or 404. error: "+e)}))},t.setStateToAPI=function(e,t,r){return o.post(e,t,r).then((function(e){if(200!==e.status)return c.reject(new Error("Unexpected response from ROX API"));a.default.debug("succeed setState from API")}))};var i,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(21)),a=(i=r(2))&&i.__esModule?i:{default:i};function s(e){var t=e.data;return 200===e.status&&t&&"object"===(void 0===t?"undefined":n(t))?(a.default.debug("succeed fetch from API"),t):c.reject(new Error("Unexpected response from ROX API"))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_GENERATOR_LIST=t.BUID_GENERATOR_LIST=void 0,t.generateStateMd5=function(){return s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)},t.generateBuid=function(){return s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:o)};var n,i=(n=r(28))&&n.__esModule?n:{default:n},o=t.BUID_GENERATOR_LIST=["lib_version","api_version","platform","app_key","customSigningCertificate"],a=t.STATE_GENERATOR_LIST=["platform","app_key","feature_flags","custom_properties","remoteVariables","devModeSecret"];function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((function(t){var r=e[t];return r?r.constructor===Object||r.constructor===Array?JSON.stringify(r):r:t}));return(0,i.default)(t.join("|"))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FetcherStatus={APPLIED_FROM_EMBEDDED:"APPLIED_FROM_EMBEDDED",APPLIED_FROM_CACHE:"APPLIED_FROM_CACHE",APPLIED_FROM_NETWORK:"APPLIED_FROM_NETWORK",ERROR_FETCH_FAILED:"ERROR_FETCH_FAILED"},t.FetcherResults=function e(t,r,n,i,o){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.fetcherStatus=t,this.creationDate=r,this.hasChanges=n,this.errorDetails=i,this.clientData=o}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(17)),o=s(r(13)),a=s(r(12));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return n(e,[{key:"customProperties",get:function(){var e=[];return a.default.items.forEach((function(t){e.push({name:t.name,type:t.type,externalType:t.externalType})})),e}},{key:"featureFlags",get:function(){var e=[];return o.default.items.forEach((function(t){e.push({name:t.name,defaultValue:t.defaultValue,options:t._options})})),e}},{key:"remoteConfiguration",get:function(){var e=[];return i.default.items.forEach((function(t){e.push({name:t.name,defaultValue:t.defaultValue,type:t.type,externalType:t.externalType})})),e}}]),e}();t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.entityProvider=t,this.flagRepository=r,this.client=n}return n(e,[{key:"isEnabled",value:function(e,t,r){var n=this.flagRepository.flagWithName(e);if(null==n&&(n=this.entityProvider.createFlag(t),this.flagRepository.addFlag(e,n),this.client.sendStateDebounced()),void 0==n._getInternalIsEnabled)return t;var i={},o=n._getInternalIsEnabled(i,r);return i.isExperimenting?o:t}},{key:"value",value:function(e,t,r,n){Array.isArray(r)||(n=r,r=null);var i=this.flagRepository.flagWithName(e);null==i&&(i=this.entityProvider.createVariant(t,r),this.flagRepository.addFlag(e,i),this.client.sendStateDebounced());var o={},a=i.getInternalValue(o,n);return o.isExperimenting?a:t}}]),e}();t.default=i},function(e,t,r){var n=r(123),i=r(132),o=r(133),a=r(24),s=t;s.request=function(e,t){e="string"==typeof e?a.parse(e):i(e);var r=-1===window.location.protocol.search(/^https?:$/)?"http:":"",o=e.protocol||r,s=e.hostname||e.host,u=e.port,l=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?o+"//"+s:"")+(u?":"+u:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var c=new n(e);return t&&c.on("response",t),c},s.get=function(e,t){var r=s.request(e,t);return r.end(),r},s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.STATUS_CODES=o,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},function(e,t,r){t.fetch=u(window.fetch)&&u(window.ReadableStream),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var n;function i(){if(void 0!==n)return n;if(window.XMLHttpRequest){n=new window.XMLHttpRequest;try{n.open("GET",window.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function o(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var a=void 0!==window.ArrayBuffer,s=a&&u(window.ArrayBuffer.prototype.slice);function u(e){return"function"==typeof e}t.arraybuffer=t.fetch||a&&o("arraybuffer"),t.msstream=!t.fetch&&s&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&u(i().overrideMimeType),t.vbArray=u(window.VBArray),n=null},function(e,t,r){(t=e.exports=r(54)).Stream=t,t.Readable=t,t.Writable=r(57),t.Duplex=r(7),t.Transform=r(59),t.PassThrough=r(130)},function(e,t,r){(function(t){var n=r(15);e.exports=y;var i,o=r(27);y.ReadableState=g,r(25).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=r(55),u=r(16).Buffer,l=window.Uint8Array||function(){},c=r(9);c.inherits=r(5);var f=r(125),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var d,p=r(126),v=r(56);c.inherits(y,s);var m=["error","close","destroy","pause","resume"];function g(e,t){i=i||r(7),e=e||{},this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(58).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(7),!(this instanceof y))return new y(e);this._readableState=new g(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function b(e,t,r,n,i){var o,a=e._readableState;return null===t?(a.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}}(e,a)):(i||(o=function(e,t){var r,n;return n=t,u.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):A(e,a)):_(e,a,t,!1))):n||(a.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),A(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),b(this,e,t,!1,r)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return d||(d=r(58).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var w=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n(T,e):T(e))}function T(e){h("emit readable"),e.emit("readable"),I(e)}function A(e,t){t.readingMore||(t.readingMore=!0,n(x,e,t))}function x(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function D(e){h("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0==(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function k(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?k(this):S(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&k(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?C(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&k(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,r){var i=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,h("pipe count=%d opts=%j",s.pipesCount,r);var u=r&&!1===r.end||e===t.stdout||e===t.stderr?y:l;function l(){h("onend"),e.end()}s.endEmitted?n(u):i.once("end",u),e.on("unpipe",(function t(r,n){h("onunpipe"),r===i&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",t),i.removeListener("end",l),i.removeListener("end",y),i.removeListener("data",p),f=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,I(e))}}(i);e.on("drain",c);var f=!1,d=!1;function p(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==P(s.pipes,e))&&!f&&(h("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,d=!0),i.pause())}function v(t){h("onerror",t),y(),e.removeListener("error",v),0===a(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),y()}function g(){h("onfinish"),e.removeListener("close",m),y()}function y(){h("unpipe"),i.unpipe(e)}return i.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener("error",r);e._events&&e._events.error?o(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on("error",r)}(e,0,v),e.once("close",m),e.once("finish",g),e.emit("pipe",i),s.flowing||(h("pipe resume"),i.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=P(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},y.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):n(D,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n(O,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var i in e.on("end",(function(){if(h("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(i){h("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)&&(n.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],n.emit.bind(n,m[o]));return n._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},n},y._fromList=C}).call(t,r(1))},function(e,t,r){e.exports=r(25).EventEmitter},function(e,t,r){var n=r(15);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n(i,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){(function(t,n){var i=r(15);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var a,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i;g.WritableState=m;var u=r(9);u.inherits=r(5);var l,c={deprecate:r(129)},f=r(55),h=r(16).Buffer,d=window.Uint8Array||function(){},p=r(56);function v(){}function m(e,t){a=a||r(7),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,u=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i(o,n),i(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,o);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?s(b,e,r,a,o):b(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function g(e){if(a=a||r(7),!(l.call(g,this)||this instanceof a))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function y(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function b(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,y(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t)}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,c,f),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=w(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(g,f),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||e&&e._writableState instanceof m}})):l=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=(n=e,(h.isBuffer(n)||n instanceof d)&&!o.objectMode);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=v),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?i(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,r(1),r(127).setImmediate)},function(e,t,r){var n=r(16).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){e.exports=o;var n=r(7),i=r(9);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState=new function(e){this.afterTransform=function(t,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",(function(){"function"==typeof this._flush?this._flush((function(e,r){a(t,e,r)})):a(t)}))}function a(e,t,r){if(t)return e.emit("error",t);null!==r&&void 0!==r&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(5),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":l(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(139),i="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},function(e,t,r){var n=r(61).Symbol;e.exports=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e.name&&e.type&&void 0!==e.conditions};t.default={parse:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(n)}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=f(r(10)),o=f(r(11)),a=f(r(8)),s=f(r(22)),u=f(r(14)),l=f(r(40)),c=(n=r(4))&&n.__esModule?n:{default:n};function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}t.default=Object.assign({},u,{Config:c.default,Entities:s,Parsers:a,Setters:i,Repositories:o,Context:l})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(2))&&n.__esModule?n:{default:n},a=function(){function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.flagRepo=t,this.experimentsRepo=r}return i(e,[{key:"prepareFlagsWithExperiments",value:function(){var e=this,t=this.experimentsRepo.experiments||[];o.default.debug("Set experiments "+JSON.stringify(t));var r=[];t.forEach((function(t){t&&t.flags.forEach((function(n){if(n){var i=e.flagRepo.flagWithName(n.name);i&&(r.push(i),e.connectExperimentToFlag(i,t.deploymentConfiguration.condition))}}))})),this.flagRepo.flags.forEach((function(t){r.some((function(e){return e===t}))||e.connectExperimentToFlag(t,void 0)}))}},{key:"setAddedFlag",value:function(e){var t=this.experimentsRepo.experimentForFlag(e);t&&this.connectExperimentToFlag(e,t.deploymentConfiguration.condition)}},{key:"connectExperimentToFlag",value:function(e,t){e.condition=t}}]),e}();t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(r(17)),o=a(r(2));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return n(e,[{key:"prepareConfigurations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.default.debug("Set remote configurations "+JSON.stringify(e)),e.forEach((function(e){var t=e.name,r=e.conditions,n=i.default.remoteConfigurationWithName(t);n&&(n.condition=r)}),this)}}]),e}();t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.RoxxTokenizer=t.RoxxTokenTypeRand=t.RoxxTokenTypeRator=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(68))&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(26)),s=Object.keys(a),u=t.RoxxTokenTypeRator="operator",l=t.RoxxTokenTypeRand="operand";t.RoxxTokenizer=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.tokenArray=[],this.arrayAccumulator=void 0,this.dictionaryAccumulator=void 0,this.dictKey=void 0}return i(e,[{key:"_stringToRoxx",value:function(e){return s.includes(e)?{type:u,value:e}:"true"==e?{type:l,value:!0}:"false"==e?{type:l,value:!1}:"undefined"==e?{type:l,value:void 0}:'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)?{type:l,value:e.substr(1,e.length-2)}:isNaN(e)?{type:"UNKNOWN"}:{type:l,value:+e}}},{key:"push",value:function(e){this.dictionaryAccumulator&&!this.dictKey?this.dictKey=e.value:this.dictionaryAccumulator&&this.dictKey?(this.dictionaryAccumulator[this.dictKey]=e.value,this.dictKey=void 0):this.arrayAccumulator?this.arrayAccumulator.push(e.value):this.tokenArray.push(e)}},{key:"tokenize",value:function(e){this.tokenArray=[],this.arrayAccumulator=void 0,this.dictionaryAccumulator=void 0;for(var t,r,n='{}[]():, \t\r\n"',i=e.replace('\\"',"\\RO_Q"),a=new o.default(i,n,!0);a.hasMoreTokens();)switch(r=t,t=a.nextTokenWithDelimiters(n)){case"{":this.dictionaryAccumulator={};break;case"}":this.tokenArray.push({type:l,value:this.dictionaryAccumulator}),this.dictionaryAccumulator=void 0;break;case"[":this.arrayAccumulator=[];break;case"]":this.tokenArray.push({type:l,value:this.arrayAccumulator}),this.arrayAccumulator=void 0;break;case'"':'"'==r&&this.push({type:l,value:""}),n='"'==n?'{}[]():, \t\r\n"':'"';break;default:'"'==n?this.push({type:l,value:t.replace("\\RO_Q",'\\"')}):-1=='{}[]():, \t\r\n"'.indexOf(t)&&this.push(this._stringToRoxx(t))}return this.tokenArray}}]),e}()},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._string=t,this._delimiters=r,this._returnDelim=n,this._position=0}return n(e,[{key:"countTokens",value:function(){for(var e=0,t=!1,r=this._position,n=this._string.length;r<n;r++)-1!=this._delimiters.indexOf(this._string.charAt(r))?(this._returnDelim&&e++,t&&(e++,t=!1)):t=!0;return t&&e++,e}},{key:"hasMoreElements",value:function(){return this.hasMoreTokens()}},{key:"hasMoreTokens",value:function(){if(!this._delimiters)return!1;var e=this._string.length;if(this._position<e){if(this._returnDelim)return!0;for(var t=this._position;t<e;t++)if(-1==this._delimiters.indexOf(this._string.charAt(t)))return!0}return!1}},{key:"nextElement",value:function(){return this.nextToken()}},{key:"nextToken",value:function(){if(this._delimiters){var e=this._position,t=this._string.length;if(e<t){if(this._returnDelim){if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.charAt(this._position++);for(this._position++;this._position<t;this._position++)if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.substr(e,this._position-e);return this._string.substr(e)}for(;e<t&&-1!=this._delimiters.indexOf(this._string.charAt(this._position));)e++;if(this._position=e,e<t){for(this._position++;this._position<t;this._position++)if(-1!=this._delimiters.indexOf(this._string.charAt(this._position)))return this._string.substr(e,this._position-e);return this._string.substr(e)}}}}},{key:"nextTokenWithDelimiters",value:function(e){return this._delimiters=e,this.nextToken()}}]),e}();t.default=i},function(e,t,r){t.byteLength=function(e){return 3*e.length/4-l(e)},t.toByteArray=function(e){var t,r,n,a,s,u=e.length;a=l(e),s=new o(3*u/4-a),r=a>0?u-4:u;var c=0;for(t=0;t<r;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[c++]=n>>16&255,s[c++]=n>>8&255,s[c++]=255&n;return 2===a?(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[c++]=255&n):1===a&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[c++]=n>>8&255,s[c++]=255&n),s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o="",a=[],s=0,u=r-i;s<u;s+=16383)a.push(c(e,s,s+16383>u?u:s+16383));return 1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="="),a.push(o),a.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,h=r?-1:1,d=e[t+f];for(f+=h,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=l}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[r+d]=255&a,d+=p,a/=256,l-=8);e[r+d-p]|=128*v}},function(e,t){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?t.push(r.charAt(i>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(e.charAt(n))>>>6-2*i);return t}},e.exports=n},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){var n=r(0),i=r(31),o=r(74),a=r(37);function s(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var u=s(r(34));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=r(38),u.CancelToken=r(87),u.isCancel=r(33),u.all=function(e){return c.all(e)},u.spread=r(88),e.exports=u,e.exports.default=u},function(e,t,r){var n=r(0),i=r(32),o=r(75),a=r(76),s=r(37);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],r=c.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,i){return this.request(n.merge(i||{},{method:e,url:t,data:r}))}})),e.exports=u},function(e,t,r){var n=r(0);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){var n=r(0),i=r(77),o=r(33),a=r(34);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),c.reject(t)}))}},function(e,t,r){var n=r(0);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},function(e,t,r){var n=r(0);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){var n=r(36);e.exports=function(e,t,r){var i=r.config.validateStatus;!i||i(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},function(e,t,r){e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){var n=r(82),i=r(83);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,r){e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){var n=r(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){var n=r(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){var n=r(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){var n=r(38);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new c((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=u(r(90)),a=u(r(148)),s=u(r(63));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),!t||"object"!==(void 0===t?"undefined":n(t)))throw new Error("ConfigurationParser should be constructed with JSON object. Received "+t);if(!r||"string"!=typeof r)throw new Error("ConfigurationParser should be constructed with app key string. Received "+r);this._json=t,this._appKey=r,this._validateAppKey=i}return i(e,[{key:"parse",value:function(){var e=this._extractInnerJson(this._json);return this._validateAppKey&&e.application!==this._appKey?null:(this._parseExperiments(e.experiments),this._parseTargetGroups(e.targetGroups),this._parseRemoteConfigurations(e.remoteVariables),this._signedDate=new Date(this._json.signed_date),this)}},{key:"experiments",value:function(){return this._experiments||[]}},{key:"targetGroups",value:function(){return this._targetGroups||[]}},{key:"remoteConfigurations",value:function(){return this._configurations||[]}},{key:"signedDate",value:function(){return this._signedDate}},{key:"_extractInnerJson",value:function(e){return JSON.parse(e.data)}},{key:"_parseExperiments",value:function(e){this._experiments=new o.default(e).parse()}},{key:"_parseTargetGroups",value:function(e){this._targetGroups=new a.default(e).parse()}},{key:"_parseRemoteConfigurations",value:function(e){this._configurations=s.default.parse(e)}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(22),o=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._json=t}return n(e,[{key:"parse",value:function(){if(!this._json||!this._json.length)return[];var e=[];return this._json.forEach((function(t){if(t&&t.deploymentConfiguration&&t._id&&t.name&&t.featureFlags){var r=t.deploymentConfiguration;if(r.condition){var n=t.labels||[],o=new i.DeploymentConfiguration(r.condition);e.push(new i.Experiment(t._id,t.name,!!t.archived,!!t.sticky,o,t.featureFlags,n,t.stickinessProperty))}}})),e}}]),e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(39))&&n.__esModule?n:{default:n},a=function(e){function t(){return function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"name",get:function(){return"rox."+function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"name",this)}}]),t}();t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.condition=t}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r,n,i,o,a,s,u){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.identifier=t,this.name=r,this.archived=n,this.sticky=i,this.deploymentConfiguration=o,this.flags=a,this.labels=s,this.stickinessProperty=u}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(8),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(40)),s=new o.RoxxParser,u=["string","boolean","number"],c=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var r=void 0===t?"undefined":n(t);if(this._entityType="configuration",-1===u.indexOf(r))throw new Error("RoxConfiguration initialized with wrong type '"+r+"'");Object.defineProperty(this,"_defaultValue",{value:t,writable:!1,enumerable:!1}),Object.defineProperty(this,"_value",{value:t,writable:!0,enumerable:!1}),Object.defineProperty(this,"_type",{value:r,writable:!1,enumerable:!1}),Object.defineProperty(this,"_externalType",{value:r.charAt(0).toUpperCase()+r.slice(1),writable:!1,enumerable:!1}),Object.defineProperty(this,"_name",{value:null,writable:!0,enumerable:!1})}return i(e,[{key:"getValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.condition){var t=a.Actions.getMergedContextWithGlobal(e),r=s.evaluateExpression(this.condition,{},t);this._type!==(void 0===r?"undefined":n(r))||void 0===r?this._value=this._defaultValue:this._value=r}return this._value}},{key:"name",get:function(){return this._name}},{key:"type",get:function(){return this._type}},{key:"externalType",get:function(){return this._externalType}},{key:"defaultValue",get:function(){return this._defaultValue}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getMergedContext=function(e,t){if(!e)return i(t);var r=Object.assign({},e,t);return i(r)},t.getMergedContextWithGlobal=function(e){var t=n.getContext();if(!e)return t;var r=Object.assign({},t,e);return i(r)};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(41)),i=r(42)},function(e,t,r){(function(t){var n=Symbol.prototype.valueOf,i=r(97);e.exports=function(e,r){switch(i(e)){case"array":return e.slice();case"object":return Object.assign({},e);case"date":return new e.constructor(Number(e));case"map":return new Map(e);case"set":return new Set(e);case"buffer":return function(e){var r=e.length,n=t.allocUnsafe?t.allocUnsafe(r):t.from(r);return e.copy(n),n}(e);case"symbol":return function(e){return n?Object(n.call(e)):{}}(e);case"arraybuffer":return function(e){var t=new e.constructor(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}(e);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function(e,t){return new e.constructor(e.buffer,e.byteOffset,e.length)}(e);case"regexp":return function(e){var t=void 0!==e.flags?e.flags:/\w+$/.exec(e)||void 0,r=new e.constructor(e.source,t);return r.lastIndex=e.lastIndex,r}(e);case"error":return Object.create(e);default:return e}}}).call(t,r(3).Buffer)},function(e,t){var r=Object.prototype.toString;function n(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=void 0===e?"undefined":l(e);if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===n(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(n(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=r.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t){var r=Object.prototype.toString;function n(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=void 0===e?"undefined":l(e);if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===n(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(n(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=r.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,r){var n=r(100);function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},function(e,t,r){e.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":l(e))&&!1===Array.isArray(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.callContextTypes=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(44);function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var a=t.callContextTypes={frozenOrCalc:"frozenValueOrOneTimeEval",oneTimeCalc:"oneTimeEval",default:"useFrozen"},s=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._entityType="variant",this._validateDefault(t),Array.isArray(r)?(this._options=[].concat(o(r)),this._validateOptions(),this._name=n):(this._options=[],r&&"string"==typeof r&&(this._name=r)),-1===this._options.indexOf(t)&&this._options.push(t),this._value=this._defaultValue=t,this._type="string",this._frozen=!1,this._freezable=!0}return n(e,[{key:"_validateDefault",value:function(e){if("string"!=typeof e)throw new Error("RoxVariant default value must be string. Received '"+e+"'")}},{key:"_validateOptions",value:function(){var e=new Error("RoxVariant options must be a non-empty array of strings. Received '"+this._options+"'");if(!this._options.every((function(e){return"string"==typeof e})))throw e}},{key:"getInternalValue",value:function(){throw Error("not implemented")}},{key:"_getNameDetails",value:function(){if(this.name){var e=this.name.split(".");return{name:e.pop(),namespace:e.join(".")||"default"}}}},{key:"dump",value:function(){return{name:this.name,nameDetails:this._getNameDetails(),options:[].concat(o(this._options)),defaultValue:this.defaultValue,originalValue:this._originalValue(),overridingValue:this.overridenValue,value:this.getInternalValue({dontInvokeFlagImpression:!0,type:a.frozenOrCalc})}}},{key:"_originalValue",value:function(){return this.getActiveValue({dontInvokeFlagImpression:!0,type:a.frozenOrCalc})}},{key:"_flagImpression",value:function(e,t){(0,i.invokeImpression)(e,this,t)}},{key:"defaultValue",get:function(){return this._defaultValue}},{key:"overridenValue",get:function(){if(this.overrider.hasOverride(this.name))return this.overrider.getOverride(this.name)}},{key:"name",set:function(e){this._name=e},get:function(){return this._name}}]),e}();t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(103),a=r(104),s=r(8),u=r(10),f=_(r(20)),h=r(23),d=_(r(4)),p=_(r(18)),v=_(r(6)),m=_(r(13)),g=_(r(2)),y=r(48),b=_(r(105));function _(e){return e&&e.__esModule?e:{default:e}}var w=d.default.get("CLIENT_DATA_CACHE_KEY"),E=!1,S=function(){function e(t,r,n,i,o,a,s){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.cache=i.RoxCache,this.crypto=i.RoxCrypto,this.embdeddedJSON=this.fetchFromEmbedded(o),this.appKey=t,this.deviceProperties=r,this.devModeSecret=n,this.options=a||{},this.networkOptions=s,this.lastResponse=null}return i(e,[{key:"runHandler",value:function(e,t){if(t.errorDetails&&f.default.error("Configuration fetcher returned with "+t.fetcherStatus,t.errorDetails),e instanceof Function)try{e(t)}catch(e){}}},{key:"dispatch",value:function(e){var t=e.handler,r=e.options;g.default.debug("dispatch();");var n=[];if(r.useCache){if(this.embdeddedJSON){if(!this.verifyPayload(this.embdeddedJSON))throw new Error("The embdeddedJSON was corrupted or its authenticity cannot be securely verified.");var i=this.parsePayload(this.embdeddedJSON);i&&n.push({payload:this.embdeddedJSON,parser:i,status:y.FetcherStatus.APPLIED_FROM_EMBEDDED})}var o=this.fetchFromCache();if(o){if(!this.verifyPayload(o))throw new Error("The cachedPayload was corrupted or its authenticity cannot be securely verified.");var a=this.parsePayload(o);a&&n.push({payload:o,parser:a,status:y.FetcherStatus.APPLIED_FROM_CACHE})}}if(n.length>0){var s=n.reduce((function(e,t){return e&&e.parser.signedDate()>t.parser.signedDate()?e:t}),null);(!this.lastApplied||this.lastApplied.signedDate()<s.parser.signedDate())&&(this.lastResponse=s.payload,this.apply(s.parser,s.status,!1,t,s.payload))}if(!r.skipNetwork){if(!this.shouldSkipFetch(r.source))return this._dispatch({handler:t,storeInCache:!0});g.default.debug("Skipping fetch - kill switch")}}},{key:"shouldSkipFetch",value:function(e){var t="push"===e,r=(0,h.getNumber)("rox.internal.throttleFetchInSeconds");if(r>0&&(!t||(0,h.isEnabled)("rox.internal.considerThrottleInPush"))){var n=+Date.now();if(this.lastFetchTryTime&&n<this.lastFetchTryTime+1e3*r)return!0;this.lastFetchTryTime=n}return!1}},{key:"dispatchPeriodically",value:function(e){var t=this,r=e.handler,n=e.periodTimeInSec;if(E)return g.default.debug("Dispatch Periodically already running"),c.resolve();E=!0,g.default.debug("Dispatch Periodically"),setInterval((function(){t._dispatch({handler:r})}),1e3*n)}},{key:"_dispatch",value:function(e){var t=this,r=e.handler,n=e.storeInCache;return this.fetchFromNetwork().then((function(e){var i=t.isNewResponse(e);return t.process(e,y.FetcherStatus.APPLIED_FROM_NETWORK,i,r).then((function(){n&&t.storeInCache(e),t.lastResponse=e}))})).catch((function(e){t.runHandler(r,new y.FetcherResults(y.FetcherStatus.ERROR_FETCH_FAILED,null,!1,e))}))}},{key:"fetchFromNetwork",value:function(){g.default.debug("fetch from network for appKey "+this.appKey);var e=(0,a.buildRequestConfiguration)({appKey:this.appKey,deviceProperties:this.deviceProperties,devModeSecret:this.devModeSecret});return this.rc=e,this.options.roxyUrl?(0,o.fetchRemoteConfigurationWithRoxy)(e,this.options.roxyUrl,this.networkOptions):(0,o.fetchRemoteConfiguration)(e,this.networkOptions,this.options)}},{key:"fetchFromCache",value:function(){g.default.debug("fetch From Cache");var e=this.cache.get(this.cacheKey());e||(e=this.cache.get(w));var t=void 0;if(e){try{t=JSON.parse(e)}catch(e){g.default.warn("Configuration retrieved from cache, but is corrupted. Aborting. (Error: "+e+")")}if(t&&t.constructor===Object)return g.default.debug("Parsed cached = "+JSON.stringify(t)),t}}},{key:"cacheKey",value:function(){return w+"-"+this.appKey}},{key:"fetchFromEmbedded",value:function(e){var t=void 0;if(e){try{t=JSON.parse(e)}catch(e){g.default.warn("Received embdedded configuration, but it is corrupted. Aborting. Error: ",e)}if(t&&t.constructor===Object)return g.default.debug("Parsed embedded = "+JSON.stringify(t)),t}if(b.default&&"object"===(void 0===b.default?"undefined":n(b.default)))return b.default}},{key:"storeInCache",value:function(e){g.default.debug("Store in cache response = "+JSON.stringify(e)),this.cache.set(this.cacheKey(),JSON.stringify(e))}},{key:"process",value:function(e,t,r,n){if(!e)return c.reject("Empty configuration");if(!this.verifyPayload(e))throw new Error("The payload has corrupted or its authenticity cannot be securely verified.");var i=this.parsePayload(e);return i?this.apply(i,t,r,n,e):c.reject("Failed to parse configuration")}},{key:"apply",value:function(e,t,r,n,i){var o=this;if(e)return this.calculatePayload(e),this.lastApplied=e,new c((function(a){var s=new y.FetcherResults(t,e.signedDate(),r,void 0,i);o.runHandler(n,s),a()}))}},{key:"parsePayload",value:function(e){var t=!this.options.roxyUrl,r=new s.ConfigurationParser(e,this.appKey,t);return r.parse()?r:(g.default.debug("failed to parse payload. response = "+JSON.stringify(e)+" deviceProps = "+this.deviceProperties+" app_key = "+this.appKey),null)}},{key:"verifyPayload",value:function(e){var t=e.signature_v0,r=e.data;return!(!this.options.roxyUrl&&!this.options.selfManagedMode)||this.crypto.verify(r,t)}},{key:"calculatePayload",value:function(e){if(e)return p.default.setTargetGroups(e.targetGroups()),v.default.setExperiments(e.experiments()),(new u.ConfigurationSetter).prepareConfigurations(e.remoteConfigurations()),new u.FlagsSetter(m.default,v.default).prepareFlagsWithExperiments(),e}},{key:"isNewResponse",value:function(e){return JSON.stringify(this.lastResponse)!==JSON.stringify(e)}},{key:"cacheURL",get:function(){return this.rc&&this.rc.cache_url}}]),e}();t.default=S},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRemoteConfigurationWithRoxy=function(e,t,r){var o=(0,n.buildAPIURL)(e,t);return u((0,i.fetchFromRoxyAPI)(o.url,r))},t.fetchRemoteConfiguration=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.cache_url+"?distinct_id="+e.distinct_id;if(r.selfManagedMode&&!a.default.get("CD_S3_ENDPOINT")){var s=(0,n.buildAPIURL)(e);return u((0,i.fetchFromAPI)(s.url,s.body,t))}return u((0,i.fetchFromCDN)(o,t).catch((function(){var r=(0,n.buildAPIURL)(e);return(0,i.fetchFromAPI)(r.url,r.body,t)})))};var n=r(45),i=r(46),o=s(r(2)),a=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return e.catch((function(e){throw e.message="Unable to fetch rox configuration!\n"+e.message,o.default.error(e),e}))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.buildRequestConfiguration=void 0;var n,i=(n=r(4))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(47));t.buildRequestConfiguration=function(e){var t=e.appKey,r=e.deviceProperties,n=e.devModeSecret,a=r.getProperties();return a.app_key=t,a.buid=o.generateBuid(a),a.buid_generators_list=o.BUID_GENERATOR_LIST.join(","),a.relative_url=t+"/"+a.buid,a.cache_url=""+i.default.get("CD_S3_ENDPOINT")+a.relative_url,a.devModeSecret=n,a}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=void 0,i=void 0;try{i=$__ROX_EMBEDDED_CONTENT}catch(e){}if(i&&"string"==typeof i)try{i=JSON.parse(i)}catch(e){i=void 0}i&&i.constructor===Object&&i.signed_date&&(n=i),t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(11),o={flagsRepository:i.Flags,configurationRepository:i.Configuration},a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.options=Object.assign({},o,t),this._flagsRepository=this.options.flagsRepository,this._configurationRepository=this.options.configurationRepository,this._namespaceStore=new Set}return n(e,[{key:"handleContainer",value:function(e,t){if("[object String]"!==Object.prototype.toString.call(e))throw new Error("InvalidNamespace: Namespace must be a string (non-nullable).");if(this._namespaceStore.has(e))throw new Error("InvalidNamespace: A namespace must be unique. A container with the given namespace ('"+e+"') has already been registered.");for(var r in this._namespaceStore.add(e),t)if(t.hasOwnProperty(r)){var n=e?e+"."+r:r,i=t[r];"flag"!==i._entityType&&"variant"!==i._entityType||this._flagsRepository.addFlag(n,i),"configuration"===i._entityType&&this._configurationRepository.addRemoteConfiguration(n,i)}}}]),e}();t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.cache=t,this._uuid=r,this.distinct_id=this.generateDistinctId(),this.app_release="0.0",this.distinctIdSetExplicitly=!1}return n(e,[{key:"setPlatform",value:function(e){this.platform=e}},{key:"setDistinctId",value:function(e){this.distinctIdSetExplicitly=!0,this.distinct_id=e}},{key:"setAppRelease",value:function(e){this.app_release=e}},{key:"uuid",value:function(){return this._uuid()}},{key:"generateDistinctId",value:function(){var e=this.cache.get("distinctId");return e||(e=this.uuid(),this.cache.set("distinctId",e)),e}}]),e}();t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var n="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S=Object.assign({},S,e),T._dynamicApi=new s.default(e.EntitiesProvider,a.Flags,T),T};var o=r(14),a=r(11),s=w(r(50)),u=w(r(4)),f=r(22),h=r(8),d=r(44),p=w(r(109)),v=w(r(110)),m=r(23),g=r(30),y=w(r(137)),b=r(48),_=w(r(146));function w(e){return e&&e.__esModule?e:{default:e}}var E=5e3,S={ClassRegister:o.ClassRegister},T=new(t.Client=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.classRegisterer=new S.ClassRegister,this.sendStateDebounceNoCheck=(0,y.default)((function(){t._sendState()}),r,{maxWait:r,leading:!1,trailing:!0}),this.sendStateDebounced=function(){t.appKey&&t.sendStateDebounceNoCheck()},this.onConfigurationFetched=this.onConfigurationFetched.bind(this)}return i(e,[{key:"setKey",value:function(e){if(!/^[a-f\d]{24}$/i.test(e))throw Error("invalid rollout apikey");this.app_key=e}},{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{this.handleOptions(e),S.DeviceProperties=S.DeviceProperties.create?S.DeviceProperties.create(S):S.DeviceProperties,this.app_release&&S.DeviceProperties.setAppRelease(this.app_release),this.distinct_id&&S.DeviceProperties.setDistinctId(this.distinct_id),this.platform&&S.DeviceProperties.setPlatform(this.platform),this.deviceProperties=S.DeviceProperties,o.BugsnagReporter.init(this.appKey,S.DeviceProperties,this.networkOptions,this.selfManagedMode),this.configurationFetcher=new o.ConfigurationFetcher(this.appKey,this.deviceProperties,this.devModeSecret,S,this.embeddedConfiguration,{roxyUrl:this.roxyUrl,selfManagedMode:this.selfManagedMode},this.networkOptions),this.roxyUrl||(this.stateSender=new _.default(this.appKey,this.deviceProperties,this.devModeSecret,this.networkOptions,{selfManagedMode:this.selfManagedMode}),this.disableNetwork||(0,d.setAnalytics)(new p.default(this.appKey,Object.assign({},this.analyticsOptions),S.DeviceProperties,this.networkOptions))),S.getDefaultCustomProperties(this.deviceProperties,this.appKey).map(a.CustomProperties.setIfNotExists.bind(a.CustomProperties))}catch(e){var t="Oh uh! An error occured during setup.";o.RoxLogger.error(t,e),o.BugsnagReporter.error(t,e)}return c.resolve(this)}},{key:"handleOptions",value:function(e){var t=Object.assign({},S.DefaultSetupOptions,e);if(t.selfManaged&&"object"===n(t.selfManaged)){if(!t.selfManaged.analyticsURL)throw new Error("analyticsURL is required on self managed mode");if(!t.selfManaged.serverURL)throw new Error("serverURL is required on self managed mode");e.selfManaged.configurationURL&&(t.selfManaged.configurationURL=e.selfManaged.configurationURL.endsWith("/")?e.selfManaged.configurationURL:e.selfManaged.configurationURL+"/"),e.selfManaged.stateURL&&(t.selfManaged.stateURL=e.selfManaged.stateURL.endsWith("/")?e.selfManaged.stateURL:e.selfManaged.stateURL+"/"),u.default.setSelfManagedMode(t.selfManaged),(0,m.setDefaultsMode)(!0),this.selfManagedMode=!0}t.configuration&&t.configuration.disableNetwork&&(this.disableNetwork=!0),this.embeddedConfiguration=t.embedded,this.fetchIntervalInSec=t.fetchIntervalInSec,this.disablePushUpdateListener=!!(this.disableNetwork||this.selfManagedMode&&!t.selfManaged.pushUpdateURL)||t.disablePushUpdateListener,this.configurationFetchedHandler=t.configurationFetchedHandler,this.impressionHandler=t.impressionHandler,this.app_release=t.version,this.distinct_id=t.distinctId,this.devModeSecret=t.devModeSecret,this.platform=t.platform,this.roxyUrl=t.roxy,this.networkOptions={httpAgent:t.httpAgent,httpsAgent:t.httpsAgent},this.analyticsOptions=t.analytics,this.eventSourceImpl=t.eventSourceImpl,this.notificationEndpoint=t.configuration&&t.configuration.NOTIFICATIONS_ENDPOINT?t.configuration.NOTIFICATIONS_ENDPOINT:u.default.get("NOTIFICATIONS_ENDPOINT"),(0,d.setHandler)(this.impressionHandler),e.logger&&o.RoxLogger.setLogger(e.logger)}},{key:"fetchPeriodically",value:function(){if(!this.app_key)return o.RoxLogger.warn("no app key"),c.reject();if(this.fetchIntervalInSec<=0)return c.resolve();this.fetchIntervalInSec<30&&(this.fetchIntervalInSec=30);var e=this._fetch({useCache:!1});return this.configurationFetcher.dispatchPeriodically({handler:this.onConfigurationFetched,periodTimeInSec:this.fetchIntervalInSec}),e}},{key:"fetchCacheOnly",value:function(){return this._fetch({useCache:!0,skipNetwork:!0})}},{key:"fetchWithCacheAndProceed",value:function(){return this._fetch({useCache:!0})}},{key:"fetch",value:function(){return this._fetch({useCache:!1})}},{key:"_fetchFromPush",value:function(){return this._fetch({useCache:!1,source:"push"})}},{key:"sendState",value:function(){this._sendState()}},{key:"_sendState",value:function(){this.sendStateDebounceNoCheck.cancel(),this.app_key&&(this.disableNetwork?o.RoxLogger.debug("send state - disabled network"):this.stateSender&&this.stateSender.send())}},{key:"_fetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.app_key){if(this.configurationFetcher)return this.disableNetwork&&(o.RoxLogger.debug("fetch - disabling network"),e.skipNetwork=!0),this.configurationFetcher.dispatch({handler:this.onConfigurationFetched,options:e})}else o.RoxLogger.warn("no app key")}},{key:"register",value:function(e,t){o.RoxLogger.debug("Registering container '"+e+"' = "+JSON.stringify(t)),this.classRegisterer.handleContainer(e,t),this.sendStateDebounced()}},{key:"setCustomProperty",value:function(e,t,r){var n=new f.CustomProperty(e,t,r),i=!a.CustomProperties.has(n);a.CustomProperties.set(n),i&&this.sendStateDebounced()}},{key:"unfreeze",value:function(e,t){var r=function(t){if(!t.name||"string"!=typeof e)return!0;var r=t.name.split(".");return 1===r.length&&""===e||r.slice(0,r.length-1).join(".")===e};a.Flags.flags.filter(r).forEach((function(e){e.unfreeze(t)})),a.Configuration.remoteConfigurations.filter(r).forEach((function(e){e.unfreeze(t)}))}},{key:"onConfigurationFetched",value:function(e){try{e.fetcherStatus!==b.FetcherStatus.ERROR_FETCH_FAILED&&this.startOrStopPushUpdatesListener()}catch(e){o.RoxLogger.warn("Cound not start or stop push notification listener. exception: "+e)}if(this.configurationFetchedHandler instanceof Function)try{return this.configurationFetchedHandler(e)}catch(e){}}},{key:"startOrStopPushUpdatesListener",value:function(){var e=this;!this.disablePushUpdateListener&&(0,m.isEnabled)("rox.internal.pushUpdates")?this.app_key&&(this.pushUpdatesListener||(this.pushUpdatesListener=new v.default(this.notificationEndpoint,this.app_key,this.eventSourceImpl),this.pushUpdatesListener.on("changed",(function(){e._fetchFromPush()})))):this.pushUpdatesListener&&(this.pushUpdatesListener.stop(),this.pushUpdatesListener=null)}},{key:"setDynamicCustomPropertyRule",value:function(e){(0,g.setDynamicPropertyHandler)(e)}},{key:"dynamicApi",get:function(){return this._dynamicApi}},{key:"appKey",get:function(){return this.app_key}},{key:"metadata",get:function(){var e=new h.RoxxParser;return{targetGroups:a.TargetGroups.targetGroups.map((function(t){return{name:t.name,isEnabled:e.evaluateExpression(t.condition)}})),experiments:a.Experiments.experiments.map((function(t){return{name:t.name,isEnabled:(r=e.evaluateExpression(t.deploymentConfiguration.condition),"true"===r)};var r})),remoteConfigurations:a.Configuration.remoteConfigurations.map((function(e){return{name:e.name,value:e.value}})),flags:a.Flags.flags.map((function(e){return{name:e.name,value:e._peek()}}))}}},{key:"cacheURL",get:function(){if(!this.configurationFetcher||!this.configurationFetcher.cacheURL)throw new Error("Rox was not initialized. Please call setup() before calling cacheURL()");return this.configurationFetcher.cacheURL}}]),e}())},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(4))&&n.__esModule?n:{default:n},a=r(21).create(),s=function(e){setTimeout(e,5)},u=function(){},l=function(){function e(t,r,n,i){if(function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),r=r||{},this.queue=[],this.writeKey=t,this.host=r.host||o.default.get("ANALYTICS_ENDPOINT"),this.timeout=r.timeout||!1,this.flushAt=Math.max(r.flushAt||20,1),this.flushInterval=r.flushInterval||1e4,this.flushed=!1,this.version=n.getProperties().lib_version||"0.0",void 0===n.getProperties().platform)throw new Error("Platform must be provided");this.platform=n.getProperties().platform||"",this.networkOptions=i,Object.defineProperty(this,"enable",{configurable:!1,writable:!1,enumerable:!0,value:"boolean"!=typeof r.enable||r.enable})}return i(e,[{key:"identify",value:function(e,t){return this.enqueue("identify",e,t),this}},{key:"group",value:function(e,t){return this.enqueue("group",e,t),this}},{key:"track",value:function(e,t){return this.enqueue("track",e,t),this}},{key:"page",value:function(e,t){return this.enqueue("page",e,t),this}},{key:"screen",value:function(e,t){return this.enqueue("screen",e,t),this}},{key:"alias",value:function(e,t){return this.enqueue("alias",e,t),this}},{key:"enqueue",value:function(e,t,r){return r=r||u,this.enable?(t=Object.assign({},t),this.queue.push({message:t,callback:r}),this.flushed?(this.queue.length>=this.flushAt&&this.flush(),void(this.flushInterval&&!this.timer&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval)))):(this.flushed=!0,void this.flush())):s(r)}},{key:"flush",value:function(e){if(e=e||u,!this.enable)return s(e);if(this.timer&&(clearTimeout(this.timer),this.timer=null),!this.queue.length)return s(e);var t=this.queue.splice(0,this.flushAt),r=t.map((function(e){return e.callback})),n=t.map((function(e){return e.message})),i={analyticsVersion:"1.0.0",sdkVersion:this.version,time:(new Date).getTime(),platform:this.platform,rolloutKey:this.writeKey,events:n},o=function(t){r.forEach((function(e){return e(t)})),e(t,i)},l={method:"POST",url:this.host+"/impression/"+this.writeKey,data:i,httpsAgent:this.networkOptions.httpsAgent,httpAgent:this.networkOptions.httpAgent};this.timeout&&(l.timeout=this.timeout),a(l).then((function(){return o()})).catch((function(e){if(e.response){var t=new Error(e.response.statusText);return o(t)}o(e)}))}}]),e}();t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o="function"==typeof Symbol&&"symbol"==l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)},a=(n=r(111))&&n.__esModule?n:{default:n},s="object"===("undefined"==typeof window?"undefined":o(window))&&window.EventSource?window.EventSource:a.default,u=function(){function e(t,r,n){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var i=t+(t.endsWith("/")?"":"/")+r;this.eventSource=n?new n(i):new s(i)}return i(e,[{key:"on",value:function(e,t){this.eventSource.addEventListener(e,(function(e){try{t(e)}catch(e){}}))}},{key:"stop",value:function(){this.eventSource.close()}}]),e}();t.default=u},function(e,t,r){(function(t,n){var i=r(112),o=r(24).parse,a=r(25),s=r(122),u=r(51),l=r(134),c=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],f=[239,187,191],h=58,d=32,p=10,v=13;function m(e,r){var a=m.CONNECTING;Object.defineProperty(this,"readyState",{get:function(){return a}}),Object.defineProperty(this,"url",{get:function(){return e}});var l,y=this;function b(t){a!==m.CLOSED&&(a=m.CONNECTING,x("error",new g("error",{message:t})),T&&(e=T,T=null),setTimeout((function(){a===m.CONNECTING&&A()}),y.reconnectInterval))}y.reconnectInterval=1e3;var _="";r&&r.headers&&r.headers["Last-Event-ID"]&&(_=r.headers["Last-Event-ID"],delete r.headers["Last-Event-ID"]);var w=!1,E="",S="",T=null;function A(){var i=o(e),d="https:"===i.protocol;if(i.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},_&&(i.headers["Last-Event-ID"]=_),r&&r.headers)for(var E in r.headers){var S=r.headers[E];S&&(i.headers[E]=S)}if(i.rejectUnauthorized=!(r&&!r.rejectUnauthorized),r&&r.proxy){var O=o(r.proxy);d="https:"===O.protocol,i.protocol=d?"https:":"http:",i.path=e,i.headers.Host=i.host,i.hostname=O.hostname,i.host=O.host,i.port=O.port}if(r&&r.https)for(var I in r.https)if(-1!==c.indexOf(I)){var C=r.https[I];void 0!==C&&(i[I]=C)}r&&void 0!==r.withCredentials&&(i.withCredentials=r.withCredentials),(l=(d?s:u).request(i,(function(r){if(500===r.statusCode||502===r.statusCode||503===r.statusCode||504===r.statusCode)return x("error",new g("error",{status:r.statusCode,message:r.statusMessage})),void b();if(301===r.statusCode||307===r.statusCode)return r.headers.location?(307===r.statusCode&&(T=e),e=r.headers.location,void t.nextTick(A)):void x("error",new g("error",{status:r.statusCode,message:r.statusMessage}));if(200!==r.statusCode)return x("error",new g("error",{status:r.statusCode,message:r.statusMessage})),y.close();a=m.OPEN,r.on("close",(function(){r.removeAllListeners("close"),r.removeAllListeners("end"),b()})),r.on("end",(function(){r.removeAllListeners("close"),r.removeAllListeners("end"),b()})),x("open",new g("open"));var i,o=!0;r.on("data",(function(e){i=i?n.concat([i,e]):e,o&&function(e){return f.every((function(t,r){return e[r]===t}))}(i)&&(i=i.slice(f.length)),o=!1;for(var t=0,r=i.length;t<r;){w&&(i[t]===p&&++t,w=!1);for(var a,s=-1,u=-1,l=t;s<0&&l<r;++l)(a=i[l])===h?u<0&&(u=l-t):a===v?(w=!0,s=l-t):a===p&&(s=l-t);if(s<0)break;D(i,t,u,s),t+=s+1}t===r?i=void 0:t>0&&(i=i.slice(t))}))}))).on("error",(function(e){b(e.message)})),l.setNoDelay&&l.setNoDelay(!0),l.end()}function x(){y.listeners(arguments[0]).length>0&&y.emit.apply(y,arguments)}function D(t,r,n,o){if(0===o){if(E.length>0){var a=S||"message";x(a,new function(e,t){for(var r in Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}(a,{data:E.slice(0,-1),lastEventId:_,origin:i(e)})),E=""}S=void 0}else if(n>0){var s,u=n<0,l=t.slice(r,r+(u?o:n)).toString();r+=s=u?o:t[r+n+1]!==d?n+1:n+2;var c=o-s,f=t.slice(r,r+c).toString();if("data"===l)E+=f+"\n";else if("event"===l)S=f;else if("id"===l)_=f;else if("retry"===l){var h=parseInt(f,10);Number.isNaN(h)||(y.reconnectInterval=h)}}}A(),this._close=function(){a!==m.CLOSED&&(a=m.CLOSED,l.abort&&l.abort(),l.xhr&&l.xhr.abort&&l.xhr.abort())}}function g(e,t){if(Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)for(var r in t)t.hasOwnProperty(r)&&Object.defineProperty(this,r,{writable:!1,value:t[r],enumerable:!0})}e.exports=m,l.inherits(m,a.EventEmitter),m.prototype.constructor=m,["open","error","message"].forEach((function(e){Object.defineProperty(m.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})})),Object.defineProperty(m,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(m,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(m,"CLOSED",{enumerable:!0,value:2}),m.prototype.CONNECTING=0,m.prototype.OPEN=1,m.prototype.CLOSED=2,m.prototype.close=function(){this._close()},m.prototype.addEventListener=function(e,t){"function"==typeof t&&(t._listener=t,this.on(e,t))},m.prototype.dispatchEvent=function(e){if(!e.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)},m.prototype.removeEventListener=function(e,t){"function"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}}).call(t,r(1),r(3).Buffer)},function(e,t,r){var n=r(113);function i(e){return"string"==typeof e&&(e=n(e)),e.protocol&&e.hostname?(e.protocol+"//"+e.host).toLowerCase():"null"}i.same=function(e,t){return i(e)===i(t)},e.exports=i},function(e,t,r){var n=r(114),i=r(115),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(e){return(e||"").toString().replace(s,"")}var c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function h(e){var t,r=("undefined"!=typeof window?window:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).location||{},n={},i=l(e=e||r);if("blob:"===e.protocol)n=new p(unescape(e.pathname),{});else if("string"===i)for(t in n=new p(e,{}),f)delete n[t];else if("object"===i){for(t in e)t in f||(n[t]=e[t]);void 0===n.slashes&&(n.slashes=o.test(e.href))}return n}function d(e){e=u(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,r){if(e=u(e),!(this instanceof p))return new p(e,t,r);var o,a,s,f,v,m,g=c.slice(),y=void 0===t?"undefined":l(t),b=this,_=0;for("object"!==y&&"string"!==y&&(r=t,t=null),r&&"function"!=typeof r&&(r=i.parse),t=h(t),o=!(a=d(e||"")).protocol&&!a.slashes,b.slashes=a.slashes||o&&t.slashes,b.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(g[3]=[/(.*)/,"pathname"]);_<g.length;_++)"function"!=typeof(f=g[_])?(s=f[0],m=f[1],s!=s?b[m]=e:"string"==typeof s?~(v=e.indexOf(s))&&("number"==typeof f[2]?(b[m]=e.slice(0,v),e=e.slice(v+f[2])):(b[m]=e.slice(v),e=e.slice(0,v))):(v=s.exec(e))&&(b[m]=v[1],e=e.slice(0,v.index)),b[m]=b[m]||o&&f[3]&&t[m]||"",f[4]&&(b[m]=b[m].toLowerCase())):e=f(e);r&&(b.query=r(b.query)),o&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(o=!0),r.splice(n,1),a--);return o&&r.unshift(""),"."!==i&&".."!==i||r.push(""),r.join("/")}(b.pathname,t.pathname)),n(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(f=b.auth.split(":"),b.username=f[0]||"",b.password=f[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}p.prototype={set:function(e,t,r){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,n(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!r;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(t="object"==l(r.query)?e(r.query):r.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(o+=r.hash),o}},p.extractProtocol=d,p.location=h,p.trimLeft=u,p.qs=i,e.exports=p},function(e,t,r){e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){var n=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(n.call(e,i)){if((r=e[i])||null!==r&&void 0!==r&&!isNaN(r)||(r=""),i=encodeURIComponent(i),r=encodeURIComponent(r),null===i||null===r)continue;o.push(i+"="+r)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in n||(n[o]=a)}return n}},function(e,t,r){(function(e){var n;!function(i){"object"==(void 0===t?"undefined":l(t))&&t&&t.nodeType,"object"==(void 0===e?"undefined":l(e))&&e&&e.nodeType;var o="object"==("undefined"==typeof window?"undefined":l(window))&&window;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=1,f=26,h=38,d=700,p=72,v=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,E=Math.floor,S=String.fromCharCode;function T(e){throw new RangeError(_[e])}function A(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function x(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+A((e=e.replace(b,".")).split("."),t).join(".")}function D(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function O(e){return A(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+S(e)})).join("")}function I(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,r){var n=0;for(e=r?E(e/d):e>>1,e+=E(e/t);e>w*f>>1;n+=u)e=E(e/w);return E(n+(w+1)*e/(e+h))}function k(e){var t,r,n,i,o,a,l,h,d,g,y,b=[],_=e.length,w=0,S=v,A=p;for((r=e.lastIndexOf(m))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&T("not-basic"),b.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<_;){for(o=w,a=1,l=u;i>=_&&T("invalid-input"),((h=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||h>E((s-w)/a))&&T("overflow"),w+=h*a,!(h<(d=l<=A?c:l>=A+f?f:l-A));l+=u)a>E(s/(g=u-d))&&T("overflow"),a*=g;A=C(w-o,t=b.length+1,0==o),E(w/t)>s-S&&T("overflow"),S+=E(w/t),w%=t,b.splice(w++,0,S)}return O(b)}function R(e){var t,r,n,i,o,a,l,h,d,g,y,b,_,w,A,x=[];for(b=(e=D(e)).length,t=v,r=0,o=p,a=0;a<b;++a)(y=e[a])<128&&x.push(S(y));for(n=i=x.length,i&&x.push(m);n<b;){for(l=s,a=0;a<b;++a)(y=e[a])>=t&&y<l&&(l=y);for(l-t>E((s-r)/(_=n+1))&&T("overflow"),r+=(l-t)*_,t=l,a=0;a<b;++a)if((y=e[a])<t&&++r>s&&T("overflow"),y==t){for(h=r,d=u;!(h<(g=d<=o?c:d>=o+f?f:d-o));d+=u)A=h-g,w=u-g,x.push(S(I(g+A%w,0))),h=E(A/w);x.push(S(I(h,0))),o=C(r,_,n==i),r=0,++n}++r,++t}return x.join("")}a={version:"1.4.1",ucs2:{decode:D,encode:O},decode:k,encode:R,toASCII:function(e){return x(e,(function(e){return y.test(e)?"xn--"+R(e):e}))},toUnicode:function(e){return x(e,(function(e){return g.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return a}.call(t,r,t,e))||(e.exports=n)}()}).call(t,r(117)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==(void 0===e?"undefined":l(e))&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){t.decode=t.parse=r(120),t.encode=t.stringify=r(121)},function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,h,d,p,v=e[c].replace(s,"%20"),m=v.indexOf(r);m>=0?(f=v.substr(0,m),h=v.substr(m+1)):(f=v,h=""),d=decodeURIComponent(f),p=decodeURIComponent(h),n(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){var n=function(e){switch(void 0===e?"undefined":l(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==(void 0===e?"undefined":l(e))?o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t):s+encodeURIComponent(n(e[a]))})).join(t):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){var n=r(51),i=r(24),o=e.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),n.request.call(this,e,t)},o.get=function(e,t){return e=s(e),n.get.call(this,e,t)}},function(e,t,r){(function(t,n){var i=r(52),o=r(5),a=r(124),s=r(53),u=r(131),l=a.IncomingMessage,c=a.readyStates,f=e.exports=function(e){var r,n=this;s.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var o=!0;if("disable-fetch"===e.mode||"timeout"in e)o=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":i.vbArray&&e?"text:vbarray":"text"}(r,o),n.on("finish",(function(){n._onFinish()}))};o(f,s.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,o=e._headers,a=null;"GET"!==r.method&&"HEAD"!==r.method&&(a=i.blobConstructor?new window.Blob(e._body.map((function(e){return u(e)})),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var s=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,r=o[e].value;Array.isArray(r)?r.forEach((function(e){s.push([t,e])})):s.push([t,r])})),"fetch"===e._mode)window.fetch(e._opts.url,{method:e._opts.method,headers:s,body:a||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){e.emit("error",t)}));else{var l=e._xhr=new window.XMLHttpRequest;try{l.open(e._opts.method,e._opts.url,!0)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}"responseType"in l&&(l.responseType=e._mode.split(":")[0]),"withCredentials"in l&&(l.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in r&&(l.timeout=r.timeout,l.ontimeout=function(){e.emit("timeout")}),s.forEach((function(e){l.setRequestHeader(e[0],e[1])})),e._response=null,l.onreadystatechange=function(){switch(l.readyState){case c.LOADING:case c.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(l.onprogress=function(){e._onXHRProgress()}),l.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{l.send(a)}catch(t){return void n.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,this._response&&(this._response._destroyed=!0),this._xhr&&this._xhr.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),s.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(t,r(3).Buffer,r(1))},function(e,t,r){(function(e,n){var i=r(52),o=r(5),a=r(53),s=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,r,o){var s=this;if(a.Readable.call(s),s._mode=o,s.headers={},s.rawHeaders=[],s.trailers={},s.rawTrailers=[],s.on("end",(function(){e.nextTick((function(){s.emit("close")}))})),"fetch"===o){s._fetchResponse=r,s.url=r.url,s.statusCode=r.status,s.statusMessage=r.statusText,r.headers.forEach((function(e,t){s.headers[t.toLowerCase()]=e,s.rawHeaders.push(t,e)}));var u=r.body.getReader();!function e(){u.read().then((function(t){s._destroyed||(t.done?s.push(null):(s.push(new n(t.value)),e()))})).catch((function(e){s.emit("error",e)}))}()}else if(s._xhr=t,s._pos=0,s.url=t.responseURL,s.statusCode=t.status,s.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===s.headers[r]&&(s.headers[r]=[]),s.headers[r].push(t[2])):void 0!==s.headers[r]?s.headers[r]+=", "+t[2]:s.headers[r]=t[2],s.rawHeaders.push(t[1],t[2])}})),s._charset="x-user-defined",!i.overrideMimeType){var l=s.rawHeaders["mime-type"];if(l){var c=l.match(/;\s*charset=([^;])(;|$)/);c&&(s._charset=c[1].toLowerCase())}s._charset||(s._charset="utf-8")}};o(u,a.Readable),u.prototype._read=function(){},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==s.DONE)break;try{r=new window.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var i=r.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new n(i.length),a=0;a<i.length;a++)o[a]=255&i.charCodeAt(a);e.push(o)}else e.push(i,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==s.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==s.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==s.LOADING)break;var u=new window.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(r)}e._xhr.readyState===s.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(t,r(1),r(3).Buffer)},function(e,t){},function(e,t,r){var n=r(16).Buffer;e.exports=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=i,r=a,o.data.copy(t,r),a+=o.data.length,o=o.next;return i},e}()},function(t,r,i){var o=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new a(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new a(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(128),r.setImmediate=e,r.clearImmediate=n},function(e,t,r){(function(e){!function(t,r){if(!t.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},h.clearImmediate=d}function d(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?"undefined"==typeof window?this:window:self)}).call(t,r(1))},function(e,t,r){function n(e){try{if(!window.localStorage)return!1}catch(e){return!1}var t=window.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},function(e,t,r){e.exports=o;var n=r(59),i=r(9);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(5),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var n=r(3).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,i=0;i<r;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e){var n=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var i=arguments,o=i.length,s=String(e).replace(n,(function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return e}})),u=i[r];r<o;u=i[++r])v(u)||!_(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(r,n){if(y(window.process))return function(){return t.deprecate(r,n).apply(this,arguments)};if(!0===e.noDeprecation)return r;var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}};var i,o={};function a(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),c(n,e,n.depth)}function s(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function u(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&S(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return g(i)||(i=c(e,i,n)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(o)return o;var a,s=Object.keys(r),u=(a={},s.forEach((function(e,t){a[e]=!0})),a);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),E(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(S(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return f(r)}var _,T="",A=!1,x=["{","}"];return d(r)&&(A=!0,x=["[","]"]),S(r)&&(T=" [Function"+(r.name?": "+r.name:"")+"]"),b(r)&&(T=" "+RegExp.prototype.toString.call(r)),w(r)&&(T=" "+Date.prototype.toUTCString.call(r)),E(r)&&(T=" "+f(r)),0!==s.length||A&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),_=A?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)D(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))})),o}(e,r,n,u,s):s.map((function(t){return h(e,r,n,u,t,A)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(_,T,x)):x[0]+T+x[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),D(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(r)?c(e,u.value,null):c(e,u.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===T(e)}function _(e){return"object"==(void 0===e?"undefined":l(e))&&null!==e}function w(e){return _(e)&&"[object Date]"===T(e)}function E(e){return _(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(y(i)&&(i=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==(void 0===e?"undefined":l(e))},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==(void 0===e?"undefined":l(e))||void 0===e},t.isBuffer=r(135);var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[A((e=new Date).getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":"),[e.getDate(),x[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(136),t._extend=function(e,t){if(!t||!_(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(1))},function(e,t){e.exports=function(e){return e&&"object"==(void 0===e?"undefined":l(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){var n=r(60),i=r(138),o=r(140),a=Math.max,s=Math.min;e.exports=function(e,t,r){var u,l,c,f,h,d,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=u,n=l;return u=l=void 0,p=t,f=e.apply(n,r)}function b(e){var r=e-d;return void 0===d||r>=t||r<0||m&&e-p>=c}function _(){var e=i();if(b(e))return w(e);h=setTimeout(_,function(e){var r=t-(e-d);return m?s(r,c-(e-p)):r}(e))}function w(e){return h=void 0,g&&u?y(e):(u=l=void 0,f)}function E(){var e=i(),r=b(e);if(u=arguments,l=this,d=e,r){if(void 0===h)return function(e){return p=e,h=setTimeout(_,t),v?y(e):f}(d);if(m)return h=setTimeout(_,t),y(d)}return void 0===h&&(h=setTimeout(_,t)),f}return t=o(t)||0,n(r)&&(v=!!r.leading,c=(m="maxWait"in r)?a(o(r.maxWait)||0,t):c,g="trailing"in r?!!r.trailing:g),E.cancel=function(){void 0!==h&&clearTimeout(h),p=0,u=d=l=h=void 0},E.flush=function(){return void 0===h?f:w(i())},E}},function(e,t,r){var n=r(61);e.exports=function(){return n.Date.now()}},function(e,t,r){var n="object"==("undefined"==typeof window?"undefined":l(window))&&window&&window.Object===Object&&window;e.exports=n},function(e,t,r){var n=r(60),i=r(141),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):a.test(e)?NaN:+e}},function(e,t,r){var n=r(142),i=r(145);e.exports=function(e){return"symbol"==(void 0===e?"undefined":l(e))||i(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(62),i=r(143),o=r(144),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},function(e,t,r){var n=r(62),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":l(e))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(147),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(47)),s=r(14),u=new(((n=r(49))&&n.__esModule?n:{default:n}).default),l=function(){function e(t,r,n,i,o){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.appKey=t,this.deviceProperties=r,this.devModeSecret=n,this.networkOptions=i,this.options=o}return i(e,[{key:"send",value:function(){s.RoxLogger.debug("check for cached state for appKey "+this.appKey);var e=this.buildSetState();try{(0,o.sendStateNetwork)(e,this.networkOptions,this.options)}catch(e){s.RoxLogger.error("failed to send state",e)}}},{key:"sortItemsByName",value:function(e){return e.sort((function(e,t){return e.name>t.name?-1:1}))}},{key:"buildSetState",value:function(){var e=this.deviceProperties.getProperties();return e.app_key=this.appKey,e.feature_flags=this.sortItemsByName(u.featureFlags),e.custom_properties=this.sortItemsByName(u.customProperties),e.remoteVariables=this.sortItemsByName(u.remoteConfiguration),e.devModeSecret=this.devModeSecret,e.md5=a.generateStateMd5(e),e}}]),e}();t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sendStateNetwork=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,o.buildSetStateS3URL)(e);if(r.selfManagedMode&&!a.default.get("SS_S3_ENDPOINT")){var u=(0,o.buildSetStateAPIURL)(e);return s((0,i.setStateToAPI)(u.url,u.body,t))}return s((0,i.stateFromCDN)(n,t).catch((function(){var r=(0,o.buildSetStateAPIURL)(e);return(0,i.setStateToAPI)(r.url,r.body,t)})))};var n,i=r(46),o=r(45),a=(n=r(4))&&n.__esModule?n:{default:n};function s(e){return e.catch((function(e){throw e.message="Unable to send state!\n"+e.message,e}))}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(43))&&n.__esModule?n:{default:n},a=function(){function e(t){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._json=t}return i(e,[{key:"parse",value:function(){if(!this._json||!this._json.length)return[];var e=[];return this._json.forEach((function(t){t&&t._id&&t.condition&&e.push(new o.default(t._id,t.condition))})),e}}]),e}();t.default=a}]).default},"object"==l(t)&&"object"==l(i)?i.exports=u():(a=[],void 0===(s="function"==typeof(o=u)?o.apply(t,a):o)||(i.exports=s))}).call(t,r(92).setImmediate,r(92).clearImmediate,r(202)(e))},function(e,t,r){var n=r(29);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(55),i=r(22),o=r(12),a=r(36),s=r(9),u=r(67),l=Object.getOwnPropertyDescriptor;t.f=r(8)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(3),i=r(10),o=r(9),a=r(23)("src"),s=Function.toString,u=(""+s).split("toString");r(35).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var l="function"==typeof r;l&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(l&&(o(r,a)||i(r,a,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(23)("meta"),i=r(1),o=r(9),a=r(7).f,s=0,u=Object.isExtensible||function(){return!0},l=!r(4)((function(){return u(Object.preventExtensions({}))})),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!o(e,n)&&c(e),e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(19),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t){e.exports={}},function(e,t,r){var n=r(9),i=r(13),o=r(47)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var n=r(5)("unscopables"),i=Array.prototype;void 0==i[n]&&r(10)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(1);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(18);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(70),i=r(48);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(16),i=r(45),o=r(13),a=r(6),s=r(99);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,c=4==e,f=6==e,h=5==e||f,d=t||s;return function(t,s,p){for(var v,m,g=o(t),y=i(g),b=n(s,p,3),_=a(y.length),w=0,E=r?d(t,_):u?d(t,0):void 0;_>w;w++)if((h||w in y)&&(m=b(v=y[w],w,g),e))if(r)E[w]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:E.push(v)}else if(c)return!1;return f?-1:l||c?c:E}}},function(e,t){var r=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(1);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(70),i=r(48).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(7).f,i=r(9),o=r(5)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(2),i=r(98),o=r(48),a=r(47)("IE_PROTO"),s=function(){},u=function(){var e,t=r(42)("iframe"),n=o.length;for(t.style.display="none",r(74).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=u(),void 0===t?r:i(r,t)}},function(e,t,r){"use strict";var n=r(3),i=r(0),o=r(18),a=r(30),s=r(21),u=r(56),l=r(31),c=r(1),f=r(4),h=r(54),d=r(38),p=r(112);e.exports=function(e,t,r,v,m,g){var y=n[e],b=y,_=m?"set":"add",w=b&&b.prototype,E={},S=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(g||w.forEach&&!f((function(){(new b).entries().next()})))){var T=new b,A=T[_](g?{}:-0,1)!=T,x=f((function(){T.has(1)})),D=h((function(e){new b(e)})),O=!g&&f((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));D||((b=t((function(t,r){l(t,b,e);var n=p(new y,t,b);return void 0!=r&&u(r,m,n[_],n),n}))).prototype=w,w.constructor=b),(x||O)&&(S("delete"),S("has"),m&&S("get")),(O||A)&&S(_),g&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,m,_),a(b.prototype,r),s.NEED=!0;return d(b,e),E[e]=b,i(i.G+i.W+i.F*(b!=y),E),g||v.setStrong(b,e,m),b}},function(e,t,r){"use strict";var n=r(10),i=r(18),o=r(4),a=r(20),s=r(5);e.exports=function(e,t,r){var u=s(e),l=r(a,u,""[e]),c=l[0],f=l[1];o((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)}))&&(i(String.prototype,e,c),n(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,r){var n=r(1),i=r(3).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){for(var n,i=r(3),o=r(10),a=r(23),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(n=i[h[f++]])?(o(n.prototype,s,!0),o(n.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t){e.exports=!1},function(e,t,r){var n=r(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(12),i=r(6),o=r(24);e.exports=function(e){return function(t,r,a){var s,u=n(t),l=i(u.length),c=o(a,l);if(e&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(71)("keys"),i=r(23);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";var n=r(13),i=r(24),o=r(6);e.exports=function(e){for(var t=n(this),r=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,l=void 0===u?r:i(u,r);l>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var n=r(3),i=r(7),o=r(8),a=r(5)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(25),i=r(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){var n=r(73),i=r(5)("iterator"),o=r(25);e.exports=r(35).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){"use strict";var n=r(27),i=r(75),o=r(25),a=r(12);e.exports=r(76)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){var n=r(5)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(16),i=r(79),o=r(51),a=r(2),s=r(6),u=r(52),l={},c={};(t=e.exports=function(e,t,r,f,h){var d,p,v,m,g=h?function(){return e}:u(e),y=n(r,f,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(d=s(e.length);d>b;b++)if((m=t?y(a(p=e[b])[0],p[1]):y(e[b]))===l||m===c)return m}else for(v=g.call(e);!(p=v.next()).done;)if((m=i(v,y,p.value,t))===l||m===c)return m}).BREAK=l,t.RETURN=c},function(e,t,r){var n=r(87),i=r(20);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){"use strict";var n=r(7),i=r(22);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var n=r(3).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(209))&&n.__esModule?n:{default:n},a=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return i(e,[{key:"set",value:function(e,t,r){o.default.set(e,t,r)}},{key:"get",value:function(e){return o.default.get(e)}}]),e}();t.default=new a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=(n=r(15))&&n.__esModule?n:{default:n},s=r(65),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(66)),l=a.default.Entities,c=l.Variant,f=l.CallContextTypes,h=a.default.Parsers.RoxxParser,d=a.default.Context,p=new h,v=function(e){function t(e,r){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).freeze,i=arguments[3];!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,i));if(n&&!(0,s.isFreezeOptionValid)(n))throw new Error("Freeze option is invalid "+n);return o._localFreeze=n,o._lastResultExplanation={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),o(t,[{key:"unfreeze",value:function(){this._frozen=!1}},{key:"setLastResultToExperiment",value:function(e,t){this._lastResultExplanation={value:e,from:"experiment",payload:{condition:this.condition,expressionEvaluation:t}}}},{key:"setLastResultToDefault",value:function(e){this.condition?this._lastResultExplanation={value:e,from:"exception",payload:{condition:this.condition}}:this._lastResultExplanation={value:e,from:"default"}}},{key:"setLastResultToFreeze",value:function(){this._lastResultExplanation={value:this._value,from:"freeze",payload:{freezedBy:"freeze"===this._lastResultExplanation.from?this._lastResultExplanation.payload.freezedBy:this._lastResultExplanation}}}},{key:"calculateCondition",value:function(e,t){var r={didUseExperimentToEvaluate:!1,value:this._defaultValue},n=[];if(this.condition){var o=d.Actions.getMergedContextWithGlobal(t),a=p.evaluateExpression(this.condition,e,o,n);a=a&&a.toString?a.toString():a,this._type===(void 0===a?"undefined":i(a))&&void 0!==a&&(r={didUseExperimentToEvaluate:!0,value:a})}return e.dontInvokeFlagImpression||this._flagImpression(r.value,t),e.dontInvokeFlagImpression||(r.didUseExperimentToEvaluate?this.setLastResultToExperiment(r.value,n):this.setLastResultToDefault(r.value)),r}},{key:"getOneTimeValue",value:function(e,t){var r=this.calculateCondition(e,t);return e.isExperimenting=r.didUseExperimentToEvaluate,r.value}},{key:"getFreezedValue",value:function(e){return e.isExperimenting=this._isExperimenting,e.dontInvokeFlagImpression||this.setLastResultToFreeze(),this._value}},{key:"getActiveValue",value:function(e,t){if(this._freeze===s.freezeOptions.freezeOptionNone)return this.getOneTimeValue(e,t);if(e.type===f.frozenOrCalc)return this._frozen?this.getFreezedValue(e):this.getOneTimeValue(e,t);if(e.type===f.oneTimeCalc)return this.getOneTimeValue(e,t);if(!e.type||e.type===f.default){if(this._frozen)return this.getFreezedValue(e);var r=this.calculateCondition(e,t);return this.setValue(r),this._frozen=!0,e.isExperimenting=this._isExperimenting,this._value}return this.getFreezedValue(e)}},{key:"getInternalValue",value:function(e,t){var r=this.overridenValue;return r?(e.isExperimenting=!0,this._lastResultExplanation={value:r,from:"override"},r):this.getActiveValue(e,t)}},{key:"getValue",value:function(e){return this.getInternalValue({},e)}},{key:"setValue",value:function(e){this._frozen||(this._isExperimenting=e.didUseExperimentToEvaluate,this._value=e.value)}},{key:"explainLastResult",value:function(){return this._lastResultExplanation}},{key:"peek",value:function(e){var t={dontInvokeFlagImpression:!0,type:f.oneTimeCalc};return this.getInternalValue(t,e)}},{key:"_freeze",get:function(){return this._localFreeze||(0,s.getDefaultFreezeOption)()||s.defaultFreezeOptionForPlatform}},{key:"overrider",get:function(){return u}}]),t}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultFreezeOption=function(e){if(!o(e))throw new Error("Invalid freeze option: "+e);i=e},t.getDefaultFreezeOption=function(){return i},t.isFreezeOptionValid=o;var n=t.freezeOptions={freezeOptionNone:"none",freezeOptionUntilLaunch:"untilLaunch"},i=null;function o(e){return Object.keys(n).find((function(t){return n[t]===e}))}t.defaultFreezeOptionForPlatform=n.freezeOptionUntilLaunch},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasOverride=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return void 0!==e&&void 0!==s[e]},t.getOverride=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)throw new Error("Missing name");return s[e]},t.setOverride=function(e,t){if(!e)throw new Error("Missing name");s[e]=t,u(s)},t.clearOverride=function(e){if(!e)throw new Error("Missing name");s[e]=void 0,delete s[e],u(s)},t.clearAllOverrides=function(){u(s={})},t.getOriginalValue=function(e){if(!e)throw new Error("Missing name");var t=i.default.Repositories.Flags.flagWithName(e);return t?t._originalValue():null};var n=o(r(63)),i=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}var a="roxOverrideValues",s=n.default.get(a);function u(e){n.default.set(a,JSON.stringify(e))}s=s?JSON.parse(s):{}},function(e,t,r){e.exports=!r(8)&&!r(4)((function(){return 7!=Object.defineProperty(r(42)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){"use strict";var n=r(3),i=r(8),o=r(44),a=r(43),s=r(10),u=r(30),l=r(4),c=r(31),f=r(19),h=r(6),d=r(69),p=r(37).f,v=r(7).f,m=r(49),g=r(38),y="prototype",b="Wrong index!",_=n.ArrayBuffer,w=n.DataView,E=n.Math,S=n.RangeError,T=n.Infinity,A=_,x=E.abs,D=E.pow,O=E.floor,I=E.log,C=E.LN2,k=i?"_b":"buffer",R=i?"_l":"byteLength",P=i?"_o":"byteOffset";function M(e,t,r){var n,i,o,a=new Array(r),s=8*r-t-1,u=(1<<s)-1,l=u>>1,c=23===t?D(2,-24)-D(2,-77):0,f=0,h=e<0||0===e&&1/e<0?1:0;for((e=x(e))!=e||e===T?(i=e!=e?1:0,n=u):(n=O(I(e)/C),e*(o=D(2,-n))<1&&(n--,o*=2),(e+=n+l>=1?c/o:c*D(2,1-l))*o>=2&&(n++,o/=2),n+l>=u?(i=0,n=u):n+l>=1?(i=(e*o-1)*D(2,t),n+=l):(i=e*D(2,l-1)*D(2,t),n=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;s>0;a[f++]=255&n,n/=256,s-=8);return a[--f]|=128*h,a}function L(e,t,r){var n,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:l?-T:T;n+=D(2,t),c-=a}return(l?-1:1)*n*D(2,c-t)}function N(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function F(e){return[255&e]}function j(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return M(e,52,8)}function z(e){return M(e,23,4)}function $(e,t,r){v(e[y],t,{get:function(){return this[r]}})}function G(e,t,r,n){var i=d(+r);if(i+t>e[R])throw S(b);var o=e[k]._b,a=i+e[P],s=o.slice(a,a+t);return n?s:s.reverse()}function H(e,t,r,n,i,o){var a=d(+r);if(a+t>e[R])throw S(b);for(var s=e[k]._b,u=a+e[P],l=n(+i),c=0;c<t;c++)s[u+c]=l[o?c:t-c-1]}if(a.ABV){if(!l((function(){_(1)}))||!l((function(){new _(-1)}))||l((function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name}))){for(var W,V=(_=function(e){return c(this,_),new A(d(e))})[y]=A[y],q=p(A),J=0;q.length>J;)(W=q[J++])in _||s(_,W,A[W]);o||(V.constructor=_)}var Y=new w(new _(2)),K=w[y].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||u(w[y],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else _=function(e){c(this,_,"ArrayBuffer");var t=d(e);this._b=m.call(new Array(t),0),this[R]=t},w=function(e,t,r){c(this,w,"DataView"),c(e,_,"DataView");var n=e[R],i=f(t);if(i<0||i>n)throw S("Wrong offset!");if(i+(r=void 0===r?n-i:h(r))>n)throw S("Wrong length!");this[k]=e,this[P]=i,this[R]=r},i&&($(_,"byteLength","_l"),$(w,"buffer","_b"),$(w,"byteLength","_l"),$(w,"byteOffset","_o")),u(w[y],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return N(G(this,4,e,arguments[1]))},getUint32:function(e){return N(G(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return L(G(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return L(G(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){H(this,1,e,F,t)},setUint8:function(e,t){H(this,1,e,F,t)},setInt16:function(e,t){H(this,2,e,j,t,arguments[2])},setUint16:function(e,t){H(this,2,e,j,t,arguments[2])},setInt32:function(e,t){H(this,4,e,B,t,arguments[2])},setUint32:function(e,t){H(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){H(this,4,e,z,t,arguments[2])},setFloat64:function(e,t){H(this,8,e,U,t,arguments[2])}});g(_,"ArrayBuffer"),g(w,"DataView"),s(w[y],a.VIEW,!0),t.ArrayBuffer=_,t.DataView=w},function(e,t,r){var n=r(19),i=r(6);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(9),i=r(12),o=r(46)(!1),a=r(47)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),u=0,l=[];for(r in s)r!=a&&n(s,r)&&l.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~o(l,r)||l.push(r));return l}},function(e,t,r){var n=r(3),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,r){var n=r(2),i=r(29),o=r(5)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},function(e,t,r){var n=r(32),i=r(5)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){var n=r(3).document;e.exports=n&&n.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(44),i=r(0),o=r(18),a=r(10),s=r(9),u=r(25),l=r(102),c=r(38),f=r(26),h=r(5)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,v,m,g,y){l(r,t,v);var b,_,w,E=function(e){if(!d&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",T="values"==m,A=!1,x=e.prototype,D=x[h]||x["@@iterator"]||m&&x[m],O=!d&&D||E(m),I=m?T?E("entries"):O:void 0,C="Array"==t&&x.entries||D;if(C&&(w=f(C.call(new e)))!==Object.prototype&&w.next&&(c(w,S,!0),n||s(w,h)||a(w,h,p)),T&&D&&"values"!==D.name&&(A=!0,O=function(){return D.call(this)}),n&&!y||!d&&!A&&x[h]||a(x,h,O),u[t]=O,u[S]=p,m)if(b={values:T?O:E("values"),keys:g?O:E("keys"),entries:I},y)for(_ in b)_ in x||o(x,_,b[_]);else i(i.P+i.F*(d||A),t,b);return b}},function(e,t,r){"use strict";var n=r(13),i=r(24),o=r(6);e.exports=[].copyWithin||function(e,t){var r=n(this),a=o(r.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in r?r[s]=r[u]:delete r[s],s+=f,u+=f;return r}},function(e,t,r){"use strict";var n=r(7).f,i=r(39),o=r(30),a=r(16),s=r(31),u=r(56),l=r(76),c=r(75),f=r(50),h=r(8),d=r(21).fastKey,p=r(28),v=h?"_s":"size",m=function(e,t){var r,n=d(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,l){var c=e((function(e,n){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=n&&u(n,r,e[l],e)}));return o(c.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var r=p(this,t),n=m(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[v]--}return!!n},forEach:function(e){p(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!m(p(this,t),e)}}),h&&n(c.prototype,"size",{get:function(){return p(this,t)[v]}}),c},def:function(e,t,r){var n,i,o=m(e,t);return o?o.v=r:(e._l=o={i:i=d(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,r){l(e,t,(function(e,r){this._t=p(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))}),r?"entries":"values",!r,!0),f(t)}}},function(e,t,r){var n=r(2);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(1),i=r(2),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(16)(Function.call,r(17).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t,r){"use strict";var n=r(33),i=r(82),o=r(55),a=r(13),s=r(45),u=Object.assign;e.exports=!u||r(4)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=a(e),u=arguments.length,l=1,c=i.f,f=o.f;u>l;)for(var h,d=s(arguments[l++]),p=c?n(d).concat(c(d)):n(d),v=p.length,m=0;v>m;)f.call(d,h=p[m++])&&(r[h]=d[h]);return r}:u},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";var n=r(30),i=r(21).getWeak,o=r(2),a=r(1),s=r(31),u=r(56),l=r(34),c=r(9),f=r(28),h=l(5),d=l(6),p=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return h(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var r=g(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var l=e((function(e,n){s(e,l,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=n&&u(n,r,e[o],e)}));return n(l.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(f(this,t)).delete(e):r&&c(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?v(f(this,t)).has(e):r&&c(r,this._i)}}),l},def:function(e,t,r){var n=i(o(t),!0);return!0===n?v(e).set(t,r):n[e._i]=r,e},ufstore:v}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(37),i=r(82),o=r(2),a=r(3).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var n=r(19),i=r(20);e.exports=function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t,r){var n=r(1),i=r(32),o=r(5)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(1),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){var n=r(33),i=r(12),o=r(55).f;e.exports=function(e){return function(t){for(var r,a=i(t),s=n(a),u=s.length,l=0,c=[];u>l;)o.call(a,r=s[l++])&&c.push(e?[r,a[r]]:a[r]);return c}}},function(e,t,r){var n=r(6),i=r(86),o=r(20);e.exports=function(e,t,r,a){var s=String(o(e)),u=s.length,l=void 0===r?" ":String(r),c=n(t);if(c<=u||""==l)return s;var f=c-u,h=i.call(l,Math.ceil(f/l.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(e,n,i){function o(e,t){this._id=e,this._clearFn=t}Function.prototype.apply,o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},i(201),t,r},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=(n=r(64))&&n.__esModule?n:{default:n},a=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments[1];!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e?"true":"false",["false","true"],r));return n._entityType="flag",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(e){return this._normalizeValue(this.getValue(e))}},{key:"_getInternalIsEnabled",value:function(e,t){return this._normalizeValue(this.getInternalValue(e,t))}},{key:"_normalizeValue",value:function(e){return"boolean"==typeof e?e:"true"===e}}]),t}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(96),r(97),r(103),r(104),r(105),r(106),r(107),r(108),r(109),r(110),r(111),r(113),r(114),r(115),r(116),r(117),r(119),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(141),r(142),r(144),r(145),r(146),r(147),r(149),r(150),r(151),r(152),r(153),r(155),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(53),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(190),r(191),r(192),r(193),r(194),r(195),r(196),r(197),r(199),r(200);var n=c(r(15)),i=c(r(204)),o=c(r(220)),a=c(r(64)),s=c(r(94)),u=r(221),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(66));function c(e){return e&&e.__esModule?e:{default:e}}i.default.Configuration=o.default,i.default.Variant=a.default,i.default.setContext=n.default.Context.Manager.setContext,i.default.Flag=s.default,i.default.showOverrides=u.open,i.default.overrides=l,t.default=i.default},function(e,t,r){"use strict";var n=r(0),i=r(43),o=r(68),a=r(2),s=r(24),u=r(6),l=r(1),c=r(3).ArrayBuffer,f=r(72),h=o.ArrayBuffer,d=o.DataView,p=i.ABV&&c.isView,v=h.prototype.slice,m=i.VIEW;n(n.G+n.W+n.F*(c!==h),{ArrayBuffer:h}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||l(e)&&m in e}}),n(n.P+n.U+n.F*r(4)((function(){return!new h(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var r=a(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),o=new(f(this,h))(u(i-n)),l=new d(this),c=new d(o),p=0;n<i;)c.setUint8(p++,l.getUint8(n++));return o}}),r(50)("ArrayBuffer")},function(e,t,r){r(14)("Int8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){var n=r(7),i=r(2),o=r(33);e.exports=r(8)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,u=0;s>u;)n.f(e,r=a[u++],t[r]);return e}},function(e,t,r){var n=r(100);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(1),i=r(101),o=r(5)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){var n=r(32);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(39),i=r(22),o=r(38),a={};r(10)(a,r(5)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){r(14)("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(14)("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},function(e,t,r){r(14)("Int16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(14)("Uint16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(14)("Int32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(14)("Uint32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(14)("Float32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(14)("Float64",8,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";var n=r(78),i=r(28);e.exports=r(40)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){var n=r(1),i=r(80).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){"use strict";var n=r(78),i=r(28);e.exports=r(40)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,i=r(34)(0),o=r(18),a=r(21),s=r(81),u=r(83),l=r(1),c=r(4),f=r(28),h=a.getWeak,d=Object.isExtensible,p=u.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(l(e)){var t=h(e);return!0===t?p(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},y=e.exports=r(40)("WeakMap",m,g,u,!0,!0);c((function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)}))&&(s((n=u.getConstructor(m,"WeakMap")).prototype,g),a.NEED=!0,i(["delete","has","get","set"],(function(e){var t=y.prototype,r=t[e];o(t,e,(function(t,i){if(l(t)&&!d(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)}))})))},function(e,t,r){"use strict";var n=r(83),i=r(28);r(40)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(i(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){var n=r(0),i=r(29),o=r(2),a=(r(3).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(4)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,r){var n=i(e),u=o(r);return a?a(n,t,u):s.call(n,t,u)}})},function(e,t,r){var n=r(0),i=r(39),o=r(29),a=r(2),s=r(1),u=r(4),l=r(118),c=(r(3).Reflect||{}).construct,f=u((function(){function e(){}return!(c((function(){}),[],e)instanceof e)})),h=!u((function(){c((function(){}))}));n(n.S+n.F*(f||h),"Reflect",{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(h&&!f)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(l.apply(e,n))}var u=r.prototype,d=i(s(u)?u:Object.prototype),p=Function.apply.call(e,d,t);return s(p)?p:d}})},function(e,t,r){"use strict";var n=r(29),i=r(1),o=r(84),a=[].slice,s={};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),u=function(){var n=r.concat(a.call(arguments));return this instanceof u?function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)}(t,n.length,n):o(t,n,e)};return i(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t,r){var n=r(7),i=r(0),o=r(2),a=r(36);i(i.S+i.F*r(4)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,r){o(e),t=a(t,!0),o(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(0),i=r(17).f,o=r(2);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=i(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){var n=r(17),i=r(26),o=r(9),a=r(0),s=r(1),u=r(2);a(a.S,"Reflect",{get:function e(t,r){var a,l,c=arguments.length<3?t:arguments[2];return u(t)===c?t[r]:(a=n.f(t,r))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(t))?e(l,r,c):void 0}})},function(e,t,r){var n=r(17),i=r(0),o=r(2);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(o(e),t)}})},function(e,t,r){var n=r(0),i=r(26),o=r(2);n(n.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,r){var n=r(0),i=r(2),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,r){var n=r(0);n(n.S,"Reflect",{ownKeys:r(85)})},function(e,t,r){var n=r(0),i=r(2),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,r){var n=r(7),i=r(17),o=r(26),a=r(9),s=r(0),u=r(22),l=r(2),c=r(1);s(s.S,"Reflect",{set:function e(t,r,s){var f,h,d=arguments.length<4?t:arguments[3],p=i.f(l(t),r);if(!p){if(c(h=o(t)))return e(h,r,s,d);p=u(0)}return a(p,"value")?!(!1===p.writable||!c(d)||((f=i.f(d,r)||u(0)).value=s,n.f(d,r,f),0)):void 0!==p.set&&(p.set.call(d,s),!0)}})},function(e,t,r){var n=r(0),i=r(80);i&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){var n=r(1),i=r(21).onFreeze;r(11)("freeze",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},function(e,t,r){var n=r(1),i=r(21).onFreeze;r(11)("seal",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},function(e,t,r){var n=r(1),i=r(21).onFreeze;r(11)("preventExtensions",(function(e){return function(t){return e&&n(t)?e(i(t)):t}}))},function(e,t,r){var n=r(1);r(11)("isFrozen",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,r){var n=r(1);r(11)("isSealed",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,r){var n=r(1);r(11)("isExtensible",(function(e){return function(t){return!!n(t)&&(!e||e(t))}}))},function(e,t,r){var n=r(12),i=r(17).f;r(11)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(n(e),t)}}))},function(e,t,r){var n=r(13),i=r(26);r(11)("getPrototypeOf",(function(){return function(e){return i(n(e))}}))},function(e,t,r){var n=r(13),i=r(33);r(11)("keys",(function(){return function(e){return i(n(e))}}))},function(e,t,r){r(11)("getOwnPropertyNames",(function(){return r(140).f}))},function(e,t,r){var n=r(12),i=r(37).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},function(e,t,r){var n=r(0);n(n.S+n.F,"Object",{assign:r(81)})},function(e,t,r){var n=r(0);n(n.S,"Object",{is:r(143)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){var n=r(7).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(8)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,r){var n=r(0),i=r(12),o=r(6);n(n.S,"String",{raw:function(e){for(var t=i(e.raw),r=o(t.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(t[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,r){var n=r(0),i=r(24),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){"use strict";var n=r(0),i=r(148)(!1);n(n.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,r){var n=r(19),i=r(20);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){var n=r(0);n(n.P,"String",{repeat:r(86)})},function(e,t,r){"use strict";var n=r(0),i=r(6),o=r(57),a="".startsWith;n(n.P+n.F*r(58)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";var n=r(0),i=r(6),o=r(57),a="".endsWith;n(n.P+n.F*r(58)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),s=void 0===r?n:Math.min(i(r),n),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,r){"use strict";var n=r(0),i=r(57);n(n.P+n.F*r(58)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){r(8)&&"g"!=/./g.flags&&r(7).f(RegExp.prototype,"flags",{configurable:!0,get:r(154)})},function(e,t,r){"use strict";var n=r(2);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){r(41)("match",1,(function(e,t,r){return[function(r){"use strict";var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]}))},function(e,t,r){r(41)("replace",2,(function(e,t,r){return[function(n,i){"use strict";var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]}))},function(e,t,r){r(41)("split",2,(function(e,t,n){"use strict";var i=r(87),o=n,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(r,e,t);var n,u,l,c,f,h=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,d+"g");for(s||(n=new RegExp("^"+m.source+"$(?!\\s)",d));(u=m.exec(r))&&!((l=u.index+u[0].length)>p&&(h.push(r.slice(p,u.index)),!s&&u.length>1&&u[0].replace(n,(function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)})),u.length>1&&u.index<r.length&&a.apply(h,u.slice(1)),c=u[0].length,p=l,h.length>=v));)m.lastIndex===u.index&&m.lastIndex++;return p===r.length?!c&&m.test("")||h.push(""):h.push(r.slice(p)),h.length>v?h.slice(0,v):h}}else"0".split(void 0,0).length&&(n=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(r,i){var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]}))},function(e,t,r){r(41)("search",1,(function(e,t,r){return[function(r){"use strict";var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},r]}))},function(e,t,r){"use strict";var n=r(16),i=r(0),o=r(13),a=r(79),s=r(51),u=r(6),l=r(59),c=r(52);i(i.S+i.F*!r(54)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,f,h=o(e),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,m=void 0!==v,g=0,y=c(h);if(m&&(v=n(v,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(r=new d(t=u(h.length));t>g;g++)l(r,g,m?v(h[g],g):h[g]);else for(f=y.call(h),r=new d;!(i=f.next()).done;g++)l(r,g,m?a(f,v,[i.value,g],!0):i.value);return r.length=g,r}})},function(e,t,r){"use strict";var n=r(0),i=r(59);n(n.S+n.F*r(4)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){var n=r(0);n(n.P,"Array",{copyWithin:r(77)}),r(27)("copyWithin")},function(e,t,r){"use strict";var n=r(0),i=r(34)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)("find")},function(e,t,r){"use strict";var n=r(0),i=r(34)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),n(n.P+n.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)(o)},function(e,t,r){var n=r(0);n(n.P,"Array",{fill:r(49)}),r(27)("fill")},function(e,t,r){var n=r(0),i=r(3).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,r){var n=r(0);n(n.S,"Number",{isInteger:r(88)})},function(e,t,r){var n=r(0),i=r(88),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,r){var n=r(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(0),i=r(89),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,r){var n=r(0),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,r){var n=r(0),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(0),i=r(60);n(n.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(0),i=Math.exp;n(n.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,r){var n=r(0),i=r(61);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,r){var n=r(0);n(n.S,"Math",{fround:r(180)})},function(e,t,r){var n=r(60),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);e.exports=Math.fround||function(e){var t,r,i=Math.abs(e),l=n(e);return i<u?l*(i/u/a+1/o-1/o)*u*a:(r=(t=(1+a/o)*i)-(t-i))>s||r!=r?l*(1/0):l*r}},function(e,t,r){var n=r(0),i=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,o=0,a=0,s=arguments.length,u=0;a<s;)u<(r=i(arguments[a++]))?(o=o*(n=u/r)*n+1,u=r):o+=r>0?(n=r/u)*n:r;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,r){var n=r(0),i=Math.imul;n(n.S+n.F*r(4)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var r=+e,n=+t,i=65535&r,o=65535&n;return 0|i*o+((65535&r>>>16)*o+i*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log1p:r(89)})},function(e,t,r){var n=r(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(0);n(n.S,"Math",{sign:r(60)})},function(e,t,r){var n=r(0),i=r(61),o=Math.exp;n(n.S+n.F*r(4)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(0),i=r(61),o=Math.exp;n(n.S,"Math",{tanh:function(e){var t=i(e=+e),r=i(-e);return t==1/0?1:r==1/0?-1:(t-r)/(o(e)+o(-e))}})},function(e,t,r){var n=r(0);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){"use strict";var n=r(0),i=r(46)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(27)("includes")},function(e,t,r){var n=r(0),i=r(90)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},function(e,t,r){var n=r(0),i=r(90)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},function(e,t,r){var n=r(0),i=r(85),o=r(12),a=r(17),s=r(59);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),u=a.f,l=i(n),c={},f=0;l.length>f;)void 0!==(r=u(n,t=l[f++]))&&s(c,t,r);return c}})},function(e,t,r){"use strict";var n=r(0),i=r(91),o=r(62);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){"use strict";var n=r(0),i=r(91),o=r(62);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){var n=r(3),i=r(0),o=r(62),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,r){var n=arguments.length>2,i=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};i(i.G+i.B+i.F*s,{setTimeout:u(n.setTimeout),setInterval:u(n.setInterval)})},function(e,t,r){var n=r(0),i=r(198);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){var n,i,o,a=r(16),s=r(84),u=r(74),l=r(42),c=r(3),f=c.process,h=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,v=c.Dispatch,m=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){y.call(e.data)};h&&d||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},n(m),m},d=function(e){delete g[e]},"process"==r(32)(f)?n=function(e){f.nextTick(a(y,e,1))}:v&&v.now?n=function(e){v.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:d}},function(e,t,r){for(var n=r(53),i=r(33),o=r(18),a=r(3),s=r(10),u=r(25),l=r(5),c=l("iterator"),f=l("toStringTag"),h=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),v=0;v<p.length;v++){var m,g=p[v],y=d[g],b=a[g],_=b&&b.prototype;if(_&&(_[c]||s(_,c,h),_[f]||s(_,f,g),u[g]=h,y))for(m in n)_[m]||o(_,m,n[m],!0)}},function(e,t,r){!function(t){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=_;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(k([])));y&&y!==n&&i.call(y,a)&&(m=y);var b=T.prototype=E.prototype=Object.create(m);S.prototype=b.constructor=T,T.constructor=S,T[u]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},A(x.prototype),x.prototype[s]=function(){return this},c.AsyncIterator=x,c.async=function(e,t,r,n){var i=new x(_(e,t,r,n));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function _(e,t,r,n){var i=t&&t.prototype instanceof E?t:E,o=Object.create(i.prototype),a=new C(n||[]);return o._invoke=function(e,t,r){var n=f;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return R()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=D(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=w(e,t,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function E(){}function S(){}function T(){}function A(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function x(e){function r(t,n,o,a){var s=w(e[t],e,n);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(e){r("next",e,o,a)}),(function(e){r("throw",e,o,a)})):Promise.resolve(l).then((function(e){u.value=e,o(u)}),a)}a(s.arg)}var n;"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r)),this._invoke=function(e,t){function i(){return new Promise((function(n,i){r(e,t,n,i)}))}return n=n?n.then(i,i):i()}}function D(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,D(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=w(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:R}}function R(){return{value:r,done:!0}}}("object"==typeof window?window:"object"==typeof window?window:"object"==typeof self?self:this)},function(e,t,r){(function(e){!function(t,r){"use strict";if(!t.setImmediate){var n,i,o,a,s,u=1,l={},c=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){p(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),n=function(e){t.postMessage(a+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},h.clearImmediate=d}function d(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?"undefined"==typeof window?this:window:self)}).call(t,r(93))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){(function(t){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,i=void 0,o=void 0,a=function(e,t){d[n]=e,d[n+1]=t,2===(n+=2)&&(o?o(p):b())},s="undefined"!=typeof window?window:void 0,u=s||{},l=u.MutationObserver||u.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(p,1)}}var d=new Array(1e3);function p(){for(var e=0;e<n;e+=2)(0,d[e])(d[e+1]),d[e]=void 0,d[e+1]=void 0;n=0}var v,m,g,y,b=void 0;function _(e,t){var r=this,n=new this.constructor(S);void 0===n[E]&&N(n);var i=r._state;if(i){var o=arguments[i-1];a((function(){return M(i,n,o,r._result)}))}else R(r,n,e,t);return n}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(S);return O(t,e),t}c?b=function(){return t.nextTick(p)}:l?(m=0,g=new l(p),y=document.createTextNode(""),g.observe(y,{characterData:!0}),b=function(){y.data=m=++m%2}):f?((v=new MessageChannel).port1.onmessage=p,b=function(){return v.port2.postMessage(0)}):b=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(p)}:h()}catch(e){return h()}}():h();var E=Math.random().toString(36).substring(2);function S(){}var T=void 0,A=1,x=2;function D(t,r,n){r.constructor===t.constructor&&n===_&&r.constructor.resolve===w?function(e,t){t._state===A?C(e,t._result):t._state===x?k(e,t._result):R(t,void 0,(function(t){return O(e,t)}),(function(t){return k(e,t)}))}(t,r):void 0===n?C(t,r):e(n)?function(e,t,r){a((function(e){var n=!1,i=function(r,i,o,a){try{r.call(i,(function(r){n||(n=!0,t!==r?O(e,r):C(e,r))}),(function(t){n||(n=!0,k(e,t))}))}catch(e){return e}}(r,t,0,0,e._label);!n&&i&&(n=!0,k(e,i))}),e)}(t,r,n):C(t,r)}function O(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(n=t),null===n||"object"!==i&&"function"!==i)C(e,t);else{var r=void 0;try{r=t.then}catch(t){return void k(e,t)}D(e,t,r)}var n,i}function I(e){e._onerror&&e._onerror(e._result),P(e)}function C(e,t){e._state===T&&(e._result=t,e._state=A,0!==e._subscribers.length&&a(P,e))}function k(e,t){e._state===T&&(e._state=x,e._result=t,a(I,e))}function R(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+A]=r,i[o+x]=n,0===o&&e._state&&a(P,e)}function P(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?M(r,n,i,o):i(o);e._subscribers.length=0}}function M(t,r,n,i){var o=e(n),a=void 0,s=void 0,u=!0;if(o){try{a=n(i)}catch(e){u=!1,s=e}if(r===a)return void k(r,new TypeError("A promises callback cannot return that same promise."))}else a=i;r._state!==T||(o&&u?O(r,a):!1===u?k(r,s):t===A?C(r,a):t===x&&k(r,a))}var L=0;function N(e){e[E]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[E]||N(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===T&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===w){var i=void 0,o=void 0,a=!1;try{i=e.then}catch(e){a=!0,o=e}if(i===_&&e._state!==T)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(r===j){var s=new r(S);a?k(s,o):D(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===T&&(this._remaining--,e===x?k(n,r):this._result[t]=r),0===this._remaining&&C(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;R(e,void 0,(function(e){return r._settledAt(A,t,e)}),(function(e){return r._settledAt(x,t,e)}))},e}(),j=function(){function t(e){this[E]=L++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){O(e,t)}),(function(t){k(e,t)}))}catch(t){k(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return j.prototype.then=_,j.all=function(e){return new F(this,e).promise},j.race=function(e){var t=this;return r(e)?new t((function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},j.resolve=w,j.reject=function(e){var t=new this(S);return k(t,e),t},j._setScheduler=function(e){o=e},j._setAsap=function(e){a=e},j._asap=a,j.polyfill=function(){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=j},j.Promise=j,j},e.exports=r()}).call(t,r(93))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(205)),o=r(65),a=s(r(15));function s(e){return e&&e.__esModule?e:{default:e}}var u=a.default.RoxLogger,l=a.default.Config,c=a.default.Repositories,f=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return n(e,[{key:"setup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.setVerboseMode(t.debugLevel),t.configuration&&l.setActive(t.configuration),t.freeze&&(0,o.setDefaultFreezeOption)(t.freeze),i.default.setKey(e),i.default.setup(t),i.default.sendState(),t.disableNetworkFetch?i.default.fetchCacheOnly():i.default.fetchWithCacheAndProceed()}},{key:"fetch",value:function(){i.default&&i.default.fetch()}},{key:"setCustomStringProperty",value:function(e,t){i.default.setCustomProperty(e,String,t)}},{key:"setCustomNumberProperty",value:function(e,t){i.default.setCustomProperty(e,Number,t)}},{key:"setCustomBooleanProperty",value:function(e,t){i.default.setCustomProperty(e,Boolean,t)}},{key:"register",value:function(e,t){i.default.register(e,t)}},{key:"unfreeze",value:function(e){i.default.unfreeze(e)}},{key:"setDynamicCustomPropertyRule",value:function(e){i.default.setDynamicCustomPropertyRule(e)}},{key:"flags",get:function(){return c.Flags.flags}},{key:"dynamicApi",get:function(){return i.default.dynamicApi}}]),e}());t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(15)),i=c(r(206)),o=r(213),a=r(214),s=c(r(63)),u=c(r(215)),l=c(r(219));function c(e){return e&&e.__esModule?e:{default:e}}var f=n.default.createRoxClient;t.default=f({DeviceProperties:i.default,getDefaultCustomProperties:a.getDefaultCustomProperties,DefaultSetupOptions:o.defaultSetupOptions,RoxCache:s.default,RoxCrypto:u.default,EntitiesProvider:l.default})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(15)),o=u(r(207)),a=u(r(63)),s=u(r(210));function u(e){return e&&e.__esModule?e:{default:e}}var l=i.default.DeviceProperties,c=o.default.api_version,f=o.default.lib_version,h=function(e){function t(){return function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l),n(t,[{key:"getProperties",value:function(){var e=this.distinct_id,t=this.app_release,r=this.platform;return{app_release:t,api_version:c,lib_version:f,distinct_id:e,screen_width:window.screen.width,screen_height:window.screen.height,platform:r,customSigningCertificate:"5659eb0ca47811395ef85f0b09be63b7",language:navigator.language,anticache:+Date.now()}}}]),t}();t.default=new h(a.default,s.default)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(208);t.default={api_version:n.ROX.api_version,lib_version:n.version}},function(e,t){e.exports={name:null,version:"4.9.18",description:null,author:null,license:null,homepage:null,repository:null,bugs:null,keywords:null,scripts:null,ROX:{api_version:"1.8.0"},main:null,browser:null,files:null,devDependencies:null,jest:null,gitHead:null}},function(e,t,r){var n,i;void 0===(i="function"==typeof(n=function(){var e,t,r="lscache-",n="-cacheexpiration",i=10,o=6e4,a=w(o),s="",u=!1;function l(){var t="__lscachetest__";if(void 0!==e)return e;try{if(!localStorage)return!1}catch(e){return!1}try{v(t,"__lscachetest__"),m(t),e=!0}catch(t){e=!(!c(t)||!localStorage.length)}return e}function c(e){return e&&("QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name)}function f(){return void 0===t&&(t=null!=window.JSON),t}function h(e){return e+n}function d(){return Math.floor((new Date).getTime()/o)}function p(e){return localStorage.getItem(r+s+e)}function v(e,t){localStorage.removeItem(r+s+e),localStorage.setItem(r+s+e,t)}function m(e){localStorage.removeItem(r+s+e)}function g(e){for(var t=new RegExp("^"+r+s.replace(/[[\]{}()*+?.\\^$|]/g,"\\$&")+"(.*)"),i=localStorage.length-1;i>=0;--i){var o=localStorage.key(i);(o=(o=o&&o.match(t))&&o[1])&&o.indexOf(n)<0&&e(o,h(o))}}function y(e){var t=h(e);m(e),m(t)}function b(e){var t=h(e),r=p(t);if(r){var n=parseInt(r,i);if(d()>=n)return m(e),m(t),!0}}function _(e,t){u&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}function w(e){return Math.floor(864e13/e)}return{set:function(e,t,r){if(!l())return!1;if(!f())return!1;try{t=JSON.stringify(t)}catch(e){return!1}try{v(e,t)}catch(r){if(!c(r))return _("Could not add item with key '"+e+"'",r),!1;var n,o=[];g((function(e,t){var r=p(t);r=r?parseInt(r,i):a,o.push({key:e,size:(p(e)||"").length,expiration:r})})),o.sort((function(e,t){return t.expiration-e.expiration}));for(var s=(t||"").length;o.length&&s>0;)n=o.pop(),_("Cache is full, removing item with key '"+e+"'"),y(n.key),s-=n.size;try{v(e,t)}catch(t){return _("Could not add item with key '"+e+"', perhaps it's too big?",t),!1}}return r?v(h(e),(d()+r).toString(i)):m(h(e)),!0},get:function(e){if(!l())return null;if(b(e))return null;var t=p(e);if(!t||!f())return t;try{return JSON.parse(t)}catch(e){return t}},remove:function(e){l()&&y(e)},supported:function(){return l()},flush:function(){l()&&g((function(e){y(e)}))},flushExpired:function(){l()&&g((function(e){b(e)}))},setBucket:function(e){s=e},resetBucket:function(){s=""},getExpiryMilliseconds:function(){return o},setExpiryMilliseconds:function(e){a=w(o=e)},enableWarnings:function(e){u=e}}})?n.apply(t,[]):n)||(e.exports=i)},function(e,t,r){var n=r(211),i=r(212);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t,r){var n,i="undefined"!=typeof window&&(window.crypto||window.msCrypto);if(i&&i.getRandomValues){var o=new Uint8Array(16);n=function(){return i.getRandomValues(o),o}}if(!n){var a=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}e.exports=n},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSetupOptions={distinctId:null,version:"0",configurationFetchedHandler:function(){},impressionHandler:null,devModeSecret:null,platform:"Browser",analytics:{flushAt:20,flushInterval:1e3}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultCustomProperties=function(e,t){var r=e.getProperties();return[new i("rox.app_release",String,r.app_release),new i("rox.platform",String,r.platform),new i("rox.screen_width",Number,r.screen_width),new i("rox.screen_height",Number,r.screen_height),new i("rox.language",String,r.language),new i("rox.distinct_id",String,r.distinct_id),new i("rox.internal.realPlatform",String,"Browser"),new i("rox.internal.customPlatform",String,r.platform),new i("rox.internal.appKey",String,t),new i("rox.internal.distinct_id",String,r.distinct_id)]};var n,i=((n=r(15))&&n.__esModule?n:{default:n}).default.Entities.CustomProperty},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(r(216)),o=a(r(217));function a(e){return e&&e.__esModule?e:{default:e}}var s=new(function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.verifier=new i.default,this.verifier.getKey().setPublic("eaf0631114bc9a4150c475c1e5626ecd9c6ac0aa12cfd84ff6ed6db5c9341e8a7eebf05393ffb8c9d0f2e97062f0ff7cc34f9c33209dceb45cb81d6adeda19fbc26b7e6c8f9b6d2ffd90aae6aa4a63023d7e3f09c1e2584469ddbb96894c0aecf9a6eaea8b6d3d93bab9d4831d7ead3f3adecffc19a9f8b04db361788ccb0f6316545189154c098faa09f0c6e5a82596a7fce18d8ed8fd38683c78e70e7dccb10b818347f61a8a5fa486de08fc71deb125d5ba4a979edb1b7609d7285917ebcd93b853dcde977c972fba37a3925a96cd57c526115672827c564f7bf1053d935af15ec5b5b9d8a38563dd702248edf883c430f2413cf0e237d2769eeb6dbdf329","10001")}return n(e,[{key:"verify",value:function(e,t){return this.verifier.verify(e,t,o.default)}}]),e}());t.default=s},function(e,t,r){!function(e){"use strict";var t="0123456789abcdefghijklmnopqrstuvwxyz";function r(e){return t.charAt(e)}function n(e,t){return e&t}function i(e,t){return e|t}function o(e,t){return e^t}function a(e,t){return e&~t}function s(e){for(var t=0;0!=e;)e&=e-1,++t;return t}var u,l=function(){function e(e,t,r){null!=e&&("number"==typeof e||(null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t)))}return e.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,o=!1,a="",s=this.t,u=this.DB-s*this.DB%t;if(s-- >0)for(u<this.DB&&(n=this[s]>>u)>0&&(o=!0,a=r(n));s>=0;)u<t?(n=(this[s]&(1<<u)-1)<<t-u,n|=this[--s]>>(u+=this.DB-t)):(n=this[s]>>(u-=t)&i,u<=0&&(u+=this.DB,--s)),n>0&&(o=!0),o&&(a+=r(n));return o?a:"0"},e.prototype.negate=function(){var t=d();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+_(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var r=d();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new f(t):new h(t),this.exp(e,r)},e.prototype.clone=function(){var e=d();return this.copyTo(e),e},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.equals=function(e){return 0==this.compareTo(e)},e.prototype.min=function(e){return this.compareTo(e)<0?this:e},e.prototype.max=function(e){return this.compareTo(e)>0?this:e},e.prototype.and=function(e){var t=d();return this.bitwiseTo(e,n,t),t},e.prototype.or=function(e){var t=d();return this.bitwiseTo(e,i,t),t},e.prototype.xor=function(e){var t=d();return this.bitwiseTo(e,o,t),t},e.prototype.shiftLeft=function(e){var t=d();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},e.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=s(this[r]^t);return e},e.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},e.prototype.setBit=function(e){return this.changeBit(e,i)},e.prototype.clearBit=function(e){return this.changeBit(e,a)},e.prototype.flipBit=function(e){return this.changeBit(e,o)},e.prototype.subtract=function(e){var t=d();return this.subTo(e,t),t},e.prototype.multiply=function(e){var t=d();return this.multiplyTo(e,t),t},e.prototype.divide=function(e){var t=d();return this.divRemTo(e,t,null),t},e.prototype.remainder=function(e){var t=d();return this.divRemTo(e,null,t),t},e.prototype.divideAndRemainder=function(e){var t=d(),r=d();return this.divRemTo(e,t,r),[t,r]},e.prototype.pow=function(e){return this.exp(e,new c)},e.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},e.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},e.prototype.fromString=function(t,r){var n;if(16==r)n=4;else if(8==r)n=3;else if(256==r)n=8;else if(2==r)n=1;else if(32==r)n=5;else{if(4!=r)return void this.fromRadix(t,r);n=2}this.t=0,this.s=0;for(var i=t.length,o=!1,a=0;--i>=0;){var s=8==n?255&+t[i]:y(t,i);s<0?"-"==t.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=s:a+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&+t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},e.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},e.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},e.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(e/this.DB),a=this.s<<r&this.DM,s=this.t-1;s>=0;--s)t[s+o+1]=this[s]>>n|a,a=(this[s]&i)<<r;for(s=o-1;s>=0;--s)t[s]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},e.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},e.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},e.prototype.multiplyTo=function(t,r){var n=this.abs(),i=t.abs(),o=n.t;for(r.t=o+i.t;--o>=0;)r[o]=0;for(o=0;o<i.t;++o)r[o+n.t]=n.am(0,i[o],r,o,0,n.t);r.s=0,r.clamp(),this.s!=t.s&&e.ZERO.subTo(r,r)},e.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},e.prototype.divRemTo=function(t,r,n){var i=t.abs();if(!(i.t<=0)){var o=this.abs();if(o.t<i.t)return null!=r&&r.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=d());var a=d(),s=this.s,u=t.s,l=this.DB-_(i[i.t-1]);l>0?(i.lShiftTo(l,a),o.lShiftTo(l,n)):(i.copyTo(a),o.copyTo(n));var c=a.t,f=a[c-1];if(0!=f){var h=f*(1<<this.F1)+(c>1?a[c-2]>>this.F2:0),p=this.FV/h,v=(1<<this.F1)/h,m=1<<this.F2,g=n.t,y=g-c,b=null==r?d():r;for(a.dlShiftTo(y,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),e.ONE.dlShiftTo(c,b),b.subTo(a,a);a.t<c;)a[a.t++]=0;for(;--y>=0;){var w=n[--g]==f?this.DM:Math.floor(n[g]*p+(n[g-1]+m)*v);if((n[g]+=a.am(0,w,n,y,0,c))<w)for(a.dlShiftTo(y,b),n.subTo(b,n);n[g]<--w;)n.subTo(b,n)}null!=r&&(n.drShiftTo(c,r),s!=u&&e.ZERO.subTo(r,r)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),s<0&&e.ZERO.subTo(n,n)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var n=d(),i=d(),o=r.convert(this),a=_(t)-1;for(o.copyTo(n);--a>=0;)if(r.sqrTo(n,i),(t&1<<a)>0)r.mulTo(i,o,n);else{var s=n;n=i,i=s}return r.revert(n)},e.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},e.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=b(r),i=d(),o=d(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a},e.prototype.fromRadix=function(t,r){this.fromInt(0),null==r&&(r=10);for(var n=this.chunkSize(r),i=Math.pow(r,n),o=!1,a=0,s=0,u=0;u<t.length;++u){var l=y(t,u);l<0?"-"==t.charAt(u)&&0==this.signum()&&(o=!0):(s=r*s+l,++a>=n&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(r,a)),this.dAddOffset(s,0)),o&&e.ZERO.subTo(this,this)},e.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},e.prototype.changeBit=function(t,r){var n=e.ONE.shiftLeft(t);return this.bitwiseTo(n,r,n),n},e.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},e.prototype.multiplyLowerTo=function(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r[--n]=0;for(var i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,e[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e[n],r,n,0,t-n);r.clamp()},e.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},e.prototype.square=function(){var e=d();return this.squareTo(e),e},e}(),c=function(){function e(){}return e.prototype.convert=function(e){return e},e.prototype.revert=function(e){return e},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},e.prototype.sqrTo=function(e,t){e.squareTo(t)},e}(),f=function(){function e(e){this.m=e}return e.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},e.prototype.revert=function(e){return e},e.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}(),h=function(){function e(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return e.prototype.convert=function(e){var t=d();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(l.ZERO)>0&&this.m.subTo(t,t),t},e.prototype.revert=function(e){var t=d();return e.copyTo(t),this.reduce(t),t},e.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},e.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},e.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},e}();function d(){return new l(null)}function p(e,t){return new l(e,t)}"Microsoft Internet Explorer"==navigator.appName?(l.prototype.am=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],l=this[e++]>>15,c=s*u+l*a;i=((u=a*u+((32767&c)<<15)+r[n]+(1073741823&i))>>>30)+(c>>>15)+s*l+(i>>>30),r[n++]=1073741823&u}return i},u=30):"Netscape"!=navigator.appName?(l.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},u=26):(l.prototype.am=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],l=this[e++]>>14,c=s*u+l*a;i=((u=a*u+((16383&c)<<14)+r[n]+i)>>28)+(c>>14)+s*l,r[n++]=268435455&u}return i},u=28),l.prototype.DB=u,l.prototype.DM=(1<<u)-1,l.prototype.DV=1<<u,l.prototype.FV=Math.pow(2,52),l.prototype.F1=52-u,l.prototype.F2=2*u-52;var v,m,g=[];for(v="0".charCodeAt(0),m=0;m<=9;++m)g[v++]=m;for(v="a".charCodeAt(0),m=10;m<36;++m)g[v++]=m;for(v="A".charCodeAt(0),m=10;m<36;++m)g[v++]=m;function y(e,t){var r=g[e.charCodeAt(t)];return null==r?-1:r}function b(e){var t=d();return t.fromInt(e),t}function _(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}l.ZERO=b(0),l.ONE=b(1);var w=function(){function e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return e.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},e.prototype.setPublic=function(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=p(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},e.prototype.verify=function(e,t,r){var n=p(t,16),i=this.doPublic(n);return null==i?null:function(e){for(var t in E)if(E.hasOwnProperty(t)){var r=E[t],n=r.length;if(e.substr(0,n)==r)return e.substr(n)}return e}(i.toString(16).replace(/^1f+00/,""))==r(e).toString()},e}(),E={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},S=function(){function e(e){e=e||{},this.key=null}return e.prototype.verify=function(e,t,n){try{return this.getKey().verify(e,function(e){var t,n="",i=0,o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(t));a<0||(0==i?(n+=r(a>>2),o=3&a,i=1):1==i?(n+=r(o<<2|a>>4),o=15&a,i=2):2==i?(n+=r(o),n+=r(a>>2),o=3&a,i=3):(n+=r(o<<2|a>>4),n+=r(15&a),i=0))}return 1==i&&(n+=r(o<<2)),n}(t),n)}catch(e){return!1}},e.prototype.getKey=function(e){return this.key||(this.key=new w),this.key},e.version="3.0.0-rc.1",e}();window.JSEncrypt=S,e.JSEncrypt=S,e.default=S,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){var n;n=function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var l=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],c=r[5],f=r[6],h=r[7],d=0;d<64;d++){if(d<16)l[d]=0|e[t+d];else{var p=l[d-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=l[d-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[d]=v+l[d-7]+g+l[d-16]}var y=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&f)+u[d]+l[d];h=f,f=c,c=s,s=a+_|0,a=o,o=i,i=n,n=_+(b+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+c|0,r[6]=r[6]+f|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=o._createHelper(c),r.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256},e.exports=n(r(218))},function(e,t,r){var n;n=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,t)}}),s=n.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},l=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,l=e.min(4*u,i);if(u){for(var c=0;c<u;c+=o)this._doProcessBlock(n,c);var f=n.splice(0,u);r.sigBytes-=l}return new a.init(f,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e},e.exports=n()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=a(r(64)),o=a(r(94));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}return n(e,[{key:"createFlag",value:function(e){return new o.default(e)}},{key:"createVariant",value:function(e,t){return new i.default(e,t)}}]),e}();t.default=new s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(65),s=(n=r(15))&&n.__esModule?n:{default:n},u=s.default.Entities.Configuration,l=new(0,s.default.Parsers.RoxxParser),c=function(e){function t(e){var r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).freeze;!function(e,r){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(Object.defineProperty(n,"_frozen",{value:!1,writable:!0,enumerable:!1}),r&&!(0,a.isFreezeOptionValid)(r))throw new Error("Freeze option is invalid "+r);return n._localFreeze=r,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),o(t,[{key:"unfreeze",value:function(){this._frozen=!1}},{key:"getValue",value:function(e){return this._freeze===a.freezeOptions.freezeOptionNone?(this.condition&&(this.value=l.evaluateExpression(this.condition,void 0,e)),this._value):(this._frozen||(this.condition&&(this.value=l.evaluateExpression(this.condition,void 0,e)),this._frozen=!0),this._value)}},{key:"value",set:function(e){this._type===(void 0===e?"undefined":i(e))&&void 0!==e?(this._value=e,this._frozen=!1):this._value=this._defaultValue}},{key:"_freeze",get:function(){return this._localFreeze||(0,a.getDefaultFreezeOption)()||a.defaultFreezeOptionForPlatform}}]),t}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.open=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;if(!u){-1===Object.keys(p).indexOf(e)&&(e=h),l=e,f=T(),u=(0,a.compose)((0,a.applyClass)("roxDbg"),g,a.divWithChildren)([(0,a.divWithChildren)([b(),S()]),f]);var t=document.getElementsByTagName("body")[0];t.appendChild((0,a.elementWithAttrs)("link",{href:"https://fonts.googleapis.com/css?family=Lato",rel:"stylesheet"})),t.appendChild((0,a.elementWithAttrs)("link",{href:d,rel:"stylesheet"})),t.appendChild(u),A()}};var n,i=(n=r(15))&&n.__esModule?n:{default:n},o=r(66),a=r(222),s=i.default.Repositories.Flags,u=void 0,l=void 0,c=void 0,f=void 0,h="bottom right",d="https://connect.rollout.io/rox.browser.css",p={"top left":{top:0,left:0},"top right":{top:0,right:0},"bottom left":{bottom:0,left:0},"bottom right":{bottom:0,right:0}},v={background:"white","z-index":999999,position:"fixed",width:"400px",height:"600px",overflow:"auto"},m=function(e){var t=e.value,r=e.text,n=e.selected,i=document.createElement("option");return n&&i.setAttribute("selected",!0),i.setAttribute("value",t),i.textContent=r,i},g=function(e){return(0,a.setStyle)(e,(0,a.compileStyles)(v)+";"+(0,a.compileStyles)(p[l]))},y=function(e){var t=e.name,r=e.nameDetails,n=e.originalValue,i=e.overridingValue,o=e.options;return(0,a.compose)((0,a.applyClass)("roxPushAside roxFlag"),a.divWithChildren)([function(e){var t=e.name,r=e.originalValue,n=e.overridingValue;return(0,a.divWithChildren)([(0,a.divWithText)(t),n?(0,a.compose)((0,a.applyClass)("roxFlagSub"),a.divWithText)("Original value: "+r):void 0])}({name:r.name,originalValue:n,overridingValue:i}),E(t,n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{options:[]},t=e.options,r=e.originalValue,n=e.overridingValue;return t.map((function(e){return{text:e===r?"Original ("+e+")":e,value:e,selected:function(e){var t=e.overridingValue,r=e.option;return t?t===r:e.originalValue===r}({originalValue:r,overridingValue:n,option:e})}}))}({options:o,originalValue:n,overridingValue:i}))])},b=function(){return(0,a.compose)((0,a.applyClass)("roxPushAside roxTitle"),a.divWithChildren)([(0,a.elementWithText)("span","ROX Overrides"),(0,a.attachOnClickHandler)((0,a.elementWithText)("a","╳"),x)])},_=function(e){var t=e.target;27===e.keyCode?(t.value="",c=null):c=t.value,A()},w=function(){return(0,o.clearAllOverrides)(),A()},E=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(0,a.attachOnChangeHandler)((0,a.elementWithChildren)("select",r.map(m)),function(e,t){return function(r){return r.preventDefault(),t===r.target.value?(0,o.clearOverride)(e):(0,o.setOverride)(e,r.target.value),A()}}(e,t))},S=function(){return(0,a.compose)((0,a.applyClass)("roxSearch roxPushAside"),a.divWithChildren)([(0,a.attachOnKeyUpHandler)((0,a.elementWithAttrs)("input",{placeholder:"Search Flags"}),_),(0,a.attachOnClickHandler)((0,a.elementWithText)("a","Reset All Overrides"),w)])},T=function(){return(0,a.compose)((0,a.applyClass)("roxFlags"),a.divWithChildren)((e=s.items.map((function(e){return e.dump()})).filter((function(e){return!c||-1!==e.name.toLowerCase().indexOf(c.toLowerCase())})).reduce((function(e,t){return!e[t.nameDetails.namespace]&&(e[t.nameDetails.namespace]=[]),e[t.nameDetails.namespace].push(t),e}),{}),Object.keys(e).map(function(e,t){return(0,a.divWithChildren)([(0,a.compose)((0,a.applyClass)("roxNamespace"),a.divWithText)(t),(0,a.compose)((0,a.applyClass)("roxFlagsList"),a.divWithChildren)(e[t].map(y))])}.bind(null,e))));var e};function A(){u.removeChild(f),f=T(),u.appendChild(f)}function x(){document.getElementsByTagName("body")[0].removeChild(u),u=void 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){var e=arguments;return function(t){for(var r=e.length-1;r>-1;r--)t=e[r].call(this,t);return t}},t.compileStyles=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return t+": "+e[t]})).join(";")},t.setStyle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.setAttribute("style",t),e},t.applyClass=function(e){return function(t){return t.setAttribute("class",e),t}};var n=function(e,t,r){return e.addEventListener(t,r),e},i=(t.attachOnChangeHandler=function(e,t){return n(e,"change",t)},t.attachOnClickHandler=function(e,t){return n(e,"click",t)},void(t.attachOnKeyUpHandler=function(e,t){return n(e,"keyup",t)})),o=void 0,a=void 0,s=void 0,u=void 0,l=void 0;i=t.elementWithText=o=t.elementWithAttrs=a=t.elementWithChildren=s=u,t.divWithChildren=l=function(){},"undefined"!=typeof window&&"undefined"!=typeof document&&(i=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce((function(e,t){return t?e.appendChild(t)&&e:e}),e)},t.elementWithText=o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=document.createElement(e);return r.textContent=t,r},t.elementWithAttrs=a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement(e);return Object.keys(t).forEach((function(e){return r.setAttribute(e,t[e])})),r},t.elementWithChildren=s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return i(document.createElement(e),t)},t.divWithText=u=o.bind(document,"div"),t.divWithChildren=l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return s("div",e)}),t.elementWithText=o,t.elementWithAttrs=a,t.elementWithChildren=s,t.divWithText=u,t.divWithChildren=l}]).default}))}).call(this,r(53).setImmediate,r(53).clearImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sessionEvents=void 0;t.sessionEvents={REPLACED:"session:replaced"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AppiumApi=t.ANDROID_HOME_BUTTON=void 0;const n=r(11);const i=r(32);const o=r(38);const a=r(59);const s=r(72);const u=r(6);const l=u.Logger.getLogger("appiumApi");const c={0:"notInstalled",1:"notRunning",2:"backgroundOrSuspended",3:"background",4:"foreground"};t.ANDROID_HOME_BUTTON=3;class f{constructor(e,t,r=(window===null||window===void 0?void 0:window.DOMParser)){this.baseUrl=e;this.sessionId=t;this.DOMParserCtor=r;this.android={isTextVisible:async(e,t,r)=>{const n=t==="exact"?"text":"textContains";const i=`new UiSelector().${n}("${e}")`;const o=this.requestElementsIds("-android uiautomator",i);const a=[o];if(!r){const r=t==="exact"?"description":"descriptionContains";const n=`new UiSelector().${r}("${e}")`;const i=this.requestElementsIds("-android uiautomator",n);a.push(i)}const s=(await Promise.all(a)).flat();return Boolean(s.length)}};this.ios={isTextVisible:async(e,t)=>{const r=t==="exact"?`value == '${e}'`:`value contains '${e}'`;const n=await this.requestElementsIds("-ios predicate string",r);const i=await Promise.all(n.map((e=>this.getElementAttribute(e,"visible"))));return i.includes("true")},applicationSwipe:async(e,t=250)=>{await this.executeSync("mobile: swipe",[{direction:e,velocity:t}])},applicationScroll:e=>this.executeSync("mobile: scroll",[{direction:e}]),getSource:async e=>{const t=await this.executeSync("mobile: source",[{format:"xml",excludedAttributes:e.excludedAttributes}],e.abortSignal);return(new this.DOMParserCtor).parseFromString(t.value,"text/xml")}};if(typeof localStorage!=="undefined"&&localStorage.getItem("appiumUrl")){this.baseUrl=localStorage.getItem("appiumUrl")}if(this.baseUrl.endsWith("/")){this.baseUrl=this.baseUrl.slice(0,-1)}}async getDeviceSize(){const{value:e}=await i.httpRequest.getJson(`${this.baseUrl}/session/${this.sessionId}/window/current/size`);return e}async getDom(e){const t=await i.httpRequest.getJson(`${this.baseUrl}/session/${this.sessionId}/source`,undefined,e);return(new this.DOMParserCtor).parseFromString(t.value,"text/xml")}async getScreenshot(){const{value:e}=await i.httpRequest.getJson(`${this.baseUrl}/session/${this.sessionId}/screenshot`);return e}async endSession(){try{await i.httpRequest.delete(`${this.baseUrl}/session/${this.sessionId}`)}catch(e){if(e instanceof o.TypedHttpError&&e.status!==404){l.warn("Failed to delete session",{sessionId:this.sessionId,...e})}}}async requestElementsIds(e,t){const r=await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/elements`,{using:e,value:t});return r.value.map((e=>e.ELEMENT))}async requestsElementsIdsByAndroidUISelector(e,t){const r=typeof t==="string"?`"${t}"`:t;const n=`new UiSelector().${e}(${r})`;return this.requestElementsIds("-android uiautomator",n)}async getElementsIdsByAttributeId(e,t,r){if(t===s.MobileSelectorMatchMethod.Equals){return this.requestElementsIds("id",e)}switch(r){case"ios":return this.getElementsIdsByXpathAttributeMatch("name",e,t);case"android":return this.requestsElementsIdsByAndroidUISelectorMatch("resourceId",e,t);default:throw new Error(`device: ${r} is not supported.`)}}async getElementsIdsByText(e,t,r,n){var i;switch(r){case"ios":return((i=t.label)===null||i===void 0?void 0:i.currentValue)?this.getElementsIdsByXpathAttributeMatch("label",e,n):this.getElementsIdsByXpathAttributeMatch("value",e,n);case"android":return this.requestsElementsIdsByAndroidUISelectorMatch("text",e,n);default:throw new Error(`device: ${r} is not supported.`)}}async getElementsIdsByIndex(e,t){switch(t){case"ios":return this.getElementsIdsByXpathAttributeMatch("index",e.toString(),s.MobileSelectorMatchMethod.Equals);case"android":return this.requestsElementsIdsByAndroidUISelector("index",e);default:throw new Error(`device: ${t} is not supported.`)}}async getElementsIdsByClassName(e,t,r){if(t===s.MobileSelectorMatchMethod.Equals){return this.requestElementsIds("class name",e)}switch(r){case"ios":return this.getElementsIdsByXpathAttributeMatch("type",e,t);case"android":return this.requestsElementsIdsByAndroidUISelectorMatch("class",e,t);default:throw new Error(`device: ${r} is not supported.`)}}async getElementsIdsByContentDesc(e,t,r){switch(r){case"ios":return[];case"android":return this.requestsElementsIdsByAndroidUISelectorMatch("content-desc",e,t);default:throw new Error(`device: ${r} is not supported.`)}}async getElementsIdsByXpath(e){return this.requestElementsIds("xpath",e)}async requestsElementsIdsByAndroidUISelectorMatch(e,t,r){if(!(e==="text"||e==="class"||e==="resourceId"))return[];if(e==="class")e="className";let i;let o;switch(r){case s.MobileSelectorMatchMethod.Equals:i=`new UiSelector().${e}(${`"${t}"`})`;break;case s.MobileSelectorMatchMethod.Contains:o=`".*${n.escapeRegExp(t)}.*"`;i=`new UiSelector().${e}Matches(${o})`;break;case s.MobileSelectorMatchMethod.StartsWith:o=`"^${n.escapeRegExp(t)}.*"`;i=`new UiSelector().${e}Matches(${o})`;break;case s.MobileSelectorMatchMethod.EndsWith:o=`".*${n.escapeRegExp(t)}$"`;i=`new UiSelector().${e}Matches(${o})`;break;default:return[]}return this.requestElementsIds("-android uiautomator",i)}async getElementsIdsByXpathAttributeMatch(e,t,r){let n;switch(r){case s.MobileSelectorMatchMethod.Equals:n=`//*[@${e} = '${t}']`;break;case s.MobileSelectorMatchMethod.Contains:n=`//*[contains(@${e}, '${t}')]`;break;case s.MobileSelectorMatchMethod.StartsWith:n=`//*[starts-with(@${e}, '${t}')]`;break;case s.MobileSelectorMatchMethod.EndsWith:n=`//*[substring(@${e}, string-length(@${e}) - string-length('${t}') + 1) = '${t}']`;break;default:return[]}return this.requestElementsIds("xpath",n)}async getElementsIdsByImage(e){return this.requestElementsIds("-image",e)}async getElementsIdsBySelector(e,t,r,n,i){switch(e){case"id":return await this.getElementsIdsByAttributeId(t,i,n);case"text":case"label":case"value":return await this.getElementsIdsByText(t,r,n,i);case"class":case"type":return await this.getElementsIdsByClassName(t,i,n);case"index":return await this.getElementsIdsByIndex(t,n);case"xpath":case"closestParentIndexOnlyXpath":case"indexOnlyXpath":case"xpathWithoutIndices":return await this.getElementsIdsByXpath(t);case"closestText":return[];case"contentDesc":return await this.getElementsIdsByContentDesc(t,i,n);default:break}return[]}async isElementsEquals(e,t,r){let n=false;const i=await this.getCacheElementLocation(e,r);const o=await this.getCacheElementLocation(t,r);if(i.x===-1&&i.y===-1||(o.x===-1||o.x===-1)){n=false}else{n=i.x===o.x&&i.y===o.y}return n}async verifyElementsLocationCache(e,t){a.AlgoUtils.Logging.log(`**** Elements size is ${e.length} before verification.`);for(let r=0;r<e.length;r++){const n=e[r];try{await this.getElementLocation(n)}catch(i){a.AlgoUtils.Logging.log("Verify location not found, deleting from Elements.");t.delete(n);e.splice(r,1);r--}}a.AlgoUtils.Logging.log(`**** Elements size is ${e.length} after verification.`)}async getCacheElementLocation(e,t){let r=t.get(e);if(r){return r}try{r=await this.getElementLocation(e);t.set(e,r);return r}catch(e){a.AlgoUtils.Logging.log("Location not found");return{x:-1,y:-1}}}async getElementLocation(e){const{value:t}=await i.httpRequest.getJson(`${this.baseUrl}/session/${this.sessionId}/element/${e}/location`);return t}async getElementId(e){const t=await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/element`,{using:"xpath",value:e});return t.value.ELEMENT}async getElementAttribute(e,t){const{value:r}=await i.httpRequest.get(`${this.baseUrl}/session/${this.sessionId}/element/${e}/attribute/${t}`);return r}async getElementText(e){const{value:t}=await i.httpRequest.get(`${this.baseUrl}/session/${this.sessionId}/element/${e}/text`);return t}async tapOnPoint(e,t=50){const r={actions:[]};const n={type:"pointer",id:"finger1",parameters:{pointerType:"touch"},actions:[{type:"pointerMove",duration:0,x:e.x,y:e.y},{type:"pointerDown",button:1},{type:"pause",duration:t},{type:"pointerUp",button:1}]};r.actions.push(n);await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/actions`,r)}async tap(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/element/${e}/click`,{})}async doubleTap(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/touch/doubleclick`,{element:e})}async longPress(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/touch/longclick`,{element:e})}async scroll(e,t){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/touch/scroll`,{x:e,y:t})}async swipe(e,t,r){return await this.touchPerform([{action:"press",options:e},{action:"wait",options:{ms:r}},{action:"moveTo",options:t},{action:"release"}])}async flick(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/touch/flick`,e)}async multiTouchPerform(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/touch/multi/perform`,{actions:e})}async touchPerform(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/touch/perform`,{actions:e})}async actions(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/actions`,e)}async move(e,t){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/touch/move`,{x:e,y:t})}async clear(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/element/${e}/clear`,{})}async typeKeys(e,t){const r=typeof t==="string"?{text:t}:{value:t};await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/element/${e}/value`,r)}async hideKeyboard(e,t={}){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/device/hide_keyboard`,t,[],e)}async isKeyboardShown(){const{value:e}=await i.httpRequest.get(`${this.baseUrl}/session/${this.sessionId}/appium/device/is_keyboard_shown`);return e}async pressKeyCode(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/device/press_keycode`,{keycode:e})}async updateDeviceSettings(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/device/settings`,e)}async isDeviceLocked(){const{value:e}=await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/device/is_locked`);return e}async resetApp(){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/app/reset`,{})}async pressOnHomeButton(){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/execute`,{script:"mobile: pressButton",args:{name:"home"}})}async activateApp(e){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/device/activate_app`,e)}async pressKey(e,t,r){await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/device/press_keycode`,{keycode:e,metastate:t,flags:r})}async getAppState({bundleId:e,appPackage:t}){const{value:r}=await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/device/app_state`,{bundleId:e,appId:t});return c[r]}async executeSync(e,t,r){return i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/execute/sync`,{script:e,args:t},undefined,undefined,undefined,r)}async executeDriverScript(e,t){const{value:r}=await i.httpRequest.postJson(`${this.baseUrl}/session/${this.sessionId}/appium/execute_driver`,{script:e,timeout:t,type:"webdriverio"});return r}async getSessionDeviceLogsUntilNow(){const{value:e}=await i.httpRequest.postForm(`${this.baseUrl}/session/${this.sessionId}/log`,{type:"logcat"});return e}}t.AppiumApi=f},function(e,t,r){var n;if(typeof window!=="undefined"){n=window}else if(typeof self!=="undefined"){n=self}else{console.warn("Using browser-only version of superagent in non-browser environment");n=this}var i=r(188);var o=r(189);var a=r(91);var s=r(190);var u=r(192);function l(){}var c=t=e.exports=function(e,r){if("function"==typeof r){return new t.Request("GET",e).end(r)}if(1==arguments.length){return new t.Request("GET",e)}return new t.Request(e,r)};t.Request=y;c.getXHR=function(){if(n.XMLHttpRequest&&(!n.location||"file:"!=n.location.protocol||!n.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}throw Error("Browser-only version of superagent could not find XHR")};var f="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function h(e){if(!a(e))return e;var t=[];for(var r in e){d(t,r,e[r])}return t.join("&")}function d(e,t,r){if(r!=null){if(Array.isArray(r)){r.forEach((function(r){d(e,t,r)}))}else if(a(r)){for(var n in r){d(e,t+"["+n+"]",r[n])}}else{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}}else if(r===null){e.push(encodeURIComponent(t))}}c.serializeObject=h;function p(e){var t={};var r=e.split("&");var n;var i;for(var o=0,a=r.length;o<a;++o){n=r[o];i=n.indexOf("=");if(i==-1){t[decodeURIComponent(n)]=""}else{t[decodeURIComponent(n.slice(0,i))]=decodeURIComponent(n.slice(i+1))}}return t}c.parseString=p;c.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};c.serialize={"application/x-www-form-urlencoded":h,"application/json":JSON.stringify};c.parse={"application/x-www-form-urlencoded":p,"application/json":JSON.parse};function v(e){var t=e.split(/\r?\n/);var r={};var n;var i;var o;var a;for(var s=0,u=t.length;s<u;++s){i=t[s];n=i.indexOf(":");if(n===-1){continue}o=i.slice(0,n).toLowerCase();a=f(i.slice(n+1));r[o]=a}return r}function m(e){return/[\/+]json($|[^-\w])/.test(e)}function g(e){this.req=e;this.xhr=this.req.xhr;this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType==="undefined"?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;var t=this.xhr.status;if(t===1223){t=204}this._setStatusProperties(t);this.header=this.headers=v(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this._setHeaderProperties(this.header);if(null===this.text&&e._responseType){this.body=this.xhr.response}else{this.body=this.req.method!="HEAD"?this._parseBody(this.text?this.text:this.xhr.response):null}}s(g.prototype);g.prototype._parseBody=function(e){var t=c.parse[this.type];if(this.req._parser){return this.req._parser(this,e)}if(!t&&m(this.type)){t=c.parse["application/json"]}return t&&e&&(e.length||e instanceof Object)?t(e):null};g.prototype.toError=function(){var e=this.req;var t=e.method;var r=e.url;var n="cannot "+t+" "+r+" ("+this.status+")";var i=new Error(n);i.status=this.status;i.method=t;i.url=r;return i};c.Response=g;function y(e,t){var r=this;this._query=this._query||[];this.method=e;this.url=t;this.header={};this._header={};this.on("end",(function(){var e=null;var t=null;try{t=new g(r)}catch(t){e=new Error("Parser is unable to parse the response");e.parse=true;e.original=t;if(r.xhr){e.rawResponse=typeof r.xhr.responseType=="undefined"?r.xhr.responseText:r.xhr.response;e.status=r.xhr.status?r.xhr.status:null;e.statusCode=e.status}else{e.rawResponse=null;e.status=null}return r.callback(e)}r.emit("response",t);var n;try{if(!r._isResponseOK(t)){n=new Error(t.statusText||"Unsuccessful HTTP response")}}catch(e){n=e}if(n){n.original=e;n.response=t;n.status=t.status;r.callback(n,t)}else{r.callback(null,t)}}))}i(y.prototype);o(y.prototype);y.prototype.type=function(e){this.set("Content-Type",c.types[e]||e);return this};y.prototype.accept=function(e){this.set("Accept",c.types[e]||e);return this};y.prototype.auth=function(e,t,r){if(1===arguments.length)t="";if(typeof t==="object"&&t!==null){r=t;t=""}if(!r){r={type:"function"===typeof btoa?"basic":"auto"}}var n=function(e){if("function"===typeof btoa){return btoa(e)}throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,n)};y.prototype.query=function(e){if("string"!=typeof e)e=h(e);if(e)this._query.push(e);return this};y.prototype.attach=function(e,t,r){if(t){if(this._data){throw Error("superagent can't mix .send() and .attach()")}this._getFormData().append(e,t,r||t.name)}return this};y.prototype._getFormData=function(){if(!this._formData){this._formData=new n.FormData}return this._formData};y.prototype.callback=function(e,t){if(this._shouldRetry(e,t)){return this._retry()}var r=this._callback;this.clearTimeout();if(e){if(this._maxRetries)e.retries=this._retries-1;this.emit("error",e)}r(e,t)};y.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=true;e.status=this.status;e.method=this.method;e.url=this.url;this.callback(e)};y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){console.warn("This is not supported in browser version of superagent");return this};y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")};y.prototype._isHost=function e(t){return t&&"object"===typeof t&&!Array.isArray(t)&&Object.prototype.toString.call(t)!=="[object Object]"};y.prototype.end=function(e){if(this._endCalled){console.warn("Warning: .end() was called twice. This is not supported in superagent")}this._endCalled=true;this._callback=e||l;this._finalizeQueryString();return this._end()};y.prototype._end=function(){var e=this;var t=this.xhr=c.getXHR();var r=this._formData||this._data;this._setTimeouts();t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer){clearTimeout(e._responseTimeoutTimer)}if(4!=r){return}var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")};var n=function(t,r){if(r.total>0){r.percent=r.loaded/r.total*100}r.direction=t;e.emit("progress",r)};if(this.hasListeners("progress")){try{t.onprogress=n.bind(null,"download");if(t.upload){t.upload.onprogress=n.bind(null,"upload")}}catch(e){}}try{if(this.username&&this.password){t.open(this.method,this.url,true,this.username,this.password)}else{t.open(this.method,this.url,true)}}catch(e){return this.callback(e)}if(this._withCredentials)t.withCredentials=true;if(!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var i=this._header["content-type"];var o=this._serializer||c.serialize[i?i.split(";")[0]:""];if(!o&&m(i)){o=c.serialize["application/json"]}if(o)r=o(r)}for(var a in this.header){if(null==this.header[a])continue;if(this.header.hasOwnProperty(a))t.setRequestHeader(a,this.header[a])}if(this._responseType){t.responseType=this._responseType}this.emit("request",this);t.send(typeof r!=="undefined"?r:null);return this};c.agent=function(){return new u};["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){u.prototype[e.toLowerCase()]=function(t,r){var n=new c.Request(e,t);this._setDefaults(n);if(r){n.end(r)}return n}}));u.prototype.del=u.prototype["delete"];c.get=function(e,t,r){var n=c("GET",e);if("function"==typeof t)r=t,t=null;if(t)n.query(t);if(r)n.end(r);return n};c.head=function(e,t,r){var n=c("HEAD",e);if("function"==typeof t)r=t,t=null;if(t)n.query(t);if(r)n.end(r);return n};c.options=function(e,t,r){var n=c("OPTIONS",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n};function b(e,t,r){var n=c("DELETE",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n}c["del"]=b;c["delete"]=b;c.patch=function(e,t,r){var n=c("PATCH",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n};c.post=function(e,t,r){var n=c("POST",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n};c.put=function(e,t,r){var n=c("PUT",e);if("function"==typeof t)r=t,t=null;if(t)n.send(t);if(r)n.end(r);return n}},function(e,t,r){if(true){e.exports=n}function n(e){if(e)return i(e)}function i(e){for(var t in n.prototype){e[t]=n.prototype[t]}return e}n.prototype.on=n.prototype.addEventListener=function(e,t){this._callbacks=this._callbacks||{};(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t);return this};n.prototype.once=function(e,t){function r(){this.off(e,r);t.apply(this,arguments)}r.fn=t;this.on(e,r);return this};n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length){delete this._callbacks["$"+e];return this}var n;for(var i=0;i<r.length;i++){n=r[i];if(n===t||n.fn===t){r.splice(i,1);break}}if(r.length===0){delete this._callbacks["$"+e]}return this};n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=new Array(arguments.length-1),r=this._callbacks["$"+e];for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n){r[n].apply(this,t)}}return this};n.prototype.listeners=function(e){this._callbacks=this._callbacks||{};return this._callbacks["$"+e]||[]};n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){"use strict";var n=r(91);e.exports=i;function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.clearTimeout=function e(){clearTimeout(this._timer);clearTimeout(this._responseTimeoutTimer);delete this._timer;delete this._responseTimeoutTimer;return this};i.prototype.parse=function e(t){this._parser=t;return this};i.prototype.responseType=function(e){this._responseType=e;return this};i.prototype.serialize=function e(t){this._serializer=t;return this};i.prototype.timeout=function e(t){if(!t||"object"!==typeof t){this._timeout=t;this._responseTimeout=0;return this}for(var r in t){switch(r){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",r)}}return this};i.prototype.retry=function e(t,r){if(arguments.length===0||t===true)t=1;if(t<=0)t=0;this._maxRetries=t;this._retries=0;this._retryCallback=r;return this};var a=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];i.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries){return false}if(this._retryCallback){try{var r=this._retryCallback(e,t);if(r===true)return true;if(r===false)return false}catch(e){console.error(e)}}if(t&&t.status&&t.status>=500&&t.status!=501)return true;if(e){if(e.code&&~a.indexOf(e.code))return true;if(e.timeout&&e.code=="ECONNABORTED")return true;if(e.crossDomain)return true}return false};i.prototype._retry=function(){this.clearTimeout();if(this.req){this.req=null;this.req=this.request()}this._aborted=false;this.timedout=false;return this._end()};i.prototype.then=function e(t,r){if(!this._fullfilledPromise){var n=this;if(this._endCalled){console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises")}this._fullfilledPromise=new Promise((function(e,t){n.end((function(r,n){if(r)t(r);else e(n)}))}))}return this._fullfilledPromise.then(t,r)};i.prototype.catch=function(e){return this.then(undefined,e)};i.prototype.use=function e(t){t(this);return this};i.prototype.ok=function(e){if("function"!==typeof e)throw Error("Callback required");this._okCallback=e;return this};i.prototype._isResponseOK=function(e){if(!e){return false}if(this._okCallback){return this._okCallback(e)}return e.status>=200&&e.status<300};i.prototype.get=function(e){return this._header[e.toLowerCase()]};i.prototype.getHeader=i.prototype.get;i.prototype.set=function(e,t){if(n(e)){for(var r in e){this.set(r,e[r])}return this}this._header[e.toLowerCase()]=t;this.header[e]=t;return this};i.prototype.unset=function(e){delete this._header[e.toLowerCase()];delete this.header[e];return this};i.prototype.field=function(e,t){if(null===e||undefined===e){throw new Error(".field(name, val) name can not be empty")}if(this._data){console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()")}if(n(e)){for(var r in e){this.field(r,e[r])}return this}if(Array.isArray(t)){for(var i in t){this.field(e,t[i])}return this}if(null===t||undefined===t){throw new Error(".field(name, val) val can not be empty")}if("boolean"===typeof t){t=""+t}this._getFormData().append(e,t);return this};i.prototype.abort=function(){if(this._aborted){return this}this._aborted=true;this.xhr&&this.xhr.abort();this.req&&this.req.abort();this.clearTimeout();this.emit("abort");return this};i.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(e+":"+t));break;case"auto":this.username=e;this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e);break}return this};i.prototype.withCredentials=function(e){if(e==undefined)e=true;this._withCredentials=e;return this};i.prototype.redirects=function(e){this._maxRedirects=e;return this};i.prototype.maxResponseSize=function(e){if("number"!==typeof e){throw TypeError("Invalid argument")}this._maxResponseSize=e;return this};i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};i.prototype.send=function(e){var t=n(e);var r=this._header["content-type"];if(this._formData){console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()")}if(t&&!this._data){if(Array.isArray(e)){this._data=[]}else if(!this._isHost(e)){this._data={}}}else if(e&&this._data&&this._isHost(this._data)){throw Error("Can't merge these send calls")}if(t&&n(this._data)){for(var i in e){this._data[i]=e[i]}}else if("string"==typeof e){if(!r)this.type("form");r=this._header["content-type"];if("application/x-www-form-urlencoded"==r){this._data=this._data?this._data+"&"+e:e}else{this._data=(this._data||"")+e}}else{this._data=e}if(!t||this._isHost(e)){return this}if(!r)this.type("json");return this};i.prototype.sortQuery=function(e){this._sort=typeof e==="undefined"?true:e;return this};i.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e){this.url+=(this.url.indexOf("?")>=0?"&":"?")+e}this._query.length=0;if(this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");if("function"===typeof this._sort){r.sort(this._sort)}else{r.sort()}this.url=this.url.substring(0,t)+"?"+r.join("&")}}};i.prototype._appendQueryString=function(){console.trace("Unsupported")};i.prototype._timeoutError=function(e,t,r){if(this._aborted){return}var n=new Error(e+t+"ms exceeded");n.timeout=t;n.code="ECONNABORTED";n.errno=r;this.timedout=true;this.abort();this.callback(n)};i.prototype._setTimeouts=function(){var e=this;if(this._timeout&&!this._timer){this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)}if(this._responseTimeout&&!this._responseTimeoutTimer){this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout)}}},function(e,t,r){"use strict";var n=r(191);e.exports=i;function i(e){if(e)return o(e)}function o(e){for(var t in i.prototype){e[t]=i.prototype[t]}return e}i.prototype.get=function(e){return this.header[e.toLowerCase()]};i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=n.type(t);var r=n.params(t);for(var i in r)this[i]=r[i];this.links={};try{if(e.link){this.links=n.parseLinks(e.link)}}catch(e){}};i.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e;this.statusType=t;this.info=1==t;this.ok=2==t;this.redirect=3==t;this.clientError=4==t;this.serverError=5==t;this.error=4==t||5==t?this.toError():false;this.accepted=202==e;this.noContent=204==e;this.badRequest=400==e;this.unauthorized=401==e;this.notAcceptable=406==e;this.forbidden=403==e;this.notFound=404==e}},function(e,t,r){"use strict";t.type=function(e){return e.split(/ *; */).shift()};t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var r=t.split(/ *= */);var n=r.shift();var i=r.shift();if(n&&i)e[n]=i;return e}),{})};t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var r=t.split(/ *; */);var n=r[0].slice(1,-1);var i=r[1].split(/ *= */)[1].slice(1,-1);e[i]=n;return e}),{})};t.cleanHeader=function(e,t){delete e["content-type"];delete e["content-length"];delete e["transfer-encoding"];delete e["host"];if(t){delete e["authorization"];delete e["cookie"]}return e}},function(e,t){function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(e){r.prototype[e]=function(){this._defaults.push({fn:e,arguments:arguments});return this}}));r.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,t.arguments)}))};e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.throttleFunction=void 0;function n(e,{callsNum:t,delayMs:r}){const n=[];const i=[];let o=0;const a=()=>{const s=Date.now();const u=i.at(-1);const l=s-r;if(u===undefined||u<=l){i.length=0}else{i.splice(0,i.findIndex((e=>e>l)))}while(n.length&&i.length+o<t){const t=n.shift();++o;(async()=>{try{const r=await e(...t.args||[]);t.resolve(r)}catch(e){t.reject(e)}finally{--o;i.push(Date.now());if(n.length&&i.length===1){setTimeout(a,r)}}})()}if(n.length&&i.length){setTimeout(a,i[0]+r-s)}};return(...e)=>new Promise(((t,r)=>{n.push({args:e,resolve:t,reject:r});a()}))}t.throttleFunction=n},function(e,t,r){"use strict";var n=r(19);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}let a={active:true,rate:40,ratePer:4e4,concurrent:20};class s extends i.default{constructor(e){super();this._options({_requestTimes:[0],_current:0,_buffer:[],_serials:{},_timeout:false});this._options(a);this._options(e)}_options(e){for(let t in e){if(e.hasOwnProperty(t)){this[t]=e[t]}}}options(e,t){if(typeof e==="string"&&t){e={options:t}}this._options(e);this.cycle()}next(){let e=this;e._requestTimes=e._requestTimes.slice(e.rate*-1);if(!e.active||e._current>=e.concurrent||e._isRateBound()||!e._buffer.length){return false}let t=e._buffer.findIndex((t=>!t.serial||!e._serials[t.serial]));if(t===-1){e._isSerialBound=true;return false}e.send(e._buffer.splice(t,1)[0]);return true}serial(e,t){let r=this._serials;let n=this;if(e.serial===false){return}if(t===undefined){return r[e.serial]}if(t===false){n._isSerialBound=false}r[e.serial]=t}_isRateBound(){let e=this;return Date.now()-e._requestTimes[0]<e.ratePer&&e._buffer.length>0}cycle(e){let t=this;if(e){t._buffer.push(e)}clearTimeout(t._timeout);while(t.next()){}if(t._isRateBound()){let e;e=t.ratePer;e-=Date.now()-t._requestTimes[0];e+=1;t._timeout=setTimeout((function(){t.cycle()}),e)}}send(e){let t=this;t.serial(e,true);function r(r,n){t._current-=1;if(r&&i.default.listenerCount(t,"error")){t.emit("error",n)}t.emit("received",e);if(!t._buffer.length&&!t._current){t.emit("drained")}t.serial(e,false);t.cycle();e._maskedCallback(r,n)}e._maskedEnd(r);t._requestTimes.push(Date.now());t._current+=1;this.emit("sent",e)}plugin(e){let t=this;return r=>{r.throttle=t;r.serial=e||false;r._maskedEnd=r.end;r.end=function(e){if(r._redirects>0)return r._maskedEnd(e);r._maskedCallback=e||function(){};r.throttle.cycle(r);return r};return r}}}e.exports=s},function(e,t,r){(function(e,n){var i;(function(o){var a=true&&t&&!t.nodeType&&t;var s=true&&e&&!e.nodeType&&e;var u=typeof n=="object"&&n;if(u.global===u||u.window===u||u.self===u){o=u}var l,c=2147483647,f=36,h=1,d=26,p=38,v=700,m=72,g=128,y="-",b=/^xn--/,_=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=f-h,T=Math.floor,A=String.fromCharCode,x;function D(e){throw new RangeError(E[e])}function O(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function I(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(w,".");var i=e.split(".");var o=O(i,t).join(".");return n+o}function C(e){var t=[],r=0,n=e.length,i,o;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){o=e.charCodeAt(r++);if((o&64512)==56320){t.push(((i&1023)<<10)+(o&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function k(e){return O(e,(function(e){var t="";if(e>65535){e-=65536;t+=A(e>>>10&1023|55296);e=56320|e&1023}t+=A(e);return t})).join("")}function R(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return f}function P(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function M(e,t,r){var n=0;e=r?T(e/v):e>>1;e+=T(e/t);for(;e>S*d>>1;n+=f){e=T(e/S)}return T(n+(S+1)*e/(e+p))}function L(e){var t=[],r=e.length,n,i=0,o=g,a=m,s,u,l,p,v,b,_,w,E;s=e.lastIndexOf(y);if(s<0){s=0}for(u=0;u<s;++u){if(e.charCodeAt(u)>=128){D("not-basic")}t.push(e.charCodeAt(u))}for(l=s>0?s+1:0;l<r;){for(p=i,v=1,b=f;;b+=f){if(l>=r){D("invalid-input")}_=R(e.charCodeAt(l++));if(_>=f||_>T((c-i)/v)){D("overflow")}i+=_*v;w=b<=a?h:b>=a+d?d:b-a;if(_<w){break}E=f-w;if(v>T(c/E)){D("overflow")}v*=E}n=t.length+1;a=M(i-p,n,p==0);if(T(i/n)>c-o){D("overflow")}o+=T(i/n);i%=n;t.splice(i++,0,o)}return k(t)}function N(e){var t,r,n,i,o,a,s,u,l,p,v,b=[],_,w,E,S;e=C(e);_=e.length;t=g;r=0;o=m;for(a=0;a<_;++a){v=e[a];if(v<128){b.push(A(v))}}n=i=b.length;if(i){b.push(y)}while(n<_){for(s=c,a=0;a<_;++a){v=e[a];if(v>=t&&v<s){s=v}}w=n+1;if(s-t>T((c-r)/w)){D("overflow")}r+=(s-t)*w;t=s;for(a=0;a<_;++a){v=e[a];if(v<t&&++r>c){D("overflow")}if(v==t){for(u=r,l=f;;l+=f){p=l<=o?h:l>=o+d?d:l-o;if(u<p){break}S=u-p;E=f-p;b.push(A(P(p+S%E,0)));u=T(S/E)}b.push(A(P(u,0)));o=M(r,w,n==i);r=0;++n}}++r;++t}return b.join("")}function F(e){return I(e,(function(e){return b.test(e)?L(e.slice(4).toLowerCase()):e}))}function j(e){return I(e,(function(e){return _.test(e)?"xn--"+N(e):e}))}l={version:"1.4.1",ucs2:{decode:C,encode:k},decode:L,encode:N,toASCII:j,toUnicode:F};if(true){!(i=function(){return l}.call(t,r,t,e),i!==undefined&&(e.exports=i))}else{}})(this)}).call(this,r(79)(e),r(5))},function(e,t,r){"use strict";e.exports={isString:function(e){return typeof e==="string"},isObject:function(e){return typeof e==="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&";r=r||"=";var a={};if(typeof e!=="string"||e.length===0){return a}var s=/\+/g;e=e.split(t);var u=1e3;if(o&&typeof o.maxKeys==="number"){u=o.maxKeys}var l=e.length;if(u>0&&l>u){l=u}for(var c=0;c<l;++c){var f=e[c].replace(s,"%20"),h=f.indexOf(r),d,p,v,m;if(h>=0){d=f.substr(0,h);p=f.substr(h+1)}else{d=f;p=""}v=decodeURIComponent(d);m=decodeURIComponent(p);if(!n(a,v)){a[v]=m}else if(i(a[v])){a[v].push(m)}else{a[v]=[a[v],m]}}return a};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return o(a(e),(function(a){var s=encodeURIComponent(n(a))+r;if(i(e[a])){return o(e[a],(function(e){return s+encodeURIComponent(n(e))})).join(t)}else{return s+encodeURIComponent(n(e[a]))}})).join(t)}if(!s)return"";return encodeURIComponent(n(s))+r+encodeURIComponent(n(e))};var i=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function o(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var a=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},function(e,t,r){"use strict";var n=r(45);var i=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=f;var o=i(r(46));var a=i(r(17));var s=i(r(60));var u=n(r(207));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){l(r,true).forEach((function(t){(0,a["default"])(e,t,r[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}}return e}function f(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:u["default"];var r={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function n(e){Object.entries(e).forEach((function(e){var t=(0,s["default"])(e,2),n=t[0],i=t[1];r[n]=c({},r[n],{},i)}))}function i(e){var t=e();if(Array.isArray(t.mime)){u.addType.apply(void 0,(0,o["default"])(t.mime))}else{Object.entries(t.mime).forEach((function(e){return u.addType.apply(void 0,(0,o["default"])(e))}))}delete t.mime;n(t)}function a(e){var t=e(u.jimpEvChange)||{};if(!t["class"]&&!t.constants){n({class:t})}else{n(t)}}if(e.types){e.types.forEach(i);t.decoders=c({},t.decoders,{},r.decoders);t.encoders=c({},t.encoders,{},r.encoders);t.hasAlpha=c({},t.hasAlpha,{},r.hasAlpha)}if(e.plugins){e.plugins.forEach(a)}(0,u.addJimpMethods)(r["class"],t);(0,u.addConstants)(r.constants,t);return u["default"]}},function(e,t,r){var n=r(94);function i(e){if(Array.isArray(e))return n(e)}e.exports=i,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(14)["default"];function i(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var i=r.call(e,t||"default");if(n(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}e.exports=i,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(e){if(Array.isArray(e))return e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r["return"]&&(a=r["return"](),Object(a)!==a))return}finally{if(l)throw i}}return s}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){"use strict";(function(e,n){var i=r(45);var o=r(10);Object.defineProperty(t,"__esModule",{value:true});t.addConstants=H;t.addJimpMethods=W;t.jimpEvMethod=V;t.jimpEvChange=q;Object.defineProperty(t,"addType",{enumerable:true,get:function e(){return O.addType}});t["default"]=void 0;var a=o(r(208));var s=o(r(60));var u=o(r(210));var l=o(r(211));var c=o(r(212));var f=o(r(213));var h=o(r(98));var d=o(r(214));var p=o(r(17));var v=o(r(14));var m=o(r(61));var g=o(r(62));var y=o(r(19));var b=r(4);var _=o(r(217));var w=o(r(219));var E=o(r(220));var S=o(r(99));var T=o(r(221));var A=o(r(222));var x=o(r(235));var D=o(r(107));var O=i(r(108));var I=r(237);var C=i(r(68));var k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_";var R=[NaN,NaN];for(var P=2;P<65;P++){var M=(0,_["default"])(_["default"].BIN,k.slice(0,P))(new Array(64+1).join("1"));R.push(M.length)}function L(){}function N(e){return Object.prototype.toString.call(e).toLowerCase().indexOf("arraybuffer")>-1}function F(t){var r=e.alloc(t.byteLength);var n=new Uint8Array(t);for(var i=0;i<r.length;++i){r[i]=n[i]}return r}function j(t,r){(0,A["default"])(t,(function(n,i,o){if(n){return r(n)}if("headers"in i&&"location"in i.headers){t.url=i.headers.location;return j(t,r)}if((0,v["default"])(o)==="object"&&e.isBuffer(o)){return r(null,o)}var a="Could not load Buffer from <"+t.url+"> "+"(HTTP: "+i.statusCode+")";return new Error(a)}))}function B(e,t){if(m["default"]&&typeof m["default"].readFile==="function"&&!e.match(/^(http|ftp)s?:\/\/./)){m["default"].readFile(e,t)}else{j({url:e},t)}}function U(t){return t&&(0,v["default"])(t)==="object"&&typeof t.width==="number"&&typeof t.height==="number"&&(e.isBuffer(t.data)||t.data instanceof Uint8Array||typeof Uint8ClampedArray==="function"&&t.data instanceof Uint8ClampedArray)&&(t.data.length===t.width*t.height*4||t.data.length===t.width*t.height*3)}function z(t){if(t.length%3!==0){throw new Error("Buffer length is incorrect")}var r=e.allocUnsafe(t.length/3*4);var n=0;for(var i=0;i<t.length;i++){r[n]=t[i];if((i+1)%3===0){r[++n]=255}n++}return r}var $={data:null,width:null,height:null};var G=function(t){(0,d["default"])(r,t);function r(){var t;for(var n=arguments.length,i=new Array(n),o=0;o<n;o++){i[o]=arguments[o]}(0,u["default"])(this,r);t=(0,c["default"])(this,(0,f["default"])(r).call(this));(0,p["default"])((0,h["default"])(t),"bitmap",$);(0,p["default"])((0,h["default"])(t),"_background",0);(0,p["default"])((0,h["default"])(t),"_originalMime",r.MIME_PNG);(0,p["default"])((0,h["default"])(t),"_exif",null);(0,p["default"])((0,h["default"])(t),"_rgba",true);(0,p["default"])((0,h["default"])(t),"writeAsync",(function(e){return(0,D["default"])(t.write,(0,h["default"])(t),e)}));(0,p["default"])((0,h["default"])(t),"getBase64Async",(function(e){return(0,D["default"])(t.getBase64,(0,h["default"])(t),e)}));(0,p["default"])((0,h["default"])(t),"getBuffer",I.getBuffer);(0,p["default"])((0,h["default"])(t),"getBufferAsync",I.getBufferAsync);(0,p["default"])((0,h["default"])(t),"getPixelColour",t.getPixelColor);(0,p["default"])((0,h["default"])(t),"setPixelColour",t.setPixelColor);var a=(0,h["default"])(t);var s=L;if(N(i[0])){i[0]=F(i[0])}function l(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=t[0];var i=n||{};i.methodName="constructor";setTimeout((function(){var e;if(n&&s===L){a.emitError("constructor",n)}else if(!n){a.emitMulti("constructor","initialized")}(e=s).call.apply(e,[a].concat(t))}),1)}if(typeof i[0]==="number"&&typeof i[1]==="number"||parseInt(i[0],10)&&parseInt(i[1],10)){var d=parseInt(i[0],10);var m=parseInt(i[1],10);s=i[2];if(typeof i[2]==="number"){t._background=i[2];s=i[3]}if(typeof i[2]==="string"){t._background=r.cssColorToHex(i[2]);s=i[3]}if(typeof s==="undefined"){s=L}if(typeof s!=="function"){return(0,c["default"])(t,b.throwError.call((0,h["default"])(t),"cb must be a function",l))}t.bitmap={data:e.alloc(d*m*4),width:d,height:m};for(var g=0;g<t.bitmap.data.length;g+=4){t.bitmap.data.writeUInt32BE(t._background,g)}l(null,(0,h["default"])(t))}else if((0,v["default"])(i[0])==="object"&&i[0].url){s=i[1]||L;if(typeof s!=="function"){return(0,c["default"])(t,b.throwError.call((0,h["default"])(t),"cb must be a function",l))}j(i[0],(function(e,r){if(e){return b.throwError.call((0,h["default"])(t),e,l)}t.parseBitmap(r,i[0].url,l)}))}else if(i[0]instanceof r){var y=i[0];s=i[1];if(typeof s==="undefined"){s=L}if(typeof s!=="function"){return(0,c["default"])(t,b.throwError.call((0,h["default"])(t),"cb must be a function",l))}t.bitmap={data:e.from(y.bitmap.data),width:y.bitmap.width,height:y.bitmap.height};t._quality=y._quality;t._deflateLevel=y._deflateLevel;t._deflateStrategy=y._deflateStrategy;t._filterType=y._filterType;t._rgba=y._rgba;t._background=y._background;t._originalMime=y._originalMime;l(null,(0,h["default"])(t))}else if(U(i[0])){var _=i[0];s=i[1]||L;var w=_.width*_.height*4===_.data.length;var E=w?e.from(_.data):z(_.data);t.bitmap={data:E,width:_.width,height:_.height};l(null,(0,h["default"])(t))}else if(typeof i[0]==="string"){var S=i[0];s=i[1];if(typeof s==="undefined"){s=L}if(typeof s!=="function"){return(0,c["default"])(t,b.throwError.call((0,h["default"])(t),"cb must be a function",l))}B(S,(function(e,r){if(e){return b.throwError.call((0,h["default"])(t),e,l)}t.parseBitmap(r,S,l)}))}else if((0,v["default"])(i[0])==="object"&&e.isBuffer(i[0])){var T=i[0];s=i[1];if(typeof s!=="function"){return(0,c["default"])(t,b.throwError.call((0,h["default"])(t),"cb must be a function",l))}t.parseBitmap(T,null,l)}else{s=i[i.length-1];if(typeof s!=="function"){s=i[i.length-2];if(typeof s!=="function"){s=L}}var A=r.__extraConstructors.find((function(e){return e.test.apply(e,i)}));if(A){new Promise((function(e,r){var n;return(n=A.run).call.apply(n,[(0,h["default"])(t),e,r].concat(i))})).then((function(){return l(null,(0,h["default"])(t))}))["catch"](l)}else{return(0,c["default"])(t,b.throwError.call((0,h["default"])(t),"No matching constructor overloading was found. "+"Please see the docs for how to call the Jimp constructor.",l))}}return t}(0,l["default"])(r,[{key:"parseBitmap",value:function e(t,r,n){I.parseBitmap.call(this,t,null,n)}},{key:"rgba",value:function e(t,r){if(typeof t!=="boolean"){return b.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",r)}this._rgba=t;if((0,b.isNodePattern)(r)){r.call(this,null,this)}return this}},{key:"emitMulti",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=Object.assign(n,{methodName:t,eventName:r});this.emit("any",n);if(t){this.emit(t,n)}this.emit(r,n)}},{key:"emitError",value:function e(t,r){this.emitMulti(t,"error",r)}},{key:"getHeight",value:function e(){return this.bitmap.height}},{key:"getWidth",value:function e(){return this.bitmap.width}},{key:"inspect",value:function e(){return"<Jimp "+(this.bitmap===$?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function e(){return"[object Jimp]"}},{key:"getMIME",value:function e(){var t=this._originalMime||r.MIME_PNG;return t}},{key:"getExtension",value:function e(){var t=this.getMIME();return O.getExtension(t)}},{key:"write",value:function e(t,r){var n=this;if(!m["default"]||!m["default"].createWriteStream){throw new Error("Cant access the filesystem. You can use the getBase64 method.")}if(typeof t!=="string"){return b.throwError.call(this,"path must be a string",r)}if(typeof r==="undefined"){r=L}if(typeof r!=="function"){return b.throwError.call(this,"cb must be a function",r)}var i=O.getType(t)||this.getMIME();var o=g["default"].parse(t);if(o.dir){w["default"].sync(o.dir)}this.getBuffer(i,(function(e,i){if(e){return b.throwError.call(n,e,r)}var o=m["default"].createWriteStream(t);o.on("open",(function(){o.write(i);o.end()})).on("error",(function(e){return b.throwError.call(n,e,r)}));o.on("finish",(function(){r.call(n,null,n)}))}));return this}},{key:"getBase64",value:function e(t,n){if(t===r.AUTO){t=this.getMIME()}if(typeof t!=="string"){return b.throwError.call(this,"mime must be a string",n)}if(typeof n!=="function"){return b.throwError.call(this,"cb must be a function",n)}this.getBuffer(t,(function(e,r){if(e){return b.throwError.call(this,e,n)}var i="data:"+t+";base64,"+r.toString("base64");n.call(this,null,i)}));return this}},{key:"hash",value:function e(t,r){t=t||64;if(typeof t==="function"){r=t;t=64}if(typeof t!=="number"){return b.throwError.call(this,"base must be a number",r)}if(t<2||t>64){return b.throwError.call(this,"base must be a number between 2 and 64",r)}var e=this.pHash();e=(0,_["default"])(_["default"].BIN,k.slice(0,t))(e);while(e.length<R[t]){e="0"+e}if((0,b.isNodePattern)(r)){r.call(this,null,e)}return e}},{key:"pHash",value:function e(){var e=new T["default"];return e.getHash(this)}},{key:"distanceFromHash",value:function e(t){var r=new T["default"];var n=r.getHash(this);return r.distance(n,t)}},{key:"getPixelIndex",value:function e(t,n,i,o){var a;var s;if(typeof i==="function"&&typeof o==="undefined"){o=i;i=null}if(!i){i=r.EDGE_EXTEND}if(typeof t!=="number"||typeof n!=="number"){return b.throwError.call(this,"x and y must be numbers",o)}t=Math.round(t);n=Math.round(n);a=t;s=n;if(i===r.EDGE_EXTEND){if(t<0)a=0;if(t>=this.bitmap.width)a=this.bitmap.width-1;if(n<0)s=0;if(n>=this.bitmap.height)s=this.bitmap.height-1}if(i===r.EDGE_WRAP){if(t<0){a=this.bitmap.width+t}if(t>=this.bitmap.width){a=t%this.bitmap.width}if(n<0){a=this.bitmap.height+n}if(n>=this.bitmap.height){s=n%this.bitmap.height}}var u=this.bitmap.width*s+a<<2;if(a<0||a>=this.bitmap.width){u=-1}if(s<0||s>=this.bitmap.height){u=-1}if((0,b.isNodePattern)(o)){o.call(this,null,u)}return u}},{key:"getPixelColor",value:function e(t,r,n){if(typeof t!=="number"||typeof r!=="number")return b.throwError.call(this,"x and y must be numbers",n);t=Math.round(t);r=Math.round(r);var i=this.getPixelIndex(t,r);var o=this.bitmap.data.readUInt32BE(i);if((0,b.isNodePattern)(n)){n.call(this,null,o)}return o}},{key:"setPixelColor",value:function e(t,r,n,i){if(typeof t!=="number"||typeof r!=="number"||typeof n!=="number")return b.throwError.call(this,"hex, x and y must be numbers",i);r=Math.round(r);n=Math.round(n);var o=this.getPixelIndex(r,n);this.bitmap.data.writeUInt32BE(t,o);if((0,b.isNodePattern)(i)){i.call(this,null,this)}return this}},{key:"hasAlpha",value:function e(){for(var t=0;t<this.bitmap.height;t++){for(var r=0;r<this.bitmap.width;r++){var n=this.bitmap.width*t+r<<2;var i=this.bitmap.data[n+3];if(i!==255){return true}}}return false}},{key:"scanIterator",value:function e(t,r,n,i){if(typeof t!=="number"||typeof r!=="number"){return b.throwError.call(this,"x and y must be numbers")}if(typeof n!=="number"||typeof i!=="number"){return b.throwError.call(this,"w and h must be numbers")}return(0,b.scanIterator)(this,t,r,n,i)}}]);return r}(y["default"]);function H(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:G;Object.entries(e).forEach((function(e){var r=(0,s["default"])(e,2),n=r[0],i=r[1];t[n]=i}))}function W(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:G;Object.entries(e).forEach((function(e){var r=(0,s["default"])(e,2),n=r[0],i=r[1];t.prototype[n]=i}))}H(C);W({composite:x["default"]});G.__extraConstructors=[];G.appendConstructorOption=function(e,t,r){G.__extraConstructors.push({name:e,test:t,run:r})};G.read=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return new Promise((function(e,r){(0,a["default"])(G,t.concat([function(t,n){if(t)r(t);else e(n)}]))}))};G.create=G.read;G.rgbaToInt=function(e,t,r,n,i){if(typeof e!=="number"||typeof t!=="number"||typeof r!=="number"||typeof n!=="number"){return b.throwError.call(this,"r, g, b and a must be numbers",i)}if(e<0||e>255){return b.throwError.call(this,"r must be between 0 and 255",i)}if(t<0||t>255){b.throwError.call(this,"g must be between 0 and 255",i)}if(r<0||r>255){return b.throwError.call(this,"b must be between 0 and 255",i)}if(n<0||n>255){return b.throwError.call(this,"a must be between 0 and 255",i)}e=Math.round(e);r=Math.round(r);t=Math.round(t);n=Math.round(n);var o=e*Math.pow(256,3)+t*Math.pow(256,2)+r*Math.pow(256,1)+n*Math.pow(256,0);if((0,b.isNodePattern)(i)){i.call(this,null,o)}return o};G.intToRGBA=function(e,t){if(typeof e!=="number"){return b.throwError.call(this,"i must be a number",t)}var r={};r.r=Math.floor(e/Math.pow(256,3));r.g=Math.floor((e-r.r*Math.pow(256,3))/Math.pow(256,2));r.b=Math.floor((e-r.r*Math.pow(256,3)-r.g*Math.pow(256,2))/Math.pow(256,1));r.a=Math.floor((e-r.r*Math.pow(256,3)-r.g*Math.pow(256,2)-r.b*Math.pow(256,1))/Math.pow(256,0));if((0,b.isNodePattern)(t)){t.call(this,null,r)}return r};G.cssColorToHex=function(e){e=e||0;if(typeof e==="number")return Number(e);return parseInt((0,S["default"])(e).toHex8(),16)};G.limit255=function(e){e=Math.max(e,0);e=Math.min(e,255);return e};G.diff=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.1;if(!(e instanceof G)||!(t instanceof G))return b.throwError.call(this,"img1 and img2 must be an Jimp images");var n=e.bitmap;var i=t.bitmap;if(n.width!==i.width||n.height!==i.height){if(n.width*n.height>i.width*i.height){e=e.cloneQuiet().resize(i.width,i.height)}else{t=t.cloneQuiet().resize(n.width,n.height)}}if(typeof r!=="number"||r<0||r>1){return b.throwError.call(this,"threshold must be a number between 0 and 1")}var o=new G(n.width,n.height,4294967295);var a=(0,E["default"])(n.data,i.data,o.bitmap.data,o.bitmap.width,o.bitmap.height,{threshold:r});return{percent:a/(o.bitmap.width*o.bitmap.height),image:o}};G.distance=function(e,t){var r=new T["default"];var n=r.getHash(e);var i=r.getHash(t);return r.distance(n,i)};G.compareHashes=function(e,t){var r=new T["default"];return r.distance(e,t)};G.colorDiff=function(e,t){var r=function e(t){return Math.pow(t,2)};var n=Math.max;var i=255*255*3;if(e.a!==0&&!e.a){e.a=255}if(t.a!==0&&!t.a){t.a=255}return(n(r(e.r-t.r),r(e.r-t.r-e.a+t.a))+n(r(e.g-t.g),r(e.g-t.g-e.a+t.a))+n(r(e.b-t.b),r(e.b-t.b-e.a+t.a)))/i};function V(e,t,r){var n="before-"+t;var i=t.replace(/e$/,"")+"ed";G.prototype[e]=function(){var t;for(var o=arguments.length,a=new Array(o),s=0;s<o;s++){a[s]=arguments[s]}var u=a[r.length-1];var l=this;if(typeof u==="function"){t=function t(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}var a=n[0],s=n[1];if(a){l.emitError(e,a)}else{l.emitMulti(e,i,(0,p["default"])({},e,s))}u.apply(this,n)};a[a.length-1]=t}else{t=false}this.emitMulti(e,n);var c;try{c=r.apply(this,a);if(!t){this.emitMulti(e,i,(0,p["default"])({},e,c))}}catch(t){t.methodName=e;this.emitError(e,t)}return c};G.prototype[e+"Quiet"]=r}V("clone","clone",(function(e){var t=new G(this);if((0,b.isNodePattern)(e)){e.call(t,null,t)}return t}));function q(e,t){V(e,"change",t)}q("background",(function(e,t){if(typeof e!=="number"){return b.throwError.call(this,"hex must be a hexadecimal rgba value",t)}this._background=e;if((0,b.isNodePattern)(t)){t.call(this,null,this)}return this}));q("scan",(function(e,t,r,n,i,o){if(typeof e!=="number"||typeof t!=="number"){return b.throwError.call(this,"x and y must be numbers",o)}if(typeof r!=="number"||typeof n!=="number"){return b.throwError.call(this,"w and h must be numbers",o)}if(typeof i!=="function"){return b.throwError.call(this,"f must be a function",o)}var a=(0,b.scan)(this,e,t,r,n,i);if((0,b.isNodePattern)(o)){o.call(this,null,a)}return a}));if(n.env.ENVIRONMENT==="BROWSER"){var J;if(typeof window!=="undefined"&&(typeof window==="undefined"?"undefined":(0,v["default"])(window))==="object"){J=window}if(typeof self!=="undefined"&&(typeof self==="undefined"?"undefined":(0,v["default"])(self))==="object"){J=self}J.Jimp=G;J.Buffer=e}var Y=G;t["default"]=Y}).call(this,r(1).Buffer,r(3))},function(e,t,r){var n=r(97);var i=r(209);function o(t,r,a){if(i()){e.exports=o=Reflect.construct.bind(),e.exports.__esModule=true,e.exports["default"]=e.exports}else{e.exports=o=function e(t,r,i){var o=[null];o.push.apply(o,r);var a=Function.bind.apply(t,o);var s=new a;if(i)n(s,i.prototype);return s},e.exports.__esModule=true,e.exports["default"]=e.exports}return o.apply(null,arguments)}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(96);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,n(i.key),i)}}function o(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(14)["default"];var i=r(98);function o(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return i(e)}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t){function r(t){e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.__esModule=true,e.exports["default"]=e.exports;return r(t)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(97);function i(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)n(e,t)}e.exports=i,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(216)();e.exports=n;try{regeneratorRuntime=n}catch(e){if(typeof globalThis==="object"){globalThis.regeneratorRuntime=n}else{Function("r","regeneratorRuntime = r")(n)}}},function(e,t,r){var n=r(14)["default"];function i(){"use strict";e.exports=i=function e(){return t},e.exports.__esModule=true,e.exports["default"]=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function e(t,r,n){return t[r]=n}}function h(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new O(n||[]);return a(o,"_invoke",{value:T(e,r,s)}),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var p={};function v(){}function m(){}function g(){}var y={};f(y,u,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(I([])));_&&_!==r&&o.call(_,u)&&(y=_);var w=g.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,a,s,u){var l=d(e[i],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==n(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,u)}),(function(e){r("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,u)}))}u(l.arg)}var i;a(this,"_invoke",{value:function e(n,o){function a(){return new t((function(e,t){r(n,o,e,t)}))}return i=i?i.then(a,a):a()}})}function T(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return C()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=d(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function A(e,t){var r=t.method,n=e.iterator[r];if(undefined===n)return t.delegate=null,"throw"===r&&e.iterator["return"]&&(t.method="return",t.arg=undefined,A(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=undefined),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function I(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=undefined,t.done=!0,t};return n.next=n}}return{next:C}}function C(){return{value:undefined,done:!0}}return m.prototype=g,a(w,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:m,configurable:!0}),m.displayName=f(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,f(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},E(S.prototype),f(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new S(h(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),f(w,c,"Generator"),f(w,u,(function(){return this})),f(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,O.prototype={constructor:O,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(D),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=undefined)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function n(e,n){return s.type="throw",s.arg=t,r.next=e,n&&(r.method="next",r.arg=undefined),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=r,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),p},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),p}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;D(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=undefined),p}},t}e.exports=i,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){var n=r(218);function i(e,t){var r=new n(e,t);return function(e){return r.convert(e)}}i.BIN="01";i.OCT="01234567";i.DEC="0123456789";i.HEX="0123456789abcdef";e.exports=i},function(e,t,r){"use strict";function n(e,t){if(!e||!t||!e.length||!t.length){throw new Error("Bad alphabet")}this.srcAlphabet=e;this.dstAlphabet=t}n.prototype.convert=function(e){var t,r,n,i={},o=this.srcAlphabet.length,a=this.dstAlphabet.length,s=e.length,u=typeof e==="string"?"":[];if(!this.isValid(e)){throw new Error('Number "'+e+'" contains of non-alphabetic digits ('+this.srcAlphabet+")")}if(this.srcAlphabet===this.dstAlphabet){return e}for(t=0;t<s;t++){i[t]=this.srcAlphabet.indexOf(e[t])}do{r=0;n=0;for(t=0;t<s;t++){r=r*o+i[t];if(r>=a){i[n++]=parseInt(r/a,10);r=r%a}else if(n>0){i[n++]=0}}s=n;u=this.dstAlphabet.slice(r,r+1).concat(u)}while(n!==0);return u};n.prototype.isValid=function(e){var t=0;for(;t<e.length;++t){if(this.srcAlphabet.indexOf(e[t])===-1){return false}}return true};e.exports=n},function(e,t,r){var n=r(62);var i=r(61);var o=parseInt("0777",8);e.exports=a.mkdirp=a.mkdirP=a;function a(e,t,r,s){if(typeof t==="function"){r=t;t={}}else if(!t||typeof t!=="object"){t={mode:t}}var u=t.mode;var l=t.fs||i;if(u===undefined){u=o}if(!s)s=null;var c=r||function(){};e=n.resolve(e);l.mkdir(e,u,(function(r){if(!r){s=s||e;return c(null,s)}switch(r.code){case"ENOENT":if(n.dirname(e)===e)return c(r);a(n.dirname(e),t,(function(r,n){if(r)c(r,n);else a(e,t,c,n)}));break;default:l.stat(e,(function(e,t){if(e||!t.isDirectory())c(r,s);else c(null,s)}));break}}))}a.sync=function e(t,r,a){if(!r||typeof r!=="object"){r={mode:r}}var s=r.mode;var u=r.fs||i;if(s===undefined){s=o}if(!a)a=null;t=n.resolve(t);try{u.mkdirSync(t,s);a=a||t}catch(i){switch(i.code){case"ENOENT":a=e(n.dirname(t),r,a);e(t,r,a);break;default:var l;try{l=u.statSync(t)}catch(e){throw i}if(!l.isDirectory())throw i;break}}return a}},function(e,t,r){"use strict";e.exports=n;function n(e,t,r,n,a,s){if(!s)s={};var u=s.threshold===undefined?.1:s.threshold;var h=35215*u*u,d=0;for(var p=0;p<a;p++){for(var v=0;v<n;v++){var m=(p*n+v)*4;var g=o(e,t,m,m);if(g>h){if(!s.includeAA&&(i(e,v,p,n,a,t)||i(t,v,p,n,a,e))){if(r)c(r,m,255,255,0)}else{if(r)c(r,m,255,0,0);d++}}else if(r){var y=l(f(e,m),.1);c(r,m,y,y,y)}}}return d}function i(e,t,r,n,a,s){var u=Math.max(t-1,0),l=Math.max(r-1,0),c=Math.min(t+1,n-1),f=Math.min(r+1,a-1),h=(r*n+t)*4,d=0,p=0,v=0,m=0,g=0,y,b,_,w;for(var E=u;E<=c;E++){for(var S=l;S<=f;S++){if(E===t&&S===r)continue;var T=o(e,e,h,(S*n+E)*4,true);if(T===0)d++;else if(T<0)v++;else if(T>0)p++;if(d>2)return false;if(!s)continue;if(T<m){m=T;y=E;b=S}if(T>g){g=T;_=E;w=S}}}if(!s)return true;if(v===0||p===0)return false;return!i(e,y,b,n,a)&&!i(s,y,b,n,a)||!i(e,_,w,n,a)&&!i(s,_,w,n,a)}function o(e,t,r,n,i){var o=e[r+3]/255,c=t[n+3]/255,f=l(e[r+0],o),h=l(e[r+1],o),d=l(e[r+2],o),p=l(t[n+0],c),v=l(t[n+1],c),m=l(t[n+2],c),g=a(f,h,d)-a(p,v,m);if(i)return g;var y=s(f,h,d)-s(p,v,m),b=u(f,h,d)-u(p,v,m);return.5053*g*g+.299*y*y+.1957*b*b}function a(e,t,r){return e*.29889531+t*.58662247+r*.11448223}function s(e,t,r){return e*.59597799-t*.2741761-r*.32180189}function u(e,t,r){return e*.21147017-t*.52261711+r*.31114694}function l(e,t){return 255+(e-255)*t}function c(e,t,r,n,i){e[t+0]=r;e[t+1]=n;e[t+2]=i;e[t+3]=255}function f(e,t){var r=e[t+3]/255,n=l(e[t+0],r),i=l(e[t+1],r),o=l(e[t+2],r);return a(n,i,o)}},function(e,t,r){"use strict";function n(e,t){this.size=this.size||e;this.smallerSize=this.smallerSize||t;a(this.size)}n.prototype.size=32;n.prototype.smallerSize=8;n.prototype.distance=function(e,t){var r=0;for(var n=0;n<e.length;n++){if(e[n]!==t[n]){r++}}return r/e.length};n.prototype.getHash=function(e){e=e.clone().resize(this.size,this.size);e.grayscale();var t=[];for(var r=0;r<e.bitmap.width;r++){t[r]=[];for(var n=0;n<e.bitmap.height;n++){t[r][n]=i(e.getPixelColor(r,n)).b}}var o=s(t,this.size);var a=0;for(var u=0;u<this.smallerSize;u++){for(var l=0;l<this.smallerSize;l++){a+=o[u][l]}}var c=a/(this.smallerSize*this.smallerSize);var f="";for(var h=0;h<this.smallerSize;h++){for(var d=0;d<this.smallerSize;d++){f+=o[h][d]>c?"1":"0"}}return f};function i(e){var t={};t.r=Math.floor(e/Math.pow(256,3));t.g=Math.floor((e-t.r*Math.pow(256,3))/Math.pow(256,2));t.b=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2))/Math.pow(256,1));t.a=Math.floor((e-t.r*Math.pow(256,3)-t.g*Math.pow(256,2)-t.b*Math.pow(256,1))/Math.pow(256,0));return t}var o=[];function a(e){for(var t=1;t<e;t++){o[t]=1}o[0]=1/Math.sqrt(2)}function s(e,t){var r=t;var n=[];for(var i=0;i<r;i++){n[i]=[];for(var a=0;a<r;a++){var s=0;for(var u=0;u<r;u++){for(var l=0;l<r;l++){s+=Math.cos((2*u+1)/(2*r)*i*Math.PI)*Math.cos((2*l+1)/(2*r)*a*Math.PI)*e[u][l]}}s*=o[i]*o[a]/4;n[i][a]=s}}return n}e.exports=n},function(e,t,r){"use strict";(function(t,n){var i=r(10);var o=i(r(17));var a=i(r(223));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){s(r,true).forEach((function(t){(0,o["default"])(e,t,r[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}}return e}if(t.browser||t.env.ENVIRONMENT==="BROWSER"||typeof t.versions.electron!=="undefined"&&t.type==="renderer"&&typeof XMLHttpRequest==="function"){e.exports=function(e,t){var r=new XMLHttpRequest;r.open("GET",e.url,true);r.responseType="arraybuffer";r.addEventListener("load",(function(){if(r.status<400){try{var i=n.from(this.response);t(null,r,i)}catch(r){return t(new Error("Response is not a buffer for url "+e.url+". Error: "+r.message))}}else{t(new Error("HTTP Status "+r.status+" for url "+e.url))}}));r.addEventListener("error",(function(e){t(e)}));r.send()}}else{e.exports=function(e,t){var n=(0,a["default"])({},e);var i=r(224);i(u({compression:true},n),(function(e,r){if(e===null){t(null,r,r.body)}else{t(e)}}))}}}).call(this,r(3),r(1).Buffer)},function(e,t){function r(){e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e},e.exports.__esModule=true,e.exports["default"]=e.exports;return r.apply(this,arguments)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},function(e,t,r){"use strict";(function(t){var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=r(100);var o=r(228);var a=r(44);var s=r(92);var u=r(24);var l=r(15);var c=function e(r,l){if(typeof r!=="string"){if(!r.hasOwnProperty("url")){throw new Error("Missing url option from options for request method.")}}var c=(typeof r==="undefined"?"undefined":n(r))==="object"?a.parse(r.url):a.parse(r);var f={hostname:c.hostname,port:c.port||(c.protocol.toLowerCase()==="http:"?80:443),path:c.path,method:"GET",headers:{},auth:c.auth||null,parse:"none",stream:false};if((typeof r==="undefined"?"undefined":n(r))==="object"){f=Object.assign(f,r)}f.port=Number(f.port);if(f.hasOwnProperty("timeout"))delete f.timeout;if(f.compressed===true){f.headers["accept-encoding"]="gzip, deflate"}if(r.hasOwnProperty("form")){if(n(r.form)!=="object"){throw new Error("phin 'form' option must be of type Object if present.")}var h=s.stringify(r.form);f.headers["Content-Type"]="application/x-www-form-urlencoded";f.headers["Content-Length"]=t.byteLength(h);r.data=h}var d=void 0;var p=function e(r){var n=r;if(f.compressed===true){if(r.headers["content-encoding"]==="gzip"){n=r.pipe(u.createGunzip())}else if(r.headers["content-encoding"]==="deflate"){n=r.pipe(u.createInflate())}}if(f.stream===true){r.stream=n;if(l)l(null,r)}else{r.body=new t([]);n.on("data",(function(e){r.body=t.concat([r.body,e])}));n.on("end",(function(){if(l){if(f.parse==="json"){try{r.body=JSON.parse(r.body.toString())}catch(e){l("Invalid JSON received.",r);return}}l(null,r)}}))}};switch(c.protocol.toLowerCase()){case"http:":d=i.request(f,p);break;case"https:":d=o.request(f,p);break;default:if(l)l(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof r.timeout==="number"){d.setTimeout(r.timeout,(function(){d.abort();if(l)l(new Error("Timeout has been reached."),null);l=null}))}d.on("error",(function(e){if(l)l(e,null)}));if(r.hasOwnProperty("data")){var v=r.data;if(!(r.data instanceof t)&&n(r.data)==="object"){var m=f.headers["content-type"]||f.headers["Content-Type"];if(m==="application/x-www-form-urlencoded"){v=s.stringify(r.data)}else{try{v=JSON.stringify(r.data)}catch(e){if(l)l(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}}d.write(v)}d.end()};c.promisified=function(e,t){return new Promise((function(r,n){c(e,(function(e,t){if(e){n(e)}else{r(t)}}),t)}))};if(l.promisify){c[l.promisify.custom]=c.promisified}e.exports=c}).call(this,r(1).Buffer)},function(e,t,r){(function(t,n,i){var o=r(101);var a=r(12);var s=r(102);var u=r(30);var l=r(226);var c=s.IncomingMessage;var f=s.readyStates;function h(e,t){if(o.fetch&&t){return"fetch"}else if(o.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(o.msstream){return"ms-stream"}else if(o.arraybuffer&&e){return"arraybuffer"}else if(o.vbArray&&e){return"text:vbarray"}else{return"text"}}var d=e.exports=function(e){var r=this;u.Writable.call(r);r._opts=e;r._body=[];r._headers={};if(e.auth)r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64"));Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var n;var i=true;if(e.mode==="disable-fetch"||"requestTimeout"in e&&!o.abortController){i=false;n=true}else if(e.mode==="prefer-streaming"){n=false}else if(e.mode==="allow-wrong-content-type"){n=!o.overrideMimeType}else if(!e.mode||e.mode==="default"||e.mode==="prefer-fast"){n=true}else{throw new Error("Invalid value for opts.mode")}r._mode=h(n,i);r._fetchTimer=null;r.on("finish",(function(){r._onFinish()}))};a(d,u.Writable);d.prototype.setHeader=function(e,t){var r=this;var n=e.toLowerCase();if(v.indexOf(n)!==-1)return;r._headers[n]={name:e,value:t}};d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];if(t)return t.value;return null};d.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};d.prototype._onFinish=function(){var e=this;if(e._destroyed)return;var r=e._opts;var a=e._headers;var s=null;if(r.method!=="GET"&&r.method!=="HEAD"){if(o.arraybuffer){s=l(t.concat(e._body))}else if(o.blobConstructor){s=new n.Blob(e._body.map((function(e){return l(e)})),{type:(a["content-type"]||{}).value||""})}else{s=t.concat(e._body).toString()}}var u=[];Object.keys(a).forEach((function(e){var t=a[e].name;var r=a[e].value;if(Array.isArray(r)){r.forEach((function(e){u.push([t,e])}))}else{u.push([t,r])}}));if(e._mode==="fetch"){var c=null;var h=null;if(o.abortController){var d=new AbortController;c=d.signal;e._fetchAbortController=d;if("requestTimeout"in r&&r.requestTimeout!==0){e._fetchTimer=n.setTimeout((function(){e.emit("requestTimeout");if(e._fetchAbortController)e._fetchAbortController.abort()}),r.requestTimeout)}}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:s||undefined,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t;e._connect()}),(function(t){n.clearTimeout(e._fetchTimer);if(!e._destroyed)e.emit("error",t)}))}else{var p=e._xhr=new n.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,true)}catch(t){i.nextTick((function(){e.emit("error",t)}));return}if("responseType"in p)p.responseType=e._mode.split(":")[0];if("withCredentials"in p)p.withCredentials=!!r.withCredentials;if(e._mode==="text"&&"overrideMimeType"in p)p.overrideMimeType("text/plain; charset=x-user-defined");if("requestTimeout"in r){p.timeout=r.requestTimeout;p.ontimeout=function(){e.emit("requestTimeout")}}u.forEach((function(e){p.setRequestHeader(e[0],e[1])}));e._response=null;p.onreadystatechange=function(){switch(p.readyState){case f.LOADING:case f.DONE:e._onXHRProgress();break}};if(e._mode==="moz-chunked-arraybuffer"){p.onprogress=function(){e._onXHRProgress()}}p.onerror=function(){if(e._destroyed)return;e.emit("error",new Error("XHR error"))};try{p.send(s)}catch(t){i.nextTick((function(){e.emit("error",t)}));return}}};function p(e){try{var t=e.status;return t!==null&&t!==0}catch(e){return false}}d.prototype._onXHRProgress=function(){var e=this;if(!p(e._xhr)||e._destroyed)return;if(!e._response)e._connect();e._response._onXHRProgress()};d.prototype._connect=function(){var e=this;if(e._destroyed)return;e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer);e._response.on("error",(function(t){e.emit("error",t)}));e.emit("response",e._response)};d.prototype._write=function(e,t,r){var n=this;n._body.push(e);r()};d.prototype.abort=d.prototype.destroy=function(){var e=this;e._destroyed=true;n.clearTimeout(e._fetchTimer);if(e._response)e._response._destroyed=true;if(e._xhr)e._xhr.abort();else if(e._fetchAbortController)e._fetchAbortController.abort()};d.prototype.end=function(e,t,r){var n=this;if(typeof e==="function"){r=e;e=undefined}u.Writable.prototype.end.call(n,e,t,r)};d.prototype.flushHeaders=function(){};d.prototype.setTimeout=function(){};d.prototype.setNoDelay=function(){};d.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(1).Buffer,r(5),r(3))},function(e,t,r){var n=r(1).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength){return e.buffer}else if(typeof e.buffer.slice==="function"){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}}if(n.isBuffer(e)){var t=new Uint8Array(e.length);var r=e.length;for(var i=0;i<r;i++){t[i]=e[i]}return t.buffer}else{throw new Error("Argument must be a Buffer")}}},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){var n=r(100);var i=r(44);var o=e.exports;for(var a in n){if(n.hasOwnProperty(a))o[a]=n[a]}o.request=function(e,t){e=s(e);return n.request.call(this,e,t)};o.get=function(e,t){e=s(e);return n.get.call(this,e,t)};function s(e){if(typeof e==="string"){e=i.parse(e)}if(!e.protocol){e.protocol="https:"}if(e.protocol!=="https:"){throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"')}return e}},function(e,t,r){"use strict";(function(e,n){var i=r(64);var o=r(65);var a=r(103);var s=r(106);var u=r(67);for(var l in u){t[l]=u[l]}t.NONE=0;t.DEFLATE=1;t.INFLATE=2;t.GZIP=3;t.GUNZIP=4;t.DEFLATERAW=5;t.INFLATERAW=6;t.UNZIP=7;var c=31;var f=139;function h(e){if(typeof e!=="number"||e<t.DEFLATE||e>t.UNZIP){throw new TypeError("Bad argument")}this.dictionary=null;this.err=0;this.flush=0;this.init_done=false;this.level=0;this.memLevel=0;this.mode=e;this.strategy=0;this.windowBits=0;this.write_in_progress=false;this.pending_close=false;this.gzip_id_bytes_read=0}h.prototype.close=function(){if(this.write_in_progress){this.pending_close=true;return}this.pending_close=false;i(this.init_done,"close before init");i(this.mode<=t.UNZIP);if(this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW){a.deflateEnd(this.strm)}else if(this.mode===t.INFLATE||this.mode===t.GUNZIP||this.mode===t.INFLATERAW||this.mode===t.UNZIP){s.inflateEnd(this.strm)}this.mode=t.NONE;this.dictionary=null};h.prototype.write=function(e,t,r,n,i,o,a){return this._write(true,e,t,r,n,i,o,a)};h.prototype.writeSync=function(e,t,r,n,i,o,a){return this._write(false,e,t,r,n,i,o,a)};h.prototype._write=function(r,o,a,s,u,l,c,f){i.equal(arguments.length,8);i(this.init_done,"write before init");i(this.mode!==t.NONE,"already finalized");i.equal(false,this.write_in_progress,"write already in progress");i.equal(false,this.pending_close,"close is pending");this.write_in_progress=true;i.equal(false,o===undefined,"must provide flush value");this.write_in_progress=true;if(o!==t.Z_NO_FLUSH&&o!==t.Z_PARTIAL_FLUSH&&o!==t.Z_SYNC_FLUSH&&o!==t.Z_FULL_FLUSH&&o!==t.Z_FINISH&&o!==t.Z_BLOCK){throw new Error("Invalid flush value")}if(a==null){a=e.alloc(0);u=0;s=0}this.strm.avail_in=u;this.strm.input=a;this.strm.next_in=s;this.strm.avail_out=f;this.strm.output=l;this.strm.next_out=c;this.flush=o;if(!r){this._process();if(this._checkError()){return this._afterSync()}return}var h=this;n.nextTick((function(){h._process();h._after()}));return this};h.prototype._afterSync=function(){var e=this.strm.avail_out;var t=this.strm.avail_in;this.write_in_progress=false;return[t,e]};h.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case t.UNZIP:if(this.strm.avail_in>0){e=this.strm.next_in}switch(this.gzip_id_bytes_read){case 0:if(e===null){break}if(this.strm.input[e]===c){this.gzip_id_bytes_read=1;e++;if(this.strm.avail_in===1){break}}else{this.mode=t.INFLATE;break}case 1:if(e===null){break}if(this.strm.input[e]===f){this.gzip_id_bytes_read=2;this.mode=t.GUNZIP}else{this.mode=t.INFLATE}break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:this.err=s.inflate(this.strm,this.flush);if(this.err===t.Z_NEED_DICT&&this.dictionary){this.err=s.inflateSetDictionary(this.strm,this.dictionary);if(this.err===t.Z_OK){this.err=s.inflate(this.strm,this.flush)}else if(this.err===t.Z_DATA_ERROR){this.err=t.Z_NEED_DICT}}while(this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&this.strm.next_in[0]!==0){this.reset();this.err=s.inflate(this.strm,this.flush)}break;default:throw new Error("Unknown mode "+this.mode)}};h.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===t.Z_FINISH){this._error("unexpected end of file");return false}break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:if(this.dictionary==null){this._error("Missing dictionary")}else{this._error("Bad dictionary")}return false;default:this._error("Zlib error");return false}return true};h.prototype._after=function(){if(!this._checkError()){return}var e=this.strm.avail_out;var t=this.strm.avail_in;this.write_in_progress=false;this.callback(t,e);if(this.pending_close){this.close()}};h.prototype._error=function(e){if(this.strm.msg){e=this.strm.msg}this.onerror(e,this.err);this.write_in_progress=false;if(this.pending_close){this.close()}};h.prototype.init=function(e,r,n,o,a){i(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])");i(e>=8&&e<=15,"invalid windowBits");i(r>=-1&&r<=9,"invalid compression level");i(n>=1&&n<=9,"invalid memlevel");i(o===t.Z_FILTERED||o===t.Z_HUFFMAN_ONLY||o===t.Z_RLE||o===t.Z_FIXED||o===t.Z_DEFAULT_STRATEGY,"invalid strategy");this._init(r,e,n,o,a);this._setDictionary()};h.prototype.params=function(){throw new Error("deflateParams Not supported")};h.prototype.reset=function(){this._reset();this._setDictionary()};h.prototype._init=function(e,r,n,i,u){this.level=e;this.windowBits=r;this.memLevel=n;this.strategy=i;this.flush=t.Z_NO_FLUSH;this.err=t.Z_OK;if(this.mode===t.GZIP||this.mode===t.GUNZIP){this.windowBits+=16}if(this.mode===t.UNZIP){this.windowBits+=32}if(this.mode===t.DEFLATERAW||this.mode===t.INFLATERAW){this.windowBits=-1*this.windowBits}this.strm=new o;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}if(this.err!==t.Z_OK){this._error("Init error")}this.dictionary=u;this.write_in_progress=false;this.init_done=true};h.prototype._setDictionary=function(){if(this.dictionary==null){return}this.err=t.Z_OK;switch(this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary);break;default:break}if(this.err!==t.Z_OK){this._error("Failed to set dictionary")}};h.prototype._reset=function(){this.err=t.Z_OK;switch(this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=a.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm);break;default:break}if(this.err!==t.Z_OK){this._error("Failed to reset stream")}};t.Zlib=h}).call(this,r(1).Buffer,r(3))},function(e,t){e.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},function(e,t){if(typeof Object.create==="function"){e.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{e.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},function(e,t,r){"use strict";var n=r(18);var i=4;var o=0;var a=1;var s=2;function u(e){var t=e.length;while(--t>=0){e[t]=0}}var l=0;var c=1;var f=2;var h=3;var d=258;var p=29;var v=256;var m=v+1+p;var g=30;var y=19;var b=2*m+1;var _=15;var w=16;var E=7;var S=256;var T=16;var A=17;var x=18;var D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var k=512;var R=new Array((m+2)*2);u(R);var P=new Array(g*2);u(P);var M=new Array(k);u(M);var L=new Array(d-h+1);u(L);var N=new Array(p);u(N);var F=new Array(g);u(F);function j(e,t,r,n,i){this.static_tree=e;this.extra_bits=t;this.extra_base=r;this.elems=n;this.max_length=i;this.has_stree=e&&e.length}var B;var U;var z;function $(e,t){this.dyn_tree=e;this.max_code=0;this.stat_desc=t}function G(e){return e<256?M[e]:M[256+(e>>>7)]}function H(e,t){e.pending_buf[e.pending++]=t&255;e.pending_buf[e.pending++]=t>>>8&255}function W(e,t,r){if(e.bi_valid>w-r){e.bi_buf|=t<<e.bi_valid&65535;H(e,e.bi_buf);e.bi_buf=t>>w-e.bi_valid;e.bi_valid+=r-w}else{e.bi_buf|=t<<e.bi_valid&65535;e.bi_valid+=r}}function V(e,t,r){W(e,r[t*2],r[t*2+1])}function q(e,t){var r=0;do{r|=e&1;e>>>=1;r<<=1}while(--t>0);return r>>>1}function J(e){if(e.bi_valid===16){H(e,e.bi_buf);e.bi_buf=0;e.bi_valid=0}else if(e.bi_valid>=8){e.pending_buf[e.pending++]=e.bi_buf&255;e.bi_buf>>=8;e.bi_valid-=8}}function Y(e,t){var r=t.dyn_tree;var n=t.max_code;var i=t.stat_desc.static_tree;var o=t.stat_desc.has_stree;var a=t.stat_desc.extra_bits;var s=t.stat_desc.extra_base;var u=t.stat_desc.max_length;var l;var c,f;var h;var d;var p;var v=0;for(h=0;h<=_;h++){e.bl_count[h]=0}r[e.heap[e.heap_max]*2+1]=0;for(l=e.heap_max+1;l<b;l++){c=e.heap[l];h=r[r[c*2+1]*2+1]+1;if(h>u){h=u;v++}r[c*2+1]=h;if(c>n){continue}e.bl_count[h]++;d=0;if(c>=s){d=a[c-s]}p=r[c*2];e.opt_len+=p*(h+d);if(o){e.static_len+=p*(i[c*2+1]+d)}}if(v===0){return}do{h=u-1;while(e.bl_count[h]===0){h--}e.bl_count[h]--;e.bl_count[h+1]+=2;e.bl_count[u]--;v-=2}while(v>0);for(h=u;h!==0;h--){c=e.bl_count[h];while(c!==0){f=e.heap[--l];if(f>n){continue}if(r[f*2+1]!==h){e.opt_len+=(h-r[f*2+1])*r[f*2];r[f*2+1]=h}c--}}}function K(e,t,r){var n=new Array(_+1);var i=0;var o;var a;for(o=1;o<=_;o++){n[o]=i=i+r[o-1]<<1}for(a=0;a<=t;a++){var s=e[a*2+1];if(s===0){continue}e[a*2]=q(n[s]++,s)}}function X(){var e;var t;var r;var n;var i;var o=new Array(_+1);r=0;for(n=0;n<p-1;n++){N[n]=r;for(e=0;e<1<<D[n];e++){L[r++]=n}}L[r-1]=n;i=0;for(n=0;n<16;n++){F[n]=i;for(e=0;e<1<<O[n];e++){M[i++]=n}}i>>=7;for(;n<g;n++){F[n]=i<<7;for(e=0;e<1<<O[n]-7;e++){M[256+i++]=n}}for(t=0;t<=_;t++){o[t]=0}e=0;while(e<=143){R[e*2+1]=8;e++;o[8]++}while(e<=255){R[e*2+1]=9;e++;o[9]++}while(e<=279){R[e*2+1]=7;e++;o[7]++}while(e<=287){R[e*2+1]=8;e++;o[8]++}K(R,m+1,o);for(e=0;e<g;e++){P[e*2+1]=5;P[e*2]=q(e,5)}B=new j(R,D,v+1,m,_);U=new j(P,O,0,g,_);z=new j(new Array(0),I,0,y,E)}function Z(e){var t;for(t=0;t<m;t++){e.dyn_ltree[t*2]=0}for(t=0;t<g;t++){e.dyn_dtree[t*2]=0}for(t=0;t<y;t++){e.bl_tree[t*2]=0}e.dyn_ltree[S*2]=1;e.opt_len=e.static_len=0;e.last_lit=e.matches=0}function Q(e){if(e.bi_valid>8){H(e,e.bi_buf)}else if(e.bi_valid>0){e.pending_buf[e.pending++]=e.bi_buf}e.bi_buf=0;e.bi_valid=0}function ee(e,t,r,i){Q(e);if(i){H(e,r);H(e,~r)}n.arraySet(e.pending_buf,e.window,t,r,e.pending);e.pending+=r}function te(e,t,r,n){var i=t*2;var o=r*2;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function re(e,t,r){var n=e.heap[r];var i=r<<1;while(i<=e.heap_len){if(i<e.heap_len&&te(t,e.heap[i+1],e.heap[i],e.depth)){i++}if(te(t,n,e.heap[i],e.depth)){break}e.heap[r]=e.heap[i];r=i;i<<=1}e.heap[r]=n}function ne(e,t,r){var n;var i;var o=0;var a;var s;if(e.last_lit!==0){do{n=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1];i=e.pending_buf[e.l_buf+o];o++;if(n===0){V(e,i,t)}else{a=L[i];V(e,a+v+1,t);s=D[a];if(s!==0){i-=N[a];W(e,i,s)}n--;a=G(n);V(e,a,r);s=O[a];if(s!==0){n-=F[a];W(e,n,s)}}}while(o<e.last_lit)}V(e,S,t)}function ie(e,t){var r=t.dyn_tree;var n=t.stat_desc.static_tree;var i=t.stat_desc.has_stree;var o=t.stat_desc.elems;var a,s;var u=-1;var l;e.heap_len=0;e.heap_max=b;for(a=0;a<o;a++){if(r[a*2]!==0){e.heap[++e.heap_len]=u=a;e.depth[a]=0}else{r[a*2+1]=0}}while(e.heap_len<2){l=e.heap[++e.heap_len]=u<2?++u:0;r[l*2]=1;e.depth[l]=0;e.opt_len--;if(i){e.static_len-=n[l*2+1]}}t.max_code=u;for(a=e.heap_len>>1;a>=1;a--){re(e,r,a)}l=o;do{a=e.heap[1];e.heap[1]=e.heap[e.heap_len--];re(e,r,1);s=e.heap[1];e.heap[--e.heap_max]=a;e.heap[--e.heap_max]=s;r[l*2]=r[a*2]+r[s*2];e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1;r[a*2+1]=r[s*2+1]=l;e.heap[1]=l++;re(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1];Y(e,t);K(r,u,e.bl_count)}function oe(e,t,r){var n;var i=-1;var o;var a=t[0*2+1];var s=0;var u=7;var l=4;if(a===0){u=138;l=3}t[(r+1)*2+1]=65535;for(n=0;n<=r;n++){o=a;a=t[(n+1)*2+1];if(++s<u&&o===a){continue}else if(s<l){e.bl_tree[o*2]+=s}else if(o!==0){if(o!==i){e.bl_tree[o*2]++}e.bl_tree[T*2]++}else if(s<=10){e.bl_tree[A*2]++}else{e.bl_tree[x*2]++}s=0;i=o;if(a===0){u=138;l=3}else if(o===a){u=6;l=3}else{u=7;l=4}}}function ae(e,t,r){var n;var i=-1;var o;var a=t[0*2+1];var s=0;var u=7;var l=4;if(a===0){u=138;l=3}for(n=0;n<=r;n++){o=a;a=t[(n+1)*2+1];if(++s<u&&o===a){continue}else if(s<l){do{V(e,o,e.bl_tree)}while(--s!==0)}else if(o!==0){if(o!==i){V(e,o,e.bl_tree);s--}V(e,T,e.bl_tree);W(e,s-3,2)}else if(s<=10){V(e,A,e.bl_tree);W(e,s-3,3)}else{V(e,x,e.bl_tree);W(e,s-11,7)}s=0;i=o;if(a===0){u=138;l=3}else if(o===a){u=6;l=3}else{u=7;l=4}}}function se(e){var t;oe(e,e.dyn_ltree,e.l_desc.max_code);oe(e,e.dyn_dtree,e.d_desc.max_code);ie(e,e.bl_desc);for(t=y-1;t>=3;t--){if(e.bl_tree[C[t]*2+1]!==0){break}}e.opt_len+=3*(t+1)+5+5+4;return t}function ue(e,t,r,n){var i;W(e,t-257,5);W(e,r-1,5);W(e,n-4,4);for(i=0;i<n;i++){W(e,e.bl_tree[C[i]*2+1],3)}ae(e,e.dyn_ltree,t-1);ae(e,e.dyn_dtree,r-1)}function le(e){var t=4093624447;var r;for(r=0;r<=31;r++,t>>>=1){if(t&1&&e.dyn_ltree[r*2]!==0){return o}}if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0){return a}for(r=32;r<v;r++){if(e.dyn_ltree[r*2]!==0){return a}}return o}var ce=false;function fe(e){if(!ce){X();ce=true}e.l_desc=new $(e.dyn_ltree,B);e.d_desc=new $(e.dyn_dtree,U);e.bl_desc=new $(e.bl_tree,z);e.bi_buf=0;e.bi_valid=0;Z(e)}function he(e,t,r,n){W(e,(l<<1)+(n?1:0),3);ee(e,t,r,true)}function de(e){W(e,c<<1,3);V(e,S,R);J(e)}function pe(e,t,r,n){var o,a;var u=0;if(e.level>0){if(e.strm.data_type===s){e.strm.data_type=le(e)}ie(e,e.l_desc);ie(e,e.d_desc);u=se(e);o=e.opt_len+3+7>>>3;a=e.static_len+3+7>>>3;if(a<=o){o=a}}else{o=a=r+5}if(r+4<=o&&t!==-1){he(e,t,r,n)}else if(e.strategy===i||a===o){W(e,(c<<1)+(n?1:0),3);ne(e,R,P)}else{W(e,(f<<1)+(n?1:0),3);ue(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1);ne(e,e.dyn_ltree,e.dyn_dtree)}Z(e);if(n){Q(e)}}function ve(e,t,r){e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255;e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255;e.pending_buf[e.l_buf+e.last_lit]=r&255;e.last_lit++;if(t===0){e.dyn_ltree[r*2]++}else{e.matches++;t--;e.dyn_ltree[(L[r]+v+1)*2]++;e.dyn_dtree[G(t)*2]++}return e.last_lit===e.lit_bufsize-1}t._tr_init=fe;t._tr_stored_block=he;t._tr_flush_block=pe;t._tr_tally=ve;t._tr_align=de},function(e,t,r){"use strict";var n=30;var i=12;e.exports=function e(t,r){var o;var a;var s;var u;var l;var c;var f;var h;var d;var p;var v;var m;var g;var y;var b;var _;var w;var E;var S;var T;var A;var x;var D;var O,I;o=t.state;a=t.next_in;O=t.input;s=a+(t.avail_in-5);u=t.next_out;I=t.output;l=u-(r-t.avail_out);c=u+(t.avail_out-257);f=o.dmax;h=o.wsize;d=o.whave;p=o.wnext;v=o.window;m=o.hold;g=o.bits;y=o.lencode;b=o.distcode;_=(1<<o.lenbits)-1;w=(1<<o.distbits)-1;e:do{if(g<15){m+=O[a++]<<g;g+=8;m+=O[a++]<<g;g+=8}E=y[m&_];t:for(;;){S=E>>>24;m>>>=S;g-=S;S=E>>>16&255;if(S===0){I[u++]=E&65535}else if(S&16){T=E&65535;S&=15;if(S){if(g<S){m+=O[a++]<<g;g+=8}T+=m&(1<<S)-1;m>>>=S;g-=S}if(g<15){m+=O[a++]<<g;g+=8;m+=O[a++]<<g;g+=8}E=b[m&w];r:for(;;){S=E>>>24;m>>>=S;g-=S;S=E>>>16&255;if(S&16){A=E&65535;S&=15;if(g<S){m+=O[a++]<<g;g+=8;if(g<S){m+=O[a++]<<g;g+=8}}A+=m&(1<<S)-1;if(A>f){t.msg="invalid distance too far back";o.mode=n;break e}m>>>=S;g-=S;S=u-l;if(A>S){S=A-S;if(S>d){if(o.sane){t.msg="invalid distance too far back";o.mode=n;break e}}x=0;D=v;if(p===0){x+=h-S;if(S<T){T-=S;do{I[u++]=v[x++]}while(--S);x=u-A;D=I}}else if(p<S){x+=h+p-S;S-=p;if(S<T){T-=S;do{I[u++]=v[x++]}while(--S);x=0;if(p<T){S=p;T-=S;do{I[u++]=v[x++]}while(--S);x=u-A;D=I}}}else{x+=p-S;if(S<T){T-=S;do{I[u++]=v[x++]}while(--S);x=u-A;D=I}}while(T>2){I[u++]=D[x++];I[u++]=D[x++];I[u++]=D[x++];T-=3}if(T){I[u++]=D[x++];if(T>1){I[u++]=D[x++]}}}else{x=u-A;do{I[u++]=I[x++];I[u++]=I[x++];I[u++]=I[x++];T-=3}while(T>2);if(T){I[u++]=I[x++];if(T>1){I[u++]=I[x++]}}}}else if((S&64)===0){E=b[(E&65535)+(m&(1<<S)-1)];continue r}else{t.msg="invalid distance code";o.mode=n;break e}break}}else if((S&64)===0){E=y[(E&65535)+(m&(1<<S)-1)];continue t}else if(S&32){o.mode=i;break e}else{t.msg="invalid literal/length code";o.mode=n;break e}break}}while(a<s&&u<c);T=g>>3;a-=T;g-=T<<3;m&=(1<<g)-1;t.next_in=a;t.next_out=u;t.avail_in=a<s?5+(s-a):5-(a-s);t.avail_out=u<c?257+(c-u):257-(u-c);o.hold=m;o.bits=g;return}},function(e,t,r){"use strict";var n=r(18);var i=15;var o=852;var a=592;var s=0;var u=1;var l=2;var c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function e(t,r,p,v,m,g,y,b){var _=b.bits;var w=0;var E=0;var S=0,T=0;var A=0;var x=0;var D=0;var O=0;var I=0;var C=0;var k;var R;var P;var M;var L;var N=null;var F=0;var j;var B=new n.Buf16(i+1);var U=new n.Buf16(i+1);var z=null;var $=0;var G,H,W;for(w=0;w<=i;w++){B[w]=0}for(E=0;E<v;E++){B[r[p+E]]++}A=_;for(T=i;T>=1;T--){if(B[T]!==0){break}}if(A>T){A=T}if(T===0){m[g++]=1<<24|64<<16|0;m[g++]=1<<24|64<<16|0;b.bits=1;return 0}for(S=1;S<T;S++){if(B[S]!==0){break}}if(A<S){A=S}O=1;for(w=1;w<=i;w++){O<<=1;O-=B[w];if(O<0){return-1}}if(O>0&&(t===s||T!==1)){return-1}U[1]=0;for(w=1;w<i;w++){U[w+1]=U[w]+B[w]}for(E=0;E<v;E++){if(r[p+E]!==0){y[U[r[p+E]]++]=E}}if(t===s){N=z=y;j=19}else if(t===u){N=c;F-=257;z=f;$-=257;j=256}else{N=h;z=d;j=-1}C=0;E=0;w=S;L=g;x=A;D=0;P=-1;I=1<<A;M=I-1;if(t===u&&I>o||t===l&&I>a){return 1}for(;;){G=w-D;if(y[E]<j){H=0;W=y[E]}else if(y[E]>j){H=z[$+y[E]];W=N[F+y[E]]}else{H=32+64;W=0}k=1<<w-D;R=1<<x;S=R;do{R-=k;m[L+(C>>D)+R]=G<<24|H<<16|W|0}while(R!==0);k=1<<w-1;while(C&k){k>>=1}if(k!==0){C&=k-1;C+=k}else{C=0}E++;if(--B[w]===0){if(w===T){break}w=r[p+y[E]]}if(w>A&&(C&M)!==P){if(D===0){D=A}L+=S;x=w-D;O=1<<x;while(x+D<T){O-=B[x+D];if(O<=0){break}x++;O<<=1}I+=1<<x;if(t===u&&I>o||t===l&&I>a){return 1}P=C&M;m[P]=A<<24|x<<16|L-g|0}}if(C!==0){m[L+C]=w-D<<24|64<<16|0}b.bits=A;return 0}},function(e,t,r){"use strict";var n=r(45);Object.defineProperty(t,"__esModule",{value:true});t["default"]=s;var i=r(4);var o=n(r(68));var a=n(r(236));function s(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var s=arguments.length>4?arguments[4]:undefined;if(typeof n==="function"){s=n;n={}}if(!(e instanceof this.constructor)){return i.throwError.call(this,"The source must be a Jimp image",s)}if(typeof t!=="number"||typeof r!=="number"){return i.throwError.call(this,"x and y must be numbers",s)}var u=n,l=u.mode,c=u.opacitySource,f=u.opacityDest;if(!l){l=o.BLEND_SOURCE_OVER}if(typeof c!=="number"||c<0||c>1){c=1}if(typeof f!=="number"||f<0||f>1){f=1}var h=a[l];t=Math.round(t);r=Math.round(r);var d=this;if(f!==1){d.opacity(f)}e.scanQuiet(0,0,e.bitmap.width,e.bitmap.height,(function(e,n,i){var a=d.getPixelIndex(t+e,r+n,o.EDGE_CROP);var s=h({r:this.bitmap.data[i+0]/255,g:this.bitmap.data[i+1]/255,b:this.bitmap.data[i+2]/255,a:this.bitmap.data[i+3]/255},{r:d.bitmap.data[a+0]/255,g:d.bitmap.data[a+1]/255,b:d.bitmap.data[a+2]/255,a:d.bitmap.data[a+3]/255},c);d.bitmap.data[a+0]=this.constructor.limit255(s.r*255);d.bitmap.data[a+1]=this.constructor.limit255(s.g*255);d.bitmap.data[a+2]=this.constructor.limit255(s.b*255);d.bitmap.data[a+3]=this.constructor.limit255(s.a*255)}));if((0,i.isNodePattern)(s)){s.call(this,null,this)}return this}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.srcOver=n;t.dstOver=i;t.multiply=o;t.add=a;t.screen=s;t.overlay=u;t.darken=l;t.lighten=c;t.hardLight=f;t.difference=h;t.exclusion=d;function n(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=(e.r*e.a+t.r*t.a*(1-e.a))/n;var o=(e.g*e.a+t.g*t.a*(1-e.a))/n;var a=(e.b*e.a+t.b*t.a*(1-e.a))/n;return{r:i,g:o,b:a,a:n}}function i(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=(t.r*t.a+e.r*e.a*(1-t.a))/n;var o=(t.g*t.a+e.g*e.a*(1-t.a))/n;var a=(t.b*t.a+e.b*e.a*(1-t.a))/n;return{r:i,g:o,b:a,a:n}}function o(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(i*s+i*(1-t.a)+s*(1-e.a))/n;var f=(o*u+o*(1-t.a)+u*(1-e.a))/n;var h=(a*l+a*(1-t.a)+l*(1-e.a))/n;return{r:c,g:f,b:h,a:n}}function a(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(i+s)/n;var f=(o+u)/n;var h=(a+l)/n;return{r:c,g:f,b:h,a:n}}function s(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(i*t.a+s*e.a-i*s+i*(1-t.a)+s*(1-e.a))/n;var f=(o*t.a+u*e.a-o*u+o*(1-t.a)+u*(1-e.a))/n;var h=(a*t.a+l*e.a-a*l+a*(1-t.a)+l*(1-e.a))/n;return{r:c,g:f,b:h,a:n}}function u(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(2*s<=t.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/n;var f=(2*u<=t.a?2*o*u+o*(1-t.a)+u*(1-e.a):o*(1+t.a)+u*(1+e.a)-2*u*o-t.a*e.a)/n;var h=(2*l<=t.a?2*a*l+a*(1-t.a)+l*(1-e.a):a*(1+t.a)+l*(1+e.a)-2*l*a-t.a*e.a)/n;return{r:c,g:f,b:h,a:n}}function l(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(Math.min(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/n;var f=(Math.min(o*t.a,u*e.a)+o*(1-t.a)+u*(1-e.a))/n;var h=(Math.min(a*t.a,l*e.a)+a*(1-t.a)+l*(1-e.a))/n;return{r:c,g:f,b:h,a:n}}function c(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(Math.max(i*t.a,s*e.a)+i*(1-t.a)+s*(1-e.a))/n;var f=(Math.max(o*t.a,u*e.a)+o*(1-t.a)+u*(1-e.a))/n;var h=(Math.max(a*t.a,l*e.a)+a*(1-t.a)+l*(1-e.a))/n;return{r:c,g:f,b:h,a:n}}function f(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(2*i<=e.a?2*i*s+i*(1-t.a)+s*(1-e.a):i*(1+t.a)+s*(1+e.a)-2*s*i-t.a*e.a)/n;var f=(2*o<=e.a?2*o*u+o*(1-t.a)+u*(1-e.a):o*(1+t.a)+u*(1+e.a)-2*u*o-t.a*e.a)/n;var h=(2*a<=e.a?2*a*l+a*(1-t.a)+l*(1-e.a):a*(1+t.a)+l*(1+e.a)-2*l*a-t.a*e.a)/n;return{r:c,g:f,b:h,a:n}}function h(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(i+s-2*Math.min(i*t.a,s*e.a))/n;var f=(o+u-2*Math.min(o*t.a,u*e.a))/n;var h=(a+l-2*Math.min(a*t.a,l*e.a))/n;return{r:c,g:f,b:h,a:n}}function d(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;e.a*=r;var n=t.a+e.a-t.a*e.a;var i=e.r*e.a;var o=e.g*e.a;var a=e.b*e.a;var s=t.r*t.a;var u=t.g*t.a;var l=t.b*t.a;var c=(i*t.a+s*e.a-2*i*s+i*(1-t.a)+s*(1-e.a))/n;var f=(o*t.a+u*e.a-2*o*u+o*(1-t.a)+u*(1-e.a))/n;var h=(a*t.a+l*e.a-2*a*l+a*(1-t.a)+l*(1-e.a))/n;return{r:c,g:f,b:h,a:n}}},function(e,t,r){"use strict";(function(e){var n=r(45);var i=r(10);Object.defineProperty(t,"__esModule",{value:true});t.parseBitmap=g;t.getBuffer=b;t.getBufferAsync=_;var o=i(r(60));var a=i(r(238));var s=i(r(239));var u=r(4);var l=n(r(68));var c=n(r(108));var f=i(r(107));function h(e,t){var r=(0,a["default"])(e);if(r){return r.mime}if(t){return c.getType(t)}return null}function d(e){return e._exif&&e._exif.tags&&e._exif.tags.Orientation||1}function p(e){var t=e.getWidth();var r=e.getHeight();switch(d(e)){case 1:return null;case 2:return function(e,r){return[t-e-1,r]};case 3:return function(e,n){return[t-e-1,r-n-1]};case 4:return function(e,t){return[e,r-t-1]};case 5:return function(e,t){return[t,e]};case 6:return function(e,t){return[t,r-e-1]};case 7:return function(e,n){return[t-n-1,r-e-1]};case 8:return function(e,r){return[t-r-1,e]};default:return null}}function v(t,r,n,i){var a=t.bitmap.data;var s=t.bitmap.width;var u=e.alloc(a.length);for(var l=0;l<r;l++){for(var c=0;c<n;c++){var f=i(l,c),h=(0,o["default"])(f,2),d=h[0],p=h[1];var v=r*c+l<<2;var m=s*p+d<<2;var g=a.readUInt32BE(m);u.writeUInt32BE(g,v)}}t.bitmap.data=u;t.bitmap.width=r;t.bitmap.height=n}function m(e){if(d(e)<2)return;var t=p(e);var r=d(e)>4;var n=r?e.bitmap.height:e.bitmap.width;var i=r?e.bitmap.width:e.bitmap.height;v(e,n,i,t)}function g(e,t,r){var n=h(e,t);if(typeof n!=="string"){return r(new Error("Could not find MIME for Buffer <"+t+">"))}this._originalMime=n.toLowerCase();try{var i=this.getMIME();if(this.constructor.decoders[i]){this.bitmap=this.constructor.decoders[i](e)}else{return u.throwError.call(this,"Unsupported MIME type: "+i,r)}}catch(e){return r.call(this,e,this)}try{this._exif=s["default"].create(e).parse();m(this)}catch(e){}r.call(this,null,this);return this}function y(e,t){return new e(t.bitmap.width,t.bitmap.height,t._background).composite(t,0,0).bitmap}function b(t,r){if(t===l.AUTO){t=this.getMIME()}if(typeof t!=="string"){return u.throwError.call(this,"mime must be a string",r)}if(typeof r!=="function"){return u.throwError.call(this,"cb must be a function",r)}t=t.toLowerCase();if(this._rgba&&this.constructor.hasAlpha[t]){this.bitmap.data=e.from(this.bitmap.data)}else{this.bitmap.data=y(this.constructor,this).data}if(this.constructor.encoders[t]){var n=this.constructor.encoders[t](this);r.call(this,null,n)}else{r.call(this,"Unsupported MIME type: "+t)}return this}function _(e){return(0,f["default"])(b,this,e)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";const n=e=>[...e].map((e=>e.charCodeAt(0)));const i=n("META-INF/mozilla.rsa");const o=n("[Content_Types].xml");const a=n("_rels/.rels");e.exports=e=>{const t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1)){return null}const r=(e,r)=>{r=Object.assign({offset:0},r);for(let n=0;n<e.length;n++){if(r.mask){if(e[n]!==(r.mask[n]&t[n+r.offset])){return false}}else if(e[n]!==t[n+r.offset]){return false}}return true};const s=(e,t)=>r(n(e),t);if(r([255,216,255])){return{ext:"jpg",mime:"image/jpeg"}}if(r([137,80,78,71,13,10,26,10])){return{ext:"png",mime:"image/png"}}if(r([71,73,70])){return{ext:"gif",mime:"image/gif"}}if(r([87,69,66,80],{offset:8})){return{ext:"webp",mime:"image/webp"}}if(r([70,76,73,70])){return{ext:"flif",mime:"image/flif"}}if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8})){return{ext:"cr2",mime:"image/x-canon-cr2"}}if(r([73,73,42,0])||r([77,77,0,42])){return{ext:"tif",mime:"image/tiff"}}if(r([66,77])){return{ext:"bmp",mime:"image/bmp"}}if(r([73,73,188])){return{ext:"jxr",mime:"image/vnd.ms-photo"}}if(r([56,66,80,83])){return{ext:"psd",mime:"image/vnd.adobe.photoshop"}}if(r([80,75,3,4])){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30})){return{ext:"epub",mime:"application/epub+zip"}}if(r(i,{offset:30})){return{ext:"xpi",mime:"application/x-xpinstall"}}if(s("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30})){return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"}}if(s("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30})){return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"}}if(s("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30})){return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}const e=(e,t=0)=>e.findIndex(((e,r,n)=>r>=t&&n[r]===80&&n[r+1]===75&&n[r+2]===3&&n[r+3]===4));let n=0;let u=false;let l=null;do{const i=n+30;if(!u){u=r(o,{offset:i})||r(a,{offset:i})}if(!l){if(s("word/",{offset:i})){l={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}}else if(s("ppt/",{offset:i})){l={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}}else if(s("xl/",{offset:i})){l={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}if(u&&l){return l}n=e(t,i)}while(n>=0);if(l){return l}}if(r([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8)){return{ext:"zip",mime:"application/zip"}}if(r([117,115,116,97,114],{offset:257})){return{ext:"tar",mime:"application/x-tar"}}if(r([82,97,114,33,26,7])&&(t[6]===0||t[6]===1)){return{ext:"rar",mime:"application/x-rar-compressed"}}if(r([31,139,8])){return{ext:"gz",mime:"application/gzip"}}if(r([66,90,104])){return{ext:"bz2",mime:"application/x-bzip2"}}if(r([55,122,188,175,39,28])){return{ext:"7z",mime:"application/x-7z-compressed"}}if(r([120,1])){return{ext:"dmg",mime:"application/x-apple-diskimage"}}if(r([51,103,112,53])||r([0,0,0])&&r([102,116,121,112],{offset:4})&&(r([109,112,52,49],{offset:8})||r([109,112,52,50],{offset:8})||r([105,115,111,109],{offset:8})||r([105,115,111,50],{offset:8})||r([109,109,112,52],{offset:8})||r([77,52,86],{offset:8})||r([100,97,115,104],{offset:8}))){return{ext:"mp4",mime:"video/mp4"}}if(r([77,84,104,100])){return{ext:"mid",mime:"audio/midi"}}if(r([26,69,223,163])){const e=t.subarray(4,4+4096);const r=e.findIndex(((e,t,r)=>r[t]===66&&r[t+1]===130));if(r!==-1){const t=r+3;const n=r=>[...r].every(((r,n)=>e[t+n]===r.charCodeAt(0)));if(n("matroska")){return{ext:"mkv",mime:"video/x-matroska"}}if(n("webm")){return{ext:"webm",mime:"video/webm"}}}}if(r([0,0,0,20,102,116,121,112,113,116,32,32])||r([102,114,101,101],{offset:4})||r([102,116,121,112,113,116,32,32],{offset:4})||r([109,100,97,116],{offset:4})||r([119,105,100,101],{offset:4})){return{ext:"mov",mime:"video/quicktime"}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8})){return{ext:"avi",mime:"video/vnd.avi"}}if(r([87,65,86,69],{offset:8})){return{ext:"wav",mime:"audio/vnd.wave"}}if(r([81,76,67,77],{offset:8})){return{ext:"qcp",mime:"audio/qcelp"}}}if(r([48,38,178,117,142,102,207,17,166,217])){return{ext:"wmv",mime:"video/x-ms-wmv"}}if(r([0,0,1,186])||r([0,0,1,179])){return{ext:"mpg",mime:"video/mpeg"}}if(r([102,116,121,112,51,103],{offset:4})){return{ext:"3gp",mime:"video/3gpp"}}for(let e=0;e<2&&e<t.length-16;e++){if(r([73,68,51],{offset:e})||r([255,226],{offset:e,mask:[255,226]})){return{ext:"mp3",mime:"audio/mpeg"}}if(r([255,228],{offset:e,mask:[255,228]})){return{ext:"mp2",mime:"audio/mpeg"}}if(r([255,248],{offset:e,mask:[255,252]})){return{ext:"mp2",mime:"audio/mpeg"}}if(r([255,240],{offset:e,mask:[255,252]})){return{ext:"mp4",mime:"audio/mpeg"}}}if(r([102,116,121,112,77,52,65],{offset:4})||r([77,52,65,32])){return{ext:"m4a",mime:"audio/mp4"}}if(r([79,112,117,115,72,101,97,100],{offset:28})){return{ext:"opus",mime:"audio/opus"}}if(r([79,103,103,83])){if(r([128,116,104,101,111,114,97],{offset:28})){return{ext:"ogv",mime:"video/ogg"}}if(r([1,118,105,100,101,111,0],{offset:28})){return{ext:"ogm",mime:"video/ogg"}}if(r([127,70,76,65,67],{offset:28})){return{ext:"oga",mime:"audio/ogg"}}if(r([83,112,101,101,120,32,32],{offset:28})){return{ext:"spx",mime:"audio/ogg"}}if(r([1,118,111,114,98,105,115],{offset:28})){return{ext:"ogg",mime:"audio/ogg"}}return{ext:"ogx",mime:"application/ogg"}}if(r([102,76,97,67])){return{ext:"flac",mime:"audio/x-flac"}}if(r([77,65,67,32])){return{ext:"ape",mime:"audio/ape"}}if(r([119,118,112,107])){return{ext:"wv",mime:"audio/wavpack"}}if(r([35,33,65,77,82,10])){return{ext:"amr",mime:"audio/amr"}}if(r([37,80,68,70])){return{ext:"pdf",mime:"application/pdf"}}if(r([77,90])){return{ext:"exe",mime:"application/x-msdownload"}}if((t[0]===67||t[0]===70)&&r([87,83],{offset:1})){return{ext:"swf",mime:"application/x-shockwave-flash"}}if(r([123,92,114,116,102])){return{ext:"rtf",mime:"application/rtf"}}if(r([0,97,115,109])){return{ext:"wasm",mime:"application/wasm"}}if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4}))){return{ext:"woff",mime:"font/woff"}}if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4}))){return{ext:"woff2",mime:"font/woff2"}}if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8}))){return{ext:"eot",mime:"application/vnd.ms-fontobject"}}if(r([0,1,0,0,0])){return{ext:"ttf",mime:"font/ttf"}}if(r([79,84,84,79,0])){return{ext:"otf",mime:"font/otf"}}if(r([0,0,1,0])){return{ext:"ico",mime:"image/x-icon"}}if(r([0,0,2,0])){return{ext:"cur",mime:"image/x-icon"}}if(r([70,76,86,1])){return{ext:"flv",mime:"video/x-flv"}}if(r([37,33])){return{ext:"ps",mime:"application/postscript"}}if(r([253,55,122,88,90,0])){return{ext:"xz",mime:"application/x-xz"}}if(r([83,81,76,105])){return{ext:"sqlite",mime:"application/x-sqlite3"}}if(r([78,69,83,26])){return{ext:"nes",mime:"application/x-nintendo-nes-rom"}}if(r([67,114,50,52])){return{ext:"crx",mime:"application/x-google-chrome-extension"}}if(r([77,83,67,70])||r([73,83,99,40])){return{ext:"cab",mime:"application/vnd.ms-cab-compressed"}}if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121])){return{ext:"deb",mime:"application/x-deb"}}if(r([33,60,97,114,99,104,62])){return{ext:"ar",mime:"application/x-unix-archive"}}if(r([237,171,238,219])){return{ext:"rpm",mime:"application/x-rpm"}}if(r([31,160])||r([31,157])){return{ext:"Z",mime:"application/x-compress"}}if(r([76,90,73,80])){return{ext:"lz",mime:"application/x-lzip"}}if(r([208,207,17,224,161,177,26,225])){return{ext:"msi",mime:"application/x-msi"}}if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2])){return{ext:"mxf",mime:"application/mxf"}}if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196}))){return{ext:"mts",mime:"video/mp2t"}}if(r([66,76,69,78,68,69,82])){return{ext:"blend",mime:"application/x-blender"}}if(r([66,80,71,251])){return{ext:"bpg",mime:"image/bpg"}}if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20})){return{ext:"jp2",mime:"image/jp2"}}if(r([106,112,120,32],{offset:20})){return{ext:"jpx",mime:"image/jpx"}}if(r([106,112,109,32],{offset:20})){return{ext:"jpm",mime:"image/jpm"}}if(r([109,106,112,50],{offset:20})){return{ext:"mj2",mime:"image/mj2"}}}if(r([70,79,82,77,0])){return{ext:"aif",mime:"audio/aiff"}}if(s("<?xml ")){return{ext:"xml",mime:"application/xml"}}if(r([66,79,79,75,77,79,66,73],{offset:60})){return{ext:"mobi",mime:"application/x-mobipocket-ebook"}}if(r([102,116,121,112],{offset:4})){if(r([109,105,102,49],{offset:8})){return{ext:"heic",mime:"image/heif"}}if(r([109,115,102,49],{offset:8})){return{ext:"heic",mime:"image/heif-sequence"}}if(r([104,101,105,99],{offset:8})||r([104,101,105,120],{offset:8})){return{ext:"heic",mime:"image/heic"}}if(r([104,101,118,99],{offset:8})||r([104,101,118,120],{offset:8})){return{ext:"heic",mime:"image/heic-sequence"}}}if(r([171,75,84,88,32,49,49,187,13,10,26,10])){return{ext:"ktx",mime:"image/ktx"}}return null}},function(e,t,r){var n=r(240);function i(){return(1,eval)("this")}e.exports={create:function(e,t){t=t||i();if(e instanceof t.ArrayBuffer){var o=r(245);return new n(new o(e,0,e.byteLength,true,t))}else{var a=r(246);return new n(new a(e,0,e.length,true))}}}},function(e,t,r){var n=r(241),i=r(109),o=r(242);function a(e,t,r,n,i,o,a){this.startMarker=e;this.tags=t;this.imageSize=r;this.thumbnailOffset=n;this.thumbnailLength=i;this.thumbnailType=o;this.app1Offset=a}a.prototype={hasThumbnail:function(e){if(!this.thumbnailOffset||!this.thumbnailLength){return false}if(typeof e!=="string"){return true}if(e.toLowerCase().trim()==="image/jpeg"){return this.thumbnailType===6}if(e.toLowerCase().trim()==="image/tiff"){return this.thumbnailType===1}return false},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e=this._getThumbnailStream(),t;n.parseSections(e,(function(e,r){if(n.getSectionName(e).name==="SOF"){t=n.getSizeFromSOFSection(r)}}));return t}};function s(e){this.stream=e;this.flags={readBinaryTags:false,resolveTagNames:true,simplifyValues:true,imageSize:true,hidePointers:true,returnTags:true}}s.prototype={enableBinaryFields:function(e){this.flags.readBinaryTags=!!e;return this},enablePointers:function(e){this.flags.hidePointers=!e;return this},enableTagNames:function(e){this.flags.resolveTagNames=!!e;return this},enableImageSize:function(e){this.flags.imageSize=!!e;return this},enableReturnTags:function(e){this.flags.returnTags=!!e;return this},enableSimpleValues:function(e){this.flags.simplifyValues=!!e;return this},parse:function(){var e=this.stream.mark(),t=e.openWithOffset(0),s=this.flags,u,l,c,f,h,d,p,v,m;if(s.resolveTagNames){p=r(244)}if(s.resolveTagNames){u={};v=function(e){return u[e.name]};m=function(e,t){u[e.name]=t}}else{u=[];v=function(e){var t;for(t=0;t<u.length;++t){if(u[t].type===e.type&&u[t].section===e.section){return u.value}}};m=function(e,t){var r;for(r=0;r<u.length;++r){if(u[r].type===e.type&&u[r].section===e.section){u.value=t;return}}}}n.parseSections(t,(function(t,r){var a,v=r.offsetFrom(e);if(t===225){a=i.parseTags(r,(function(e,t,r,n){if(!s.readBinaryTags&&n===7){return}if(t===513){c=r[0];if(s.hidePointers){return}}else if(t===514){f=r[0];if(s.hidePointers){return}}else if(t===259){h=r[0];if(s.hidePointers){return}}if(!s.returnTags){return}if(s.simplifyValues){r=o.simplifyValue(r,n)}if(s.resolveTagNames){var a=e===i.GPSIFD?p.gps:p.exif;var l=a[t];if(!l){l=p.exif[t]}if(!u.hasOwnProperty(l)){u[l]=r}}else{u.push({section:e,type:t,value:r})}}));if(a){d=v}}else if(s.imageSize&&n.getSectionName(t).name==="SOF"){l=n.getSizeFromSOFSection(r)}}));if(s.simplifyValues){o.castDegreeValues(v,m);o.castDateValues(v,m)}return new a(e,u,l,c,f,h,d)}};e.exports=s},function(e,t){e.exports={parseSections:function(e,t){var r,n;e.setBigEndian(true);while(e.remainingLength()>0&&n!==218){if(e.nextUInt8()!==255){throw new Error("Invalid JPEG section offset")}n=e.nextUInt8();if(n>=208&&n<=217||n===218){r=0}else{r=e.nextUInt16()-2}t(n,e.branch(0,r));e.skip(r)}},getSizeFromSOFSection:function(e){e.skip(1);return{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,r;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:if(e>=224&&e<=239){t="APP";r=e-224}else if(e>=192&&e<=207&&e!==196&&e!==200&&e!==204){t="SOF";r=e-192}else if(e>=208&&e<=215){t="RST";r=e-208}break}var n={name:t};if(typeof r==="number"){n.index=r}return n}}},function(e,t,r){var n=r(109);var i=r(243);var o=[{section:n.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:n.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}];var a=[{section:n.SubIFD,type:306,name:"ModifyDate"},{section:n.SubIFD,type:36867,name:"DateTimeOriginal"},{section:n.SubIFD,type:36868,name:"CreateDate"},{section:n.SubIFD,type:306,name:"ModifyDate"}];e.exports={castDegreeValues:function(e,t){o.forEach((function(r){var n=e(r);if(n){var i=e({section:r.section,type:r.refType,name:r.refName});var o=i===r.posVal?1:-1;var a=(n[0]+n[1]/60+n[2]/3600)*o;t(r,a)}}))},castDateValues:function(e,t){a.forEach((function(r){var n=e(r);if(n){var o=i.parseExifDate(n);if(typeof o!=="undefined"){t(r,o)}}}))},simplifyValue:function(e,t){if(Array.isArray(e)){e=e.map((function(e){if(t===10||t===5){return e[0]/e[1]}return e}));if(e.length===1){e=e[0]}}return e}}},function(e,t){function r(e){return parseInt(e,10)}var n=3600;var i=60;function o(e,t){e=e.map(r);t=t.map(r);var n=e[0];var i=e[1]-1;var o=e[2];var a=t[0];var s=t[1];var u=t[2];var l=Date.UTC(n,i,o,a,s,u,0);var c=l/1e3;return c}function a(e){var t=e.substr(0,10).split("-");var a=e.substr(11,8).split(":");var s=e.substr(19,6);var u=s.split(":").map(r);var l=u[0]*n+u[1]*i;var c=o(t,a);c-=l;if(typeof c==="number"&&!isNaN(c)){return c}}function s(e){var t=e.split(" "),r=t[0].split(":"),n=t[1].split(":");var i=o(r,n);if(typeof i==="number"&&!isNaN(i)){return i}}function u(e){var t=e.length===19&&e.charAt(4)===":";var r=e.length===25&&e.charAt(10)==="T";var n;if(r){return a(e)}else if(t){return s(e)}}e.exports={parseDateWithSpecFormat:s,parseDateWithTimezoneFormat:a,parseExifDate:u}},function(e,t){e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},function(e,t){function r(e,t,r,n,i,o){this.global=i;t=t||0;r=r||e.byteLength-t;this.arrayBuffer=e.slice(t,t+r);this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength);this.setBigEndian(n);this.offset=0;this.parentOffset=(o||0)+t}r.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);this.offset+=1;return e},nextInt8:function(){var e=this.view.getInt8(this.offset);this.offset+=1;return e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);this.offset+=2;return e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);this.offset+=4;return e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);this.offset+=2;return e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);this.offset+=4;return e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);this.offset+=4;return e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);this.offset+=8;return e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);this.offset+=e;return t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);t=String.fromCharCode.apply(null,new this.global.Uint8Array(t));this.offset+=e;return t},mark:function(){var e=this;return{openWithOffset:function(t){t=(t||0)+this.offset;return new r(e.arrayBuffer,t,e.arrayBuffer.byteLength-t,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,t){t=typeof t==="number"?t:this.arrayBuffer.byteLength-(this.offset+e);return new r(this.arrayBuffer,this.offset+e,t,!this.littleEndian,this.global,this.parentOffset)}};e.exports=r},function(e,t){function r(e,t,r,n){this.buffer=e;this.offset=t||0;r=typeof r==="number"?r:e.length;this.endPosition=this.offset+r;this.setBigEndian(n)}r.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);this.offset+=1;return e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);this.offset+=1;return e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);this.offset+=2;return e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);this.offset+=4;return e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);this.offset+=2;return e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);this.offset+=4;return e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);this.offset+=4;return e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);this.offset+=8;return e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);this.offset+=e;return t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);this.offset+=e;return t},mark:function(){var e=this;return{openWithOffset:function(t){t=(t||0)+this.offset;return new r(e.buffer,t,e.endPosition-t,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,t){t=typeof t==="number"?t:this.endPosition-(this.offset+e);return new r(this.buffer,this.offset+e,t,this.bigEndian)}};e.exports=r},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(110);var o=n(r(248));var a=n(r(252));var s=n(r(264));var u=n(r(268));var l=n(r(273));var c=function e(){return(0,i.mergeDeep)((0,o["default"])(),(0,a["default"])(),(0,s["default"])(),(0,u["default"])(),(0,l["default"])())};t["default"]=c},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(17));var o=n(r(249));var a=r(4);var s="image/jpeg";var u=function e(){return{mime:(0,i["default"])({},s,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:s},decoders:(0,i["default"])({},s,o["default"].decode),encoders:(0,i["default"])({},s,(function(e){return o["default"].encode(e.bitmap,e._quality).data})),class:{_quality:100,quality:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"n must be a number",r)}if(t<0||t>100){return a.throwError.call(this,"n must be a number 0 - 100",r)}this._quality=Math.round(t);if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this}}}};t["default"]=u},function(e,t,r){var n=r(250),i=r(251);e.exports={encode:n,decode:i}},function(e,t,r){(function(t){var r=r||function(e){return t.from(e).toString("base64")};function n(e){var n=this;var i=Math.round;var o=Math.floor;var a=new Array(64);var s=new Array(64);var u=new Array(64);var l=new Array(64);var c;var f;var h;var d;var p=new Array(65535);var v=new Array(65535);var m=new Array(64);var g=new Array(64);var y=[];var b=0;var _=7;var w=new Array(64);var E=new Array(64);var S=new Array(64);var T=new Array(256);var A=new Array(2048);var x;var D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63];var O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0];var I=[0,1,2,3,4,5,6,7,8,9,10,11];var C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125];var k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250];var R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0];var P=[0,1,2,3,4,5,6,7,8,9,10,11];var M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119];var L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function N(e){var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99];for(var r=0;r<64;r++){var n=o((t[r]*e+50)/100);if(n<1){n=1}else if(n>255){n=255}a[D[r]]=n}var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99];for(var c=0;c<64;c++){var f=o((i[c]*e+50)/100);if(f<1){f=1}else if(f>255){f=255}s[D[c]]=f}var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379];var d=0;for(var p=0;p<8;p++){for(var v=0;v<8;v++){u[d]=1/(a[D[d]]*h[p]*h[v]*8);l[d]=1/(s[D[d]]*h[p]*h[v]*8);d++}}}function F(e,t){var r=0;var n=0;var i=new Array;for(var o=1;o<=16;o++){for(var a=1;a<=e[o];a++){i[t[n]]=[];i[t[n]][0]=r;i[t[n]][1]=o;n++;r++}r*=2}return i}function j(){c=F(O,I);f=F(R,P);h=F(C,k);d=F(M,L)}function B(){var e=1;var t=2;for(var r=1;r<=15;r++){for(var n=e;n<t;n++){v[32767+n]=r;p[32767+n]=[];p[32767+n][1]=r;p[32767+n][0]=n}for(var i=-(t-1);i<=-e;i++){v[32767+i]=r;p[32767+i]=[];p[32767+i][1]=r;p[32767+i][0]=t-1+i}e<<=1;t<<=1}}function U(){for(var e=0;e<256;e++){A[e]=19595*e;A[e+256>>0]=38470*e;A[e+512>>0]=7471*e+32768;A[e+768>>0]=-11059*e;A[e+1024>>0]=-21709*e;A[e+1280>>0]=32768*e+8421375;A[e+1536>>0]=-27439*e;A[e+1792>>0]=-5329*e}}function z(e){var t=e[0];var r=e[1]-1;while(r>=0){if(t&1<<r){b|=1<<_}r--;_--;if(_<0){if(b==255){$(255);$(0)}else{$(b)}_=7;b=0}}}function $(e){y.push(e)}function G(e){$(e>>8&255);$(e&255)}function H(e,t){var r,n,i,o,a,s,u,l;var c=0;var f;var h=8;var d=64;for(f=0;f<h;++f){r=e[c];n=e[c+1];i=e[c+2];o=e[c+3];a=e[c+4];s=e[c+5];u=e[c+6];l=e[c+7];var p=r+l;var v=r-l;var g=n+u;var y=n-u;var b=i+s;var _=i-s;var w=o+a;var E=o-a;var S=p+w;var T=p-w;var A=g+b;var x=g-b;e[c]=S+A;e[c+4]=S-A;var D=(x+T)*.707106781;e[c+2]=T+D;e[c+6]=T-D;S=E+_;A=_+y;x=y+v;var O=(S-x)*.382683433;var I=.5411961*S+O;var C=1.306562965*x+O;var k=A*.707106781;var R=v+k;var P=v-k;e[c+5]=P+I;e[c+3]=P-I;e[c+1]=R+C;e[c+7]=R-C;c+=8}c=0;for(f=0;f<h;++f){r=e[c];n=e[c+8];i=e[c+16];o=e[c+24];a=e[c+32];s=e[c+40];u=e[c+48];l=e[c+56];var M=r+l;var L=r-l;var N=n+u;var F=n-u;var j=i+s;var B=i-s;var U=o+a;var z=o-a;var $=M+U;var G=M-U;var H=N+j;var W=N-j;e[c]=$+H;e[c+32]=$-H;var V=(W+G)*.707106781;e[c+16]=G+V;e[c+48]=G-V;$=z+B;H=B+F;W=F+L;var q=($-W)*.382683433;var J=.5411961*$+q;var Y=1.306562965*W+q;var K=H*.707106781;var X=L+K;var Z=L-K;e[c+40]=Z+J;e[c+24]=Z-J;e[c+8]=X+Y;e[c+56]=X-Y;c++}var Q;for(f=0;f<d;++f){Q=e[f]*t[f];m[f]=Q>0?Q+.5|0:Q-.5|0}return m}function W(){G(65504);G(16);$(74);$(70);$(73);$(70);$(0);$(1);$(1);$(0);G(1);G(1);$(0);$(0)}function V(e){if(!e)return;G(65505);if(e[0]===69&&e[1]===120&&e[2]===105&&e[3]===102){G(e.length+2)}else{G(e.length+5+2);$(69);$(120);$(105);$(102);$(0)}for(var t=0;t<e.length;t++){$(e[t])}}function q(e,t){G(65472);G(17);$(8);G(t);G(e);$(3);$(1);$(17);$(0);$(2);$(17);$(1);$(3);$(17);$(1)}function J(){G(65499);G(132);$(0);for(var e=0;e<64;e++){$(a[e])}$(1);for(var t=0;t<64;t++){$(s[t])}}function Y(){G(65476);G(418);$(0);for(var e=0;e<16;e++){$(O[e+1])}for(var t=0;t<=11;t++){$(I[t])}$(16);for(var r=0;r<16;r++){$(C[r+1])}for(var n=0;n<=161;n++){$(k[n])}$(1);for(var i=0;i<16;i++){$(R[i+1])}for(var o=0;o<=11;o++){$(P[o])}$(17);for(var a=0;a<16;a++){$(M[a+1])}for(var s=0;s<=161;s++){$(L[s])}}function K(e){if(typeof e==="undefined"||e.constructor!==Array)return;e.forEach((e=>{if(typeof e!=="string")return;G(65534);var t=e.length;G(t+2);var r;for(r=0;r<t;r++)$(e.charCodeAt(r))}))}function X(){G(65498);G(12);$(3);$(1);$(0);$(2);$(17);$(3);$(17);$(0);$(63);$(0)}function Z(e,t,r,n,i){var o=i[0];var a=i[240];var s;var u=16;var l=63;var c=64;var f=H(e,t);for(var h=0;h<c;++h){g[D[h]]=f[h]}var d=g[0]-r;r=g[0];if(d==0){z(n[0])}else{s=32767+d;z(n[v[s]]);z(p[s])}var m=63;for(;m>0&&g[m]==0;m--){}if(m==0){z(o);return r}var y=1;var b;while(y<=m){var _=y;for(;g[y]==0&&y<=m;++y){}var w=y-_;if(w>=u){b=w>>4;for(var E=1;E<=b;++E)z(a);w=w&15}s=32767+g[y];z(i[(w<<4)+v[s]]);z(p[s]);y++}if(m!=l){z(o)}return r}function Q(){var e=String.fromCharCode;for(var t=0;t<256;t++){T[t]=e(t)}}this.encode=function(e,n){var i=(new Date).getTime();if(n)ee(n);y=new Array;b=0;_=7;G(65496);W();K(e.comments);V(e.exifBuffer);J();q(e.width,e.height);Y();X();var o=0;var a=0;var s=0;b=0;_=7;this.encode.displayName="_encode_";var p=e.data;var v=e.width;var m=e.height;var g=v*4;var T=v*3;var x,D=0;var O,I,C;var k,R,P,M,L;while(D<m){x=0;while(x<g){k=g*D+x;R=k;P=-1;M=0;for(L=0;L<64;L++){M=L>>3;P=(L&7)*4;R=k+M*g+P;if(D+M>=m){R-=g*(D+1+M-m)}if(x+P>=g){R-=x+P-g+4}O=p[R++];I=p[R++];C=p[R++];w[L]=(A[O]+A[I+256>>0]+A[C+512>>0]>>16)-128;E[L]=(A[O+768>>0]+A[I+1024>>0]+A[C+1280>>0]>>16)-128;S[L]=(A[O+1280>>0]+A[I+1536>>0]+A[C+1792>>0]>>16)-128}o=Z(w,u,o,c,h);a=Z(E,l,a,f,d);s=Z(S,l,s,f,d);x+=32}D+=8}if(_>=0){var N=[];N[1]=_+1;N[0]=(1<<_+1)-1;z(N)}G(65497);if(false){}return t.from(y);var F="data:image/jpeg;base64,"+r(y.join(""));y=[];var j=(new Date).getTime()-i;return F};function ee(e){if(e<=0){e=1}if(e>100){e=100}if(x==e)return;var t=0;if(e<50){t=Math.floor(5e3/e)}else{t=Math.floor(200-e*2)}N(t);x=e}function te(){var t=(new Date).getTime();if(!e)e=50;Q();j();B();U();ee(e);var r=(new Date).getTime()-t}te()}if(true){e.exports=i}else{}function i(e,t){if(typeof t==="undefined")t=50;var r=new n(t);var i=r.encode(e,t);return{data:i,width:e.width,height:e.height}}function o(e){var t=typeof e=="string"?document.getElementById(e):e;var r=document.createElement("canvas");r.width=t.width;r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0);return n.getImageData(0,0,r.width,r.height)}}).call(this,r(1).Buffer)},function(e,t,r){(function(t){var r=function e(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);var r=4017;var n=799;var i=3406;var o=2276;var a=1567;var s=3784;var u=5793;var l=2896;function c(){}function f(e,t){var r=0,n=[],i,o,a=16;while(a>0&&!e[a-1])a--;n.push({children:[],index:0});var s=n[0],u;for(i=0;i<a;i++){for(o=0;o<e[i];o++){s=n.pop();s.children[s.index]=t[r];while(s.index>0){if(n.length===0)throw new Error("Could not recreate Huffman Table");s=n.pop()}s.index++;n.push(s);while(n.length<=i){n.push(u={children:[],index:0});s.children[s.index]=u.children;s=u}r++}if(i+1<a){n.push(u={children:[],index:0});s.children[s.index]=u.children;s=u}}return n[0].children}function h(e,r,n,i,o,a,s,u,l,c){var f=n.precision;var h=n.samplesPerLine;var d=n.scanLines;var p=n.mcusPerLine;var v=n.progressive;var m=n.maxH,g=n.maxV;var y=r,b=0,_=0;function w(){if(_>0){_--;return b>>_&1}b=e[r++];if(b==255){var t=e[r++];if(t){throw new Error("unexpected marker: "+(b<<8|t).toString(16))}}_=7;return b>>>7}function E(e){var t=e,r;while((r=w())!==null){t=t[r];if(typeof t==="number")return t;if(typeof t!=="object")throw new Error("invalid huffman sequence")}return null}function S(e){var t=0;while(e>0){var r=w();if(r===null)return;t=t<<1|r;e--}return t}function T(e){var t=S(e);if(t>=1<<e-1)return t;return t+(-1<<e)+1}function A(e,r){var n=E(e.huffmanTableDC);var i=n===0?0:T(n);r[0]=e.pred+=i;var o=1;while(o<64){var a=E(e.huffmanTableAC);var s=a&15,u=a>>4;if(s===0){if(u<15)break;o+=16;continue}o+=u;var l=t[o];r[l]=T(s);o++}}function x(e,t){var r=E(e.huffmanTableDC);var n=r===0?0:T(r)<<l;t[0]=e.pred+=n}function D(e,t){t[0]|=w()<<l}var O=0;function I(e,r){if(O>0){O--;return}var n=a,i=s;while(n<=i){var o=E(e.huffmanTableAC);var u=o&15,c=o>>4;if(u===0){if(c<15){O=S(c)+(1<<c)-1;break}n+=16;continue}n+=c;var f=t[n];r[f]=T(u)*(1<<l);n++}}var C=0,k;function R(e,r){var n=a,i=s,o=0;while(n<=i){var u=t[n];var c=r[u]<0?-1:1;switch(C){case 0:var f=E(e.huffmanTableAC);var h=f&15,o=f>>4;if(h===0){if(o<15){O=S(o)+(1<<o);C=4}else{o=16;C=1}}else{if(h!==1)throw new Error("invalid ACn encoding");k=T(h);C=o?2:3}continue;case 1:case 2:if(r[u])r[u]+=(w()<<l)*c;else{o--;if(o===0)C=C==2?3:0}break;case 3:if(r[u])r[u]+=(w()<<l)*c;else{r[u]=k<<l;C=0}break;case 4:if(r[u])r[u]+=(w()<<l)*c;break}n++}if(C===4){O--;if(O===0)C=0}}function P(e,t,r,n,i){var o=r/p|0;var a=r%p;var s=o*e.v+n;var u=a*e.h+i;if(e.blocks[s]===undefined&&c.tolerantDecoding)return;t(e,e.blocks[s][u])}function M(e,t,r){var n=r/e.blocksPerLine|0;var i=r%e.blocksPerLine;if(e.blocks[n]===undefined&&c.tolerantDecoding)return;t(e,e.blocks[n][i])}var L=i.length;var N,F,j,B,U;var z;if(v){if(a===0)z=u===0?x:D;else z=u===0?I:R}else{z=A}var $=0,G;var H;if(L==1){H=i[0].blocksPerLine*i[0].blocksPerColumn}else{H=p*n.mcusPerColumn}if(!o)o=H;var W,V;while($<H){for(F=0;F<L;F++)i[F].pred=0;O=0;if(L==1){N=i[0];for(U=0;U<o;U++){M(N,z,$);$++}}else{for(U=0;U<o;U++){for(F=0;F<L;F++){N=i[F];W=N.h;V=N.v;for(j=0;j<V;j++){for(B=0;B<W;B++){P(N,z,$,j,B)}}}$++;if($===H)break}}if($===H){do{if(e[r]===255){if(e[r+1]!==0){break}}r+=1}while(r<e.length-2)}_=0;G=e[r]<<8|e[r+1];if(G<65280){throw new Error("marker was not found")}if(G>=65488&&G<=65495){r+=2}else break}return r-y}function d(e,t){var c=[];var f=t.blocksPerLine;var h=t.blocksPerColumn;var d=f<<3;var p=new Int32Array(64),v=new Uint8Array(64);function m(e,c,f){var h=t.quantizationTable;var d,p,v,m,g,y,b,_,w;var E=f;var S;for(S=0;S<64;S++)E[S]=e[S]*h[S];for(S=0;S<8;++S){var T=8*S;if(E[1+T]==0&&E[2+T]==0&&E[3+T]==0&&E[4+T]==0&&E[5+T]==0&&E[6+T]==0&&E[7+T]==0){w=u*E[0+T]+512>>10;E[0+T]=w;E[1+T]=w;E[2+T]=w;E[3+T]=w;E[4+T]=w;E[5+T]=w;E[6+T]=w;E[7+T]=w;continue}d=u*E[0+T]+128>>8;p=u*E[4+T]+128>>8;v=E[2+T];m=E[6+T];g=l*(E[1+T]-E[7+T])+128>>8;_=l*(E[1+T]+E[7+T])+128>>8;y=E[3+T]<<4;b=E[5+T]<<4;w=d-p+1>>1;d=d+p+1>>1;p=w;w=v*s+m*a+128>>8;v=v*a-m*s+128>>8;m=w;w=g-b+1>>1;g=g+b+1>>1;b=w;w=_+y+1>>1;y=_-y+1>>1;_=w;w=d-m+1>>1;d=d+m+1>>1;m=w;w=p-v+1>>1;p=p+v+1>>1;v=w;w=g*o+_*i+2048>>12;g=g*i-_*o+2048>>12;_=w;w=y*n+b*r+2048>>12;y=y*r-b*n+2048>>12;b=w;E[0+T]=d+_;E[7+T]=d-_;E[1+T]=p+b;E[6+T]=p-b;E[2+T]=v+y;E[5+T]=v-y;E[3+T]=m+g;E[4+T]=m-g}for(S=0;S<8;++S){var A=S;if(E[1*8+A]==0&&E[2*8+A]==0&&E[3*8+A]==0&&E[4*8+A]==0&&E[5*8+A]==0&&E[6*8+A]==0&&E[7*8+A]==0){w=u*f[S+0]+8192>>14;E[0*8+A]=w;E[1*8+A]=w;E[2*8+A]=w;E[3*8+A]=w;E[4*8+A]=w;E[5*8+A]=w;E[6*8+A]=w;E[7*8+A]=w;continue}d=u*E[0*8+A]+2048>>12;p=u*E[4*8+A]+2048>>12;v=E[2*8+A];m=E[6*8+A];g=l*(E[1*8+A]-E[7*8+A])+2048>>12;_=l*(E[1*8+A]+E[7*8+A])+2048>>12;y=E[3*8+A];b=E[5*8+A];w=d-p+1>>1;d=d+p+1>>1;p=w;w=v*s+m*a+2048>>12;v=v*a-m*s+2048>>12;m=w;w=g-b+1>>1;g=g+b+1>>1;b=w;w=_+y+1>>1;y=_-y+1>>1;_=w;w=d-m+1>>1;d=d+m+1>>1;m=w;w=p-v+1>>1;p=p+v+1>>1;v=w;w=g*o+_*i+2048>>12;g=g*i-_*o+2048>>12;_=w;w=y*n+b*r+2048>>12;y=y*r-b*n+2048>>12;b=w;E[0*8+A]=d+_;E[7*8+A]=d-_;E[1*8+A]=p+b;E[6*8+A]=p-b;E[2*8+A]=v+y;E[5*8+A]=v-y;E[3*8+A]=m+g;E[4*8+A]=m-g}for(S=0;S<64;++S){var x=128+(E[S]+8>>4);c[S]=x<0?0:x>255?255:x}}g(d*h*8);var y,b;for(var _=0;_<h;_++){var w=_<<3;for(y=0;y<8;y++)c.push(new Uint8Array(d));for(var E=0;E<f;E++){m(t.blocks[_][E],v,p);var S=0,T=E<<3;for(b=0;b<8;b++){var A=c[w+b];for(y=0;y<8;y++)A[T+y]=v[S++]}}}return c}function p(e){return e<0?0:e>255?255:e}c.prototype={load:function e(t){var r=new XMLHttpRequest;r.open("GET",t,true);r.responseType="arraybuffer";r.onload=function(){var e=new Uint8Array(r.response||r.mozResponseArrayBuffer);this.parse(e);if(this.onload)this.onload()}.bind(this);r.send(null)},parse:function e(r){var n=this.opts.maxResolutionInMP*1e3*1e3;var i=0,o=r.length;function a(){var e=r[i]<<8|r[i+1];i+=2;return e}function s(){var e=a();var t=r.subarray(i,i+e-2);i+=t.length;return t}function u(e){var t=1,r=1;var n,i;for(i in e.components){if(e.components.hasOwnProperty(i)){n=e.components[i];if(t<n.h)t=n.h;if(r<n.v)r=n.v}}var o=Math.ceil(e.samplesPerLine/8/t);var a=Math.ceil(e.scanLines/8/r);for(i in e.components){if(e.components.hasOwnProperty(i)){n=e.components[i];var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*n.h/t);var u=Math.ceil(Math.ceil(e.scanLines/8)*n.v/r);var l=o*n.h;var c=a*n.v;var f=c*l;var h=[];g(f*256);for(var d=0;d<c;d++){var p=[];for(var v=0;v<l;v++)p.push(new Int32Array(64));h.push(p)}n.blocksPerLine=s;n.blocksPerColumn=u;n.blocks=h}}e.maxH=t;e.maxV=r;e.mcusPerLine=o;e.mcusPerColumn=a}var l=null;var c=null;var p=null;var v,m;var y=[],b=[];var _=[],w=[];var E=a();var S=-1;this.comments=[];if(E!=65496){throw new Error("SOI not found")}E=a();while(E!=65497){var T,A,x;switch(E){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var D=s();if(E===65534){var O=String.fromCharCode.apply(null,D);this.comments.push(O)}if(E===65504){if(D[0]===74&&D[1]===70&&D[2]===73&&D[3]===70&&D[4]===0){l={version:{major:D[5],minor:D[6]},densityUnits:D[7],xDensity:D[8]<<8|D[9],yDensity:D[10]<<8|D[11],thumbWidth:D[12],thumbHeight:D[13],thumbData:D.subarray(14,14+3*D[12]*D[13])}}}if(E===65505){if(D[0]===69&&D[1]===120&&D[2]===105&&D[3]===102&&D[4]===0){this.exifBuffer=D.subarray(5,D.length)}}if(E===65518){if(D[0]===65&&D[1]===100&&D[2]===111&&D[3]===98&&D[4]===101&&D[5]===0){c={version:D[6],flags0:D[7]<<8|D[8],flags1:D[9]<<8|D[10],transformCode:D[11]}}}break;case 65499:var I=a();var C=I+i-2;while(i<C){var k=r[i++];g(64*4);var R=new Int32Array(64);if(k>>4===0){for(A=0;A<64;A++){var P=t[A];R[P]=r[i++]}}else if(k>>4===1){for(A=0;A<64;A++){var P=t[A];R[P]=a()}}else throw new Error("DQT: invalid table spec");y[k&15]=R}break;case 65472:case 65473:case 65474:a();v={};v.extended=E===65473;v.progressive=E===65474;v.precision=r[i++];v.scanLines=a();v.samplesPerLine=a();v.components={};v.componentsOrder=[];var M=v.scanLines*v.samplesPerLine;if(M>n){var L=Math.ceil((M-n)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${L}MP`)}var N=r[i++],F;var j=0,B=0;for(T=0;T<N;T++){F=r[i];var U=r[i+1]>>4;var z=r[i+1]&15;var $=r[i+2];if(U<=0||z<=0){throw new Error("Invalid sampling factor, expected values above 0")}v.componentsOrder.push(F);v.components[F]={h:U,v:z,quantizationIdx:$};i+=3}u(v);b.push(v);break;case 65476:var G=a();for(T=2;T<G;){var H=r[i++];var W=new Uint8Array(16);var V=0;for(A=0;A<16;A++,i++){V+=W[A]=r[i]}g(16+V);var q=new Uint8Array(V);for(A=0;A<V;A++,i++)q[A]=r[i];T+=17+V;(H>>4===0?w:_)[H&15]=f(W,q)}break;case 65501:a();m=a();break;case 65500:a();a();break;case 65498:var J=a();var Y=r[i++];var K=[],X;for(T=0;T<Y;T++){X=v.components[r[i++]];var Z=r[i++];X.huffmanTableDC=w[Z>>4];X.huffmanTableAC=_[Z&15];K.push(X)}var Q=r[i++];var ee=r[i++];var te=r[i++];var re=h(r,i,v,K,m,Q,ee,te>>4,te&15,this.opts);i+=re;break;case 65535:if(r[i]!==255){i--}break;default:if(r[i-3]==255&&r[i-2]>=192&&r[i-2]<=254){i-=3;break}else if(E===224||E==225){if(S!==-1){throw new Error(`first unknown JPEG marker at offset ${S.toString(16)}, second unknown JPEG marker ${E.toString(16)} at offset ${(i-1).toString(16)}`)}S=i-1;const e=a();if(r[i+e-2]===255){i+=e-2;break}}throw new Error("unknown JPEG marker "+E.toString(16))}E=a()}if(b.length!=1)throw new Error("only single frame JPEGs supported");for(var T=0;T<b.length;T++){var ne=b[T].components;for(var A in ne){ne[A].quantizationTable=y[ne[A].quantizationIdx];delete ne[A].quantizationIdx}}this.width=v.samplesPerLine;this.height=v.scanLines;this.jfif=l;this.adobe=c;this.components=[];for(var T=0;T<v.componentsOrder.length;T++){var X=v.components[v.componentsOrder[T]];this.components.push({lines:d(v,X),scaleX:X.h/v.maxH,scaleY:X.v/v.maxV})}},getData:function e(t,r){var n=this.width/t,i=this.height/r;var o,a,s,u;var l,c,f,h;var d,v;var m=0;var y,b,_,w,E,S,T,A,x,D;var O;var I=t*r*this.components.length;g(I);var C=new Uint8Array(I);switch(this.components.length){case 1:o=this.components[0];for(v=0;v<r;v++){l=o.lines[0|v*o.scaleY*i];for(d=0;d<t;d++){y=l[0|d*o.scaleX*n];C[m++]=y}}break;case 2:o=this.components[0];a=this.components[1];for(v=0;v<r;v++){l=o.lines[0|v*o.scaleY*i];c=a.lines[0|v*a.scaleY*i];for(d=0;d<t;d++){y=l[0|d*o.scaleX*n];C[m++]=y;y=c[0|d*a.scaleX*n];C[m++]=y}}break;case 3:O=true;if(this.adobe&&this.adobe.transformCode)O=true;else if(typeof this.opts.colorTransform!=="undefined")O=!!this.opts.colorTransform;o=this.components[0];a=this.components[1];s=this.components[2];for(v=0;v<r;v++){l=o.lines[0|v*o.scaleY*i];c=a.lines[0|v*a.scaleY*i];f=s.lines[0|v*s.scaleY*i];for(d=0;d<t;d++){if(!O){A=l[0|d*o.scaleX*n];x=c[0|d*a.scaleX*n];D=f[0|d*s.scaleX*n]}else{y=l[0|d*o.scaleX*n];b=c[0|d*a.scaleX*n];_=f[0|d*s.scaleX*n];A=p(y+1.402*(_-128));x=p(y-.3441363*(b-128)-.71413636*(_-128));D=p(y+1.772*(b-128))}C[m++]=A;C[m++]=x;C[m++]=D}}break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");O=false;if(this.adobe&&this.adobe.transformCode)O=true;else if(typeof this.opts.colorTransform!=="undefined")O=!!this.opts.colorTransform;o=this.components[0];a=this.components[1];s=this.components[2];u=this.components[3];for(v=0;v<r;v++){l=o.lines[0|v*o.scaleY*i];c=a.lines[0|v*a.scaleY*i];f=s.lines[0|v*s.scaleY*i];h=u.lines[0|v*u.scaleY*i];for(d=0;d<t;d++){if(!O){E=l[0|d*o.scaleX*n];S=c[0|d*a.scaleX*n];T=f[0|d*s.scaleX*n];w=h[0|d*u.scaleX*n]}else{y=l[0|d*o.scaleX*n];b=c[0|d*a.scaleX*n];_=f[0|d*s.scaleX*n];w=h[0|d*u.scaleX*n];E=255-p(y+1.402*(_-128));S=255-p(y-.3441363*(b-128)-.71413636*(_-128));T=255-p(y+1.772*(b-128))}C[m++]=255-E;C[m++]=255-S;C[m++]=255-T;C[m++]=255-w}}break;default:throw new Error("Unsupported color mode")}return C},copyToImageData:function e(t,r){var n=t.width,i=t.height;var o=t.data;var a=this.getData(n,i);var s=0,u=0,l,c;var f,h,d,v,m,g,y;switch(this.components.length){case 1:for(c=0;c<i;c++){for(l=0;l<n;l++){f=a[s++];o[u++]=f;o[u++]=f;o[u++]=f;if(r){o[u++]=255}}}break;case 3:for(c=0;c<i;c++){for(l=0;l<n;l++){m=a[s++];g=a[s++];y=a[s++];o[u++]=m;o[u++]=g;o[u++]=y;if(r){o[u++]=255}}}break;case 4:for(c=0;c<i;c++){for(l=0;l<n;l++){d=a[s++];v=a[s++];f=a[s++];h=a[s++];m=255-p(d*(1-h/255)+h);g=255-p(v*(1-h/255)+h);y=255-p(f*(1-h/255)+h);o[u++]=m;o[u++]=g;o[u++]=y;if(r){o[u++]=255}}}break;default:throw new Error("Unsupported color mode")}}};var v=0;var m=0;function g(e=0){var t=v+e;if(t>m){var r=Math.ceil((t-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}v=t}c.resetMaxMemoryUsage=function(e){v=0;m=e};c.getBytesAllocated=function(){return v};c.requestMemoryAllocation=g;return c}();if(true){e.exports=n}else{}function n(e,n={}){var i={colorTransform:undefined,useTArray:false,formatAsRGBA:true,tolerantDecoding:true,maxResolutionInMP:100,maxMemoryUsageInMB:512};var o={...i,...n};var a=new Uint8Array(e);var s=new r;s.opts=o;r.resetMaxMemoryUsage(o.maxMemoryUsageInMB*1024*1024);s.parse(a);var u=o.formatAsRGBA?4:3;var l=s.width*s.height*u;try{r.requestMemoryAllocation(l);var c={width:s.width,height:s.height,exifBuffer:s.exifBuffer,data:o.useTArray?new Uint8Array(l):t.alloc(l)};if(s.comments.length>0){c["comments"]=s.comments}}catch(e){if(e instanceof RangeError){throw new Error("Could not allocate enough memory for the image. "+"Required: "+l)}if(e instanceof ReferenceError){if(e.message==="Buffer is not defined"){throw new Error("Buffer is not globally defined in this environment. "+"Consider setting useTArray to true")}}throw e}s.copyToImageData(c,o.formatAsRGBA);return c}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(17));var o=r(253);var a=r(4);var s="image/png";var u=-1;var l=0;var c=1;var f=2;var h=3;var d=4;var p=function e(){return{mime:(0,i["default"])({},s,["png"]),constants:{MIME_PNG:s,PNG_FILTER_AUTO:u,PNG_FILTER_NONE:l,PNG_FILTER_SUB:c,PNG_FILTER_UP:f,PNG_FILTER_AVERAGE:h,PNG_FILTER_PATH:d},hasAlpha:(0,i["default"])({},s,true),decoders:(0,i["default"])({},s,o.PNG.sync.read),encoders:(0,i["default"])({},s,(function(e){var t=new o.PNG({width:e.bitmap.width,height:e.bitmap.height});t.data=e.bitmap.data;return o.PNG.sync.write(t,{width:e.bitmap.width,height:e.bitmap.height,deflateLevel:e._deflateLevel,deflateStrategy:e._deflateStrategy,filterType:e._filterType,colorType:typeof e._colorType==="number"?e._colorType:e._rgba?6:2,inputHasAlpha:e._rgba})})),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:u,_colorType:null,deflateLevel:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"l must be a number",r)}if(t<0||t>9){return a.throwError.call(this,"l must be a number 0 - 9",r)}this._deflateLevel=Math.round(t);if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},deflateStrategy:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"s must be a number",r)}if(t<0||t>3){return a.throwError.call(this,"s must be a number 0 - 3",r)}this._deflateStrategy=Math.round(t);if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},filterType:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"n must be a number",r)}if(t<-1||t>4){return a.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",r)}this._filterType=Math.round(t);if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},colorType:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"s must be a number",r)}if(t!==0&&t!==2&&t!==4&&t!==6){return a.throwError.call(this,"s must be a number 0, 2, 4, 6.",r)}this._colorType=Math.round(t);if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this}}}};t["default"]=p},function(e,t,r){"use strict";(function(e,n){var i=r(15);var o=r(29);var a=r(254);var s=r(256);var u=r(259);var l=t.PNG=function(t){o.call(this);t=t||{};this.width=t.width|0;this.height=t.height|0;this.data=this.width>0&&this.height>0?new e(4*this.width*this.height):null;if(t.fill&&this.data){this.data.fill(0)}this.gamma=0;this.readable=this.writable=true;this._parser=new a(t);this._parser.on("error",this.emit.bind(this,"error"));this._parser.on("close",this._handleClose.bind(this));this._parser.on("metadata",this._metadata.bind(this));this._parser.on("gamma",this._gamma.bind(this));this._parser.on("parsed",function(e){this.data=e;this.emit("parsed",e)}.bind(this));this._packer=new s(t);this._packer.on("data",this.emit.bind(this,"data"));this._packer.on("end",this.emit.bind(this,"end"));this._parser.on("close",this._handleClose.bind(this));this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(l,o);l.sync=u;l.prototype.pack=function(){if(!this.data||!this.data.length){this.emit("error","No data provided");return this}n.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this));return this};l.prototype.parse=function(e,t){if(t){var r,n;r=function(e){this.removeListener("error",n);this.data=e;t(null,this)}.bind(this);n=function(e){this.removeListener("parsed",r);t(e,null)}.bind(this);this.once("parsed",r);this.once("error",n)}this.end(e);return this};l.prototype.write=function(e){this._parser.write(e);return true};l.prototype.end=function(e){this._parser.end(e)};l.prototype._metadata=function(e){this.width=e.width;this.height=e.height;this.emit("metadata",e)};l.prototype._gamma=function(e){this.gamma=e};l.prototype._handleClose=function(){if(!this._parser.writable&&!this._packer.readable){this.emit("close")}};l.bitblt=function(e,t,r,n,i,o,a,s){r|=0;n|=0;i|=0;o|=0;a|=0;s|=0;if(r>e.width||n>e.height||r+i>e.width||n+o>e.height){throw new Error("bitblt reading outside image")}if(a>t.width||s>t.height||a+i>t.width||s+o>t.height){throw new Error("bitblt writing outside image")}for(var u=0;u<o;u++){e.data.copy(t.data,(s+u)*t.width+a<<2,(n+u)*e.width+r<<2,(n+u)*e.width+r+i<<2)}};l.prototype.bitblt=function(e,t,r,n,i,o,a){l.bitblt(this,e,t,r,n,i,o,a);return this};l.adjustGamma=function(e){if(e.gamma){for(var t=0;t<e.height;t++){for(var r=0;r<e.width;r++){var n=e.width*t+r<<2;for(var i=0;i<3;i++){var o=e.data[n+i]/255;o=Math.pow(o,1/2.2/e.gamma);e.data[n+i]=Math.round(o*255)}}}e.gamma=0}};l.prototype.adjustGamma=function(){l.adjustGamma(this)}}).call(this,r(1).Buffer,r(3))},function(e,t,r){"use strict";var n=r(15);var i=r(24);var o=r(111);var a=r(255);var s=r(115);var u=r(117);var l=r(118);var c=e.exports=function(e){o.call(this);this._parser=new s(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)});this._options=e;this.writable=true;this._parser.start()};n.inherits(c,o);c.prototype._handleError=function(e){this.emit("error",e);this.writable=false;this.destroy();if(this._inflate&&this._inflate.destroy){this._inflate.destroy()}if(this._filter){this._filter.destroy();this._filter.on("error",(function(){}))}this.errord=true};c.prototype._inflateData=function(e){if(!this._inflate){if(this._bitmapInfo.interlace){this._inflate=i.createInflate();this._inflate.on("error",this.emit.bind(this,"error"));this._filter.on("complete",this._complete.bind(this));this._inflate.pipe(this._filter)}else{var t=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1;var r=t*this._bitmapInfo.height;var n=Math.max(r,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:n});var o=r;var a=this.emit.bind(this,"error");this._inflate.on("error",(function(e){if(!o){return}a(e)}));this._filter.on("complete",this._complete.bind(this));var s=this._filter.write.bind(this._filter);this._inflate.on("data",(function(e){if(!o){return}if(e.length>o){e=e.slice(0,o)}o-=e.length;s(e)}));this._inflate.on("end",this._filter.end.bind(this._filter))}}this._inflate.write(e)};c.prototype._handleMetaData=function(e){this._metaData=e;this._bitmapInfo=Object.create(e);this._filter=new a(this._bitmapInfo)};c.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e};c.prototype._handlePalette=function(e){this._bitmapInfo.palette=e};c.prototype._simpleTransparency=function(){this._metaData.alpha=true};c.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};c.prototype._finished=function(){if(this.errord){return}if(!this._inflate){this.emit("error","No Inflate block")}else{this._inflate.end()}this.destroySoon()};c.prototype._complete=function(e){if(this.errord){return}try{var t=u.dataToBitMap(e,this._bitmapInfo);var r=l(t,this._bitmapInfo);t=null}catch(e){this._handleError(e);return}this.emit("parsed",r)}},function(e,t,r){"use strict";(function(t){var n=r(15);var i=r(111);var o=r(112);var a=e.exports=function(e){i.call(this);var r=[];var n=this;this._filter=new o(e,{read:this.read.bind(this),write:function(e){r.push(e)},complete:function(){n.emit("complete",t.concat(r))}});this._filter.start()};n.inherits(a,i)}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(15);var i=r(29);var o=r(34);var a=r(119);var s=e.exports=function(e){i.call(this);var t=e||{};this._packer=new a(t);this._deflate=this._packer.createDeflate();this.readable=true};n.inherits(s,i);s.prototype.pack=function(e,r,n,i){this.emit("data",new t(o.PNG_SIGNATURE));this.emit("data",this._packer.packIHDR(r,n));if(i){this.emit("data",this._packer.packGAMA(i))}var a=this._packer.filterData(e,r,n);this._deflate.on("error",this.emit.bind(this,"error"));this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this));this._deflate.on("end",function(){this.emit("data",this._packer.packIEND());this.emit("end")}.bind(this));this._deflate.end(a)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(34);e.exports=function(e,r,i,o){var a=[n.COLORTYPE_COLOR_ALPHA,n.COLORTYPE_ALPHA].indexOf(o.colorType)!==-1;if(o.colorType===o.inputColorType){var s=function(){var e=new ArrayBuffer(2);new DataView(e).setInt16(0,256,true);return new Int16Array(e)[0]!==256}();if(o.bitDepth===8||o.bitDepth===16&&s){return e}}var u=o.bitDepth!==16?e:new Uint16Array(e.buffer);var l=255;var c=n.COLORTYPE_TO_BPP_MAP[o.inputColorType];if(c===4&&!o.inputHasAlpha){c=3}var f=n.COLORTYPE_TO_BPP_MAP[o.colorType];if(o.bitDepth===16){l=65535;f*=2}var h=new t(r*i*f);var d=0;var p=0;var v=o.bgColor||{};if(v.red===undefined){v.red=l}if(v.green===undefined){v.green=l}if(v.blue===undefined){v.blue=l}function m(){var e;var t;var r;var i=l;switch(o.inputColorType){case n.COLORTYPE_COLOR_ALPHA:i=u[d+3];e=u[d];t=u[d+1];r=u[d+2];break;case n.COLORTYPE_COLOR:e=u[d];t=u[d+1];r=u[d+2];break;case n.COLORTYPE_ALPHA:i=u[d+1];e=u[d];t=e;r=e;break;case n.COLORTYPE_GRAYSCALE:e=u[d];t=e;r=e;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}if(o.inputHasAlpha){if(!a){i/=l;e=Math.min(Math.max(Math.round((1-i)*v.red+i*e),0),l);t=Math.min(Math.max(Math.round((1-i)*v.green+i*t),0),l);r=Math.min(Math.max(Math.round((1-i)*v.blue+i*r),0),l)}}return{red:e,green:t,blue:r,alpha:i}}for(var g=0;g<i;g++){for(var y=0;y<r;y++){var b=m(u,d);switch(o.colorType){case n.COLORTYPE_COLOR_ALPHA:case n.COLORTYPE_COLOR:if(o.bitDepth===8){h[p]=b.red;h[p+1]=b.green;h[p+2]=b.blue;if(a){h[p+3]=b.alpha}}else{h.writeUInt16BE(b.red,p);h.writeUInt16BE(b.green,p+2);h.writeUInt16BE(b.blue,p+4);if(a){h.writeUInt16BE(b.alpha,p+6)}}break;case n.COLORTYPE_ALPHA:case n.COLORTYPE_GRAYSCALE:var _=(b.red+b.green+b.blue)/3;if(o.bitDepth===8){h[p]=_;if(a){h[p+1]=b.alpha}}else{h.writeUInt16BE(_,p);if(a){h.writeUInt16BE(b.alpha,p+2)}}break;default:throw new Error("unrecognised color Type "+o.colorType)}d+=c;p+=f}}return h}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=r(114);function i(e,t,r,n,i){for(var o=0;o<r;o++){n[i+o]=e[t+o]}}function o(e,t,r){var n=0;var i=t+r;for(var o=t;o<i;o++){n+=Math.abs(e[o])}return n}function a(e,t,r,n,i,o){for(var a=0;a<r;a++){var s=a>=o?e[t+a-o]:0;var u=e[t+a]-s;n[i+a]=u}}function s(e,t,r,n){var i=0;for(var o=0;o<r;o++){var a=o>=n?e[t+o-n]:0;var s=e[t+o]-a;i+=Math.abs(s)}return i}function u(e,t,r,n,i){for(var o=0;o<r;o++){var a=t>0?e[t+o-r]:0;var s=e[t+o]-a;n[i+o]=s}}function l(e,t,r){var n=0;var i=t+r;for(var o=t;o<i;o++){var a=t>0?e[o-r]:0;var s=e[o]-a;n+=Math.abs(s)}return n}function c(e,t,r,n,i,o){for(var a=0;a<r;a++){var s=a>=o?e[t+a-o]:0;var u=t>0?e[t+a-r]:0;var l=e[t+a]-(s+u>>1);n[i+a]=l}}function f(e,t,r,n){var i=0;for(var o=0;o<r;o++){var a=o>=n?e[t+o-n]:0;var s=t>0?e[t+o-r]:0;var u=e[t+o]-(a+s>>1);i+=Math.abs(u)}return i}function h(e,t,r,i,o,a){for(var s=0;s<r;s++){var u=s>=a?e[t+s-a]:0;var l=t>0?e[t+s-r]:0;var c=t>0&&s>=a?e[t+s-(r+a)]:0;var f=e[t+s]-n(u,l,c);i[o+s]=f}}function d(e,t,r,i){var o=0;for(var a=0;a<r;a++){var s=a>=i?e[t+a-i]:0;var u=t>0?e[t+a-r]:0;var l=t>0&&a>=i?e[t+a-(r+i)]:0;var c=e[t+a]-n(s,u,l);o+=Math.abs(c)}return o}var p={0:i,1:a,2:u,3:c,4:h};var v={0:o,1:s,2:l,3:f,4:d};e.exports=function(e,r,n,i,o){var a;if(!("filterType"in i)||i.filterType===-1){a=[0,1,2,3,4]}else if(typeof i.filterType==="number"){a=[i.filterType]}else{throw new Error("unrecognised filter types")}if(i.bitDepth===16){o*=2}var s=r*o;var u=0;var l=0;var c=new t((s+1)*n);var f=a[0];for(var h=0;h<n;h++){if(a.length>1){var d=Infinity;for(var m=0;m<a.length;m++){var g=v[a[m]](e,l,s,o);if(g<d){f=a[m];d=g}}}c[u]=f;u++;p[f](e,l,s,c,u,o);u+=s;l+=s}return c}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(260);var i=r(263);t.read=function(e,t){return n(e,t||{})};t.write=function(e,t){return i(e,t)}},function(e,t,r){"use strict";(function(t){var n=true;var i=r(24);var o=r(261);if(!i.deflateSync){n=false}var a=r(120);var s=r(262);var u=r(115);var l=r(117);var c=r(118);e.exports=function(e,r){if(!n){throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0")}var f;function h(e){f=e}var d;function p(e){d=e}function v(e){d.transColor=e}function m(e){d.palette=e}function g(){d.alpha=true}var y;function b(e){y=e}var _=[];function w(e){_.push(e)}var E=new a(e);var S=new u(r,{read:E.read.bind(E),error:h,metadata:p,gamma:b,palette:m,transColor:v,inflateData:w,simpleTransparency:g});S.start();E.process();if(f){throw f}var T=t.concat(_);_.length=0;var A;if(d.interlace){A=i.inflateSync(T)}else{var x=(d.width*d.bpp*d.depth+7>>3)+1;var D=x*d.height;A=o(T,{chunkSize:D,maxLength:D})}T=null;if(!A||!A.length){throw new Error("bad png - invalid inflate data response")}var O=s.process(A,d);T=null;var I=l.dataToBitMap(O,d);O=null;var C=c(I,d);d.data=C;d.gamma=y||0;return d}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(n,i){var o=r(64).ok;var a=r(24);var s=r(15);var u=r(1).kMaxLength;function l(e){if(!(this instanceof l)){return new l(e)}if(e&&e.chunkSize<a.Z_MIN_CHUNK){e.chunkSize=a.Z_MIN_CHUNK}a.Inflate.call(this,e);this._offset=this._offset===undefined?this._outOffset:this._offset;this._buffer=this._buffer||this._outBuffer;if(e&&e.maxLength!=null){this._maxLength=e.maxLength}}function c(e){return new l(e)}function f(e,t){if(t){n.nextTick(t)}if(!e._handle){return}e._handle.close();e._handle=null}l.prototype._processChunk=function(e,t,r){if(typeof r==="function"){return a.Inflate._processChunk.call(this,e,t,r)}var n=this;var s=e&&e.length;var l=this._chunkSize-this._offset;var c=this._maxLength;var h=0;var d=[];var p=0;var v;this.on("error",(function(e){v=e}));function m(e,t){if(n._hadError){return}var r=l-t;o(r>=0,"have should not go down");if(r>0){var a=n._buffer.slice(n._offset,n._offset+r);n._offset+=r;if(a.length>c){a=a.slice(0,c)}d.push(a);p+=a.length;c-=a.length;if(c===0){return false}}if(t===0||n._offset>=n._chunkSize){l=n._chunkSize;n._offset=0;n._buffer=i.allocUnsafe(n._chunkSize)}if(t===0){h+=s-e;s=e;return true}return false}o(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,h,s,this._buffer,this._offset,l);g=g||this._writeState}while(!this._hadError&&m(g[0],g[1]));if(this._hadError){throw v}if(p>=u){f(this);throw new RangeError("Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes")}var y=i.concat(d,p);f(this);return y};s.inherits(l,a.Inflate);function h(e,t){if(typeof t==="string"){t=i.from(t)}if(!(t instanceof i)){throw new TypeError("Not a string or buffer")}var r=e._finishFlushFlag;if(r==null){r=a.Z_FINISH}return e._processChunk(t,r)}function d(e,t){return h(new l(t),e)}e.exports=t=d;t.Inflate=l;t.createInflate=c;t.inflateSync=d}).call(this,r(3),r(1).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(120);var i=r(112);t.process=function(t,r){var o=[];var a=new n(t);var s=new i(r,{read:a.read.bind(a),write:function(e){o.push(e)},complete:function(){}});s.start();a.process();return e.concat(o)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(t){var n=true;var i=r(24);if(!i.deflateSync){n=false}var o=r(34);var a=r(119);e.exports=function(e,r){if(!n){throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0")}var s=r||{};var u=new a(s);var l=[];l.push(new t(o.PNG_SIGNATURE));l.push(u.packIHDR(e.width,e.height));if(e.gamma){l.push(u.packGAMA(e.gamma))}var c=u.filterData(e.data,e.width,e.height);var f=i.deflateSync(c,u.getDeflateOptions());c=null;if(!f||!f.length){throw new Error("bad png - invalid compressed data response")}l.push(u.packIDAT(f));l.push(u.packIEND());return t.concat(l)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(17));var o=n(r(265));var a=r(4);var s="image/bmp";var u="image/x-ms-bmp";function l(e){return(0,a.scan)(e,0,0,e.bitmap.width,e.bitmap.height,(function(e,t,r){var n=this.bitmap.data[r+0];var i=this.bitmap.data[r+1];var o=this.bitmap.data[r+2];var a=this.bitmap.data[r+3];this.bitmap.data[r+0]=a;this.bitmap.data[r+1]=o;this.bitmap.data[r+2]=i;this.bitmap.data[r+3]=n})).bitmap}function c(e){return(0,a.scan)({bitmap:e},0,0,e.width,e.height,(function(t,r,n){var i=this.bitmap.data[n+0];var o=this.bitmap.data[n+1];var a=this.bitmap.data[n+2];var s=this.bitmap.data[n+3];this.bitmap.data[n+0]=s;this.bitmap.data[n+1]=a;this.bitmap.data[n+2]=o;this.bitmap.data[n+3]=e.is_with_alpha?i:255})).bitmap}var f=function e(t){return c(o["default"].decode(t))};var h=function e(t){return o["default"].encode(l(t)).data};var d=function e(){var t,r;return{mime:(0,i["default"])({},s,["bmp"]),constants:{MIME_BMP:s,MIME_X_MS_BMP:u},decoders:(t={},(0,i["default"])(t,s,f),(0,i["default"])(t,u,f),t),encoders:(r={},(0,i["default"])(r,s,h),(0,i["default"])(r,u,h),r)}};t["default"]=d},function(e,t,r){var n=r(266),i=r(267);e.exports={encode:n,decode:i}},function(e,t,r){(function(t){function r(e){this.buffer=e.data;this.width=e.width;this.height=e.height;this.extraBytes=this.width%4;this.rgbSize=this.height*(3*this.width+this.extraBytes);this.headerInfoSize=40;this.data=[];this.flag="BM";this.reserved=0;this.offset=54;this.fileSize=this.rgbSize+this.offset;this.planes=1;this.bitPP=24;this.compress=0;this.hr=0;this.vr=0;this.colors=0;this.importantColors=0}r.prototype.encode=function(){var e=new t(this.offset+this.rgbSize);this.pos=0;e.write(this.flag,this.pos,2);this.pos+=2;e.writeUInt32LE(this.fileSize,this.pos);this.pos+=4;e.writeUInt32LE(this.reserved,this.pos);this.pos+=4;e.writeUInt32LE(this.offset,this.pos);this.pos+=4;e.writeUInt32LE(this.headerInfoSize,this.pos);this.pos+=4;e.writeUInt32LE(this.width,this.pos);this.pos+=4;e.writeInt32LE(-this.height,this.pos);this.pos+=4;e.writeUInt16LE(this.planes,this.pos);this.pos+=2;e.writeUInt16LE(this.bitPP,this.pos);this.pos+=2;e.writeUInt32LE(this.compress,this.pos);this.pos+=4;e.writeUInt32LE(this.rgbSize,this.pos);this.pos+=4;e.writeUInt32LE(this.hr,this.pos);this.pos+=4;e.writeUInt32LE(this.vr,this.pos);this.pos+=4;e.writeUInt32LE(this.colors,this.pos);this.pos+=4;e.writeUInt32LE(this.importantColors,this.pos);this.pos+=4;var r=0;var n=3*this.width+this.extraBytes;for(var i=0;i<this.height;i++){for(var o=0;o<this.width;o++){var a=this.pos+i*n+o*3;r++;e[a]=this.buffer[r++];e[a+1]=this.buffer[r++];e[a+2]=this.buffer[r++]}if(this.extraBytes>0){var s=this.pos+i*n+this.width*3;e.fill(0,s,s+this.extraBytes)}}return e};e.exports=function(e,t){if(typeof t==="undefined")t=100;var n=new r(e);var i=n.encode();return{data:i,width:e.width,height:e.height}}}).call(this,r(1).Buffer)},function(e,t,r){(function(t){function r(e,t){this.pos=0;this.buffer=e;this.is_with_alpha=!!t;this.bottom_up=true;this.flag=this.buffer.toString("utf-8",0,this.pos+=2);if(this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader();this.parseRGBA()}r.prototype.parseHeader=function(){this.fileSize=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.reserved=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.offset=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.headerSize=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.width=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.height=this.buffer.readInt32LE(this.pos);this.pos+=4;this.planes=this.buffer.readUInt16LE(this.pos);this.pos+=2;this.bitPP=this.buffer.readUInt16LE(this.pos);this.pos+=2;this.compress=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.rawSize=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.hr=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.vr=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.colors=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.importantColors=this.buffer.readUInt32LE(this.pos);this.pos+=4;if(this.bitPP===16&&this.is_with_alpha){this.bitPP=15}if(this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.buffer.readUInt8(this.pos++);var n=this.buffer.readUInt8(this.pos++);var i=this.buffer.readUInt8(this.pos++);var o=this.buffer.readUInt8(this.pos++);this.palette[t]={red:i,green:n,blue:r,quad:o}}}if(this.height<0){this.height*=-1;this.bottom_up=false}};r.prototype.parseRGBA=function(){var e="bit"+this.bitPP;var r=this.width*this.height*4;this.data=new t(r);this[e]()};r.prototype.bit1=function(){var e=Math.ceil(this.width/8);var t=e%4;var r=this.height>=0?this.height-1:-this.height;for(var r=this.height-1;r>=0;r--){var n=this.bottom_up?r:this.height-1-r;for(var i=0;i<e;i++){var o=this.buffer.readUInt8(this.pos++);var a=n*this.width*4+i*8*4;for(var s=0;s<8;s++){if(i*8+s<this.width){var u=this.palette[o>>7-s&1];this.data[a+s*4]=0;this.data[a+s*4+1]=u.blue;this.data[a+s*4+2]=u.green;this.data[a+s*4+3]=u.red}else{break}}}if(t!=0){this.pos+=4-t}}};r.prototype.bit4=function(){if(this.compress==2){this.data.fill(255);var e=0;var t=this.bottom_up?this.height-1:0;var r=false;while(e<this.data.length){var n=this.buffer.readUInt8(this.pos++);var i=this.buffer.readUInt8(this.pos++);if(n==0){if(i==0){if(this.bottom_up){t--}else{t++}e=t*this.width*4;r=false;continue}else if(i==1){break}else if(i==2){var o=this.buffer.readUInt8(this.pos++);var a=this.buffer.readUInt8(this.pos++);if(this.bottom_up){t-=a}else{t+=a}e+=a*this.width*4+o*4}else{var s=this.buffer.readUInt8(this.pos++);for(var u=0;u<i;u++){if(r){l.call(this,s&15)}else{l.call(this,(s&240)>>4)}if(u&1&&u+1<i){s=this.buffer.readUInt8(this.pos++)}r=!r}if((i+1>>1&1)==1){this.pos++}}}else{for(var u=0;u<n;u++){if(r){l.call(this,i&15)}else{l.call(this,(i&240)>>4)}r=!r}}}function l(t){var r=this.palette[t];this.data[e]=0;this.data[e+1]=r.blue;this.data[e+2]=r.green;this.data[e+3]=r.red;e+=4}}else{var c=Math.ceil(this.width/2);var f=c%4;for(var a=this.height-1;a>=0;a--){var h=this.bottom_up?a:this.height-1-a;for(var o=0;o<c;o++){var i=this.buffer.readUInt8(this.pos++);var e=h*this.width*4+o*2*4;var d=i>>4;var p=i&15;var v=this.palette[d];this.data[e]=0;this.data[e+1]=v.blue;this.data[e+2]=v.green;this.data[e+3]=v.red;if(o*2+1>=this.width)break;v=this.palette[p];this.data[e+4]=0;this.data[e+4+1]=v.blue;this.data[e+4+2]=v.green;this.data[e+4+3]=v.red}if(f!=0){this.pos+=4-f}}}};r.prototype.bit8=function(){if(this.compress==1){this.data.fill(255);var e=0;var t=this.bottom_up?this.height-1:0;while(e<this.data.length){var r=this.buffer.readUInt8(this.pos++);var n=this.buffer.readUInt8(this.pos++);if(r==0){if(n==0){if(this.bottom_up){t--}else{t++}e=t*this.width*4;continue}else if(n==1){break}else if(n==2){var i=this.buffer.readUInt8(this.pos++);var o=this.buffer.readUInt8(this.pos++);if(this.bottom_up){t-=o}else{t+=o}e+=o*this.width*4+i*4}else{for(var a=0;a<n;a++){var s=this.buffer.readUInt8(this.pos++);u.call(this,s)}if(n&1==1){this.pos++}}}else{for(var a=0;a<r;a++){u.call(this,n)}}}function u(t){var r=this.palette[t];this.data[e]=0;this.data[e+1]=r.blue;this.data[e+2]=r.green;this.data[e+3]=r.red;e+=4}}else{var l=this.width%4;for(var o=this.height-1;o>=0;o--){var c=this.bottom_up?o:this.height-1-o;for(var i=0;i<this.width;i++){var n=this.buffer.readUInt8(this.pos++);var e=c*this.width*4+i*4;if(n<this.palette.length){var f=this.palette[n];this.data[e]=0;this.data[e+1]=f.blue;this.data[e+2]=f.green;this.data[e+3]=f.red}else{this.data[e]=0;this.data[e+1]=255;this.data[e+2]=255;this.data[e+3]=255}}if(l!=0){this.pos+=4-l}}}};r.prototype.bit15=function(){var e=this.width%3;var t=parseInt("11111",2),r=t;for(var n=this.height-1;n>=0;n--){var i=this.bottom_up?n:this.height-1-n;for(var o=0;o<this.width;o++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&r)/r*255|0;var u=(a>>5&r)/r*255|0;var l=(a>>10&r)/r*255|0;var c=a>>15?255:0;var f=i*this.width*4+o*4;this.data[f]=c;this.data[f+1]=s;this.data[f+2]=u;this.data[f+3]=l}this.pos+=e}};r.prototype.bit16=function(){var e=this.width%2*2;this.maskRed=31744;this.maskGreen=992;this.maskBlue=31;this.mask0=0;if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.maskGreen=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.maskBlue=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.mask0=this.buffer.readUInt32LE(this.pos);this.pos+=4}var t=[0,0,0];for(var r=0;r<16;r++){if(this.maskRed>>r&1)t[0]++;if(this.maskGreen>>r&1)t[1]++;if(this.maskBlue>>r&1)t[2]++}t[1]+=t[0];t[2]+=t[1];t[0]=8-t[0];t[1]-=8;t[2]-=8;for(var n=this.height-1;n>=0;n--){var i=this.bottom_up?n:this.height-1-n;for(var o=0;o<this.width;o++){var a=this.buffer.readUInt16LE(this.pos);this.pos+=2;var s=(a&this.maskBlue)<<t[0];var u=(a&this.maskGreen)>>t[1];var l=(a&this.maskRed)>>t[2];var c=i*this.width*4+o*4;this.data[c]=0;this.data[c+1]=s;this.data[c+2]=u;this.data[c+3]=l}this.pos+=e}};r.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){var t=this.bottom_up?e:this.height-1-e;for(var r=0;r<this.width;r++){var n=this.buffer.readUInt8(this.pos++);var i=this.buffer.readUInt8(this.pos++);var o=this.buffer.readUInt8(this.pos++);var a=t*this.width*4+r*4;this.data[a]=0;this.data[a+1]=n;this.data[a+2]=i;this.data[a+3]=o}this.pos+=this.width%4}};r.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.maskGreen=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.maskBlue=this.buffer.readUInt32LE(this.pos);this.pos+=4;this.mask0=this.buffer.readUInt32LE(this.pos);this.pos+=4;for(var e=this.height-1;e>=0;e--){var t=this.bottom_up?e:this.height-1-e;for(var r=0;r<this.width;r++){var n=this.buffer.readUInt8(this.pos++);var i=this.buffer.readUInt8(this.pos++);var o=this.buffer.readUInt8(this.pos++);var a=this.buffer.readUInt8(this.pos++);var s=t*this.width*4+r*4;this.data[s]=n;this.data[s+1]=i;this.data[s+2]=o;this.data[s+3]=a}}}else{for(var e=this.height-1;e>=0;e--){var t=this.bottom_up?e:this.height-1-e;for(var r=0;r<this.width;r++){var i=this.buffer.readUInt8(this.pos++);var o=this.buffer.readUInt8(this.pos++);var a=this.buffer.readUInt8(this.pos++);var n=this.buffer.readUInt8(this.pos++);var s=t*this.width*4+r*4;this.data[s]=n;this.data[s+1]=i;this.data[s+2]=o;this.data[s+3]=a}}}};r.prototype.getData=function(){return this.data};e.exports=function(e){var t=new r(e);return t}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(17));var o=n(r(269));var a="image/tiff";var s=function t(){return{mime:(0,i["default"])({},a,["tiff","tif"]),constants:{MIME_TIFF:a},decoders:(0,i["default"])({},a,(function(t){var r=o["default"].decode(t);var n=r[0];o["default"].decodeImages(t,r);var i=o["default"].toRGBA8(n);return{data:e.from(i),width:n.t256[0],height:n.t257[0]}})),encoders:(0,i["default"])({},a,(function(t){var r=o["default"].encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return e.from(r)}))}};t["default"]=s}).call(this,r(1).Buffer)},function(e,t,r){(function(t){(function(){var n={};if(true){e.exports=n}else{}var i;if(true){i=r(69)}else{}function o(){if(typeof t=="undefined"||"production"=="development")console.log.apply(console,arguments)}(function(e,t){(function(){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e){this.message="JPEG error: "+e}e.prototype=Error();e.prototype.name="JpegError";return e.constructor=e}(),n=function(){function e(e,t){this.message=e;this.g=t}e.prototype=Error();e.prototype.name="DNLMarkerError";return e.constructor=e}();(function(){function i(){this.M=null;this.B=-1}function o(e,t){for(var r=0,n=[],i,o,a=16;0<a&&!e[a-1];)a--;n.push({children:[],index:0});var s=n[0],u;for(i=0;i<a;i++){for(o=0;o<e[i];o++){s=n.pop();for(s.children[s.index]=t[r];0<s.index;)s=n.pop();s.index++;for(n.push(s);n.length<=i;)n.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u;r++}i+1<a&&(n.push(u={children:[],index:0}),s.children[s.index]=u.children,s=u)}return n[0].children}function a(e,i,o,a,s,c,f,h,d){function p(){if(0<D)return D--,x>>D&1;x=e[i++];if(255===x){var t=e[i++];if(t){if(220===t&&S){i+=2;var a=e[i++]<<8|e[i++];if(0<a&&a!==o.g)throw new n("Found DNL marker (0xFFDC) while parsing scan data",a)}throw new r("unexpected marker "+(x<<8|t).toString(16))}}D=7;return x>>>7}function v(e){for(;;){e=e[p()];if("number"===typeof e)return e;if("object"!==("undefined"===typeof e?"undefined":t(e)))throw new r("invalid huffman sequence")}}function m(e){for(var t=0;0<e;)t=t<<1|p(),e--;return t}function g(e){if(1===e)return 1===p()?1:-1;var t=m(e);return t>=1<<e-1?t:t+(-1<<e)+1}function y(e,t){var r=v(e.D);r=0===r?0:g(r);e.a[t]=e.m+=r;for(r=1;64>r;){var n=v(e.o),i=n&15;n>>=4;if(0===i){if(15>n)break;r+=16}else r+=n,e.a[t+l[r]]=g(i),r++}}function b(e,t){var r=v(e.D);r=0===r?0:g(r)<<d;e.a[t]=e.m+=r}function _(e,t){e.a[t]|=p()<<d}function w(e,t){if(0<O)O--;else for(var r=c;r<=f;){var n=v(e.o),i=n&15;n>>=4;if(0===i){if(15>n){O=m(n)+(1<<n)-1;break}r+=16}else r+=n,e.a[t+l[r]]=g(i)*(1<<d),r++}}function E(e,t){for(var n=c,i=0,o;n<=f;){o=t+l[n];var a=0>e.a[o]?-1:1;switch(I){case 0:i=v(e.o);o=i&15;i>>=4;if(0===o)15>i?(O=m(i)+(1<<i),I=4):(i=16,I=1);else{if(1!==o)throw new r("invalid ACn encoding");C=g(o);I=i?2:3}continue;case 1:case 2:e.a[o]?e.a[o]+=a*(p()<<d):(i--,0===i&&(I=2===I?3:0));break;case 3:e.a[o]?e.a[o]+=a*(p()<<d):(e.a[o]=C<<d,I=0);break;case 4:e.a[o]&&(e.a[o]+=a*(p()<<d))}n++}4===I&&(O--,0===O&&(I=0))}var S=9<arguments.length&&void 0!==arguments[9]?arguments[9]:!1,T=o.P,A=i,x=0,D=0,O=0,I=0,C,k=a.length,R,P,M,L;var N=o.S?0===c?0===h?b:_:0===h?w:E:y;var F=0;var j=1===k?a[0].c*a[0].l:T*o.O;for(var B,U;F<j;){var z=s?Math.min(j-F,s):j;for(R=0;R<k;R++)a[R].m=0;O=0;if(1===k){var $=a[0];for(L=0;L<z;L++)N($,64*(($.c+1)*(F/$.c|0)+F%$.c)),F++}else for(L=0;L<z;L++){for(R=0;R<k;R++)for($=a[R],B=$.h,U=$.j,P=0;P<U;P++)for(M=0;M<B;M++)N($,64*(($.c+1)*((F/T|0)*$.j+P)+(F%T*$.h+M)));F++}D=0;($=u(e,i))&&$.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+$.f),i=$.offset);$=$&&$.F;if(!$||65280>=$)throw new r("marker was not found");if(65488<=$&&65495>=$)i+=2;else break}($=u(e,i))&&$.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+$.f),i=$.offset);return i-A}function s(e,t){for(var n=t.c,i=t.l,o=new Int16Array(64),a=0;a<i;a++)for(var s=0;s<n;s++){var u=64*((t.c+1)*a+s),l=o,c=t.G,f=t.a;if(!c)throw new r("missing required Quantization Table.");for(var h=0;64>h;h+=8){var d=f[u+h];var p=f[u+h+1];var v=f[u+h+2];var m=f[u+h+3];var g=f[u+h+4];var y=f[u+h+5];var b=f[u+h+6];var _=f[u+h+7];d*=c[h];if(0===(p|v|m|g|y|b|_))d=5793*d+512>>10,l[h]=d,l[h+1]=d,l[h+2]=d,l[h+3]=d,l[h+4]=d,l[h+5]=d,l[h+6]=d,l[h+7]=d;else{p*=c[h+1];v*=c[h+2];m*=c[h+3];g*=c[h+4];y*=c[h+5];b*=c[h+6];_*=c[h+7];var w=5793*d+128>>8;var E=5793*g+128>>8;var S=v;var T=b;g=2896*(p-_)+128>>8;_=2896*(p+_)+128>>8;m<<=4;y<<=4;w=w+E+1>>1;E=w-E;d=3784*S+1567*T+128>>8;S=1567*S-3784*T+128>>8;T=d;g=g+y+1>>1;y=g-y;_=_+m+1>>1;m=_-m;w=w+T+1>>1;T=w-T;E=E+S+1>>1;S=E-S;d=2276*g+3406*_+2048>>12;g=3406*g-2276*_+2048>>12;_=d;d=799*m+4017*y+2048>>12;m=4017*m-799*y+2048>>12;y=d;l[h]=w+_;l[h+7]=w-_;l[h+1]=E+y;l[h+6]=E-y;l[h+2]=S+m;l[h+5]=S-m;l[h+3]=T+g;l[h+4]=T-g}}for(c=0;8>c;++c)d=l[c],p=l[c+8],v=l[c+16],m=l[c+24],g=l[c+32],y=l[c+40],b=l[c+48],_=l[c+56],0===(p|v|m|g|y|b|_)?(d=5793*d+8192>>14,d=-2040>d?0:2024<=d?255:d+2056>>4,f[u+c]=d,f[u+c+8]=d,f[u+c+16]=d,f[u+c+24]=d,f[u+c+32]=d,f[u+c+40]=d,f[u+c+48]=d,f[u+c+56]=d):(w=5793*d+2048>>12,E=5793*g+2048>>12,S=v,T=b,g=2896*(p-_)+2048>>12,_=2896*(p+_)+2048>>12,w=(w+E+1>>1)+4112,E=w-E,d=3784*S+1567*T+2048>>12,S=1567*S-3784*T+2048>>12,T=d,g=g+y+1>>1,y=g-y,_=_+m+1>>1,m=_-m,w=w+T+1>>1,T=w-T,E=E+S+1>>1,S=E-S,d=2276*g+3406*_+2048>>12,g=3406*g-2276*_+2048>>12,_=d,d=799*m+4017*y+2048>>12,m=4017*m-799*y+2048>>12,y=d,d=w+_,_=w-_,p=E+y,b=E-y,v=S+m,y=S-m,m=T+g,g=T-g,d=16>d?0:4080<=d?255:d>>4,p=16>p?0:4080<=p?255:p>>4,v=16>v?0:4080<=v?255:v>>4,m=16>m?0:4080<=m?255:m>>4,g=16>g?0:4080<=g?255:g>>4,y=16>y?0:4080<=y?255:y>>4,b=16>b?0:4080<=b?255:b>>4,_=16>_?0:4080<=_?255:_>>4,f[u+c]=d,f[u+c+8]=p,f[u+c+16]=v,f[u+c+24]=m,f[u+c+32]=g,f[u+c+40]=y,f[u+c+48]=b,f[u+c+56]=_)}return t.a}function u(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:t,n=e.length-1;r=r<t?r:t;if(t>=n)return null;var i=e[t]<<8|e[t+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:t};for(var o=e[r]<<8|e[r+1];!(65472<=o&&65534>=o);){if(++r>=n)return null;o=e[r]<<8|e[r+1]}return{f:i.toString(16),F:o,offset:r}}var l=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);i.prototype={parse:function(e){function t(){var t=e[d]<<8|e[d+1];d+=2;return t}function i(){var r=t();r=d+r-2;var n=u(e,r,d);n&&n.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+n.f),r=n.offset);r=e.subarray(d,r);d+=r.length;return r}function c(e){for(var t=Math.ceil(e.v/8/e.s),r=Math.ceil(e.g/8/e.u),n=0;n<e.b.length;n++){D=e.b[n];var i=Math.ceil(Math.ceil(e.v/8)*D.h/e.s),o=Math.ceil(Math.ceil(e.g/8)*D.j/e.u);D.a=new Int16Array(64*r*D.j*(t*D.h+1));D.c=i;D.l=o}e.P=t;e.O=r}var f=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).N,h=void 0===f?null:f,d=0,p=null,v=0;f=[];var m=[],g=[],y=t();if(65496!==y)throw new r("SOI not found");for(y=t();65497!==y;){switch(y){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var b=i();65518===y&&65===b[0]&&100===b[1]&&111===b[2]&&98===b[3]&&101===b[4]&&(p={version:b[5]<<8|b[6],Y:b[7]<<8|b[8],Z:b[9]<<8|b[10],W:b[11]});break;case 65499:y=t()+d-2;for(var _;d<y;){var w=e[d++],E=new Uint16Array(64);if(0===w>>4)for(b=0;64>b;b++)_=l[b],E[_]=e[d++];else if(1===w>>4)for(b=0;64>b;b++)_=l[b],E[_]=t();else throw new r("DQT - invalid table spec");f[w&15]=E}break;case 65472:case 65473:case 65474:if(S)throw new r("Only single frame JPEGs supported");t();var S={};S.X=65473===y;S.S=65474===y;S.precision=e[d++];y=t();S.g=h||y;S.v=t();S.b=[];S.C={};b=e[d++];for(y=E=w=0;y<b;y++){_=e[d];var T=e[d+1]>>4;var A=e[d+1]&15;w<T&&(w=T);E<A&&(E=A);T=S.b.push({h:T,j:A,T:e[d+2],G:null});S.C[_]=T-1;d+=3}S.s=w;S.u=E;c(S);break;case 65476:_=t();for(y=2;y<_;){w=e[d++];E=new Uint8Array(16);for(b=T=0;16>b;b++,d++)T+=E[b]=e[d];A=new Uint8Array(T);for(b=0;b<T;b++,d++)A[b]=e[d];y+=17+T;(0===w>>4?g:m)[w&15]=o(E,A)}break;case 65501:t();var x=t();break;case 65498:b=1===++v&&!h;t();w=e[d++];_=[];for(y=0;y<w;y++){E=S.C[e[d++]];var D=S.b[E];E=e[d++];D.D=g[E>>4];D.o=m[E&15];_.push(D)}y=e[d++];w=e[d++];E=e[d++];try{var O=a(e,d,S,_,x,y,w,E>>4,E&15,b);d+=O}catch(t){if(t instanceof n)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(e,{N:t.g});throw t}break;case 65500:d+=4;break;case 65535:255!==e[d]&&d--;break;default:if(255===e[d-3]&&192<=e[d-2]&&254>=e[d-2])d-=3;else if((b=u(e,d-2))&&b.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+b.f),d=b.offset;else throw new r("unknown marker "+y.toString(16))}y=t()}this.width=S.v;this.height=S.g;this.A=p;this.b=[];for(y=0;y<S.b.length;y++){D=S.b[y];if(x=f[D.T])D.G=x;this.b.push({R:s(S,D),U:D.h/S.s,V:D.j/S.u,c:D.c,l:D.l})}this.i=this.b.length},L:function(e,t){var r=this.width/e,n=this.height/t,i,o,a=this.b.length,s=e*t*a,u=new Uint8ClampedArray(s),l=new Uint32Array(e);for(o=0;o<a;o++){var c=this.b[o];var f=c.U*r;var h=c.V*n;var d=o;var p=c.R;var v=c.c+1<<3;for(i=0;i<e;i++)c=0|i*f,l[i]=(c&4294967288)<<3|c&7;for(f=0;f<t;f++)for(c=0|f*h,c=v*(c&4294967288)|(c&7)<<3,i=0;i<e;i++)u[d]=p[c+l[i]],d+=a}if(n=this.M)for(o=0;o<s;)for(r=c=0;c<a;c++,o++,r+=2)u[o]=(u[o]*n[r]>>8)+n[r+1];return u},w:function(){return this.A?!!this.A.W:3===this.i?0===this.B?!1:!0:1===this.B?!0:!1},I:function(e){for(var t,r,n,i=0,o=e.length;i<o;i+=3)t=e[i],r=e[i+1],n=e[i+2],e[i]=t-179.456+1.402*n,e[i+1]=t+135.459-.344*r-.714*n,e[i+2]=t-226.816+1.772*r;return e},K:function(e){for(var t,r,n,i,o=0,a=0,s=e.length;a<s;a+=4)t=e[a],r=e[a+1],n=e[a+2],i=e[a+3],e[o++]=-122.67195406894+r*(-660635669420364e-19*r+.000437130475926232*n-54080610064599e-18*t+.00048449797120281*i-.154362151871126)+n*(-.000957964378445773*n+.000817076911346625*t-.00477271405408747*i+1.53380253221734)+t*(.000961250184130688*t-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),e[o++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*n+.000659397001245577*t+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*t+.000770482631801132*i-.151051492775562)+t*(.00126935368114843*t-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),e[o++]=-20.810012546947+r*(-.000570115196973677*r-263409051004589e-19*n+.0020741088115012*t-.00288260236853442*i+.814272968359295)+n*(-153496057440975e-19*n-.000132689043961446*t+.000560833691242812*i-.195152027534049)+t*(.00174418132927582*t-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return e.subarray(0,o)},J:function(e){for(var t,r,n,i=0,o=e.length;i<o;i+=4)t=e[i],r=e[i+1],n=e[i+2],e[i]=434.456-t-1.402*n,e[i+1]=119.541-t+.344*r+.714*n,e[i+2]=481.816-t-1.772*r;return e},H:function(e){for(var t,r,n,i,o=0,a=1/255,s=0,u=e.length;s<u;s+=4)t=e[s]*a,r=e[s+1]*a,n=e[s+2]*a,i=e[s+3]*a,e[o++]=255+t*(-4.387332384609988*t+54.48615194189176*r+18.82290502165302*n+212.25662451639585*i-285.2331026137004)+r*(1.7149763477362134*r-5.6096736904047315*n-17.873870861415444*i-5.497006427196366)+n*(-2.5217340131683033*n-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),e[o++]=255+t*(8.841041422036149*t+60.118027045597366*r+6.871425592049007*n+31.159100130055922*i-79.2970844816548)+r*(-15.310361306967817*r+17.575251261109482*n+131.35250912493976*i-190.9453302588951)+n*(4.444339102852739*n+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),e[o++]=255+t*(.8842522430003296*t+8.078677503112928*r+30.89978309703729*n-.23883238689178934*i-14.183576799673286)+r*(10.49593273432072*r+63.02378494754052*n+50.606957656360734*i-112.23884253719248)+n*(.03296041114873217*n+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return e.subarray(0,o)},getData:function(e,t,n){if(4<this.i)throw new r("Unsupported color mode");e=this.L(e,t);if(1===this.i&&n){n=e.length;t=new Uint8ClampedArray(3*n);for(var i=0,o=0;o<n;o++){var a=e[o];t[i++]=a;t[i++]=a;t[i++]=a}return t}if(3===this.i&&this.w())return this.I(e);if(4===this.i){if(this.w())return n?this.K(e):this.J(e);if(n)return this.H(e)}return e}};e.JpegDecoder=i})()})();e.encodeImage=function(t,r,n,i){var o={t256:[r],t257:[n],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[n],t279:[r*n*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(i)for(var a in i)o[a]=i[a];var s=new Uint8Array(e.encode([o]));var u=new Uint8Array(t);var l=new Uint8Array(1e3+r*n*4);for(var a=0;a<s.length;a++)l[a]=s[a];for(var a=0;a<u.length;a++)l[1e3+a]=u[a];return l.buffer};e.encode=function(t){var r=new Uint8Array(2e4),n=4,i=e._binBE;r[0]=77;r[1]=77;r[3]=42;var o=8;i.writeUint(r,n,o);n+=4;for(var a=0;a<t.length;a++){var s=e._writeIFD(i,r,o,t[a]);o=s[1];if(a<t.length-1)i.writeUint(r,s[0],o)}return r.slice(0,o).buffer};e.decode=function(t){e.decode._decodeG3.allow2D=null;var r=new Uint8Array(t),n=0;var i=e._binBE.readASCII(r,n,2);n+=2;var o=i=="II"?e._binLE:e._binBE;var a=o.readUshort(r,n);n+=2;var s=o.readUint(r,n);n+=4;var u=[];while(true){var l=e._readIFD(o,r,s,u);s=o.readUint(r,l);if(s==0)break}return u};e.decodeImages=function(t,r){var n=new Uint8Array(t);var i=e._binBE.readASCII(n,0,2);for(var a=0;a<r.length;a++){var s=r[a];if(s["t256"]==null)continue;s.isLE=i=="II";s.width=s["t256"][0];s.height=s["t257"][0];var u=s["t259"]?s["t259"][0]:1;var l=s["t266"]?s["t266"][0]:1;if(s["t284"]&&s["t284"][0]==2)o("PlanarConfiguration 2 should not be used!");var c=(s["t258"]?Math.min(32,s["t258"][0]):1)*(s["t277"]?s["t277"][0]:1);var f=Math.ceil(s.width*c/8)*8;var h=s["t273"];if(h==null)h=s["t324"];var d=s["t279"];if(u==1&&h.length==1)d=[s.height*(f>>>3)];if(d==null)d=s["t325"];var p=new Uint8Array(s.height*(f>>>3)),v=0;if(s["t322"]!=null){var m=s["t322"][0],g=s["t323"][0];var y=Math.floor((s.width+m-1)/m);var b=Math.floor((s.height+g-1)/g);var _=new Uint8Array(Math.ceil(m*g*c/8)|0);for(var w=0;w<b;w++)for(var E=0;E<y;E++){var S=w*y+E;for(var T=0;T<_.length;T++)_[T]=0;e.decode._decompress(s,n,h[S],d[S],u,_,0,l);if(u==6)p=_;else e._copyTile(_,Math.ceil(m*c/8)|0,g,p,Math.ceil(s.width*c/8)|0,s.height,Math.ceil(E*m*c/8)|0,w*g)}v=p.length*8}else{var A=s["t278"]?s["t278"][0]:s.height;A=Math.min(A,s.height);for(var S=0;S<h.length;S++){e.decode._decompress(s,n,h[S],d[S],u,p,Math.ceil(v/8)|0,l);v+=f*A}v=Math.min(v,p.length*8)}s.data=new Uint8Array(p.buffer,0,Math.ceil(v/8)|0)}};e.decode._decompress=function(r,n,i,a,s,u,l,c){if(false){}else if(s==1)for(var f=0;f<a;f++)u[l+f]=n[i+f];else if(s==3)e.decode._decodeG3(n,i,a,u,l,r.width,c);else if(s==4)e.decode._decodeG4(n,i,a,u,l,r.width,c);else if(s==5)e.decode._decodeLZW(n,i,u,l);else if(s==6)e.decode._decodeOldJPEG(r,n,i,a,u,l);else if(s==7)e.decode._decodeNewJPEG(r,n,i,a,u,l);else if(s==8){var h=new Uint8Array(n.buffer,i,a);var d=t["inflate"](h);for(var p=0;p<d.length;p++)u[l+p]=d[p]}else if(s==32773)e.decode._decodePackBits(n,i,a,u,l);else if(s==32809)e.decode._decodeThunder(n,i,a,u,l);else o("Unknown compression",s);if(r["t317"]&&r["t317"][0]==2){var v=r["t277"]?r["t277"][0]:1,m=r["t278"]?r["t278"][0]:r.height,g=r.width*v;for(var y=0;y<m;y++){var b=l+y*g;if(v==3)for(var f=3;f<g;f+=3){u[b+f]=u[b+f]+u[b+f-3]&255;u[b+f+1]=u[b+f+1]+u[b+f-2]&255;u[b+f+2]=u[b+f+2]+u[b+f-1]&255}else for(var f=v;f<g;f++)u[b+f]=u[b+f]+u[b+f-v]&255}}};e.decode._decodeNikon=function(e,t,r,n,i){var a=[[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]];var s,u,l,c,f;var h,d,p,v=0,m=0,g=0,y,b,r,_,w;o(e.slice(t,t+100));s=e[t];t++;u=e[t];t++;o(s.toString(16),u.toString(16),r)};e.decode._decodeNewJPEG=function(t,r,n,i,o,a){var s=t["t347"],u=s?s.length:0,l=new Uint8Array(u+i);if(s){var c=216,f=217,h=0;for(var d=0;d<u-1;d++){if(s[d]==255&&s[d+1]==f)break;l[h++]=s[d]}var p=r[n],v=r[n+1];if(p!=255||v!=c){l[h++]=p;l[h++]=v}for(var d=2;d<i;d++)l[h++]=r[n+d]}else for(var d=0;d<i;d++)l[d]=r[n+d];if(t["t262"]==32803){var m=t["t258"][0],g=new LosslessJpegDecoder;var y=g.decode(l),b=y.length;if(false){}else if(m==16)for(var d=0;d<b;d++){o[a++]=y[d]&255;o[a++]=y[d]>>>8}else if(m==12)for(var d=0;d<b;d+=2){o[a++]=y[d]>>>4;o[a++]=(y[d]<<4|y[d+1]>>>8)&255;o[a++]=y[d+1]&255}else throw new Error("unsupported bit depth "+m)}else{var _=new e.JpegDecoder;_.parse(l);var w=_.getData(_.width,_.height);for(var d=0;d<w.length;d++)o[a+d]=w[d]}if(t["t262"][0]==6)t["t262"][0]=2};e.decode._decodeOldJPEGInit=function(e,t,r,n){var i=216,a=217,s=219,u=196,l=221,c=192,f=218;var h=0,d=0,p,v,m=false,g,y,b;var _=e["t513"],w=_?_[0]:0;var E=e["t514"],S=E?E[0]:0;var T=e["t324"]||e["t273"]||_;var A=e["t530"],x=0,D=0;var O=e["t277"]?e["t277"][0]:1;var I=e["t515"];if(T){d=T[0];m=T.length>1}if(!m){if(t[r]==255&&t[r+1]==i)return{jpegOffset:r};if(_!=null){if(t[r+w]==255&&t[r+w+1]==i)h=r+w;else o("JPEGInterchangeFormat does not point to SOI");if(E==null)o("JPEGInterchangeFormatLength field is missing");else if(w>=d||w+S<=d)o("JPEGInterchangeFormatLength field value is invalid");if(h!=null)return{jpegOffset:h}}}if(A!=null){x=A[0];D=A[1]}if(_!=null)if(E!=null)if(S>=2&&w+S<=d){if(t[r+w+S-2]==255&&t[r+w+S-1]==i)p=new Uint8Array(S-2);else p=new Uint8Array(S);for(g=0;g<p.length;g++)p[g]=t[r+w+g];o("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else o("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(p==null){var C=0,k=[];k[C++]=255;k[C++]=i;var R=e["t519"];if(R==null)throw new Error("JPEGQTables tag is missing");for(g=0;g<R.length;g++){k[C++]=255;k[C++]=s;k[C++]=0;k[C++]=67;k[C++]=g;for(y=0;y<64;y++)k[C++]=t[r+R[g]+y]}for(b=0;b<2;b++){var P=e[b==0?"t520":"t521"];if(P==null)throw new Error((b==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(g=0;g<P.length;g++){k[C++]=255;k[C++]=u;var M=19;for(y=0;y<16;y++)M+=t[r+P[g]+y];k[C++]=M>>>8;k[C++]=M&255;k[C++]=g|b<<4;for(y=0;y<16;y++)k[C++]=t[r+P[g]+y];for(y=0;y<M;y++)k[C++]=t[r+P[g]+16+y]}}k[C++]=255;k[C++]=c;k[C++]=0;k[C++]=8+3*O;k[C++]=8;k[C++]=e.height>>>8&255;k[C++]=e.height&255;k[C++]=e.width>>>8&255;k[C++]=e.width&255;k[C++]=O;if(O==1){k[C++]=1;k[C++]=17;k[C++]=0}else for(g=0;g<3;g++){k[C++]=g+1;k[C++]=g!=0?17:(x&15)<<4|D&15;k[C++]=g}if(I!=null&&I[0]!=0){k[C++]=255;k[C++]=l;k[C++]=0;k[C++]=4;k[C++]=I[0]>>>8&255;k[C++]=I[0]&255}p=new Uint8Array(k)}var L=-1;g=0;while(g<p.length-1){if(p[g]==255&&p[g+1]==c){L=g;break}g++}if(L==-1){var N=new Uint8Array(p.length+10+3*O);N.set(p);var F=p.length;L=p.length;p=N;p[F++]=255;p[F++]=c;p[F++]=0;p[F++]=8+3*O;p[F++]=8;p[F++]=e.height>>>8&255;p[F++]=e.height&255;p[F++]=e.width>>>8&255;p[F++]=e.width&255;p[F++]=O;if(O==1){p[F++]=1;p[F++]=17;p[F++]=0}else for(g=0;g<3;g++){p[F++]=g+1;p[F++]=g!=0?17:(x&15)<<4|D&15;p[F++]=g}}if(t[d]==255&&t[d+1]==f){var j=t[d+2]<<8|t[d+3];v=new Uint8Array(j+2);v[0]=t[d];v[1]=t[d+1];v[2]=t[d+2];v[3]=t[d+3];for(g=0;g<j-2;g++)v[g+4]=t[d+g+4]}else{v=new Uint8Array(2+6+2*O);var B=0;v[B++]=255;v[B++]=f;v[B++]=0;v[B++]=6+2*O;v[B++]=O;if(O==1){v[B++]=1;v[B++]=0}else for(g=0;g<3;g++){v[B++]=g+1;v[B++]=g<<4|g}v[B++]=0;v[B++]=63;v[B++]=0}return{jpegOffset:r,tables:p,sosMarker:v,sofPosition:L}};e.decode._decodeOldJPEG=function(t,r,n,i,o,a){var s,u,l,c,f;var h=e.decode._decodeOldJPEGInit(t,r,n,i);if(h.jpegOffset!=null){u=n+i-h.jpegOffset;c=new Uint8Array(u);for(s=0;s<u;s++)c[s]=r[h.jpegOffset+s]}else{l=h.tables.length;c=new Uint8Array(l+h.sosMarker.length+i+2);c.set(h.tables);f=l;c[h.sofPosition+5]=t.height>>>8&255;c[h.sofPosition+6]=t.height&255;c[h.sofPosition+7]=t.width>>>8&255;c[h.sofPosition+8]=t.width&255;if(r[n]!=255||r[n+1]!=SOS){c.set(h.sosMarker,bufoff);bufoff+=sosMarker.length}for(s=0;s<i;s++)c[bufoff++]=r[n+s];c[bufoff++]=255;c[bufoff++]=EOI}var d=new e.JpegDecoder;d.parse(c);var p=d.getData(d.width,d.height);for(var s=0;s<p.length;s++)o[a+s]=p[s];if(t["t262"][0]==6)t["t262"][0]=2};e.decode._decodePackBits=function(e,t,r,n,i){var o=new Int8Array(e.buffer),a=new Int8Array(n.buffer),s=t+r;while(t<s){var u=o[t];t++;if(u>=0&&u<128)for(var l=0;l<u+1;l++){a[i]=o[t];i++;t++}if(u>=-127&&u<0){for(var l=0;l<-u+1;l++){a[i]=o[t];i++}t++}}};e.decode._decodeThunder=function(e,t,r,n,i){var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1];var s=t+r,u=i*2,l=0;while(t<s){var c=e[t],f=c>>>6,h=c&63;t++;if(f==3){l=h&15;n[u>>>1]|=l<<4*(1-u&1);u++}if(f==0)for(var d=0;d<h;d++){n[u>>>1]|=l<<4*(1-u&1);u++}if(f==2)for(var d=0;d<2;d++){var p=h>>>3*(1-d)&7;if(p!=4){l+=a[p];n[u>>>1]|=l<<4*(1-u&1);u++}}if(f==1)for(var d=0;d<3;d++){var p=h>>>2*(2-d)&3;if(p!=2){l+=o[p];n[u>>>1]|=l<<4*(1-u&1);u++}}}};e.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3};e.decode._lens=function(){var e=function(e,t,r,n){for(var i=0;i<t.length;i++)e[t[i]]=r+i*n};var t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,"+"101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,"+"00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,"+"00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100";var r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,"+"0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,"+"000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,"+"000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111";var n="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,"+"011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011";var i="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,"+"0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,"+"0000001011011,0000001100100,0000001100101";var o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(",");r=r.split(",");n=n.split(",");i=i.split(",");o=o.split(",");var a={},s={};e(a,t,0,1);e(a,n,64,64);e(a,o,1792,64);e(s,r,0,1);e(s,i,64,64);e(s,o,1792,64);return[a,s]}();e.decode._decodeG4=function(t,r,n,i,o,a,s){var u=e.decode,l=r<<3,c=0,f="";var h=[],d=[];for(var p=0;p<a;p++)d.push(0);d=u._makeDiff(d);var v=0,m=0,g=0,y=0,b=0,_=0;var w=0,E="",S=0;var T=Math.ceil(a/8)*8;while(l>>>3<r+n){y=u._findDiff(d,v+(v==0?0:1),1-_),b=u._findDiff(d,y,_);var A=0;if(s==1)A=t[l>>>3]>>>7-(l&7)&1;if(s==2)A=t[l>>>3]>>>(l&7)&1;l++;f+=A;if(E=="H"){if(u._lens[_][f]!=null){var x=u._lens[_][f];f="";c+=x;if(x<64){u._addNtimes(h,c,_);v+=c;_=1-_;c=0;S--;if(S==0)E=""}}}else{if(f=="0001"){f="";u._addNtimes(h,b-v,_);v=b}if(f=="001"){f="";E="H";S=2}if(u._dmap[f]!=null){m=y+u._dmap[f];u._addNtimes(h,m-v,_);v=m;f="";_=1-_}}if(h.length==a&&E==""){u._writeBits(h,i,o*8+w*T);_=0;w++;v=0;d=u._makeDiff(h);h=[]}}};e.decode._findDiff=function(e,t,r){for(var n=0;n<e.length;n+=2)if(e[n]>=t&&e[n+1]==r)return e[n]};e.decode._makeDiff=function(e){var t=[];if(e[0]==1)t.push(0,1);for(var r=1;r<e.length;r++)if(e[r-1]!=e[r])t.push(r,e[r]);t.push(e.length,0,e.length,1);return t};e.decode._decodeG3=function(t,r,n,i,o,a,s){var u=e.decode,l=r<<3,c=0,f="";var h=[],d=[];for(var p=0;p<a;p++)h.push(0);var v=0,m=0,g=0,y=0,b=0,_=0;var w=-1,E="",S=0,T=false;var A=Math.ceil(a/8)*8;while(l>>>3<r+n){y=u._findDiff(d,v+(v==0?0:1),1-_),b=u._findDiff(d,y,_);var x=0;if(s==1)x=t[l>>>3]>>>7-(l&7)&1;if(s==2)x=t[l>>>3]>>>(l&7)&1;l++;f+=x;if(T){if(u._lens[_][f]!=null){var D=u._lens[_][f];f="";c+=D;if(D<64){u._addNtimes(h,c,_);_=1-_;c=0}}}else{if(E=="H"){if(u._lens[_][f]!=null){var D=u._lens[_][f];f="";c+=D;if(D<64){u._addNtimes(h,c,_);v+=c;_=1-_;c=0;S--;if(S==0)E=""}}}else{if(f=="0001"){f="";u._addNtimes(h,b-v,_);v=b}if(f=="001"){f="";E="H";S=2}if(u._dmap[f]!=null){m=y+u._dmap[f];u._addNtimes(h,m-v,_);v=m;f="";_=1-_}}}if(f.endsWith("000000000001")){if(w>=0)u._writeBits(h,i,o*8+w*A);if(s==1)T=(t[l>>>3]>>>7-(l&7)&1)==1;if(s==2)T=(t[l>>>3]>>>(l&7)&1)==1;l++;if(u._decodeG3.allow2D==null)u._decodeG3.allow2D=T;if(!u._decodeG3.allow2D){T=true;l--}f="";_=0;w++;v=0;d=u._makeDiff(h);h=[]}}if(h.length==a)u._writeBits(h,i,o*8+w*A)};e.decode._addNtimes=function(e,t,r){for(var n=0;n<t;n++)e.push(r)};e.decode._writeBits=function(e,t,r){for(var n=0;n<e.length;n++)t[r+n>>>3]|=e[n]<<7-(r+n&7)};e.decode._decodeLZW=function(t,r,n,i){if(e.decode._lzwTab==null){var o=new Uint32Array(65535),a=new Uint16Array(65535),s=new Uint8Array(2e6);for(var u=0;u<256;u++){s[u<<2]=u;o[u]=u<<2;a[u]=1}e.decode._lzwTab=[o,a,s]}var l=e.decode._copyData;var c=e.decode._lzwTab[0],f=e.decode._lzwTab[1],s=e.decode._lzwTab[2],h=258,d=258<<2;var p=9,v=r<<3;var m=256,g=257;var y=0,b=0,_=0;while(true){y=t[v>>>3]<<16|t[v+8>>>3]<<8|t[v+16>>>3];b=y>>24-(v&7)-p&(1<<p)-1;v+=p;if(b==g)break;if(b==m){p=9;h=258;d=258<<2;y=t[v>>>3]<<16|t[v+8>>>3]<<8|t[v+16>>>3];b=y>>24-(v&7)-p&(1<<p)-1;v+=p;if(b==g)break;n[i]=b;i++}else if(b<h){var w=c[b],E=f[b];l(s,w,n,i,E);i+=E;if(_>=h){c[h]=d;s[c[h]]=w[0];f[h]=1;d=d+1+3&~3;h++}else{c[h]=d;var S=c[_],T=f[_];l(s,S,s,d,T);s[d+T]=s[w];T++;f[h]=T;h++;d=d+T+3&~3}if(h+1==1<<p)p++}else{if(_>=h){c[h]=d;f[h]=0;h++}else{c[h]=d;var S=c[_],T=f[_];l(s,S,s,d,T);s[d+T]=s[d];T++;f[h]=T;h++;l(s,d,n,i,T);i+=T;d=d+T+3&~3}if(h+1==1<<p)p++}_=b}};e.decode._copyData=function(e,t,r,n,i){for(var o=0;o<i;o+=4){r[n+o]=e[t+o];r[n+o+1]=e[t+o+1];r[n+o+2]=e[t+o+2];r[n+o+3]=e[t+o+3]}};e.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"};e.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4};e._readIFD=function(t,r,n,i){var a=t.readUshort(r,n);n+=2;var s={};i.push(s);for(var u=0;u<a;u++){var l=t.readUshort(r,n);n+=2;var c=t.readUshort(r,n);n+=2;var f=t.readUint(r,n);n+=4;var h=t.readUint(r,n);n+=4;var d=[];s["t"+l]=d;if(c==1||c==7){for(var p=0;p<f;p++)d.push(r[(f<5?n-4:h)+p])}if(c==2){d.push(t.readASCII(r,f<5?n-4:h,f-1))}if(c==3){for(var p=0;p<f;p++)d.push(t.readUshort(r,(f<3?n-4:h)+2*p))}if(c==4){for(var p=0;p<f;p++)d.push(t.readUint(r,(f<2?n-4:h)+4*p))}if(c==5){for(var p=0;p<f;p++)d.push(t.readUint(r,h+p*8)/t.readUint(r,h+p*8+4))}if(c==8){for(var p=0;p<f;p++)d.push(t.readShort(r,(f<3?n-4:h)+2*p))}if(c==9){for(var p=0;p<f;p++)d.push(t.readInt(r,(f<2?n-4:h)+4*p))}if(c==10){for(var p=0;p<f;p++)d.push(t.readInt(r,h+p*8)/t.readInt(r,h+p*8+4))}if(c==11){for(var p=0;p<f;p++)d.push(t.readFloat(r,h+p*4))}if(c==12){for(var p=0;p<f;p++)d.push(t.readDouble(r,h+p*8))}if(f!=0&&d.length==0)o("unknown TIFF tag type: ",c,"num:",f);if(l==330)for(var p=0;p<f;p++)e._readIFD(t,r,d[p],i)}return n};e._writeIFD=function(t,r,n,i){var o=Object.keys(i);t.writeUshort(r,n,o.length);n+=2;var a=n+o.length*12+4;for(var s=0;s<o.length;s++){var u=o[s];var l=parseInt(u.slice(1)),c=e.ttypes[l];if(c==null)throw new Error("unknown type of tag: "+l);var f=i[u];if(c==2)f=f[0]+"\0";var h=f.length;t.writeUshort(r,n,l);n+=2;t.writeUshort(r,n,c);n+=2;t.writeUint(r,n,h);n+=4;var d=[-1,1,1,2,4,8,0,0,0,0,0,0,8][c]*h;var p=n;if(d>4){t.writeUint(r,n,a);p=a}if(c==2){t.writeASCII(r,p,f)}if(c==3){for(var v=0;v<h;v++)t.writeUshort(r,p+2*v,f[v])}if(c==4){for(var v=0;v<h;v++)t.writeUint(r,p+4*v,f[v])}if(c==5){for(var v=0;v<h;v++){t.writeUint(r,p+8*v,Math.round(f[v]*1e4));t.writeUint(r,p+8*v+4,1e4)}}if(c==12){for(var v=0;v<h;v++)t.writeDouble(r,p+8*v,f[v])}if(d>4){d+=d&1;a+=d}n+=4}return[n,a]};e.toRGBA8=function(e){var t=e.width,r=e.height,n=t*r,i=n*4,a=e.data;var s=new Uint8Array(n*4);var u=e["t262"][0],l=e["t258"]?Math.min(32,e["t258"][0]):1,c=e.isLE?1:0;if(false){}else if(u==0){var f=Math.ceil(l*t/8);for(var h=0;h<r;h++){var d=h*f,p=h*t;if(l==1)for(var v=0;v<t;v++){var m=p+v<<2,g=a[d+(v>>3)]>>7-(v&7)&1;s[m]=s[m+1]=s[m+2]=(1-g)*255;s[m+3]=255}if(l==4)for(var v=0;v<t;v++){var m=p+v<<2,g=a[d+(v>>1)]>>4-4*(v&1)&15;s[m]=s[m+1]=s[m+2]=(15-g)*17;s[m+3]=255}if(l==8)for(var v=0;v<t;v++){var m=p+v<<2,g=a[d+v];s[m]=s[m+1]=s[m+2]=255-g;s[m+3]=255}}}else if(u==1){var f=Math.ceil(l*t/8);for(var h=0;h<r;h++){var d=h*f,p=h*t;if(l==1)for(var v=0;v<t;v++){var m=p+v<<2,g=a[d+(v>>3)]>>7-(v&7)&1;s[m]=s[m+1]=s[m+2]=g*255;s[m+3]=255}if(l==2)for(var v=0;v<t;v++){var m=p+v<<2,g=a[d+(v>>2)]>>6-2*(v&3)&3;s[m]=s[m+1]=s[m+2]=g*85;s[m+3]=255}if(l==8)for(var v=0;v<t;v++){var m=p+v<<2,g=a[d+v];s[m]=s[m+1]=s[m+2]=g;s[m+3]=255}if(l==16)for(var v=0;v<t;v++){var m=p+v<<2,g=a[d+(2*v+c)];s[m]=s[m+1]=s[m+2]=Math.min(255,g);s[m+3]=255}}}else if(u==2){if(l==8){if(e["t338"]){if(e["t338"][0]>0)for(var v=0;v<i;v++)s[v]=a[v];else for(var v=0;v<i;v+=4){s[v]=a[v];s[v+1]=a[v+1];s[v+2]=a[v+2];s[v+3]=255}}else{var y=e["t258"]?e["t258"].length:3;if(y==4)for(var v=0;v<i;v++)s[v]=a[v];if(y==3)for(var v=0;v<n;v++){var m=v<<2,b=v*3;s[m]=a[b];s[m+1]=a[b+1];s[m+2]=a[b+2];s[m+3]=255}}}else for(var v=0;v<n;v++){var m=v<<2,b=v*6;s[m]=a[b];s[m+1]=a[b+2];s[m+2]=a[b+4];s[m+3]=255}}else if(u==3){var _=e["t320"];for(var v=0;v<n;v++){var m=v<<2,w=a[v];s[m]=_[w]>>8;s[m+1]=_[256+w]>>8;s[m+2]=_[512+w]>>8;s[m+3]=255}}else if(u==5){var y=e["t258"]?e["t258"].length:4;var E=y>4?1:0;for(var v=0;v<n;v++){var m=v<<2,S=v*y;var T=255-a[S],A=255-a[S+1],x=255-a[S+2],D=(255-a[S+3])*(1/255);s[m]=~~(T*D+.5);s[m+1]=~~(A*D+.5);s[m+2]=~~(x*D+.5);s[m+3]=255*(1-E)+a[S+4]*E}}else o("Unknown Photometric interpretation: "+u);return s};e.replaceIMG=function(){var t=document.getElementsByTagName("img");for(var r=0;r<t.length;r++){var n=t[r],i=n.getAttribute("src");if(i==null)continue;var o=i.split(".").pop().toLowerCase();if(o!="tif"&&o!="tiff")continue;var a=new XMLHttpRequest;e._xhrs.push(a);e._imgs.push(n);a.open("GET",i);a.responseType="arraybuffer";a.onload=e._imgLoaded;a.send()}};e._xhrs=[];e._imgs=[];e._imgLoaded=function(t){var r=t.target.response;var n=e.decode(r),i=n[0];e.decodeImages(r,n);var o=e.toRGBA8(i),a=i.width,s=i.height;var u=e._xhrs.indexOf(t.target),l=e._imgs[u];e._xhrs.splice(u,1);e._imgs.splice(u,1);var c=document.createElement("canvas");c.width=a;c.height=s;var f=c.getContext("2d"),h=f.createImageData(a,s);for(var d=0;d<o.length;d++)h.data[d]=o[d];f.putImageData(h,0,0);var p=["style","class","id"];for(var d=0;d<p.length;d++)c.setAttribute(p[d],l.getAttribute(p[d]));l.parentNode.replaceChild(c,l)};e._binBE={nextZero:function(e,t){while(e[t]!=0)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},readShort:function(t,r){var n=e._binBE.ui8;n[0]=t[r+1];n[1]=t[r+0];return e._binBE.i16[0]},readInt:function(t,r){var n=e._binBE.ui8;n[0]=t[r+3];n[1]=t[r+2];n[2]=t[r+1];n[3]=t[r+0];return e._binBE.i32[0]},readUint:function(t,r){var n=e._binBE.ui8;n[0]=t[r+3];n[1]=t[r+2];n[2]=t[r+1];n[3]=t[r+0];return e._binBE.ui32[0]},readASCII:function(e,t,r){var n="";for(var i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},readFloat:function(t,r){var n=e._binBE.ui8;for(var i=0;i<4;i++)n[i]=t[r+3-i];return e._binBE.fl32[0]},readDouble:function(t,r){var n=e._binBE.ui8;for(var i=0;i<8;i++)n[i]=t[r+7-i];return e._binBE.fl64[0]},writeUshort:function(e,t,r){e[t]=r>>8&255;e[t+1]=r&255},writeUint:function(e,t,r){e[t]=r>>24&255;e[t+1]=r>>16&255;e[t+2]=r>>8&255;e[t+3]=r>>0&255},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},writeDouble:function(t,r,n){e._binBE.fl64[0]=n;for(var i=0;i<8;i++)t[r+i]=e._binBE.ui8[7-i]}};e._binBE.ui8=new Uint8Array(8);e._binBE.i16=new Int16Array(e._binBE.ui8.buffer);e._binBE.i32=new Int32Array(e._binBE.ui8.buffer);e._binBE.ui32=new Uint32Array(e._binBE.ui8.buffer);e._binBE.fl32=new Float32Array(e._binBE.ui8.buffer);e._binBE.fl64=new Float64Array(e._binBE.ui8.buffer);e._binLE={nextZero:e._binBE.nextZero,readUshort:function(e,t){return e[t+1]<<8|e[t]},readShort:function(t,r){var n=e._binBE.ui8;n[0]=t[r+0];n[1]=t[r+1];return e._binBE.i16[0]},readInt:function(t,r){var n=e._binBE.ui8;n[0]=t[r+0];n[1]=t[r+1];n[2]=t[r+2];n[3]=t[r+3];return e._binBE.i32[0]},readUint:function(t,r){var n=e._binBE.ui8;n[0]=t[r+0];n[1]=t[r+1];n[2]=t[r+2];n[3]=t[r+3];return e._binBE.ui32[0]},readASCII:e._binBE.readASCII,readFloat:function(t,r){var n=e._binBE.ui8;for(var i=0;i<4;i++)n[i]=t[r+i];return e._binBE.fl32[0]},readDouble:function(t,r){var n=e._binBE.ui8;for(var i=0;i<8;i++)n[i]=t[r+i];return e._binBE.fl64[0]}};e._copyTile=function(e,t,r,n,i,o,a,s){var u=Math.min(t,i-a);var l=Math.min(r,o-s);for(var c=0;c<l;c++){var f=(s+c)*i+a;var h=c*t;for(var d=0;d<u;d++)n[f+d]=e[h+d]}}})(n,i)})()}).call(this,r(3))},function(e,t,r){"use strict";var n=r(103);var i=r(18);var o=r(121);var a=r(66);var s=r(65);var u=Object.prototype.toString;var l=0;var c=4;var f=0;var h=1;var d=2;var p=-1;var v=0;var m=8;function g(e){if(!(this instanceof g))return new g(e);this.options=i.assign({level:p,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},e||{});var t=this.options;if(t.raw&&t.windowBits>0){t.windowBits=-t.windowBits}else if(t.gzip&&t.windowBits>0&&t.windowBits<16){t.windowBits+=16}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new s;this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==f){throw new Error(a[r])}if(t.header){n.deflateSetHeader(this.strm,t.header)}if(t.dictionary){var l;if(typeof t.dictionary==="string"){l=o.string2buf(t.dictionary)}else if(u.call(t.dictionary)==="[object ArrayBuffer]"){l=new Uint8Array(t.dictionary)}else{l=t.dictionary}r=n.deflateSetDictionary(this.strm,l);if(r!==f){throw new Error(a[r])}this._dict_set=true}}g.prototype.push=function(e,t){var r=this.strm;var a=this.options.chunkSize;var s,p;if(this.ended){return false}p=t===~~t?t:t===true?c:l;if(typeof e==="string"){r.input=o.string2buf(e)}else if(u.call(e)==="[object ArrayBuffer]"){r.input=new Uint8Array(e)}else{r.input=e}r.next_in=0;r.avail_in=r.input.length;do{if(r.avail_out===0){r.output=new i.Buf8(a);r.next_out=0;r.avail_out=a}s=n.deflate(r,p);if(s!==h&&s!==f){this.onEnd(s);this.ended=true;return false}if(r.avail_out===0||r.avail_in===0&&(p===c||p===d)){if(this.options.to==="string"){this.onData(o.buf2binstring(i.shrinkBuf(r.output,r.next_out)))}else{this.onData(i.shrinkBuf(r.output,r.next_out))}}}while((r.avail_in>0||r.avail_out===0)&&s!==h);if(p===c){s=n.deflateEnd(this.strm);this.onEnd(s);this.ended=true;return s===f}if(p===d){this.onEnd(f);r.avail_out=0;return true}return true};g.prototype.onData=function(e){this.chunks.push(e)};g.prototype.onEnd=function(e){if(e===f){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=i.flattenChunks(this.chunks)}}this.chunks=[];this.err=e;this.msg=this.strm.msg};function y(e,t){var r=new g(t);r.push(e,true);if(r.err){throw r.msg||a[r.err]}return r.result}function b(e,t){t=t||{};t.raw=true;return y(e,t)}function _(e,t){t=t||{};t.gzip=true;return y(e,t)}t.Deflate=g;t.deflate=y;t.deflateRaw=b;t.gzip=_},function(e,t,r){"use strict";var n=r(106);var i=r(18);var o=r(121);var a=r(67);var s=r(66);var u=r(65);var l=r(272);var c=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;if(t.raw&&t.windowBits>=0&&t.windowBits<16){t.windowBits=-t.windowBits;if(t.windowBits===0){t.windowBits=-15}}if(t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)){t.windowBits+=32}if(t.windowBits>15&&t.windowBits<48){if((t.windowBits&15)===0){t.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new u;this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK){throw new Error(s[r])}this.header=new l;n.inflateGetHeader(this.strm,this.header);if(t.dictionary){if(typeof t.dictionary==="string"){t.dictionary=o.string2buf(t.dictionary)}else if(c.call(t.dictionary)==="[object ArrayBuffer]"){t.dictionary=new Uint8Array(t.dictionary)}if(t.raw){r=n.inflateSetDictionary(this.strm,t.dictionary);if(r!==a.Z_OK){throw new Error(s[r])}}}}f.prototype.push=function(e,t){var r=this.strm;var s=this.options.chunkSize;var u=this.options.dictionary;var l,f;var h,d,p;var v=false;if(this.ended){return false}f=t===~~t?t:t===true?a.Z_FINISH:a.Z_NO_FLUSH;if(typeof e==="string"){r.input=o.binstring2buf(e)}else if(c.call(e)==="[object ArrayBuffer]"){r.input=new Uint8Array(e)}else{r.input=e}r.next_in=0;r.avail_in=r.input.length;do{if(r.avail_out===0){r.output=new i.Buf8(s);r.next_out=0;r.avail_out=s}l=n.inflate(r,a.Z_NO_FLUSH);if(l===a.Z_NEED_DICT&&u){l=n.inflateSetDictionary(this.strm,u)}if(l===a.Z_BUF_ERROR&&v===true){l=a.Z_OK;v=false}if(l!==a.Z_STREAM_END&&l!==a.Z_OK){this.onEnd(l);this.ended=true;return false}if(r.next_out){if(r.avail_out===0||l===a.Z_STREAM_END||r.avail_in===0&&(f===a.Z_FINISH||f===a.Z_SYNC_FLUSH)){if(this.options.to==="string"){h=o.utf8border(r.output,r.next_out);d=r.next_out-h;p=o.buf2string(r.output,h);r.next_out=d;r.avail_out=s-d;if(d){i.arraySet(r.output,r.output,h,d,0)}this.onData(p)}else{this.onData(i.shrinkBuf(r.output,r.next_out))}}}if(r.avail_in===0&&r.avail_out===0){v=true}}while((r.avail_in>0||r.avail_out===0)&&l!==a.Z_STREAM_END);if(l===a.Z_STREAM_END){f=a.Z_FINISH}if(f===a.Z_FINISH){l=n.inflateEnd(this.strm);this.onEnd(l);this.ended=true;return l===a.Z_OK}if(f===a.Z_SYNC_FLUSH){this.onEnd(a.Z_OK);r.avail_out=0;return true}return true};f.prototype.onData=function(e){this.chunks.push(e)};f.prototype.onEnd=function(e){if(e===a.Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=i.flattenChunks(this.chunks)}}this.chunks=[];this.err=e;this.msg=this.strm.msg};function h(e,t){var r=new f(t);r.push(e,true);if(r.err){throw r.msg||s[r.err]}return r.result}function d(e,t){t=t||{};t.raw=true;return h(e,t)}t.Inflate=f;t.inflate=h;t.inflateRaw=d;t.ungzip=h},function(e,t,r){"use strict";function n(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}e.exports=n},function(e,t,r){"use strict";(function(e){var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(17));var o=n(r(122));var a=r(274);var s="image/gif";var u=function t(){return{mime:(0,i["default"])({},s,["gif"]),constants:{MIME_GIF:s},decoders:(0,i["default"])({},s,(function(t){var r=new o["default"].GifReader(t);var n=e.alloc(r.width*r.height*4);r.decodeAndBlitFrameRGBA(0,n);return{data:n,width:r.width,height:r.height}})),encoders:(0,i["default"])({},s,(function(e){var t=new a.BitmapImage(e.bitmap);a.GifUtil.quantizeDekker(t,256);var r=new a.GifFrame(t);var n=new a.GifCodec;return n.encodeGif([r],{}).then((function(e){return e.buffer}))}))}};t["default"]=u}).call(this,r(1).Buffer)},function(e,t,r){"use strict";const n=r(70);const{Gif:i,GifError:o}=r(47);const{GifCodec:a}=r(123);const{GifFrame:s}=r(71);const u=r(124);e.exports={BitmapImage:n,Gif:i,GifCodec:a,GifFrame:s,GifUtil:u,GifError:o}},function(e,t,r){"use strict";r.r(t);r.d(t,"applyPalette",(function(){return Qe}));r.d(t,"applyPaletteSync",(function(){return Ze}));r.d(t,"buildPalette",(function(){return Xe}));r.d(t,"buildPaletteSync",(function(){return Ke}));r.d(t,"constants",(function(){return s}));r.d(t,"conversion",(function(){return h}));r.d(t,"distance",(function(){return j}));r.d(t,"image",(function(){return Pe}));r.d(t,"palette",(function(){return te}));r.d(t,"quality",(function(){return $e}));r.d(t,"utils",(function(){return ue}));var n=Object.defineProperty;var i=(e,t,r)=>t in e?n(e,t,{enumerable:true,configurable:true,writable:true,value:r}):e[t]=r;var o=(e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:true})};var a=(e,t,r)=>{i(e,typeof t!=="symbol"?t+"":t,r);return r};var s={};o(s,{bt709:()=>u});var u={};o(u,{Y:()=>l,x:()=>c,y:()=>f});var l=(e=>{e[e["RED"]=.2126]="RED";e[e["GREEN"]=.7152]="GREEN";e[e["BLUE"]=.0722]="BLUE";e[e["WHITE"]=1]="WHITE";return e})(l||{});var c=(e=>{e[e["RED"]=.64]="RED";e[e["GREEN"]=.3]="GREEN";e[e["BLUE"]=.15]="BLUE";e[e["WHITE"]=.3127]="WHITE";return e})(c||{});var f=(e=>{e[e["RED"]=.33]="RED";e[e["GREEN"]=.6]="GREEN";e[e["BLUE"]=.06]="BLUE";e[e["WHITE"]=.329]="WHITE";return e})(f||{});var h={};o(h,{lab2rgb:()=>F,lab2xyz:()=>M,rgb2hsl:()=>S,rgb2lab:()=>I,rgb2xyz:()=>p,xyz2lab:()=>O,xyz2rgb:()=>N});function d(e){return e>.04045?((e+.055)/1.055)**2.4:e/12.92}function p(e,t,r){e=d(e/255);t=d(t/255);r=d(r/255);return{x:e*.4124+t*.3576+r*.1805,y:e*.2126+t*.7152+r*.0722,z:e*.0193+t*.1192+r*.9505}}var v={};o(v,{degrees2radians:()=>m,inRange0to255:()=>w,inRange0to255Rounded:()=>_,intInRange:()=>b,max3:()=>g,min3:()=>y,stableSort:()=>E});function m(e){return e*(Math.PI/180)}function g(e,t,r){let n=e;if(n<t)n=t;if(n<r)n=r;return n}function y(e,t,r){let n=e;if(n>t)n=t;if(n>r)n=r;return n}function b(e,t,r){if(e>r)e=r;if(e<t)e=t;return e|0}function _(e){e=Math.round(e);if(e>255)e=255;else if(e<0)e=0;return e}function w(e){if(e>255)e=255;else if(e<0)e=0;return e}function E(e,t){const r=typeof e[0];let n;if(r==="number"||r==="string"){const r=Object.create(null);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(r[n]||r[n]===0)continue;r[n]=t}n=e.sort(((e,n)=>t(e,n)||r[e]-r[n]))}else{const r=e.slice(0);n=e.sort(((e,n)=>t(e,n)||r.indexOf(e)-r.indexOf(n)))}return n}function S(e,t,r){const n=y(e,t,r);const i=g(e,t,r);const o=i-n;const a=(n+i)/510;let s=0;if(a>0&&a<1)s=o/(a<.5?i+n:510-i-n);let u=0;if(o>0){if(i===e){u=(t-r)/o}else if(i===t){u=2+(r-e)/o}else{u=4+(e-t)/o}u*=60;if(u<0)u+=360}return{h:u,s:s,l:a}}var T=.95047;var A=1;var x=1.08883;function D(e){return e>.008856?e**(1/3):7.787*e+16/116}function O(e,t,r){e=D(e/T);t=D(t/A);r=D(r/x);if(116*t-16<0)throw new Error("xxx");return{L:Math.max(0,116*t-16),a:500*(e-t),b:200*(t-r)}}function I(e,t,r){const n=p(e,t,r);return O(n.x,n.y,n.z)}var C=.95047;var k=1;var R=1.08883;function P(e){return e>.206893034?e**3:(e-16/116)/7.787}function M(e,t,r){const n=(e+16)/116;const i=t/500+n;const o=n-r/200;return{x:C*P(i),y:k*P(n),z:R*P(o)}}function L(e){return e>.0031308?1.055*e**(1/2.4)-.055:12.92*e}function N(e,t,r){const n=L(e*3.2406+t*-1.5372+r*-.4986);const i=L(e*-.9689+t*1.8758+r*.0415);const o=L(e*.0557+t*-.204+r*1.057);return{r:_(n*255),g:_(i*255),b:_(o*255)}}function F(e,t,r){const n=M(e,t,r);return N(n.x,n.y,n.z)}var j={};o(j,{AbstractDistanceCalculator:()=>B,AbstractEuclidean:()=>V,AbstractManhattan:()=>K,CIE94GraphicArts:()=>$,CIE94Textiles:()=>z,CIEDE2000:()=>H,CMetric:()=>W,Euclidean:()=>q,EuclideanBT709:()=>J,EuclideanBT709NoAlpha:()=>Y,Manhattan:()=>X,ManhattanBT709:()=>Q,ManhattanNommyde:()=>Z,PNGQuant:()=>ee});var B=class{constructor(){a(this,"_maxDistance");a(this,"_whitePoint");this._setDefaults();this.setWhitePoint(255,255,255,255)}setWhitePoint(e,t,r,n){this._whitePoint={r:e>0?255/e:0,g:t>0?255/t:0,b:r>0?255/r:0,a:n>0?255/n:0};this._maxDistance=this.calculateRaw(e,t,r,n,0,0,0,0)}calculateNormalized(e,t){return this.calculateRaw(e.r,e.g,e.b,e.a,t.r,t.g,t.b,t.a)/this._maxDistance}};var U=class extends B{calculateRaw(e,t,r,n,i,o,a,s){const u=I(w(e*this._whitePoint.r),w(t*this._whitePoint.g),w(r*this._whitePoint.b));const l=I(w(i*this._whitePoint.r),w(o*this._whitePoint.g),w(a*this._whitePoint.b));const c=u.L-l.L;const f=u.a-l.a;const h=u.b-l.b;const d=Math.sqrt(u.a*u.a+u.b*u.b);const p=Math.sqrt(l.a*l.a+l.b*l.b);const v=d-p;let m=f*f+h*h-v*v;m=m<0?0:Math.sqrt(m);const g=(s-n)*this._whitePoint.a*this._kA;return Math.sqrt((c/this._Kl)**2+(v/(1+this._K1*d))**2+(m/(1+this._K2*d))**2+g**2)}};var z=class extends U{_setDefaults(){this._Kl=2;this._K1=.048;this._K2=.014;this._kA=.25*50/255}};var $=class extends U{_setDefaults(){this._Kl=1;this._K1=.045;this._K2=.015;this._kA=.25*100/255}};var G=class extends B{_setDefaults(){}static _calculatehp(e,t){const r=Math.atan2(e,t);if(r>=0)return r;return r+G._deg360InRad}static _calculateRT(e,t){const r=t**7;const n=2*Math.sqrt(r/(r+G._pow25to7));const i=G._deg30InRad*Math.exp(-(((e-G._deg275InRad)/G._deg25InRad)**2));return-Math.sin(2*i)*n}static _calculateT(e){return 1-.17*Math.cos(e-G._deg30InRad)+.24*Math.cos(e*2)+.32*Math.cos(e*3+G._deg6InRad)-.2*Math.cos(e*4-G._deg63InRad)}static _calculate_ahp(e,t,r,n){const i=r+n;if(e===0)return i;if(t<=G._deg180InRad)return i/2;if(i<G._deg360InRad){return(i+G._deg360InRad)/2}return(i-G._deg360InRad)/2}static _calculate_dHp(e,t,r,n){let i;if(e===0){i=0}else if(t<=G._deg180InRad){i=r-n}else if(r<=n){i=r-n+G._deg360InRad}else{i=r-n-G._deg360InRad}return 2*Math.sqrt(e)*Math.sin(i/2)}calculateRaw(e,t,r,n,i,o,a,s){const u=I(w(e*this._whitePoint.r),w(t*this._whitePoint.g),w(r*this._whitePoint.b));const l=I(w(i*this._whitePoint.r),w(o*this._whitePoint.g),w(a*this._whitePoint.b));const c=(s-n)*this._whitePoint.a*G._kA;const f=this.calculateRawInLab(u,l);return Math.sqrt(f+c*c)}calculateRawInLab(e,t){const r=e.L;const n=e.a;const i=e.b;const o=t.L;const a=t.a;const s=t.b;const u=Math.sqrt(n*n+i*i);const l=Math.sqrt(a*a+s*s);const c=((u+l)/2)**7;const f=.5*(1-Math.sqrt(c/(c+G._pow25to7)));const h=(1+f)*n;const d=(1+f)*a;const p=Math.sqrt(h*h+i*i);const v=Math.sqrt(d*d+s*s);const m=p*v;const g=G._calculatehp(i,h);const y=G._calculatehp(s,d);const b=Math.abs(g-y);const _=o-r;const w=v-p;const E=G._calculate_dHp(m,b,y,g);const S=G._calculate_ahp(m,b,g,y);const T=G._calculateT(S);const A=(p+v)/2;const x=((r+o)/2-50)**2;const D=1+.015*x/Math.sqrt(20+x);const O=1+.045*A;const I=1+.015*T*A;const C=G._calculateRT(S,A);const k=_/D;const R=w/O;const P=E/I;return k**2+R**2+P**2+C*R*P}};var H=G;a(H,"_kA",.25*100/255);a(H,"_pow25to7",25**7);a(H,"_deg360InRad",m(360));a(H,"_deg180InRad",m(180));a(H,"_deg30InRad",m(30));a(H,"_deg6InRad",m(6));a(H,"_deg63InRad",m(63));a(H,"_deg275InRad",m(275));a(H,"_deg25InRad",m(25));var W=class extends B{calculateRaw(e,t,r,n,i,o,a,s){const u=(e+i)/2*this._whitePoint.r;const l=(e-i)*this._whitePoint.r;const c=(t-o)*this._whitePoint.g;const f=(r-a)*this._whitePoint.b;const h=((512+u)*l*l>>8)+4*c*c+((767-u)*f*f>>8);const d=(s-n)*this._whitePoint.a;return Math.sqrt(h+d*d)}_setDefaults(){}};var V=class extends B{calculateRaw(e,t,r,n,i,o,a,s){const u=i-e;const l=o-t;const c=a-r;const f=s-n;return Math.sqrt(this._kR*u*u+this._kG*l*l+this._kB*c*c+this._kA*f*f)}};var q=class extends V{_setDefaults(){this._kR=1;this._kG=1;this._kB=1;this._kA=1}};var J=class extends V{_setDefaults(){this._kR=.2126;this._kG=.7152;this._kB=.0722;this._kA=1}};var Y=class extends V{_setDefaults(){this._kR=.2126;this._kG=.7152;this._kB=.0722;this._kA=0}};var K=class extends B{calculateRaw(e,t,r,n,i,o,a,s){let u=i-e;let l=o-t;let c=a-r;let f=s-n;if(u<0)u=0-u;if(l<0)l=0-l;if(c<0)c=0-c;if(f<0)f=0-f;return this._kR*u+this._kG*l+this._kB*c+this._kA*f}};var X=class extends K{_setDefaults(){this._kR=1;this._kG=1;this._kB=1;this._kA=1}};var Z=class extends K{_setDefaults(){this._kR=.4984;this._kG=.8625;this._kB=.2979;this._kA=1}};var Q=class extends K{_setDefaults(){this._kR=.2126;this._kG=.7152;this._kB=.0722;this._kA=1}};var ee=class extends B{calculateRaw(e,t,r,n,i,o,a,s){const u=(s-n)*this._whitePoint.a;return this._colordifferenceCh(e*this._whitePoint.r,i*this._whitePoint.r,u)+this._colordifferenceCh(t*this._whitePoint.g,o*this._whitePoint.g,u)+this._colordifferenceCh(r*this._whitePoint.b,a*this._whitePoint.b,u)}_colordifferenceCh(e,t,r){const n=e-t;const i=n+r;return n*n+i*i}_setDefaults(){}};var te={};o(te,{AbstractPaletteQuantizer:()=>re,ColorHistogram:()=>Ee,NeuQuant:()=>me,NeuQuantFloat:()=>_e,RGBQuant:()=>Te,WuColorCube:()=>Ce,WuQuant:()=>Re});var re=class{quantizeSync(){for(const e of this.quantize()){if(e.palette){return e.palette}}throw new Error("unreachable")}};var ne=class{constructor(){a(this,"r");a(this,"g");a(this,"b");a(this,"a");a(this,"uint32");a(this,"rgba");this.uint32=-1>>>0;this.r=this.g=this.b=this.a=0;this.rgba=new Array(4);this.rgba[0]=0;this.rgba[1]=0;this.rgba[2]=0;this.rgba[3]=0}static createByQuadruplet(e){const t=new ne;t.r=e[0]|0;t.g=e[1]|0;t.b=e[2]|0;t.a=e[3]|0;t._loadUINT32();t._loadQuadruplet();return t}static createByRGBA(e,t,r,n){const i=new ne;i.r=e|0;i.g=t|0;i.b=r|0;i.a=n|0;i._loadUINT32();i._loadQuadruplet();return i}static createByUint32(e){const t=new ne;t.uint32=e>>>0;t._loadRGBA();t._loadQuadruplet();return t}from(e){this.r=e.r;this.g=e.g;this.b=e.b;this.a=e.a;this.uint32=e.uint32;this.rgba[0]=e.r;this.rgba[1]=e.g;this.rgba[2]=e.b;this.rgba[3]=e.a}getLuminosity(e){let t=this.r;let r=this.g;let n=this.b;if(e){t=Math.min(255,255-this.a+this.a*t/255);r=Math.min(255,255-this.a+this.a*r/255);n=Math.min(255,255-this.a+this.a*n/255)}return t*.2126+r*.7152+n*.0722}_loadUINT32(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0}_loadRGBA(){this.r=this.uint32&255;this.g=this.uint32>>>8&255;this.b=this.uint32>>>16&255;this.a=this.uint32>>>24&255}_loadQuadruplet(){this.rgba[0]=this.r;this.rgba[1]=this.g;this.rgba[2]=this.b;this.rgba[3]=this.a}};var ie=class{constructor(){a(this,"_pointArray");a(this,"_width");a(this,"_height");this._width=0;this._height=0;this._pointArray=[]}getWidth(){return this._width}getHeight(){return this._height}setWidth(e){this._width=e}setHeight(e){this._height=e}getPointArray(){return this._pointArray}clone(){const e=new ie;e._width=this._width;e._height=this._height;for(let t=0,r=this._pointArray.length;t<r;t++){e._pointArray[t]=ne.createByUint32(this._pointArray[t].uint32|0)}return e}toUint32Array(){const e=this._pointArray.length;const t=new Uint32Array(e);for(let r=0;r<e;r++){t[r]=this._pointArray[r].uint32}return t}toUint8Array(){return new Uint8Array(this.toUint32Array().buffer)}static fromHTMLImageElement(e){const t=e.naturalWidth;const r=e.naturalHeight;const n=document.createElement("canvas");n.width=t;n.height=r;const i=n.getContext("2d");i.drawImage(e,0,0,t,r,0,0,t,r);return ie.fromHTMLCanvasElement(n)}static fromHTMLCanvasElement(e){const t=e.width;const r=e.height;const n=e.getContext("2d");const i=n.getImageData(0,0,t,r);return ie.fromImageData(i)}static fromImageData(e){const t=e.width;const r=e.height;return ie.fromUint8Array(e.data,t,r)}static fromUint8Array(e,t,r){switch(Object.prototype.toString.call(e)){case"[object Uint8ClampedArray]":case"[object Uint8Array]":break;default:e=new Uint8Array(e)}const n=new Uint32Array(e.buffer);return ie.fromUint32Array(n,t,r)}static fromUint32Array(e,t,r){const n=new ie;n._width=t;n._height=r;for(let t=0,r=e.length;t<r;t++){n._pointArray[t]=ne.createByUint32(e[t]|0)}return n}static fromBuffer(e,t,r){const n=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/Uint32Array.BYTES_PER_ELEMENT);return ie.fromUint32Array(n,t,r)}};var oe=10;function ae(e,t){const r=360;const n=r/t;const i=n/2;for(let r=1,o=n-i;r<t;r++,o+=n){if(e>=o&&e<o+n)return r}return 0}var se=class{constructor(){a(this,"_pointContainer");a(this,"_pointArray",[]);a(this,"_i32idx",{});this._pointContainer=new ie;this._pointContainer.setHeight(1);this._pointArray=this._pointContainer.getPointArray()}add(e){this._pointArray.push(e);this._pointContainer.setWidth(this._pointArray.length)}has(e){for(let t=this._pointArray.length-1;t>=0;t--){if(e.uint32===this._pointArray[t].uint32)return true}return false}getNearestColor(e,t){return this._pointArray[this._getNearestIndex(e,t)|0]}getPointContainer(){return this._pointContainer}_nearestPointFromCache(e){return typeof this._i32idx[e]==="number"?this._i32idx[e]:-1}_getNearestIndex(e,t){let r=this._nearestPointFromCache(""+t.uint32);if(r>=0)return r;let n=Number.MAX_VALUE;r=0;for(let i=0,o=this._pointArray.length;i<o;i++){const o=this._pointArray[i];const a=e.calculateRaw(t.r,t.g,t.b,t.a,o.r,o.g,o.b,o.a);if(a<n){n=a;r=i}}this._i32idx[t.uint32]=r;return r}sort(){this._i32idx={};this._pointArray.sort(((e,t)=>{const r=S(e.r,e.g,e.b);const n=S(t.r,t.g,t.b);const i=e.r===e.g&&e.g===e.b?0:1+ae(r.h,oe);const o=t.r===t.g&&t.g===t.b?0:1+ae(n.h,oe);const a=o-i;if(a)return-a;const s=e.getLuminosity(true);const u=t.getLuminosity(true);if(u-s!==0)return u-s;const l=(n.s*100|0)-(r.s*100|0);if(l)return-l;return 0}))}};var ue={};o(ue,{HueStatistics:()=>ce,Palette:()=>se,Point:()=>ne,PointContainer:()=>ie,ProgressTracker:()=>he,arithmetic:()=>v});var le=class{constructor(){a(this,"num",0);a(this,"cols",[])}};var ce=class{constructor(e,t){a(this,"_numGroups");a(this,"_minCols");a(this,"_stats");a(this,"_groupsFull");this._numGroups=e;this._minCols=t;this._stats=[];for(let t=0;t<=e;t++){this._stats[t]=new le}this._groupsFull=0}check(e){if(this._groupsFull===this._numGroups+1){this.check=()=>{}}const t=e&255;const r=e>>>8&255;const n=e>>>16&255;const i=t===r&&r===n?0:1+ae(S(t,r,n).h,this._numGroups);const o=this._stats[i];const a=this._minCols;o.num++;if(o.num>a){return}if(o.num===a){this._groupsFull++}if(o.num<=a){this._stats[i].cols.push(e)}}injectIntoDictionary(e){for(let t=0;t<=this._numGroups;t++){if(this._stats[t].num<=this._minCols){this._stats[t].cols.forEach((t=>{if(!e[t]){e[t]=1}else{e[t]++}}))}}}injectIntoArray(e){for(let t=0;t<=this._numGroups;t++){if(this._stats[t].num<=this._minCols){this._stats[t].cols.forEach((t=>{if(e.indexOf(t)===-1){e.push(t)}}))}}}};var fe=class{constructor(e,t){a(this,"progress");a(this,"_step");a(this,"_range");a(this,"_last");a(this,"_progressRange");this._range=e;this._progressRange=t;this._step=Math.max(1,this._range/(fe.steps+1)|0);this._last=-this._step;this.progress=0}shouldNotify(e){if(e-this._last>=this._step){this._last=e;this.progress=Math.min(this._progressRange*this._last/this._range,this._progressRange);return true}return false}};var he=fe;a(he,"steps",100);var de=3;var pe=class{constructor(e){a(this,"r");a(this,"g");a(this,"b");a(this,"a");this.r=this.g=this.b=this.a=e}toPoint(){return ne.createByRGBA(this.r>>de,this.g>>de,this.b>>de,this.a>>de)}subtract(e,t,r,n){this.r-=e|0;this.g-=t|0;this.b-=r|0;this.a-=n|0}};var ve=class extends re{constructor(e,t=256){super();a(this,"_pointArray");a(this,"_networkSize");a(this,"_network");a(this,"_sampleFactor");a(this,"_radPower");a(this,"_freq");a(this,"_bias");a(this,"_distance");this._distance=e;this._pointArray=[];this._sampleFactor=1;this._networkSize=t;this._distance.setWhitePoint(255<<de,255<<de,255<<de,255<<de)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init();yield*this._learn();yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[];this._bias=[];this._radPower=[];this._network=[];for(let e=0;e<this._networkSize;e++){this._network[e]=new pe((e<<de+8)/this._networkSize|0);this._freq[e]=ve._initialBias/this._networkSize|0;this._bias[e]=0}}*_learn(){let e=this._sampleFactor;const t=this._pointArray.length;if(t<ve._minpicturebytes)e=1;const r=30+(e-1)/3|0;const n=t/e|0;let i=n/ve._nCycles|0;let o=ve._initAlpha;let a=(this._networkSize>>3)*ve._radiusBias;let s=a>>ve._radiusBiasShift;if(s<=1)s=0;for(let e=0;e<s;e++){this._radPower[e]=o*((s*s-e*e)*ve._radBias/(s*s))>>>0}let u;if(t<ve._minpicturebytes){u=1}else if(t%ve._prime1!==0){u=ve._prime1}else if(t%ve._prime2!==0){u=ve._prime2}else if(t%ve._prime3!==0){u=ve._prime3}else{u=ve._prime4}const l=new he(n,99);for(let e=0,c=0;e<n;){if(l.shouldNotify(e)){yield{progress:l.progress}}const n=this._pointArray[c];const f=n.b<<de;const h=n.g<<de;const d=n.r<<de;const p=n.a<<de;const v=this._contest(f,h,d,p);this._alterSingle(o,v,f,h,d,p);if(s!==0)this._alterNeighbour(s,v,f,h,d,p);c+=u;if(c>=t)c-=t;e++;if(i===0)i=1;if(e%i===0){o-=o/r|0;a-=a/ve._radiusDecrease|0;s=a>>ve._radiusBiasShift;if(s<=1)s=0;for(let e=0;e<s;e++){this._radPower[e]=o*((s*s-e*e)*ve._radBias/(s*s))>>>0}}}}_buildPalette(){const e=new se;this._network.forEach((t=>{e.add(t.toPoint())}));e.sort();return e}_alterNeighbour(e,t,r,n,i,o){let a=t-e;if(a<-1)a=-1;let s=t+e;if(s>this._networkSize)s=this._networkSize;let u=t+1;let l=t-1;let c=1;while(u<s||l>a){const e=this._radPower[c++]/ve._alphaRadBias;if(u<s){const t=this._network[u++];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-o))}if(l>a){const t=this._network[l--];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-o))}}}_alterSingle(e,t,r,n,i,o){e/=ve._initAlpha;const a=this._network[t];a.subtract(e*(a.r-i),e*(a.g-n),e*(a.b-r),e*(a.a-o))}_contest(e,t,r,n){const i=255*4<<de;let o=~(1<<31);let a=o;let s=-1;let u=s;for(let l=0;l<this._networkSize;l++){const c=this._network[l];const f=this._distance.calculateNormalized(c,{r:r,g:t,b:e,a:n})*i|0;if(f<o){o=f;s=l}const h=f-(this._bias[l]>>ve._initialBiasShift-de);if(h<a){a=h;u=l}const d=this._freq[l]>>ve._betaShift;this._freq[l]-=d;this._bias[l]+=d<<ve._gammaShift}this._freq[s]+=ve._beta;this._bias[s]-=ve._betaGamma;return u}};var me=ve;a(me,"_prime1",499);a(me,"_prime2",491);a(me,"_prime3",487);a(me,"_prime4",503);a(me,"_minpicturebytes",ve._prime4);a(me,"_nCycles",100);a(me,"_initialBiasShift",16);a(me,"_initialBias",1<<ve._initialBiasShift);a(me,"_gammaShift",10);a(me,"_betaShift",10);a(me,"_beta",ve._initialBias>>ve._betaShift);a(me,"_betaGamma",ve._initialBias<<ve._gammaShift-ve._betaShift);a(me,"_radiusBiasShift",6);a(me,"_radiusBias",1<<ve._radiusBiasShift);a(me,"_radiusDecrease",30);a(me,"_alphaBiasShift",10);a(me,"_initAlpha",1<<ve._alphaBiasShift);a(me,"_radBiasShift",8);a(me,"_radBias",1<<ve._radBiasShift);a(me,"_alphaRadBiasShift",ve._alphaBiasShift+ve._radBiasShift);a(me,"_alphaRadBias",1<<ve._alphaRadBiasShift);var ge=3;var ye=class{constructor(e){a(this,"r");a(this,"g");a(this,"b");a(this,"a");this.r=this.g=this.b=this.a=e}toPoint(){return ne.createByRGBA(this.r>>ge,this.g>>ge,this.b>>ge,this.a>>ge)}subtract(e,t,r,n){this.r-=e;this.g-=t;this.b-=r;this.a-=n}};var be=class extends re{constructor(e,t=256){super();a(this,"_pointArray");a(this,"_networkSize");a(this,"_network");a(this,"_sampleFactor");a(this,"_radPower");a(this,"_freq");a(this,"_bias");a(this,"_distance");this._distance=e;this._pointArray=[];this._sampleFactor=1;this._networkSize=t;this._distance.setWhitePoint(255<<ge,255<<ge,255<<ge,255<<ge)}sample(e){this._pointArray=this._pointArray.concat(e.getPointArray())}*quantize(){this._init();yield*this._learn();yield{palette:this._buildPalette(),progress:100}}_init(){this._freq=[];this._bias=[];this._radPower=[];this._network=[];for(let e=0;e<this._networkSize;e++){this._network[e]=new ye((e<<ge+8)/this._networkSize);this._freq[e]=be._initialBias/this._networkSize;this._bias[e]=0}}*_learn(){let e=this._sampleFactor;const t=this._pointArray.length;if(t<be._minpicturebytes)e=1;const r=30+(e-1)/3;const n=t/e;let i=n/be._nCycles|0;let o=be._initAlpha;let a=(this._networkSize>>3)*be._radiusBias;let s=a>>be._radiusBiasShift;if(s<=1)s=0;for(let e=0;e<s;e++){this._radPower[e]=o*((s*s-e*e)*be._radBias/(s*s))}let u;if(t<be._minpicturebytes){u=1}else if(t%be._prime1!==0){u=be._prime1}else if(t%be._prime2!==0){u=be._prime2}else if(t%be._prime3!==0){u=be._prime3}else{u=be._prime4}const l=new he(n,99);for(let e=0,c=0;e<n;){if(l.shouldNotify(e)){yield{progress:l.progress}}const n=this._pointArray[c];const f=n.b<<ge;const h=n.g<<ge;const d=n.r<<ge;const p=n.a<<ge;const v=this._contest(f,h,d,p);this._alterSingle(o,v,f,h,d,p);if(s!==0)this._alterNeighbour(s,v,f,h,d,p);c+=u;if(c>=t)c-=t;e++;if(i===0)i=1;if(e%i===0){o-=o/r;a-=a/be._radiusDecrease;s=a>>be._radiusBiasShift;if(s<=1)s=0;for(let e=0;e<s;e++){this._radPower[e]=o*((s*s-e*e)*be._radBias/(s*s))}}}}_buildPalette(){const e=new se;this._network.forEach((t=>{e.add(t.toPoint())}));e.sort();return e}_alterNeighbour(e,t,r,n,i,o){let a=t-e;if(a<-1)a=-1;let s=t+e;if(s>this._networkSize)s=this._networkSize;let u=t+1;let l=t-1;let c=1;while(u<s||l>a){const e=this._radPower[c++]/be._alphaRadBias;if(u<s){const t=this._network[u++];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-o))}if(l>a){const t=this._network[l--];t.subtract(e*(t.r-i),e*(t.g-n),e*(t.b-r),e*(t.a-o))}}}_alterSingle(e,t,r,n,i,o){e/=be._initAlpha;const a=this._network[t];a.subtract(e*(a.r-i),e*(a.g-n),e*(a.b-r),e*(a.a-o))}_contest(e,t,r,n){const i=255*4<<ge;let o=~(1<<31);let a=o;let s=-1;let u=s;for(let l=0;l<this._networkSize;l++){const c=this._network[l];const f=this._distance.calculateNormalized(c,{r:r,g:t,b:e,a:n})*i;if(f<o){o=f;s=l}const h=f-(this._bias[l]>>be._initialBiasShift-ge);if(h<a){a=h;u=l}const d=this._freq[l]>>be._betaShift;this._freq[l]-=d;this._bias[l]+=d<<be._gammaShift}this._freq[s]+=be._beta;this._bias[s]-=be._betaGamma;return u}};var _e=be;a(_e,"_prime1",499);a(_e,"_prime2",491);a(_e,"_prime3",487);a(_e,"_prime4",503);a(_e,"_minpicturebytes",be._prime4);a(_e,"_nCycles",100);a(_e,"_initialBiasShift",16);a(_e,"_initialBias",1<<be._initialBiasShift);a(_e,"_gammaShift",10);a(_e,"_betaShift",10);a(_e,"_beta",be._initialBias>>be._betaShift);a(_e,"_betaGamma",be._initialBias<<be._gammaShift-be._betaShift);a(_e,"_radiusBiasShift",6);a(_e,"_radiusBias",1<<be._radiusBiasShift);a(_e,"_radiusDecrease",30);a(_e,"_alphaBiasShift",10);a(_e,"_initAlpha",1<<be._alphaBiasShift);a(_e,"_radBiasShift",8);a(_e,"_radBias",1<<be._radBiasShift);a(_e,"_alphaRadBiasShift",be._alphaBiasShift+be._radBiasShift);a(_e,"_alphaRadBias",1<<be._alphaRadBiasShift);var we=class{constructor(e,t){a(this,"_method");a(this,"_hueStats");a(this,"_histogram");a(this,"_initColors");a(this,"_minHueCols");this._method=e;this._minHueCols=t<<2;this._initColors=t<<2;this._hueStats=new ce(we._hueGroups,this._minHueCols);this._histogram=Object.create(null)}sample(e){switch(this._method){case 1:this._colorStats1D(e);break;case 2:this._colorStats2D(e);break}}getImportanceSortedColorsIDXI32(){const e=E(Object.keys(this._histogram),((e,t)=>this._histogram[t]-this._histogram[e]));if(e.length===0){return[]}let t;switch(this._method){case 1:const r=Math.min(e.length,this._initColors);const n=e[r-1];const i=this._histogram[n];t=e.slice(0,r);let o=r;const a=e.length;while(o<a&&this._histogram[e[o]]===i){t.push(e[o++])}this._hueStats.injectIntoArray(t);break;case 2:t=e;break;default:throw new Error("Incorrect method")}return t.map((e=>+e))}_colorStats1D(e){const t=this._histogram;const r=e.getPointArray();const n=r.length;for(let e=0;e<n;e++){const n=r[e].uint32;this._hueStats.check(n);if(n in t){t[n]++}else{t[n]=1}}}_colorStats2D(e){const t=e.getWidth();const r=e.getHeight();const n=e.getPointArray();const i=we._boxSize[0];const o=we._boxSize[1];const a=i*o;const s=this._makeBoxes(t,r,i,o);const u=this._histogram;s.forEach((e=>{let r=Math.round(e.w*e.h/a)*we._boxPixels;if(r<2)r=2;const i={};this._iterateBox(e,t,(e=>{const t=n[e].uint32;this._hueStats.check(t);if(t in u){u[t]++}else if(t in i){if(++i[t]>=r){u[t]=i[t]}}else{i[t]=1}}))}));this._hueStats.injectIntoDictionary(u)}_iterateBox(e,t,r){const n=e;const i=n.y*t+n.x;const o=(n.y+n.h-1)*t+(n.x+n.w-1);const a=t-n.w+1;let s=0;let u=i;do{r.call(this,u);u+=++s%n.w===0?a:1}while(u<=o)}_makeBoxes(e,t,r,n){const i=e%r;const o=t%n;const a=e-i;const s=t-o;const u=[];for(let l=0;l<t;l+=n){for(let t=0;t<e;t+=r){u.push({x:t,y:l,w:t===a?i:r,h:l===s?o:n})}}return u}};var Ee=we;a(Ee,"_boxSize",[64,64]);a(Ee,"_boxPixels",2);a(Ee,"_hueGroups",10);var Se=class{constructor(e,t,r){a(this,"index");a(this,"color");a(this,"distance");this.index=e;this.color=t;this.distance=r}};var Te=class extends re{constructor(e,t=256,r=2){super();a(this,"_colors");a(this,"_initialDistance");a(this,"_distanceIncrement");a(this,"_histogram");a(this,"_distance");this._distance=e;this._colors=t;this._histogram=new Ee(r,t);this._initialDistance=.01;this._distanceIncrement=.005}sample(e){this._histogram.sample(e)}*quantize(){const e=this._histogram.getImportanceSortedColorsIDXI32();if(e.length===0){throw new Error("No colors in image")}yield*this._buildPalette(e)}*_buildPalette(e){const t=new se;const r=t.getPointContainer().getPointArray();const n=new Array(e.length);for(let t=0;t<e.length;t++){r.push(ne.createByUint32(e[t]));n[t]=1}const i=r.length;const o=[];let a=i;let s=this._initialDistance;const u=new he(a-this._colors,99);while(a>this._colors){o.length=0;for(let e=0;e<i;e++){if(u.shouldNotify(i-a)){yield{progress:u.progress}}if(n[e]===0)continue;const t=r[e];for(let u=e+1;u<i;u++){if(n[u]===0)continue;const e=r[u];const i=this._distance.calculateNormalized(t,e);if(i<s){o.push(new Se(u,e,i));n[u]=0;a--}}}s+=a>this._colors*3?this._initialDistance:this._distanceIncrement}if(a<this._colors){E(o,((e,t)=>t.distance-e.distance));let e=0;while(a<this._colors&&e<o.length){const t=o[e];n[t.index]=1;a++;e++}}let l=r.length;for(let e=l-1;e>=0;e--){if(n[e]===0){if(e!==l-1){r[e]=r[l-1]}--l}}r.length=l;t.sort();yield{palette:t,progress:100}}};function Ae(e){const t=[];for(let r=0;r<e;r++){t[r]=0}return t}function xe(e,t,r,n){const i=new Array(e);for(let o=0;o<e;o++){i[o]=new Array(t);for(let e=0;e<t;e++){i[o][e]=new Array(r);for(let t=0;t<r;t++){i[o][e][t]=new Array(n);for(let r=0;r<n;r++){i[o][e][t][r]=0}}}}return i}function De(e,t,r){const n=new Array(e);for(let i=0;i<e;i++){n[i]=new Array(t);for(let e=0;e<t;e++){n[i][e]=new Array(r);for(let t=0;t<r;t++){n[i][e][t]=0}}}return n}function Oe(e,t,r,n,i){for(let o=0;o<t;o++){e[o]=[];for(let t=0;t<r;t++){e[o][t]=[];for(let r=0;r<n;r++){e[o][t][r]=i}}}}function Ie(e,t,r){for(let n=0;n<t;n++){e[n]=r}}var Ce=class{constructor(){a(this,"redMinimum");a(this,"redMaximum");a(this,"greenMinimum");a(this,"greenMaximum");a(this,"blueMinimum");a(this,"blueMaximum");a(this,"volume");a(this,"alphaMinimum");a(this,"alphaMaximum")}};var ke=class extends re{constructor(e,t=256,r=5){super();a(this,"_reds");a(this,"_greens");a(this,"_blues");a(this,"_alphas");a(this,"_sums");a(this,"_weights");a(this,"_momentsRed");a(this,"_momentsGreen");a(this,"_momentsBlue");a(this,"_momentsAlpha");a(this,"_moments");a(this,"_table");a(this,"_pixels");a(this,"_cubes");a(this,"_colors");a(this,"_significantBitsPerChannel");a(this,"_maxSideIndex");a(this,"_alphaMaxSideIndex");a(this,"_sideSize");a(this,"_alphaSideSize");a(this,"_distance");this._distance=e;this._setQuality(r);this._initialize(t)}sample(e){const t=e.getPointArray();for(let e=0,r=t.length;e<r;e++){this._addColor(t[e])}this._pixels=this._pixels.concat(t)}*quantize(){yield*this._preparePalette();const e=new se;for(let t=0;t<this._colors;t++){if(this._sums[t]>0){const r=this._sums[t];const n=this._reds[t]/r;const i=this._greens[t]/r;const o=this._blues[t]/r;const a=this._alphas[t]/r;const s=ne.createByRGBA(n|0,i|0,o|0,a|0);e.add(s)}}e.sort();yield{palette:e,progress:100}}*_preparePalette(){yield*this._calculateMoments();let e=0;const t=Ae(this._colors);for(let r=1;r<this._colors;++r){if(this._cut(this._cubes[e],this._cubes[r])){t[e]=this._cubes[e].volume>1?this._calculateVariance(this._cubes[e]):0;t[r]=this._cubes[r].volume>1?this._calculateVariance(this._cubes[r]):0}else{t[e]=0;r--}e=0;let n=t[0];for(let i=1;i<=r;++i){if(t[i]>n){n=t[i];e=i}}if(n<=0){this._colors=r+1;break}}const r=[];const n=[];const i=[];const o=[];for(let e=0;e<this._colors;++e){const t=ke._volume(this._cubes[e],this._weights);if(t>0){r[e]=ke._volume(this._cubes[e],this._momentsRed)/t|0;n[e]=ke._volume(this._cubes[e],this._momentsGreen)/t|0;i[e]=ke._volume(this._cubes[e],this._momentsBlue)/t|0;o[e]=ke._volume(this._cubes[e],this._momentsAlpha)/t|0}else{r[e]=0;n[e]=0;i[e]=0;o[e]=0}}this._reds=Ae(this._colors+1);this._greens=Ae(this._colors+1);this._blues=Ae(this._colors+1);this._alphas=Ae(this._colors+1);this._sums=Ae(this._colors+1);for(let e=0,t=this._pixels.length;e<t;e++){const t=this._pixels[e];const a=-1;let s=a;let u=Number.MAX_VALUE;for(let e=0;e<this._colors;e++){const a=r[e];const l=n[e];const c=i[e];const f=o[e];const h=this._distance.calculateRaw(a,l,c,f,t.r,t.g,t.b,t.a);if(h<u){u=h;s=e}}this._reds[s]+=t.r;this._greens[s]+=t.g;this._blues[s]+=t.b;this._alphas[s]+=t.a;this._sums[s]++}}_addColor(e){const t=8-this._significantBitsPerChannel;const r=(e.r>>t)+1;const n=(e.g>>t)+1;const i=(e.b>>t)+1;const o=(e.a>>t)+1;this._weights[o][r][n][i]++;this._momentsRed[o][r][n][i]+=e.r;this._momentsGreen[o][r][n][i]+=e.g;this._momentsBlue[o][r][n][i]+=e.b;this._momentsAlpha[o][r][n][i]+=e.a;this._moments[o][r][n][i]+=this._table[e.r]+this._table[e.g]+this._table[e.b]+this._table[e.a]}*_calculateMoments(){const e=[];const t=[];const r=[];const n=[];const i=[];const o=[];const a=De(this._sideSize,this._sideSize,this._sideSize);const s=De(this._sideSize,this._sideSize,this._sideSize);const u=De(this._sideSize,this._sideSize,this._sideSize);const l=De(this._sideSize,this._sideSize,this._sideSize);const c=De(this._sideSize,this._sideSize,this._sideSize);const f=De(this._sideSize,this._sideSize,this._sideSize);let h=0;const d=new he(this._alphaMaxSideIndex*this._maxSideIndex,99);for(let p=1;p<=this._alphaMaxSideIndex;++p){Oe(a,this._sideSize,this._sideSize,this._sideSize,0);Oe(s,this._sideSize,this._sideSize,this._sideSize,0);Oe(u,this._sideSize,this._sideSize,this._sideSize,0);Oe(l,this._sideSize,this._sideSize,this._sideSize,0);Oe(c,this._sideSize,this._sideSize,this._sideSize,0);Oe(f,this._sideSize,this._sideSize,this._sideSize,0);for(let v=1;v<=this._maxSideIndex;++v,++h){if(d.shouldNotify(h)){yield{progress:d.progress}}Ie(e,this._sideSize,0);Ie(t,this._sideSize,0);Ie(r,this._sideSize,0);Ie(n,this._sideSize,0);Ie(i,this._sideSize,0);Ie(o,this._sideSize,0);for(let h=1;h<=this._maxSideIndex;++h){let d=0;let m=0;let g=0;let y=0;let b=0;let _=0;for(let w=1;w<=this._maxSideIndex;++w){d+=this._weights[p][v][h][w];m+=this._momentsRed[p][v][h][w];g+=this._momentsGreen[p][v][h][w];y+=this._momentsBlue[p][v][h][w];b+=this._momentsAlpha[p][v][h][w];_+=this._moments[p][v][h][w];e[w]+=d;t[w]+=m;r[w]+=g;n[w]+=y;i[w]+=b;o[w]+=_;a[v][h][w]=a[v-1][h][w]+e[w];s[v][h][w]=s[v-1][h][w]+t[w];u[v][h][w]=u[v-1][h][w]+r[w];l[v][h][w]=l[v-1][h][w]+n[w];c[v][h][w]=c[v-1][h][w]+i[w];f[v][h][w]=f[v-1][h][w]+o[w];this._weights[p][v][h][w]=this._weights[p-1][v][h][w]+a[v][h][w];this._momentsRed[p][v][h][w]=this._momentsRed[p-1][v][h][w]+s[v][h][w];this._momentsGreen[p][v][h][w]=this._momentsGreen[p-1][v][h][w]+u[v][h][w];this._momentsBlue[p][v][h][w]=this._momentsBlue[p-1][v][h][w]+l[v][h][w];this._momentsAlpha[p][v][h][w]=this._momentsAlpha[p-1][v][h][w]+c[v][h][w];this._moments[p][v][h][w]=this._moments[p-1][v][h][w]+f[v][h][w]}}}}}static _volumeFloat(e,t){return t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMaximum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(t[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]-t[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+t[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-t[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]+t[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-t[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum])}static _volume(e,t){return ke._volumeFloat(e,t)|0}static _top(e,t,r,n){let i;switch(t){case ke._alpha:i=n[r][e.redMaximum][e.greenMaximum][e.blueMaximum]-n[r][e.redMaximum][e.greenMinimum][e.blueMaximum]-n[r][e.redMinimum][e.greenMaximum][e.blueMaximum]+n[r][e.redMinimum][e.greenMinimum][e.blueMaximum]-(n[r][e.redMaximum][e.greenMaximum][e.blueMinimum]-n[r][e.redMaximum][e.greenMinimum][e.blueMinimum]-n[r][e.redMinimum][e.greenMaximum][e.blueMinimum]+n[r][e.redMinimum][e.greenMinimum][e.blueMinimum]);break;case ke._red:i=n[e.alphaMaximum][r][e.greenMaximum][e.blueMaximum]-n[e.alphaMaximum][r][e.greenMinimum][e.blueMaximum]-n[e.alphaMinimum][r][e.greenMaximum][e.blueMaximum]+n[e.alphaMinimum][r][e.greenMinimum][e.blueMaximum]-(n[e.alphaMaximum][r][e.greenMaximum][e.blueMinimum]-n[e.alphaMaximum][r][e.greenMinimum][e.blueMinimum]-n[e.alphaMinimum][r][e.greenMaximum][e.blueMinimum]+n[e.alphaMinimum][r][e.greenMinimum][e.blueMinimum]);break;case ke._green:i=n[e.alphaMaximum][e.redMaximum][r][e.blueMaximum]-n[e.alphaMaximum][e.redMinimum][r][e.blueMaximum]-n[e.alphaMinimum][e.redMaximum][r][e.blueMaximum]+n[e.alphaMinimum][e.redMinimum][r][e.blueMaximum]-(n[e.alphaMaximum][e.redMaximum][r][e.blueMinimum]-n[e.alphaMaximum][e.redMinimum][r][e.blueMinimum]-n[e.alphaMinimum][e.redMaximum][r][e.blueMinimum]+n[e.alphaMinimum][e.redMinimum][r][e.blueMinimum]);break;case ke._blue:i=n[e.alphaMaximum][e.redMaximum][e.greenMaximum][r]-n[e.alphaMaximum][e.redMaximum][e.greenMinimum][r]-n[e.alphaMaximum][e.redMinimum][e.greenMaximum][r]+n[e.alphaMaximum][e.redMinimum][e.greenMinimum][r]-(n[e.alphaMinimum][e.redMaximum][e.greenMaximum][r]-n[e.alphaMinimum][e.redMaximum][e.greenMinimum][r]-n[e.alphaMinimum][e.redMinimum][e.greenMaximum][r]+n[e.alphaMinimum][e.redMinimum][e.greenMinimum][r]);break;default:throw new Error("impossible")}return i|0}static _bottom(e,t,r){switch(t){case ke._alpha:return-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case ke._red:return-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case ke._green:return-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMaximum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMaximum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMaximum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMaximum]-(-r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);case ke._blue:return-r[e.alphaMaximum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMaximum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMaximum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMaximum][e.redMinimum][e.greenMinimum][e.blueMinimum]-(-r[e.alphaMinimum][e.redMaximum][e.greenMaximum][e.blueMinimum]+r[e.alphaMinimum][e.redMaximum][e.greenMinimum][e.blueMinimum]+r[e.alphaMinimum][e.redMinimum][e.greenMaximum][e.blueMinimum]-r[e.alphaMinimum][e.redMinimum][e.greenMinimum][e.blueMinimum]);default:return 0}}_calculateVariance(e){const t=ke._volume(e,this._momentsRed);const r=ke._volume(e,this._momentsGreen);const n=ke._volume(e,this._momentsBlue);const i=ke._volume(e,this._momentsAlpha);const o=ke._volumeFloat(e,this._moments);const a=ke._volume(e,this._weights);const s=t*t+r*r+n*n+i*i;return o-s/a}_maximize(e,t,r,n,i,o,a,s,u){const l=ke._bottom(e,t,this._momentsRed)|0;const c=ke._bottom(e,t,this._momentsGreen)|0;const f=ke._bottom(e,t,this._momentsBlue)|0;const h=ke._bottom(e,t,this._momentsAlpha)|0;const d=ke._bottom(e,t,this._weights)|0;let p=0;let v=-1;for(let m=r;m<n;++m){let r=l+ke._top(e,t,m,this._momentsRed);let n=c+ke._top(e,t,m,this._momentsGreen);let g=f+ke._top(e,t,m,this._momentsBlue);let y=h+ke._top(e,t,m,this._momentsAlpha);let b=d+ke._top(e,t,m,this._weights);if(b!==0){let e=r*r+n*n+g*g+y*y;let t=e/b;r=i-r;n=o-n;g=a-g;y=s-y;b=u-b;if(b!==0){e=r*r+n*n+g*g+y*y;t+=e/b;if(t>p){p=t;v=m}}}}return{max:p,position:v}}_cut(e,t){let r;const n=ke._volume(e,this._momentsRed);const i=ke._volume(e,this._momentsGreen);const o=ke._volume(e,this._momentsBlue);const a=ke._volume(e,this._momentsAlpha);const s=ke._volume(e,this._weights);const u=this._maximize(e,ke._red,e.redMinimum+1,e.redMaximum,n,i,o,a,s);const l=this._maximize(e,ke._green,e.greenMinimum+1,e.greenMaximum,n,i,o,a,s);const c=this._maximize(e,ke._blue,e.blueMinimum+1,e.blueMaximum,n,i,o,a,s);const f=this._maximize(e,ke._alpha,e.alphaMinimum+1,e.alphaMaximum,n,i,o,a,s);if(f.max>=u.max&&f.max>=l.max&&f.max>=c.max){r=ke._alpha;if(f.position<0)return false}else if(u.max>=f.max&&u.max>=l.max&&u.max>=c.max){r=ke._red}else if(l.max>=f.max&&l.max>=u.max&&l.max>=c.max){r=ke._green}else{r=ke._blue}t.redMaximum=e.redMaximum;t.greenMaximum=e.greenMaximum;t.blueMaximum=e.blueMaximum;t.alphaMaximum=e.alphaMaximum;switch(r){case ke._red:t.redMinimum=e.redMaximum=u.position;t.greenMinimum=e.greenMinimum;t.blueMinimum=e.blueMinimum;t.alphaMinimum=e.alphaMinimum;break;case ke._green:t.greenMinimum=e.greenMaximum=l.position;t.redMinimum=e.redMinimum;t.blueMinimum=e.blueMinimum;t.alphaMinimum=e.alphaMinimum;break;case ke._blue:t.blueMinimum=e.blueMaximum=c.position;t.redMinimum=e.redMinimum;t.greenMinimum=e.greenMinimum;t.alphaMinimum=e.alphaMinimum;break;case ke._alpha:t.alphaMinimum=e.alphaMaximum=f.position;t.blueMinimum=e.blueMinimum;t.redMinimum=e.redMinimum;t.greenMinimum=e.greenMinimum;break}e.volume=(e.redMaximum-e.redMinimum)*(e.greenMaximum-e.greenMinimum)*(e.blueMaximum-e.blueMinimum)*(e.alphaMaximum-e.alphaMinimum);t.volume=(t.redMaximum-t.redMinimum)*(t.greenMaximum-t.greenMinimum)*(t.blueMaximum-t.blueMinimum)*(t.alphaMaximum-t.alphaMinimum);return true}_initialize(e){this._colors=e;this._cubes=[];for(let t=0;t<e;t++){this._cubes[t]=new Ce}this._cubes[0].redMinimum=0;this._cubes[0].greenMinimum=0;this._cubes[0].blueMinimum=0;this._cubes[0].alphaMinimum=0;this._cubes[0].redMaximum=this._maxSideIndex;this._cubes[0].greenMaximum=this._maxSideIndex;this._cubes[0].blueMaximum=this._maxSideIndex;this._cubes[0].alphaMaximum=this._alphaMaxSideIndex;this._weights=xe(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize);this._momentsRed=xe(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize);this._momentsGreen=xe(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize);this._momentsBlue=xe(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize);this._momentsAlpha=xe(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize);this._moments=xe(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize);this._table=[];for(let e=0;e<256;++e){this._table[e]=e*e}this._pixels=[]}_setQuality(e=5){this._significantBitsPerChannel=e;this._maxSideIndex=1<<this._significantBitsPerChannel;this._alphaMaxSideIndex=this._maxSideIndex;this._sideSize=this._maxSideIndex+1;this._alphaSideSize=this._alphaMaxSideIndex+1}};var Re=ke;a(Re,"_alpha",3);a(Re,"_red",2);a(Re,"_green",1);a(Re,"_blue",0);var Pe={};o(Pe,{AbstractImageQuantizer:()=>Me,ErrorDiffusionArray:()=>Fe,ErrorDiffusionArrayKernel:()=>Ne,ErrorDiffusionRiemersma:()=>ze,NearestColor:()=>Le});var Me=class{quantizeSync(e,t){for(const r of this.quantize(e,t)){if(r.pointContainer){return r.pointContainer}}throw new Error("unreachable")}};var Le=class extends Me{constructor(e){super();a(this,"_distance");this._distance=e}*quantize(e,t){const r=e.getPointArray();const n=e.getWidth();const i=e.getHeight();const o=new he(i,99);for(let e=0;e<i;e++){if(o.shouldNotify(e)){yield{progress:o.progress}}for(let i=0,o=e*n;i<n;i++,o++){const e=r[o];e.from(t.getNearestColor(this._distance,e))}}yield{pointContainer:e,progress:100}}};var Ne=(e=>{e[e["FloydSteinberg"]=0]="FloydSteinberg";e[e["FalseFloydSteinberg"]=1]="FalseFloydSteinberg";e[e["Stucki"]=2]="Stucki";e[e["Atkinson"]=3]="Atkinson";e[e["Jarvis"]=4]="Jarvis";e[e["Burkes"]=5]="Burkes";e[e["Sierra"]=6]="Sierra";e[e["TwoSierra"]=7]="TwoSierra";e[e["SierraLite"]=8]="SierraLite";return e})(Ne||{});var Fe=class extends Me{constructor(e,t,r=true,n=0,i=false){super();a(this,"_minColorDistance");a(this,"_serpentine");a(this,"_kernel");a(this,"_calculateErrorLikeGIMP");a(this,"_distance");this._setKernel(t);this._distance=e;this._minColorDistance=n;this._serpentine=r;this._calculateErrorLikeGIMP=i}*quantize(e,t){const r=e.getPointArray();const n=new ne;const i=e.getWidth();const o=e.getHeight();const a=[];let s=1;let u=1;for(const e of this._kernel){const t=e[2]+1;if(u<t)u=t}for(let e=0;e<u;e++){this._fillErrorLine(a[e]=[],i)}const l=new he(o,99);for(let e=0;e<o;e++){if(l.shouldNotify(e)){yield{progress:l.progress}}if(this._serpentine)s*=-1;const u=e*i;const c=s===1?0:i-1;const f=s===1?i:-1;this._fillErrorLine(a[0],i);a.push(a.shift());const h=a[0];for(let l=c,d=u+c;l!==f;l+=s,d+=s){const u=r[d];const c=h[l];n.from(u);const f=ne.createByRGBA(_(u.r+c[0]),_(u.g+c[1]),_(u.b+c[2]),_(u.a+c[3]));const p=t.getNearestColor(this._distance,f);u.from(p);if(this._minColorDistance){const e=this._distance.calculateNormalized(n,p);if(e<this._minColorDistance)continue}let v;let m;let g;let y;if(this._calculateErrorLikeGIMP){v=f.r-p.r;m=f.g-p.g;g=f.b-p.b;y=f.a-p.a}else{v=n.r-p.r;m=n.g-p.g;g=n.b-p.b;y=n.a-p.a}const b=s===1?0:this._kernel.length-1;const w=s===1?this._kernel.length:-1;for(let t=b;t!==w;t+=s){const r=this._kernel[t][1]*s;const n=this._kernel[t][2];if(r+l>=0&&r+l<i&&n+e>=0&&n+e<o){const e=this._kernel[t][0];const i=a[n][r+l];i[0]+=v*e;i[1]+=m*e;i[2]+=g*e;i[3]+=y*e}}}}yield{pointContainer:e,progress:100}}_fillErrorLine(e,t){if(e.length>t){e.length=t}const r=e.length;for(let t=0;t<r;t++){const r=e[t];r[0]=r[1]=r[2]=r[3]=0}for(let n=r;n<t;n++){e[n]=[0,0,0,0]}}_setKernel(e){switch(e){case 0:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case 1:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case 2:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case 3:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case 4:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case 5:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case 6:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case 7:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case 8:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error(`ErrorDiffusionArray: unknown kernel = ${e}`)}}};function*je(e,t,r){const n=Math.max(e,t);const i=Math.floor(Math.log(n)/Math.log(2)+1);const o=new he(e*t,99);const a={width:e,height:t,level:i,callback:r,tracker:o,index:0,x:0,y:0};yield*Be(a,1);Ue(a,0)}function*Be(e,t){if(e.level<1)return;if(e.tracker.shouldNotify(e.index)){yield{progress:e.tracker.progress}}e.level--;switch(t){case 2:yield*Be(e,1);Ue(e,3);yield*Be(e,2);Ue(e,4);yield*Be(e,2);Ue(e,2);yield*Be(e,4);break;case 3:yield*Be(e,4);Ue(e,2);yield*Be(e,3);Ue(e,1);yield*Be(e,3);Ue(e,3);yield*Be(e,1);break;case 1:yield*Be(e,2);Ue(e,4);yield*Be(e,1);Ue(e,3);yield*Be(e,1);Ue(e,1);yield*Be(e,3);break;case 4:yield*Be(e,3);Ue(e,1);yield*Be(e,4);Ue(e,2);yield*Be(e,4);Ue(e,4);yield*Be(e,2);break;default:break}e.level++}function Ue(e,t){if(e.x>=0&&e.x<e.width&&e.y>=0&&e.y<e.height){e.callback(e.x,e.y);e.index++}switch(t){case 2:e.x--;break;case 3:e.x++;break;case 1:e.y--;break;case 4:e.y++;break}}var ze=class extends Me{constructor(e,t=16,r=1){super();a(this,"_distance");a(this,"_weights");a(this,"_errorQueueSize");this._distance=e;this._errorQueueSize=t;this._weights=ze._createWeights(r,t)}*quantize(e,t){const r=e.getPointArray();const n=e.getWidth();const i=e.getHeight();const o=[];let a=0;for(let e=0;e<this._errorQueueSize;e++){o[e]={r:0,g:0,b:0,a:0}}yield*je(n,i,((e,i)=>{const s=r[e+i*n];let{r:u,g:l,b:c,a:f}=s;for(let e=0;e<this._errorQueueSize;e++){const t=this._weights[e];const r=o[(e+a)%this._errorQueueSize];u+=r.r*t;l+=r.g*t;c+=r.b*t;f+=r.a*t}const h=ne.createByRGBA(_(u),_(l),_(c),_(f));const d=t.getNearestColor(this._distance,h);a=(a+1)%this._errorQueueSize;const p=(a+this._errorQueueSize-1)%this._errorQueueSize;o[p].r=s.r-d.r;o[p].g=s.g-d.g;o[p].b=s.b-d.b;o[p].a=s.a-d.a;s.from(d)}));yield{pointContainer:e,progress:100}}static _createWeights(e,t){const r=[];const n=Math.exp(Math.log(t)/(t-1));for(let i=0,o=1;i<t;i++){r[i]=(o+.5|0)/t*e;o*=n}return r}};var $e={};o($e,{ssim:()=>We});var Ge=.01;var He=.03;function We(e,t){if(e.getHeight()!==t.getHeight()||e.getWidth()!==t.getWidth()){throw new Error("Images have different sizes!")}const r=8;const n=(1<<r)-1;const i=(Ge*n)**2;const o=(He*n)**2;let a=0;let s=0;Ve(e,t,((e,t,r,n)=>{let u=0;let l=0;let c=0;for(let i=0;i<e.length;i++){l+=(e[i]-r)**2;c+=(t[i]-n)**2;u+=(e[i]-r)*(t[i]-n)}const f=e.length-1;l/=f;c/=f;u/=f;const h=(2*r*n+i)*(2*u+o);const d=(r**2+n**2+i)*(l+c+o);const p=h/d;s+=p;a++}));return s/a}function Ve(e,t,r){const n=8;const i=e.getWidth();const o=e.getHeight();for(let a=0;a<o;a+=n){for(let s=0;s<i;s+=n){const u=Math.min(n,i-s);const l=Math.min(n,o-a);const c=qe(e,s,a,u,l);const f=qe(t,s,a,u,l);const h=Je(c);const d=Je(f);r(c,f,h,d)}}}function qe(e,t,r,n,i){const o=e.getPointArray();const a=[];let s=0;for(let u=r;u<r+i;u++){const r=u*e.getWidth();for(let e=t;e<t+n;e++){const t=o[r+e];a[s]=t.r*.2126+t.g*.7152+t.b*.0722;s++}}return a}function Je(e){let t=0;for(const r of e){t+=r}return t/e.length}var Ye=typeof setImmediate==="function"?setImmediate:typeof process!=="undefined"&&typeof(process==null?void 0:process.nextTick)==="function"?e=>process.nextTick(e):e=>setTimeout(e,0);function Ke(e,{colorDistanceFormula:t,paletteQuantization:r,colors:n}={}){const i=et(t);const o=rt(i,r,n);e.forEach((e=>o.sample(e)));return o.quantizeSync()}async function Xe(e,{colorDistanceFormula:t,paletteQuantization:r,colors:n,onProgress:i}={}){return new Promise(((o,a)=>{const s=et(t);const u=rt(s,r,n);e.forEach((e=>u.sample(e)));let l;const c=u.quantize();const f=()=>{try{const e=c.next();if(e.done){o(l)}else{if(e.value.palette)l=e.value.palette;if(i)i(e.value.progress);Ye(f)}}catch(e){a(e)}};Ye(f)}))}function Ze(e,t,{colorDistanceFormula:r,imageQuantization:n}={}){const i=et(r);const o=tt(i,n);return o.quantizeSync(e,t)}async function Qe(e,t,{colorDistanceFormula:r,imageQuantization:n,onProgress:i}={}){return new Promise(((o,a)=>{const s=et(r);const u=tt(s,n);let l;const c=u.quantize(e,t);const f=()=>{try{const e=c.next();if(e.done){o(l)}else{if(e.value.pointContainer){l=e.value.pointContainer}if(i)i(e.value.progress);Ye(f)}}catch(e){a(e)}};Ye(f)}))}function et(e="euclidean-bt709"){switch(e){case"cie94-graphic-arts":return new $;case"cie94-textiles":return new z;case"ciede2000":return new H;case"color-metric":return new W;case"euclidean":return new q;case"euclidean-bt709":return new J;case"euclidean-bt709-noalpha":return new Y;case"manhattan":return new X;case"manhattan-bt709":return new Q;case"manhattan-nommyde":return new Z;case"pngquant":return new ee;default:throw new Error(`Unknown colorDistanceFormula ${e}`)}}function tt(e,t="floyd-steinberg"){switch(t){case"nearest":return new Le(e);case"riemersma":return new ze(e);case"floyd-steinberg":return new Fe(e,0);case"false-floyd-steinberg":return new Fe(e,1);case"stucki":return new Fe(e,2);case"atkinson":return new Fe(e,3);case"jarvis":return new Fe(e,4);case"burkes":return new Fe(e,5);case"sierra":return new Fe(e,6);case"two-sierra":return new Fe(e,7);case"sierra-lite":return new Fe(e,8);default:throw new Error(`Unknown imageQuantization ${t}`)}}function rt(e,t="wuquant",r=256){switch(t){case"neuquant":return new me(e,r);case"rgbquant":return new Te(e,r);case"wuquant":return new Re(e,r);case"neuquant-float":return new _e(e,r);default:throw new Error(`Unknown paletteQuantization ${t}`)}}},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(46));var o=r(110);var a=n(r(277));var s=n(r(278));var u=n(r(280));var l=n(r(281));var c=n(r(282));var f=n(r(283));var h=n(r(284));var d=n(r(285));var p=n(r(286));var v=n(r(287));var m=n(r(288));var g=n(r(289));var y=n(r(290));var b=n(r(291));var _=n(r(292));var w=n(r(293));var E=n(r(307));var S=n(r(310));var T=n(r(311));var A=n(r(312));var x=n(r(313));var D=[a["default"],s["default"],u["default"],l["default"],c["default"],f["default"],h["default"],d["default"],p["default"],v["default"],m["default"],g["default"],y["default"],b["default"],_["default"],w["default"],E["default"],S["default"],T["default"],A["default"],x["default"]];var O=function e(t){var r=D.map((function(e){var r=e(t)||{};if(!r["class"]&&!r.constants){r={class:r}}return r}));return o.mergeDeep.apply(void 0,(0,i["default"])(r))};t["default"]=O},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(14));var o=r(4);var a=function e(){return{blit:function e(t,r,n,a,s,u,l,c){if(!(t instanceof this.constructor)){return o.throwError.call(this,"The source must be a Jimp image",c)}if(typeof r!=="number"||typeof n!=="number"){return o.throwError.call(this,"x and y must be numbers",c)}if(typeof a==="function"){c=a;a=0;s=0;u=t.bitmap.width;l=t.bitmap.height}else if((0,i["default"])(a)===(0,i["default"])(s)&&(0,i["default"])(s)===(0,i["default"])(u)&&(0,i["default"])(u)===(0,i["default"])(l)){a=a||0;s=s||0;u=u||t.bitmap.width;l=l||t.bitmap.height}else{return o.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",c)}r=Math.round(r);n=Math.round(n);a=Math.round(a);s=Math.round(s);u=Math.round(u);l=Math.round(l);var f=this.bitmap.width;var h=this.bitmap.height;var d=this;t.scanQuiet(a,s,u,l,(function(e,t,i){var o=r+e-a;var u=n+t-s;if(o>=0&&u>=0&&f-o>0&&h-u>0){var l=d.getPixelIndex(o,u);var c={r:this.bitmap.data[i],g:this.bitmap.data[i+1],b:this.bitmap.data[i+2],a:this.bitmap.data[i+3]};var p={r:d.bitmap.data[l],g:d.bitmap.data[l+1],b:d.bitmap.data[l+2],a:d.bitmap.data[l+3]};d.bitmap.data[l]=(c.a*(c.r-p.r)-p.r+255>>8)+p.r;d.bitmap.data[l+1]=(c.a*(c.g-p.g)-p.g+255>>8)+p.g;d.bitmap.data[l+2]=(c.a*(c.b-p.b)-p.b+255>>8)+p.b;d.bitmap.data[l+3]=this.constructor.limit255(p.a+c.a)}}));if((0,o.isNodePattern)(c)){c.call(this,null,this)}return this}}};t["default"]=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=r(279);var o=function e(){return{blur:function e(t,r){if(typeof t!=="number")return n.throwError.call(this,"r must be a number",r);if(t<1)return n.throwError.call(this,"r must be greater than 0",r);var o;var a;var s;var u;var l;var c;var f;var h;var d;var p;var v;var m;var g;var y;var b=this.bitmap.width-1;var _=this.bitmap.height-1;var w=t+1;var E=i.mulTable[t];var S=i.shgTable[t];var T=[];var A=[];var x=[];var D=[];var O=[];var I=[];var C=2;while(C-- >0){m=0;g=0;for(c=0;c<this.bitmap.height;c++){o=this.bitmap.data[g]*w;a=this.bitmap.data[g+1]*w;s=this.bitmap.data[g+2]*w;u=this.bitmap.data[g+3]*w;for(f=1;f<=t;f++){h=g+((f>b?b:f)<<2);o+=this.bitmap.data[h++];a+=this.bitmap.data[h++];s+=this.bitmap.data[h++];u+=this.bitmap.data[h]}for(l=0;l<this.bitmap.width;l++){T[m]=o;A[m]=a;x[m]=s;D[m]=u;if(c===0){O[l]=((h=l+w)<b?h:b)<<2;I[l]=(h=l-t)>0?h<<2:0}d=g+O[l];p=g+I[l];o+=this.bitmap.data[d++]-this.bitmap.data[p++];a+=this.bitmap.data[d++]-this.bitmap.data[p++];s+=this.bitmap.data[d++]-this.bitmap.data[p++];u+=this.bitmap.data[d]-this.bitmap.data[p];m++}g+=this.bitmap.width<<2}for(l=0;l<this.bitmap.width;l++){v=l;o=T[v]*w;a=A[v]*w;s=x[v]*w;u=D[v]*w;for(f=1;f<=t;f++){v+=f>_?0:this.bitmap.width;o+=T[v];a+=A[v];s+=x[v];u+=D[v]}m=l<<2;for(c=0;c<this.bitmap.height;c++){y=u*E>>>S;this.bitmap.data[m+3]=y;if(y>255){this.bitmap.data[m+3]=255}if(y>0){y=255/y;this.bitmap.data[m]=(o*E>>>S)*y;this.bitmap.data[m+1]=(a*E>>>S)*y;this.bitmap.data[m+2]=(s*E>>>S)*y}else{this.bitmap.data[m+2]=0;this.bitmap.data[m+1]=0;this.bitmap.data[m]=0}if(l===0){O[c]=((h=c+w)<_?h:_)*this.bitmap.width;I[c]=(h=c-t)>0?h*this.bitmap.width:0}d=l+O[c];p=l+I[c];o+=T[d]-T[p];a+=A[d]-A[p];s+=x[d]-x[p];u+=D[d]-D[p];m+=this.bitmap.width<<2}}}if((0,n.isNodePattern)(r)){r.call(this,null,this)}return this}}};t["default"]=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.shgTable=t.mulTable=void 0;var n=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];t.mulTable=n;var i=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];t.shgTable=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{circle:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1?arguments[1]:undefined;if(typeof t==="function"){r=t;t={}}var i=t.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2;var o={x:typeof t.x==="number"?t.x:this.bitmap.width/2,y:typeof t.y==="number"?t.y:this.bitmap.height/2};this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){var n=Math.sqrt(Math.pow(e-o.x,2)+Math.pow(t-o.y,2));if(i-n<=0){this.bitmap.data[r+3]=0}else if(i-n<1){this.bitmap.data[r+3]=255*(i-n)}}));if((0,n.isNodePattern)(r)){r.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";(function(e){var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(46));var o=n(r(99));var a=r(4);function s(e,t,r,n){var i=[0,0,0];var o=(t.length-1)/2;for(var a=0;a<t.length;a+=1){for(var s=0;s<t[a].length;s+=1){var u=e.getPixelIndex(r+a-o,n+s-o);i[0]+=e.bitmap.data[u]*t[a][s];i[1]+=e.bitmap.data[u+1]*t[a][s];i[2]+=e.bitmap.data[u+2]*t[a][s]}}return i}var u=function e(t){return typeof t!=="undefined"&&t!==null};function l(e){this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){var n=parseInt(.2126*this.bitmap.data[r]+.7152*this.bitmap.data[r+1]+.0722*this.bitmap.data[r+2],10);this.bitmap.data[r]=n;this.bitmap.data[r+1]=n;this.bitmap.data[r+2]=n}));if((0,a.isNodePattern)(e)){e.call(this,null,this)}return this}function c(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:50;return{r:(t.r-e.r)*(r/100)+e.r,g:(t.g-e.g)*(r/100)+e.g,b:(t.b-e.b)*(r/100)+e.b}}function f(e,t){var r=this;if(!e||!Array.isArray(e)){return a.throwError.call(this,"actions must be an array",t)}e=e.map((function(e){if(e.apply==="xor"||e.apply==="mix"){e.params[0]=(0,o["default"])(e.params[0]).toRgb()}return e}));this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(n,s,u){var l={r:r.bitmap.data[u],g:r.bitmap.data[u+1],b:r.bitmap.data[u+2]};var f=function e(t,n){return r.constructor.limit255(l[t]+n)};e.forEach((function(e){if(e.apply==="mix"){l=c(l,e.params[0],e.params[1])}else if(e.apply==="tint"){l=c(l,{r:255,g:255,b:255},e.params[0])}else if(e.apply==="shade"){l=c(l,{r:0,g:0,b:0},e.params[0])}else if(e.apply==="xor"){l={r:l.r^e.params[0].r,g:l.g^e.params[0].g,b:l.b^e.params[0].b}}else if(e.apply==="red"){l.r=f("r",e.params[0])}else if(e.apply==="green"){l.g=f("g",e.params[0])}else if(e.apply==="blue"){l.b=f("b",e.params[0])}else{var n;if(e.apply==="hue"){e.apply="spin"}l=(0,o["default"])(l);if(!l[e.apply]){return a.throwError.call(r,"action "+e.apply+" not supported",t)}l=(n=l)[e.apply].apply(n,(0,i["default"])(e.params)).toRgb()}}));r.bitmap.data[u]=l.r;r.bitmap.data[u+1]=l.g;r.bitmap.data[u+2]=l.b}));if((0,a.isNodePattern)(t)){t.call(this,null,this)}return this}var h=function t(){return{brightness:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"val must be numbers",r)}if(t<-1||t>+1){return a.throwError.call(this,"val must be a number between -1 and +1",r)}this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,r,n){if(t<0){this.bitmap.data[n]=this.bitmap.data[n]*(1+t);this.bitmap.data[n+1]=this.bitmap.data[n+1]*(1+t);this.bitmap.data[n+2]=this.bitmap.data[n+2]*(1+t)}else{this.bitmap.data[n]=this.bitmap.data[n]+(255-this.bitmap.data[n])*t;this.bitmap.data[n+1]=this.bitmap.data[n+1]+(255-this.bitmap.data[n+1])*t;this.bitmap.data[n+2]=this.bitmap.data[n+2]+(255-this.bitmap.data[n+2])*t}}));if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},contrast:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"val must be numbers",r)}if(t<-1||t>+1){return a.throwError.call(this,"val must be a number between -1 and +1",r)}var n=(t+1)/(1-t);function i(e){e=Math.floor(n*(e-127)+127);return e<0?0:e>255?255:e}this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data[r]=i(this.bitmap.data[r]);this.bitmap.data[r+1]=i(this.bitmap.data[r+1]);this.bitmap.data[r+2]=i(this.bitmap.data[r+2])}));if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},posterize:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"n must be numbers",r)}if(t<2){t=2}this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,r,n){this.bitmap.data[n]=Math.floor(this.bitmap.data[n]/255*(t-1))/(t-1)*255;this.bitmap.data[n+1]=Math.floor(this.bitmap.data[n+1]/255*(t-1))/(t-1)*255;this.bitmap.data[n+2]=Math.floor(this.bitmap.data[n+2]/255*(t-1))/(t-1)*255}));if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},greyscale:l,grayscale:l,opacity:function e(t,r){if(typeof t!=="number")return a.throwError.call(this,"f must be a number",r);if(t<0||t>1)return a.throwError.call(this,"f must be a number from 0 to 1",r);this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,r,n){var i=this.bitmap.data[n+3]*t;this.bitmap.data[n+3]=i}));if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},sepia:function e(t){this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){var n=this.bitmap.data[r];var i=this.bitmap.data[r+1];var o=this.bitmap.data[r+2];n=n*.393+i*.769+o*.189;i=n*.349+i*.686+o*.168;o=n*.272+i*.534+o*.131;this.bitmap.data[r]=n<255?n:255;this.bitmap.data[r+1]=i<255?i:255;this.bitmap.data[r+2]=o<255?o:255}));if((0,a.isNodePattern)(t)){t.call(this,null,this)}return this},fade:function e(t,r){if(typeof t!=="number"){return a.throwError.call(this,"f must be a number",r)}if(t<0||t>1){return a.throwError.call(this,"f must be a number from 0 to 1",r)}this.opacity(1-t);if((0,a.isNodePattern)(r)){r.call(this,null,this)}return this},convolution:function t(r,n,i){if(typeof n==="function"&&typeof i==="undefined"){i=n;n=null}if(!n){n=this.constructor.EDGE_EXTEND}var o=e.from(this.bitmap.data);var s=r.length;var u=r[0].length;var l=Math.floor(s/2);var c=Math.floor(u/2);var f=-l;var h=-c;var d;var p;var v;var m;var g;var y;var b;var _;var w;var E;this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,i){m=0;v=0;p=0;for(var a=f;a<=l;a++){for(var s=h;s<=c;s++){_=e+s;w=t+a;d=r[a+l][s+c];E=this.getPixelIndex(_,w,n);if(E===-1){b=0;y=0;g=0}else{g=this.bitmap.data[E+0];y=this.bitmap.data[E+1];b=this.bitmap.data[E+2]}p+=d*g;v+=d*y;m+=d*b}}if(p<0){p=0}if(v<0){v=0}if(m<0){m=0}if(p>255){p=255}if(v>255){v=255}if(m>255){m=255}o[i+0]=p;o[i+1]=v;o[i+2]=m}));this.bitmap.data=o;if((0,a.isNodePattern)(i)){i.call(this,null,this)}return this},opaque:function e(t){this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data[r+3]=255}));if((0,a.isNodePattern)(t)){t.call(this,null,this)}return this},pixelate:function e(t,r,n,i,o,l){if(typeof r==="function"){l=r;o=null;i=null;n=null;r=null}else{if(typeof t!=="number"){return a.throwError.call(this,"size must be a number",l)}if(u(r)&&typeof r!=="number"){return a.throwError.call(this,"x must be a number",l)}if(u(n)&&typeof n!=="number"){return a.throwError.call(this,"y must be a number",l)}if(u(i)&&typeof i!=="number"){return a.throwError.call(this,"w must be a number",l)}if(u(o)&&typeof o!=="number"){return a.throwError.call(this,"h must be a number",l)}}var c=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];r=r||0;n=n||0;i=u(i)?i:this.bitmap.width-r;o=u(o)?o:this.bitmap.height-n;var f=this.cloneQuiet();this.scanQuiet(r,n,i,o,(function(e,r,n){e=t*Math.floor(e/t);r=t*Math.floor(r/t);var i=s(f,c,e,r);this.bitmap.data[n]=i[0];this.bitmap.data[n+1]=i[1];this.bitmap.data[n+2]=i[2]}));if((0,a.isNodePattern)(l)){l.call(this,null,this)}return this},convolute:function e(t,r,n,i,o,l){if(!Array.isArray(t))return a.throwError.call(this,"the kernel must be an array",l);if(typeof r==="function"){l=r;r=null;n=null;i=null;o=null}else{if(u(r)&&typeof r!=="number"){return a.throwError.call(this,"x must be a number",l)}if(u(n)&&typeof n!=="number"){return a.throwError.call(this,"y must be a number",l)}if(u(i)&&typeof i!=="number"){return a.throwError.call(this,"w must be a number",l)}if(u(o)&&typeof o!=="number"){return a.throwError.call(this,"h must be a number",l)}}var c=(t.length-1)/2;r=u(r)?r:c;n=u(n)?n:c;i=u(i)?i:this.bitmap.width-r;o=u(o)?o:this.bitmap.height-n;var f=this.cloneQuiet();this.scanQuiet(r,n,i,o,(function(e,r,n){var i=s(f,t,e,r);this.bitmap.data[n]=this.constructor.limit255(i[0]);this.bitmap.data[n+1]=this.constructor.limit255(i[1]);this.bitmap.data[n+2]=this.constructor.limit255(i[2])}));if((0,a.isNodePattern)(l)){l.call(this,null,this)}return this},color:f,colour:f}};t["default"]=h}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{contain:function e(t,r,i,o,a){if(typeof t!=="number"||typeof r!=="number"){return n.throwError.call(this,"w and h must be numbers",a)}if(typeof i==="string"){if(typeof o==="function"&&typeof a==="undefined")a=o;o=i;i=null}if(typeof i==="function"){if(typeof a==="undefined")a=i;o=null;i=null}if(typeof o==="function"&&typeof a==="undefined"){a=o;o=null}i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var s=i&(1<<3)-1;var u=i>>3;if(!(s!==0&&!(s&s-1)||u!==0&&!(u&u-1))){return n.throwError.call(this,"only use one flag per alignment direction",a)}var l=s>>1;var c=u>>1;var f=t/r>this.bitmap.width/this.bitmap.height?r/this.bitmap.height:t/this.bitmap.width;var h=this.cloneQuiet().scale(f,o);this.resize(t,r,o);this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data.writeUInt32BE(this._background,r)}));this.blit(h,(this.bitmap.width-h.bitmap.width)/2*l,(this.bitmap.height-h.bitmap.height)/2*c);if((0,n.isNodePattern)(a)){a.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{cover:function e(t,r,i,o,a){if(typeof t!=="number"||typeof r!=="number"){return n.throwError.call(this,"w and h must be numbers",a)}if(i&&typeof i==="function"&&typeof a==="undefined"){a=i;i=null;o=null}else if(typeof o==="function"&&typeof a==="undefined"){a=o;o=null}i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var s=i&(1<<3)-1;var u=i>>3;if(!(s!==0&&!(s&s-1)||u!==0&&!(u&u-1)))return n.throwError.call(this,"only use one flag per alignment direction",a);var l=s>>1;var c=u>>1;var f=t/r>this.bitmap.width/this.bitmap.height?t/this.bitmap.width:r/this.bitmap.height;this.scale(f,o);this.crop((this.bitmap.width-t)/2*l,(this.bitmap.height-r)/2*c,t,r);if((0,n.isNodePattern)(a)){a.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";(function(e){var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var i=n(r(14));var o=r(4);function a(t){t("crop",(function(t,r,n,i,a){if(typeof t!=="number"||typeof r!=="number")return o.throwError.call(this,"x and y must be numbers",a);if(typeof n!=="number"||typeof i!=="number")return o.throwError.call(this,"w and h must be numbers",a);t=Math.round(t);r=Math.round(r);n=Math.round(n);i=Math.round(i);if(t===0&&n===this.bitmap.width){var s=n*r+t<<2;var u=s+i*n<<2;this.bitmap.data=this.bitmap.data.slice(s,u)}else{var l=e.allocUnsafe(n*i*4);var c=0;this.scanQuiet(t,r,n,i,(function(e,t,r){var n=this.bitmap.data.readUInt32BE(r,true);l.writeUInt32BE(n,c,true);c+=4}));this.bitmap.data=l}this.bitmap.width=n;this.bitmap.height=i;if((0,o.isNodePattern)(a)){a.call(this,null,this)}return this}));return{class:{autocrop:function e(){var t=this.bitmap.width;var r=this.bitmap.height;var n=1;var a;var s=0;var u=2e-4;var l=true;var c=false;var f={north:false,south:false,east:false,west:false};for(var h=arguments.length,d=new Array(h),p=0;p<h;p++){d[p]=arguments[p]}for(var v=0,m=d.length;v<m;v++){if(typeof d[v]==="number"){u=d[v]}if(typeof d[v]==="boolean"){l=d[v]}if(typeof d[v]==="function"){a=d[v]}if((0,i["default"])(d[v])==="object"){var g=d[v];if(typeof g.tolerance!=="undefined"){u=g.tolerance}if(typeof g.cropOnlyFrames!=="undefined"){l=g.cropOnlyFrames}if(typeof g.cropSymmetric!=="undefined"){c=g.cropSymmetric}if(typeof g.leaveBorder!=="undefined"){s=g.leaveBorder}if(typeof g.ignoreSides!=="undefined"){f=g.ignoreSides}}}var y=this.getPixelColor(0,0);var b=this.constructor.intToRGBA(y);var _=0;var w=0;var E=0;var S=0;y=this.getPixelColor(0,0);if(!f.north){e:for(var T=0;T<r-n;T++){for(var A=0;A<t;A++){var x=this.getPixelColor(A,T);var D=this.constructor.intToRGBA(x);if(this.constructor.colorDiff(b,D)>u){break e}}_++}}y=this.getPixelColor(t,0);if(!f.east){e:for(var O=0;O<t-n;O++){for(var I=0+_;I<r;I++){var C=this.getPixelColor(O,I);var k=this.constructor.intToRGBA(C);if(this.constructor.colorDiff(b,k)>u){break e}}w++}}y=this.getPixelColor(0,r);if(!f.south){e:for(var R=r-1;R>=_+n;R--){for(var P=t-w-1;P>=0;P--){var M=this.getPixelColor(P,R);var L=this.constructor.intToRGBA(M);if(this.constructor.colorDiff(b,L)>u){break e}}E++}}y=this.getPixelColor(t,r);if(!f.west){e:for(var N=t-1;N>=0+w+n;N--){for(var F=r-1;F>=0+_;F--){var j=this.getPixelColor(N,F);var B=this.constructor.intToRGBA(j);if(this.constructor.colorDiff(b,B)>u){break e}}S++}}var U=false;S-=s;w-=s;_-=s;E-=s;if(c){var z=Math.min(w,S);var $=Math.min(_,E);S=z;w=z;_=$;E=$}S=S>=0?S:0;w=w>=0?w:0;_=_>=0?_:0;E=E>=0?E:0;var G=t-(S+w);var H=r-(E+_);if(l){U=w!==0&&_!==0&&S!==0&&E!==0}else{U=w!==0||_!==0||S!==0||E!==0}if(U){this.crop(w,_,G,H)}if((0,o.isNodePattern)(a)){a.call(this,null,this)}return this}}}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(r(14));var o=r(4);var a=function e(){return{displace:function e(t,r,n){if((0,i["default"])(t)!=="object"||t.constructor!==this.constructor){return o.throwError.call(this,"The source must be a Jimp image",n)}if(typeof r!=="number"){return o.throwError.call(this,"factor must be a number",n)}var a=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,i){var o=t.bitmap.data[i]/256*r;o=Math.round(o);var s=this.getPixelIndex(e+o,n);this.bitmap.data[s]=a.bitmap.data[i];this.bitmap.data[s+1]=a.bitmap.data[i+1];this.bitmap.data[s+2]=a.bitmap.data[i+2]}));if((0,o.isNodePattern)(n)){n.call(this,null,this)}return this}}};t["default"]=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);function i(e){var t=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,r,n){var i=((r&3)<<2)+e%4;var o=t[i];this.bitmap.data[n]=Math.min(this.bitmap.data[n]+o,255);this.bitmap.data[n+1]=Math.min(this.bitmap.data[n+1]+o,255);this.bitmap.data[n+2]=Math.min(this.bitmap.data[n+2]+o,255)}));if((0,n.isNodePattern)(e)){e.call(this,null,this)}return this}var o=function e(){return{dither565:i,dither16:i}};t["default"]=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{fisheye:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{r:2.5};var i=arguments.length>1?arguments[1]:undefined;if(typeof r==="function"){i=r;r={r:2.5}}var o=this.cloneQuiet();var a=o.bitmap,s=a.width,u=a.height;o.scanQuiet(0,0,s,u,(function(e,n){var i=e/s;var a=n/u;var l=Math.sqrt(Math.pow(i-.5,2)+Math.pow(a-.5,2));var c=2*Math.pow(l,r.r);var f=(i-.5)/l;var h=(a-.5)/l;var d=Math.round((c*f+.5)*s);var p=Math.round((c*h+.5)*u);var v=o.getPixelColor(d,p);t.setPixelColor(v,e,n)}));this.setPixelColor(o.getPixelColor(s/2,u/2),s/2,u/2);if((0,n.isNodePattern)(i)){i.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);function i(t,r,i){if(typeof t!=="boolean"||typeof r!=="boolean")return n.throwError.call(this,"horizontal and vertical must be Booleans",i);var o=e.alloc(this.bitmap.data.length);this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,n,i){var a=t?this.bitmap.width-1-e:e;var s=r?this.bitmap.height-1-n:n;var u=this.bitmap.width*s+a<<2;var l=this.bitmap.data.readUInt32BE(i);o.writeUInt32BE(l,u)}));this.bitmap.data=e.from(o);if((0,n.isNodePattern)(i)){i.call(this,null,this)}return this}var o=function e(){return{flip:i,mirror:i}};t["default"]=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{gaussian:function e(t,r){if(typeof t!=="number"){return n.throwError.call(this,"r must be a number",r)}if(t<1){return n.throwError.call(this,"r must be greater than 0",r)}var i=Math.ceil(t*2.57);var o=i*2+1;var a=t*t*2;var s=a*Math.PI;var u=[];for(var l=0;l<o;l++){u[l]=[];for(var c=0;c<o;c++){var f=Math.pow(c-i,2)+Math.pow(l-i,2);u[l][c]=Math.exp(-f/a)/s}}for(var h=0;h<this.bitmap.height;h++){for(var d=0;d<this.bitmap.width;d++){var p=0;var v=0;var m=0;var g=0;var y=0;for(var b=0;b<o;b++){for(var _=0;_<o;_++){var w=Math.min(this.bitmap.width-1,Math.max(0,_+d-i));var E=Math.min(this.bitmap.height-1,Math.max(0,b+h-i));var S=u[b][_];var T=E*this.bitmap.width+w<<2;p+=this.bitmap.data[T]*S;v+=this.bitmap.data[T+1]*S;m+=this.bitmap.data[T+2]*S;g+=this.bitmap.data[T+3]*S;y+=S}var A=h*this.bitmap.width+d<<2;this.bitmap.data[A]=Math.round(p/y);this.bitmap.data[A+1]=Math.round(v/y);this.bitmap.data[A+2]=Math.round(m/y);this.bitmap.data[A+3]=Math.round(g/y)}}}if((0,n.isNodePattern)(r)){r.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{invert:function e(t){this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data[r]=255-this.bitmap.data[r];this.bitmap.data[r+1]=255-this.bitmap.data[r+1];this.bitmap.data[r+2]=255-this.bitmap.data[r+2]}));if((0,n.isNodePattern)(t)){t.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{mask:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3?arguments[3]:undefined;if(!(t instanceof this.constructor)){return n.throwError.call(this,"The source must be a Jimp image",o)}if(typeof r!=="number"||typeof i!=="number"){return n.throwError.call(this,"x and y must be numbers",o)}r=Math.round(r);i=Math.round(i);var a=this.bitmap.width;var s=this.bitmap.height;var u=this;t.scanQuiet(0,0,t.bitmap.width,t.bitmap.height,(function(e,t,n){var o=r+e;var l=i+t;if(o>=0&&l>=0&&o<a&&l<s){var c=u.getPixelIndex(o,l);var f=this.bitmap.data;var h=(f[n+0]+f[n+1]+f[n+2])/3;u.bitmap.data[c+3]*=h/255}}));if((0,n.isNodePattern)(o)){o.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);function i(){var e={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(t,r,n){e.r[this.bitmap.data[n+0]]++;e.g[this.bitmap.data[n+1]]++;e.b[this.bitmap.data[n+2]]++}));return e}var o=function e(t,r,n){return(t-r)*255/(n-r)};var a=function e(t){return[t.findIndex((function(e){return e>0})),255-t.slice().reverse().findIndex((function(e){return e>0}))]};var s=function e(){return{normalize:function e(t){var r=i.call(this);var s={r:a(r.r),g:a(r.g),b:a(r.b)};this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){var n=this.bitmap.data[r+0];var i=this.bitmap.data[r+1];var a=this.bitmap.data[r+2];this.bitmap.data[r+0]=o(n,s.r[0],s.r[1]);this.bitmap.data[r+1]=o(i,s.g[0],s.g[1]);this.bitmap.data[r+2]=o(a,s.b[0],s.b[1])}));if((0,n.isNodePattern)(t)){t.call(this,null,this)}return this}}};t["default"]=s},function(e,t,r){"use strict";(function(e,n){var i=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var o=i(r(14));var a=i(r(46));var s=i(r(62));var u=i(r(294));var l=r(4);var c=r(306);function f(e,t,r,n,i){if(i===e.HORIZONTAL_ALIGN_LEFT){return 0}if(i===e.HORIZONTAL_ALIGN_CENTER){return(n-(0,c.measureText)(t,r))/2}return n-(0,c.measureText)(t,r)}function h(e,t,r,n,i){if(i.width>0&&i.height>0){var o=t.pages[i.page];e.blit(o,r+i.xoffset,n+i.yoffset,i.x,i.y,i.width,i.height)}return e}function d(e,t,r,n,i){for(var o=0;o<n.length;o++){var a=void 0;if(e.chars[n[o]]){a=n[o]}else if(/\s/.test(n[o])){a=""}else{a="?"}var s=e.chars[a]||{};var u=e.kernings[a];h(this,e,t,r,s||{});var l=u&&u[n[o+1]]?u[n[o+1]]:0;t+=l+(s.xadvance||i)}}function p(e,t,r){var n=t.split(" ");var i=[];var o=[];var s=0;n.forEach((function(t){var n=[].concat((0,a["default"])(o),[t]).join(" ");var u=(0,c.measureText)(e,n);if(u<=r){if(u>s){s=u}o.push(t)}else{i.push(o);o=[t]}}));i.push(o);return{lines:i,longestLine:s}}function v(e,t,r){var n=r.map((function(r){return e.read(t+"/"+r)}));return Promise.all(n)}var m=e.env.DIRNAME||"".concat(n,"/../");var g=function e(){return{constants:{measureText:c.measureText,measureTextHeight:c.measureTextHeight,FONT_SANS_8_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:s["default"].join(m,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:s["default"].join(m,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:s["default"].join(m,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:s["default"].join(m,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:s["default"].join(m,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:s["default"].join(m,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function e(t,r){var n=this;if(typeof t!=="string")return l.throwError.call(this,"file must be a string",r);return new Promise((function(e,i){r=r||function(t,r){if(t)i(t);else e(r)};(0,u["default"])(t,(function(e,i){var o={};var a={};if(e){return l.throwError.call(n,e,r)}for(var u=0;u<i.chars.length;u++){o[String.fromCharCode(i.chars[u].id)]=i.chars[u]}for(var c=0;c<i.kernings.length;c++){var f=String.fromCharCode(i.kernings[c].first);a[f]=a[f]||{};a[f][String.fromCharCode(i.kernings[c].second)]=i.kernings[c].amount}v(n,s["default"].dirname(t),i.pages).then((function(e){r(null,{chars:o,kernings:a,pages:e,common:i.common,info:i.info})}))}))}))}},class:{print:function e(t,r,n,i,a,s,u){var h=this;if(typeof a==="function"&&typeof u==="undefined"){u=a;a=Infinity}if(typeof a==="undefined"){a=Infinity}if(typeof s==="function"&&typeof u==="undefined"){u=s;s=Infinity}if(typeof s==="undefined"){s=Infinity}if((0,o["default"])(t)!=="object"){return l.throwError.call(this,"font must be a Jimp loadFont",u)}if(typeof r!=="number"||typeof n!=="number"||typeof a!=="number"){return l.throwError.call(this,"x, y and maxWidth must be numbers",u)}if(typeof a!=="number"){return l.throwError.call(this,"maxWidth must be a number",u)}if(typeof s!=="number"){return l.throwError.call(this,"maxHeight must be a number",u)}var v;var m;if((0,o["default"])(i)==="object"&&i.text!==null&&i.text!==undefined){v=i.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT;m=i.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var g=i;i=g.text}else{v=this.constructor.HORIZONTAL_ALIGN_LEFT;m=this.constructor.VERTICAL_ALIGN_TOP;i=i.toString()}if(s!==Infinity&&m===this.constructor.VERTICAL_ALIGN_BOTTOM){n+=s-(0,c.measureTextHeight)(t,i,a)}else if(s!==Infinity&&m===this.constructor.VERTICAL_ALIGN_MIDDLE){n+=s/2-(0,c.measureTextHeight)(t,i,a)/2}var y=Object.entries(t.chars)[0][1].xadvance;var b=p(t,i,a),_=b.lines,w=b.longestLine;_.forEach((function(e){var i=e.join(" ");var o=f(h.constructor,t,i,a,v);d.call(h,t,r+o,n,i,y);n+=t.common.lineHeight}));if((0,l.isNodePattern)(u)){u.call(this,null,this,{x:r+w,y:n})}return this}}}};t["default"]=g}).call(this,r(3),"/")},function(e,t,r){(function(t){var n=r(295);var i=function(){};var o=r(299);var a=r(300);var s=r(303);var u=r(304);var l=r(63);var c=function e(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();e.exports=function(e,r){r=typeof r==="function"?r:i;if(typeof e==="string")e={uri:e};else if(!e)e={};var l=e.binary;if(l)e=h(e);n(e,(function(n,l,c){if(n)return r(n);if(!/^2/.test(l.statusCode))return r(new Error("http status code: "+l.statusCode));if(!c)return r(new Error("no body result"));var h=false;if(f(c)){var d=new Uint8Array(c);c=t.from(d,"binary")}if(u(c)){h=true;if(typeof c==="string")c=t.from(c,"binary")}if(!h){if(t.isBuffer(c))c=c.toString(e.encoding);c=c.trim()}var p;try{var v=l.headers["content-type"];if(h)p=s(c);else if(/json/.test(v)||c.charAt(0)==="{")p=JSON.parse(c);else if(/xml/.test(v)||c.charAt(0)==="<")p=a(c);else p=o(c)}catch(e){r(new Error("error parsing font "+e.message));r=i}r(null,p)}))};function f(e){var t=Object.prototype.toString;return t.call(e)==="[object ArrayBuffer]"}function h(e){if(c)return l(e,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest==="undefined")throw new Error("your browser does not support XHR loading");var t=new self.XMLHttpRequest;t.overrideMimeType("text/plain; charset=x-user-defined");return l({xhr:t},e)}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";var n=r(296);var i=r(297);var o=r(298);var a=r(63);e.exports=c;e.exports.default=c;c.XMLHttpRequest=n.XMLHttpRequest||d;c.XDomainRequest="withCredentials"in new c.XMLHttpRequest?c.XMLHttpRequest:n.XDomainRequest;s(["get","put","post","patch","head","delete"],(function(e){c[e==="delete"?"del":e]=function(t,r,n){r=l(t,r,n);r.method=e.toUpperCase();return f(r)}}));function s(e,t){for(var r=0;r<e.length;r++){t(e[r])}}function u(e){for(var t in e){if(e.hasOwnProperty(t))return false}return true}function l(e,t,r){var n=e;if(i(t)){r=t;if(typeof e==="string"){n={uri:e}}}else{n=a(t,{uri:e})}n.callback=r;return n}function c(e,t,r){t=l(e,t,r);return f(t)}function f(e){if(typeof e.callback==="undefined"){throw new Error("callback argument missing")}var t=false;var r=function r(n,i,o){if(!t){t=true;e.callback(n,i,o)}};function n(){if(l.readyState===4){setTimeout(s,0)}}function i(){var e=undefined;if(l.response){e=l.response}else{e=l.responseText||h(l)}if(b){try{e=JSON.parse(e)}catch(e){}}return e}function a(e){clearTimeout(_);if(!(e instanceof Error)){e=new Error(""+(e||"Unknown XMLHttpRequest Error"))}e.statusCode=0;return r(e,w)}function s(){if(d)return;var t;clearTimeout(_);if(e.useXDR&&l.status===undefined){t=200}else{t=l.status===1223?204:l.status}var n=w;var a=null;if(t!==0){n={body:i(),statusCode:t,method:v,headers:{},url:p,rawRequest:l};if(l.getAllResponseHeaders){n.headers=o(l.getAllResponseHeaders())}}else{a=new Error("Internal XMLHttpRequest Error")}return r(a,n,n.body)}var l=e.xhr||null;if(!l){if(e.cors||e.useXDR){l=new c.XDomainRequest}else{l=new c.XMLHttpRequest}}var f;var d;var p=l.url=e.uri||e.url;var v=l.method=e.method||"GET";var m=e.body||e.data;var g=l.headers=e.headers||{};var y=!!e.sync;var b=false;var _;var w={body:undefined,headers:{},statusCode:0,method:v,url:p,rawRequest:l};if("json"in e&&e.json!==false){b=true;g["accept"]||g["Accept"]||(g["Accept"]="application/json");if(v!=="GET"&&v!=="HEAD"){g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json");m=JSON.stringify(e.json===true?m:e.json)}}l.onreadystatechange=n;l.onload=s;l.onerror=a;l.onprogress=function(){};l.onabort=function(){d=true};l.ontimeout=a;l.open(v,p,!y,e.username,e.password);if(!y){l.withCredentials=!!e.withCredentials}if(!y&&e.timeout>0){_=setTimeout((function(){if(d)return;d=true;l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT";a(e)}),e.timeout)}if(l.setRequestHeader){for(f in g){if(g.hasOwnProperty(f)){l.setRequestHeader(f,g[f])}}}else if(e.headers&&!u(e.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in e){l.responseType=e.responseType}if("beforeSend"in e&&typeof e.beforeSend==="function"){e.beforeSend(l)}l.send(m||null);return l}function h(e){try{if(e.responseType==="document"){return e.responseXML}var t=e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";if(e.responseType===""&&!t){return e.responseXML}}catch(e){}return null}function d(){}},function(e,t,r){(function(t){var r;if(typeof window!=="undefined"){r=window}else if(typeof t!=="undefined"){r=t}else if(typeof self!=="undefined"){r=self}else{r={}}e.exports=r}).call(this,r(5))},function(e,t){e.exports=n;var r=Object.prototype.toString;function n(e){if(!e){return false}var t=r.call(e);return t==="[object Function]"||typeof e==="function"&&t!=="[object RegExp]"||typeof window!=="undefined"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}},function(e,t){var r=function(e){return e.replace(/^\s+|\s+$/g,"")},n=function(e){return Object.prototype.toString.call(e)==="[object Array]"};e.exports=function(e){if(!e)return{};var t={};var i=r(e).split("\n");for(var o=0;o<i.length;o++){var a=i[o];var s=a.indexOf(":"),u=r(a.slice(0,s)).toLowerCase(),l=r(a.slice(s+1));if(typeof t[u]==="undefined"){t[u]=l}else if(n(t[u])){t[u].push(l)}else{t[u]=[t[u],l]}}return t}},function(e,t){e.exports=function e(t){if(!t)throw new Error("no data provided");t=t.toString().trim();var n={pages:[],chars:[],kernings:[]};var i=t.split(/\r\n?|\n/g);if(i.length===0)throw new Error("no data in BMFont file");for(var o=0;o<i.length;o++){var a=r(i[o],o);if(!a)continue;if(a.key==="page"){if(typeof a.data.id!=="number")throw new Error("malformed file at line "+o+" -- needs page id=N");if(typeof a.data.file!=="string")throw new Error("malformed file at line "+o+' -- needs page file="path"');n.pages[a.data.id]=a.data.file}else if(a.key==="chars"||a.key==="kernings"){}else if(a.key==="char"){n.chars.push(a.data)}else if(a.key==="kerning"){n.kernings.push(a.data)}else{n[a.key]=a.data}}return n};function r(e,t){e=e.replace(/\t+/g," ").trim();if(!e)return null;var r=e.indexOf(" ");if(r===-1)throw new Error("no named row at line "+t);var i=e.substring(0,r);e=e.substring(r+1);e=e.replace(/letter=[\'\"]\S+[\'\"]/gi,"");e=e.split("=");e=e.map((function(e){return e.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)}));var o=[];for(var a=0;a<e.length;a++){var s=e[a];if(a===0){o.push({key:s[0],data:""})}else if(a===e.length-1){o[o.length-1].data=n(s[0])}else{o[o.length-1].data=n(s[0]);o.push({key:s[1],data:""})}}var u={key:i,data:{}};o.forEach((function(e){u.data[e.key]=e.data}));return u}function n(e){if(!e||e.length===0)return"";if(e.indexOf('"')===0||e.indexOf("'")===0)return e.substring(1,e.length-1);if(e.indexOf(",")!==-1)return i(e);return parseInt(e,10)}function i(e){return e.split(",").map((function(e){return parseInt(e,10)}))}},function(e,t,r){var n=r(301);var i=r(302);var o={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};e.exports=function e(t){t=t.toString();var r=i(t);var o={pages:[],chars:[],kernings:[]};["info","common"].forEach((function(e){var t=r.getElementsByTagName(e)[0];if(t)o[e]=n(a(t))}));var s=r.getElementsByTagName("pages")[0];if(!s)throw new Error("malformed file -- no <pages> element");var u=s.getElementsByTagName("page");for(var l=0;l<u.length;l++){var c=u[l];var f=parseInt(c.getAttribute("id"),10);var h=c.getAttribute("file");if(isNaN(f))throw new Error('malformed file -- page "id" attribute is NaN');if(!h)throw new Error('malformed file -- needs page "file" attribute');o.pages[parseInt(f,10)]=h}["chars","kernings"].forEach((function(e){var t=r.getElementsByTagName(e)[0];if(!t)return;var i=e.substring(0,e.length-1);var s=t.getElementsByTagName(i);for(var u=0;u<s.length;u++){var l=s[u];o[e].push(n(a(l)))}}));return o};function a(e){var t=s(e);return t.reduce((function(e,t){var r=u(t.nodeName);e[r]=t.nodeValue;return e}),{})}function s(e){var t=[];for(var r=0;r<e.attributes.length;r++)t.push(e.attributes[r]);return t}function u(e){return o[e.toLowerCase()]||e}},function(e,t){var r="chasrset";e.exports=function e(t){if(r in t){t["charset"]=t[r];delete t[r]}for(var i in t){if(i==="face"||i==="charset")continue;else if(i==="padding"||i==="spacing")t[i]=n(t[i]);else t[i]=parseInt(t[i],10)}return t};function n(e){return e.split(",").map((function(e){return parseInt(e,10)}))}},function(e,t){e.exports=function e(){if(typeof self.DOMParser!=="undefined"){return function(e){var t=new self.DOMParser;return t.parseFromString(e,"application/xml")}}if(typeof self.ActiveXObject!=="undefined"&&new self.ActiveXObject("Microsoft.XMLDOM")){return function(e){var t=new self.ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e);return t}}return function(e){var t=document.createElement("div");t.innerHTML=e;return t}}()},function(e,t){var r=[66,77,70];e.exports=function e(t){if(t.length<6)throw new Error("invalid buffer length for BMFont");var i=r.every((function(e,r){return t.readUInt8(r)===e}));if(!i)throw new Error("BMFont missing BMF byte header");var o=3;var a=t.readUInt8(o++);if(a>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");var s={kernings:[],chars:[]};for(var u=0;u<5;u++)o+=n(s,t,o);return s};function n(e,t,r){if(r>t.length-1)return 0;var n=t.readUInt8(r++);var l=t.readInt32LE(r);r+=4;switch(n){case 1:e.info=i(t,r);break;case 2:e.common=o(t,r);break;case 3:e.pages=a(t,r,l);break;case 4:e.chars=s(t,r,l);break;case 5:e.kernings=u(t,r,l);break}return 5+l}function i(e,t){var r={};r.size=e.readInt16LE(t);var n=e.readUInt8(t+2);r.smooth=n>>7&1;r.unicode=n>>6&1;r.italic=n>>5&1;r.bold=n>>4&1;if(n>>3&1)r.fixedHeight=1;r.charset=e.readUInt8(t+3)||"";r.stretchH=e.readUInt16LE(t+4);r.aa=e.readUInt8(t+6);r.padding=[e.readInt8(t+7),e.readInt8(t+8),e.readInt8(t+9),e.readInt8(t+10)];r.spacing=[e.readInt8(t+11),e.readInt8(t+12)];r.outline=e.readUInt8(t+13);r.face=c(e,t+14);return r}function o(e,t){var r={};r.lineHeight=e.readUInt16LE(t);r.base=e.readUInt16LE(t+2);r.scaleW=e.readUInt16LE(t+4);r.scaleH=e.readUInt16LE(t+6);r.pages=e.readUInt16LE(t+8);var n=e.readUInt8(t+10);r.packed=0;r.alphaChnl=e.readUInt8(t+11);r.redChnl=e.readUInt8(t+12);r.greenChnl=e.readUInt8(t+13);r.blueChnl=e.readUInt8(t+14);return r}function a(e,t,r){var n=[];var i=l(e,t);var o=i.length+1;var a=r/o;for(var s=0;s<a;s++){n[s]=e.slice(t,t+i.length).toString("utf8");t+=o}return n}function s(e,t,r){var n=[];var i=r/20;for(var o=0;o<i;o++){var a={};var s=o*20;a.id=e.readUInt32LE(t+0+s);a.x=e.readUInt16LE(t+4+s);a.y=e.readUInt16LE(t+6+s);a.width=e.readUInt16LE(t+8+s);a.height=e.readUInt16LE(t+10+s);a.xoffset=e.readInt16LE(t+12+s);a.yoffset=e.readInt16LE(t+14+s);a.xadvance=e.readInt16LE(t+16+s);a.page=e.readUInt8(t+18+s);a.chnl=e.readUInt8(t+19+s);n[o]=a}return n}function u(e,t,r){var n=[];var i=r/10;for(var o=0;o<i;o++){var a={};var s=o*10;a.first=e.readUInt32LE(t+0+s);a.second=e.readUInt32LE(t+4+s);a.amount=e.readInt16LE(t+8+s);n[o]=a}return n}function l(e,t){var r=t;for(;r<e.length;r++){if(e[r]===0)break}return e.slice(t,r)}function c(e,t){return l(e,t).toString("utf8")}},function(e,t,r){(function(t){var n=r(305);var i=t.from([66,77,70,3]);e.exports=function(e){if(typeof e==="string")return e.substring(0,3)==="BMF";return e.length>4&&n(e.slice(0,4),i)}}).call(this,r(1).Buffer)},function(e,t,r){var n=r(1).Buffer;e.exports=function(e,t){if(!n.isBuffer(e))return undefined;if(!n.isBuffer(t))return undefined;if(typeof e.equals==="function")return e.equals(t);if(e.length!==t.length)return false;for(var r=0;r<e.length;r++){if(e[r]!==t[r])return false}return true}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.measureText=n;t.measureTextHeight=i;function n(e,t){var r=0;for(var n=0;n<t.length;n++){if(e.chars[t[n]]){var i=e.kernings[t[n]]&&e.kernings[t[n]][t[n+1]]?e.kernings[t[n]][t[n+1]]:0;r+=(e.chars[t[n]].xadvance||0)+i}}return r}function i(e,t,r){var i=t.split(" ");var o="";var a=e.common.lineHeight;for(var s=0;s<i.length;s++){var u=o+i[s]+" ";var l=n(e,u);if(l>r&&s>0){a+=e.common.lineHeight;o=i[s]+" "}else{o=u}}return a}},function(e,t,r){"use strict";(function(e){var n=r(10);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=r(4);var o=n(r(308));var a=n(r(309));var s=function t(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function t(r,n,s,u){if(typeof r!=="number"||typeof n!=="number"){return i.throwError.call(this,"w and h must be numbers",u)}if(typeof s==="function"&&typeof u==="undefined"){u=s;s=null}if(r===this.constructor.AUTO&&n===this.constructor.AUTO){return i.throwError.call(this,"w and h cannot both be set to auto",u)}if(r===this.constructor.AUTO){r=this.bitmap.width*(n/this.bitmap.height)}if(n===this.constructor.AUTO){n=this.bitmap.height*(r/this.bitmap.width)}if(r<0||n<0){return i.throwError.call(this,"w and h must be positive numbers",u)}r=Math.round(r);n=Math.round(n);if(typeof a["default"][s]==="function"){var l={data:e.alloc(r*n*4),width:r,height:n};a["default"][s](this.bitmap,l);this.bitmap=l}else{var c=this;var t=new o["default"](this.bitmap.width,this.bitmap.height,r,n,true,true,(function(t){c.bitmap.data=e.from(t);c.bitmap.width=r;c.bitmap.height=n}));t.resize(this.bitmap.data)}if((0,i.isNodePattern)(u)){u.call(this,null,this)}return this}}}};t["default"]=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){this.widthOriginal=Math.abs(Math.floor(e)||0);this.heightOriginal=Math.abs(Math.floor(t)||0);this.targetWidth=Math.abs(Math.floor(r)||0);this.targetHeight=Math.abs(Math.floor(n)||0);this.colorChannels=i?4:3;this.interpolationPass=Boolean(o);this.resizeCallback=typeof a==="function"?a:function(){};this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels;this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels;this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels;this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal;this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight;this.initialize()}n.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0){this.configurePasses()}else{throw new Error("Invalid settings specified for the resizer.")}};n.prototype.configurePasses=function(){if(this.widthOriginal===this.targetWidth){this.resizeWidth=this.bypassResizer}else{this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth;if(this.ratioWeightWidthPass<1&&this.interpolationPass){this.initializeFirstPassBuffers(true);this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB}else{this.initializeFirstPassBuffers(false);this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB}}if(this.heightOriginal===this.targetHeight){this.resizeHeight=this.bypassResizer}else{this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight;if(this.ratioWeightHeightPass<1&&this.interpolationPass){this.initializeSecondPassBuffers(true);this.resizeHeight=this.resizeHeightInterpolated}else{this.initializeSecondPassBuffers(false);this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB}}};n.prototype._resizeWidthInterpolatedRGBChannels=function(e,t){var r=t?4:3;var n=this.ratioWeightWidthPass;var i=this.widthBuffer;var o=0;var a=0;var s=0;var u=0;var l=0;var c;for(c=0;o<1/3;c+=r,o+=n){for(a=c,s=0;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels){i[a]=e[s];i[a+1]=e[s+1];i[a+2]=e[s+2];if(t)i[a+3]=e[s+3]}}o-=1/3;var f;for(f=this.widthOriginal-1;o<f;c+=r,o+=n){l=o%1;u=1-l;for(a=c,s=Math.floor(o)*r;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels){i[a+0]=e[s+0]*u+e[s+r+0]*l;i[a+1]=e[s+1]*u+e[s+r+1]*l;i[a+2]=e[s+2]*u+e[s+r+2]*l;if(t)i[a+3]=e[s+3]*u+e[s+r+3]*l}}for(f=this.originalWidthMultipliedByChannels-r;c<this.targetWidthMultipliedByChannels;c+=r){for(a=c,s=f;a<this.widthPassResultSize;s+=this.originalWidthMultipliedByChannels,a+=this.targetWidthMultipliedByChannels){i[a]=e[s];i[a+1]=e[s+1];i[a+2]=e[s+2];if(t)i[a+3]=e[s+3]}}return i};n.prototype._resizeWidthRGBChannels=function(e,t){var r=t?4:3;var n=this.ratioWeightWidthPass;var i=1/n;var o=this.originalWidthMultipliedByChannels-r+1;var a=this.targetWidthMultipliedByChannels-r+1;var s=this.outputWidthWorkBench;var u=this.widthBuffer;var l=this.outputWidthWorkBenchOpaquePixelsCount;var c=0;var f=0;var h=0;var d=0;var p=0;var v=0;var m=0;var g=1;var y=0;var b=0;var _=0;var w=0;do{for(p=0;p<this.originalHeightMultipliedByChannels;){s[p++]=0;s[p++]=0;s[p++]=0;if(t){s[p++]=0;l[p/r-1]=0}}c=n;do{f=1+h-d;g=Math.min(c,f);for(p=0,v=h;p<this.originalHeightMultipliedByChannels;v+=o){y=e[v];b=e[++v];_=e[++v];w=t?e[++v]:255;s[p++]+=(w?y:0)*g;s[p++]+=(w?b:0)*g;s[p++]+=(w?_:0)*g;if(t){s[p++]+=w*g;l[p/r-1]+=w?g:0}}if(c>=f){h+=r;d=h;c-=f}else{d+=c;break}}while(c>0&&h<this.originalWidthMultipliedByChannels);for(p=0,v=m;p<this.originalHeightMultipliedByChannels;v+=a){c=t?l[p/r]:1;g=t?c?1/c:0:i;u[v]=s[p++]*g;u[++v]=s[p++]*g;u[++v]=s[p++]*g;if(t)u[++v]=s[p++]*i}m+=r}while(m<this.targetWidthMultipliedByChannels);return u};n.prototype._resizeHeightRGBChannels=function(e,t){var r=this.ratioWeightHeightPass;var n=1/r;var i=this.outputHeightWorkBench;var o=this.heightBuffer;var a=this.outputHeightWorkBenchOpaquePixelsCount;var s=0;var u=0;var l=0;var c=0;var f=0;var h=0;var d=0;var p=1;var v=0;var m=0;var g=0;var y=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;){i[f++]=0;i[f++]=0;i[f++]=0;if(t){i[f++]=0;a[f/4-1]=0}}s=r;do{u=1+l-c;p=Math.min(s,u);d=l;for(f=0;f<this.targetWidthMultipliedByChannels;){v=e[d++];m=e[d++];g=e[d++];y=t?e[d++]:255;i[f++]+=(y?v:0)*p;i[f++]+=(y?m:0)*p;i[f++]+=(y?g:0)*p;if(t){i[f++]+=y*p;a[f/4-1]+=y?p:0}}if(s>=u){l=d;c=l;s-=u}else{c+=s;break}}while(s>0&&l<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;){s=t?a[f/4]:1;p=t?s?1/s:0:n;o[h++]=Math.round(i[f++]*p);o[h++]=Math.round(i[f++]*p);o[h++]=Math.round(i[f++]*p);if(t){o[h++]=Math.round(i[f++]*n)}}}while(h<this.finalResultSize);return o};n.prototype.resizeWidthInterpolatedRGB=function(e){return this._resizeWidthInterpolatedRGBChannels(e,false)};n.prototype.resizeWidthInterpolatedRGBA=function(e){return this._resizeWidthInterpolatedRGBChannels(e,true)};n.prototype.resizeWidthRGB=function(e){return this._resizeWidthRGBChannels(e,false)};n.prototype.resizeWidthRGBA=function(e){return this._resizeWidthRGBChannels(e,true)};n.prototype.resizeHeightInterpolated=function(e){var t=this.ratioWeightHeightPass;var r=this.heightBuffer;var n=0;var i=0;var o=0;var a=0;var s=0;var u=0;var l=0;var c;for(;n<1/3;n+=t){for(o=0;o<this.targetWidthMultipliedByChannels;){r[i++]=Math.round(e[o++])}}n-=1/3;for(c=this.heightOriginal-1;n<c;n+=t){l=n%1;u=1-l;a=Math.floor(n)*this.targetWidthMultipliedByChannels;s=a+this.targetWidthMultipliedByChannels;for(o=0;o<this.targetWidthMultipliedByChannels;++o){r[i++]=Math.round(e[a++]*u+e[s++]*l)}}while(i<this.finalResultSize){for(o=0,a=c*this.targetWidthMultipliedByChannels;o<this.targetWidthMultipliedByChannels;++o){r[i++]=Math.round(e[a++])}}return r};n.prototype.resizeHeightRGB=function(e){return this._resizeHeightRGBChannels(e,false)};n.prototype.resizeHeightRGBA=function(e){return this._resizeHeightRGBChannels(e,true)};n.prototype.resize=function(e){this.resizeCallback(this.resizeHeight(this.resizeWidth(e)))};n.prototype.bypassResizer=function(e){return e};n.prototype.initializeFirstPassBuffers=function(e){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize);if(!e){this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels);if(this.colorChannels>3){this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)}}};n.prototype.initializeSecondPassBuffers=function(e){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize);if(!e){this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels);if(this.colorChannels>3){this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)}}};n.prototype.generateFloatBuffer=function(e){try{return new Float32Array(e)}catch(e){return[]}};n.prototype.generateFloat64Buffer=function(e){try{return new Float64Array(e)}catch(e){return[]}};n.prototype.generateUint8Buffer=function(e){try{return new Uint8Array(e)}catch(e){return[]}};e.exports=n},function(e,t,r){"use strict";(function(t){e.exports={nearestNeighbor:function e(t,r){var n=t.width;var i=t.height;var o=r.width;var a=r.height;var s=t.data;var u=r.data;for(var l=0;l<a;l++){for(var c=0;c<o;c++){var f=(l*o+c)*4;var h=Math.floor(l*i/a);var d=Math.floor(c*n/o);var p=(h*n+d)*4;u[f++]=s[p++];u[f++]=s[p++];u[f++]=s[p++];u[f++]=s[p++]}}},bilinearInterpolation:function e(t,r){var n=t.width;var i=t.height;var o=r.width;var a=r.height;var s=t.data;var u=r.data;var l=function e(t,r,n,i,o){if(r===i){return n}return Math.round((t-r)*o+(i-t)*n)};var c=function e(t,r,i,o,a,c,f,h){var d=(f*n+o)*4+r;var p=(f*n+a)*4+r;var v=l(i,o,s[d],a,s[p]);if(h===f){u[t+r]=v}else{d=(h*n+o)*4+r;p=(h*n+a)*4+r;var m=l(i,o,s[d],a,s[p]);u[t+r]=l(c,f,v,h,m)}};for(var f=0;f<a;f++){for(var h=0;h<o;h++){var d=(f*o+h)*4;var p=h*n/o;var v=Math.floor(p);var m=Math.min(Math.ceil(p),n-1);var g=f*i/a;var y=Math.floor(g);var b=Math.min(Math.ceil(g),i-1);c(d,0,p,v,m,g,y,b);c(d,1,p,v,m,g,y,b);c(d,2,p,v,m,g,y,b);c(d,3,p,v,m,g,y,b)}}},_interpolate2D:function e(r,n,i,o){var a=r.data;var s=n.data;var u=r.width;var l=r.height;var c=n.width;var f=n.height;var h=Math.max(1,Math.floor(u/c));var d=c*h;var p=Math.max(1,Math.floor(l/f));var v=f*p;var m=t.alloc(d*l*4);for(var g=0;g<l;g++){for(var y=0;y<d;y++){var b=y*(u-1)/d;var _=Math.floor(b);var w=b-_;var E=(g*u+_)*4;var S=(g*d+y)*4;for(var T=0;T<4;T++){var A=E+T;var x=_>0?a[A-4]:2*a[A]-a[A+4];var D=a[A];var O=a[A+4];var I=_<u-2?a[A+8]:2*a[A+4]-a[A];m[S+T]=o(x,D,O,I,w)}}}var C=t.alloc(d*v*4);for(var k=0;k<v;k++){for(var R=0;R<d;R++){var P=k*(l-1)/v;var M=Math.floor(P);var L=P-M;var N=(M*d+R)*4;var F=(k*d+R)*4;for(var j=0;j<4;j++){var B=N+j;var U=M>0?m[B-d*4]:2*m[B]-m[B+d*4];var z=m[B];var $=m[B+d*4];var G=M<l-2?m[B+d*8]:2*m[B+d*4]-m[B];C[F+j]=o(U,z,$,G,L)}}}var H=h*p;if(H>1){for(var W=0;W<f;W++){for(var V=0;V<c;V++){var q=0;var J=0;var Y=0;var K=0;var X=0;for(var Z=0;Z<p;Z++){var Q=W*p+Z;for(var ee=0;ee<h;ee++){var te=V*h+ee;var re=(Q*d+te)*4;var ne=C[re+3];if(ne){q+=C[re];J+=C[re+1];Y+=C[re+2];X++}K+=ne}}var ie=(W*c+V)*4;s[ie]=X?Math.round(q/X):0;s[ie+1]=X?Math.round(J/X):0;s[ie+2]=X?Math.round(Y/X):0;s[ie+3]=Math.round(K/H)}}}else{n.data=C}},bicubicInterpolation:function e(t,r,n){var i=function e(t,r,n,i,o){var a=i-n-t+r;var s=t-r-a;var u=n-t;var l=r;return Math.max(0,Math.min(255,a*(o*o*o)+s*(o*o)+u*o+l))};return this._interpolate2D(t,r,n,i)},hermiteInterpolation:function e(t,r,n){var i=function e(t,r,n,i,o){var a=r;var s=.5*(n-t);var u=t-2.5*r+2*n-.5*i;var l=.5*(i-t)+1.5*(r-n);return Math.max(0,Math.min(255,Math.round(((l*o+u)*o+s)*o+a)))};return this._interpolate2D(t,r,n,i)},bezierInterpolation:function e(t,r,n){var i=function e(t,r,n,i,o){var a=r+(n-t)/4;var s=n-(i-r)/4;var u=1-o;var l=r*u*u*u;var c=3*a*u*u*o;var f=3*s*u*o*o;var h=n*o*o*o;return Math.max(0,Math.min(255,Math.round(l+c+f+h)))};return this._interpolate2D(t,r,n,i)}}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);function i(t,r){t%=360;var n=t*Math.PI/180;var i=Math.cos(n);var o=Math.sin(n);var a=this.bitmap.width;var s=this.bitmap.height;if(r===true||typeof r==="string"){a=Math.ceil(Math.abs(this.bitmap.width*i)+Math.abs(this.bitmap.height*o))+1;s=Math.ceil(Math.abs(this.bitmap.width*o)+Math.abs(this.bitmap.height*i))+1;if(a%2!==0){a++}if(s%2!==0){s++}var u=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){this.bitmap.data.writeUInt32BE(this._background,r)}));var l=Math.max(a,s,this.bitmap.width,this.bitmap.height);this.resize(l,l,r);this.blit(u,this.bitmap.width/2-u.bitmap.width/2,this.bitmap.height/2-u.bitmap.height/2)}var c=this.bitmap.width;var f=this.bitmap.height;var h=e.alloc(this.bitmap.data.length);function d(e,t){return function(r,n){return{x:r+e,y:n+t}}}var p=d(-(c/2),-(f/2));var v=d(c/2+.5,f/2+.5);for(var m=1;m<=f;m++){for(var g=1;g<=c;g++){var y=p(g,m);var b=v(i*y.x-o*y.y,i*y.y+o*y.x);var _=c*(m-1)+g-1<<2;if(b.x>=0&&b.x<c&&b.y>=0&&b.y<f){var w=(c*(b.y|0)+b.x|0)<<2;var E=this.bitmap.data.readUInt32BE(w);h.writeUInt32BE(E,_)}else{h.writeUInt32BE(this._background,_)}}}this.bitmap.data=h;if(r===true||typeof r==="string"){var S=c/2-a/2;var T=f/2-s/2;this.crop(S,T,a,s)}}var o=function e(){return{rotate:function e(t,r,o){if(typeof r==="undefined"||r===null){r=true}if(typeof r==="function"&&typeof o==="undefined"){o=r;r=true}if(typeof t!=="number"){return n.throwError.call(this,"deg must be a number",o)}if(typeof r!=="boolean"&&typeof r!=="string"){return n.throwError.call(this,"mode must be a boolean or a string",o)}i.call(this,t,r,o);if((0,n.isNodePattern)(o)){o.call(this,null,this)}return this}}};t["default"]=o}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{scale:function e(t,r,i){if(typeof t!=="number"){return n.throwError.call(this,"f must be a number",i)}if(t<0){return n.throwError.call(this,"f must be a positive number",i)}if(typeof r==="function"&&typeof i==="undefined"){i=r;r=null}var o=this.bitmap.width*t;var a=this.bitmap.height*t;this.resize(o,a,r);if((0,n.isNodePattern)(i)){i.call(this,null,this)}return this},scaleToFit:function e(t,r,i,o){if(typeof t!=="number"||typeof r!=="number"){return n.throwError.call(this,"w and h must be numbers",o)}if(typeof i==="function"&&typeof o==="undefined"){o=i;i=null}var a=t/r>this.bitmap.width/this.bitmap.height?r/this.bitmap.height:t/this.bitmap.width;this.scale(a,i);if((0,n.isNodePattern)(o)){o.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{shadow:function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=arguments.length>1?arguments[1]:undefined;if(typeof r==="function"){i=r;r={}}var o=r,a=o.opacity,s=a===void 0?.7:a,u=o.size,l=u===void 0?1.1:u,c=o.x,f=c===void 0?-25:c,h=o.y,d=h===void 0?25:h,p=o.blur,v=p===void 0?5:p;var m=this.clone();var e=this.clone();e.scan(0,0,e.bitmap.width,e.bitmap.height,(function(r,n,i){e.bitmap.data[i]=0;e.bitmap.data[i+1]=0;e.bitmap.data[i+2]=0;e.bitmap.data[i+3]=e.constructor.limit255(e.bitmap.data[i+3]*s);t.bitmap.data[i]=0;t.bitmap.data[i+1]=0;t.bitmap.data[i+2]=0;t.bitmap.data[i+3]=0}));e.resize(e.bitmap.width*l,e.bitmap.height*l).blur(v);this.composite(e,f,d);this.composite(m,0,0);if((0,n.isNodePattern)(i)){i.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var n=r(4);var i=function e(){return{threshold:function e(t,r){var i=this;var o=t.max,a=t.replace,s=a===void 0?255:a,u=t.autoGreyscale,l=u===void 0?true:u;if(typeof o!=="number"){return n.throwError.call(this,"max must be a number",r)}if(typeof s!=="number"){return n.throwError.call(this,"replace must be a number",r)}if(typeof l!=="boolean"){return n.throwError.call(this,"autoGreyscale must be a boolean",r)}o=this.constructor.limit255(o);s=this.constructor.limit255(s);if(l){this.greyscale()}this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,(function(e,t,r){var n=i.bitmap.data[r]<o?i.bitmap.data[r]:s;i.bitmap.data[r]=n;i.bitmap.data[r+1]=n;i.bitmap.data[r+2]=n}));if((0,n.isNodePattern)(r)){r.call(this,null,this)}return this}}};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.elementFromPoint=t.cloneToDOMOverlay=void 0;const n=r(59);const i=r(73);function o(e,t,r,n={top:0,left:0}){const l=(0,i.parseBoundsFromElement)(e);const c=document.createElement("div");const f={...n};if(l){l.left-=f.left;l.top-=f.top;const{left:e,width:n,top:i,height:o}=l;const[a,s]=r.deviceType==="Android"?[t*r.scaleFactor,t*r.scaleFactor]:[t*(r.width/r.appiumWidth),t*(r.height/r.appiumHeight)];c.setAttribute("style",`position: absolute;left: ${e*a}px;top: ${i*s}px;width: ${n*a}px;height: ${o*s}px;`);f.top+=i;f.left+=e}c.setAttribute("node-name",e.nodeName);c.setAttribute("target-name",r.deviceType==="Android"?s(e):u(e));a(e,c);for(let n=0;n<e.children.length;n++){const i=o(e.children[n],t,r,f);if(i&&r.deviceType==="Android"){c.append(i)}else if(i&&r.deviceType==="iOS"){c.prepend(i)}}return c}t.cloneToDOMOverlay=o;function a(e,t){const r=e.getAttributeNames();r.forEach((r=>t.setAttribute(r,e.getAttribute(r))))}function s(e){return e.getAttribute("name")||e.getAttribute("content-desc")||e.getAttribute("text")||e.getAttribute("resource-id")||e.nodeName}function u(e){return e.getAttribute("label")||e.getAttribute("placeholdervalue")||e.getAttribute("text")||e.getAttribute("name")||e.nodeName}function l(e,t){const r=[];let n=e.parentElement;while(!!n&&n!==t){r.push(n);n=n.parentElement}return r}function c(e,t){const r=l(e,t);return{element:e,ancestors:r}}function f(e,t,r){const n=[];const i=e.getBoundingClientRect();const{x:o,y:a}=r.point;const{right:s,left:u,top:l,bottom:f}=i;if(u===0&&l===0&&s===0&&f===0){return n}if(o>=u&&o<=s&&a>=l&&a<=f){n.push(c(e,t))}return n}function h(e,t,r){if(e==null){n.AlgoUtils.Logging.log("element was null on searchChildren");return[]}const i=Array.from(e.children);let o=[];if(i.length>1){for(let e=0;e<i.length;e++){o.push(...h(i[e],t,r))}return o}if(i.length===1){o=h(i[0],t,r)}if(o.length>0){return o}return f(e,t,r)}function d(e,t){const r=h(e,e,{point:t});let n;r.forEach((e=>{if(!n){n=e;return}const t=n.element.getBoundingClientRect();const r=e.element.getBoundingClientRect();const i=t.width*t.height;const o=r.width*r.height;if(i>o||i===o&&e.ancestors.length>n.ancestors.length){n=e}}));return n===null||n===void 0?void 0:n.element}t.elementFromPoint=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ImageUploader=void 0;const n=r(316);const i=r(317);const o=r(23);const a=r(33);const s=r(126);const u=a.container.get(o.FeatureFlagsService);const l=a.container.get(s.TestimServicesApi);const c=(e="cloudinary")=>{const t=u.flags.uploadRecImageToStorage.isEnabled();if(t){return new i.ImageUploaderStorage(l)}return new n.ImageUploaderCloudinary(l)};t.ImageUploader=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ImageUploaderCloudinary=void 0;const n=r(28);const i=r(9);const o=r(6);const a=r(125);const s=r(32);const u=o.Logger.getLogger("image-uploader-cloudinary");const l="https://api.cloudinary.com/v1_1/testim/";const c=`${l}image/upload`;const f="https://res.cloudinary.com/testim/image/upload";const h=6291e4;const d=5*1e3;const p=15*1e3;const v=15;const m=1e3;let g=0;class y extends a.BaseImageUploader{getRequestTimeout(e,t){const r=Math.ceil(e/h*1e3)*1e3;const n=g+(p-g)*(t/v);return Math.max(d,r,n)}getUploadTimeout(e){return(this.getRequestTimeout(e,0)+m)*v+1e3}async saveImageToServerPromise(e){const t=Math.ceil(Date.now()/1e3);const r=i.utils.guid();const o={file:encodeURI(e.imageURL),timestamp:t,upload_preset:"TestimEditor",public_id:r};let a=0;try{const e=await(0,n.default)((async()=>{const e=this.getRequestTimeout(o.file.length,a++);const t=await s.httpRequest.postForm(c,o,undefined,e);g=e;return t}),{retries:v,minTimeout:m});u.log("Baseline image saved to cloudinary",e);return`${f}/${r}.${e.format||"jpg"}`}catch(e){u.error("failed to save image to cloudinary",e);throw e}}}t.ImageUploaderCloudinary=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ImageUploaderStorage=void 0;const n=r(9);const i=r(125);const o=r(35);class a extends i.BaseImageUploader{async saveImageToServerPromise(e){const{imageURL:t,projectId:r}=e;const i="image/jpeg";const{data:a}=(0,o.convertDataURIToBinary)(t);if(!a){throw new Error("failed to convert image url")}const s=n.utils.guid();const u=`${s}.jpg`;const l=`rec-image/${u}`;const c=this.servicesApi.storage.getProjectArtifactPath(l,r);const f={fileName:u,mimeType:i,file:new Blob([a.buffer],{type:i})};await this.servicesApi.storage.uploadFile(c,f,undefined,undefined,{"rec-img":true});return c}}t.ImageUploaderStorage=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimStepApi=void 0;const n=r(2);class i extends n.TestimBaseApi{get(e,t){return this.getJson(`/step/${e}?projectId=${t}`)}async getBulk(e,t){return await this.postJson(`/step/batch?projectId=${t}`,{stepsIds:e})}async getSharedBulk(e,t){return await this.postJson(`/step/shared/batch?projectId=${t}`,{stepsIds:e})}async getShallowSharedSteps(e,t){return await this.postJson(`/step/v2/classes?projectId=${t}`,{steps:e})}async updateScreenImage(e,t,r,n){await this.putJson(`/step/screenImage/${e}?projectId=${t}`,{screenImage:r,screenHighlight:n})}}t.TestimStepApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimResultsApi=void 0;const n=r(2);const i="/result";const o=1e4;class a extends n.TestimBaseApi{updateStep(e,t,r,n,a,s){a.stepResultId=n;return this.updateAndRetry((()=>this.postJson(`${i}/step`,{projectId:e,resultId:t,testId:r,stepResultId:n,stepData:a,remoteRunId:s},o)),`stepResult:${e}:${t}:${n}`)}updateSetupStep(e,t,r,n,a){return this.updateAndRetry((()=>this.postJson(`${i}/setupStep`,{projectId:e,resultId:t,testId:r,setupStep:n,remoteRunId:a},o)),`testResult:${e}:${t}`)}async updateTestCompleted(e,t,r,n,i){await this.waitUntilAllStartsWithKeysFulfilled(`stepResult:${e}:${t}`);await this.updateTest(e,t,r,n,i)}updateLightweightTest(e,t,r,n){return this.updateAndRetry((()=>this.postJson(`${i}/lightweight/test`,{projectId:e,resultId:t,testId:r,testResult:n},o)),`lightweightTest:${e}:${t}`,3)}updateTest(e,t,r,n,a){return this.updateAndRetry((()=>this.postJson(`${i}/test`,{projectId:e,resultId:t,testId:r,testResult:n,remoteRunId:a},o)),`testResult:${e}:${t}`)}updateRunConfigAndRunParams(e,t,r,n,a,s){return this.updateAndRetry((()=>this.postJson(`${i}/runParamsAndRunConfig`,{projectId:e,resultId:t,testId:r,runConfig:n,runParamsUrl:a,remoteRunId:s},o)),`testResult:${e}:${t}`)}tagFailureType(e,t,r){return this.updateAndRetry((()=>this.postJson(`${i}/failureType`,{projectId:e,resultIds:t,...r},o)),`testResultFailureType:${e}`)}updateExecutionTests(e){return this.putJson(`${i}/run/tests`,e)}addNeedsImprove(e,t,r,n){return this.postJson(`${i}/needImprove`,{projectId:e,resultId:t,testId:r,needImprove:n})}addImprovedLocatorRuns(e,t,r,n,o){return this.postJson(`${i}/improvedLocatorResults`,{projectId:e,resultId:t,testId:r,diffs:o,wasResultSuccess:Boolean(n)})}getExecutedTestListByTimePeriod(e,t,r){return this.getJson(`${i}/executed-list?projectId=${e}&startTime=${t}&endTime=${r}`)}}t.TestimResultsApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimSuiteApi=void 0;const n=r(2);const i=r(7);const o="/suite";class a extends n.TestimBaseApi{getNames(e,t,r){if(e===i.commonConstants.defaults.FAKE_CODE_PROJECT_ID&&t){return Promise.resolve()}return this.getJson(`${o}/suiteNames?projectId=${e}&branch=${encodeURIComponent(r||"")}`)}getAll(e,t){return this.getJson(`${o}?projectId=${e}&branch=${encodeURIComponent(t)}`)}get(e,t,r){return this.getJson(`${o}/${r}?projectId=${e}&branch=${encodeURIComponent(t)}`)}getRunInfoList(e,t,r,n,i,a,s,u){return this.postJson(`${o}/v2/list`,{projectId:e,labels:n,testIds:r,testNames:i,testConfigNames:a,suiteNames:s,branch:t,rerunFailedByRunId:u})}async create(e,t,r,n,i,a,s){const u={projectId:e,suite:{id:t,name:r,description:n},testIds:i,branch:a,userId:s};await this.postJson(o,u);return u}update(e,t,r,n,i,a,s,u){return this.putJson(`${o}/${t}`,{projectId:e,suite:{id:t,name:r,description:n},testIds:i,branch:a,userId:s,previousVersion:u})}delete(e,t,r,n){return this.deleteJson(o,{projectId:e,suiteIds:t,branch:r,userId:n})}}t.TestimSuiteApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimStorageApi=void 0;const n=r(35);const i=r(6);const o=r(2);const a=i.Logger.getLogger("testim-storage-api");const s=10;const u=3*1e3;const l=20*1e3;class c extends o.TestimBaseApi{relativize(e){return e.startsWith("/")?e:`/${e}`}getStorageFullPath(e,t,r){return`/storage${this.getStorageRelativePath(e,t,r)}`}getStorageRelativePath(e,t,r){let n=this.relativize(e);if(r){n=`/${r}${n}`}if(t){n=`/${t}${n}`}return n}downloadJSONFile(e,t,r,n){if(typeof e==="object"){return Promise.resolve(e)}const i=this.getStorageRelativePath(e,t,r);return this.getJson(`/storage${i}`,undefined,n||s,u)}downloadJSONFiles(e){const t=e.map((e=>`/storage${this.relativize(e)}`));return Promise.all(t.map((e=>this.getJson(e,undefined,s,u))))}downloadFile(e,t,r){if(typeof e==="object"){return Promise.resolve(e)}const n=this.getStorageRelativePath(e,t,r);return this.get(`/storage${n}`,undefined,undefined,s,u)}downloadFiles(e){const t=e.map((e=>`/storage${this.relativize(e)}`));return Promise.all(t.map((e=>this.getJson(e,undefined,s,u))))}convertObjectToStringForMultipleFormField(e,t){let r="{}";try{if(t){const e={};for(const[r,n]of Object.entries(t)){e[r]=!n||typeof n!=="object"?String(n):JSON.stringify(n)}r=t?JSON.stringify(e):"{}"}}catch(t){a.error(`failed to parse object for ${e}`,t)}return r}uploadFile(e,t,r,n={},i={},o=undefined,a=undefined,s=undefined){const u=this.convertObjectToStringForMultipleFormField(e,r);const c=this.convertObjectToStringForMultipleFormField(e,i);return this.postFormDataWithRetries(`/storage${this.relativize(e)}`,{metadata:u,tagging:c},{file:t},o,undefined,n,a!==undefined?a:l,s)}copyImageToPersistentBucket({projectId:e,fileUrl:t}){return this.postJson(`/storage/clone/${e}${this.relativize(t)}`,{sourceBucket:"test-result-artifacts",targetBucket:"test-projects-artifacts"})}listFiles(e){return this.getJson(`/storage/list${e}`,undefined,s,u)}getProjectArtifactPath(e,t){return this.getStorageRelativePath(e,"test-projects-artifacts",t)}async uploadProjectJsonArtifact(e,t,r){if(typeof r!=="string"){r=JSON.stringify(r)}return await this.uploadProjectArtifact(e,t,r,"application/json")}async uploadProjectArtifact(e,t,r,i){const o=await(0,n.compressToGzip)(r,i);return await this.uploadFile(e,{fileName:t,mimeType:i,file:o},undefined,{"X-Asset-Encoding":"gzip"})}}t.TestimStorageApi=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTestApi=void 0;const n=r(2);class i extends n.TestimBaseApi{getTest(e,t,r,n,i,o=true,a=false,s=undefined){const u=[`projectId=${i}`,`branch=${encodeURIComponent(n)}`,`revisionId=${t}`,`overrideTestConfigId=${r}`,`skipSharedSteps=${o}`,`useBranchMap=${a}`,s!==undefined?`includeMobileProjectApps=${s}`:undefined].filter(Boolean).join("&");return this.getJson(`/test/${e}?${u}`)}getAll(e,t,r=false){return this.getJson(`/test?projectId=${e}&branch=${encodeURIComponent(t)}&includeArchived=${r}`)}getAllLean(e,t){return this.getJson(`/test/lean?projectId=${e}&branch=${encodeURIComponent(t)}`)}getResult(e,t,r,n){return this.getJson(`/test/v2/${e}/result/${t}?projectId=${r}&branch=${encodeURIComponent(n)}`)}getGraph(e,t,r="",n=1e3){return this.getJson(`/test/graph?projectId=${e}&branch=${encodeURIComponent(t)}&label=${r}&testsCountLimit=${n}`)}getLastSuccessfulResult(e,t,r,n){return this.getJson(`/test/${e}/lastSuccessfulResult?projectId=${t}&branch=${encodeURIComponent(r)}&startTime=${n}`)}getResultRunData(e,t,r){return this.getJson(`/test/v2/${e}/result/${t}/runData?projectId=${r}`)}getRevisions(e,t,r){return this.getJson(`/test/${e}/revision?projectId=${r}&branch=${encodeURIComponent(t)}`)}getTestRevisions(e,t,r){return this.getJson(`/test/${e}/revision?projectId=${r}&branch=${encodeURIComponent(t)}&type=test`)}getRevisionsTree(e,t){return this.getJson(`/test/${e}/revisions-tree/?projectId=${t}`)}getBulkRevisions(e,t,r){return this.postJson("/test/revision",{projectId:t,branch:e,infoIds:r})}updateTestLabel(e,t,r){return this.putJson(`/test/${e}/label`,{projectId:r,labels:t})}updateTestsLabel(e,t,r){return this.putJson("/test/label",{testIds:e,projectId:r,label:t})}pruneTestsLabel(e,t,r){return this.deleteJson("/test/label",{testIds:e,projectId:r,label:t})}updateTestsOwner({projectId:e,branch:t,testIds:r,newOwnerUserId:n}){return this.putJson("/test/owner",{projectId:e,branch:t,testIds:r,newOwnerUserId:n})}renameTest(e,t,r){return this.putJson(`/test/${e}/name`,{projectId:t,name:r})}updateTestStatus({testIds:e,projectId:t,branch:r,oldTestStatus:n,newTestStatus:i}){return this.putJson("/test/testStatus",{testIds:e,projectId:t,branch:r,oldTestStatus:n,newTestStatus:i})}save(e,t,r,n,i,o,a,s,u){return this.postJson("/test/v2",{projectId:e,saveInfo:t,steps:r,test:o,branch:a,testConfig:s,customData:u,sharedSteps:n,childSharedStepInfoIds:i,sessionType:"codeless"},5*6e4,3)}deleteTests(e,t,r,n){t=Array.isArray(t)?t:[t];return this.deleteJson("/test",{projectId:e,testIds:t,userId:r,branch:n})}unArchiveTests(e,t,r){t=Array.isArray(t)?t:[t];return this.postJson("/test/unarchive",{projectId:e,testIds:t,branch:r})}hideCustomActions(e,t){return this.deleteJson("/test/customAction",{projectId:e,actions:t})}unhideCustomActions(e,t){return this.putJson("/test/customAction/unhide",{projectId:e,actions:t})}toggleTestResultPeriod(e,t,r){return this.postJson("/test/result-history",{projectId:e,testId:t,resultId:r})}updateTestsConfig(e,t,r){return this.putJson("/test/config/bulk",{projectId:e,testConfigId:r,testIds:t})}getLogs(e,t,r){return this.getJson(`/test/${t}/result/${r}/log?projectId=${e}`)}loadAdditionalParamsForStepResult(e,t){return this.getJson(`/test/step-result/${t}/additional-params?projectId=${e}`)}getAllTestsContainingApplitoolsStep(e,t){return this.getJson(`/test/applitoolsTests?projectId=${e}&branch=${t}`)}}t.TestimTestApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimLocatorsApi=void 0;const n=r(2);class i extends n.TestimBaseApi{getLocators(e,t){return this.getJson(`/locator/?projectId=${t}&locatorIds=${JSON.stringify(e)}`)}getImagesSimilarityScore(e,t,r,n){return this.postJson("/locator/image-similarity-score",{record_url:e,images:t,projectId:r,extraInfo:n})}getLocateMl(e,t,r,n,i){return this.postJson("/locator/locate-element-in-dom",{recordAttributes:e,playbackDom:t,playbackDevice:r,projectId:n,extraInfo:i})}}t.TestimLocatorsApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimRemoteApi=void 0;const n=r(2);class i extends n.TestimBaseApi{runScheduler(e){return this.postJson("/run/scheduled-job",e)}runTest(e){return this.postJson("/run/remote-test",e)}abortRun(e,t){return this.deleteJson("/run",{projectId:e,remoteRunId:t})}testUrlAvailability(e){return this.postJson("/run/url-availability",{url:e})}}t.TestimRemoteApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAnalyticsSystemsApi=void 0;const n=r(2);const i=r(6);const o=r(7);const a=i.Logger.getLogger("TestimAnalyticsSystemsApi");const s="/analyticsSystems";const u=e=>e===o.commonConstants.defaults.FAKE_CODE_PROJECT_ID;class l extends n.TestimBaseApi{async dispatchEvent(e,t,r,n,i){try{if(u(e)){return}await this.postJson(`${s}/dispatchEvent/`,{projectId:e,entityId:t,eventType:r,parentEntityId:n,eventData:i})}catch(t){a.error("failed dispatching event",{projectId:e,err:t})}}async dispatchSignupEvent(e,t,r){try{if(u(e)){return}await this.postJson(`${s}/dispatchSignupEvent/`,{projectId:e,entityId:t,eventType:"signup",eventData:r})}catch(t){a.error("failed dispatching signup event",{projectId:e,err:t})}}}t.TestimAnalyticsSystemsApi=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTmsApi=void 0;const n=r(7);const i=r(2);const o=e=>e===n.commonConstants.defaults.FAKE_CODE_PROJECT_ID;const a="/integration/tms";class s extends i.TestimBaseApi{async providers(e){if(o(e)){return undefined}return await this.getJson(`${a}/providers?projectId=${e}`)}async connected(e){if(o(e)){return undefined}return await this.getJson(`${a}/connected?projectId=${e}`)}connect(e,t,r){return this.postJson(`${a}/connect?projectId=${e}`,Object.assign({},{provider:t},r))}disconnect(e){return this.getJson(`${a}/disconnect?projectId=${e}`)}async getProjects(e){if(o(e)){return undefined}return await this.getJson(`${a}/projects?projectId=${e}`)}setProjectLink(e,t){const r=Array.from(t);return this.postJson(`${a}/link/project?projectId=${e}`,{tmsProjectIds:r})}async getTests(e,t){if(o(e)){return undefined}return await this.getJson(`${a}/tests?projectId=${e}&tmsProjectId=${t}`)}async setTests(e,t,r){if(o(e)){return undefined}return await this.postJson(`${a}/tests?projectId=${e}&tmsProjectId=${t}`,{testCases:r})}async checkMappedTests(e,t,r,n){if(o(e)){return undefined}return await this.postJson(`${a}/mapped-tests?projectId=${e}&tmsProjectId=${t}&branchId=${r}`,{testIds:n})}async getProjectTMSObj(e){if(o(e)){return undefined}return await this.getJson(`${a}/project?projectId=${e}`)}async getProjectLink(e){if(o(e)){return undefined}return await this.getJson(`${a}/link/project?projectId=${e}`)}async setMapTestsInDB(e,t,r){if(o(e)){return undefined}return await this.postJson(`${a}/save-tests`,{mappedTests:r,tmsProjectId:t,projectId:e})}}t.TestimTmsApi=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAutoGroupingApi=void 0;const n=r(2);const i=r(6);const o=i.Logger.getLogger("TestimAutoGroupingApi");const a="/autoGrouper";class s extends n.TestimBaseApi{async autoGroup(e,t,r,n,i){try{return await this.postJson(`${a}/`,{projectId:t,sharedStepInfoId:e.sharedStepInfoId,branch:r,saveTestData:n,forkData:i})}catch(e){o.error("Failed to auto group :(",{projectId:t,err:e});throw new Error(e.response)}}async autoGroupReplace(e,t,r,n,i){try{return await this.postJson(`${a}/replace`,{projectId:t,branch:r,saveTestData:n,forkData:i,replacedStepsGroup:e})}catch(e){o.error("Failed to auto group :(",{projectId:t,err:e});throw new Error(e.response)}}}t.TestimAutoGroupingApi=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimUserApi=void 0;const n=r(2);const i="/v2/user";class o extends n.TestimBaseApi{updatePreferences(e,t){return this.putJson(`${i}/preferences`,{userId:e,preferences:t})}getPreferences(){return this.getJson(`${i}/preferences`)}updatePhoneNumber(e,t){return this.putJson(`${i}/phone`,{userId:e,phoneNumber:t})}updateName(e,t){return this.putJson(`${i}/name`,{userId:e,name:t})}updateRole(e,t){return this.putJson(`${i}/role`,{userId:e,role:t})}updatePersonalInfo(e,t){return this.putJson(`${i}/personal-info`,{userId:e,data:t})}}t.TestimUserApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimSuggestionsApi=t.FilterBy=t.SortBy=void 0;const n=r(2);var i;(function(e){e["Magic"]="magic";e["MagicDsc"]="magicDsc";e["MatchLengthAsc"]="matchLengthAsc";e["MatchLengthDsc"]="matchLengthDsc";e["NumberOfTestsAsc"]="numberOfTestsAsc";e["NumberOfTestsDsc"]="numberOfTestsDsc"})(i||(t.SortBy=i={}));var o;(function(e){e["Owner"]="owner";e["TestName"]="TestName";e["SuiteName"]="suiteName";e["GroupName"]="groupName"})(o||(t.FilterBy=o={}));class a extends n.TestimBaseApi{getSuggestions(e,t,r=false){return this.getJson(`/suggestions/${e}/${encodeURIComponent(t)}?includeExpandData=${Boolean(r)}`)}getSuggestionsFiltered(e,t,{includeExpandData:r=true,allowedTestIds:n,allowedGroupIds:o,sort:a=i.Magic,minSteps:s,maxSteps:u}){return this.postJson(`/suggestions/${e}/${encodeURIComponent(t)}`,{includeExpandData:r,allowedTestIds:n,allowedGroupIds:o,sort:a,minSteps:Math.min(100,Math.max(0,s||0)),maxSteps:Math.max(0,Math.min(100,u||0))})}applySuggestion(e,t,r,n,i){return this.postJson("/suggestions/apply",{projectId:e,forkData:t,author:r,groupName:n,suggestion:i})}loadGroupSignatures(e,t){return this.getJson(`/suggestions/group-signature/${e}/${encodeURIComponent(t)}`)}computeSuggestions(e){return this.postJson("/suggestions/compute",{projectId:e})}}t.TestimSuggestionsApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimSlackApi=void 0;const n=r(2);const i=r(7);class o extends n.TestimBaseApi{disconnect(e){return this.getJson(`/integration/slackBot/disconnect?projectId=${e}`,undefined,0,0,false)}connected(e){if(e===i.commonConstants.defaults.FAKE_CODE_PROJECT_ID){return Promise.resolve({})}return this.getJson(`/integration/slackBot/connected?projectId=${e}`,undefined,0,0,false)}getChannels(e){return this.getJson(`/integration/slackBot/channels?projectId=${e}`)}doesChannelExist(e,t){return this.getJson(`/integration/slackBot/check?projectId=${e}&channelId=${t}`)}}t.TestimSlackApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimExecutionApi=void 0;const n=r(6);const i=r(2);const o=r(7);const a="/result/run";const s="/executions/v2/count";const u=n.Logger.getLogger("testim-execution-api");class l extends i.TestimBaseApi{constructor(){super(...arguments);this.count=(e,t)=>this.countRequestBuilder({companyId:e,startTime:t});this.countByType=(e,t,r)=>this.countRequestBuilder({companyId:e,startTime:t,type:r});this.countByDates=(e,t,r)=>this.countRequestBuilder({companyId:e,startTime:t,endTime:r});this.countByDatesByProject=(e,t,r)=>this.countRequestBuilder({companyId:e,startTime:t,endTime:r,byProject:true});this.countByDatesByProjectType=(e,t,r,n=o.commonConstants.TEST_QUOTA_TYPE.WEB)=>this.countRequestBuilder({companyId:e,startTime:t,endTime:r,byProject:true,type:n});this.countRequestBuilder=({companyId:e,startTime:t,endTime:r,byProject:n,type:i})=>{let o=`${s}?companyId=${e}&startTime=${t}`;if(r){o+=`&endTime=${r}`}if(n!==undefined){o+=`&byProject=${n}`}if(i!==undefined){o+=`&type=${i}`}return this.getJson(o)}}reportStarted(e,t,r,n,i,o,s){u.log("localExecutionStarted: ",{executionId:e,projectId:t,labels:r,startTime:n,executions:i,config:o});return this.postJson(a,{runId:e,projectId:t,labels:r,startTime:n,execution:i,config:o,status:"RUNNING",show:s})}reportFinished(e,t,r){u.log("localExecutionFinished: ",e,t,r);const n=Date.now();return this.putJson(a,{runId:e,projectId:t,endTime:n,status:"FINISHED",success:r})}reportAborted(e,t){u.log("localExecutionAborted: ",e,t);const r=Date.now();return this.putJson(a,{runId:e,projectId:t,endTime:r,status:"ABORTED",success:false})}updateTest(e){u.log("updateTestStatus: ",e);const{executionId:t,...r}=e;return this.putJson(`${a}/test`,{...r,runId:t})}getExecutionAndTimestampsById(e,t){return this.getJson(`/executions/${t}?projectId=${e}`,undefined,1)}getAllResultLabels(e,t=0){return this.getJson(`/real-data/runResult/distinct/resultLabels?projectId=${e}&startTime=>=${t}`)}}t.TestimExecutionApi=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTestPlanApi=void 0;const n=r(2);const i="/testPlan";class o extends n.TestimBaseApi{getAll(e){return this.getJson(`${i}?projectId=${e}`)}async create(e){await this.postJson(i,e)}async update(e){await this.putJson(`${i}/${e.testPlanId}`,e)}async delete(e,t){await this.deleteJson(i,{projectId:e,testPlanIds:t})}getRunInfoList(e,t,r){return this.postJson(`${i}/list`,{projectId:e,names:r,branch:t})}}t.TestimTestPlanApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAuditLogApi=void 0;const n=r(2);class i extends n.TestimBaseApi{getByCompanyId(e){const{companyId:t,section:r,action:n,userEmail:i,page:o}=e;const a=new URLSearchParams;a.set("companyId",t);if(r){a.set("section",r)}if(n){a.set("action",n)}if(i){a.set("userEmail",i)}if(o){a.set("page",String(o))}return this.getJson(`/auditLog?${a}`)}getByCompanyIdV2(e){return this.postJson("/auditLog",e)}}t.TestimAuditLogApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimRealDataApi=void 0;const n=r(2);class i extends n.TestimBaseApi{getDataV2(e,t){return this.postJson(`/real-data/${e}`,t)}filterToQuery(e){return Object.entries(e).map((([e,t])=>{if(!Array.isArray(t)){return`${e}=${encodeURIComponent(t)}`}return t.map((t=>`${e}[]=${encodeURIComponent(t)}`)).join("&")})).join("&")}async getDownloadCsv(e,t,r,n){const i=await this.getToken();const o=this.filterToQuery(r);const a=new URL(`${this.baseUrl}/real-data/${t}/download?${o}`);a.searchParams.append("access_token",i);a.searchParams.append("fileName",n);if(!a.searchParams.has("projectId")){a.searchParams.append("projectId",e)}return a.toString()}}t.TestimRealDataApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimLabFeaturesApi=void 0;const n=r(7);const i=r(128);const o=r(2);class a extends o.TestimBaseApi{getAllFeatures(e){if(e===n.commonConstants.defaults.FAKE_CODE_PROJECT_ID){return Promise.resolve([])}return this.getJson(`/labFeature/v2/project/${e}`)}updateLabFeatureProject(e){return this.putJson("/labFeature/v2/project-feature",e)}markSunsettingLabFeaturesAsViewed(e){if(e.projectId===n.commonConstants.defaults.FAKE_CODE_PROJECT_ID||(0,i.isDemoProjectId)(e.projectId)){return Promise.resolve()}return this.putJson("/labFeature/v2/viewed-sunsetting",e)}}t.TestimLabFeaturesApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PublicApiKeysManagementApi=void 0;const n=r(2);const i="/publicApiKeys";class o extends n.TestimBaseApi{getAll(e){return this.getJson(`${i}/${e}`)}create(e,t){return this.postJson(`${i}/${e}`,{name:t})}update(e,t,r){return this.putJson(`${i}/${e}/${encodeURIComponent(t)}`,{name:r})}delete(e,t){return this.deleteJson(`${i}/${e}/${encodeURIComponent(t)}`,{})}}t.PublicApiKeysManagementApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTestConfigApi=void 0;const n=r(2);class i extends n.TestimBaseApi{save(e,t){return this.postJson("/testConfig",{testConfig:t,projectId:e})}clone(e,t){return this.postJson("/testConfig/clone",{cloneConfigsInfo:t,projectId:e})}getConfigList(e){return this.getJson(`/testConfig/${e}`)}getConfigUsage(e,t){return this.getJson(`/testConfig/${t}/usage?projectId=${e}`)}}t.TestimTestConfigApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimReportApi=void 0;const n=r(2);const i="/reports";class o extends n.TestimBaseApi{buildQueryParams({projects:e,startDate:t,endDate:r}){return`${e.map((e=>`projectIds=${encodeURIComponent(e)}`)).join("&")}&startDate=${encodeURIComponent(t)}&endDate=${encodeURIComponent(r)}`}getTests(e){return this.getJson(`${i}/v2/improve?${this.buildQueryParams(e)}`)}getRunsReport(e){return this.postJson(`${i}/v3/runs`,e)}getFailureTypesReport(e){return this.postJson(`${i}/v3/failure-types`,e)}getMostBrokenTestsV2(e){return this.postJson(`${i}/v3/top-failures`,e)}getRunningTestsReport(e){return this.postJson(`${i}/v3/running-tests`,e)}getActivityReport(e){return this.postJson(`${i}/v3/activity`,e)}getLocatorAccuracyV2(e){return this.postJson(`${i}/v3/locator-accuracy`,e)}getFilterOptions(e){return this.postJson(`${i}/v3/filters`,e)}getTeamProductivity(e){return this.postJson(`${i}/v3/teamProductivity`,{...e,projectIds:[]})}}t.TestimReportApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UtilityApis=void 0;const n=r(2);class i extends n.TestimBaseApi{signCloudinaryImageUrl(e){return this.getJson(`/cloudinary/token/${e}`)}}t.UtilityApis=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimFolderApi=void 0;const n=r(2);class i extends n.TestimBaseApi{listFolders({projectId:e,branch:t,type:r,includeArchived:n=false,isMobile:i=false}){return this.getJson(`/folders?projectId=${e}&branch=${encodeURIComponent(t)}&type=${r}&includeArchived=${n}&isMobile=${i}`)}getRevisionsTree(e,t){return this.getJson(`/folders/${e}/revisions-tree/?projectId=${t}`)}createFolder({projectId:e,branch:t,name:r,type:n,parentFolderInfoId:i}){return this.postJson("/folders",{projectId:e,branch:t,name:r,type:n,parentFolderInfoId:i})}updateFolder({projectId:e,branch:t,folderInfoId:r,name:n,addedChildren:i,removedChildren:o}){return this.putJson(`/folders/${r}`,{projectId:e,branch:t,name:n,addedChildren:i,removedChildren:o})}moveChildren({projectId:e,branch:t,previousParent:r,newParent:n,children:i}){return this.putJson("/folders/move",{projectId:e,branch:t,previousParent:r,newParent:n,children:i})}archiveFoldersAndTests({projectId:e,branch:t,folderInfoIds:r,testIds:n}){return this.deleteJson("/folders/",{projectId:e,branch:t,folderInfoIds:r,testIds:n})}unarchiveFolder({projectId:e,branch:t,folderInfoId:r}){return this.putJson(`/folders/unarchive/${r}`,{projectId:e,branch:t})}}t.TestimFolderApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimSharedStepApi=void 0;const n=r(2);class i extends n.TestimBaseApi{getAllTestsContainingStep(e,t,r){if(!r.length){return[]}return this.getJson(`/sharedSteps?projectId=${e}&branch=${encodeURIComponent(t)}&${r.map((e=>`sharedStepInfoId=${encodeURIComponent(e)}`)).join("&")}`)}getRevisionsTree(e,t){return this.getJson(`/sharedSteps/${e}/revisions-tree/?projectId=${t}`)}updateLock(e,t,r){return this.putJson(`/sharedSteps/${e}/lock?projectId=${t}`,{isLocked:r})}}t.TestimSharedStepApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimRemoteBranch=void 0;const n=r(2);const i="/remoteBranch";class o extends n.TestimBaseApi{async fetchRemoteBranchData(e){return this.get(`${i}?projectId=${e}`)}async addRemoteBranch(e,t,r,n){const o=`projectId=${e}&remoteCompanyId=${r}&remoteProjectId=${t}&localBranchName=${encodeURIComponent(n)}`;return this.postJson(`${i}?${o}`,null)}async updateRemoteBranch(e){return this.putJson(`${i}?projectId=${e}`,null)}async removeRemoteBranch(e){return this.deleteJson(`${i}?projectId=${e}`,null)}}t.TestimRemoteBranch=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimPullRequestApi=void 0;const n=r(2);const i=["awaitingReview","changesRequested","approved"];const o=["merged","closed"];const a="/pull-request";class s extends n.TestimBaseApi{async listPullRequests(e,t=0,r=50,n={branchNameFilter:[],showClosedPRS:false,statusFilter:[],submitterFilter:[]}){let{statusFilter:o}=n;const{branchNameFilter:s,showClosedPRS:u,submitterFilter:l}=n;if(!u&&!o.length){o=i}const c=new URLSearchParams({page:t.toString(),pageSize:r.toString(),branchNameFilter:s.toString(),submitterFilter:l.toString(),statusFilter:o.toString()});return this.getJson(`${a}/${e}?${c.toString()}`)}async getPullRequest(e,t,r){let n=`${a}/${e}/${t}`;if(r){n=`${n}?loadComments=true`}return this.getJson(n)}async getPullRequestByBranches(e,t,r){const n=new URLSearchParams({excludeStatus:o.join(",")});return this.getJson(`${a}/${e}/${encodeURIComponent(t)}/${encodeURIComponent(r)}?${n.toString()}`)}async createPullRequest({projectId:e,sourceBranch:t,targetBranch:r,title:n,comment:i}){return this.postJson(`${a}/${e}`,{sourceBranch:t,targetBranch:r,title:n,comment:i})}async transitionPullRequestStatus(e,t,r,n,i){return this.putJson(`${a}/${e}/${t}`,{status:r,revisionData:n,comment:i})}async mergePullRequest(e){const{projectId:t,pullRequestId:r}=e;return this.putJson(`${a}/${t}/${r}/merge`,e)}}t.TestimPullRequestApi=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimSchedulerApi=void 0;const n=r(2);const i=r(7);const o="/schedulers";class a extends n.TestimBaseApi{getAll({projectId:e,isPlaygroundMode:t}){if(e===i.commonConstants.defaults.FAKE_CODE_PROJECT_ID&&t){return Promise.resolve([])}return this.getJson(`${o}?projectId=${e}`)}create(e){return this.postJson(o,e)}update(e){return this.putJson(`${o}/${e.schedulerId}`,e)}enable(e,t,r,n){return this.putJson(`${o}/${t}/enable`,{projectId:e,token:r,enable:n})}deleteSchedulers(e,t){return this.deleteJson(o,{projectId:e,schedulerIds:t})}}t.TestimSchedulerApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimGridApi=void 0;const n=r(11);const i=r(2);const o=r(7);function a(e){e=n.merge({},e.external,e.browsers,e);e.gridId=e._id;delete e._id;delete e.browsers;delete e.external;delete e.isArchived;delete e.updated_at;delete e.created_at;return e}const s="/grid";class u extends i.TestimBaseApi{async isBrowserNumberValid(e,t,r,n,i,o,a){return this.getJson(`${s}/isBrowserNumberValid?companyId=${e}&type=${t}&chrome=${r}&firefox=${n}&edgeChromium=${i}&safari=${o}&gridId=${a}`)}createGrid(e,t){return this.postJson(s,Object.assign({companyId:e},a(t)))}updateGrid(e,t){return this.putJson(s,Object.assign({companyId:e},a(t)))}deleteGrid(e,t){return this.deleteJson(s,{companyId:e,gridIds:t})}migrate(e,t,r){return this.postJson(`${s}/${t}/migrate`,{companyId:e,toType:r})}async getAllGrids({companyId:e,isPlaygroundMode:t}){if(e===o.commonConstants.defaults.FAKE_CODE_COMPANY_ID&&t){return[]}return this.getJson(`${s}?companyId=${e}`)}async getGridsConfiguration(e){return this.getJson(`${s}/config?companyId=${e}`)}getGridUsage(e,t){return this.getJson(`/grid/${t}/usage?projectId=${e}`)}async getMobileDevicesFromGrid({projectType:e,gridId:t,companyId:r,selectors:n}){let i=`${s}/mobileDevices/${t}/${r}?projectType=${e}`;i=n?`${i}&selectors=${encodeURIComponent(n)}`:i;const o=await this.getJson(i);return o}}t.TestimGridApi=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimPlanApi=void 0;const n=r(2);class i extends n.TestimBaseApi{getAll(e){return this.getJson(`/plan?companyId=${e}`)}getPlan(e){return this.getJson(`/plan/getPlan?planId=${e}`)}getCompanyPlanFromDb(e){return this.getJson(`/plan/companyPlan?companyId=${e}`)}switchToFreePlan(e){return this.putJson(`/plan/switchToFreePlan?companyId=${e}`)}switchToTrialPlan(e){return this.putJson(`/plan/switchToTrialPlan?companyId=${e}`)}switchToProPlan(e){return this.putJson(`/plan/switchToProPlan?companyId=${e}`)}updateTailoredPlan(e,t){return this.postJson("/plan/tailoredPlan",{companyId:e,planData:t})}updatePlan(e,t){return this.putJson("/plan",{companyId:e,planData:t})}updateL2CPlan(e,t){return this.putJson("/plan/l2c",{companyId:e,planData:t})}getBillingStartDate(e){return this.getJson(`/plan/billing-period-start-date?companyId=${e}`)}async getUsageForCurrentBillingPeriod(e){return this.getJson(`/plan/project/${e}/usage-current-billing-period`)}}t.TestimPlanApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimApplitoolsApi=void 0;const n=r(7);const i=r(2);class o extends i.TestimBaseApi{connect(e,t){return this.postJson("/integration/applitools/v3/connect",Object.assign({},t,{projectId:e}))}disconnect(e){return this.getJson(`/integration/applitools/v3/disconnect?projectId=${e}`,null,0,0,false)}connected(e){if(e===n.commonConstants.defaults.FAKE_CODE_PROJECT_ID){return Promise.resolve({})}return this.getJson(`/integration/applitools/v3/connected?projectId=${e}`,null,0,0,false)}}t.TestimApplitoolsApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAuthApi=void 0;const n=r(2);const i="/auth";class o extends n.TestimBaseApi{signout(e,t){return this.postJson(`${i}/signout`,{userId:e,refreshToken:t})}signup({name:e,email:t,password:r,allowPersonalEmail:n,metadata:o={}}){return this.rawPostJson(`${i}/signup`,{name:e,email:t,password:r,allowPersonalEmail:n,metadata:o})}signin(e,t,r){return this.rawPostJson(`${i}/signin`,{email:e,password:t,captcha:r})}authSSO(e){return this.rawPostJson(`${i}/sso/auth`,{token:e})}signinSSO(e){return this.rawGetJson(`${i}/sso/signin?email=${e}`)}validateUserSSO(e){return this.rawGetJson(`${i}/sso/validate-user?email=${e}`)}sendPasswordResetEmail(e){return this.rawPostJson(`${i}/reset`,{email:e})}resetPassword(e,t){return this.rawPutJson(`${i}/reset`,{token:e,password:t})}verifyResetPasswordToken(e){return this.rawGetJson(`${i}/reset/verify?token=${e}`)}changePassword(e,t,r){return this.putJson(`${i}/changePassword`,{userId:e,oldPassword:t,newPassword:r})}check(e){return this.refreshTokenOnExp((t=>this.rawGetJson(`${i}/check`,{Authorization:`Bearer ${(t||e).token}`})))}tryToCreateUser(e,t,r){return this.postJson(`${i}/verify-email`,{userId:e,email:t,password:r})}getMarketoDetails(e){return this.rawGetJson(`${i}/signupMarketoDetails/${e}`)}getMarketoDetailsByEmail(e){return this.rawGetJson(`${i}/signupMarketoDetailsByEmail/${e}`)}sendConfirmationEmail(e){return this.postJson(`${i}/confirmation-email`,{userId:e})}createInitialMarketoDetails({email:e,country:t,agreeToMarketing:r,agreeToTricentisPolicies:n,isSocialSignup:o=false,productType:a}){return this.rawPostJson(`${i}/initial-marketo-signup`,{email:e,country:t,agreeToMarketing:r,agreeToTricentisPolicies:n,isSocialSignup:o,productType:a})}updateMarketoDetails({email:e,...t}){return this.putJson(`${i}/update-marketo-signup`,{email:e,...t})}finalMarketoDetails(e){return this.putJson(`${i}/final-marketo-signup`,{email:e})}}t.TestimAuthApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimBranchApi=void 0;const n=r(2);class i extends n.TestimBaseApi{getRevisions(e,t){return this.getJson(`/branch/${encodeURIComponent(t)}/revision?projectId=${e}`)}getBranchesData(e){return this.getJson(`/branch/branchData?projectId=${e}`)}getBranchData(e,t){return this.getJson(`/branch/branchData/${encodeURIComponent(t)}?projectId=${e}`)}create(e,t,r,n=true){return this.postJson("/branch",{projectId:e,fromBranchName:t,newBranchName:r,createBranchAsync:n})}update(e,t,r){return this.putJson(`/branch/${encodeURIComponent(t)}`,{projectId:e,branchData:r})}merge(e,t,r,n,i,o,a,s){return this.postJson("/branch/merge",{projectId:e,author:n,targetBranch:t,sourceBranch:r,checkMd5:i,stagedEntities:o,mergeResolution:a,shouldDeleteBranch:s})}dryMerge(e,t,r,n){return this.postJson("/branch/dry-merge",{projectId:e,authorId:n,targetBranch:t,sourceBranch:r})}getBranchForkStatus(e,t){return this.getJson(`/branch/forkStatus?projectId=${e}&branchName=${encodeURIComponent(t)}`)}}t.TestimBranchApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimCompanyApi=void 0;const n=r(2);const i=r(7);const o="/company";class a extends n.TestimBaseApi{rename(e,t){return this.putJson(`${o}/name`,{companyId:e,name:t})}addOwner(e,t){return this.postJson(`${o}/owner`,{companyId:e,userId:t})}removeOwner(e,t){return this.deleteJson(`${o}/owner`,{companyId:e,userId:t})}replaceOwner(e,t,r){return this.putJson(`${o}/owner`,{companyId:e,userId:t,oldOwnerUserId:r})}getUsers(e){return this.getJson(`${o}/users?companyId=${e}`)}getUsersCount(e){return this.getJson(`${o}/users/count?companyId=${e}`)}getTestsCount(e){return this.getJson(`${o}/tests/count?companyId=${e}`)}getTestsCountByType(e,t){return this.getJson(`${o}/tests/count?companyId=${e}&type=${t}`)}async getProjects(e){if(e===i.commonConstants.defaults.FAKE_CODE_USER_ID){return undefined}return this.getJson(`${o}/projects?userId=${e}`)}getProjectsUsers(e){return this.getJson(`${o}/projects/users?companyId=${e}`)}getCompanies(e){return this.getJson(`${o}?userId=${e}`)}createProject(e,t){return this.postJson(`${o}/project`,{companyId:e,projectName:t})}deleteUser(e,t){return this.deleteJson(`${o}/user`,{companyId:e,userId:t})}deleteUsers(e,t){return this.deleteJson(`${o}/users`,{companyId:e,userIds:t})}invite(e,t,r,n,i){return this.postJson(`${o}/invite`,{companyId:e,emails:t,projectIds:r,captcha:n,addAsOwner:i})}getInvitedEmails(e){return this.getJson(`${o}/invites?companyId=${e}`)}deleteInvite(e,t){return this.deleteJson(`${o}/invite`,{companyId:e,email:t})}deleteInvites(e,t){return this.deleteJson(`${o}/invites`,{companyId:e,emails:t})}getCompany(e){return this.getJson(`${o}/company?companyId=${e}`)}getCompanyByProjectId(e){return this.getJson(`${o}/company/${e}`)}setCompanySSO(e,t,r){return this.postFormData(`${o}/sso/${t}?companyId=${e}`,{[t]:r})}getProjectsWithManageRights(e){return this.getJson(`${o}/projects/owned?companyId=${e}`)}getCompanyProjects(e){return this.getJson(`${o}/projects/${e}`)}searchCompanies(e,t=100,r=false){return this.getJson(`${o}/search?name=${encodeURIComponent(e)}&limit=${t}&includeArchived=${Boolean(r)}`)}setUCID(e,t){return this.postJson(`${o}/ucid`,{companyId:e,ucid:t})}setFollowL2c(e,t){return this.postJson(`${o}/followL2CPlan`,{companyId:e,followL2CPlan:t})}extendL2CTrial(e,t,r){return this.postJson(`${o}/extendL2CTrialPeriod`,{companyId:e,productFamily:t,days:r})}}t.TestimCompanyApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimEmailValidationApi=void 0;const n=r(2);class i extends n.TestimBaseApi{generatePermanentEmail(e){return this.getJson(`/email-validation/generate/permanent?projectId=${e}`)}getRecipients(e){return this.getJson(`/email-validation/recipient?projectId=${e}&permanentOnly=${true}`)}getRecipientsV2(e){return this.getJson(`/email-validation/recipient/v2?projectId=${e}&permanentOnly=${false}`)}generateTempEmail(e){return this.getJson(`/email-validation/generate?projectId=${e}`)}getInboxEmails(e,t){return this.getJson(`/email-validation/inbox?projectId=${e}&email=${t}`)}deleteEmail(e,t){return this.deleteJson("/email-validation/recipient",{projectId:e,email:t})}}t.TestimEmailValidationApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimIntegrationApi=void 0;const n=r(2);class i extends n.TestimBaseApi{checkGithub(e){return this.rawGetJson(`/integration/github/check?projectId=${e}`)}getGitHubRepos(e){return this.getJson(`/integration/github/repos?projectId=${e}`)}getGitHubIntegrationDetails(e){return this.getJson(`/integration/github/details?projectId=${e}`)}getAll(e){return this.getJson(`/integration?projectId=${e}`)}updateGitHubIntegration(e,t,r,n){return this.putJson("/integration/github",{projectId:e,create:t,merge:r,selectedRepo:n})}saveGitHubInstallationId(e,t){return this.putJson("/integration/github/install",{projectId:e,installationId:t})}disconnectGitHub(e){return this.putJson("/integration/github/disconnect",{projectId:e})}checkBitbucket(e){return this.rawGetJson(`/integration/bitbucket/check?projectId=${e}`)}getBitbucketRepos(e){return this.getJson(`/integration/bitbucket/repos?projectId=${e}`)}searchBitBucketRepos(e,t){return this.getJson(`/integration/bitbucket/search?projectId=${e}&term=${encodeURIComponent(t)}`)}getBitbucketIntegrationDetails(e){return this.getJson(`/integration/bitbucket/details?projectId=${e}`)}updateBitbucketIntegration(e,t,r,n){return this.putJson("/integration/bitbucket",{projectId:e,create:t,merge:r,selectedRepo:n})}disconnectBitbucket(e){return this.deleteJson("/integration/bitbucket",{projectId:e})}}t.TestimIntegrationApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimLabelApi=void 0;const n=r(2);class i extends n.TestimBaseApi{create(e,t){return this.postJson(`/label?projectId=${e}`,{labels:t,projectId:e})}delete(e,t){return this.deleteJson("/label",{labels:t,projectId:e})}getAll({projectId:e}){return this.getJson(`/label?projectId=${e}`)}}t.TestimLabelApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimProjectApi=void 0;const n=r(2);const i=r(7);const o="/v2/project";class a extends n.TestimBaseApi{getSharedStepList(e,t,r){return this.getJson(`${o}/sharedStepList?projectId=${e}&branch=${t}&withUsage=${r}`)}getReplaceGroupList(e,t){return this.getJson(`${o}/replaceGroupList?projectId=${e}&branch=${t}`)}create(e,t,r=i.commonConstants.test.DESKTOP_WEB){return this.postJson(o,{companyId:e,projectName:t,type:r})}archive(e){return this.postJson(`${o}/archive`,{projectId:e})}restore(e){return this.postJson(`${o}/restore`,{projectId:e})}clone({sourceProjectId:e,targetCompany:t,targetCompanyName:r,targetProject:n,targetProjectName:i,includeTestResults:a,copyGridMachines:s,copyScheduler:u,cloneFiles:l,useSourceOwner:c}){return this.postJson(`${o}/clone`,{sourceProjectId:e,targetCompany:t,targetCompanyName:r,targetProject:n,targetProjectName:i,includeTestResults:a,copyGridMachines:s,copyScheduler:u,cloneFiles:l,useSourceOwner:c})}getProject(e){return this.getJson(`${o}/project?projectId=${e}`)}rename(e,t){return this.putJson(`${o}/rename`,{projectId:e,name:t})}saveDefaultUrl(e,t){return this.putJson(`${o}/defaultUrl`,{projectId:e,url:t})}saveDebugPanelStatus(e,t){return this.putJson(`${o}/debugPanelStatus`,{projectId:e,panelStatus:t})}saveDefaultApp(e,t){return this.putJson(`${o}/defaultApp`,{projectId:e,appId:t})}saveHiddenParams(e,t){return this.putJson(`${o}/hiddenParams`,{projectId:e,params:t})}saveDefaults(e,t){return this.putJson(`${o}/projectDefaults`,{projectId:e,projectDefaults:t})}saveDefaultConfig(e,t){return this.putJson(`${o}/defaultConfig`,{projectId:e,configId:t})}addOwner(e,t,r){return this.postJson(`${o}/owner`,{projectId:e,userId:t,companyId:r})}removeOwner(e,t,r){return this.deleteJson(`${o}/owner`,{projectId:e,userId:t,companyId:r})}replaceOwner(e,t,r,n){return this.putJson(`${o}/owner`,{projectId:e,userId:r,companyId:t,oldOwnerUserId:n})}getUsers(e,t){return this.getJson(`${o}/users?projectId=${e}&companyId=${t}`)}deleteUser(e,t){return this.deleteJson(`${o}/user`,{projectId:e,userId:t})}deleteUsers(e,t){return this.deleteJson(`${o}/users`,{projectId:e,userIds:t})}invite(e,t,r){return this.postJson(`${o}/invite`,{projectId:e,emails:t,captcha:r})}getInvitedEmails(e){return this.getJson(`${o}/invites?projectId=${e}`)}deleteInvite(e,t){return this.deleteJson(`${o}/invite`,{projectId:e,email:t})}deleteInvites(e,t){return this.deleteJson(`${o}/invites`,{projectId:e,emails:t})}getCiUser(e){return this.getJson(`${o}/ciuser?projectId=${e}`)}updateReportSettings(e){return this.putJson(`${o}/v2/reportSettings`,e)}updateAutoComplete(e){return this.putJson(`${o}/autoComplete`,e)}updateAutoImproveReadOnly(e){return this.putJson(`${o}/autoImproveReadOnly`,e)}updateProjectEditorType(e,t){return this.putJson(`${o}/editorProjectType`,{type:t,projectId:e})}getReportSettings(e){return this.getJson(`${o}/v2/reportSettings?projectId=${e}`)}getReportSettingsForProjects(e=[]){return this.getJson(`${o}/reportSettingsProjects?projectIds=${e.join(",")}`)}savePullRequestSettings(e,t,r){return this.putJson(`${o}/pullRequest`,{projectId:e,[t]:r})}searchProjects(e,t=100,r=false){return this.getJson(`${o}/search?name=${encodeURIComponent(e)}&limit=${t}&includeArchived=${Boolean(r)}`)}}t.TestimProjectApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimRemoteStepApi=void 0;const n=r(2);const i="/remoteStep";const o=5e3;class a extends n.TestimBaseApi{save(e,t,r,n){return this.updateAndRetry((()=>this.postJson(`${i}`,{projectId:e,resultId:t,stepId:r,remoteStep:n},o)),`remoteStep:${t}:${r}`)}}t.TestimRemoteStepApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimDashboardApi=void 0;const n=r(2);const i="/app-dashboard";class o extends n.TestimBaseApi{getExecutionFilters(e,t,r,n,o){return this.postJson(`${i}/${e}/filters`,{startTime:t,endTime:r,includeEvaluating:n,branch:o})}getExecutionData({projectId:e,onlyAssignedToUser:t,startTime:r,endTime:n,filters:o,limit:a}){return this.postJson(`${i}/${e}/executions`,{onlyAssignedToUser:t,startTime:r,endTime:n,filters:o,limit:a})}getOverviewData(e,t,r){return this.getJson(`${i}/${e}/overview?onlyAssignedToUser=${t}&branch=${encodeURIComponent(r)}`)}getDuplicationData(e){return this.getJson(`${i}/${e}/duplication`)}getPullRequestsData(e,t){return this.getJson(`${i}/${e}/pullRequests?onlyAssignedToUser=${t}`)}getAuditLogData(e,t){return this.getJson(`${i}/${e}/auditLog?onlyAssignedToUser=${t}`)}}t.TestimDashboardApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimSlackBugTracker=void 0;const n=r(2);class i extends n.TestimBaseApi{disconnect(e){return this.rawPutJson("/integration/slack/disconnect",{projectId:e})}}t.TestimSlackBugTracker=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAutoImproveApi=void 0;const n=r(2);const i="/autoImprove";class o extends n.TestimBaseApi{autoImproveTest(e,t){return this.postJson(`${i}/test`,{projectId:e,testId:t})}}t.TestimAutoImproveApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimMarketplaceApi=void 0;const n=r(2);class i extends n.TestimBaseApi{async publishSharedStep(e,t,r){return await this.putJson(`/marketplace/${t}?projectId=${e}`,r)}async updateSharedStep(e,t){return await this.postJson(`/marketplace/${t}?projectId=${e}`,{})}async getRevision(e,t){return await this.getJson(`/marketplace/revision/${e}?projectId=${t}`)}async getClass(e,t){return await this.getJson(`/marketplace/class/${e}?projectId=${t}`)}}t.TestimMarketplaceApi=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SecretsApi=void 0;const n=r(2);const i="/secrets";class o extends n.TestimBaseApi{getSecretAuthenticator(e,t){return this.getJson(`${i}/${e}/${t}/mfa`)}saveSecret(e,t){return this.postJson(`${i}/${e}`,{secretValue:t})}deleteSecret(e,t){return this.deleteJson(i,{projectId:e,secretId:t})}}t.SecretsApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimDropbearApi=t.SampleTestsStatus=void 0;const n=r(2);const i=r(6);const o=i.Logger.getLogger("testimDropbearApi");const a=5;const s=15e3;const u=5;const l=15e3;class c{constructor(){this.completed=0;this.total=0;this.status="starting"}}t.SampleTestsStatus=c;class f extends n.TestimBaseApi{async post(e,t,r,n){var i,u;try{const i=await this.postJson(`/sfdc/graphql?projectId=${t}`,e,r||s,n||a);return typeof i==="string"?JSON.parse(i):i}catch(e){o.error("sfdc-metadata-error",{err:e});const t=((i=e.response)===null||i===void 0?void 0:i.message)?(u=e.response)===null||u===void 0?void 0:u.message:"Error while fetching metadata";throw new Error(t)}}async compile(e,t,r){const n={node:{version:"v1",sfdcCredential:r,node:e}};try{const e=await this.postJson(`/sfdc/compile/node?projectId=${t}`,n,l,u);if(!(e===null||e===void 0?void 0:e.data)){throw new Error("no result")}const{data:{cFormat:r,error:i}}=e;if(i){return{error:JSON.stringify(i)}}if(!r){throw new Error("no steps compiled")}return r}catch(e){o.error("sfdc-compiler-error",{err:e});throw new Error("Error while compiling step")}}async generateSampleTests(e,t,r,n){const i={login:e,projectId:t,branch:r,sfdcCredential:n};try{const e=await this.postJson("/sfdc/generate-sample-tests/",i);const{folderId:t,error:r}=e;if(r)throw new Error(r);if(!t)throw new Error("Sample tests folder was not created");return{folderId:t}}catch(e){o.error("generate-sample-tests-error",{err:e});return{error:e.message}}}async getSampleTestsStatus(e,t){try{return await this.getJson(`/sfdc/generate-sample-tests/${t}?projectId=${e}`)}catch(e){o.error("generate-sample-tests-error",{err:e});throw new Error("Error fetching status of sample tests")}}async abortSampleTestsGeneration(e,t){try{return await this.getJson(`/sfdc/generate-sample-tests/${t}/abort?projectId=${e}`)}catch(e){o.error("generate-sample-tests-error",{err:e});throw new Error("Error aborting generation of sample tests")}}async getRedirectUri(e,t,r,n,i,o){if(e===undefined){return{redirect_uri:null}}const a=i?`&branch=${encodeURIComponent(i)}`:"";const s=o?`&personaName=${encodeURIComponent(o)}`:"";const u=`/sfdc/${e}?projectId=${n}&name=${encodeURIComponent(t)}${a}${s}&origin=${encodeURIComponent(r)}`;const l=await this.getJson(u);return l}async fetch(e,t){if(t===undefined){throw new Error("undefined options")}if(typeof e!=="string"){throw new Error("url needs to be string")}const r=await this.post(t.body,e);const n=typeof r==="string"?r:JSON.stringify(r);return new Response(n,{headers:{"Content-Type":"application/json"}})}}t.TestimDropbearApi=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAdminManagementApi=void 0;const n=r(2);const i="/adminManagement";class o extends n.TestimBaseApi{getAllAdmins(){return this.getJson(`${i}/`)}changeUserToAdmin(e,t,r,n,o){return this.postJson(`${i}/`,{email:e,companyAllowPrivileges:t,companyBlockList:r,adminGroup:n,defaultAdminPrivileges:o})}editAdminPrivileges(e,t,r,n,o){return this.putJson(`${i}/${e}`,{companyAllowPrivileges:t,companyBlockList:r,adminGroup:n,defaultAdminPrivileges:o})}removeAdminPrivileges(e){return this.deleteJson(`${i}/${e}`,{})}}t.TestimAdminManagementApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAdminToolsApi=void 0;const n=r(2);const i="/adminTools";class o extends n.TestimBaseApi{renameBranch(e,t,r){return this.putJson(`${i}/${e}/branch/${t}`,{newName:r})}syncProjectsResultsToES(e){return this.postJson(`${i}/syncProjectsResultsToES`,e)}deleteProjects(e){return this.deleteJson(`${i}/projects/`,{projectIds:e})}deleteCompany(e){return this.deleteJson(`${i}/company/${e}`,{})}syncK8SCronJobs(){return this.postJson(`${i}/syncK8SCronJobs`,{})}getUserPreferences(e){return this.getJson(`${i}/preferences?userEmail=${e}`)}updateUserPreferences(e,t){return this.putJson(`${i}/preferences`,{userEmail:e,preferences:t})}changeProjectToken(e){return this.putJson(`${i}/changeToken`,{projectId:e})}getUserCompanyRelations(e){return this.getJson(`${i}/userCompanyRelations?userEmail=${e}`)}updateUserCompanyRelations(e,t){return this.putJson(`${i}/userCompanyRelations`,{userEmail:e,companyRelations:t})}deleteDuplicateTests(e,t){return this.deleteJson(`${i}/deleteDuplicateTests/${t}/${e}`,{})}addPermanentEmail(e,t){return this.postJson(`${i}/addPermanentEmail/`,{projectId:e,email:t})}evictFromCache(e){return this.deleteJson(`${i}/evictFromCache`,{keys:e})}changeLoginMethod(e,t){return this.postJson(`${i}/changeLoginMethod`,{email:e,newLoginMethod:t})}}t.TestimAdminToolsApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimMobileAppApi=t.UPLOAD_TIMEOUT=void 0;const n=r(2);t.UPLOAD_TIMEOUT=3*60*1e3;const i="/mobile-app";class o extends n.TestimBaseApi{create(e,t){return this.postJson(`${i}?projectId=${e}`,{...t,projectId:e})}createNewVersion(e,r,n,o,a,s){return this.postFormDataWithProgress(`${i}/version?projectId=${e}`,{projectId:e,...a&&{appId:a}},{file:r},undefined,undefined,{},n!==undefined?n:t.UPLOAD_TIMEOUT,o,s)}checkVersionStatus(e,t,r){return this.getJson(`${i}/app/${t}/${r}/status?projectId=${e}`)}getApp(e){return this.getJson(`${i}?projectId=${e}`)}getById(e,t){return this.getJson(`${i}/app/${t}?projectId=${e}`)}delete(e,t){return this.deleteJson("/mobile-app",{mobileApp:e,projectId:t})}renameApp(e,t,r){return this.putJson(`${i}/app/${t.appId}/name?projectId=${e}`,{name:r})}getAssociatedTests(e,t){return this.getJson(`${i}/${t._id}/tests?projectId=${e}`)}uploadAppToGrid(e,t,r,n){return this.postJson(`${i}/app/upload-to-grid?projectId=${e}&gridId=${t}`,r,undefined,undefined,n)}}t.TestimMobileAppApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTmaVersionsApi=void 0;const n=r(2);const i="/tmaVersions";const o={Windows:"windows",Linux:"linux",Mac:"macos"};class a extends n.TestimBaseApi{async getLinkForLatestVersionByPlatform(e,t){const r=await this.getToken();const n=new URL(`${this.baseUrl}${i}/latest`);n.searchParams.append("platform",o[e]);n.searchParams.append("attachment",`${o[e]}-installer-tricentis-mobile.zip`);n.searchParams.append("projectId",t);n.searchParams.append("access_token",r);return n.href}async getLinkForLatestVersionNumberByPlatform(e,t){const r=await this.getToken();return`${this.baseUrl}${i}/latest-version?platform=${o[e]}&projectId=${t}&access_token=${r}`}}t.TestimTmaVersionsApi=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTdcApi=void 0;const n=r(2);const i="/tdc";class o extends n.TestimBaseApi{requestTrialOrganization(e,t,r){return this.postJson(`${i}/organization`,{companyId:e,marketingData:r,projectId:t})}getOrganization(e){return this.getJson(`${i}/${e}`)}getDevices(e,t,r){return this.getJson(`${i}/${r}/devices?pool=${e}&projectType=${t}`)}}t.TestimTdcApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTvcApi=void 0;const n=r(2);const i="/tvc";class o extends n.TestimBaseApi{getDevices(e,t){return this.getJson(`${i}/devices?companyId=${e}&projectType=${t}`)}requestTrialOrganization(e,t){return this.postJson(`${i}/trial`,{projectId:e,marketingData:t})}}t.TestimTvcApi=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimTextractApi=void 0;const n=r(2);const i=r(6);const o=i.Logger.getLogger("testimTextractApi");const a=15e3;class s extends n.TestimBaseApi{async parseDocument({fileName:e,fileBlob:t,projectId:r,timeout:n}){var i,s;try{const i={file:{fileName:e,mimeType:"application/pdf",file:t}};const o=await this.postFormData(`/textract/parse?projectId=${r}`,null,i,{},n||a);return typeof o==="string"?JSON.parse(o):o}catch(e){o.error("sfdc-document-parse-error",{err:e});const t=((i=e.response)===null||i===void 0?void 0:i.message)?(s=e.response)===null||s===void 0?void 0:s.message:"Failed to parse document";throw new Error(t)}}}t.TestimTextractApi=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TestimAssistant=void 0;const n=r(2);const i="/assistant";class o extends n.TestimBaseApi{sendMessageToHelper(e){return this.postJson(`${i}/help`,e)}sendFeedbackToHelper(e){return this.postJson(`${i}/helpMessageFeedback`,e)}}t.TestimAssistant=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.shimSafeQuerySelector=t.locatorBuilderUtils=void 0;const n=r(27);const i=r(7);const o=r(371);const{TESTIM_ID_FIELD_NAME:a,DYNAMIC_PARENT_FIELD_NAME:s,DYNAMIC_CHILD_FIELD_NAME:u,TESTIM_FRAME_ID:l,EMPTY_RESULT:c,CONTEXT_ATTR:f,CONTEXT_POINTER_ATTR:h,EMPTY_RESULT_ID:d,MAX_TEXT_CONTENT_LENGTH:p,MAX_INNER_TEXT_LENGTH:v,MINIMAL_SCORE_THRESHOLD:m,TESTIM_SHADOW_ROOT_ID:g}=i.locators;const y=["NthChildSelector","NthTagSelector","AndroidNthChildSelector","IosNthChildSelector"];class b{constructor(){this.TESTIM_ID_FIELD_NAME=a;this.DYNAMIC_PARENT_FIELD_NAME=s;this.DYNAMIC_CHILD_FIELD_NAME=u;this.TESTIM_FRAME_ID=l;this.EMPTY_RESULT=c;this.CONTEXT_ATTR=f;this.CONTEXT_POINTER_ATTR=h;this.EMPTY_RESULT_ID=d;this.MAX_TEXT_CONTENT_LENGTH=p;this.MAX_INNER_TEXT_LENGTH=v;this.MINIMAL_SCORE_THRESHOLD=m;this.TESTIM_SHADOW_ROOT_ID=g;this.getSelector=function e(t){return`[${a}='${t}']`};this.getCSSSelector=function e(t){if(!t){return""}const r=[];function n(e){if(typeof CSS!=="undefined"&&CSS&&typeof CSS.escape==="function"){return CSS.escape(e)}return e}let i;if((typeof window==="undefined"||window.location.protocol==="chrome-extension:")&&t.parentElement){i=t.parentElement.closest("[testim_shadow_root_id]")}let o=t;for(let e=o.parentNode;e&&i!==o;o=e,e=o.parentNode){if(!("tagName"in o)){break}const i=typeof o.tagName==="string"?o.tagName.toLowerCase():"*";const a=e.children||Array.prototype.filter.call(e.childNodes,(e=>e.nodeType===1));const s=Array.prototype.indexOf.call(a,o)+1;if(o===t){const e=o.id?`#${n(o.id)}`:"";const t=Array.prototype.map.call(o.classList||[],(e=>`.${n(e)}`)).join("");r.unshift(`${i}${t}${e}:nth-child(${s})`)}else{r.unshift(`${i}:nth-child(${s})`)}}return`${r.join(" > ")}`};this.getTestimInternalAttributes=function e(){return[a,s,l,f,h,u,g]};this.dynamicParentKeyValueMatchingAttributes=function e(){return["hidden","aria-hidden","aria-disabled","role","autocomplete","type"]};this.isTestimInternalAttribute=function e(t){return this.getTestimInternalAttributes().includes(t)};this.getTestimId=function e(t){if(this.isEmptyResult(t)){return d}if(!t||typeof t!=="object"||typeof t.getAttribute!=="function"){return d}return t.getAttribute(a)};this.calcTestimId=function e(t){if(!t||t===c){return d}if(!t||typeof t!=="object"||typeof t.getAttribute!=="function"){return d}return t.getAttribute(a)};this.isEmptyResultId=function e(t){return Number(t)===d};this.isEmptyResult=function e(t){return!t||t===c||typeof t!=="string"&&this.isEmptyResultId(t.testimId)};this.isNthSelectorResult=function e(t){return y.includes(t.selectorType)};this.isNthSelector=function e(t){return y.includes(t.type)};this.isNone=function e(t){return t===undefined||t===null};this.isEmptyTextSelector=function e(t){const r=()=>this.isInnerTextSelectorType(t.type);const n=()=>!t.directInnerText||t.directInnerText.toString().trim()==="";return r()&&n()};this.isTextContentSelectorType=function e(t){return t==="TextContentSelector"};this.isInnerTextSelectorType=function e(t){return["AndroidInnerTextSelector","IosInnerTextSelector","InnerTextSelector"].includes(t)};this.getInnerTextSelector=function e(t){return t.selectors.find((e=>this.isInnerTextSelectorType(e.type)))};this.isShadowRoot=function e(t){return t.constructor.name==="ShadowRoot"};this.getElementsPath=function e(t,r,n=this.isShadowRoot){let i=r;const o=[i];while(i!==t&&i.parentElement){i=i.parentElement;if(n(i)){i=i.host}o.unshift(i)}return o};this.isNetAppSvgTitleInTextIssue=function e(t){return t.tagName==="title"&&t.parentNode.tagName==="text"&&(typeof SVGElement!=="undefined"&&t instanceof SVGElement||t.ownerSVGElement!==undefined)};this.getDirectInnerText=function e(t){if(this.isNetAppSvgTitleInTextIssue(t)){return""}return Array.prototype.filter.call(t.childNodes||[],(e=>e.nodeName==="#text")).map((e=>e.nodeValue)).join(" ")};this.domElementToStr=function e(t){if(this.isEmptyResult(t)){return c}return n.injectorUtils.getElementTags(t,[a])};this.serializeLocators=function e(t){const r=t.getDocument().getElementLocators();const n=r.map((e=>{const t=e.serialize();t.selectors.forEach((e=>{e.parentsLocators=e.parentsLocators.map((e=>r.indexOf(e)))}));return t}));return{document:n,index:r.indexOf(t)}};this.shimSafeQuerySelector=o.shimSafeQuerySelector}}t.locatorBuilderUtils=new b;t.shimSafeQuerySelector=o.shimSafeQuerySelector},function(e,t,r){"use strict";r.r(t);(function(e){r.d(t,"shimSafeQuerySelector",(function(){return n}));function n(){var t;var r;function n(){return typeof e!=="undefined"&&{}.toString.call(e)==="[object global]"}function i(e){if(e&&e.toString){return e.toString().indexOf("[native code]")>-1}else{return false}}function o(){if(r&&t){return}var e=void 0;const n=document.body||document.documentElement;try{if(n){e=document.createElement("iframe");e.style.setProperty("display","none");e.style.setProperty("pointer-events","none");n.appendChild(e);r=e.contentDocument;t=r.createElement("div")}else{r=document.implementation.createHTMLDocument();t=r.createElement("div")}}finally{if(e&&n){n.removeChild(e)}}}function a(e){return function(a,s){if(i(a.querySelector)||n()){return e==="all"?a.querySelectorAll(s):a.querySelector(s)}o();var u=a===document?r:t;return e==="all"?u.querySelectorAll.call(a,s):u.querySelector.call(a,s)}}return{querySelector:a(null),querySelectorAll:a("all")}}}).call(this,r(5))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.assetService=t.Queue=t.RUN_RESULT_ARTIFACTS_BUCKET=t.PROJECT_ARTIFACTS_BUCKET=t.TEST_RESULT_ARTIFACTS_BUCKET=t.ArtifactsSubTypes=t.MIME_TYPES=void 0;const n=r(11);const i=r(373);const o=r(9);const a=r(6);const s=r(35);const u=r(7);const l=r(128);const c=r(374);var f;(function(e){e["HTML"]="text/html";e["MHTML"]="text/mhtml";e["JSON"]="application/json";e["WEBM"]="video/webm";e["JPG"]="image/jpeg";e["PNG"]="image/png";e["XML"]="application/xml"})(f||(t.MIME_TYPES=f={}));const h=r(375);const d=a.Logger.getLogger("asset service");var p;(function(e){e["DOM_TYPE"]="dom";e["IMAGE_TYPE"]="image";e["VIDEO_TYPE"]="video";e["FILE_TYPE"]="file";e["OBJECT_TYPE"]="object";e["HTML_TYPE"]="html";e["LOG_TYPE"]="log";e["ARTIFACT_TYPE"]="artifact"})(p||(p={}));var v;(function(e){e["ELEMENT_LOCATE_RESULT"]="element-locate-result";e["ELEMENT_IMAGE_FILE"]="element-image";e["FRAME_LOCATE_RESULT"]="frame-locate-result";e["TEST_RUN_PARAMS"]="test-run-params";e["TEST_LOGS"]="test-log";e["TEST_HAR_FILE"]="har-file";e["COVERAGE_FILE"]="coverage";e["VIDEO_FILE"]="video-file";e["UPLOAD_FILE"]="upload-file";e["RESULT_IMAGE_FILE"]="res-img";e["RECORD_IMAGE_FILE"]="rec-img";e["DOM_FILE"]="dom";e["HTML_FILE"]="html";e["STEP_INCOMING_PARAMS"]="step-incoming-params";e["STEP_OUTGOING_PARAMS"]="step-outgoing-params";e["STEP_RESPONSE_BODY_RAW"]="step-response-body-raw";e["STEP_REQUEST_BODY"]="step-request-body";e["STEP_REQUEST_HEADERS"]="step-request-headers";e["STEP_ACCESSIBILITY_RESULT"]="step-accessibility-result";e["STEP_RESPONSE_HEADERS"]="step-response-headers";e["STEP_CLI_CONSOLE_LOG"]="step-cli-console-log";e["DOWNLOAD_VALIDATION_FILE"]="download-validation-file";e["PERFORMANCE_MONITORING_LOG"]="performance-monitoring-log";e["CODE_COVERAGE_FILES"]="code-coverage-files";e["CODE_COVERAGE_SCRIPT_CODE"]="code-coverage-script-code"})(v||(t.ArtifactsSubTypes=v={}));const m=900;const g=4;const y=200;const b=[v.RESULT_IMAGE_FILE,v.TEST_HAR_FILE,v.TEST_LOGS];const _=["stepId","stepName"];t.TEST_RESULT_ARTIFACTS_BUCKET="test-result-artifacts";t.PROJECT_ARTIFACTS_BUCKET="test-projects-artifacts";t.RUN_RESULT_ARTIFACTS_BUCKET="run-result-artifacts";const w="all";const E=[/https?:\/\/accounts\.google\.com\/signin/,/https?:\/\/login\.microsoftonline\.com/];function S(e){return(new h).update(e).digest("hex")}function T(e){switch(e){case f.HTML:return"html";case f.MHTML:return"mhtml";case f.JSON:return"json";case f.WEBM:return"webm";case f.JPG:return"jpg";case f.PNG:return"png";case f.XML:return"xml";default:return undefined}}function A(e){const t=T(e);return t?`.${t}`:""}class x{constructor(e,t,r=g){this.sendFunction=e;this.name=t;this.maxRequests=r;this.skippedMd5={};this.md5SentMap={};this.sent={};this.queue=[];this.pausedQueue={};this.pending={};this.paused={};this.running=false;this.defaultMaxRequests=this.maxRequests}add(e,t=w){if(this.paused[t]){this.pausedQueue[t]=this.pausedQueue[t]||[];this.pausedQueue[t].push(e);return}if(!this.pending[t]){this.pending[t]=0;this.sent[t]=this.sent[t]||0;this.skippedMd5[t]=this.skippedMd5[t]||0}this.pending[t]++;this.queue.push({item:e,tag:t});if(!this.running){this.run(this.sendFunction)}}pause(e=w){this.paused[e]=true}reset(){this.skippedMd5={};this.md5SentMap={};this.sent={};this.pending={};this.queue=[];this.paused={};this.pausedQueue={};this.running=false}drain(e=w,t){this.paused[e]=false;this.pausedQueue[e]=this.pausedQueue[e]||[];while(this.pausedQueue[e].length>0){const r=this.pausedQueue[e].shift();if(!r){break}if(t&&!t(r)){continue}this.add(r,e)}return undefined}queueSize(e=w){return this.pending[e]||0}async send(e,t,r){this.maxRequests--;try{await t(e)}catch(t){d.warn(`failed to upload ${e.type}, ${e.fileName}`,t)}finally{this.maxRequests++;this.pending[r]--}}async run(e){this.running=true;try{while(this.queue.length>0){if(this.maxRequests===0){await o.utils.delay(y);continue}const{item:t,tag:r=w}=this.queue.shift()||{};if(!t){break}if(t.md5){if(this.md5SentMap[t.md5]){this.skippedMd5[r]++;this.pending[r]--;continue}this.md5SentMap[t.md5]=true}this.send(t,e,r).then((()=>{this.sent[r]++}))}}finally{this.running=false}}isAllRequestsCompleted(e=w){return this.queueSize(e)===0&&this.maxRequests===this.defaultMaxRequests}}t.Queue=x;async function D(e){const{artifact:t,mimeType:r,fileName:n,storagePath:i,metadata:o,storageApi:a,subType:u,tagging:l}=e;if(u===v.UPLOAD_FILE){const e=await(0,s.compressDataURIToGzip)(t);if(!e){return undefined}return await a.uploadFile(i,{fileName:n,mimeType:e.type,file:e},o||{},{"X-Asset-Encoding":"gzip"},l)}if([v.VIDEO_FILE,v.RESULT_IMAGE_FILE,v.RECORD_IMAGE_FILE,v.DOM_FILE].includes(u)){return await a.uploadFile(i,{fileName:n,mimeType:r,file:t},o||{},{},l)}const c=(e,t)=>t===undefined?null:t;const f=typeof t==="string"?t:JSON.stringify(t,c);const h=await(0,s.compressToGzip)(f,r);return await a.uploadFile(i,{fileName:n,mimeType:r,file:h},o||{},{"X-Asset-Encoding":"gzip"},l)}const O=new x(D,"html");const I=new x(D,"artifact",6);const C=[I,O];function k(e){const{projectId:r,storageApi:n,testId:i,testResultId:a,subType:s,mimeType:u,prefix:l,md5Hash:c}=e;const f=A(u);const h=c||o.utils.guid();const d=`${s}${l||""}_${h}${f||""}`;const p=`${i}/${a}/${d}`;const v=n.getStorageRelativePath(p,t.TEST_RESULT_ARTIFACTS_BUCKET,r);return{storagePath:v,fileName:d}}function R(e){return(0,l.isDemoProjectId)(e)&&!c.default.isAdmin}async function P(e){const{projectId:t,testId:r,testResultId:n,artifact:i,subType:o,storageApi:a,mimeType:s="application/octet-stream",metadata:u,prefix:l="",tagging:c}=e;if(R(t)){return""}const{storagePath:f,fileName:h}=k({projectId:t,storageApi:a,testId:r,testResultId:n,subType:o,mimeType:s,prefix:l});await D({artifact:i,fileName:h,storagePath:f,type:p.ARTIFACT_TYPE,subType:o,storageApi:a,mimeType:s,metadata:u,tagging:c});return f}function M(e){const{projectId:t,testId:r,testResultId:o,artifact:a,subType:s,storageApi:u,mimeType:l="application/octet-stream",metadata:c,prefix:f="",md5Hash:h,tagging:d}=e;if(R(t)){return""}const{storagePath:v,fileName:m}=k({projectId:t,storageApi:u,testId:r,testResultId:o,subType:s,mimeType:l,prefix:f,md5Hash:h});const g={artifact:a,fileName:m,storagePath:v,type:p.ARTIFACT_TYPE,storageApi:u,mimeType:l,metadata:c&&n.omit(c,_),tagging:d,subType:s};if(h){g.md5=`${h}:${o}`}I.add(g,o);if(b.includes(s)){i.uploadItem({fileName:m,file:a,mimeType:l,metadata:{...c,subType:s,testResultId:o}})}return v}function L(e,t,r,n,i,o,a,s){return M({projectId:e,testId:t,testResultId:r,artifact:n,subType:i,storageApi:o,mimeType:f.JSON,metadata:a,prefix:s})}function N(e,t,r,n,i,o=0){const a={testId:t,resultId:r,projectId:e};return L(e,t,r,n,v.TEST_HAR_FILE,i,a,`_${o}_`)}function F(e,t,r,n){if(!t){return null}const i={recordedResultId:r};return G({projectId:e,artifact:t,subType:`${u.mockNetworkStorage.PATH}/${u.mockNetworkStorage.HAR_FILE_DIRECTORY}`,storageApi:n,mimeType:f.JSON,metadata:i,mode:"nested"},"recording")}function j(e,t,r,n,i,o=0){const a={testId:t,resultId:r,projectId:e};return L(e,t,r,n,v.TEST_LOGS,i,a,`_${o}_`)}function B({projectId:e,storageApi:r,runId:n,mimeType:i,subType:a,overrideFileName:s}){const u=A(i);const l=o.utils.guid();const c=s||`${l}${u}`;const f=`${n}/${a}/${c}`;const h=r.getStorageRelativePath(f,t.RUN_RESULT_ARTIFACTS_BUCKET,e);return{storagePath:h,fileName:c}}async function U({projectId:e,runId:t,storageApi:r,hash:n,text:i,subType:o,mimeType:a="text",tagging:s},u){if(R(e)){return""}const{storagePath:l,fileName:c}=B({mimeType:a,projectId:e,storageApi:r,runId:t,subType:o,overrideFileName:n});const f={artifact:i,fileName:c,storagePath:l,type:p.ARTIFACT_TYPE,storageApi:r,subType:o,mimeType:a,tagging:s};I.add(f,u);return l}function z(e,t,r,n,i,o,a,s){return M({projectId:e,testId:t,testResultId:r,artifact:n,subType:i,storageApi:o,metadata:a,prefix:s})}function $({projectId:e,storageApi:r,subType:n,mimeType:i,prefix:a="",mode:s,overrideFileName:u}){const l=A(i);const c=o.utils.guid();let f;let h;if(s==="root"){f=u||`${n}${a}_${c}${l}`;h=f}else{f=u||`${a?`${a}_`:""}${c}${l}`;h=`${n}/${f}`}const d=r.getStorageRelativePath(h,t.PROJECT_ARTIFACTS_BUCKET,e);return{storagePath:d,fileName:f}}function G(e,t){const{projectId:r,artifact:n,subType:i,storageApi:o,mimeType:a="application/octet-stream",metadata:s,prefix:u="",mode:l="root",overrideFileName:c,tagging:f}=e;const{storagePath:h,fileName:d}=$({projectId:r,storageApi:o,subType:i,mimeType:a,prefix:u,mode:l,overrideFileName:c});if(R(r)){return""}I.add({artifact:n,fileName:d,storagePath:h,type:p.ARTIFACT_TYPE,storageApi:o,mimeType:a,metadata:s,subType:i,tagging:f},t);return h}function H(e,t,r,n,i,o=f.MHTML){if(!(i===null||i===void 0?void 0:i.dom)){return null}const a=E.some((e=>e.test(i.url)));const s=M({projectId:e,testId:t,testResultId:r,mimeType:o,artifact:i.dom,subType:v.DOM_FILE,storageApi:n});return{domUrl:s,isDomBlackList:a}}function W(e,t,r,n,i,o,a){if(R(e)){return""}const s=f.HTML;const u=v.HTML_FILE;const l=S(n);const{storagePath:c,fileName:h}=k({testId:t,projectId:e,storageApi:a,mimeType:s,testResultId:i,subType:u,md5Hash:l});O.add({mimeType:s,subType:u,artifact:n,fileName:h,storagePath:c,metadata:Object.assign({},o||{}),type:p.ARTIFACT_TYPE,storageApi:a,md5:`${l}:${i}`},i);return c}function V(e){return(" "+e).substr(1)}function q(e){const t=e.split(":")[1].split(";");const r=t[0]||f.JPG;const n=V(t[1].split(",")[1]);return{base64:n,mimeType:r}}function J(t,r){if(o.utils.isNode()){return e.from(t,"base64")}const n=atob(t);const i=[];const a=n.length;for(let e=0;e<a;e++){i.push(n.charCodeAt(e))}return new Blob([new Uint8Array(i)],{type:r})}function Y(e,t,r,n){if(!t){return null}return G({projectId:e,artifact:t,subType:v.UPLOAD_FILE,storageApi:n,mode:"nested",overrideFileName:`${o.utils.guid()}_${r}`},"recording")}function K(e){const{projectId:t,imageDataUrl:r,storageApi:n,testId:i,testResultId:o,forceJpgImageType:a=false,metadata:s}=e;if(!r){return undefined}const u=S(r);const l=q(r);const c=l.base64;let h=l.mimeType;if(a){h=f.JPG}const d=J(c,h);return M({projectId:t,testId:i,testResultId:o,artifact:d,subType:v.RESULT_IMAGE_FILE,storageApi:n,mimeType:h,md5Hash:u,tagging:{[v.RESULT_IMAGE_FILE]:true},metadata:s})}function X(e){const{projectId:t,imageDataUrl:r,storageApi:n,metadata:i}=e;if(!r){return undefined}const{base64:o,mimeType:a}=q(r);const s=J(o,a);return G({projectId:t,artifact:s,metadata:i,mimeType:a,subType:v.RECORD_IMAGE_FILE,tagging:{[v.RECORD_IMAGE_FILE]:true},storageApi:n,mode:"nested"},"recording")}function Z(e,t,r,n,i,o,a,s,u){let l=null;let c;const f=K({projectId:e,imageDataUrl:n,storageApi:i,testId:o,testResultId:a,forceJpgImageType:true,metadata:s});const h=H(e,o,a,i,r,u);if(h){l=h.domUrl;c=h.isDomBlackList}return{domUrl:l,isDomBlackList:c,imgUrl:f}}function Q(e,t,r){if(!t){return null}return G({projectId:e,artifact:t,subType:v.VIDEO_FILE,storageApi:r,mimeType:t.type},"recording")}async function ee(e){if(e()){return undefined}return new Promise((t=>{let r=0;const n=()=>{if(r>=m){return true}return e()};const i=setInterval((()=>{if(!n()){r++;return undefined}clearInterval(i);return t()}),200)}))}async function te(e){const t=()=>I.isAllRequestsCompleted(e);return ee(t)}async function re(e=w){const t=()=>C.every((t=>t.isAllRequestsCompleted(e)));const r=Date.now();if(t()){d.log(`asset service summary - Qs done immediately, skipped htmls: ${O.skippedMd5[e]},\n        sent htmls: ${O.sent[e]}. waited ${Date.now()-r} for screenshots`);return}const n=C.filter((t=>t.queueSize(e)>0)).map((t=>({name:t.name,size:t.queueSize(e)})));const i=Date.now();await ee(t);const o=`asset service summary - skipped htmls: ${O.skippedMd5[e]}, sent htmls: ${O.sent[e]}. `;const a=`Waited ${i-r} for screenshots and ${Date.now()-i} for the Qs tp finish. `;const s=`Sent breakdown: ${n.map((({name:e,size:t})=>`${e}: ${t}`)).join(", ")}.`;d.log(`${o}${a}${s}`)}function ne(e=w){C.forEach((t=>t.pause(e)))}function ie(){C.forEach((e=>e.reset()))}function oe(e=w){d.log("asset service summary - ",{sizes:C.map((t=>({name:t.name,size:t.queueSize(e)})))})}async function ae(e=w,t){C.forEach((r=>r.drain(e,t)));await re(e)}t.assetService={upload:Z,uploadVideo:Q,uploadFileArtifactApi:Y,uploadHTML:W,uploadImageArtifactApi:K,uploadProjectImageArtifact:X,isAllRequestsCompleted:re,isAllArtifactRequestsCompleted:te,uploadHar:N,uploadMockHar:F,uploadLogs:j,uploadArtifactJson:L,uploadArtifactString:z,uploadArtifactNoQueue:P,uploadRunResultArtifact:U,pauseAllQueues:ne,resetAllQueues:ie,drainAllQueues:ae,logAllQueueSizes:oe}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.drain=t.uploadItem=t.initialize=void 0;const n=r(35);const i=r(6);const o=r(32);const a=r(9);const s=i.Logger.getLogger("asset service");let u;const l=new Set;const c=e=>{u=e.serverUrl};t.initialize=c;const f=async({file:t,fileName:r,mimeType:i,metadata:c})=>{if(!u){return undefined}if(!e.isBuffer(t)&&!(t instanceof Blob)&&!(typeof t==="string")){t=JSON.stringify(t)}if(typeof t==="string"){t=(0,n.dataToBufferOrBlob)(t,i)}if(a.utils.isNode()){t=e.from(t,"base64")}const f=o.httpRequest.postFormData(u,{fileName:r,metadata:c?JSON.stringify(c):null},{file:{fileName:r,mimeType:i,file:t}}).catch((e=>s.error("failed saving local artifact",{err:e,fileName:r,mimeType:i}))).finally((()=>l.delete(f)));l.add(f);return await f};t.uploadItem=f;const h=async()=>{await Promise.all(Array.from(l))};t.drain=h}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=r(57);const i=r(33);const o=i.container.get(n.AuthenticationService);t.default=o},function(e,t,r){"use strict";var n=r(12);var i=r(376);var o=r(21).Buffer;var a=new Array(16);function s(){i.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878}n(s,i);s.prototype._update=function(){var e=a;for(var t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a;var n=this._b;var i=this._c;var o=this._d;r=l(r,n,i,o,e[0],3614090360,7);o=l(o,r,n,i,e[1],3905402710,12);i=l(i,o,r,n,e[2],606105819,17);n=l(n,i,o,r,e[3],3250441966,22);r=l(r,n,i,o,e[4],4118548399,7);o=l(o,r,n,i,e[5],1200080426,12);i=l(i,o,r,n,e[6],2821735955,17);n=l(n,i,o,r,e[7],4249261313,22);r=l(r,n,i,o,e[8],1770035416,7);o=l(o,r,n,i,e[9],2336552879,12);i=l(i,o,r,n,e[10],4294925233,17);n=l(n,i,o,r,e[11],2304563134,22);r=l(r,n,i,o,e[12],1804603682,7);o=l(o,r,n,i,e[13],4254626195,12);i=l(i,o,r,n,e[14],2792965006,17);n=l(n,i,o,r,e[15],1236535329,22);r=c(r,n,i,o,e[1],4129170786,5);o=c(o,r,n,i,e[6],3225465664,9);i=c(i,o,r,n,e[11],643717713,14);n=c(n,i,o,r,e[0],3921069994,20);r=c(r,n,i,o,e[5],3593408605,5);o=c(o,r,n,i,e[10],38016083,9);i=c(i,o,r,n,e[15],3634488961,14);n=c(n,i,o,r,e[4],3889429448,20);r=c(r,n,i,o,e[9],568446438,5);o=c(o,r,n,i,e[14],3275163606,9);i=c(i,o,r,n,e[3],4107603335,14);n=c(n,i,o,r,e[8],1163531501,20);r=c(r,n,i,o,e[13],2850285829,5);o=c(o,r,n,i,e[2],4243563512,9);i=c(i,o,r,n,e[7],1735328473,14);n=c(n,i,o,r,e[12],2368359562,20);r=f(r,n,i,o,e[5],4294588738,4);o=f(o,r,n,i,e[8],2272392833,11);i=f(i,o,r,n,e[11],1839030562,16);n=f(n,i,o,r,e[14],4259657740,23);r=f(r,n,i,o,e[1],2763975236,4);o=f(o,r,n,i,e[4],1272893353,11);i=f(i,o,r,n,e[7],4139469664,16);n=f(n,i,o,r,e[10],3200236656,23);r=f(r,n,i,o,e[13],681279174,4);o=f(o,r,n,i,e[0],3936430074,11);i=f(i,o,r,n,e[3],3572445317,16);n=f(n,i,o,r,e[6],76029189,23);r=f(r,n,i,o,e[9],3654602809,4);o=f(o,r,n,i,e[12],3873151461,11);i=f(i,o,r,n,e[15],530742520,16);n=f(n,i,o,r,e[2],3299628645,23);r=h(r,n,i,o,e[0],4096336452,6);o=h(o,r,n,i,e[7],1126891415,10);i=h(i,o,r,n,e[14],2878612391,15);n=h(n,i,o,r,e[5],4237533241,21);r=h(r,n,i,o,e[12],1700485571,6);o=h(o,r,n,i,e[3],2399980690,10);i=h(i,o,r,n,e[10],4293915773,15);n=h(n,i,o,r,e[1],2240044497,21);r=h(r,n,i,o,e[8],1873313359,6);o=h(o,r,n,i,e[15],4264355552,10);i=h(i,o,r,n,e[6],2734768916,15);n=h(n,i,o,r,e[13],1309151649,21);r=h(r,n,i,o,e[4],4149444226,6);o=h(o,r,n,i,e[11],3174756917,10);i=h(i,o,r,n,e[2],718787259,15);n=h(n,i,o,r,e[9],3951481745,21);this._a=this._a+r|0;this._b=this._b+n|0;this._c=this._c+i|0;this._d=this._d+o|0};s.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var e=o.allocUnsafe(16);e.writeInt32LE(this._a,0);e.writeInt32LE(this._b,4);e.writeInt32LE(this._c,8);e.writeInt32LE(this._d,12);return e};function u(e,t){return e<<t|e>>>32-t}function l(e,t,r,n,i,o,a){return u(e+(t&r|~t&n)+i+o|0,a)+t|0}function c(e,t,r,n,i,o,a){return u(e+(t&n|r&~n)+i+o|0,a)+t|0}function f(e,t,r,n,i,o,a){return u(e+(t^r^n)+i+o|0,a)+t|0}function h(e,t,r,n,i,o,a){return u(e+(r^(t|~n))+i+o|0,a)+t|0}e.exports=s},function(e,t,r){"use strict";var n=r(21).Buffer;var i=r(377).Transform;var o=r(12);function a(e,t){if(!n.isBuffer(e)&&typeof e!=="string"){throw new TypeError(t+" must be a string or a buffer")}}function s(e){i.call(this);this._block=n.allocUnsafe(e);this._blockSize=e;this._blockOffset=0;this._length=[0,0,0,0];this._finalized=false}o(s,i);s.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)};s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)};s.prototype.update=function(e,t){a(e,"Data");if(this._finalized)throw new Error("Digest already called");if(!n.isBuffer(e))e=n.from(e,t);var r=this._block;var i=0;while(this._blockOffset+e.length-i>=this._blockSize){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update();this._blockOffset=0}while(i<e.length)r[this._blockOffset++]=e[i++];for(var s=0,u=e.length*8;u>0;++s){this._length[s]+=u;u=this._length[s]/4294967296|0;if(u>0)this._length[s]-=4294967296*u}return this};s.prototype._update=function(){throw new Error("_update is not implemented")};s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=true;var t=this._digest();if(e!==undefined)t=t.toString(e);this._block.fill(0);this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};s.prototype._digest=function(){throw new Error("_digest is not implemented")};e.exports=s},function(e,t,r){t=e.exports=r(129);t.Stream=t;t.Readable=t;t.Writable=r(133);t.Duplex=r(26);t.Transform=r(134);t.PassThrough=r(383);t.finished=r(74);t.pipeline=r(384)},function(e,t){},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){t=l(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function u(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=c(e,"string");return typeof t==="symbol"?t:String(t)}function c(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f=r(1),h=f.Buffer;var d=r(380),p=d.inspect;var v=p&&p.custom||"inspect";function m(e,t,r){h.prototype.copy.call(e,t,r)}e.exports=function(){function e(){a(this,e);this.head=null;this.tail=null;this.length=0}u(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next)n+=t+r.data;return n}},{key:"concat",value:function e(t){if(this.length===0)return h.alloc(0);var r=h.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){m(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var o=r.data;var a=t>o.length?o.length:t;if(a===o.length)i+=o;else i+=o.slice(0,t);t-=a;if(t===0){if(a===o.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=o.slice(a)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=h.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var o=n.data;var a=t>o.length?o.length:t;o.copy(r,r.length-t,0,a);t-=a;if(t===0){if(a===o.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=o.slice(a)}break}++i}this.length-=i;return r}},{key:v,value:function e(t,r){return p(this,i(i({},r),{},{depth:0,customInspect:false}))}}]);return e}()},function(e,t){},function(e,t,r){"use strict";(function(t){var n;function i(e,t,r){t=o(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function o(e){var t=a(e,"string");return typeof t==="symbol"?t:String(t)}function a(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(typeof n!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s=r(74);var u=Symbol("lastResolve");var l=Symbol("lastReject");var c=Symbol("error");var f=Symbol("ended");var h=Symbol("lastPromise");var d=Symbol("handlePromise");var p=Symbol("stream");function v(e,t){return{value:e,done:t}}function m(e){var t=e[u];if(t!==null){var r=e[p].read();if(r!==null){e[h]=null;e[u]=null;e[l]=null;t(v(r,false))}}}function g(e){t.nextTick(m,e)}function y(e,t){return function(r,n){e.then((function(){if(t[f]){r(v(undefined,true));return}t[d](r,n)}),n)}}var b=Object.getPrototypeOf((function(){}));var _=Object.setPrototypeOf((n={get stream(){return this[p]},next:function e(){var r=this;var n=this[c];if(n!==null){return Promise.reject(n)}if(this[f]){return Promise.resolve(v(undefined,true))}if(this[p].destroyed){return new Promise((function(e,n){t.nextTick((function(){if(r[c]){n(r[c])}else{e(v(undefined,true))}}))}))}var i=this[h];var o;if(i){o=new Promise(y(i,this))}else{var a=this[p].read();if(a!==null){return Promise.resolve(v(a,false))}o=new Promise(this[d])}this[h]=o;return o}},i(n,Symbol.asyncIterator,(function(){return this})),i(n,"return",(function e(){var t=this;return new Promise((function(e,r){t[p].destroy(null,(function(t){if(t){r(t);return}e(v(undefined,true))}))}))})),n),b);var w=function e(t){var r;var n=Object.create(_,(r={},i(r,p,{value:t,writable:true}),i(r,u,{value:null,writable:true}),i(r,l,{value:null,writable:true}),i(r,c,{value:null,writable:true}),i(r,f,{value:t._readableState.endEmitted,writable:true}),i(r,d,{value:function e(t,r){var i=n[p].read();if(i){n[h]=null;n[u]=null;n[l]=null;t(v(i,false))}else{n[u]=t;n[l]=r}},writable:true}),r));n[h]=null;s(t,(function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=n[l];if(t!==null){n[h]=null;n[u]=null;n[l]=null;t(e)}n[c]=e;return}var r=n[u];if(r!==null){n[h]=null;n[u]=null;n[l]=null;r(v(undefined,true))}n[f]=true}));t.on("readable",g.bind(null,n));return n};e.exports=w}).call(this,r(3))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(134);r(12)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;function i(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var o=r(25).codes,a=o.ERR_MISSING_ARGS,s=o.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(e,t,o,a){a=i(a);var u=false;e.on("close",(function(){u=true}));if(n===undefined)n=r(74);n(e,{readable:t,writable:o},(function(e){if(e)return a(e);u=true;a()}));var c=false;return function(t){if(u)return;if(c)return;c=true;if(l(e))return e.abort();if(typeof e.destroy==="function")return e.destroy();a(t||new s("pipe"))}}function f(e){e()}function h(e,t){return e.pipe(t)}function d(e){if(!e.length)return u;if(typeof e[e.length-1]!=="function")return u;return e.pop()}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=d(t);if(Array.isArray(t[0]))t=t[0];if(t.length<2){throw new a("streams")}var i;var o=t.map((function(e,r){var a=r<t.length-1;var s=r>0;return c(e,a,s,(function(e){if(!i)i=e;if(e)o.forEach(f);if(a)return;o.forEach(f);n(i)}))}));return t.reduce(h)}e.exports=p},function(e,t,r){"use strict";r.r(t);(function(e){r.d(t,"FULFILLED",(function(){return v}));r.d(t,"IDENTITY",(function(){return o}));r.d(t,"NOOP",(function(){return i}));r.d(t,"ObservableGroupMap",(function(){return te}));r.d(t,"PENDING",(function(){return p}));r.d(t,"REJECTED",(function(){return m}));r.d(t,"ViewModel",(function(){return P}));r.d(t,"actionAsync",(function(){return _e}));r.d(t,"addHiddenProp",(function(){return c}));r.d(t,"asyncAction",(function(){return H}));r.d(t,"chunkProcessor",(function(){return j}));r.d(t,"computedFn",(function(){return oe}));r.d(t,"createTransformer",(function(){return Y}));r.d(t,"createViewModel",(function(){return M}));r.d(t,"deepObserve",(function(){return Q}));r.d(t,"deprecated",(function(){return l}));r.d(t,"expr",(function(){return V}));r.d(t,"fail",(function(){return a}));r.d(t,"fromPromise",(function(){return y}));r.d(t,"fromResource",(function(){return T}));r.d(t,"fromStream",(function(){return I}));r.d(t,"getAllMethodsAndProperties",(function(){return d}));r.d(t,"invariant",(function(){return s}));r.d(t,"isPromiseBasedObservable",(function(){return b}));r.d(t,"keepAlive",(function(){return N}));r.d(t,"lazyObservable",(function(){return S}));r.d(t,"moveItem",(function(){return w}));r.d(t,"now",(function(){return U}));r.d(t,"queueProcessor",(function(){return F}));r.d(t,"task",(function(){return be}));r.d(t,"toStream",(function(){return D}));r.d(t,"whenAsync",(function(){return W}));r.d(t,"whenWithTimeout",(function(){return L}));var n=r(0);var i=function(){};var o=function(e){return e};function a(e){throw new Error("[mobx-utils] "+e)}function s(e,t){if(t===void 0){t="Illegal state"}if(!e)a(t)}var u=[];function l(e){if(u.indexOf(e)!==-1)return;u.push(e);console.error("[mobx-utils] Deprecated: "+e)}function c(e,t,r){Object.defineProperty(e,t,{enumerable:false,writable:true,configurable:true,value:r})}var f=function(e){return e&&e!==Object.prototype&&Object.getOwnPropertyNames(e).concat(f(Object.getPrototypeOf(e))||[])};var h=function(e){var t=f(e);var r=t.filter((function(e,r){return t.indexOf(e)===r}));return r};var d=function(e){return h(e).filter((function(e){return e!=="constructor"&&!~e.indexOf("__")}))};var p="pending";var v="fulfilled";var m="rejected";function g(e){switch(this.state){case p:return e.pending&&e.pending(this.value);case m:return e.rejected&&e.rejected(this.value);case v:return e.fulfilled?e.fulfilled(this.value):this.value}}function y(e,t){s(arguments.length<=2,"fromPromise expects up to two arguments");s(typeof e==="function"||typeof e==="object"&&e&&typeof e.then==="function","Please pass a promise or function to fromPromise");if(e.isPromiseBasedObservable===true)return e;if(typeof e==="function"){e=new Promise(e)}var r=e;e.then(Object(n["action"])("observableFromPromise-resolve",(function(e){r.value=e;r.state=v})),Object(n["action"])("observableFromPromise-reject",(function(e){r.value=e;r.state=m})));r.isPromiseBasedObservable=true;r.case=g;var i=t&&t.state===v?t.value:undefined;Object(n["extendObservable"])(r,{value:i,state:p},{},{deep:false});return r}(function(e){e.reject=Object(n["action"])("fromPromise.reject",(function(t){var r=e(Promise.reject(t));r.state=m;r.value=t;return r}));function t(t){if(t===void 0){t=undefined}var r=e(Promise.resolve(t));r.state=v;r.value=t;return r}e.resolve=Object(n["action"])("fromPromise.resolve",t)})(y||(y={}));function b(e){return e&&e.isPromiseBasedObservable===true}var _=undefined&&undefined.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n};function w(e,t,r){E(e,t);E(e,r);if(t===r){return}var i=e[n["$mobx"]].values;var o;if(t<r){o=_(i.slice(0,t),i.slice(t+1,r+1),[i[t]],i.slice(r+1))}else{o=_(i.slice(0,r),[i[t]],i.slice(r,t),i.slice(t+1))}e.replace(o);return e}function E(e,t){if(t<0){throw new Error("[mobx.array] Index out of bounds: "+t+" is negative")}var r=e[n["$mobx"]].values.length;if(t>=r){throw new Error("[mobx.array] Index out of bounds: "+t+" is not smaller than "+r)}}function S(e,t){if(t===void 0){t=undefined}var r=false;var i=n["observable"].box(t,{deep:false});var o=n["observable"].box(false);var a=function(){if(!r){r=true;Object(n["_allowStateChanges"])(true,(function(){o.set(true)}));e((function(e){Object(n["_allowStateChanges"])(true,(function(){i.set(e);o.set(false)}))}))}return i.get()};var s=Object(n["action"])("lazyObservable-reset",(function(){r=false;i.set(t);return i.get()}));return{current:a,refresh:function(){if(r){r=false;return a()}else{return i.get()}},reset:function(){return s()},get pending(){return o.get()}}}function T(e,t,r){if(t===void 0){t=i}if(r===void 0){r=undefined}var o=false;var a=false;var u=r;var l=function(){if(o){o=false;t()}};var c=Object(n["createAtom"])("ResourceBasedObservable",(function(){s(!o&&!a);o=true;e((function(e){Object(n["_allowStateChanges"])(true,(function(){u=e;c.reportChanged()}))}))}),l);return{current:function(){s(!a,"subscribingObservable has already been disposed");var e=c.reportObserved();if(!e&&!o)console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started");return u},dispose:function(){a=true;l()},isAlive:function(){return o}}}var A=undefined&&undefined.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};function x(){return typeof Symbol==="function"&&Symbol.observable||"@@observable"}function D(e,t){var r;if(t===void 0){t=false}var i=Object(n["computed"])(e);return r={subscribe:function(e){if("function"===typeof e){return{unsubscribe:i.observe((function(t){var r=t.newValue;return e(r)}),t)}}if(e&&"object"===typeof e&&e.next){return{unsubscribe:i.observe((function(t){var r=t.newValue;return e.next(r)}),t)}}return{unsubscribe:function(){}}}},r[x()]=function(){return this},r}var O=function(){function e(e,t){var r=this;Object(n["runInAction"])((function(){r.current=t;r.subscription=e.subscribe(r)}))}e.prototype.dispose=function(){if(this.subscription){this.subscription.unsubscribe()}};e.prototype.next=function(e){this.current=e};e.prototype.complete=function(){this.dispose()};e.prototype.error=function(e){this.current=e;this.dispose()};A([n["observable"].ref],e.prototype,"current",void 0);A([n["action"].bound],e.prototype,"next",null);A([n["action"].bound],e.prototype,"complete",null);A([n["action"].bound],e.prototype,"error",null);return e}();function I(e,t){if(t===void 0){t=undefined}return new O(e,t)}var C=undefined&&undefined.__assign||function(){C=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return C.apply(this,arguments)};var k=undefined&&undefined.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var R=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];var P=function(){function e(e){var t=this;this.model=e;this.localValues=n["observable"].map({});this.localComputedValues=n["observable"].map({});this.isPropertyDirty=function(e){return t.localValues.has(e)};s(Object(n["isObservableObject"])(e),"createViewModel expects an observable object");d(e).forEach((function(r){if(r===n["$mobx"]||r==="__mobxDidRunLazyInitializers"){return}s(R.indexOf(r)===-1,"The propertyname "+r+" is reserved and cannot be used with viewModels");if(Object(n["isComputedProp"])(e,r)){var i=Object(n["_getAdministration"])(e,r).derivation;t.localComputedValues.set(r,Object(n["computed"])(i.bind(t)))}var o=Object.getOwnPropertyDescriptor(e,r);var a=o?{enumerable:o.enumerable}:{};Object.defineProperty(t,r,C(C({},a),{configurable:true,get:function(){if(Object(n["isComputedProp"])(e,r))return t.localComputedValues.get(r).get();if(t.isPropertyDirty(r))return t.localValues.get(r);else return t.model[r]},set:Object(n["action"])((function(e){if(e!==t.model[r]){t.localValues.set(r,e)}else{t.localValues.delete(r)}}))}))}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:false,configurable:true});e.prototype.submit=function(){var e=this;Object(n["keys"])(this.localValues).forEach((function(t){var r=e.localValues.get(t);var i=e.model[t];if(Object(n["isObservableArray"])(i)){i.replace(r)}else if(Object(n["isObservableMap"])(i)){i.clear();i.merge(r)}else if(!Object(n["isComputed"])(r)){e.model[t]=r}}));this.localValues.clear()};e.prototype.reset=function(){this.localValues.clear()};e.prototype.resetProperty=function(e){this.localValues.delete(e)};k([n["computed"]],e.prototype,"isDirty",null);k([n["computed"]],e.prototype,"changedValues",null);k([n["action"].bound],e.prototype,"submit",null);k([n["action"].bound],e.prototype,"reset",null);k([n["action"].bound],e.prototype,"resetProperty",null);return e}();function M(e){return new P(e)}function L(e,t,r,i){if(r===void 0){r=1e4}if(i===void 0){i=function(){}}l("whenWithTimeout is deprecated, use mobx.when with timeout option instead");return Object(n["when"])(e,t,{timeout:r,onError:i})}function N(e,t){var r=Object(n["getAtom"])(e,t);if(!r)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return r.observe((function(){}))}function F(e,t,r){if(r===void 0){r=0}if(!Object(n["isObservableArray"])(e))throw new Error("Expected observable array as first argument");if(!Object(n["isAction"])(t))t=Object(n["action"])("queueProcessor",t);var i=function(){var r=e.slice(0);Object(n["runInAction"])((function(){return e.splice(0)}));r.forEach(t)};if(r>0)return Object(n["autorun"])(i,{delay:r});else return Object(n["autorun"])(i)}function j(e,t,r,i){if(r===void 0){r=0}if(i===void 0){i=0}if(!Object(n["isObservableArray"])(e))throw new Error("Expected observable array as first argument");if(!Object(n["isAction"])(t))t=Object(n["action"])("chunkProcessor",t);var o=function(){var r=function(){var r=i===0?e.length:Math.min(e.length,i);var o=e.slice(0,r);Object(n["runInAction"])((function(){return e.splice(0,r)}));t(o)};while(e.length>0){r()}};if(r>0)return Object(n["autorun"])(o,{delay:r});else return Object(n["autorun"])(o)}var B={};function U(e){if(e===void 0){e=1e3}if(!Object(n["_isComputingDerivation"])()){return Date.now()}if(!B[e]){if(typeof e==="number")B[e]=z(e);else B[e]=$()}return B[e].current()}function z(e){var t;return T((function(r){t=setInterval((function(){return r(Date.now())}),e)}),(function(){clearInterval(t)}),Date.now())}function $(){var e=T((function(t){function r(){window.requestAnimationFrame((function(){t(Date.now());if(e.isAlive())r()}))}r()}),(function(){}),Date.now());return e}var G=undefined&&undefined.__assign||function(){G=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return G.apply(this,arguments)};function H(e,t){if(typeof arguments[1]==="string"){var r=arguments[1];var i=arguments[2];if(i&&i.value){return Object.assign({},i,{value:Object(n["flow"])(i.value)})}else{return Object.assign({},i,{set:function(e){Object.defineProperty(this,r,G(G({},i),{value:Object(n["flow"])(e)}))}})}}var o=typeof e==="string"?t:e;var a=typeof e==="string"?e:o.name||"<unnamed async action>";l("asyncAction is deprecated. use mobx.flow instead");return Object(n["flow"])(o)}function W(e,t){if(t===void 0){t=0}l("whenAsync is deprecated, use mobx.when without effect instead");return Object(n["when"])(e,{timeout:t})}function V(e){if(!Object(n["_isComputingDerivation"])())console.warn("'expr' should only be used inside other reactive functions.");return Object(n["computed"])(e).get()}var q=undefined&&undefined.__assign||function(){q=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return q.apply(this,arguments)};var J=0;function Y(e,t){s(typeof e==="function"&&e.length<2,"createTransformer expects a function that accepts one argument");var r={};var i=undefined;var o=false;var a=undefined;if(typeof t==="object"){i=t.onCleanup;o=t.keepAlive!==undefined?t.keepAlive:false;a=t.debugNameGenerator}else if(typeof t==="function"){i=t}function u(s,u){var l;var c={};if(typeof t==="object"){i=t.onCleanup;a=t.debugNameGenerator;c=t}else if(typeof t==="function"){i=t}else{i=undefined;a=undefined}var f=a?a(u):"Transformer-"+e.name+"-"+s;var h=Object(n["computed"])((function(){return l=e(u)}),q(q({},c),{name:f}));if(!o){var d=Object(n["onBecomeUnobserved"])(h,(function(){delete r[s];d();if(i)i(l,u)}))}return h}var l=false;return function(t){var a=K(t);var s=r[a];if(s)return s.get();if(!o&&!Object(n["_isComputingDerivation"])()){if(!l){console.warn("invoking a transformer from outside a reactive context won't memorized "+"and is cleaned up immediately, unless keepAlive is set");l=true}var c=e(t);if(i)i(c,t);return c}s=r[a]=u(a,t);return s.get()}}function K(e){var t=typeof e;if(t==="string")return"string:"+e;if(t==="number")return"number:"+e;if(e===null||t!=="object"&&t!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(e));var r=e.$transformId;if(r===undefined){r="memoizationId:"+ ++J;c(e,"$transformId",r)}return r}function X(e){if(!e)return"ROOT";var t=[];while(e.parent){t.push(e.path);e=e.parent}return t.reverse().join("/")}function Z(e){return Object(n["isObservableObject"])(e)||Object(n["isObservableArray"])(e)||Object(n["isObservableMap"])(e)}function Q(e,t){var r=new WeakMap;function i(n){var i=r.get(n.object);o(n,i);t(n,X(i),e)}function o(e,t){switch(e.type){case"add":a(e.newValue,t,e.name);break;case"update":s(e.oldValue);a(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":s(e.oldValue);break;case"splice":e.removed.map(s);e.added.forEach((function(r,n){return a(r,t,""+(e.index+n))}));for(var n=e.index+e.addedCount;n<e.object.length;n++){if(Z(e.object[n])){var i=r.get(e.object[n]);if(i)i.path=""+n}}break}}function a(e,t,o){if(Z(e)){var s=r.get(e);if(s){if(s.parent!==t||s.path!==o)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+X(t)+"/"+o+"',")+(" but it already exists at '"+X(s.parent)+"/"+s.path+"'"))}else{var u={parent:t,path:o,dispose:Object(n["observe"])(e,i)};r.set(e,u);Object(n["entries"])(e).forEach((function(e){var t=e[0],r=e[1];return a(r,u,t)}))}}}function s(e){if(Z(e)){var t=r.get(e);if(!t)return;r.delete(e);t.dispose();Object(n["values"])(e).forEach(s)}}a(e,undefined,"");return function(){s(e)}}var ee=undefined&&undefined.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var te=function(e){ee(t,e);function t(t,r,i){var o=i===void 0?{}:i,a=o.name,s=a===void 0?"ogm"+(Math.random()*1e3|0):a,u=o.keyToName,l=u===void 0?function(e){return""+e}:u;var c=e.call(this)||this;c._keyToName=l;c._groupBy=r;c._ogmInfoKey="function"==typeof Symbol?Symbol("ogmInfo"+s):"__ogmInfo"+s;c._base=t;for(var f=0;f<t.length;f++){c._addItem(t[f])}c._disposeBaseObserver=Object(n["observe"])(c._base,(function(e){if("splice"===e.type){Object(n["transaction"])((function(){for(var t=0,r=e.removed;t<r.length;t++){var n=r[t];c._removeItem(n)}for(var i=0,o=e.added;i<o.length;i++){var a=o[i];c._addItem(a)}}))}else if("update"===e.type){Object(n["transaction"])((function(){c._removeItem(e.oldValue);c._addItem(e.newValue)}))}else{throw new Error("illegal state")}}));return c}t.prototype.clear=function(){throw new Error("not supported")};t.prototype.delete=function(e){throw new Error("not supported")};t.prototype.set=function(e,t){throw new Error("not supported")};t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];var r=t[this._ogmInfoKey];r.reaction();delete t[this._ogmInfoKey]}};t.prototype._getGroupArr=function(t){var r=e.prototype.get.call(this,t);if(undefined===r){r=Object(n["observable"])([],{name:"GroupArray["+this._keyToName(t)+"]"});e.prototype.set.call(this,t,r)}return r};t.prototype._removeFromGroupArr=function(t,r){var n=e.prototype.get.call(this,t);if(1===n.length){e.prototype.delete.call(this,t)}else if(r===n.length-1){n.length--}else{n[r]=n[n.length-1];n[r][this._ogmInfoKey].groupArrIndex=r;n.length--}};t.prototype._addItem=function(e){var t=this;var r=this._groupBy(e);var i=this._getGroupArr(r);var o={groupByValue:r,groupArrIndex:i.length,reaction:Object(n["reaction"])((function(){return t._groupBy(e)}),(function(r,n){console.log("new group by value ",r);var i=e[t._ogmInfoKey];t._removeFromGroupArr(i.groupByValue,i.groupArrIndex);var o=t._getGroupArr(r);var a=o.length;o.push(e);i.groupByValue=r;i.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:true,enumerable:false,value:o});i.push(e)};t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex);t.reaction();delete e[this._ogmInfoKey]};return t}(n["ObservableMap"]);var re=function(){function e(e,t){this.base=e;this.args=t;this.closestIdx=0;this.isDisposed=false;var r=this.closest=this.root=e;var n=0;for(;n<this.args.length-1;n++){r=r.get(t[n]);if(r)this.closest=r;else break}this.closestIdx=n}e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])};e.prototype.get=function(){this.assertNotDisposed();if(!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])};e.prototype.set=function(e){this.assertNotDisposed();var t=this.args.length;var r=this.closest;for(var n=this.closestIdx;n<t-1;n++){var i=new Map;r.set(this.args[n],i);r=i}this.closestIdx=t-1;this.closest=r;r.set(this.args[t-1],e)};e.prototype.delete=function(){this.assertNotDisposed();if(!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);var t=this.root;var r=[t];for(var n=0;n<e-1;n++){t=t.get(this.args[n]);r.push(t)}for(var n=r.length-1;n>0;n--){if(r[n].size===0)r[n-1].delete(this.args[n-1])}this.isDisposed=true};e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")};return e}();var ne=function(){function e(){this.store=new Map;this.argsLength=-1}e.prototype.entry=function(e){if(this.argsLength===-1)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);if(this.last)this.last.isDisposed=true;return this.last=new re(this.store,e)};return e}();var ie=undefined&&undefined.__assign||function(){ie=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return ie.apply(this,arguments)};function oe(e,t){if(t===void 0){t=false}if(Object(n["isAction"])(e))throw new Error("computedFn shouldn't be used on actions");var r=false;var i=0;var o=typeof t==="boolean"?{keepAlive:t}:t;var a=new ne;return function(){var t=this;var s=[];for(var u=0;u<arguments.length;u++){s[u]=arguments[u]}var l=a.entry(s);if(l.exists())return l.get().get();if(!o.keepAlive&&!Object(n["_isComputingDerivation"])()){if(!r){console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set");r=true}return e.apply(this,s)}var c=Object(n["computed"])((function(){return e.apply(t,s)}),ie(ie({},o),{name:"computedFn("+e.name+"#"+ ++i+")"}));l.set(c);if(!o.keepAlive)Object(n["onBecomeUnobserved"])(c,(function(){a.entry(s).delete()}));return c.get()}}function ae(e,t,r,n,i){if(i){return se(e,t,n,i)}else{ue(t,r,n)}}function se(e,t,r,n){if(n.get!==undefined){return fail(e+" cannot be used with getters")}if(n.value){return{value:t(r,n.value),enumerable:false,configurable:true,writable:true}}var i=n.initializer;return{enumerable:false,configurable:true,writable:true,initializer:function(){return t(r,i.call(this))}}}function ue(e,t,r){Object.defineProperty(t,r,{configurable:true,enumerable:false,get:function(){return undefined},set:function(t){c(this,r,e(r,t))}})}var le=undefined&&undefined.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(a,s)}u((n=n.apply(e,t||[])).next())}))};var ce=undefined&&undefined.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return u([e,t])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){r.label=a[1];break}if(a[0]===6&&r.label<o[1]){r.label=o[1];o=a;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(a);break}if(o[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var fe=0;var he=new Set;var de=new Set;var pe;{var ve=Promise.resolve();var me;if(typeof queueMicrotask!=="undefined"){me=queueMicrotask}else if(typeof e!=="undefined"&&e.nextTick){me=function(t){e.nextTick(t)}}else{me=function(e){setTimeout(e,0)}}var ge=function(){return new Promise((function(e){me(e)}))};pe=function(){ve=ve.then(ge);return ve}}var ye=[];function be(e){return le(this,void 0,void 0,(function(){var t,r,i,o,s,u,l,c,f,h,d;return ce(this,(function(p){switch(p.label){case 0:t=ye[ye.length-1];if(!t){a("'actionAsync' context not present when running 'task'. did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?")}r=t.runId,i=t.actionName,o=t.args,s=t.scope,u=t.actionRunInfo,l=t.step;c=l+1;ye.pop();Object(n["_endAction"])(u);de.delete(r);p.label=1;case 1:p.trys.push([1,4,6,7]);return[4,e];case 2:f=p.sent();return[4,pe()];case 3:p.sent();return[2,f];case 4:h=p.sent();return[4,pe()];case 5:p.sent();throw h;case 6:if(he.has(r)){d=Object(n["_startAction"])(Ee(i,r,c),this,o);ye.push({runId:r,step:c,actionRunInfo:d,actionName:i,args:o,scope:s});de.add(r)}return[7];case 7:return[2]}}))}))}function _e(e,t,r){if(typeof arguments[1]==="string"){return ae("@actionAsync",(function(e,t){return we(e,t)}),e,t,r)}var n=typeof e==="string"?e:e.name||"<unnamed action>";var i=typeof e==="function"?e:t;return we(n,i)}function we(e,t){if(!n["_startAction"]||!n["_endAction"]){a("'actionAsync' requires mobx >=5.13.1 or >=4.13.1")}s(typeof t==="function","'asyncAction' expects a function");if(typeof e!=="string"||!e)a("actions should have valid names, got: '"+e+"'");return function(){var r=[];for(var i=0;i<arguments.length;i++){r[i]=arguments[i]}return le(this,void 0,void 0,(function(){var i,o,s,u,l,c;return ce(this,(function(f){switch(f.label){case 0:i=fe++;he.add(i);o=Object(n["_startAction"])(Ee(e,i,0),this,r);ye.push({runId:i,step:0,actionRunInfo:o,actionName:e,args:r,scope:this});de.add(i);s=function(t){he.delete(i);var r=ye.pop();if(!r||r.runId!==i){if(r){ye.push(r)}var o="invalid 'actionAsync' context when finishing action '"+e+"'.";if(!r){o+=" no action context could be found instead."}else{o+=" an action context for '"+r.actionName+"' was found instead."}o+=" did you await inside an 'actionAsync' without using 'task(promise)'? did you forget to await the task?";a(o)}r.actionRunInfo.error=t;Object(n["_endAction"])(r.actionRunInfo);de.delete(i);if(t){throw t}};try{u=t.apply(this,r)}catch(e){s(e)}if(de.has(i)){s(undefined);return[2,u]}f.label=1;case 1:f.trys.push([1,3,,4]);return[4,u];case 2:l=f.sent();return[3,4];case 3:c=f.sent();s(c);return[3,4];case 4:s(undefined);return[2,l]}}))}))}}function Ee(e,t,r){return e+" - runid "+t+" - step "+r}}).call(this,r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DomOutline=void 0;const n=r(11);const i=r(27);const o=r(387);const a=r(390);const s=r(391);const u=r(392);const l=`data:image/svg+xml;base64,${btoa(u.default)}`;const c=.75;const f=2147483647;let h=0;const d=[];function p(e){if(d.includes(e)){return false}d.push(e);return true}function v(e){const t=d.map(((t,r)=>t===e?r:-1)).filter((e=>e>=0));t.reverse();t.forEach((e=>{d.splice(e,1)}))}const m=window.TST;const g=m.locatorBuilderUtils.CONTEXT_ATTR;const y=m.locatorBuilderUtils.CONTEXT_POINTER_ATTR;const b={BACKSPACE:8,ESC:27,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,Z:90,Q:81,X:88};const _={background:"#09c",opacity:"0.3"};const w={position:"absolute !important",padding:"0px !important",margin:"0px !important","border-radius":"0 !important","border-width":"0 !important","border-style":"none !important","z-index":`${f-2}`,"pointer-events":"none"};const E={"z-index":`${f-1}`,top:"0",left:"0","pointer-events":"auto",width:"100% !important",height:"100% !important","background-color":"transparent !important"};const S={"background-color":"#09c","border-radius":"2px",color:"#fff",font:"bold 12px/12px Helvetica, sans-serif",padding:"4px 6px","text-shadow":"0 1px 1px rgba(0, 0, 0, 0.25)"};const T={"font-size":"12px",color:"#D8DAE5","font-family":"sans-serif","line-height":"0.9","margin-bottom":"4px","text-align":"left","flex-basis":"130px",overflow:"hidden"};const A={"font-size":"12px",color:"#EFEFEF","font-family":"sans-serif",overflow:"hidden","text-overflow":"ellipsis",width:"100%",flex:"1 1 calc(100% - 230px)","white-space":"nowrap"};const x={margin:"4px 5px","vertical-align":"middle"};const D={color:"rgb(12, 227, 228)"};const O={"line-height":"22px",display:"flex","justify-content":"space-between","align-items":"center",position:"fixed !important","z-index":`${f}`,bottom:"0",direction:"ltr",right:"0",left:"0",height:"24px",padding:"4px 0 4px 10px","font-size":"12px","font-family":"sans-serif",background:"rgba(49, 49, 49, 0.7)","pointer-events":"none"};const I={position:"fixed !important","z-index":`${f}`,bottom:"0",right:"0","max-width":"200px","margin-right":"10px","margin-bottom":`${10+Math.trunc(Number(O.height))}px`,background:"rgba(0, 0, 0, 0.6)",padding:"8px","border-radius":"3px",opacity:"0",transition:"opacity .25s ease-in-out","text-align":"center","text-transform":"uppercase","font-weight":"bold","font-size":"12px",color:"#fff","font-family":"sans-serif"};const C={position:"absolute",top:"-3px",left:"-26px",content:`url(data:image/svg+xml;base64,${btoa(a.default)})`};const k={"min-width":"26px",width:"26px",height:"26px",background:`no-repeat url(data:image/svg+xml;base64,${btoa(a.default)})`};const R={background:`no-repeat url(data:image/svg+xml;base64,${btoa(s.default)})`};const P={position:"absolute","z-index":`${f-1}`};const M={namespace:"DomOutline",borderWidth:2,filter:false,type:"outline",label:false,captureMouse:true,captureKeyboard:true,stopOnSelect:true,overlay:true,sfdcMode:false,getTagName(e){let t=i.injectorUtils.getTagName(e);if(e.shadowRoot){t+=" > #shadow-root"}return t}};const L=["mouseenter","mouseover","mouseout","mouseup","mousedown","pointerdown","pointerup"];function N(){return window.top===window.self}function F(e){return e&&window.SVGElement&&e instanceof window.SVGElement}const j=new WeakSet;function B(e){return t=>{if(j.has(t)){return undefined}try{return e(t)}finally{j.add(t)}}}function U(e){let t="";const r=e.getAttribute("id");if(r){t+=`#${r}`}if(e.classList.length>0){t+=`.${Array.from(e.classList).join(".")}`}return t}class z{constructor(e){var t,r;this.element=null;this.globalWindowListener=B((e=>{const{currentTarget:t}=e;const r=d.includes(t);if(!r){return}this.routingListener(e)}));this.listenerByEventType={click:this.handleClick.bind(this),keydown:this.handleKeyDown.bind(this),keyup:this.handleKeyup.bind(this),mouseleave:this.onMouseLeave.bind(this),mousemove:this.updateOutlinePosition.bind(this)};this.routingListener=B((e=>{const t=this.listenerByEventType[e.type];t===null||t===void 0?void 0:t(e)}));this.active=false;this.activeFrames=[];this.css=_;this.elements={};this.ignorePointerEventsOverride=[];this.initialized=false;this.keyboardElementPath=[];this.labelCss=S;this.notification=null;this.rootElement=document.body||document.documentElement;this.isContextSelectionMode=Boolean(e===null||e===void 0?void 0:e.isContextSelectionMode);this.opts={...M,...e};if(this.opts.sfdcMode){const e=document.querySelectorAll("body.desktop>div.oneOne").length>0;this.opts.sfdcMode=e}this.sfdcSelectionActive=this.opts.sfdcMode;const n=this.opts.type;if(n!=="box"&&n!=="outline"){window.console.error(`bad outline type ${n}`);this.opts.type="outline"}if((t=e===null||e===void 0?void 0:e.style)===null||t===void 0?void 0:t.box){const t=e.style.box;Object.keys(t).forEach((e=>{this.css[e]=t[e]}))}if((r=e===null||e===void 0?void 0:e.style)===null||r===void 0?void 0:r.label){const t=e.style.label;Object.keys(t).forEach((e=>{this.labelCss[e]=t[e]}))}Object.keys(w).forEach((e=>{this.css[e]=w[e]}));Object.keys(P).forEach((e=>{this.labelCss[e]=P[e]}));if(n!=="box"){delete this.css.opacity}}handleKeyState({keyCode:e,state:t}){switch(e){case b.Z:this.handlePointerEvent(t);break;case b.X:if(t==="down"){this.displayNotification("Hiding current element",3e3)}break;case b.Q:if(t==="down"){this.isContextSelectionMode=false;this.setActionHintHTMLString()}break;default:break}}setElementChainText(e){this.elementChain.innerHTML=e}start(){const e=e=>{if(e==="keydown"){return this.opts.captureKeyboard}return true};if(p(document.defaultView)){const t=Object.keys(this.listenerByEventType).filter(e);t.forEach((e=>{var t;(t=document.defaultView)===null||t===void 0?void 0:t.addEventListener(e,this.globalWindowListener,true)}))}this.initStylesheet();if(this.active){return}const t=window.scrollY+window.innerHeight;const r=window.scrollX+window.innerWidth;const n=this.rootElement.getBoundingClientRect();const i=Math.max(n.bottom,t);const o=Math.max(r,n.right);this.displayRect={left:0,top:0,right:o,bottom:i,height:i,width:o};this.active=true;this.createOutlineElements();L.forEach((e=>{this.rootElement.addEventListener(e,this.silence,true)}));this.rootElement.addEventListener("mouseleave",this.routingListener,true);this.rootElement.addEventListener("mousemove",this.routingListener,true);this.rootElement.addEventListener("keyup",this.routingListener,true);if(this.opts.captureKeyboard){this.rootElement.addEventListener("keydown",this.routingListener,true)}if(this.opts.onClick||this.opts.captureMouse){setTimeout((()=>{if(m.addListenerOnClick){m.addListenerOnClick(this.handleClick)}else{this.rootElement.addEventListener("click",this.routingListener,true)}}),50)}if(N()){window.focus()}}stop(){v(document.defaultView);Object.keys(this.listenerByEventType).forEach((e=>{var t;(t=document.defaultView)===null||t===void 0?void 0:t.removeEventListener(e,this.globalWindowListener,true)}));this.active=false;this.removeOutlineElements();this.restoreStyleProperties();this.unhideElements();this.removeContextTagging();["mousemove","mouseleave","keydown","keyup"].forEach((e=>this.rootElement.removeEventListener(e,this.routingListener,true)));if(m.removeListenerOnClick){m.removeListenerOnClick(this.handleClick)}else{this.rootElement.removeEventListener("click",this.routingListener,true)}L.forEach((e=>this.rootElement.removeEventListener(e,this.silence,true)));this.activeFrames=[]}clickHandler(e,t){var r,n;if(e){this.restoreStyleProperties();this.unhideElements();this.updateElementMetadata(e);if(this.sfdcSelectionActive&&this.isSfdcFieldTarget(e.element)){e.isSfdcField=true}}if(t||this.opts.stopOnSelect){this.stop()}(n=(r=this.opts)===null||r===void 0?void 0:r.onClick)===null||n===void 0?void 0:n.call(r,e)}compileLabelText(e,t,r){let n=i.injectorUtils.getTagName(e);if(e.id){n+=`#${e.id}`}if(e.className){n+=`.${e.className.trim().replace(/ /g,".")}`.replace(/\.\.+/g,".")}return`${n} (${Math.round(t)}x${Math.round(r)})`}createOutlineElements(){const e=()=>document.createElement("div");function t(e,t){Array.from(t).forEach((t=>e.classList.add(t)));return e}function r(e,t){e.appendChild(t);return t}const n=(n,i)=>r(n,t(e(),i));const i=this.elements;const o=this.opts.namespace;if(this.opts.label){i.label=n(this.rootElement,[`${o}_label`])}i.top=n(this.rootElement,[o]);i.bottom=n(this.rootElement,[o]);i.left=n(this.rootElement,[o]);i.right=n(this.rootElement,[o]);if(this.opts.overlay){i.overlay=n(this.rootElement,[o,`${o}-overlay`])}this.notification=n(this.rootElement,[`${o}_notification`]);if(N()){this.infoBar=n(this.rootElement,[`${o}_infobar`]);this.elementChain=n(this.infoBar,[`${o}_element_chain`]);if(this.opts.sfdcMode){i.sfdcButton=n(this.infoBar,[`${o}_sfdc_button`])}this.actionHint=n(this.infoBar,[`${o}_action_hint`]);this.setActionHintHTMLString()}Object.values(i).forEach((e=>this.ignorePointerEventsOverride.push({element:e})))}displayNotification(e,t){if(!N()){return}clearTimeout(this.hideNotificationTimeout);this.notification.innerText=e;this.notification.style.opacity="1";if(t){this.hideNotificationTimeout=setTimeout(this.hideNotification,t)}}elementFromPointFallback(e,t,r){const n=e.elementFromPoint(t,r);if((n===null||n===void 0?void 0:n.shadowRoot)&&n.shadowRoot!==e){return this.elementFromPointFallback(n.shadowRoot,t,r)}return n}enterIframe(e){this.getElementList().forEach((e=>e.style.display="none"));this.cursorPosition=null;this.listenToLeaveFrame(e)}getContextParent(e){const t=Number(e.getAttribute(y));if(t){return document.querySelector(`[${g}='${t}']`)}return undefined}getElementList(){return Object.keys(this.elements).map((e=>this.elements[e])).filter((e=>e instanceof HTMLElement))}getEventShadowedElement(e){if(!(e instanceof MouseEvent))return null;const t=e.composedPath();if(t.some((e=>e.shadowRoot))){return t[0]}return e.target}getIgnoreOverrideElements(){return this.ignorePointerEventsOverride.map((e=>e.element))}getParents(e){if(e.parentElement){return[...this.getParents(e.parentElement),e]}if(e.getRootNode().host){return[...this.getParents(e.getRootNode().host),e]}return[e]}getScrollLeft(){const e=document.scrollingElement||this.rootElement;return e.scrollLeft}getScrollTop(){const e=document.scrollingElement||this.rootElement;return e.scrollTop}handleClick(e){if(this.opts.captureMouse){e.preventDefault();e.stopImmediatePropagation()}if(this.opts.filter&&e.target!==this.opts.filter){return false}if(this.opts.sfdcMode&&this.isInSfdcButton(e.clientX,e.clientY)){this.sfdcSelectionActive=!this.elements.sfdcButton.classList.toggle("inactive");return false}if(this.opts.onClick){if(!this.element&&this.isContextSelectionMode){return undefined}if(!e.isTrusted){return undefined}const t=!this.element||this.element.isConnected?this.element:document.elementsFromPoint(e.clientX,e.clientY)[1];this.clickHandler({eventInfo:{ctrlKey:e.ctrlKey,metaKey:e.metaKey},element:t,pointer:{x:e.clientX,y:e.clientY,screenX:e.screenX,screenY:e.screenY},contextMatchThreshold:c})}return undefined}handleContextSelection(e){if(!e){return undefined}if(e.getAttribute(g)){return e}if(e.getAttribute(y)){return this.getContextParent(e)}const t=m.contextCandidatesFinder.findCandidate(e,c,m.locatorBuilderUtils.getTestimInternalAttributes());if(!t){e.setAttribute(y,"-1");return undefined}let r=t.getAttribute(g);if(!r){h+=1;r=h;t.setAttribute(g,r)}e.setAttribute(y,r);return t}handleKeyDown(e){e.preventDefault();e.stopImmediatePropagation();window.TST.emitKeyState("down",e.keyCode);if(e.keyCode===b.X){this.hideElement()}}handleKeyup(e){if(this.opts.captureKeyboard){e.preventDefault();e.stopImmediatePropagation()}window.TST.emitKeyState("up",e.keyCode);if(e.keyCode===b.ESC){this.clickHandler(null,true);return false}if(e.keyCode===b.ENTER&&this.opts.onClick){this.clickHandler({element:this.element,contextMatchThreshold:c});return false}if(this.element){if(e.keyCode===b.UP){let e=this.element.parentElement;if(!e&&this.element.getRootNode()instanceof ShadowRoot){e=this.element.getRootNode().host}if(e){this.keyboardElementPath.push(this.element);this.updateElement(e)}}else if(e.keyCode===b.DOWN){let e=this.element.firstElementChild;if(this.keyboardElementPath.length>0){e=this.keyboardElementPath.pop()}this.updateElement(e)}else if(e.keyCode===b.RIGHT){this.updateElement(this.element.nextElementSibling)}else if(e.keyCode===b.LEFT){this.updateElement(this.element.previousElementSibling)}}return false}handlePointerEvent(e){if(e==="up"){this.restoreStyleProperties();this.hideNotification()}if(e==="down"){this.overrideStyleProperties();this.displayNotification("Pointer Events: All")}}handleSfdcSelection(e){let t=e;while(t){if(this.isSfdcFieldTarget(t)){this.elements.right.classList.add("sfdc");return t}t=t.parentNode||t.host}this.elements.right.classList.remove("sfdc");return e}hideElement(){const e=this.element;if(!e){return}const t=e.getAttribute("style");this.ignorePointerEventsOverride.push({element:e,origStyle:t});e.style["pointer-events"]="none";if(this.cursorPosition){this.updateOutlinePosition({clientX:this.cursorPosition.x,clientY:this.cursorPosition.y})}}hideNotification(){this.notification.style.opacity="0";setTimeout((()=>{this.notification.innerText=""}),300)}initStylesheet(){if(this.initialized!==true){this.writeStylesheet(this.makeCSS(`.${this.opts.namespace}`,_),this.makeCSS(`.${this.opts.namespace}_label`,S),this.makeCSS(`.${this.opts.namespace}.${this.opts.namespace}-overlay`,E),this.makeCSS(`.${this.opts.namespace}_notification`,I),this.makeCSS(`.${this.opts.namespace}_infobar`,O),this.makeCSS(`.${this.opts.namespace}_action_hint`,T),this.makeCSS(`.${this.opts.namespace}_element_chain`,A),this.makeCSS(".arrows-icon",x),this.makeCSS(".element-descriptor",D),this.makeCSS(`.${this.opts.namespace}.sfdc::after`,C),this.makeCSS(`.${this.opts.namespace}_sfdc_button`,k),this.makeCSS(`.${this.opts.namespace}_sfdc_button.inactive`,R));this.initialized=true}}isContextElement(e,t){if(!t){return false}let r;if(this.isContextSelectionMode){r=this.getContextParent(e)}return r===t}isInSfdcButton(e,t){const r=this.elements.sfdcButton.getBoundingClientRect();return e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}isSfdcFieldTarget(e){return o.sfdcRecorderConstants.sfdcFieldSelectors.some((t=>{var r;return(r=e.matches)===null||r===void 0?void 0:r.call(e,t)}))&&!this.isSfdcUnhandledField(e)}isSfdcUnhandledField(e){for(const t of o.sfdcRecorderConstants.sfdcUnhandledFieldSelectors){if(e.querySelector(t)){return true}}return false}listenToLeaveFrame(e){this.activeFrames.push(e)}makeCSS(e,t){const r=[];Object.keys(t).forEach((e=>{r.push(`${e}:${t[e]}`)}));return`${e}{${r.join(";\n")}}`}onMouseLeave(e){const t=this.activeFrames.find((t=>t===e.target));if(t){this.onMouseLeftFrame(t)}return this.silence(e)}onMouseLeftFrame(e){this.activeFrames=this.activeFrames.filter((t=>t!==e));this.getElementList().forEach((e=>e.style.display=""));window.focus();this.rootElement.focus()}overrideStyleProperties(){if(this.stylesOverridden){return}this.stylesOverridden=true;const e=Array.from(document.querySelectorAll("[style]")).filter((e=>!this.getIgnoreOverrideElements().includes(e)));this.overriddenElements=[];e.forEach((e=>{const t=e.getAttribute("style");if(t){this.overriddenElements.push({element:e,origStyle:t})}}));Array.from(document.querySelectorAll("*")).filter((e=>!this.getIgnoreOverrideElements().includes(e))).forEach((e=>{e.style["pointer-events"]="auto"}))}removeContextTagging(){Array.from(document.querySelectorAll(`[${g}]`)).forEach((e=>e.removeAttribute(g)));Array.from(document.querySelectorAll(`[${y}]`)).forEach((e=>e.removeAttribute(y)))}removeOutlineElements(){var e,t,r;this.getElementList().forEach((e=>{var t;return(t=e.parentNode)===null||t===void 0?void 0:t.removeChild(e)}));(e=this.notification)===null||e===void 0?void 0:e.remove();this.notification=null;(t=this.infoBar)===null||t===void 0?void 0:t.remove();this.infoBar=null;(r=this.stylesheetInHead)===null||r===void 0?void 0:r.remove();this.elements={}}restoreStyleProperties(){if(!this.stylesOverridden){return}this.stylesOverridden=false;Array.from(document.querySelectorAll("*")).filter((e=>!this.getIgnoreOverrideElements().includes(e))).forEach((e=>{e.removeAttribute("style")}));this.overriddenElements.forEach((e=>{e.element.setAttribute("style",e.origStyle)}));this.overriddenElements=[]}setActionHintHTMLString(){const e=this.isContextSelectionMode;this.actionHint.innerHTML=e?"Hit 'Q' to exit context selection mode":`<span>Use the</span><img class="arrows-icon" src=${l}><span>keys to modify your selection</span>`}silence(e){e.preventDefault();e.stopImmediatePropagation()}unhideElements(){this.ignorePointerEventsOverride.forEach((e=>{if(Object.hasOwn(e,"origStyle")){delete e.element.style;e.element.setAttribute("style",e.origStyle)}}))}updateElement(e){if(this.isContextSelectionMode){e=this.handleContextSelection(e)}if(this.sfdcSelectionActive){e=this.handleSfdcSelection(e)}if(!e){return}this.element=e;const t=this.opts.borderWidth;const r=this.getScrollTop();const n=this.getScrollLeft();const i=this.element.getBoundingClientRect();const o=i.top+r;const a=this.elements;if(this.opts.label){a.label.style.top=`${Math.max(0,o-20-t,r)}`;a.label.style.left=`${Math.max(0,i.left-t,n)}`;a.label.textContent=this.compileLabelText(this.element,i.width,i.height)}function s(e,t){e.style.top=`${t.top}px`;e.style.left=`${t.left}px`;e.style.width=`${t.width}px`;e.style.height=`${t.height}px`}if(this.opts.type==="box"){s(a.top,{top:r,left:0,width:this.displayRect.width,height:o-r});s(a.bottom,{top:o+i.height,left:0,width:this.displayRect.width,height:this.displayRect.height-i.top-i.height+this.displayRect.top});s(a.left,{top:o,left:0,width:i.left+n,height:i.height});s(a.right,{top:o,left:i.left+i.width+n,width:this.displayRect.width-i.left-i.width,height:i.height})}else{s(a.top,{top:Math.max(0,o-t),left:i.left-t,width:i.width+t,height:t});s(a.bottom,{top:o+i.height,left:i.left-t,width:i.width+t,height:t});s(a.left,{top:o-t,left:Math.max(0,i.left-t),width:t,height:i.height+t});s(a.right,{top:o-t,left:i.left+i.width,width:t,height:i.height+t*2})}this.updateParentChainText()}updateElementMetadata(e){if(!e.element){return}const t=window.getComputedStyle(e.element)["pointer-events"];if(t==="none"){e.forceVisibility=false;e.pointerEvents="none"}}updateOutlinePosition(e){window.focus();let t;if(this.opts.overlay){const r=this.elements.overlay;r.style["pointer-events"]="none";this.cursorPosition={x:e.clientX,y:e.clientY};if(this.opts.elementFromPoint){t=this.opts.elementFromPoint(document,e.clientX,e.clientY)}else{t=this.elementFromPointFallback(document,e.clientX,e.clientY)||this.getEventShadowedElement(e)||document.elementFromPoint(e.clientX,e.clientY)}r.style["pointer-events"]="auto"}else{t=e.target}if(!t){return}if(!F(t)){const e=String(t.className||"");const r=t===this.element;const n=e.includes(this.opts.namespace);const i=this.isContextElement(t,this.element);if(r||n||i){return}}if(this.opts.overlay){const e=i.injectorUtils.getTagName(t);if(e==="iframe"){this.enterIframe(t);return}}if(this.opts.filter&&t!==this.opts.filter){return}this.keyboardElementPath=[];this.updateElement(t)}updateParentChainText(){const e=this.opts.maxElementChainDisplay||7;let t=this.getParents(this.element);let r="";if(t.length>e){r=e>1?"... > ":"";t=t.slice(t.length-e)}const i=t.map(this.opts.getTagName).join(" > ");const o=this.opts.targetElementDescFormatter||U;const a=n.escape(o(this.element));const s=`<span>${r}${i}</span><span class="element-descriptor">${a}</span>`;if(N()){this.setElementChainText(s)}else{m.updateElementChainText(s)}}writeStylesheet(...e){const t=document.createElement("style");t.innerHTML=e.join("\n");document.getElementsByTagName("head")[0].appendChild(t);this.stylesheetInHead=t}}t.DomOutline=z;m.DomOutline=z},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sfdcRecorderConstants=void 0;const n=r(388);const i=r(389);const o=[".slds-form__item",".forcePageBlockItem",".pageBlockItemView","record_flexipage-record-field",...n.sfdcControlSelectorsLWC,...i.sfdcControlSelectorsAura];const a=[".runtime_sales_activitiesTaskReminderCreate",".runtime_sales_activitiesBaseActivityRecurringCreate",".forceVirtualCheckbox"];const s=[...o,".uiRadioMenuItem",".uiDatePicker",".uiInputTimePicker",".forceSearchLookupAdvanced"];const u=[...a,".inline-edit-trigger",".changeRecordTypeLink",".change-owner-trigger",".inline-edit-undo",".inlineEditUndo",".expandLinks",".itemContainer.createNew",'lightning-base-combobox-item[data-value="actionCreateNew"]',".slds-combobox_object-switcher",".entityMenu"];t.sfdcRecorderConstants={SFDC_RECORDING_STATE:"testim:sfdc:recording-state",sfdcFieldSelectors:o,sfdcUnhandledFieldSelectors:a,sfdcHandledElementSelectors:s,sfdcUnhandledElementSelectors:u,sfdcControlSelectorsAura:i.sfdcControlSelectorsAura,sfdcControlSelectorsLWC:n.sfdcControlSelectorsLWC}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sfdcControlSelectorsLWC=void 0;t.sfdcControlSelectorsLWC=["records-record-picklist","support-lwc-input-case-status","sfa-input-stage-name","sfa-input-opportunity-currency","lightning-input","sfa-input-opportunity-amount","records-record-layout-base-input","records-record-layout-lookup","records-record-layout-checkbox","records-record-layout-text-area","records-record-layout-rich-text","records-record-layout-input-date-time","records-record-layout-input-location","records-record-layout-input-address","records-record-layout-input-name","one-suggested-accounts","force-owner-lookup","lightning-formatted-text","lightning-formatted-time","lightning-formatted-url","force-custom-link-url","emailui-formatted-email","lightning-formatted-number","lightning-formatted-phone","lightning-formatted-rich-text","force-lookup","records-modstamp","sfa-output-opportunity-amount","sfa-output-opportunity-currency","lightning-formatted-location","lightning-formatted-name","lightning-formatted-address","records-record-type","records-formula-output","sfa-input-forecast-category","sfa-output-forecast-category","emailui-formatted-email-case","emailui-formatted-email-contact","emailui-formatted-email-lead","emailui-formatted-email-wrapper","lightning-picklist","lightning-grouped-combobox"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sfdcControlSelectorsAura=void 0;t.sfdcControlSelectorsAura=[".uiInput--compound",".uiInput",".emailuiFormattedEmail",".forceOutputLookup",".forceOutputLookupWithPreview",".forceOutputOwnerIdLookupWithChangeLink",".forceOutputPhone",".forceOutputURL",".forceSearchInputLookupDesktop",".forceTextEnumLookup",".forceInputPicklist",".supportInputTextArea",".uiInputCheckbox",".uiInputDate",".uiInputDateTime",".uiInputEmail",".uiInputNumber",".uiInputPhone",".uiInputSelect",".uiInputText",".uiInputTextArea",".uiInputURL",".uiOutputCheckbox",".uiOutputDate",".uiOutputDateTime",".uiOutputNumber",".uiOutputText",".uiOutputTextArea"]},function(e,t,r){"use strict";r.r(t);t["default"]='export default __webpack_public_path__ + "ca67fdbebb.svg";'},function(e,t,r){"use strict";r.r(t);t["default"]='export default __webpack_public_path__ + "f1de9550db.svg";'},function(e,t,r){"use strict";r.r(t);t["default"]='export default __webpack_public_path__ + "e94dd89ce7.svg";'},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o,a;Object.defineProperty(t,"__esModule",{value:true});t.MirroringGesturesLayer=void 0;const s=r(13);const u=r(90);const l=r(7);const c=r(11);const f=r(16);const h=r(40);const d=r(8);const p=r(135);const v=r(22);const m=r(55);const g=r(43);const y=r(56);const b=r(48);const _="#59d7ff";const w="#E65EC2";const E="magenta";let S=class e{get canvasRect(){var e;return(e=this.canvasRef.current)===null||e===void 0?void 0:e.getBoundingClientRect()}constructor(e,t){this.recordingService=e;this.messagingService=t;this.position={start:{x:0,y:0},current:{x:0,y:0},end:{x:0,y:0}};this.isGettingGesture=false;this.isMouseDown=false;this.canHighlightElements=true;this.onMouseDown=e=>{e.preventDefault();e.stopPropagation();this.isGettingGesture=true;this.isMouseDown=true;const{x:t,y:r}=this.relativePoint(e);this.position.start.x=t;this.position.start.y=r;if(this.pendingClear){window.clearTimeout(this.pendingClear);this.partialClear()}};this.onMouseMove=e=>{e.preventDefault();e.stopPropagation();const t=this.relativePoint(e);this.position.current=t;if(this.isMouseDown){this.fullClear();if(this.isDragDistance){this.drawCurrentLine();this.drawArrowHeadOfCurrentLine()}this.captureImage()}if(this.canHighlightElements){this.highlightHoveredElement({x:e.clientX,y:e.clientY})}};this.onMouseOut=()=>{this.isMouseDown=false;this.progressiveClear()};this.onMouseUp=e=>{e.preventDefault();e.stopPropagation();this.isMouseDown=false;const{x:t,y:r}=this.relativePoint(e);this.position.end.x=t;this.position.end.y=r;const{width:n,height:i}=this.canvasRef.current;const o=this.recordingService.device;if(this.isDragDistance){if(this.isGettingGesture){this.isGettingGesture=false}const e={xFromRatio:this.position.start.x/n,yFromRatio:this.position.start.y/i,xToRatio:this.position.end.x/n,yToRatio:this.position.end.y/i};const{appiumWidth:t,appiumHeight:r}=o;const a={from:{x:e.xFromRatio*t,y:e.yFromRatio*r},to:{x:e.xToRatio*t,y:e.yToRatio*r}};const s={from:this.position.start,to:this.position.end};this.props.onSwipe({appiumScaled:a,deviceScaled:s,pointsRatio:e})}else{const e=n/o.width;const a=i/o.height;const s={widthScaling:e,heightScaling:a};if(g.deviceFromParams.from==="TVC"){s.widthScaling*=g.deviceFromParams.scaleFactor;s.heightScaling*=g.deviceFromParams.scaleFactor}this.props.onTap({x:t,y:r,scales:s})}this.progressiveClear()};this.highlightHoveredElement=(0,c.throttle)((e=>{const{screenImageHighlight:t,nodeName:r}=this.recordingService.elementFromPoint(e,"metadata")||{};const n=(0,p.isTextElement)(r||"")?w:_;this.highlightRect(t,n)}),100);this.highlightRect=(0,c.throttle)(((e,t)=>{if(!(0,c.isEqual)(e,this.previousScreenImageHighlight)){this.fullClear()}if(!e){return}this.previousScreenImageHighlight=e;const r=this.recordingService.device;const{width:n,height:i}=this.canvasRef.current;const o=r.width/n;const a=r.height/i;this.ctx.save();this.ctx.strokeStyle=t;this.ctx.strokeRect(e.left/o,e.top/a,e.width/o,e.height/a);this.ctx.restore()}),100);this.highlightMobileLocator=({data:e})=>{const{locateStep:t}=e;if(!(t.mobileLocator instanceof b.MobileLocator)){t.mobileLocator=b.MobileLocatorFactory.createAndFillMobileLocatorDataRecursive(t.mobileLocator)}const r=t.xpath||t.mobileLocator.xpath.currentValue;const n=this.recordingService.getElementBoundsByXpath(r);if(typeof n==="string"){console.warn(`Failed to highlight located element - ${n}`);return}this.highlightRect(n,E);setTimeout((()=>this.fullClear()),3e3)};this.toggleHighlightElements=({data:e})=>{this.canHighlightElements=e};t.addEventListener(l.AUT.HIGHLIGHT_LOCATOR,this.highlightMobileLocator);t.addEventListener(l.commonConstants.scenario.TOGGLE_HIGHLIGHT_MOBILE,this.toggleHighlightElements)}dispose(){this.messagingService.removeEventListener(l.AUT.HIGHLIGHT_LOCATOR,this.highlightMobileLocator);this.messagingService.removeEventListener(l.commonConstants.scenario.TOGGLE_HIGHLIGHT_MOBILE,this.toggleHighlightElements)}get deviceId(){return g.deviceFromParams.udid}get distanceFromStartToCurrent(){return Math.hypot(this.position.start.x-this.position.current.x,this.position.start.y-this.position.current.y)}get isDragDistance(){return this.distanceFromStartToCurrent>20}async init(e){this.canvasRef=e;this.ctx=e.current.getContext("2d");if(false){}}captureImage(){const{width:e,height:t}=this.canvasRef.current;this.imgData=this.ctx.getImageData(0,0,e,t)}drawArrowHeadOfCurrentLine(){const e=Math.atan2(this.position.start.y-this.position.current.y,this.position.start.x-this.position.current.x)+Math.PI/2;this.ctx.save();this.ctx.beginPath();const t=20;const r=Math.PI/1.3;const n=t*Math.cos(e-r);const i=t*Math.sin(e-r);this.ctx.moveTo(this.position.current.x,this.position.current.y);this.ctx.lineTo(this.position.current.x+n,this.position.current.y+i);const o=t*Math.cos(e+r);const a=t*Math.sin(e+r);this.ctx.moveTo(this.position.current.x,this.position.current.y);this.ctx.lineTo(this.position.current.x-o,this.position.current.y-a);this.ctx.lineWidth=5;this.ctx.strokeStyle=_;this.ctx.lineCap="round";this.ctx.stroke();this.ctx.restore()}drawCurrentLine(){this.ctx.save();this.ctx.beginPath();this.ctx.moveTo(this.position.start.x,this.position.start.y);this.ctx.lineTo(this.position.current.x,this.position.current.y);this.ctx.lineWidth=5;this.ctx.strokeStyle=_;this.ctx.lineCap="round";this.ctx.stroke();this.ctx.restore()}fullClear(){const{width:e,height:t}=this.canvasRef.current;this.ctx.clearRect(0,0,e,t)}partialClear(e=.65){const t=this.imgData;if(!t){this.fullClear();return}for(let r=0;r<t.data.length;r+=4){t.data[r+3]=Math.round(t.data[r+3]*e)}this.fullClear();this.ctx.putImageData(t,0,0)}progressiveClear(){this.schedulePartialClear(150);this.schedulePartialClear(300);this.schedulePartialClear(450);this.schedulePartialClear(600);this.scheduleClear(800)}scheduleClear(e){this.pendingClear=window.setTimeout((()=>{this.fullClear();this.pendingClear=undefined}),e)}schedulePartialClear(e){this.pendingClear=window.setTimeout((()=>{this.partialClear();this.pendingClear=undefined}),e)}relativePoint(e){const{clientX:t,clientY:r}=e.nativeEvent;const{top:n,left:i}=this.canvasRect;return{x:t-i,y:r-n}}};S=n([(0,f.injectable)(),i("design:paramtypes",[typeof(o=typeof m.RecordingService!=="undefined"&&m.RecordingService)==="function"?o:Object,typeof(a=typeof y.MessagingService!=="undefined"&&y.MessagingService)==="function"?a:Object])],S);t.MirroringGesturesLayer=(0,v.observer)((e=>{const t=(0,d.useRef)(null);const r=(0,h.useLocalStoreWithInjectedDependencies)(S);const n=(0,h.useDependencyInjector)(m.RecordingService);(0,d.useLayoutEffect)((()=>{r.init(t)}),[r]);(0,d.useEffect)((()=>{r.props=e}),[r,e]);return(0,s.jsx)("canvas",{ref:t,width:n.currentWidth,height:n.currentHeight,className:u.default.canvas,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onMouseMove:r.onMouseMove,onMouseOut:r.onMouseOut})}))},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(395),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SplashScreen=void 0;const n=r(13);const i=r(8);const o=r(22);const a=r(396);const s=r(397);const u=r(136);t.SplashScreen=(0,o.observer)((({message:e})=>{const t=a.default.fadeInMessage;let r;const l=(0,o.useLocalStore)((()=>({messageText:undefined,messageClassName:undefined,handleMessageChange(e){if(!this.messageClassName){this.messageText=e;this.messageClassName=t}else{if(r){clearTimeout(r)}this.messageClassName=a.default.fadeOutMessage;r=setTimeout((()=>{this.messageText=e;this.messageClassName=t}),1e3)}}})));(0,i.useEffect)((()=>{l.handleMessageChange(e)}),[e]);return(0,n.jsx)(u.LoadingScreen,{image:s.default,header:"Ready for testing?",message:(0,n.jsx)("div",{className:l.messageClassName,children:l.messageText})})}))},function(e,t,r){"use strict";r.r(t);t["default"]={fadeInMessage:"SplashScreen_fadeInMessage_21qUj_hTY3JlZW4t",textFadeInAndOut:"SplashScreen_textFadeInAndOut_22KOZ_hTY3JlZW4t",fadeOutMessage:"SplashScreen_fadeOutMessage_1uaLJ_hTY3JlZW4t",textFadeOut:"SplashScreen_textFadeOut_3-4xO_hTY3JlZW4t"}},function(e,t,r){"use strict";r.r(t);t["default"]=r.p+"426287bb9c.gif"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LoadingScreen=void 0;const n=r(13);const i=r(22);const o=r(8);const a=r(40);const s=r(55);const u=r(399);const l=280;const c=20;const f={BIG:50,SMALL:10};t.LoadingScreen=(0,i.observer)((({header:e,message:t,image:r})=>{const i=(0,a.useDependencyInjector)(s.RecordingService);const o=i.currentHeight>=500?f.BIG:f.SMALL;const h=typeof t==="string"?o:0;const d=i.currentHeight/4-o;const p=i.currentHeight/2-(o+h+c);const v=i.currentWidth-64;return(0,n.jsxs)("div",{style:{width:i.currentWidth,height:i.currentHeight,paddingTop:d},className:u.default.loadingScreen,children:[i.currentHeight>=l&&(0,n.jsx)("img",{src:r,style:{maxHeight:p,maxWidth:v}}),(0,n.jsx)("div",{className:u.default.header,style:{marginTop:o},children:e}),(0,n.jsx)("div",{className:u.default.message,style:{marginTop:h},children:t})]})}));t.LoadingScreen.displayName="LoadingScreen"},function(e,t,r){"use strict";r.r(t);t["default"]={loadingScreen:"LoadingScreen_loadingScreen_6cMLS_dTY3JlZW4t",header:"LoadingScreen_header_fEDfJ_dTY3JlZW4t",message:"LoadingScreen_message_2pSVN_dTY3JlZW4t"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(401),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TextInputPrompt=void 0;const n=r(13);const i=r(402);const o=r(403);const a=r(404);const s=r(75);const u=(0,n.jsx)("svg",{fill:"#3D5AFE",stroke:"white",width:"38",height:"38",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,n.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,n.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),(0,n.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:(0,n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})});const l=({value:e,isLoading:t,onChange:r,onAccept:l,onCancel:c})=>{const f=e=>{if(e.target===e.currentTarget&&!t){c===null||c===void 0?void 0:c()}};return(0,n.jsx)("div",{className:(0,s.default)(i.default.textInputPromptOverlay,t&&i.default.isLoading),onClick:f,children:(0,n.jsxs)("div",{className:i.default.textInputPrompt,children:[(0,n.jsxs)("div",{className:i.default.promptTitleRow,children:["SET CUSTOM TEXT",(0,n.jsx)("button",{className:i.default.xButton,onClick:c,children:(0,n.jsx)("svg",{width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M14 1.4 12.6 0 7 5.6 1.4 0 0 1.4 5.6 7 0 12.6 1.4 14 7 8.4l5.6 5.6 1.4-1.4L8.4 7 14 1.4Z",fill:"#1B2331"})})})]}),(0,n.jsxs)("div",{className:i.default.inputRow,children:[(0,n.jsx)(a.Textbox,{className:i.default.textBox,value:e,onChange:r,placeholder:"Insert your text here",disabled:t,autoFocus:true}),(0,n.jsx)("button",{className:i.default.acceptPromptButton,onClick:l,children:t?u:(0,n.jsx)("img",{src:o.default})})]})]})})};t.TextInputPrompt=l},function(e,t,r){"use strict";r.r(t);t["default"]={textInputPromptOverlay:"TextInputPrompt_textInputPromptOverlay_2Txkx_RQcm9tcHQt",textInputPrompt:"TextInputPrompt_textInputPrompt_3oqd6_RQcm9tcHQt",xButton:"TextInputPrompt_xButton_1pk04_RQcm9tcHQt",promptTitleRow:"TextInputPrompt_promptTitleRow_3mPir_RQcm9tcHQt",inputRow:"TextInputPrompt_inputRow_CT98H_RQcm9tcHQt",textBox:"TextInputPrompt_textBox_2dy2Y_RQcm9tcHQt",acceptPromptButton:"TextInputPrompt_acceptPromptButton_2jo4I_RQcm9tcHQt",isLoading:"TextInputPrompt_isLoading_3R4AC_RQcm9tcHQt"}},function(e,t,r){"use strict";r.r(t);t["default"]=r.p+"854b58102b.svg"},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(405),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Textbox=void 0;const n=r(13);const i=r(8);const o=r(406);const a=r(75);t.Textbox=i.forwardRef((({variety:e,hasError:t,className:r,...i},s)=>{const u=(0,a.default)(o.default.textField,e?o.default[e]:"",{[o.default.borderRed]:t},r);return(0,n.jsx)("input",{className:u,ref:s,...i})}));t.Textbox.displayName="Textbox"},function(e,t,r){"use strict";r.r(t);t["default"]={textField:"textbox_textField_2SD96_RleHRib3gt","--error":"textbox_--error_1Xgvz_RleHRib3gt",error:"textbox_--error_1Xgvz_RleHRib3gt",black:"textbox_black_lhJcA_RleHRib3gt",borderRed:"textbox_borderRed_2dg6P_RleHRib3gt",propertyPanelMedium:"textbox_propertyPanelMedium_CDVxw_RleHRib3gt"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(408),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DeviceDisconnectedScreen=void 0;const n=r(13);const i=r(409);const o=r(22);const a=r(136);t.DeviceDisconnectedScreen=(0,o.observer)((({isRecordingDeviceDisconnected:e})=>{const t=e?"Make sure your device is connected or record a new session with another device":"Device got disconnected";return(0,n.jsx)(a.LoadingScreen,{image:i.default,header:"Device unavailable",message:t})}))},function(e,t,r){"use strict";r.r(t);t["default"]=r.p+"930bf888ba.png"},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:true});t.downloadFile=t.getSlackLoginUrl=t.openPopupAndWait=t.openNewPopupWindow=t.copyToClipboard=t.isInEditor=t.stepPathTemplate=t.testPathTemplate=t.isPlaygroundModeState=t.isEditorForceMode=t.isPlaygroundState=t.processSigInWithEmailAndPasswordErrorMessage=t.processSignErrorForMessage=t.useHorizontalCollapse=t.useMeasuredBoundingRect=t.useAsyncLayoutEffect=t.useAsyncEffect=t.useClickOutside=void 0;const i=r(8);const o=r(6);const a=r(7);const s=r(9);const u=o.Logger.getLogger("componentsUtils");const l=["click"];const c=[];function f({callback:e,activate:t,events:r=l,eventListenerOptions:n=true,onlyOnce:o=true,ignoredElements:a=c}){const s=(0,i.useRef)(null);(0,i.useEffect)((()=>{const i=t=>{const r=[...a,s].some((e=>{var r;return(r=e.current)===null||r===void 0?void 0:r.contains(t.target)}));if(r){return}if(o){u()}e(t)};function u(){r.forEach((e=>document.removeEventListener(e,i,n)))}if(t){r.forEach((e=>document.addEventListener(e,i,n)))}else{u()}return()=>u()}),[t,r,e,n,o,a]);return s}t.useClickOutside=f;function h(e,t,r){(0,i.useEffect)((()=>{let r;let n=true;const i=e((()=>n));Promise.resolve(i).then((e=>{r=e}));return()=>{n=false;if(typeof t==="function"){t(r)}}}),typeof t==="function"?r:t)}t.useAsyncEffect=h;function d(e,t,r){(0,i.useLayoutEffect)((()=>{let r;let n=true;const i=e((()=>n));Promise.resolve(i).then((e=>{r=e}));return()=>{n=false;if(typeof t==="function"){t(r)}}}),typeof t==="function"?r:t)}t.useAsyncLayoutEffect=d;const p=e=>{const[t,r]=(0,i.useState)(new DOMRect);(0,i.useEffect)((()=>{const t=()=>{const t=e.current?e.current.getBoundingClientRect():new DOMRect;r(t)};const n=new ResizeObserver((()=>t()));if(e.current){n.observe(e.current)}t();return()=>n.disconnect()}),[e]);return{boundingRect:t}};t.useMeasuredBoundingRect=p;const v=({requiredContentWidthPx:e})=>{const[r,n]=(0,i.useState)(false);const o=(0,i.useRef)(null);const{boundingRect:a}=(0,t.useMeasuredBoundingRect)(o);(0,i.useEffect)((()=>{const t=a.width;n(t+1<e)}),[a,e]);return{isCollapsed:r,containerRef:o}};t.useHorizontalCollapse=v;const m=e=>{const t=e===null||e===void 0?void 0:e.code;if(t===a.serverResponses.USER_EXISTS_ERROR){return"An account for this email already exists."}if(t===a.serverResponses.USER_EXISTS_DIFFERENT_PROVIDER_ERROR){return"You already signed up with a different method."}if(t===a.serverResponses.NOT_WORK_EMAIL){return"Signup failed. Personal emails are not supported."}if(t===a.serverResponses.USER_DISABLED_ERROR){return"The account for this email id disabled."}u.error("Failed to login with provider",t,e);return"Please try again later."};t.processSignErrorForMessage=m;const g=e=>{const t=e===null||e===void 0?void 0:e.code;if(t===a.serverResponses.USER_SSO_FORCED){return"You already signed up with a different method."}u.error("Failed to login with email and password",t,e);return"The email and/or password entered are incorrect."};t.processSigInWithEmailAndPasswordErrorMessage=g;const y=(e={})=>{const{embedMode:t,exportPlaywright:r,exportPuppeteer:n,projectId:i}=e;return Boolean(t||r||n)||i===a.commonConstants.defaults.FAKE_CODE_PROJECT_ID};t.isPlaygroundState=y;t.isEditorForceMode=typeof window!=="undefined"&&(((n=window.location)===null||n===void 0?void 0:n.host)==="force.testim.io"&&!localStorage.getItem("disableEditorForceMode")||Boolean(localStorage.getItem("editorForceMode")));const b=e=>(0,t.isPlaygroundState)(e.params);t.isPlaygroundModeState=b;t.testPathTemplate="/project/:projectId/branch/:branch/test/:testId";t.stepPathTemplate="/project/:projectId/branch/:branch/test/:testId/step/:stepId";const _=e=>e.startsWith(t.testPathTemplate);t.isInEditor=_;const w=e=>{const t=document.createElement("textarea");t.value=e;t.style.position="fixed";document.body.appendChild(t);t.focus();t.select();document.execCommand("copy");document.body.removeChild(t)};t.copyToClipboard=w;const E=(e="",t,r)=>{const n=(window.screen.availHeight-r)/2;const i=(window.screen.availWidth-t)/2;const o={width:t,height:r,top:n>0?n:0,left:i>0?i:0,location:true,resizable:true,statusbar:true,toolbar:false};const a=Object.entries(o).map((([e,t])=>`${e}=${Number(t)}`)).join(",");const s=window.open(e,"_blank",a);if(s){try{s.focus()}catch(e){u.warn("Caught error while trying to focus on new window",{error:e})}}return s};t.openNewPopupWindow=E;const S=async(e,r=500,n=600,i)=>{const o=120*1e3;const a=(0,t.openNewPopupWindow)(e,r,n);let u;let l;let c=true;const f=new Promise(((e,t)=>{u=t=>{c=false;e(t)};l=e=>{c=false;t(e)}}));const h=e=>{if(e.data&&c&&(!i||e.data.eventId===i)){if(e.data.success){u(e.data)}else{l(e.data)}if(a){a.close()}}};const d=setInterval(p,1e3);function p(){if((a===null||a===void 0?void 0:a.closed)&&c){l(new Error("popup-closed"))}}window.addEventListener("message",h);try{return await s.utils.promiseTimeout(f,o)}finally{clearInterval(d);window.removeEventListener("message",h)}};t.openPopupAndWait=S;const T=(e,t="5076786919.191811168726")=>{const r="https://slack.com/oauth/v2/authorize";const n="channels:read,chat:write,chat:write.public,groups:read";return`${r}?client_id=${t}&scope=${n}&state=${e}`};t.getSlackLoginUrl=T;const A=(e,t,r,n)=>{if(n){n.stopPropagation();n.preventDefault()}const i=document.createElement("a");i.download=e;i.href=t;i.rel="noopener noreferrer";i.type=r;window.isOurOwnDownload=true;setTimeout((()=>{window.isOurOwnDownload=false}),1);i.click()};t.downloadFile=A},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:true});t.MobileSwipeStep=t.DEFAULT_SWIPE_WAIT=t.getSwipeDataVerticalLength=t.getSwipeDataVerticalDirection=void 0;const o=r(412);const a=r(0);const s=e=>{if(e.appiumScaled.from.y===e.appiumScaled.to.y)return undefined;return e.appiumScaled.from.y<e.appiumScaled.to.y?"up":"down"};t.getSwipeDataVerticalDirection=s;const u=e=>Math.abs(e.appiumScaled.from.y-e.appiumScaled.to.y);t.getSwipeDataVerticalLength=u;t.DEFAULT_SWIPE_WAIT=1500;class l extends o.MobileStep{_update(e){if(Object.hasOwn(e,"from")&&e.from){this.from=e.from}if(Object.hasOwn(e,"to")&&e.to){this.to=e.to}if(Object.hasOwn(e,"duration")&&e.duration){this.duration=e.duration}if(Object.hasOwn(e,"pointsRatio")&&e.pointsRatio){this.pointsRatio=e.pointsRatio}return super._update(e)}getThumbnailElement(){return this.element}getDisplayName(){return"Swipe"}getFriendlyName(){return"Swipe"}getIcon(){return"swipe-2"}getSerializableObject(e){return{...super.getSerializableObject(e),from:this.from,to:this.to,duration:this.duration,pointsRatio:this.pointsRatio}}hasTimeoutOverrideOption(){return true}getTestimDocsUrl(){return"https://www.example.com/"}}t.MobileSwipeStep=l;n([a.observable,i("design:type",Object)],l.prototype,"from",void 0);n([a.observable,i("design:type",Object)],l.prototype,"to",void 0);n([a.observable,i("design:type",Number)],l.prototype,"duration",void 0);n([a.observable,i("design:type",Object)],l.prototype,"pointsRatio",void 0)},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:true});t.MobileStep=void 0;const o=r(0);const a=r(413);const s=r(138);const u=r(48);const l=r(416);class c extends s.Step{_update(e){var t;if((t=e.element)===null||t===void 0?void 0:t.mobileLocator){e.element.mobileLocator=u.MobileLocatorFactory.getUpdatedLocatorDataForBackwardCompatibility(e.element.mobileLocator)}if(e.recordedDevice){this.recordedDevice=e.recordedDevice}if(e.recordedApp){this.recordedApp=e.recordedApp}this.updateElement(e.element);return super._update(e)}updateElement(e){if(!e){return}if(this.element instanceof l.MobileLocateStep){this.element.update(e)}else{this.element=a.stepBuilder.buildStepFromData(e)}}getSerializableObject(e){return{...super.getSerializableObject(e),...this.element instanceof l.MobileLocateStep&&{element:this.element.getSerializableObject(e)},recordedDevice:this.recordedDevice,recordedApp:this.recordedApp}}get ignoreTopFrame(){return true}get ignoreFrameRetries(){return true}}t.MobileStep=c;n([o.observable.ref,i("design:type",Object)],c.prototype,"element",void 0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.stepBuilder=void 0;const n=r(11);const i=r(9);const o=r(137);const a=r(414);const s=i.utils.guid;function u(e,t){const r=(0,a.getStepClass)(t);if(!r){throw new Error(`Could not find a class for type '${t}'`)}return new r(e,t)}class l{migrateEvaluateText(e){if(e.type==="evaluate-text"){e.type="evaluate-expression";e.subType=o.expressionSubType.EXPRESSION}return e}migrateEvaluateExpressionOfText(e){if(e.type==="evaluate-expression"&&e.subType===o.expressionSubType.TEXT){e.subType=o.expressionSubType.EXPRESSION;e.expression=i.utils.escapeText(e.expression)}return e}migrateElementValidationForceVisibility(e){const t=["element-validation","wait-for-element-validation"];if(t.includes(e.type)&&e.element&&typeof e.element.forceVisibility!=="boolean"){e.element.forceVisibility=true}return e}migrateScriptElementParameterForceVisibility(e){(e.parameterValues||[]).forEach((t=>{if(e.subType!=="elementText"&&t.type==="locate"){t.forceVisibility=false}}));return e}migrateElementTextWithTextAndNoExpression(e){if(e.type==="text"&&e.text&&!e.expression){delete e.text}return e}migrateNavigationStep(e){if(e.type==="navigation"&&e.url&&!e.expression){e.expression=i.utils.escapeText(e.url);delete e.url}return e}migratePixelValidationStep(e,t){var r;if(!i.utils.isUiVerificationStep(e.type)){return e}const{applitoolsData:n}=e;const o=(n===null||n===void 0?void 0:n.matchLevel)&&n.overrideTestApplitoolsSettings===undefined&&parseFloat(n._version||n.version)<2;if(o){n.overrideTestApplitoolsSettings=true}if(t===null||t===void 0?void 0:t.newApplitoolsTestId){const t={id:i.utils.guid(),count:0};e.applitoolsTestId=t;(r=e).applitoolsData||(r.applitoolsData={});e.applitoolsData.testId=t}return e}softStepDataMigration(e,t){const r=[this.migrateEvaluateText,this.migrateElementValidationForceVisibility,this.migrateEvaluateExpressionOfText,this.migrateElementTextWithTextAndNoExpression,this.migrateNavigationStep,this.migrateScriptElementParameterForceVisibility,this.migratePixelValidationStep];return r.reduce(((e,r)=>r(e,t)),e)}buildStepFromData(e,t={}){var r;const i=e.type;if(!i){return null}e=this.softStepDataMigration(e,t);const o=t.id||!t.newId&&e.id||s();const a=u(o,i);const l=Object.assign({},t,{dirty:false});e.location||(e.location=t.location||"");e.condition=e.condition?this.buildStepFromData(e.condition,l):undefined;e.whileLoop=e.whileLoop?this.buildStepFromData(e.whileLoop,l):undefined;a.update(e);if(t.dirty===false){a.resetDirty()}if(a.isGroupStep){const i=((r=e.steps)===null||r===void 0?void 0:r.filter(n.isObject))||[];i.forEach((e=>{const r=n.cloneDeep(t);const i=this.buildStepFromData(e,r);a.addStep(i)}))}return a}}t.stepBuilder=new l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getStepClass=t.registerStep=void 0;const n=new Map;function i(e,t){n.set(e,t)}t.registerStep=i;function o(e){return n.get(e)}t.getStepClass=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.maskHiddenParams=void 0;const n=r(7);function i(e,t){if(!e){return undefined}const r=Object.assign({},e);const i=new Set(t||[]);Object.keys(r).forEach((e=>{const t=r[e]===n.commonConstants.test.HIDDEN_PARAM||i.has(e);r[e]=t?"*****":r[e]}));return r}t.maskHiddenParams=i},function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,a;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)if(a=e[s])o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o;return i>3&&o&&Object.defineProperty(t,r,o),o};var i=this&&this.__metadata||function(e,t){if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(e,t)};var o;Object.defineProperty(t,"__esModule",{value:true});t.MobileLocateStep=void 0;const a=r(0);const s=r(138);const u=r(48);class l extends s.Step{_update(e){var t,r;if(e.id){this.id=e.id}if(Object.hasOwn(e,"elementPositionInfoAtRecording")){this.elementPositionInfoAtRecording=e.elementPositionInfoAtRecording}if(e.thumbnailInfo){const r=e.thumbnailInfo.elementArea||((t=this.thumbnailInfo)===null||t===void 0?void 0:t.elementArea)||{height:0,width:0,left:0,top:0,pixelRatio:1};this.thumbnailInfo={image:e.thumbnailInfo.image,elementArea:{height:Math.round(r.height),width:Math.round(r.width),left:Math.round(r.left),top:Math.round(r.top),pixelRatio:r.pixelRatio}}}if(Object.hasOwn(e,"xpath")){this.xpath=(r=e.xpath)!==null&&r!==void 0?r:""}const n=Object.hasOwn(e,"element")&&e.element.mobileLocator||Object.hasOwn(e,"mobileLocator")&&e.mobileLocator;if(n){this.mobileLocator=u.MobileLocatorFactory.createAndFillMobileLocatorDataRecursive(n)}if(Object.hasOwn(e,"forceVisibility")){this.forceVisibility=Boolean(e.forceVisibility)}if(Object.hasOwn(e,"disableForceVisibility")){this.disableForceVisibility=Boolean(e.disableForceVisibility)}if(Object.hasOwn(e,"wasReassigned")){this.wasReassigned=Boolean(e.wasReassigned)}if(Object.hasOwn(e,"wasChangedManually")){this.wasChangedManually=Boolean(e.wasChangedManually)}return super._update(e)}getDisplayName(){return"Locate Element"}getSerializableObject(e){return{...super.getSerializableObject(e),xpath:this.xpath,elementPositionInfoAtRecording:this.elementPositionInfoAtRecording,thumbnailInfo:this.thumbnailInfo,mobileLocator:this.mobileLocator,forceVisibility:this.forceVisibility,disableForceVisibility:this.disableForceVisibility,wasReassigned:this.wasReassigned,wasChangedManually:this.wasChangedManually}}}t.MobileLocateStep=l;n([a.observable.shallow,i("design:type",Object)],l.prototype,"elementPositionInfoAtRecording",void 0);n([a.observable.shallow,i("design:type",Object)],l.prototype,"thumbnailInfo",void 0);n([a.observable.ref,i("design:type",typeof(o=typeof u.MobileLocator!=="undefined"&&u.MobileLocator)==="function"?o:Object)],l.prototype,"mobileLocator",void 0);n([a.observable.ref,i("design:type",Boolean)],l.prototype,"forceVisibility",void 0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DeviceMirroringControlBar=void 0;const n=r(13);const i=r(22);const o=r(418);const a=r(419);t.DeviceMirroringControlBar=(0,i.observer)((({deviceMirroringLocalStore:e})=>{if(e.isLoadingApp||!e.isDeviceConnected){return null}return(0,n.jsx)("div",{className:a.default.controlBarWrapper,children:e.isRecording&&(0,n.jsxs)("div",{className:a.default.recWrapper,children:[(0,n.jsx)("div",{className:a.default.fadeInImage,children:(0,n.jsx)("img",{className:a.default.recImage,src:o.default,alt:"Record indicator"})}),(0,n.jsx)("span",{className:a.default.recText,children:"REC"})]})})}))},function(e,t,r){"use strict";r.r(t);t["default"]=r.p+"9942412595.svg"},function(e,t,r){"use strict";r.r(t);t["default"]={recText:"ControlBar_recText_2bdSZ_Jyb3Jpbmct",recWrapper:"ControlBar_recWrapper_3Euyg_Jyb3Jpbmct",recImage:"ControlBar_recImage_1YwSw_Jyb3Jpbmct",controlBarWrapper:"ControlBar_controlBarWrapper_1iBJV_Jyb3Jpbmct",fadeInImage:"ControlBar_fadeInImage_1qNz0_Jyb3Jpbmct",fadeInOut:"ControlBar_fadeInOut_3k0Rw_Jyb3Jpbmct"}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__exportStar||function(e,t){for(var r in e)if(r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r))n(t,e,r)};Object.defineProperty(t,"__esModule",{value:true});i(r(421),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Loader=void 0;const n=r(13);const i=r(8);const o=r(422);const a=r(75);const s=r(8);const u=({className:e,showAfter:t,marginAuto:r})=>{const[u,l]=i.useState(Boolean(t));(0,s.useLayoutEffect)((()=>{if(t){const e=setTimeout((()=>l(false)),t);return()=>clearTimeout(e)}if(u){l(false)}return undefined}),[t,u]);if(u){return null}return(0,n.jsxs)("div",{className:(0,a.default)(o.default.ldsEllipsis,r&&o.default.marginAuto,e),children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})};u.displayName="DelayedLoader";const l=e=>{if(!e.showAfter){return(0,n.jsxs)("div",{className:(0,a.default)(o.default.ldsEllipsis,e.marginAuto&&o.default.marginAuto,e.className),children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{}),(0,n.jsx)("div",{})]})}return(0,n.jsx)(u,{...e})};t.Loader=l;t.Loader.displayName="Loader"},function(e,t,r){"use strict";r.r(t);t["default"]={ldsEllipsis:"Loader_ldsEllipsis_3VEUg_1Mb2FkZXIt","lds-ellipsis1":"Loader_lds-ellipsis1_RcnbC_1Mb2FkZXIt",ldsEllipsis1:"Loader_lds-ellipsis1_RcnbC_1Mb2FkZXIt","lds-ellipsis2":"Loader_lds-ellipsis2_3Dr8v_1Mb2FkZXIt",ldsEllipsis2:"Loader_lds-ellipsis2_3Dr8v_1Mb2FkZXIt","lds-ellipsis3":"Loader_lds-ellipsis3_xIyBo_1Mb2FkZXIt",ldsEllipsis3:"Loader_lds-ellipsis3_xIyBo_1Mb2FkZXIt",marginAuto:"Loader_marginAuto_2dO40_1Mb2FkZXIt"}}]);