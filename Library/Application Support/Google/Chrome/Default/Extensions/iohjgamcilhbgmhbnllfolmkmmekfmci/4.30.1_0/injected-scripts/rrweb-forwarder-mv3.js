(()=>{var e={76739:(e,t,n)=>{"use strict";n.d(t,{f7:()=>r,mC:()=>d,r5:()=>c,y:()=>u});var r,s=n(57252),i=n(11566),o=n(29238),a=n(63294);function c(e){var t=(0,s.pi)((0,s.pi)({},e),{onReady:function(e){e()}});return Object.defineProperty(t,"_setDebug",{get:function(){return o.yD},enumerable:!1}),t}function u(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return(0,a.Z)(e,"onReady callback threw an error:")()}))}function d(e,t){var n=(0,i._7)(e,t);return{configuration:n,internalMonitoring:(0,o.py)(n)}}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(r||(r={}))},89584:(e,t,n)=>{"use strict";n.d(t,{MI:()=>o,WQ:()=>g,ej:()=>u,fH:()=>a,oX:()=>l});var r,s=n(70882),i=n(65411),o=i.WT;function a(e,t){var n,r,s=!1,i=function(){s=!0,clearTimeout(n),n=setTimeout((function(){s=!1}),o)};return{get:function(){return s||(r=u(e),i()),r},set:function(n,s){c(e,n,s,t),r=n,i()}}}function c(e,t,n,r){var s=new Date;s.setTime(s.getTime()+n);var i="expires="+s.toUTCString(),o=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain="+r.domain:"",c=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+i+";path=/;samesite="+o+a+c}function u(e){return(0,i.MY)(document.cookie,e)}function d(e,t){c(e,"",0,t)}function l(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+(0,i.DO)(),n="test";c(t,n,i.WT,e);var r=u(t)===n;return d(t,e),r}catch(e){return s.j.error(e),!1}}function g(){if(void 0===r){for(var e="dd_site_test_"+(0,i.DO)(),t=window.location.hostname.split("."),n=t.pop();t.length&&!u(e);)n=t.pop()+"."+n,c(e,"test",i.WT,{domain:n});d(e,{domain:n}),r=n}return r}},99571:(e,t,n)=>{"use strict";n.d(t,{o:()=>m,z:()=>f});var r,s,i=n(57252),o=n(29238),a=n(29883),c=n(57604),u=n(80816),d=n(11627),l=[],g=[];function f(){return r||(window.fetch&&(s=window.fetch,window.fetch=function(e,t){var n,r=(0,o.L6)(p,null,[e,t]);return r?(n=s.call(this,r.input,r.init),(0,o.L6)(h,null,[n,r])):n=s.call(this,e,t),n}),r={beforeSend:function(e){l.push(e)},onRequestComplete:function(e){g.push(e)}}),r}function m(){r&&(r=void 0,l.splice(0,l.length),g.splice(0,g.length),window.fetch=s)}function p(e,t){var n=t&&t.method||"object"==typeof e&&e.method||"GET",r=(0,d.D5)("object"==typeof e&&e.url||e),s={init:t,input:e,method:n,startClocks:(0,u.$I)(),url:r};return l.forEach((function(e){return e(s)})),s}function h(e,t){var n=this,r=function(e){return(0,i.mG)(n,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return t.duration=(0,u._J)(t.startClocks.timeStamp,(0,u.n$)()),"stack"in e||e instanceof Error?(t.status=0,t.responseText=(0,c.P3)((0,a._t)(e)),t.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,t.error=e,g.forEach((function(e){return e(t)})),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];n=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return n=s.sent(),[3,5];case 4:return r=s.sent(),n="Unable to retrieve response: "+r,[3,5];case 5:t.response=e,t.responseText=n,t.responseType=e.type,t.status=e.status,t.isAborted=!1,g.forEach((function(e){return e(t)})),s.label=6;case 6:return[2]}}))}))};e.then((0,o.zk)(r),(0,o.zk)(r))}},89096:(e,t,n)=>{"use strict";n.d(t,{E:()=>m,h:()=>f});var r,s,i,o,a=n(57252),c=n(29238),u=n(80816),d=n(11627),l=[],g=[];function f(){return r||(s=XMLHttpRequest.prototype.open,i=XMLHttpRequest.prototype.send,o=XMLHttpRequest.prototype.abort,XMLHttpRequest.prototype.open=p,XMLHttpRequest.prototype.send=h,XMLHttpRequest.prototype.abort=v,r={beforeSend:function(e){l.push(e)},onRequestComplete:function(e){g.push(e)}}),r}function m(){r&&(r=void 0,l.length=0,g.length=0,XMLHttpRequest.prototype.open=s,XMLHttpRequest.prototype.send=i,XMLHttpRequest.prototype.abort=o)}function p(e,t){var n=this;return(0,c.L6)((function(){n._datadog_xhr={method:e,url:(0,d.D5)(t)}})),s.apply(this,arguments)}function h(){var e=this;return(0,c.L6)((function(){if(e._datadog_xhr){e._datadog_xhr.startTime=(0,u._q)(),e._datadog_xhr.startClocks=(0,u.$I)(),e._datadog_xhr.isAborted=!1;var t=!1,n=e.onreadystatechange,r=function(){this.readyState===XMLHttpRequest.DONE&&s(),n&&n.apply(this,arguments)},s=(0,c.zk)((function(){e.removeEventListener("loadend",s),e.onreadystatechange===r&&(e.onreadystatechange=n),t||(t=!0,y(e))}));e.onreadystatechange=r,e.addEventListener("loadend",s),l.forEach((function(t){return t(e._datadog_xhr,e)}))}})),i.apply(this,arguments)}function v(){var e=this;return(0,c.L6)((function(){e._datadog_xhr&&(e._datadog_xhr.isAborted=!0)})),o.apply(this,arguments)}function y(e){e._datadog_xhr.duration=(0,u._J)(e._datadog_xhr.startClocks.timeStamp,(0,u.n$)()),e._datadog_xhr.responseText=e.response,e._datadog_xhr.status=e.status,e._datadog_xhr.xhr=e,g.forEach((function(t){return t((0,a.pi)({},e._datadog_xhr))}))}},11566:(e,t,n)=>{"use strict";n.d(t,{_7:()=>u});var r=n(57252),s=n(89584),i=n(63294),o=n(65411),a=n(85912),c={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,trackViewsManually:!1,requestErrorResponseLengthLimit:32*o.Tn,flushTimeout:30*o.WT,maxBatchSize:50,maxMessageSize:256*o.Tn,batchBytesLimit:16*o.Tn};function u(e,t){var n=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],s=(0,r.pi)((0,r.pi)({beforeSend:e.beforeSend&&(0,i.Z)(e.beforeSend,"beforeSend threw an error:"),cookieOptions:d(e),isEnabled:function(e){return(0,o.q9)(n,e)},service:e.service},(0,a.hK)(e,t)),c);return"allowedTracingOrigins"in e&&(s.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(s.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(s.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(s.trackInteractions=!!e.trackInteractions),"trackViewsManually"in e&&(s.trackViewsManually=!!e.trackViewsManually),"actionNameAttribute"in e&&(s.actionNameAttribute=e.actionNameAttribute),s}function d(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=(0,s.WQ)()),t}},91289:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var r,s=n(57252),i=n(57604),o=n(80816),a=n(65411),c=n(29238),u=n(29883);function d(e){return r=console.error,console.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=(0,i.Xp)();(0,c.L6)((function(){r.apply(console,t),e.notify((0,s.pi)((0,s.pi)({},l(t,a)),{source:i.zH.CONSOLE,startClocks:(0,o.$I)(),handling:i.Xw.HANDLED}))}))},{stop:function(){console.error=r}}}function l(e,t){var n=(0,a.sE)(e,(function(e){return e instanceof Error}));return{message:(0,s.pr)(["console error:"],e).map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?(0,i.jN)((0,u._t)(e)):(0,a.lh)(e,void 0,2)}(e)})).join(" "),stack:n?(0,i.P3)((0,u._t)(n)):void 0,handlingStack:t}}},57650:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(99571),s=n(89096),i=n(57604),o=n(65411);function a(e,t,n){function a(r,s){e.isIntakeUrl(s.url)||!n&&s.isAborted||!function(e){return 0===e.status&&"opaque"!==e.responseType}(s)&&!function(e){return e.status>=500}(s)||t.notify({message:u(r)+" error "+s.method+" "+s.url,resource:{method:s.method,statusCode:s.status,url:s.url},source:i.zH.NETWORK,stack:c(s.responseText,e)||"Failed to load",startClocks:s.startClocks})}return void 0===n&&(n=!0),(0,s.h)().onRequestComplete((function(e){return a(o.xd.XHR,e)})),(0,r.z)().onRequestComplete((function(e){return a(o.xd.FETCH,e)})),{stop:function(){(0,s.E)(),(0,r.o)()}}}function c(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function u(e){return o.xd.XHR===e?"XHR":"Fetch"}},85154:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r,s=n(57604),i=n(80816),o=n(2517);function a(e){return r=function(t,n,r){var o=(0,s.wl)(t,r,"Uncaught"),a=o.stack,c=o.message,u=o.type;e.notify({message:c,stack:a,type:u,source:s.zH.SOURCE,startClocks:(0,i.$I)(),originalError:r,handling:s.Xw.UNHANDLED})},(0,o.Ld)(r),{stop:function(){(0,o.r1)(r)}}}},29238:(e,t,n)=>{"use strict";n.d(t,{L6:()=>p,Th:()=>f,Ur:()=>v,py:()=>g,tV:()=>h,yD:()=>A,zk:()=>m});var r,s=n(57252),i=n(70882),o=n(57604),a=n(65411),c=n(61878),u=n(29883);!function(e){e.info="info",e.error="error"}(r||(r={}));var d,l={maxMessagesPerPage:0,sentMessageCount:0};function g(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);function r(t){return new c.E(new c.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint)),{add:function(e){var r=function(e){return(0,a.$e)({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==d?d():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);(0,a.f0)(l,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){d=e}}}function f(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.batch?m(r):r;return n.apply(this,e)}}function m(e){return function(){return p(e,this,arguments)}}function p(e,t,n){try{return e.apply(t,n)}catch(e){w(e);try{v(e)}catch(e){w(e)}}}function h(e,t){!function(e){l.debugMode&&i.j.log("[MONITORING MESSAGE]",e)}(e),y((0,s.pi)((0,s.pi)({message:e},t),{status:r.info}))}function v(e){y((0,s.pi)((0,s.pi)({},function(e){if(e instanceof Error){var t=(0,u._t)(e);return{error:{kind:t.name,stack:(0,o.P3)(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+(0,a.lh)(e)}}(e)),{status:r.error}))}function y(e){l.batch&&l.sentMessageCount<l.maxMessagesPerPage&&(l.sentMessageCount+=1,l.batch.add(e))}function A(e){l.debugMode=e}function w(e){l.debugMode&&i.j.error("[INTERNAL ERROR]",e)}},61437:(e,t,n)=>{"use strict";n.d(t,{TK:()=>i});var r=n(89584),s=n(4344);function i(e){var t=e.get(),n=(0,r.ej)("_dd"),i=(0,r.ej)("_dd_r"),o=(0,r.ej)("_dd_l");if(!t){var a={};n&&(a.id=n),o&&/^[01]$/.test(o)&&(a.logs=o),i&&/^[012]$/.test(i)&&(a.rum=i),(0,s.En)(a,e)}}},4344:(e,t,n)=>{"use strict";n.d(t,{En:()=>m,M_:()=>l});var r=n(89584),s=n(68990),i=n(65411),o=n(29238),a=n(61437),c=15*i.yR,u=4*i.dV,d=i.yR;function l(e,t,n){var c=(0,r.fH)("_dd_s",e);(0,a.TK)(c);var u=new s.y,l=f(c).id,g=i.P2((0,o.zk)((function(){var e=f(c),r=n(e[t]),s=r.trackingType,o=r.isTracked;e[t]=s,o&&!e.id&&(e.id=i.DO(),e.created=String(Date.now())),m(e,c),o&&l!==e.id&&(l=e.id,u.notify())})),r.MI).throttled;return g(),function(e){var t=i.yw(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;h.push(t)}(g),function(e){var t=(0,o.zk)((function(){"visible"===document.visibilityState&&m(f(c),c)})),n=i.Oo(document,"visibilitychange",t).stop;h.push(n);var r=setInterval(t,d);h.push((function(){clearInterval(r)}))}(),{getId:function(){return f(c).id},getTrackingType:function(){return f(c)[t]},renewObservable:u}}var g=/^([a-z]+)=([a-z0-9-]+)$/;function f(e){var t=function(e){var t=e.get(),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||g.test(e))}(t)&&t.split("&").forEach((function(e){var t=g.exec(e);if(null!==t){var r=t[1],s=t[2];n[r]=s}})),n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<u)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(p(e),{})}function m(e,t){if(i.Qr(e))p(t);else{e.expire=String(Date.now()+c);var n=i.qP(e).map((function(e){return e[0]+"="+e[1]})).join("&");t.set(n,c)}}function p(e){e.set("",0)}var h=[]},29883:(e,t,n)=>{"use strict";n.d(t,{F1:()=>a,_t:()=>i});var r=n(2517),s="?";function i(e,t){var n,r=void 0===t?0:+t;try{if(n=function(e){var t=u(e,"stacktrace");if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),a=[],c=0;c<o.length;c+=2){var d=void 0;r.exec(o[c])?d={args:[],column:void 0,func:(n=r.exec(o[c]))[3],line:+n[1],url:n[2]}:i.exec(o[c])&&(d={args:(n=i.exec(o[c]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),d&&(!d.func&&d.line&&(d.func=s),d.context=[o[c+1]],a.push(d))}if(a.length)return{stack:a,message:u(e,"message"),name:u(e,"name")}}}(e),n)return n}catch(e){if(o)throw e}try{if(n=function(e){var t=u(e,"stack");if(t){for(var n,r,i,o,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,d=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,g=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=t.split("\n"),m=[],p=0,h=f.length;p<h;p+=1){if(a.exec(f[p])){var v=(i=a.exec(f[p]))[2]&&0===i[2].indexOf("native");n=i[2]&&0===i[2].indexOf("eval"),r=g.exec(i[2]),n&&r&&(i[2]=r[1],i[3]=r[2],i[4]=r[3]),o={args:v?[i[2]]:[],column:i[4]?+i[4]:void 0,func:i[1]||s,line:i[3]?+i[3]:void 0,url:v?void 0:i[2]}}else if(d.exec(f[p]))o={args:[],column:(i=d.exec(f[p]))[4]?+i[4]:void 0,func:i[1]||s,line:+i[3],url:i[2]};else{if(!c.exec(f[p]))continue;n=(i=c.exec(f[p]))[3]&&i[3].indexOf(" > eval")>-1,r=l.exec(i[3]),n&&r?(i[3]=r[1],i[4]=r[2],i[5]=void 0):0!==p||i[5]||void 0===e.columnNumber||(m[0].column=e.columnNumber+1),o={args:i[2]?i[2].split(","):[],column:i[5]?+i[5]:void 0,func:i[1]||s,line:i[4]?+i[4]:void 0,url:i[3]}}!o.func&&o.line&&(o.func=s),m.push(o)}if(m.length)return{stack:m,message:u(e,"message"),name:u(e,"name")}}}(e),n)return n}catch(e){if(o)throw e}try{if(n=function(e){var t=u(e,"message");if(t){var n=t.split("\n");if(!(n.length<4)){var r,i,o,a=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of function script\s*$/i,l=[],g=window&&window.document&&window.document.getElementsByTagName("script"),f=[];for(var m in g)i=g,o=m,Object.prototype.hasOwnProperty.call(i,o)&&!g[m].src&&f.push(g[m]);for(var p=2;p<n.length;p+=2){var h=void 0;a.exec(n[p])?h={args:[],column:void 0,func:(r=a.exec(n[p]))[3],line:+r[1],url:r[2]}:c.exec(n[p])?h={args:[],column:void 0,func:(r=c.exec(n[p]))[4],line:+r[1],url:r[3]}:d.exec(n[p])&&(r=d.exec(n[p]),h={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+r[1]}),h&&(h.func||(h.func=s),h.context=[n[p+1]],l.push(h))}if(l.length)return{stack:l,message:n[0],name:u(e,"name")}}}}(e),n)return n}catch(e){if(o)throw e}try{if(n=c(e,r+1))return n}catch(e){if(o)throw e}return{message:u(e,"message"),name:u(e,"name"),stack:[]}}var o=!1;function a(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var s=e.stack;if(s.length>0&&s[0].url===r.url){if(s[0].line===r.line)return!1;if(!s[0].line&&s[0].func===r.func)return s[0].line=r.line,s[0].context=r.context,!1}return s.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function c(e,t){for(var n,o,d=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],g={},f=!1,m=c.caller;m&&!f;m=m.caller)m!==i&&m!==r.Hj&&(o={args:[],column:void 0,func:s,line:void 0,url:void 0},n=d.exec(m.toString()),m.name?o.func=m.name:n&&(o.func=n[1]),void 0===o.func&&(o.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),g[m.toString()]?f=!0:g[m.toString()]=!0,l.push(o));t&&l.splice(0,t);var p={stack:l,message:u(e,"message"),name:u(e,"name")};return a(p,u(e,"sourceURL")||u(e,"fileName"),u(e,"line")||u(e,"lineNumber")),p}function u(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}},2517:(e,t,n)=>{"use strict";n.d(t,{Hj:()=>o,Ld:()=>m,r1:()=>p});var r=n(29238),s=n(29883),i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function o(e){if(c){if(a===e)return;A()}var t=(0,s._t)(e);throw c=t,a=e,setTimeout((0,r.zk)((function(){a===e&&A()})),t.incomplete?2e3:0),e}var a,c,u,d,l,g,f=[];function m(e){d||(u=window.onerror,window.onerror=(0,r.zk)(v),d=!0),g||(l=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=(0,r.zk)(y),g=!0),f.push(e)}function p(e){for(var t=f.length-1;t>=0;t-=1)f[t]===e&&f.splice(t,1);0===f.length&&(d&&(window.onerror=u,d=!1),g&&(window.onunhandledrejection=l,g=!1))}function h(e,t,n){var r;if(f.forEach((function(s){try{s(e,t,n)}catch(e){r=e}})),r)throw r}function v(e,t,n,r,o){if(c)(0,s.F1)(c,t,n),A();else if(o)h((0,s._t)(o),!0,o);else{var a,d={url:t,column:r,line:n},l=e;if("[object String]"==={}.toString.call(e)){var g=i.exec(l);g&&(a=g[1],l=g[2])}h({name:a,message:"string"==typeof l?l:void 0,stack:[d]},!0,e)}return!!u&&u.apply(this,arguments)}function y(e){var t=e.reason||"Empty reason";h((0,s._t)(t),!0,t)}function A(){var e=c,t=a;c=void 0,a=void 0,h(e,!1,t)}},85912:(e,t,n)=>{"use strict";n.d(t,{hK:()=>d});var r,s=n(57252),i=n(76739),o=n(65411),a={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay",trace:"trace"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0,trace:"public-trace"}},c=((r={}).eu="datadoghq.eu",r.us="datadoghq.com",r),u=[c.us,c.eu];function d(e,t){var n={buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||c[e.datacenter||t.datacenter],version:e.version},r=function(e,t){return!t.useAlternateIntakeDomains&&(0,o.q9)(u,e)?"classic":"alternate"}(n.site,e),d=function(e,t,n){if(t.proxyHost)return["https://"+t.proxyHost+"/v1/input/"];var r=[t.site];t.buildMode===i.f7.STAGING&&n&&r.push(c.us);for(var s=[],o=Object.keys(a[e]),u=0,d=r;u<d.length;u++)for(var g=d[u],f=0,m=o;f<m.length;f++){var p=m[f];s.push("https://"+l(e,p,g)+"/v1/input/")}return s}(r,n,void 0!==e.replica),f={isIntakeUrl:function(e){return d.some((function(t){return 0===e.indexOf(t)}))},logsEndpoint:g(r,"logs",n),rumEndpoint:g(r,"rum",n),sessionReplayEndpoint:g(r,"sessionReplay",n),traceEndpoint:g(r,"trace",n)};if(e.internalMonitoringApiKey&&(f.internalMonitoringEndpoint=g(r,"logs",n,"browser-agent-internal-monitoring")),n.buildMode===i.f7.E2E_TEST&&(f.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",f.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",f.rumEndpoint="<<< E2E RUM ENDPOINT >>>",f.sessionReplayEndpoint="<<< E2E SESSION REPLAY ENDPOINT >>>"),n.buildMode===i.f7.STAGING&&void 0!==e.replica){var m=(0,s.pi)((0,s.pi)({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:c.us});f.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:g(r,"logs",m,"browser-agent-internal-monitoring"),logsEndpoint:g(r,"logs",m),rumEndpoint:g(r,"rum",m)}}return f}function l(e,t,n){return"classic"===e&&function(e,t){var n=a.classic[e];return n&&n+"-http-intake.logs."+t}(t,n)||function(e,t){var n=a.alternate[e],r=t.split("."),s=r.pop();return n+".browser-intake-"+(r.join("-")+"."+s)}(t,n)}function g(e,t,n,r){var s="sdk_version:"+n.sdkVersion+(n.env?",env:"+n.env:"")+(n.service?",service:"+n.service:"")+(n.version?",version:"+n.version:""),i=l(e,t,n.site),o=n.proxyHost?n.proxyHost:i,a=(n.proxyHost?"ddhost="+i+"&":"")+"ddsource="+(r||"browser")+"&ddtags="+encodeURIComponent(s);return"https://"+o+"/v1/input/"+n.clientToken+"?"+a}},86160:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=function(){function e(e){void 0===e&&(e=1e4),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}()},63294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(70882);function s(e,t){return function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];try{return e.apply(void 0,n)}catch(e){r.j.error(t,e)}}}},72069:(e,t,n)=>{"use strict";function r(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}n.d(t,{W:()=>r})},70882:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)}},57604:(e,t,n)=>{"use strict";n.d(t,{P3:()=>u,Xp:()=>l,Xw:()=>r,jN:()=>d,wl:()=>c,zH:()=>a});var r,s=n(29238),i=n(29883),o=n(65411),a={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source"};function c(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:u(e),handlingStack:r,type:e.name}:{message:n+" "+(0,o.lh)(t),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}function u(e){var t=d(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",s=e.line?":"+e.line:"",i=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+s+i})),t}function d(e){return(e.name||"Error")+": "+e.message}function l(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){(0,o.ZT)()}return(0,s.L6)((function(){var n=(0,i._t)(t);n.stack=n.stack.slice(2),e=u(n)})),e}!function(e){e.HANDLED="handled",e.UNHANDLED="unhandled"}(r||(r={}))},65310:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(57604),s=n(80816),i=n(65411);function o(e,t){var n=0,o=!1;return{isLimitReached:function(){if(0===n&&setTimeout((function(){n=0}),i.yR),(n+=1)<=e.maxErrorsByMinute||o)return o=!1,!1;if(n===e.maxErrorsByMinute+1){o=!0;try{t({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:r.zH.AGENT,startClocks:(0,s.$I)()})}finally{o=!1}}return!0}}}},68990:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t}))}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}()},80816:(e,t,n)=>{"use strict";function r(){return Date.now()}function s(){return performance.now()}function i(){return{relative:s(),timeStamp:r()}}function o(e,t){return t-e}n.d(t,{$I:()=>i,_J:()=>o,_q:()=>s,n$:()=>r})},11627:(e,t,n)=>{"use strict";n.d(t,{D5:()=>i});var r,s=n(65411);function i(e){return function(e,t){if(function(){if(void 0!==r)return r;try{var e=new URL("http://test/path");return r="http://test/path"===e.href}catch(e){r=!1}return r}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,s=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(s)}return s.href=e,s}(e,(0,s.Dp)()).href}},65411:(e,t,n)=>{"use strict";n.d(t,{$e:()=>O,DO:()=>g,Dp:()=>T,I8:()=>L,MY:()=>k,Oo:()=>S,P2:()=>d,Qr:()=>x,Rf:()=>E,TT:()=>w,Tn:()=>u,WT:()=>o,ZT:()=>m,dV:()=>c,f0:()=>l,lh:()=>p,q9:()=>v,qP:()=>b,sE:()=>y,xd:()=>s,y7:()=>f,yR:()=>a,yw:()=>M,zz:()=>A});var r,s,i=n(29238),o=1e3,a=60*o,c=60*a,u=1024;function d(e,t,n){var r,s,i=!n||void 0===n.leading||n.leading,o=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];a?r=n:(i?e.apply(void 0,n):r=n,a=!0,s=setTimeout((function(){o&&r&&e.apply(void 0,r),a=!1,r=void 0}),t))},cancel:function(){clearTimeout(s),a=!1,r=void 0}}}function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function g(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,g)}function f(e){return 0!==e&&100*Math.random()<=e}function m(){}function p(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];h(e)&&(r=[!0,e.toJSON],delete e.toJSON);var s,i,o=[!1,void 0];"object"==typeof e&&h(s=Object.getPrototypeOf(e))&&(o=[!0,s.toJSON],delete s.toJSON);try{i=JSON.stringify(e,t,n)}catch(e){i="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),o[0]&&(s.toJSON=o[1])}return i}function h(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function v(e,t){return-1!==e.indexOf(t)}function y(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function A(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function w(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n])})),t}function b(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function x(e){return 0===Object.keys(e).length}function E(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function T(){return function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)}function k(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}function S(e,t,n,r){return M(e,[t],n,r)}function M(e,t,n,r){var s=void 0===r?{}:r,o=s.once,a=s.capture,c=s.passive,u=(0,i.zk)(o?function(e){l(),n(e)}:n),d=c?{capture:a,passive:c}:a;t.forEach((function(t){return e.addEventListener(t,u,d)}));var l=function(){return t.forEach((function(t){return e.removeEventListener(t,u,d)}))};return{stop:l}}function C(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var s=Array.isArray(e)?e:[],i=0;i<t.length;++i)s[i]=C(s[i],t[i],n);return s}var o,a="object"==(null===(o=e)?"null":Array.isArray(o)?"array":typeof o)?e:{};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(a[c]=C(a[c],t[c],n));return a}}function L(e){return C(void 0,e)}function O(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,s=t;r<s.length;r++){var i=s[r];null!=i&&(e=C(e,i))}return e}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(r||(r={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(s||(s={}))},61878:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,a:()=>u});var r=n(57252),s=n(70882),i=n(65411),o=n(29238),a=/[^\u0000-\u007F]/,c=!1,u=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl,r=!!navigator.sendBeacon&&t<this.bytesLimit;if(r)try{if(navigator.sendBeacon(n,e))return}catch(e){!function(e){d||(d=!0,(0,o.Ur)(e))}(e)}var s=new XMLHttpRequest;s.addEventListener("loadend",(0,o.zk)((function(e){return function(e){var s=null==e?void 0:e.currentTarget;s.status>=200&&s.status<300||c||(c=!0,(0,o.tV)("XHR fallback failed",{on_line:navigator.onLine,size:t,url:n,try_beacon:r,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:s.status,ready_state:s.readyState,response_text:s.responseText.slice(0,64)}}))}(e)}))),s.open("POST",n,!0),s.send(e)},e}(),d=!1,l=function(){function e(e,t,n,r,s,o){void 0===o&&(o=i.ZT),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=s,this.beforeUnloadCallback=o,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){const e=[(0,r.pr)(this.pushOnlyBuffer,(0,i.TT)(this.upsertBuffer)).join("\n"),this.bufferBytesSize];(window.DATADOG_REQUEST_PROXY?window.DATADOG_REQUEST_PROXY(this.request):this.request.send.bind(this.request))(...e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},e.prototype.sizeInBytes=function(e){return a.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,i=n.messageBytesSize;i>=this.maxMessageSize?s.j.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(r,i,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=(0,i.lh)(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout((0,o.zk)((function(){e.flush(),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&((0,i.Oo)(window,"beforeunload",this.beforeUnloadCallback),(0,i.Oo)(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush()})),(0,i.Oo)(window,"beforeunload",(function(){return e.flush()})))},e}()},57252:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>i,mG:()=>s,pi:()=>r,pr:()=>o});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(s,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),s=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}},22991:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r={buildMode:"release",datacenter:"us",sdkVersion:"2.18.0"}},61674:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(41076),s=n(76739),i=n(65411),o=n(72069),a=n(86160),c=n(29238),u=n(70882),d=n(54729),l=function(e){var t=!1,n=(0,o.W)(),l={},g=new a.S,f=function(e,t){g.add((function(){return f(e,t)}))},m=function(){},p=new d.Yd(h);return(0,s.r5)({logger:p,init:(0,c.zk)((function(r){(function(e){return t?(e.silentMultipleInit||u.j.error("DD_LOGS is already initialized."),!1):e&&(e.publicApiKey||e.clientToken)?!(void 0!==e.sampleRate&&!(0,i.zz)(e.sampleRate))||(u.j.error("Sample Rate should be a number between 0 and 100"),!1):(u.j.error("Client Token is not configured, we will not send any data."),!1)})(r)&&(r.publicApiKey&&(r.clientToken=r.publicApiKey,u.j.warn("Public API Key is deprecated. Please use Client Token instead.")),f=e(r,p,n.get),m=function(){return(0,i.I8)(r)},g.drain(),t=!0)})),getLoggerGlobalContext:(0,c.zk)(n.get),setLoggerGlobalContext:(0,c.zk)(n.set),addLoggerGlobalContext:(0,c.zk)(n.add),removeLoggerGlobalContext:(0,c.zk)(n.remove),createLogger:(0,c.zk)((function(e,t){return void 0===t&&(t={}),l[e]=new d.Yd(h,t.handler,t.level,(0,r.pi)((0,r.pi)({},t.context),{logger:{name:e}})),l[e]})),getLogger:(0,c.zk)((function(e){return l[e]})),getInitConfiguration:(0,c.zk)((function(){return m()}))});function h(e){f(e,(0,i.$e)({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},n.get()))}}(n(78571).zl);(0,s.y)((0,i.Rf)(),"DD_LOGS",l)},78571:(e,t,n)=>{"use strict";n.d(t,{zl:()=>p});var r=n(76739),s=n(68990),i=n(91289),o=n(85154),a=n(57650),c=n(89584),u=n(65411),d=n(61878),l=n(65310),g=n(54729),f=n(43545),m=n(22991);function p(e,t,n){var p=(0,r.mC)(e,m.H),v=p.configuration,y=p.internalMonitoring,A=new s.y;return!1!==e.forwardErrorsToLogs&&((0,i.U)(A),(0,o.L)(A),(0,a.D)(v,A,v.isEnabled("remove-network-errors"))),function(e,t,n,r,s,i){n.setExternalContextProvider((function(){return(0,u.$e)({session_id:r.getId()},i(),h())}));var o=function(e,t,n){var r=(0,l.S)(t,n);return function(n,s){if(e.isTracked()){var i=(0,u.$e)({service:t.service,session_id:e.getId()},s,h(),n);if(!(t.beforeSend&&!1===t.beforeSend(i)||i.status===g.i8.error&&r.isLimitReached()))return i}}}(r,e,c),a=function(e){var t,n=r(e.logsEndpoint);function r(t){return new d.E(new d.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.logsEndpoint)),{add:function(e){n.add(e),t&&t.add(e)}}}(e);function c(e){s.error(e.message,(0,u.$e)({date:e.startClocks.timeStamp,error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,h(e.startClocks.relative)))}return t.subscribe(c),function(e,t){var n=o(e,t);n&&a.add(n)}}(v,A,y,(0,f.cQ)(v,(0,c.oX)(v.cookieOptions)),t,n)}function h(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}},54729:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>m,i8:()=>d});var r,s=n(41076),i=n(72069),o=n(65411),a=n(70882),c=n(57604),u=n(29238),d={debug:"debug",error:"error",info:"info",warn:"warn"},l=((r={})[d.debug]=0,r[d.info]=1,r[d.warn]=2,r[d.error]=3,r),g=(Object.keys(d),"console"),f="http",m=function(){function e(e,t,n,r){void 0===t&&(t=f),void 0===n&&(n=d.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=(0,i.W)(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=d.info),l[n]>=l[this.level]){var r=Array.isArray(this.handlerType)?this.handlerType:[this.handlerType];(0,o.q9)(r,f)&&this.sendLog((0,s.pi)({message:e,status:n},(0,o.$e)(this.contextManager.get(),t))),(0,o.q9)(r,g)&&a.j.log(n+": "+e,(0,o.$e)(this.contextManager.get(),t))}},e.prototype.debug=function(e,t){this.log(e,t,d.debug)},e.prototype.info=function(e,t){this.log(e,t,d.info)},e.prototype.warn=function(e,t){this.log(e,t,d.warn)},e.prototype.error=function(e,t){var n={error:{origin:c.zH.LOGGER}};this.log(e,(0,o.$e)(n,t),d.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},(0,s.gn)([u.Th],e.prototype,"log",null),e}()},43545:(e,t,n)=>{"use strict";n.d(t,{cQ:()=>o});var r,s=n(4344),i=n(65411);function o(e,t){if(!t){var n=a(e)===r.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var i=(0,s.M_)(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return e===r.NOT_TRACKED||e===r.TRACKED}(t)?t:a(e);return{trackingType:n,isTracked:n===r.TRACKED}}(e,t)}));return{getId:i.getId,isTracked:function(){return i.getTrackingType()===r.TRACKED}}}function a(e){return(0,i.y7)(e.sampleRate)?r.TRACKED:r.NOT_TRACKED}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(r||(r={}))},13005:(e,t,n)=>{"use strict";n.d(t,{fy:()=>r.f}),n(54729);var r=n(61674)},41076:(e,t,n)=>{"use strict";n.d(t,{gn:()=>s,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};function s(e,t,n,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}},88116:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var r=n(4580),s=n(59100),i=n(35679),o=n(87456),a=n(10053),c=n(26231);const u=(0,r.Q)(s.M.Test)?"TEST":void 0,d=(0,i.J)(s.q.Development),l=(0,i.J)(s.q.Staging),g=(0,i.J)(s.q.Preview),f=(0,i.J)(s.q.Production),m=(0,o._)(o.Y.Chrome),p=(0,o._)(o.Y.Firefox),h={EXT_VERSION:(0,c.P)(),DASH_WELCOME_URL:"https://jam.dev/welcome?ref=extension",BROWSER_BUILD:(0,a.Z)({}.BROWSER_BUILD,"chrome"),IN_CHROME_BUILD:m,IN_FIREFOX_BUILD:p,ENV:(0,a.Z)("production",u),IS_DEV:d,IS_STAGING:l,IS_PREVIEW:g,IS_PRODUCTION:f,GRAPHQL_URL:(0,a.Z)("https://graphql.jam.dev/graphql",u),GRAPHQL_URL_WS:(0,a.Z)("wss://graphql.jam.dev/graphql",u),DASH_URL:(0,a.Z)("https://jam.dev",u),DATADOG_CLIENT_TOKEN:"pubcf40b29020e52aed8ee66a6b7be21795",DATADOG_SERVICE:(0,a.Z)("chrome-extension","extension"),DATADOG_VERSION:(0,a.Z)("fb44e0086f2c6394632f011dc6ce313015c3aee3",""),DISABLE_ORIGIN_BLOCKING:!f&&!u};if((0,r.Q)(s.M.Test))try{window.config=h}catch(e){globalThis.config=h}},26231:(e,t,n)=>{"use strict";function r(){try{return n(72565).runtime.getManifest().version}catch{return"unknown"}}n.d(t,{P:()=>r})},14515:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});const r={};let s;function i(e,t=window){const n=r[e];if(n)return n.bind(t);const i=t[e]??window[e];if(i&&function(e){const t=e.toString(),n=e.name;return o.test(t)&&t.includes(n)}(i))return r[e]=i,i.bind(t);if(!s){const e=document.createElement("iframe");if(e.src=`data:text/html;charset=utf-8,${encodeURIComponent("<body></body>")}`,e.width="0",e.height="0",e.style.width="0",e.style.height="0",e.style.display="none",e.style.visibility="hidden",function(e){document.body?document.body.append(e):document.documentElement.append(e)}(e),!e.contentWindow)return void e.remove();s=e.contentWindow,e.remove()}const a=s[e];return r[e]=a,a.bind(t)}const o=/function\s+\w+\(\)\s+{\s+\[native code]\s+}/i},13472:(e,t,n)=>{"use strict";n.d(t,{Component:()=>o.Component,ContentScripts:()=>o.ContentScripts,getMessageBrokerSingleton:()=>o.getMessageBrokerSingleton});var r=n(67767);n.o(r,"Component")&&n.d(t,{Component:function(){return r.Component}}),n.o(r,"ContentScripts")&&n.d(t,{ContentScripts:function(){return r.ContentScripts}}),n.o(r,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return r.getMessageBrokerSingleton}});var s=n(32428);n.o(s,"Component")&&n.d(t,{Component:function(){return s.Component}}),n.o(s,"ContentScripts")&&n.d(t,{ContentScripts:function(){return s.ContentScripts}}),n.o(s,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return s.getMessageBrokerSingleton}});var i=n(45071);n.o(i,"Component")&&n.d(t,{Component:function(){return i.Component}}),n.o(i,"ContentScripts")&&n.d(t,{ContentScripts:function(){return i.ContentScripts}}),n.o(i,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return i.getMessageBrokerSingleton}});var o=n(91157)},72604:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r=n(13005),s=n(21102);let i=!n(88116).v.IS_PRODUCTION;function o(e){i=e}function a(){return i}try{window.setJamLogging=o}catch(e){globalThis.setJamLogging=o}try{window.getJamLogging=a}catch(e){globalThis.getJamLogging=a}const c={sample(e,t,...n){if((0,s.U)((()=>{u(e,n)}),t),d(n)){const t=[...n,r.fy.getLoggerGlobalContext()];console[e](...t)}},log:(...e)=>{d(e)&&console.log(...e)},warn:(...e)=>{if(d(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.warn(...t)}u("warn",e)},error:(...e)=>{if(d(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.error(...t)}u("error",e)},info:(...e)=>{if(d(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.info(...t)}u("info",e)},debug:(...e)=>{d(e)&&console.debug(...e)},group:(...e)=>{d(e)&&console.group(...e)},groupCollapsed:(...e)=>{d(e)&&console.group(...e)},groupEnd:(...e)=>{d(e)&&console.groupEnd(...e)}};function u(e,t){const n=(t,n)=>r.fy.logger[e](t,n);if("string"==typeof t[0]){if(1===t.length)return void n(t[0]);if(2===t.length&&("object"==typeof t[1]||void 0===t[1])&&null!==t[1])return void n(t[0],t[1])}n(JSON.stringify(t))}function d(e){return i&&function(e){try{if(!("localStorage"in globalThis)||!globalThis.localStorage.debug)return!0}catch(e){return!0}if("string"!=typeof e[0]||"string"!=typeof globalThis.localStorage.debug)return!0;const t=e[0],n=globalThis.localStorage.debug.replace("*",".*");return new RegExp("^"+n).test(t)}(e)}},39329:(e,t,n)=>{"use strict";n.d(t,{x:()=>c});var r=n(64793),s=n(92982),i=n(67136),o=n(47273),a=n(61114);class c{constructor(e){this.needToBeAckedHandlers=new r.h,this.chunkBuilders=new r.h,this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t,n){if(e.datagramType!==o.pT.Chunked)return;if(e.chunkDatagramType===o.qQ.Ack)return void e.ackIds.forEach((e=>{const t=this.needToBeAckedHandlers.get(e);t?t():this.onErrorHandler(new Error("received chunked ack datagram, but the corresponding handler has timed out or was nonexistent"))}));if(e.chunkDatagramType===o.qQ.Head)return this.chunkBuilders.set(e.id,Array.from({length:e.bodyDatagramIds.length}),e.expiresAt-Date.now()),n({type:"datagram",expiresAt:e.expiresAt,id:(0,a.LI)(),datagramType:o.pT.Chunked,chunkDatagramType:o.qQ.Ack,ackIds:[e.id]});const r=this.chunkBuilders.get(e.headDatagramId);if(r){if(r[e.index]=e.inner,r.length===r.filter(s.$H).length){const n=r.join(""),s=JSON.parse(n);this.receiveDataHandler(s,t.src,t.dest),this.chunkBuilders.delete(e.headDatagramId)}return n({type:"datagram",expiresAt:e.expiresAt,id:(0,a.LI)(),datagramType:o.pT.Chunked,chunkDatagramType:o.qQ.Ack,ackIds:[e.id]})}this.onErrorHandler(new Error("received chunked body datagram, but the chunk builder has timed out or was nonexistent"))}async sendData(e,t,n){const r=(0,a.LI)(),s=function(e){return function(e,t){const n=function(e,t){if((0,i.XX)(e,t))return[];const n=[];let r=0;for(let s=0;s<e.length;s++){const o=(0,i.vN)(e[s]);r+o>t?(n.push(s),r=o):r+=o}return 0!==r&&n.push(e.length-1),n}(e,t);if(0===n.length)return[e];const r=[];let s=0;for(const t of n)r.push(e.slice(s,t)),s=t;return s<e.length&&r.push(e.slice(s)),r}(JSON.stringify(e),i.z0)}(e),c=s.map(((e,n)=>({type:"datagram",expiresAt:Date.now()+t,id:(0,a.LI)(),datagramType:o.pT.Chunked,chunkDatagramType:o.qQ.Body,inner:e,index:n,headDatagramId:r}))),d={type:"datagram",expiresAt:Date.now()+2*t/3,id:r,datagramType:o.pT.Chunked,chunkDatagramType:o.qQ.Head,bodyDatagramIds:c.map((e=>e.id))};await this.sendDatagramAndAwaitAck(d,3,n,new Error("Head datagram was not acked in time"));const l=u(d.expiresAt-Date.now(),new Error("Sending chunked datagram bodies timed out without being acked"));await Promise.race([l,Promise.all(c.map((e=>this.sendDatagramAndAwaitAck(e,3,n,new Error("Body datagram timed out without being acked")))))])}async sendDatagramAndAwaitAck(e,t,n,r){const s=e.expiresAt-Date.now(),i=new Promise((t=>{this.needToBeAckedHandlers.set(e.id,(()=>{t()}),s)}));await n(e);const o=s/t;for(let e=0;e<t;e++)try{const e=u(o);return void await Promise.race([e,i])}catch{}throw r}}function u(e,t){return new Promise(((n,r)=>{setTimeout((()=>r(t)),e)}))}},84589:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r=n(64793),s=n(39329),i=n(57474),o=n(67136),a=n(49782),c=n(47656),u=n(47273),d=n(95126);class l{constructor(e){this.receivedDatagramIds=new r.h;const t={onErrorHandler:e.onError,receiveDataHandler:e.receiveDataHandler};this.datagramTypeHandlers={[u.pT.Single]:new i.p(t),[u.pT.Url]:new a.t(t),[u.pT.Chunked]:new s.x(t)},this.onErrorHandler=e.onError,this.packetLayer=new c.a({address:e.address,canForward:e.canForward,receivePacketHandler:e=>this.receivePacket(e),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers})}async receivePacket(e){const t=e.data;if(!(0,u._1)(t))throw new Error("Datagram layer somehow received packet that doesn't hold a datagram");if(this.receivedDatagramIds.get(t.id))return void this.receivedDatagramIds.delete(t.id);const n=Date.now();t.expiresAt>n&&this.receivedDatagramIds.set(t.id,!0,t.expiresAt-n);const r=this.datagramTypeHandlers[t.datagramType];try{const n=t=>this.packetLayer.sendPacket({type:"packet",dest:e.src,data:t,expiresAt:t.expiresAt});r.handleDatagram(t,e,n)}catch(e){this.onErrorHandler(new d.m0({message:"Unhandled error from data receiver handler"},e))}}sendData(e,t,n){const{timeout:r=5e3,canUseUrl:s=!1}=n??{};let i;if(i=(0,o.Xt)(e,o.z0)?u.pT.Single:s?u.pT.Url:u.pT.Chunked,i)return this.datagramTypeHandlers[i].sendData(e,r,(e=>this.packetLayer.sendPacket({type:"packet",dest:t,data:e,expiresAt:Date.now()+r})));throw new Error("No handler could handle sending this data")}disconnect(){this.packetLayer.disconnect()}}},57474:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var r=n(61114),s=n(47273);class i{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}handleDatagram(e,t){this.receiveDataHandler(e.inner,t.src,t.dest)}sendData(e,t,n){return n({type:"datagram",expiresAt:Date.now()+t,id:(0,r.LI)(),datagramType:s.pT.Single,inner:e})}}},67136:(e,t,n)=>{"use strict";n.d(t,{XX:()=>c,Xt:()=>a,vN:()=>u,z0:()=>o});var r=n(93318);const s=2*r.d.Byte,i=1500*s,o=128*r.d.Megabyte/2-2-i;function a(e,t){const n=JSON.stringify(e);return!(n.length*s>=t)&&c(n,t)}function c(e,t){let n=0;for(const r of e)if(n+=u(r),n>=t)return!1;return n<t}function u(e){return 34===(t=e.charCodeAt(0))||92==t?2*s:Math.max(Math.floor(Math.log2(t+1))-6,1)*s;var t}},49782:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(47273),s=n(61114);class i{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t){if(!(0,r.jX)(e))return;const n=await fetch(e.url),s=await n.json();this.receiveDataHandler(s,t.src,t.dest)}sendData(e,t,n){const i=JSON.stringify(e),o=(new TextEncoder).encode(i),a=new Blob([o],{type:"application/json;charset=utf-8"}),c=window.URL.createObjectURL(a);return setTimeout((()=>{window.URL.revokeObjectURL(c)}),t),n({type:"datagram",expiresAt:Date.now()+t,id:(0,s.LI)(),datagramType:r.pT.Url,url:c})}}},72408:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r=n(88116).v.IS_DEV&&!1},53063:(e,t,n)=>{"use strict";n.d(t,{m:()=>p}),n(72604);var r=n(12108),s=n(35679),i=n(59100),o=n(22699),a=n.n(o),c=n(84589),u=n(58684),d=n(61114),l=n(40811),g=n(95126);class f{constructor(e){this.messageHandlers=new Map,this.history=[],this.historySize=500,this.disconnected=!1,this.responseAwaiters=new Map,this.eventListeners=new(a().EventEmitter),this.onErrorHandler=e.onError,this.address=e.address,this.datagramLayer=new c.u({address:e.address,canForward:e.canForward,receiveDataHandler:this.receiveDataHandler.bind(this),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers}),this.isTabIncognito=e.isTabIncognito??(()=>!0)}addEventListener(e,t){this.eventListeners.addListener(e,t)}removeEventListener(e,t){this.eventListeners.removeListener(e,t)}async receiveDataHandler(e,t,n){if(!((s=e)&&"object"==typeof s&&"applicationType"in s&&"broker"===s.applicationType&&"eventName"in s&&"type"in s))return;var s;if(this.addToHistory({data:e,src:t,dest:n,timestamp:Date.now()}),"response"===e.type){const t=this.responseAwaiters.get(e.responseToRequestId);if(!t)return void this.onErrorHandler(new g.lk({message:`Broker received response for request with ID ${e.responseToRequestId} but handler must've timed out (or two brokers of the same address exist?)`}));const n=e.data;return this.responseAwaiters.delete(e.responseToRequestId),void t(n)}const i=this.messageHandlers.get(e.eventName);if(!i)return void this.onErrorHandler(new g.UY({message:`Received event(${e.eventName}) with target ${this.address.component}, but no handler is configured`}));let o;try{o=await i(e.data,{src:{...t},dest:{...n}})}catch(e){return void this.onErrorHandler(new g.m0({message:"Uncaught broker handler error"},e))}try{await this.datagramLayer.sendData({applicationType:"broker",type:"response",eventName:e.eventName,responseToRequestId:e.id,data:o},t,{timeout:5*r.X.Second,canUseUrl:this.canUseUrlSending(t)}),this.eventListeners.emit("receive",{sender:t,receiver:n,eventName:e.eventName})}catch(t){return void this.onErrorHandler(new g.lk({message:`Error sending broker response to ${n.component} for request ${e.id} and event ${e.eventName}`},t))}}on(e,t){if(this.messageHandlers.has(e))throw new g.UY({message:`Only one handler can be configured on broker per message (name is: ${e})`});this.messageHandlers.set(e,t)}addToHistory(e){if((0,s.J)(i.q.Production)){const t={...e};delete t.data,this.history.push(t)}else this.history.push(e);this.history.length>this.historySize&&this.history.shift()}canUseUrlSending(e){if((0,u.AM)(this.address.component)&&this.isTabIncognito("self"))return!1;if("tabId"in e){if(this.isTabIncognito(e.tabId))return!1}else if((0,u.AM)(e.component))return!1;return!0}send(e){const{eventName:t,dest:n,payload:s,timeout:i=5*r.X.Second}=e;this.addToHistory({data:{eventName:t,payload:s},dest:n,src:this.address,timestamp:Date.now()});const o=(0,d.jF)();if((0,l.C)(this.address,n)){const e=this.messageHandlers.get(t);return e?e(s,{src:this.address,dest:n}):Promise.reject(new g.UY({message:`Received self-addressed event(${t}) with target ${this.address.component}, but no handler is configured`}))}return new Promise(((e,r)=>{const a=setTimeout((()=>{this.responseAwaiters.delete(o),r(new g.lk({message:`Error sending broker message to ${n.component}`,serializableContext:{eventName:t}},new g.W5({message:`Timed out waiting for response for ${i}ms`})))}),i);this.responseAwaiters.set(o,(r=>{clearTimeout(a),e(r),this.eventListeners.emit("send",{sender:this.address,receiver:n,eventName:t})})),this.datagramLayer.sendData({id:o,applicationType:"broker",type:"request",eventName:t,data:s},n,{timeout:i,canUseUrl:this.canUseUrlSending(n)}).catch((e=>{this.responseAwaiters.delete(o),r(new g.lk({message:`Error sending broker message to ${n.component}: ${e}`,serializableContext:{eventName:t}},e))}))}))}off(e){return this.messageHandlers.delete(e)}destruct(){this.datagramLayer.disconnect(),this.messageHandlers.clear(),this.disconnected=!0}get __responseAwaitersCount(){return this.responseAwaiters.size}}let m;function p(e){return m||(m=new f(e)),m}},91157:(e,t,n)=>{"use strict";n.d(t,{Component:()=>r.wA,ContentScripts:()=>r.d9,getMessageBrokerSingleton:()=>s.m});var r=n(58684),s=n(53063)},82823:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(90241),s=n(65324),i=n(8657);class o{constructor(){this.type=r.i.Runtime,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){return(0,s.s)(this.browserApi.runtime.sendMessage(e))}onMessage(e){const t=(t,n)=>{(0,i.M)(t)&&e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},90241:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=(e=>(e.Runtime="Runtime",e.Tab="Tab",e.Window="Window",e))(r||{})},87787:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,u:()=>u});var r=n(82823),s=n(90241),i=n(5537),o=n(9764),a=n(19982);function c(e){const t=new Map,n=new Map;for(const[r,s]of e.entries()){const e=d();let i=n.get(s);i||(i=e[s](),n.set(s,i)),t.set(r,i)}return{componentTable:t,typeTable:n}}function u(e,t,n){const r=new Map,s=new Map;for(const[i,a]of t.entries()){let t=s.get(a);t||(t=new o.J(e,a,n),s.set(a,t)),r.set(i,t)}return{componentTable:r,typeTable:s}}const d=(()=>{let e;return()=>e||(e={[s.i.Runtime]:()=>new r.E,[s.i.Tab]:()=>new i._,[s.i.Window]:()=>new a.w},e)})()},65324:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});const r=new Set(["Error: Could not establish connection. Receiving end does not exist."]);function s(...e){return Promise.allSettled(e).then((e=>{const t=e[0];if("rejected"===t.status&&!r.has(`${t.reason}`))throw t.reason;return e}))}},5537:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(90241),s=n(65324),i=n(58684),o=n(95126);class a{constructor(){this.type=r.i.Tab,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){if(e.dest.component===i.wA.ContentScript||e.dest.component===i.wA.HostScript)return t=this.browserApi,n=e.dest.tabId,r=e,(0,s.s)(t.tabs.sendMessage(n,r));var t,n,r;if(e.dest.component===i.wA.All)return async function(e,t){const n=(await e.tabs.query({windowType:"normal"})).map((async n=>{n?.id&&await e.tabs.sendMessage(n.id,t)}));return(0,s.s)(...n)}(this.browserApi,e);throw new o.UY({message:`Native messaging API (${this.type}) cannot send to component ${e.dest.component}`})}onMessage(e){const t=(t,n)=>{e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},9764:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(90241),s=n(58684),i=n(61114);class o{constructor(e,t,n){this.address=e,this.type=t,this.id=(0,i.j1)(),this.destinationHandlers=n}sendMessage(e){const t=function(e,t){if(e===s.wA.Main)return t===s.wA.HostScript?s.wA.ContentScript:t;if(e===s.wA.Popup)return t===s.wA.ContentScript?t:s.wA.Main;if(e===s.wA.HostScript)return s.wA.ContentScript;if(e===s.wA.Foreground)return s.wA.Main;if(e===s.wA.ContentScript)return t===s.wA.HostScript?t:s.wA.Main;throw new Error(`Unhandled component: ${e}. (This shouldn't be called with Component.All)`)}(this.address.component,e.dest.component);let n=!1;return this.destinationHandlers[this.type].forEach((r=>{r.id!==this.id&&(r.address.component===t||e.dest.component===s.wA.All&&e.lastHop.component!==r.address.component)&&(setTimeout((()=>{try{r.eventHandler(e,{tabId:123,frameId:0})}catch{}}),0),n=!0)})),this.type!==r.i.Window&&!n&&[s.wA.ContentScript,s.wA.Main,s.wA.Popup].includes(t)?Promise.reject(new Error(`runtime error when sending to ${t} (chrome will have this when the tab you send to does not exist, for example). Current component is ${this.address.component}, dest is ${e.dest.component}, simulated messaging API type is ${this.type} `)):Promise.resolve()}onMessage(e){const t=()=>e({exampleMessage:(0,i.j1)(),testingData:123,testingData2:"abc"},{});this.destinationHandlers[this.type].push({address:this.address,id:this.id,eventHandler:(n,r)=>{t(),setTimeout(t,Math.floor(1e3*Math.random())),e(n,r)},instance:this})}disconnect(){this.destinationHandlers[this.type]=this.destinationHandlers[this.type].filter((e=>e.id!==this.id))}}},19982:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(90241),s=n(14515);const i=(()=>{let e;return()=>(e||(e={addEventListener:(0,s.X)("addEventListener"),removeEventListener:(0,s.X)("removeEventListener"),dispatchEvent:(0,s.X)("dispatchEvent")}),e)})();class o{constructor(){this.type=r.i.Window,this.handlers=[];const e=this.rawHandler.bind(this);this.boundRawHandler=e;const{addEventListener:t}=i();t?.("jamevent",e,!0)}sendMessage(e){const{dispatchEvent:t}=i();return"cloneInto"in globalThis&&(e=cloneInto(e,document.defaultView)),t?.(new CustomEvent("jamevent",{detail:e})),Promise.resolve()}rawHandler(e){this.handlers.map((t=>t(e.detail,{})))}onMessage(e){this.handlers.push(e)}disconnect(){const{removeEventListener:e}=i();e?.("jamevent",this.boundRawHandler,!0),this.handlers=[]}}},47656:(e,t,n)=>{"use strict";n.d(t,{a:()=>m});var r=n(4580),s=n(59100),i=n(92982),o=n(14647),a=n(72408),c=n(87787),u=n(36839),d=n(8657),l=n(58684),g=n(40811),f=n(95126);class m{constructor(e){this.onErrorHandler=e.onError,this.canForward=e.canForward,this.address=e.address,this.receivePacketHandler=e.receivePacketHandler;const t=(0,u.O)(e.address.component),n=(0,r.Q)(s.M.Test)?(0,c.u)(this.address,t,e.destinationHandlers??(()=>{throw new Error("destination handlers required for packet layer in testing")})()):(0,c.C)(t);this.messagingTypeMessagingApiTable=n.typeTable,this.componentMessagingApiTable=n.componentTable,[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.onMessage(((t,n)=>this.onIncomingMessage(t,n,e.type)))}))}disconnect(){[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.disconnect()}))}onIncomingMessage(e,t,n){if(!(0,d.M)(e))return;const r={...e.lastHop,frameId:"frameId"in e.lastHop&&e.lastHop.frameId||t.frameId,tabId:"tabId"in e.lastHop&&e.lastHop.tabId||t.tabId},s={...e.src};s.component!==l.wA.HostScript&&s.component!==l.wA.ContentScript||(s.frameId=s.frameId??r.frameId,s.tabId=s.tabId??r.tabId);const i={...e,lastHop:r,src:s};return this.onIncomingPacket(i,n)}async onIncomingPacket(e,t){if(e.expiresAt<Date.now())this.onErrorHandler(new f.pD({message:"Received packet that had already expired, dropping it...",serializableContext:{timingOverhang:Date.now()-e.expiresAt,...a.S?{pkt:e}:{}}}));else if(!(0,g.C)(this.address,e.lastHop))if(function(e,t){return t.component===l.wA.All||(0,g.C)(e,t)}(this.address,e.dest))try{await this.receivePacketHandler(e)}catch(e){this.onErrorHandler(new f.m0({message:"Unhandled error from receivePacketHandler"},e))}else if(this.canForward&&e.dest.component!==this.address.component){const n={...e,address:{...this.address}};try{if(n.dest.component===l.wA.All){const e=[...this.messagingTypeMessagingApiTable.values()].map((e=>{if(e.type!==t)return p((()=>e.sendMessage(n)),n.expiresAt)}));return void await Promise.all(e)}{const e=this.componentMessagingApiTable.get(n.dest.component);if(e&&e.type!==t)return await p((()=>e.sendMessage(n)),n.expiresAt)}}catch(e){const t={...n};delete t.data,this.onErrorHandler(new f.pD({message:"Could not forward packet",serializableContext:{forwardedPacketWithoutData:t}},e))}}}async sendPacket(e){const t={...e,src:{...this.address},lastHop:{...this.address}},n=t.dest.component,r=(n===l.wA.All?[...this.messagingTypeMessagingApiTable.values()]:[this.componentMessagingApiTable.get(n)]).filter(i.Av);if(0===r.length)throw new f.UY({message:`No route from component ${this.address.component} to component ${n}`});await Promise.all(r.map((e=>p((()=>e.sendMessage(t)),t.expiresAt))))}}async function p(e,t,n=100){const r=t-Date.now();if(r<=0)throw new f.W5({message:"promise to retry is already timed out (epochTime configured before Date.now())"});return new Promise((async(s,i)=>{let a;const c=setTimeout((()=>{const e=new f.W5({message:"Timed out"},a);Error.captureStackTrace?.(e),i(e)}),r);for(;;)try{const t=await e();return clearTimeout(c),s(t)}catch(e){if(a=e,!(Date.now()<t-n)){clearTimeout(c);const e=new f.W5({message:"Timed out"},a);return Error.captureStackTrace?.(e),void i(e)}await(0,o.g)(n)}}))}},36839:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(90241),s=n(58684),i=n(95126);function o(e){switch(e){case s.wA.Main:return new Map([[s.wA.Popup,r.i.Runtime],[s.wA.ContentScript,r.i.Tab],[s.wA.HostScript,r.i.Tab],[s.wA.Foreground,r.i.Tab]]);case s.wA.Popup:return new Map([[s.wA.Main,r.i.Runtime],[s.wA.ContentScript,r.i.Runtime],[s.wA.HostScript,r.i.Runtime]]);case s.wA.Foreground:return new Map([[s.wA.Main,r.i.Runtime]]);case s.wA.ContentScript:return new Map([[s.wA.Main,r.i.Runtime],[s.wA.Popup,r.i.Runtime],[s.wA.ContentScript,r.i.Tab],[s.wA.HostScript,r.i.Window]]);case s.wA.HostScript:return new Map([[s.wA.Main,r.i.Window],[s.wA.Popup,r.i.Window],[s.wA.ContentScript,r.i.Window],[s.wA.HostScript,r.i.Window]]);default:throw new i.UY({message:`Unknown component type, ${e}. Cannot connect to messaging APIs`})}}},40811:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(58684);function s(e,t){return t.component===r.wA.All||e.component===t.component&&e.location===t.location}},58684:(e,t,n)=>{"use strict";n.d(t,{AM:()=>s,d9:()=>i,wA:()=>r});var r=(e=>(e.Main="Main",e.Popup="Popup",e.ContentScript="ContentScript",e.HostScript="HostScript",e.Foreground="Foreground",e.All="All",e))(r||{});function s(e){return"ContentScript"===e||"HostScript"===e}var i=(e=>(e.JamUi="content-JamUi",e.RRWebForwarder="content-RRwebForwarder",e.RRWebSnapshot="content-RRwebSnapshot",e.EventListeners="content-event-listeners",e))(i||{})},47273:(e,t,n)=>{"use strict";n.d(t,{_1:()=>i,jX:()=>o,pT:()=>r,qQ:()=>s});var r=(e=>(e.Single="Single",e.Url="Url",e.Chunked="Chunked",e))(r||{}),s=(e=>(e.Head="Head",e.Body="Body",e.Ack="Ack",e))(s||{});function i(e){return"object"==typeof e&&!!e&&"type"in e&&"datagram"===e.type&&"id"in e&&"datagramType"in e}function o(e){return"Url"===e.datagramType}},95126:(e,t,n)=>{"use strict";n.d(t,{UY:()=>o,W5:()=>s,lk:()=>a,m0:()=>c,pD:()=>i});var r=n(88783);class s extends r.Lw{constructor(){super(...arguments),this.name="TimeoutError"}}class i extends r.Lw{constructor(){super(...arguments),this.name="ForwardingError"}}class o extends r.Lw{constructor(){super(...arguments),this.name="ConfigurationError"}}class a extends r.Lw{constructor(){super(...arguments),this.name="CommunicationError"}}class c extends r.Lw{constructor(){super(...arguments),this.name="UncaughtHandlerError"}}},61114:(e,t,n)=>{"use strict";function r(e){let t=Math.floor(1e5*Math.random());return()=>`${e}-id:${Math.random()}:${t++}`}n.d(t,{LI:()=>i,j1:()=>s,jF:()=>o});const s=r("testing-id"),i=r("dg"),o=r("brkr-rq")},8657:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&!!e&&"type"in e&&"packet"===e.type&&"dest"in e&&"src"in e&&"data"in e}n.d(t,{M:()=>r})},67767:()=>{},45071:()=>{},32428:()=>{},87456:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,_:()=>s});var r=(e=>(e.Chrome="chrome",e.Firefox="firefox",e))(r||{});function s(e){return({}.BROWSER_BUILD||"chrome")===e}},59100:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,q:()=>r});var r=(e=>(e.Development="development",e.Preview="preview",e.Staging="staging",e.Production="production",e.Test="test",e))(r||{}),s=(e=>(e.Development="development",e.Production="production",e.Test="test",e))(s||{})},4580:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{Q:()=>r})},35679:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{J:()=>r})},30386:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});class r extends Error{constructor(e){super(e.message),this.original=e,this.name=e.name,this.message=e.message,this.stack=e.stack}toJSON(){return{name:this.name,message:this.message,stack:this.stack}}}},88783:(e,t,n)=>{"use strict";n.d(t,{LT:()=>a,Lw:()=>i});var r=n(30386),s=n(92982);class i extends Error{constructor(e,t){super(e.message),this.name=e.name??"WrappedError",this.userError=e.userError,this.debugMessage=e.debugMessage,this.serializableContext=e.serializableContext,t&&(t instanceof i?this.previous=t:t instanceof Error?this.previous=new r.S(t):"string"==typeof t&&(this.previous=t))}get extensions(){return{wrappedError:this}}toJSON(){const e={},t=function(e){const t=Object.assign(Object.create(Object.getPrototypeOf(o)),e);return delete t.stack,t}(this);return Object.getOwnPropertyNames(t).forEach((n=>{const r=n;e[r]=t[r]})),e}valueOf(){return this.toString()}toString(){return this.fullError()}shortError(){return`${this.name}: ${this.message}`}find(e){if(e(this))return this;if(!this.previous)return;if(this.previous instanceof i)return this.previous.find(e);let t=this.previous;return this.previous instanceof r.S&&(t=this.previous.original),e(t)?t:void 0}is(e){return Boolean(this.find((t=>t instanceof e)))}fullError(){let e;this.previous&&(e=this.previous.toString());let t="";try{t=JSON.stringify(this.serializableContext)}catch{t="[Error: provided context was not serializable]"}const n=[[`${this.name}:`,this.message,this.debugMessage?`(${this.debugMessage})`:void 0,this.userError?"(user error)":void 0],[`Serializable context: (${t})`]].map((e=>e.filter(s.Av).join(" ")+".")).join(" ");return e?n+". \nCaused by: \n"+e:n}previousMessage(){if(this.previous)return"string"==typeof this.previous?this.previous:this.previous.message}static isInside(e){if(!(e instanceof i))return!1;const t=this.name;return e.find((e=>e instanceof i&&e.name===t))}}const o=new i({message:"Example Error"});function a(e){if(e instanceof i)return e.toJSON();if("object"==typeof e&&null!==e&&"toJSON"in e&&"function"==typeof e.toJSON)try{const t=e.toJSON();if("string"==typeof t)return t}catch{}if(e instanceof Error)return{name:e.name,message:e.message,stack:e.stack};try{return JSON.stringify(e)}catch{}if("object"==typeof e&&e)try{return`[This ${e.constructor.name} object cannot be serialized]`}catch{}return`[This ${typeof e} value cannot be serialized]`}},92982:(e,t,n)=>{"use strict";function r(e){return void 0!==e}function s(e){return null!=e}n.d(t,{$H:()=>s,Av:()=>r})},95925:(e,t,n)=>{"use strict";function r(e,t=2){let n=String(e);const r=Math.pow(10,t-1);if(e<r)for(;String(r).length>n.length;)n="0"+e;return n}n.d(t,{B:()=>r})},14647:(e,t,n)=>{"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,{g:()=>r})},10053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4580),s=n(59100);function i(e,t){if(void 0===e||""===e){if(void 0===t&&!(0,r.Q)(s.M.Test))throw new ReferenceError("Missing a required environment variable");return t??""}return e}},21102:(e,t,n)=>{"use strict";function r(e,t){if(t<0||t>1)throw new Error(`Rate (${t}) must be within the range of 0 to 1, inclusive.`);Math.random()<=t&&e()}n.d(t,{U:()=>r})},93318:(e,t,n)=>{"use strict";var r,s;n.d(t,{d:()=>r}),(s=r||(r={})).Byte=1,s.Kilobyte=1e3*s.Byte,s.Megabyte=1e3*s.Kilobyte,s.Gigabyte=1e3*s.Megabyte},64793:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});class r{constructor(){this.innerMap=new Map}clearExistingTimeout(e){const t=this.innerMap.get(e);t?.timeout&&clearTimeout(t.timeout)}set(e,t,n){this.clearExistingTimeout(e),this.innerMap.set(e,{value:t,timeout:setTimeout((()=>this.innerMap.delete(e)),n)})}get(e){return this.innerMap.get(e)?.value}delete(e){return this.innerMap.delete(e)}}},12108:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r,s,i=n(95925);(s=r||(r={})).Millisecond=1,s.Second=1e3*s.Millisecond,s.Minute=60*s.Second,s.Hour=60*s.Minute,s.Day=24*s.Hour,s.toSeconds=function(e){return e/s.Second},s.isEpochInSeconds=function(e){return Math.abs(Date.now()-e)>Math.abs(Date.now()-1e3*e)},s.formatTime=function(e){if(e<=0)return"00:00";const t=Math.floor(e/s.Hour);e%=s.Hour;const n=Math.floor(e/s.Minute);e%=s.Minute;const r=Math.floor(e/s.Second);return t?`${(0,i.B)(t)}:${(0,i.B)(n)}:${(0,i.B)(r)}`:`${(0,i.B)(n)}:${(0,i.B)(r)}`}},22699:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function s(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",s),n([].slice.call(arguments))}p(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&p(e,"error",t,{once:!0})}(e,s)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var s,i,o,u;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(s=c(e))>0&&o.length>s&&!o.warned){o.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=o.length,u=d,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=d.bind(r);return s.listener=n,r.wrapFn=s,s}function g(e,t,n){var r=e._events;if(void 0===r)return[];var s=r[t];return void 0===s?[]:"function"==typeof s?n?[s.listener||s]:[s]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(s):m(s,s.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function p(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function s(i){r.once&&e.removeEventListener(t,s),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var s="error"===e,i=this._events;if(void 0!==i)s=s&&void 0===i.error;else if(!s)return!1;if(s){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,d=m(c,u);for(n=0;n<u;++n)r(d[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,s,i,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(s=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,s=i;break}if(s<0)return this;0===s?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,s),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var s,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(s=i[r])&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return g(this,e,!0)},i.prototype.rawListeners=function(e){return g(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},i.prototype.listenerCount=f,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},72565:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const s=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",o=(e,t,n)=>new Proxy(t,{apply:(t,r,s)=>n.call(r,e,...s)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),u={has:(t,n)=>n in e||n in r,get(u,d,l){if(d in r)return r[d];if(!(d in e))return;let g=e[d];if("function"==typeof g)if("function"==typeof t[d])g=o(e,e[d],t[d]);else if(a(n,d)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((i,o)=>{if(t.fallbackToNoCallback)try{n[e](...r,s({resolve:i,reject:o},t))}catch(s){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,s),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,s({resolve:i,reject:o},t))}))})(d,n[d]);g=o(e,e[d],t)}else g=g.bind(e);else if("object"==typeof g&&null!==g&&(a(t,d)||a(n,d)))g=c(g,t[d],n[d]);else{if(!a(n,"*"))return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:()=>e[d],set(t){e[d]=t}}),g;g=c(g,t[d],n["*"])}return r[d]=g,g},set:(t,n,s,i)=>(n in r?r[n]=s:e[n]=s,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},d=Object.create(e);return new Proxy(d,u)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),d=new r((e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),l=new r((e=>"function"!=typeof e?e:function(t,n,r){let s,i,o=!1,a=new Promise((e=>{s=function(t){o=!0,e(t)}}));try{i=e(t,n,s)}catch(e){i=Promise.reject(e)}const c=!0!==i&&((u=i)&&"object"==typeof u&&"function"==typeof u.then);var u;if(!0!==i&&!c&&!o)return!1;return(c?i:a).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),g=({reject:n,resolve:r},s)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):s&&s.__mozWebExtensionPolyfillReject__?n(new Error(s.message)):r(s)},f=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const s=g.bind(null,{resolve:e,reject:t});r.push(s),n.sendMessage(...r)}))},m={devtools:{network:{onRequestFinished:u(d)}},runtime:{onMessage:u(l),onMessageExternal:u(l),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},c(e,m,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(72604),t=n(13472),r=n(88783),s=n(72565),i=n.n(s),o=n(13005),a=n(4580),c=n(59100);const u=(0,a.Q)(c.M.Production)||"true"==={}.ENABLE_DATADOG;let d=!1;const l="content-rrweb-forwarder";!function(){const n=new Date;e.k.debug(l+" IS RUNNING",performance.now(),n),function(n){const s=(0,t.getMessageBrokerSingleton)({address:{component:t.Component.ContentScript,location:t.ContentScripts.RRWebForwarder},canForward:!1,onError:t=>e.k.sample("warn",.001,"Message error in rrwebForwarderMv3",{error:(0,r.LT)(t)})});(function(n){d||(window.DATADOG_REQUEST_PROXY=r=>(...s)=>{n.send({eventName:"ProxyDatadogRequest",dest:{component:t.Component.Main,location:void 0},payload:{request:r,args:s}}).catch((t=>{e.k.debug("Error forwarding Datadog Event:",{error:t})}))},u&&o.fy.onReady((()=>{o.fy.init({clientToken:"pubcf40b29020e52aed8ee66a6b7be21795",site:"datadoghq.com",forwardErrorsToLogs:!0,sampleRate:100,env:"production",service:"chrome-extension",version:"fb44e0086f2c6394632f011dc6ce313015c3aee3"})})),d=!0)})(s),i().runtime.connect({name:"rrwebForwarder"}).onDisconnect.addListener((()=>{e.k.debug(`Disconnecting ${l} (established ${n})`),s.destruct()}))}(n)}()})()})();