(self.webpackChunk=self.webpackChunk||[]).push([[1960],{6782:(e,t,r)=>{r.d(t,{Q:()=>n});var n,a=r(40327),o=r(5114);!function(e){e.group=function(e){return Object.values(e.reduce(((e,{group:t,category:r,categoryHuman:n,cost:a})=>(void 0===e[r]&&(e[r]={group:t,category:r,categoryHuman:n,count:0,lensName:"",bundleInfo:o.none}),e[r].count+=a,e)),{})).sort(((e,t)=>t.count-e.count))},e.groupByGroup=function(e){return Object.values(e.reduce(((e,{group:t,category:r,categoryHuman:n,cost:a,lensName:s="",bundleInfo:i=o.none})=>(void 0===e[s]&&(e[s]={group:t,category:r,categoryHuman:n,count:0,lensName:s,bundleInfo:i}),e[s].count+=a,e)),{})).sort(((e,t)=>t.count-e.count))},e.groupByBundleInfo=function(e){return Object.values(e.reduce(((e,{group:t,category:r,categoryHuman:n,cost:s,lensName:i="",bundleInfo:c=o.none})=>{const l=(0,a.pipe)(c,o.getOrElse((()=>n)));return void 0===e[l]&&(e[l]={group:t,category:r,categoryHuman:n,count:0,lensName:i,bundleInfo:c}),e[l].count+=s,e}),{})).sort(((e,t)=>t.count-e.count))}}(n||(n={}))},31668:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(22232);var a=function(){function e(t,r){void 0===r&&(r=new URLSearchParams),this.base=t,this.params=r;var a=e._toString(t,r).length;(0,n.kG)(a<e.MAX_URL_LENGTH,"url exceeded length limit",String(a))}return e.prototype.addParams=function(t){var r,n=Object.entries(t).reduce((function(e,t){var r=t[0],n=t[1];return e.append(r,n),e}),(r=this.params,new URLSearchParams(r.toString())));return new e(this.base,n)},e.prototype.toString=function(){return e._toString(this.base,this.params)},e._toString=function(e,t){var r=t.toString();return"".concat(e).concat(r.length?"?".concat(r):"")},e.MAX_URL_LENGTH=2083,e}()},624:(e,t,r)=>{r.d(t,{J:()=>te});var n,a,o,s,i,c,l,u,d,f,p,v,h,m,b,g,y,w,k,S,C,G,P,A,z,I,M,O,x,B,E=r(38983),T=r(5114),R=r(22232),F=r(79880),U=r(57050),L=r(64015),D=r(40154),j=r(85384),N=r(73915),V=r(71249),_=r(8125),q=r(55415),H=r(83078),X=r(95195),K=r(17889),Q=r(98992),Y=r(80432),J=r(18208);function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){W(e,t,r[t])}))}return e}function $(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ee(e){return Y.f.includes(e.type)}(a=n||(n={})).isStrongAlertRefComponent=function(e){return"child"in e},a.isStrongAlertRefBehavior=function(e){return!("child"in e)},(s=o||(o={})).isStrongAlertRef=function(e){return"strongAlertRef"===e.type},s.create=function(e,t,r){return{type:"strongAlertRef",alertIds:t,child:e,onEmpty:r,id:I.from("strongAlertRef")}},(c=i||(i={})).isLongFormCard=function(e){return"longFormCard"===e.type},c.create=function(e,t,r){return{type:"longFormCard",fullContent:e,collapsedContent:t,id:I.from("longFormCard"),behaviors:[l.StrongAlertRef.create(r,[])],feedProperties:{}}},function(e){let t,r;e.isStrongAlertRef=function(e){return"behavior:strongAlertRef"===e.type},function(e){e.create=function(e,t){return{id:I.from("behavior:strongAlertRef"),type:"behavior:strongAlertRef",alertIds:e,onEmpty:t}};e.eq=N.n(j.z2)(Q.lY)}(t=e.StrongAlertRef||(e.StrongAlertRef={})),e.isPopoverAnchor=function(e){return"behavior:popoverAnchor"===e.type},function(e){e.create=function(e,t){return{type:"behavior:popoverAnchor",id:e,positionHint:t}};e.nonEmpty=e=>!!e.view}(r=e.PopoverAnchor||(e.PopoverAnchor={}))}(l||(l={})),(d=u||(u={})).create=function(e,t,r,n,a){return{type:"row",left:e,right:t,spacing:r,verticalAlign:n,id:I.from("row"),behaviors:a?[l.PopoverAnchor.create(a,F.Ly.Top)]:void 0}},d.isRow=function(e){return"row"===e.type},(f||(f={})).create=function(e){return{type:"column",children:e,id:I.from("column")}},v=p||(p={}),h=v.Type="block",v.create=function(e,t,r,...n){return{type:h,name:M.unknown(e),parts:n,spacing:t,innerSpacing:r,id:I.from(e)}},v.isBlock=function(e){return e.type===h},v.hasOnlyTextParts=function(e){return e.parts.every(m.isText)},function(e){var t=e.Type="text";e.create=function(e,r,n,a,o,s,i={}){return{type:t,text:e,size:r,format:n,textColor:a,backgroundColor:o,outlineColor:s,id:I.from(t),meta:i}},e.isText=function(e){return e.type===t}}(m||(m={})),(b||(b={})).create=function(e,t){return{label:e,preview:t}},(g||(g={})).create=function(e,...t){return{type:"alternativeChoice",alternatives:t,id:I.from("alternativeChoice"),meta:e}},(y||(y={})).create=function(e,t){return{type:"viewStack",id:I.from("ViewStack"),views:t,selected:e}},function(e){var t=e.Type="button";let r;var n;(n=r=e.Action||(e.Action={})).isTransitionAction=function(e){return"transition"===e.type},n.isApplyAlertsAction=function(e){return"applyAlerts"===e.type},n.createSelectAlternativeAction=function(e){return{type:"selectAlternative",alternativeIndex:e}},e.isButton=function(e){return"button"===e.type},e.create=function(e,r,n,a,o,s,i=F.jL.Square,c={}){const l=I.from(e);return{type:t,id:l,name:M.unknown(e),tooltip:o,kind:a,state:F.BN.Enabled,label:{type:p.Type,name:M.unknown(""),parts:[m.create(r,F.yH.Regular,[],F.Il.CoreNeutral0,void 0,void 0)],spacing:s,id:I.from("label-button-"+l)},actions:n,shape:i,meta:c}},e.createIcon=function(e,r,n,a,o,s=F.jL.Square,i={}){const c=I.from(e),l="icon-button-"+e;return{type:t,id:c,name:M.unknown(e),tooltip:o,kind:a,state:F.BN.Enabled,label:{type:p.Type,name:M.unknown(l),spacing:S.create("0","0.25","0","0.25"),parts:[k.create(r,void 0)],id:I.from(l)},actions:n,shape:s,meta:i}}}(w||(w={})),function(e){var t=e.Type="icon";let r;var n;(n=r=e.Source||(e.Source={})).createKnown=function(e){return{kind:"known",name:e}},n.createUrl=function(e,t,r){return{kind:"url",name:t,url:e,size:r}},e.create=function(e,r,n={}){return{type:t,source:e,backgroundColor:r,id:I.from(t),meta:n}}}(k||(k={})),(S||(S={})).create=function(e,t,r,n){return{top:e,bottom:r,left:n,right:t}},(C||(C={})).create=function(e,t){return{vertical:t,horizontal:e}},function(e){var t=e.Type="count";e.create=function(e,r,n={}){return{type:"count",backgroundColor:r,value:e,id:I.from(t),meta:n}}}(G||(G={})),function(e){let t;(t=e.Choice||(e.Choice={})).create=function(e,t,r){return{type:"sliderChoice",id:I.from("slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:r}},e.create=function(e,t,r,n={}){return{type:"slider",segmentSize:e,fillColor:t,choices:r,id:I.from("slider"),meta:n}}}(P||(P={})),function(e){let t;(t=e.Choice||(e.Choice={})).create=function(e,t,r,n){return{id:I.from("alternative-slider-choice-"+t.toLowerCase()),icon:e,label:t,actions:r,preview:n}},e.create=function(e,t,r,n={}){return{type:"alternativeSlider",segmentSize:e,fillColor:t,choices:r,id:I.from("alternativeSlider"),meta:n}}}(A||(A={})),function(e){let t;e.create=function(e,t={}){return{type:"list",items:e,id:I.from("list"),meta:t}},(t=e.Item||(e.Item={})).create=function(e,t,r,n,a={}){return{id:I.from("listItem"),label:e,behaviors:r,actions:t,secondaryButtons:n,meta:a}}}(z||(z={})),(I||(I={})).from=function(e){return e+"#"+J.fg(6)},(M||(M={})).unknown=function(e){return{kind:"unknown",value:e}},(x=O||(O={})).create=function(e,t,r){return{type:"popoverStack",id:e,views:r,selected:t}},x.createView=function(e,t,r,n){return{id:e,rootPopoverId:t,child:r,anchor:{kind:"component",id:n||J.fg(3)}}},function(e){let t;function r(e,r,n=t.PreOrder,a=[]){const o=[...a,e.id];switch(n){case t.PreOrder:return r(e,o),P(e,r,n,o);case t.PostOrder:return P(e,r,n,o),r(e,o);default:(0,R.vE)(n)}}function*a(e,r=t.PreOrder){yield*S(e,r,[])}function o(e,t,r,n){let a=n;return B.forEach(e,((e,r)=>a=t(a,e,r)),r),a}!function(e){e.PreOrder="PreOrder",e.PostOrder="PstOrder"}(t=e.TreeTraversal||(e.TreeTraversal={})),e.forEach=r,e.traverse=a,e.reduce=o,e.findFirst=function(e,t,r=B.TreeTraversal.PreOrder){for(let n of a(e,r))if(n.type===t)return T.some(n);return T.none},e.findFirstWithPredicate=function(e,t,r=B.TreeTraversal.PreOrder){for(let n of a(e,r))if(t(n))return T.some(n);return T.none};var s=e.over=(e,r,n)=>{const[a,...o]=r;return V.xb(o)&&a===e.id?n(e):k(e,U.Q1,t.PreOrder,(t=>e.id===a&&t.id===o[0]?s(t,o,n):T.some(t)))};function i(e,r,n=t.PreOrder){switch(n){case t.PreOrder:return(0,U.zG)(r(e),(e=>b(e,r,n)));case t.PostOrder:return(0,U.zG)(b(e,r,n),T.map(r));default:(0,R.vE)(n)}}function c(e,r,n=t.PreOrder){switch(n){case t.PreOrder:return(0,U.zG)(e,T.fromPredicate(r),T.chain((e=>(0,U.zG)(g(e,r,n),T.map((t=>Z({},e,t)))))));case t.PostOrder:return(0,U.zG)(g(e,r,n),T.chain((t=>T.fromPredicate(r)(Z({},e,t)))));default:(0,R.vE)(n)}}function u(e,r,n=t.PreOrder){switch(n){case t.PreOrder:return(0,U.zG)(r(e),T.chain((e=>(0,U.zG)(y(e,r,n),T.map((t=>Z({},e,t)))))));case t.PostOrder:return(0,U.zG)(y(e,r,n),T.chain((t=>r(Z({},e,t)))));default:(0,R.vE)(n)}}function d(e){return c(e,(0,_.ff)(m),t.PostOrder)}e.map=i,e.filter=c,e.filterMap=u,e.compact=d;var f=e.getAlertRefs=e=>{switch(e.type){case"alternativeChoice":case"alternativeSlider":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"box":case"slider":case"text":case"clickableText":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return T.none;case"longFormCard":return(0,U.zG)(e.behaviors,L.hX(l.isStrongAlertRef),K.nI);case"strongAlertRef":return T.some([e]);case"inlineCard":return(0,U.zG)((0,U.zG)(e.behaviors,T.fromNullable,T.chain((0,U.ls)(L.hX(l.isStrongAlertRef),K.nI))));case"list":return(0,U.zG)(e.items,L.UI((e=>(0,U.zG)(e.behaviors,T.fromNullable,T.chain((0,U.ls)(V.hX(l.isStrongAlertRef),K.nI))))),T.sequenceArray,T.map(K.xH));default:if(ee(e))return T.none;(0,R.vE)(e)}};e.getAlertIds=(0,U.ls)(f,T.chain((0,U.ls)(L.tS(q.ei("alertIds")),K.c2))),e.getAllAlertIds=e=>o(e,((e,t)=>(0,U.zG)(B.getAlertIds(t),T.map((t=>e.concat(t))),T.getOrElse((()=>e)))),t.PreOrder,[]),e.getSDUIId=e=>T.fromNullable(e.id),e.setPopoverView=(e,t)=>i(e,(e=>{switch(e.type){case"box":case"row":case"button":return(0,U.zG)(T.fromNullable(e.behaviors),T.chain(L.Ew(l.isPopoverAnchor)),T.fold((0,U.a9)(e),(r=>{var{view:n}=r,a=$(r,["view"]);return(0,U.zG)(T.fromNullable(n),T.fold((()=>(0,U.zG)(t,T.filter((e=>"component"===e.anchor.kind&&e.anchor.id===a.id)),T.fold((0,U.a9)(e),(t=>Z({},e,{behaviors:[Z({},a,{view:t})]}))))),(r=>(0,U.zG)(t,T.filter((e=>q.Xy(e.anchor,r.anchor))),T.fold((()=>Z({},e,{behaviors:[a]})),(t=>t.rootPopoverId===r.rootPopoverId&&t.id===r.id?e:Z({},e,{behaviors:[Z({},a,{view:t})]})))))))})));default:return e}})),e.removeStrongAlertRef=e=>t=>{const r=(0,U.zG)(t,L.UI((e=>e.alertIds)),L.xH,(e=>new Set(e))),a=(0,U.zG)(t,K.hX(n.isStrongAlertRefComponent)),o=(0,U.zG)(t,K.hX(n.isStrongAlertRefBehavior));return(0,U.zG)(u(e,v(r,a,o)),T.chain(d))};const p=(e,t)=>{var r;return Z({},e,{behaviors:null===(r=e.behaviors)||void 0===r?void 0:r.map((e=>"behavior:strongAlertRef"===e.type?Z({},e,{alertIds:e.alertIds.filter((e=>!t.has(e)))}):e))})},v=(e,t,r)=>n=>{switch(n.type){case"alternativeChoice":case"alternativeSlider":case"box":case"block":case"button":case"count":case"alertsCount":case"icon":case"image":case"row":case"slider":case"text":case"column":case"scroll":case"assistantFeed":case"assistantCard":case"popoverStack":case"gButton":case"lensesSwitchPanel":case"clickableText":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeGetStartedChecklistModal":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"viewStack":case"proofitButton":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"collapsedCard":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"tooltip":return T.some(n);case"longFormCard":return T.some(Z({},n,{behaviors:n.behaviors.map((t=>l.isStrongAlertRef(t)?Z({},t,{alertIds:t.alertIds.filter((t=>!e.has(t)))}):t))}));case"strongAlertRef":return(0,U.zG)(t,T.exists((e=>e.some((e=>h.equals(n,e))))))?T.none:T.some(Z({},n,{alertIds:n.alertIds.filter((t=>!e.has(t)))}));case"inlineCard":return n.behaviors&&n.behaviors.some((e=>l.isStrongAlertRef(e)&&(0,U.zG)(r,T.exists((t=>t.some((t=>l.StrongAlertRef.eq.equals(e,t))))))))?T.none:T.some(p(n,e));case"list":const a=n.items.filter((e=>!e.behaviors||!e.behaviors.some((e=>l.isStrongAlertRef(e)&&(0,U.zG)(r,T.exists((t=>t.some((t=>l.StrongAlertRef.eq.equals(e,t))))))))));return 0===a.length?T.none:T.some(Z({},n,{items:a.map((t=>p(t,e)))}));default:if(ee(n))return T.some(n);(0,R.vE)(n)}};e.switchViewStack=(e,t,r)=>(0,U.zG)(s(e,t,(e=>"viewStack"!==e.type&&"popoverStack"!==e.type||null==e.views[r]?T.some(e):T.some(Z({},e,{selected:r})))),T.fold((()=>e),U.yR)),e.toContentMap=e=>B.reduce(e,((e,t,r)=>(e[t.id]={content:t,path:r},e)),t.PreOrder,{});var h=e.eq=N.n(j.z2)(Q.VY),m=e.isEmpty=e=>{if(null==e)return!0;switch(e.type){case"column":return L.xb(e.children);case"assistantCard":return null==e.child&&null==e.footer;case"box":case"scroll":case"strongAlertRef":case"collapsedCard":case"inlineCard":case"tooltip":return null==e.child;case"row":return L.xb(e.left)&&L.xb(e.right);case"block":return L.xb(e.parts);case"list":return L.xb(e.items);case"button":return null==e.label;case"alternativeChoice":return L.xb(e.alternatives);case"alternativeSlider":return L.xb(e.choices);case"assistantFeed":return null==e.header&&null==e.footer;case"viewStack":return q.Qr(e.views);case"longFormCard":return null==e.fullContent;case"count":case"alertsCount":case"icon":case"image":case"slider":case"text":case"clickableText":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"popoverStack":return!1;default:if(ee(e))return!1;(0,R.vE)(e)}};e.isSwitchViewAction=e=>"switchView"===e.type;e.bulkSwitchView=function(e,t,r){const n=null!=r?r:B.toContentMap(e);return t.reduce(((e,{selected:t,where:r})=>(0,U.zG)(n[r],T.fromNullable,T.map(q.ei("path")),T.fold((()=>e),(r=>B.switchViewStack(e,r,t))))),e)},e.getCardPropsForFeed=function(e){return e.filtering.filter((e=>e.condition===F.j2.EqualTo)).reduce(((e,t)=>Z({},e,{[t.property]:t.value})),{})};const b=(e,r,n=t.PreOrder)=>k(e,r,n,i),g=(e,r,n=t.PreOrder)=>k(e,r,n,c),y=(e,r,n=t.PreOrder)=>k(e,r,n,u),w=(e,r,n=t.PreOrder,a)=>(0,U.zG)(e,L.u4(new Array,((e,t)=>((0,U.zG)(a(t,r,n),T.fold(U.Q1,(t=>e.push(t)))),e)))),k=(e,r,n=t.PreOrder,a)=>{switch(e.type){case"column":return(0,U.zG)(w(e.children,r,n,a),(t=>Z({},e,{children:t})),T.some);case"assistantCard":const t=(0,U.zG)(T.fromNullable(e.footer),T.chain((e=>a(e,r,n))),T.getOrElse((()=>{})));return(0,U.zG)(a(e.child,r,n),T.map((r=>Z({},e,{child:r,footer:t}))));case"strongAlertRef":case"scroll":case"inlineCard":case"box":case"tooltip":return(0,U.zG)(a(e.child,r,n),T.map((t=>Z({},e,{child:t}))));case"row":const o=w(e.right,r,n,a),s=w(e.left,r,n,a);return T.some(Z({},e,{left:s,right:o}));case"block":return(0,U.zG)(w(e.parts,r,n,a),(t=>Z({},e,{parts:t})),T.some);case"list":return(0,U.zG)(e.items,L.UI((e=>(0,U.zG)(a(e.label,r,n),T.map((t=>Z({},e,{label:t})))))),L.hX(T.isSome),L.UI(H.MH),(t=>Z({},e,{items:t})),T.some);case"button":return(0,U.zG)(a(e.label,r,n),T.map((t=>Z({},e,{label:t}))));case"alternativeChoice":return(0,U.zG)(e.alternatives,L.UI((e=>(0,U.zG)([a(e.label,r,n),a(e.preview,r,n)],T.sequenceArray,T.map((e=>e)),T.map((([t,r])=>Z({},e,{label:t,preview:r})))))),L.hX(T.isSome),L.UI(H.MH),(t=>Z({},e,{alternatives:t})),T.some);case"alternativeSlider":return(0,U.zG)(e.choices,L.UI((e=>(0,U.zG)(a(e.preview,r,n),T.map((t=>Z({},e,{preview:t})))))),L.hX(T.isSome),L.UI(H.MH),(t=>Z({},e,{choices:t})),T.some);case"assistantFeed":return(0,U.zG)(T.fromNullable(e.footer),T.chain((e=>a(e,r,n))),T.map((t=>Z({},e,{footer:t}))),T.alt((()=>T.some(e))),T.chain((e=>(0,U.zG)(a(e.header,r,n),T.map((t=>Z({},e,{header:t})))))));case"popoverStack":return(0,U.zG)(Object.keys(e.views),L.u4({},((t,o)=>(0,U.zG)(a(e.views[o].child,r,n),T.fold((()=>(delete t[o],t)),(r=>(t[o]=Z({},e.views[o],{child:r}),t)))))),(t=>Z({},e,{views:t})),T.some);case"viewStack":return(0,U.zG)(Object.keys(e.views),L.u4({},((t,o)=>(0,U.zG)(a(e.views[o],r,n),T.fold((()=>(delete t[o],t)),(e=>(t[o]=e,t)))))),(t=>Z({},e,{views:t})),T.some);case"collapsedCard":const i=(0,U.zG)(T.fromNullable(e.quickActions),T.chain((e=>a(e,r,n))),T.getOrElse((()=>{})));return(0,U.zG)(a(e.child,r,n),T.map((t=>Z({},e,{child:t,quickActions:i}))));case"longFormCard":return(0,U.zG)(a(e.fullContent,r,n),T.chain((t=>(0,U.zG)(a(e.collapsedContent,r,n),T.map((r=>Z({},e,{fullContent:t,collapsedContent:r})))))));case"globalPart":return(0,U.zG)(a(e.content,r,n),T.map((t=>Z({},e,{content:t}))));case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return T.some(e);default:if(ee(e))return T.some(e);(0,R.vE)(e)}};function*S(e,r=t.PreOrder,n=[]){const a=[...n,e.id];switch(r){case t.PreOrder:yield e,yield*A(e,r,a);break;case t.PostOrder:yield*A(e,r,a),yield e;break;default:(0,R.vE)(r)}}const C=(e,n,a=t.PreOrder,o)=>e.forEach((e=>r(e,n,a,o)));function*G(e,r=t.PreOrder,n){for(let t=0;t<e.length;t++)yield*S(e[t],r,n)}const P=(e,n,a=t.PreOrder,o)=>{switch(e.type){case"column":return C(e.children,n,a,o);case"assistantCard":return null!=e.footer&&r(e.footer,n,a,o),r(e.child,n,a,o);case"popoverStack":return C(Object.values(e.views).map((e=>e.child)),n,a,o);case"strongAlertRef":case"box":case"scroll":case"inlineCard":case"tooltip":return r(e.child,n,a,o);case"row":return C(e.left,n,a,o),C(e.right,n,a,o);case"block":return C(e.parts,n,a,o);case"list":return C(e.items.map((e=>e.label)),n,a,o);case"button":return r(e.label,n,a,o);case"alternativeChoice":return e.alternatives.forEach((({label:e,preview:t})=>C([e,t],n,a,o)));case"alternativeSlider":return e.choices.forEach((({preview:e})=>r(e,n,a,o)));case"assistantFeed":return null!=e.footer&&r(e.footer,n,a,o),r(e.header,n,a,o);case"viewStack":return C(Object.values(e.views),n,a,o);case"collapsedCard":return null!=e.quickActions&&r(e.quickActions,n,a,o),r(e.child,n,a,o);case"longFormCard":return r(e.collapsedContent,n,a,o),r(e.fullContent,n,a,o);case"globalPart":return r(e.content,n,a,o);case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return;default:if(ee(e))return;(0,R.vE)(e)}};function*A(e,r=t.PreOrder,n){switch(e.type){case"column":yield*G(e.children,r,n);break;case"assistantCard":null!=e.footer&&(yield*S(e.footer,r,n)),yield*S(e.child,r,n);break;case"popoverStack":yield*G(Object.values(e.views).map((e=>e.child)),r,n);break;case"strongAlertRef":case"box":case"scroll":case"inlineCard":case"tooltip":yield*S(e.child,r,n);break;case"row":yield*G(e.left,r,n),yield*G(e.right,r,n);break;case"block":yield*G(e.parts,r,n);break;case"list":yield*G(e.items.map((e=>e.label)),r,n);break;case"button":yield*S(e.label,r,n);break;case"alternativeChoice":for(let t=0;t<e.alternatives.length;t++){const{label:a,preview:o}=e.alternatives[t];yield*G([a,o],r,n)}break;case"alternativeSlider":for(let t=0;t<e.choices.length;t++){const{preview:a}=e.choices[t];yield*S(a,r,n)}break;case"assistantFeed":null!=e.footer&&(yield*S(e.footer,r,n)),yield*S(e.header,r,n);break;case"viewStack":yield*G(Object.values(e.views),r,n);break;case"collapsedCard":null!=e.quickActions&&(yield*S(e.quickActions,r,n)),yield*S(e.child,r,n);break;case"longFormCard":yield*S(e.collapsedContent,r,n),yield*S(e.fullContent,r,n);break;case"icon":case"image":case"text":case"clickableText":case"count":case"alertsCount":case"slider":case"gButton":case"lensesSwitchPanel":case"proofitButton":case"nativeSkillsModal":case"nativeSkillsList":case"nativeSkillsView":case"nativeToneInsightsModal":case"nativeLearnMoreModal":case"nativeSettingsModal":case"nativeFeedbackModal":case"nativeGetStartedChecklistModal":case"nativeKeyTakeawaysAssistantCard":case"nativeProofitModal":case"nativeExperimentalGBToneInsightsUpsellFooter":case"nativeExperimentalGBConsistencyUpsellFooter":case"nativeInlineCardContent":case"progressBar":case"horizontalRule":case"dropDownMenuButton":case"selectableDropDownMenu":case"radioButtonsGroup":return;default:if(ee(e))return;(0,R.vE)(e)}}e.Functor={map:(e,r)=>i(e,r,t.PreOrder)};const z=N.n(D.z2)(Q.VY);e.dslRootParser=(0,U.ls)(z.decode,X.mapLeft((e=>new Error(D.ii(e)))))}(B||(B={}));class te{getInteractionActions(e,t,r){return(0,U.zG)(this._state.get(),(e=>e.dsl),T.filter((r=>r.id===e&&r.selected===t)),T.map((e=>e.views[e.selected])),T.fold((()=>[]),(e=>{switch(r){case F.fP.Fulfill:return e.onFulfill||[];case F.fP.Dismiss:return e.onDismiss||[];default:(0,R.L0)(r)}})))}addPopover(e,t){this._state.modify((r=>{const n=void 0!==t&&r.revision>t,a=void 0!==t&&r.revision===t,o=(0,U.zG)(r.dsl,T.exists((t=>t.id===e.id))),s=!T.isNone(r.dsl);return n||o||a&&s?r:{dsl:T.some(e),revision:null!=t?t:r.revision}}))}removePopover(e,t){this._state.modify((r=>{const n=void 0!==t&&r.revision>t,a=(0,U.zG)(r.dsl,T.exists((t=>t.id===e)));return n||!a?r:{dsl:T.none,revision:null!=t?t:r.revision}}))}switchView(e){this._state.modify((t=>(0,U.zG)(t.dsl,T.filter((t=>t.id===e.sduiRootId)),T.map((t=>B.bulkSwitchView(t,[{where:e.where,selected:e.selected,type:"switchView"}]))),T.filter((e=>"popoverStack"===e.type)),T.fold((()=>t),(e=>({dsl:T.some(e),revision:t.revision}))))))}constructor(){this._state=E.h.create({dsl:T.none,revision:-1}),this.activePopoverStack=this._state.view("dsl"),this.activePopoverView=this.activePopoverStack.view(T.chain((e=>T.fromNullable(e.views[e.selected]))))}}},31903:(e,t,r)=>{r.d(t,{Q:()=>c});var n=r(57050),a=r(37492),o=r(51072),s=r(81531);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._capiSDUIClient=t,this._log=s.C8.Logging.getLogger("SDUIFeedbackServiceImpl")}var t,r,c;return t=e,(r=[{key:"sendUserAction",value:function(e,t){var r=this;this._log.debug("Sending user action",{componentId:e,userAction:t}),(0,n.zG)(this._capiSDUIClient.sendUserAction(e,t),o.Vi,(function(e){return e.catch((function(e){a.EP.isDroppedError(e)?r._log.debug("Stopped listening for sendUserAction message acknowledge",e):a.YG.isNotConnectedError(e)?r._log.warn("Failed to sendUserAction as CAPI was not connected",e):r._log.error("Failed to sendUserAction",e)}))}))}}])&&i(t.prototype,r),c&&i(t,c),e}()}}]);