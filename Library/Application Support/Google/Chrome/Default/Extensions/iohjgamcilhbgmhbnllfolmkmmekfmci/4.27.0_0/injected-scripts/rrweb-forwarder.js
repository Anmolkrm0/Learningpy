(()=>{var e={76739:(e,t,n)=>{"use strict";n.d(t,{f7:()=>r,mC:()=>d,r5:()=>c,y:()=>u});var r,o=n(57252),s=n(11566),i=n(29238),a=n(63294);function c(e){var t=(0,o.pi)((0,o.pi)({},e),{onReady:function(e){e()}});return Object.defineProperty(t,"_setDebug",{get:function(){return i.yD},enumerable:!1}),t}function u(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return(0,a.Z)(e,"onReady callback threw an error:")()}))}function d(e,t){var n=(0,s._7)(e,t);return{configuration:n,internalMonitoring:(0,i.py)(n)}}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(r||(r={}))},89584:(e,t,n)=>{"use strict";n.d(t,{MI:()=>i,WQ:()=>g,ej:()=>u,fH:()=>a,oX:()=>l});var r,o=n(70882),s=n(65411),i=s.WT;function a(e,t){var n,r,o=!1,s=function(){o=!0,clearTimeout(n),n=setTimeout((function(){o=!1}),i)};return{get:function(){return o||(r=u(e),s()),r},set:function(n,o){c(e,n,o,t),r=n,s()}}}function c(e,t,n,r){var o=new Date;o.setTime(o.getTime()+n);var s="expires="+o.toUTCString(),i=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain="+r.domain:"",c=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+s+";path=/;samesite="+i+a+c}function u(e){return(0,s.MY)(document.cookie,e)}function d(e,t){c(e,"",0,t)}function l(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+(0,s.DO)(),n="test";c(t,n,s.WT,e);var r=u(t)===n;return d(t,e),r}catch(e){return o.j.error(e),!1}}function g(){if(void 0===r){for(var e="dd_site_test_"+(0,s.DO)(),t=window.location.hostname.split("."),n=t.pop();t.length&&!u(e);)n=t.pop()+"."+n,c(e,"test",s.WT,{domain:n});d(e,{domain:n}),r=n}return r}},99571:(e,t,n)=>{"use strict";n.d(t,{o:()=>p,z:()=>f});var r,o,s=n(57252),i=n(29238),a=n(29883),c=n(57604),u=n(80816),d=n(11627),l=[],g=[];function f(){return r||(window.fetch&&(o=window.fetch,window.fetch=function(e,t){var n,r=(0,i.L6)(m,null,[e,t]);return r?(n=o.call(this,r.input,r.init),(0,i.L6)(h,null,[n,r])):n=o.call(this,e,t),n}),r={beforeSend:function(e){l.push(e)},onRequestComplete:function(e){g.push(e)}}),r}function p(){r&&(r=void 0,l.splice(0,l.length),g.splice(0,g.length),window.fetch=o)}function m(e,t){var n=t&&t.method||"object"==typeof e&&e.method||"GET",r=(0,d.D5)("object"==typeof e&&e.url||e),o={init:t,input:e,method:n,startClocks:(0,u.$I)(),url:r};return l.forEach((function(e){return e(o)})),o}function h(e,t){var n=this,r=function(e){return(0,s.mG)(n,void 0,void 0,(function(){var n,r;return(0,s.Jh)(this,(function(o){switch(o.label){case 0:return t.duration=(0,u._J)(t.startClocks.timeStamp,(0,u.n$)()),"stack"in e||e instanceof Error?(t.status=0,t.responseText=(0,c.P3)((0,a._t)(e)),t.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,t.error=e,g.forEach((function(e){return e(t)})),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];n=void 0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return n=o.sent(),[3,5];case 4:return r=o.sent(),n="Unable to retrieve response: "+r,[3,5];case 5:t.response=e,t.responseText=n,t.responseType=e.type,t.status=e.status,t.isAborted=!1,g.forEach((function(e){return e(t)})),o.label=6;case 6:return[2]}}))}))};e.then((0,i.zk)(r),(0,i.zk)(r))}},89096:(e,t,n)=>{"use strict";n.d(t,{E:()=>p,h:()=>f});var r,o,s,i,a=n(57252),c=n(29238),u=n(80816),d=n(11627),l=[],g=[];function f(){return r||(o=XMLHttpRequest.prototype.open,s=XMLHttpRequest.prototype.send,i=XMLHttpRequest.prototype.abort,XMLHttpRequest.prototype.open=m,XMLHttpRequest.prototype.send=h,XMLHttpRequest.prototype.abort=v,r={beforeSend:function(e){l.push(e)},onRequestComplete:function(e){g.push(e)}}),r}function p(){r&&(r=void 0,l.length=0,g.length=0,XMLHttpRequest.prototype.open=o,XMLHttpRequest.prototype.send=s,XMLHttpRequest.prototype.abort=i)}function m(e,t){var n=this;return(0,c.L6)((function(){n._datadog_xhr={method:e,url:(0,d.D5)(t)}})),o.apply(this,arguments)}function h(){var e=this;return(0,c.L6)((function(){if(e._datadog_xhr){e._datadog_xhr.startTime=(0,u._q)(),e._datadog_xhr.startClocks=(0,u.$I)(),e._datadog_xhr.isAborted=!1;var t=!1,n=e.onreadystatechange,r=function(){this.readyState===XMLHttpRequest.DONE&&o(),n&&n.apply(this,arguments)},o=(0,c.zk)((function(){e.removeEventListener("loadend",o),e.onreadystatechange===r&&(e.onreadystatechange=n),t||(t=!0,y(e))}));e.onreadystatechange=r,e.addEventListener("loadend",o),l.forEach((function(t){return t(e._datadog_xhr,e)}))}})),s.apply(this,arguments)}function v(){var e=this;return(0,c.L6)((function(){e._datadog_xhr&&(e._datadog_xhr.isAborted=!0)})),i.apply(this,arguments)}function y(e){e._datadog_xhr.duration=(0,u._J)(e._datadog_xhr.startClocks.timeStamp,(0,u.n$)()),e._datadog_xhr.responseText=e.response,e._datadog_xhr.status=e.status,e._datadog_xhr.xhr=e,g.forEach((function(t){return t((0,a.pi)({},e._datadog_xhr))}))}},11566:(e,t,n)=>{"use strict";n.d(t,{_7:()=>u});var r=n(57252),o=n(89584),s=n(63294),i=n(65411),a=n(85912),c={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,trackViewsManually:!1,requestErrorResponseLengthLimit:32*i.Tn,flushTimeout:30*i.WT,maxBatchSize:50,maxMessageSize:256*i.Tn,batchBytesLimit:16*i.Tn};function u(e,t){var n=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],o=(0,r.pi)((0,r.pi)({beforeSend:e.beforeSend&&(0,s.Z)(e.beforeSend,"beforeSend threw an error:"),cookieOptions:d(e),isEnabled:function(e){return(0,i.q9)(n,e)},service:e.service},(0,a.hK)(e,t)),c);return"allowedTracingOrigins"in e&&(o.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(o.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(o.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(o.trackInteractions=!!e.trackInteractions),"trackViewsManually"in e&&(o.trackViewsManually=!!e.trackViewsManually),"actionNameAttribute"in e&&(o.actionNameAttribute=e.actionNameAttribute),o}function d(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=(0,o.WQ)()),t}},91289:(e,t,n)=>{"use strict";n.d(t,{U:()=>d});var r,o=n(57252),s=n(57604),i=n(80816),a=n(65411),c=n(29238),u=n(29883);function d(e){return r=console.error,console.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=(0,s.Xp)();(0,c.L6)((function(){r.apply(console,t),e.notify((0,o.pi)((0,o.pi)({},l(t,a)),{source:s.zH.CONSOLE,startClocks:(0,i.$I)(),handling:s.Xw.HANDLED}))}))},{stop:function(){console.error=r}}}function l(e,t){var n=(0,a.sE)(e,(function(e){return e instanceof Error}));return{message:(0,o.pr)(["console error:"],e).map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?(0,s.jN)((0,u._t)(e)):(0,a.lh)(e,void 0,2)}(e)})).join(" "),stack:n?(0,s.P3)((0,u._t)(n)):void 0,handlingStack:t}}},57650:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(99571),o=n(89096),s=n(57604),i=n(65411);function a(e,t,n){function a(r,o){e.isIntakeUrl(o.url)||!n&&o.isAborted||!function(e){return 0===e.status&&"opaque"!==e.responseType}(o)&&!function(e){return e.status>=500}(o)||t.notify({message:u(r)+" error "+o.method+" "+o.url,resource:{method:o.method,statusCode:o.status,url:o.url},source:s.zH.NETWORK,stack:c(o.responseText,e)||"Failed to load",startClocks:o.startClocks})}return void 0===n&&(n=!0),(0,o.h)().onRequestComplete((function(e){return a(i.xd.XHR,e)})),(0,r.z)().onRequestComplete((function(e){return a(i.xd.FETCH,e)})),{stop:function(){(0,o.E)(),(0,r.o)()}}}function c(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function u(e){return i.xd.XHR===e?"XHR":"Fetch"}},85154:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r,o=n(57604),s=n(80816),i=n(2517);function a(e){return r=function(t,n,r){var i=(0,o.wl)(t,r,"Uncaught"),a=i.stack,c=i.message,u=i.type;e.notify({message:c,stack:a,type:u,source:o.zH.SOURCE,startClocks:(0,s.$I)(),originalError:r,handling:o.Xw.UNHANDLED})},(0,i.Ld)(r),{stop:function(){(0,i.r1)(r)}}}},29238:(e,t,n)=>{"use strict";n.d(t,{L6:()=>m,Th:()=>f,Ur:()=>v,py:()=>g,tV:()=>h,yD:()=>w,zk:()=>p});var r,o=n(57252),s=n(70882),i=n(57604),a=n(65411),c=n(61878),u=n(29883);!function(e){e.info="info",e.error="error"}(r||(r={}));var d,l={maxMessagesPerPage:0,sentMessageCount:0};function g(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);function r(t){return new c.E(new c.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint)),{add:function(e){var r=function(e){return(0,a.$e)({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==d?d():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);(0,a.f0)(l,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){d=e}}}function f(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.batch?p(r):r;return n.apply(this,e)}}function p(e){return function(){return m(e,this,arguments)}}function m(e,t,n){try{return e.apply(t,n)}catch(e){A(e);try{v(e)}catch(e){A(e)}}}function h(e,t){!function(e){l.debugMode&&s.j.log("[MONITORING MESSAGE]",e)}(e),y((0,o.pi)((0,o.pi)({message:e},t),{status:r.info}))}function v(e){y((0,o.pi)((0,o.pi)({},function(e){if(e instanceof Error){var t=(0,u._t)(e);return{error:{kind:t.name,stack:(0,i.P3)(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+(0,a.lh)(e)}}(e)),{status:r.error}))}function y(e){l.batch&&l.sentMessageCount<l.maxMessagesPerPage&&(l.sentMessageCount+=1,l.batch.add(e))}function w(e){l.debugMode=e}function A(e){l.debugMode&&s.j.error("[INTERNAL ERROR]",e)}},61437:(e,t,n)=>{"use strict";n.d(t,{TK:()=>s});var r=n(89584),o=n(4344);function s(e){var t=e.get(),n=(0,r.ej)("_dd"),s=(0,r.ej)("_dd_r"),i=(0,r.ej)("_dd_l");if(!t){var a={};n&&(a.id=n),i&&/^[01]$/.test(i)&&(a.logs=i),s&&/^[012]$/.test(s)&&(a.rum=s),(0,o.En)(a,e)}}},4344:(e,t,n)=>{"use strict";n.d(t,{En:()=>p,M_:()=>l});var r=n(89584),o=n(68990),s=n(65411),i=n(29238),a=n(61437),c=15*s.yR,u=4*s.dV,d=s.yR;function l(e,t,n){var c=(0,r.fH)("_dd_s",e);(0,a.TK)(c);var u=new o.y,l=f(c).id,g=s.P2((0,i.zk)((function(){var e=f(c),r=n(e[t]),o=r.trackingType,i=r.isTracked;e[t]=o,i&&!e.id&&(e.id=s.DO(),e.created=String(Date.now())),p(e,c),i&&l!==e.id&&(l=e.id,u.notify())})),r.MI).throttled;return g(),function(e){var t=s.yw(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;h.push(t)}(g),function(e){var t=(0,i.zk)((function(){"visible"===document.visibilityState&&p(f(c),c)})),n=s.Oo(document,"visibilitychange",t).stop;h.push(n);var r=setInterval(t,d);h.push((function(){clearInterval(r)}))}(),{getId:function(){return f(c).id},getTrackingType:function(){return f(c)[t]},renewObservable:u}}var g=/^([a-z]+)=([a-z0-9-]+)$/;function f(e){var t=function(e){var t=e.get(),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||g.test(e))}(t)&&t.split("&").forEach((function(e){var t=g.exec(e);if(null!==t){var r=t[1],o=t[2];n[r]=o}})),n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<u)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(m(e),{})}function p(e,t){if(s.Qr(e))m(t);else{e.expire=String(Date.now()+c);var n=s.qP(e).map((function(e){return e[0]+"="+e[1]})).join("&");t.set(n,c)}}function m(e){e.set("",0)}var h=[]},29883:(e,t,n)=>{"use strict";n.d(t,{F1:()=>a,_t:()=>s});var r=n(2517),o="?";function s(e,t){var n,r=void 0===t?0:+t;try{if(n=function(e){var t=u(e,"stacktrace");if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,i=t.split("\n"),a=[],c=0;c<i.length;c+=2){var d=void 0;r.exec(i[c])?d={args:[],column:void 0,func:(n=r.exec(i[c]))[3],line:+n[1],url:n[2]}:s.exec(i[c])&&(d={args:(n=s.exec(i[c]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),d&&(!d.func&&d.line&&(d.func=o),d.context=[i[c+1]],a.push(d))}if(a.length)return{stack:a,message:u(e,"message"),name:u(e,"name")}}}(e),n)return n}catch(e){if(i)throw e}try{if(n=function(e){var t=u(e,"stack");if(t){for(var n,r,s,i,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,d=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,g=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=t.split("\n"),p=[],m=0,h=f.length;m<h;m+=1){if(a.exec(f[m])){var v=(s=a.exec(f[m]))[2]&&0===s[2].indexOf("native");n=s[2]&&0===s[2].indexOf("eval"),r=g.exec(s[2]),n&&r&&(s[2]=r[1],s[3]=r[2],s[4]=r[3]),i={args:v?[s[2]]:[],column:s[4]?+s[4]:void 0,func:s[1]||o,line:s[3]?+s[3]:void 0,url:v?void 0:s[2]}}else if(d.exec(f[m]))i={args:[],column:(s=d.exec(f[m]))[4]?+s[4]:void 0,func:s[1]||o,line:+s[3],url:s[2]};else{if(!c.exec(f[m]))continue;n=(s=c.exec(f[m]))[3]&&s[3].indexOf(" > eval")>-1,r=l.exec(s[3]),n&&r?(s[3]=r[1],s[4]=r[2],s[5]=void 0):0!==m||s[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),i={args:s[2]?s[2].split(","):[],column:s[5]?+s[5]:void 0,func:s[1]||o,line:s[4]?+s[4]:void 0,url:s[3]}}!i.func&&i.line&&(i.func=o),p.push(i)}if(p.length)return{stack:p,message:u(e,"message"),name:u(e,"name")}}}(e),n)return n}catch(e){if(i)throw e}try{if(n=function(e){var t=u(e,"message");if(t){var n=t.split("\n");if(!(n.length<4)){var r,s,i,a=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of function script\s*$/i,l=[],g=window&&window.document&&window.document.getElementsByTagName("script"),f=[];for(var p in g)s=g,i=p,Object.prototype.hasOwnProperty.call(s,i)&&!g[p].src&&f.push(g[p]);for(var m=2;m<n.length;m+=2){var h=void 0;a.exec(n[m])?h={args:[],column:void 0,func:(r=a.exec(n[m]))[3],line:+r[1],url:r[2]}:c.exec(n[m])?h={args:[],column:void 0,func:(r=c.exec(n[m]))[4],line:+r[1],url:r[3]}:d.exec(n[m])&&(r=d.exec(n[m]),h={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+r[1]}),h&&(h.func||(h.func=o),h.context=[n[m+1]],l.push(h))}if(l.length)return{stack:l,message:n[0],name:u(e,"name")}}}}(e),n)return n}catch(e){if(i)throw e}try{if(n=c(e,r+1))return n}catch(e){if(i)throw e}return{message:u(e,"message"),name:u(e,"name"),stack:[]}}var i=!1;function a(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var o=e.stack;if(o.length>0&&o[0].url===r.url){if(o[0].line===r.line)return!1;if(!o[0].line&&o[0].func===r.func)return o[0].line=r.line,o[0].context=r.context,!1}return o.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function c(e,t){for(var n,i,d=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],g={},f=!1,p=c.caller;p&&!f;p=p.caller)p!==s&&p!==r.Hj&&(i={args:[],column:void 0,func:o,line:void 0,url:void 0},n=d.exec(p.toString()),p.name?i.func=p.name:n&&(i.func=n[1]),void 0===i.func&&(i.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),g[p.toString()]?f=!0:g[p.toString()]=!0,l.push(i));t&&l.splice(0,t);var m={stack:l,message:u(e,"message"),name:u(e,"name")};return a(m,u(e,"sourceURL")||u(e,"fileName"),u(e,"line")||u(e,"lineNumber")),m}function u(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}},2517:(e,t,n)=>{"use strict";n.d(t,{Hj:()=>i,Ld:()=>p,r1:()=>m});var r=n(29238),o=n(29883),s=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function i(e){if(c){if(a===e)return;w()}var t=(0,o._t)(e);throw c=t,a=e,setTimeout((0,r.zk)((function(){a===e&&w()})),t.incomplete?2e3:0),e}var a,c,u,d,l,g,f=[];function p(e){d||(u=window.onerror,window.onerror=(0,r.zk)(v),d=!0),g||(l=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=(0,r.zk)(y),g=!0),f.push(e)}function m(e){for(var t=f.length-1;t>=0;t-=1)f[t]===e&&f.splice(t,1);0===f.length&&(d&&(window.onerror=u,d=!1),g&&(window.onunhandledrejection=l,g=!1))}function h(e,t,n){var r;if(f.forEach((function(o){try{o(e,t,n)}catch(e){r=e}})),r)throw r}function v(e,t,n,r,i){if(c)(0,o.F1)(c,t,n),w();else if(i)h((0,o._t)(i),!0,i);else{var a,d={url:t,column:r,line:n},l=e;if("[object String]"==={}.toString.call(e)){var g=s.exec(l);g&&(a=g[1],l=g[2])}h({name:a,message:"string"==typeof l?l:void 0,stack:[d]},!0,e)}return!!u&&u.apply(this,arguments)}function y(e){var t=e.reason||"Empty reason";h((0,o._t)(t),!0,t)}function w(){var e=c,t=a;c=void 0,a=void 0,h(e,!1,t)}},85912:(e,t,n)=>{"use strict";n.d(t,{hK:()=>d});var r,o=n(57252),s=n(76739),i=n(65411),a={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay",trace:"trace"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0,trace:"public-trace"}},c=((r={}).eu="datadoghq.eu",r.us="datadoghq.com",r),u=[c.us,c.eu];function d(e,t){var n={buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||c[e.datacenter||t.datacenter],version:e.version},r=function(e,t){return!t.useAlternateIntakeDomains&&(0,i.q9)(u,e)?"classic":"alternate"}(n.site,e),d=function(e,t,n){if(t.proxyHost)return["https://"+t.proxyHost+"/v1/input/"];var r=[t.site];t.buildMode===s.f7.STAGING&&n&&r.push(c.us);for(var o=[],i=Object.keys(a[e]),u=0,d=r;u<d.length;u++)for(var g=d[u],f=0,p=i;f<p.length;f++){var m=p[f];o.push("https://"+l(e,m,g)+"/v1/input/")}return o}(r,n,void 0!==e.replica),f={isIntakeUrl:function(e){return d.some((function(t){return 0===e.indexOf(t)}))},logsEndpoint:g(r,"logs",n),rumEndpoint:g(r,"rum",n),sessionReplayEndpoint:g(r,"sessionReplay",n),traceEndpoint:g(r,"trace",n)};if(e.internalMonitoringApiKey&&(f.internalMonitoringEndpoint=g(r,"logs",n,"browser-agent-internal-monitoring")),n.buildMode===s.f7.E2E_TEST&&(f.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",f.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",f.rumEndpoint="<<< E2E RUM ENDPOINT >>>",f.sessionReplayEndpoint="<<< E2E SESSION REPLAY ENDPOINT >>>"),n.buildMode===s.f7.STAGING&&void 0!==e.replica){var p=(0,o.pi)((0,o.pi)({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:c.us});f.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:g(r,"logs",p,"browser-agent-internal-monitoring"),logsEndpoint:g(r,"logs",p),rumEndpoint:g(r,"rum",p)}}return f}function l(e,t,n){return"classic"===e&&function(e,t){var n=a.classic[e];return n&&n+"-http-intake.logs."+t}(t,n)||function(e,t){var n=a.alternate[e],r=t.split("."),o=r.pop();return n+".browser-intake-"+(r.join("-")+"."+o)}(t,n)}function g(e,t,n,r){var o="sdk_version:"+n.sdkVersion+(n.env?",env:"+n.env:"")+(n.service?",service:"+n.service:"")+(n.version?",version:"+n.version:""),s=l(e,t,n.site),i=n.proxyHost?n.proxyHost:s,a=(n.proxyHost?"ddhost="+s+"&":"")+"ddsource="+(r||"browser")+"&ddtags="+encodeURIComponent(o);return"https://"+i+"/v1/input/"+n.clientToken+"?"+a}},86160:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=function(){function e(e){void 0===e&&(e=1e4),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}()},63294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(70882);function o(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return e.apply(void 0,n)}catch(e){r.j.error(t,e)}}}},72069:(e,t,n)=>{"use strict";function r(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}n.d(t,{W:()=>r})},70882:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)}},57604:(e,t,n)=>{"use strict";n.d(t,{P3:()=>u,Xp:()=>l,Xw:()=>r,jN:()=>d,wl:()=>c,zH:()=>a});var r,o=n(29238),s=n(29883),i=n(65411),a={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source"};function c(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:u(e),handlingStack:r,type:e.name}:{message:n+" "+(0,i.lh)(t),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}function u(e){var t=d(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",o=e.line?":"+e.line:"",s=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+o+s})),t}function d(e){return(e.name||"Error")+": "+e.message}function l(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){(0,i.ZT)()}return(0,o.L6)((function(){var n=(0,s._t)(t);n.stack=n.stack.slice(2),e=u(n)})),e}!function(e){e.HANDLED="handled",e.UNHANDLED="unhandled"}(r||(r={}))},65310:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});var r=n(57604),o=n(80816),s=n(65411);function i(e,t){var n=0,i=!1;return{isLimitReached:function(){if(0===n&&setTimeout((function(){n=0}),s.yR),(n+=1)<=e.maxErrorsByMinute||i)return i=!1,!1;if(n===e.maxErrorsByMinute+1){i=!0;try{t({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:r.zH.AGENT,startClocks:(0,o.$I)()})}finally{i=!1}}return!0}}}},68990:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t}))}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}()},80816:(e,t,n)=>{"use strict";function r(){return Date.now()}function o(){return performance.now()}function s(){return{relative:o(),timeStamp:r()}}function i(e,t){return t-e}n.d(t,{$I:()=>s,_J:()=>i,_q:()=>o,n$:()=>r})},11627:(e,t,n)=>{"use strict";n.d(t,{D5:()=>s});var r,o=n(65411);function s(e){return function(e,t){if(function(){if(void 0!==r)return r;try{var e=new URL("http://test/path");return r="http://test/path"===e.href}catch(e){r=!1}return r}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,o=n.createElement("a");if(void 0!==t){var s=(n=document.implementation.createHTMLDocument("")).createElement("base");s.href=t,n.head.appendChild(s),n.body.appendChild(o)}return o.href=e,o}(e,(0,o.Dp)()).href}},65411:(e,t,n)=>{"use strict";n.d(t,{$e:()=>R,DO:()=>g,Dp:()=>T,I8:()=>L,MY:()=>k,Oo:()=>S,P2:()=>d,Qr:()=>x,Rf:()=>E,TT:()=>A,Tn:()=>u,WT:()=>i,ZT:()=>p,dV:()=>c,f0:()=>l,lh:()=>m,q9:()=>v,qP:()=>b,sE:()=>y,xd:()=>o,y7:()=>f,yR:()=>a,yw:()=>M,zz:()=>w});var r,o,s=n(29238),i=1e3,a=60*i,c=60*a,u=1024;function d(e,t,n){var r,o,s=!n||void 0===n.leading||n.leading,i=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];a?r=n:(s?e.apply(void 0,n):r=n,a=!0,o=setTimeout((function(){i&&r&&e.apply(void 0,r),a=!1,r=void 0}),t))},cancel:function(){clearTimeout(o),a=!1,r=void 0}}}function l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function g(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,g)}function f(e){return 0!==e&&100*Math.random()<=e}function p(){}function m(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];h(e)&&(r=[!0,e.toJSON],delete e.toJSON);var o,s,i=[!1,void 0];"object"==typeof e&&h(o=Object.getPrototypeOf(e))&&(i=[!0,o.toJSON],delete o.toJSON);try{s=JSON.stringify(e,t,n)}catch(e){s="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),i[0]&&(o.toJSON=i[1])}return s}function h(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function v(e,t){return-1!==e.indexOf(t)}function y(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function w(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function A(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n])})),t}function b(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function x(e){return 0===Object.keys(e).length}function E(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function T(){return function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)}function k(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}function S(e,t,n,r){return M(e,[t],n,r)}function M(e,t,n,r){var o=void 0===r?{}:r,i=o.once,a=o.capture,c=o.passive,u=(0,s.zk)(i?function(e){l(),n(e)}:n),d=c?{capture:a,passive:c}:a;t.forEach((function(t){return e.addEventListener(t,u,d)}));var l=function(){return t.forEach((function(t){return e.removeEventListener(t,u,d)}))};return{stop:l}}function C(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],s=0;s<t.length;++s)o[s]=C(o[s],t[s],n);return o}var i,a="object"==(null===(i=e)?"null":Array.isArray(i)?"array":typeof i)?e:{};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(a[c]=C(a[c],t[c],n));return a}}function L(e){return C(void 0,e)}function R(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];null!=s&&(e=C(e,s))}return e}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(r||(r={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(o||(o={}))},61878:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,a:()=>u});var r=n(57252),o=n(70882),s=n(65411),i=n(29238),a=/[^\u0000-\u007F]/,c=!1,u=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl,r=!!navigator.sendBeacon&&t<this.bytesLimit;if(r)try{if(navigator.sendBeacon(n,e))return}catch(e){!function(e){d||(d=!0,(0,i.Ur)(e))}(e)}var o=new XMLHttpRequest;o.addEventListener("loadend",(0,i.zk)((function(e){return function(e){var o=null==e?void 0:e.currentTarget;o.status>=200&&o.status<300||c||(c=!0,(0,i.tV)("XHR fallback failed",{on_line:navigator.onLine,size:t,url:n,try_beacon:r,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:o.status,ready_state:o.readyState,response_text:o.responseText.slice(0,64)}}))}(e)}))),o.open("POST",n,!0),o.send(e)},e}(),d=!1,l=function(){function e(e,t,n,r,o,i){void 0===i&&(i=s.ZT),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=o,this.beforeUnloadCallback=i,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){const e=[(0,r.pr)(this.pushOnlyBuffer,(0,s.TT)(this.upsertBuffer)).join("\n"),this.bufferBytesSize];(window.DATADOG_REQUEST_PROXY?window.DATADOG_REQUEST_PROXY(this.request):this.request.send.bind(this.request))(...e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},e.prototype.sizeInBytes=function(e){return a.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,s=n.messageBytesSize;s>=this.maxMessageSize?o.j.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(s)&&this.flush(),this.push(r,s,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=(0,s.lh)(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout((0,i.zk)((function(){e.flush(),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&((0,s.Oo)(window,"beforeunload",this.beforeUnloadCallback),(0,s.Oo)(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush()})),(0,s.Oo)(window,"beforeunload",(function(){return e.flush()})))},e}()},57252:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>s,mG:()=>o,pi:()=>r,pr:()=>i});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r}},22991:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r={buildMode:"release",datacenter:"us",sdkVersion:"2.18.0"}},61674:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(41076),o=n(76739),s=n(65411),i=n(72069),a=n(86160),c=n(29238),u=n(70882),d=n(54729),l=function(e){var t=!1,n=(0,i.W)(),l={},g=new a.S,f=function(e,t){g.add((function(){return f(e,t)}))},p=function(){},m=new d.Yd(h);return(0,o.r5)({logger:m,init:(0,c.zk)((function(r){(function(e){return t?(e.silentMultipleInit||u.j.error("DD_LOGS is already initialized."),!1):e&&(e.publicApiKey||e.clientToken)?!(void 0!==e.sampleRate&&!(0,s.zz)(e.sampleRate))||(u.j.error("Sample Rate should be a number between 0 and 100"),!1):(u.j.error("Client Token is not configured, we will not send any data."),!1)})(r)&&(r.publicApiKey&&(r.clientToken=r.publicApiKey,u.j.warn("Public API Key is deprecated. Please use Client Token instead.")),f=e(r,m,n.get),p=function(){return(0,s.I8)(r)},g.drain(),t=!0)})),getLoggerGlobalContext:(0,c.zk)(n.get),setLoggerGlobalContext:(0,c.zk)(n.set),addLoggerGlobalContext:(0,c.zk)(n.add),removeLoggerGlobalContext:(0,c.zk)(n.remove),createLogger:(0,c.zk)((function(e,t){return void 0===t&&(t={}),l[e]=new d.Yd(h,t.handler,t.level,(0,r.pi)((0,r.pi)({},t.context),{logger:{name:e}})),l[e]})),getLogger:(0,c.zk)((function(e){return l[e]})),getInitConfiguration:(0,c.zk)((function(){return p()}))});function h(e){f(e,(0,s.$e)({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},n.get()))}}(n(78571).zl);(0,o.y)((0,s.Rf)(),"DD_LOGS",l)},78571:(e,t,n)=>{"use strict";n.d(t,{zl:()=>m});var r=n(76739),o=n(68990),s=n(91289),i=n(85154),a=n(57650),c=n(89584),u=n(65411),d=n(61878),l=n(65310),g=n(54729),f=n(43545),p=n(22991);function m(e,t,n){var m=(0,r.mC)(e,p.H),v=m.configuration,y=m.internalMonitoring,w=new o.y;return!1!==e.forwardErrorsToLogs&&((0,s.U)(w),(0,i.L)(w),(0,a.D)(v,w,v.isEnabled("remove-network-errors"))),function(e,t,n,r,o,s){n.setExternalContextProvider((function(){return(0,u.$e)({session_id:r.getId()},s(),h())}));var i=function(e,t,n){var r=(0,l.S)(t,n);return function(n,o){if(e.isTracked()){var s=(0,u.$e)({service:t.service,session_id:e.getId()},o,h(),n);if(!(t.beforeSend&&!1===t.beforeSend(s)||s.status===g.i8.error&&r.isLimitReached()))return s}}}(r,e,c),a=function(e){var t,n=r(e.logsEndpoint);function r(t){return new d.E(new d.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.logsEndpoint)),{add:function(e){n.add(e),t&&t.add(e)}}}(e);function c(e){o.error(e.message,(0,u.$e)({date:e.startClocks.timeStamp,error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,h(e.startClocks.relative)))}return t.subscribe(c),function(e,t){var n=i(e,t);n&&a.add(n)}}(v,w,y,(0,f.cQ)(v,(0,c.oX)(v.cookieOptions)),t,n)}function h(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}},54729:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>p,i8:()=>d});var r,o=n(41076),s=n(72069),i=n(65411),a=n(70882),c=n(57604),u=n(29238),d={debug:"debug",error:"error",info:"info",warn:"warn"},l=((r={})[d.debug]=0,r[d.info]=1,r[d.warn]=2,r[d.error]=3,r),g=(Object.keys(d),"console"),f="http",p=function(){function e(e,t,n,r){void 0===t&&(t=f),void 0===n&&(n=d.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=(0,s.W)(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=d.info),l[n]>=l[this.level]){var r=Array.isArray(this.handlerType)?this.handlerType:[this.handlerType];(0,i.q9)(r,f)&&this.sendLog((0,o.pi)({message:e,status:n},(0,i.$e)(this.contextManager.get(),t))),(0,i.q9)(r,g)&&a.j.log(n+": "+e,(0,i.$e)(this.contextManager.get(),t))}},e.prototype.debug=function(e,t){this.log(e,t,d.debug)},e.prototype.info=function(e,t){this.log(e,t,d.info)},e.prototype.warn=function(e,t){this.log(e,t,d.warn)},e.prototype.error=function(e,t){var n={error:{origin:c.zH.LOGGER}};this.log(e,(0,i.$e)(n,t),d.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},(0,o.gn)([u.Th],e.prototype,"log",null),e}()},43545:(e,t,n)=>{"use strict";n.d(t,{cQ:()=>i});var r,o=n(4344),s=n(65411);function i(e,t){if(!t){var n=a(e)===r.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var s=(0,o.M_)(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return e===r.NOT_TRACKED||e===r.TRACKED}(t)?t:a(e);return{trackingType:n,isTracked:n===r.TRACKED}}(e,t)}));return{getId:s.getId,isTracked:function(){return s.getTrackingType()===r.TRACKED}}}function a(e){return(0,s.y7)(e.sampleRate)?r.TRACKED:r.NOT_TRACKED}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(r||(r={}))},13005:(e,t,n)=>{"use strict";n.d(t,{fy:()=>r.f}),n(54729);var r=n(61674)},41076:(e,t,n)=>{"use strict";n.d(t,{gn:()=>o,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}},88116:(e,t,n)=>{"use strict";n.d(t,{v:()=>h});var r=n(4580),o=n(59100),s=n(35679),i=n(87456),a=n(10053),c=n(26231);const u=(0,r.Q)(o.M.Test)?"TEST":void 0,d=(0,s.J)(o.q.Development),l=(0,s.J)(o.q.Staging),g=(0,s.J)(o.q.Preview),f=(0,s.J)(o.q.Production),p=(0,i._)(i.Y.Chrome),m=(0,i._)(i.Y.Firefox),h={EXT_VERSION:(0,c.P)(),DASH_WELCOME_URL:"https://jam.dev/welcome?ref=extension",BROWSER_BUILD:(0,a.Z)({}.BROWSER_BUILD,"chrome"),IN_CHROME_BUILD:p,IN_FIREFOX_BUILD:m,ENV:(0,a.Z)("production",u),IS_DEV:d,IS_STAGING:l,IS_PREVIEW:g,IS_PRODUCTION:f,GRAPHQL_URL:(0,a.Z)("https://graphql.jam.dev/graphql",u),GRAPHQL_URL_WS:(0,a.Z)("wss://graphql.jam.dev/graphql",u),DASH_URL:(0,a.Z)("https://jam.dev",u),DATADOG_CLIENT_TOKEN:"pubcf40b29020e52aed8ee66a6b7be21795",DATADOG_SERVICE:(0,a.Z)("chrome-extension","extension"),DATADOG_VERSION:(0,a.Z)("c27e6a501149f489d85fc7fd9a9bb64131b0b09e",""),DISABLE_ORIGIN_BLOCKING:!f&&!u};if((0,r.Q)(o.M.Test))try{window.config=h}catch(e){globalThis.config=h}},26231:(e,t,n)=>{"use strict";function r(){try{return n(72565).runtime.getManifest().version}catch{return"unknown"}}n.d(t,{P:()=>r})},14515:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});const r={};let o;function s(e,t=window){const n=r[e];if(n)return n.bind(t);const s=t[e]??window[e];if(s&&function(e){const t=e.toString(),n=e.name;return i.test(t)&&t.includes(n)}(s))return r[e]=s,s.bind(t);if(!o){const e=document.createElement("iframe");if(e.src=`data:text/html;charset=utf-8,${encodeURIComponent("<body></body>")}`,e.width="0",e.height="0",e.style.width="0",e.style.height="0",e.style.display="none",e.style.visibility="hidden",function(e){document.body?document.body.append(e):document.documentElement.append(e)}(e),!e.contentWindow)return void e.remove();o=e.contentWindow,e.remove()}const a=o[e];return r[e]=a,a.bind(t)}const i=/function\s+\w+\(\)\s+{\s+\[native code]\s+}/i},13472:(e,t,n)=>{"use strict";n.d(t,{Component:()=>i.Component,ContentScripts:()=>i.ContentScripts,ForwardingError:()=>i.ForwardingError,getMessageBrokerSingleton:()=>i.getMessageBrokerSingleton});var r=n(67767);n.o(r,"Component")&&n.d(t,{Component:function(){return r.Component}}),n.o(r,"ContentScripts")&&n.d(t,{ContentScripts:function(){return r.ContentScripts}}),n.o(r,"ForwardingError")&&n.d(t,{ForwardingError:function(){return r.ForwardingError}}),n.o(r,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return r.getMessageBrokerSingleton}});var o=n(32428);n.o(o,"Component")&&n.d(t,{Component:function(){return o.Component}}),n.o(o,"ContentScripts")&&n.d(t,{ContentScripts:function(){return o.ContentScripts}}),n.o(o,"ForwardingError")&&n.d(t,{ForwardingError:function(){return o.ForwardingError}}),n.o(o,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return o.getMessageBrokerSingleton}});var s=n(45071);n.o(s,"Component")&&n.d(t,{Component:function(){return s.Component}}),n.o(s,"ContentScripts")&&n.d(t,{ContentScripts:function(){return s.ContentScripts}}),n.o(s,"ForwardingError")&&n.d(t,{ForwardingError:function(){return s.ForwardingError}}),n.o(s,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return s.getMessageBrokerSingleton}});var i=n(91157)},72604:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r=n(13005),o=n(21102);let s=!n(88116).v.IS_PRODUCTION;function i(e){s=e}function a(){return s}try{window.setJamLogging=i}catch(e){globalThis.setJamLogging=i}try{window.getJamLogging=a}catch(e){globalThis.getJamLogging=a}const c={sample(e,t,...n){if((0,o.U)((()=>{u(e,n)}),t),d(n)){const t=[...n,r.fy.getLoggerGlobalContext()];console[e](...t)}},log:(...e)=>{d(e)&&console.log(...e)},warn:(...e)=>{if(d(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.warn(...t)}u("warn",e)},error:(...e)=>{if(d(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.error(...t)}u("error",e)},info:(...e)=>{if(d(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.info(...t)}u("info",e)},debug:(...e)=>{d(e)&&console.debug(...e)},group:(...e)=>{d(e)&&console.group(...e)},groupCollapsed:(...e)=>{d(e)&&console.group(...e)},groupEnd:(...e)=>{d(e)&&console.groupEnd(...e)}};function u(e,t){const n=(t,n)=>r.fy.logger[e](t,n);if("string"==typeof t[0]){if(1===t.length)return void n(t[0]);if(2===t.length&&("object"==typeof t[1]||void 0===t[1])&&null!==t[1])return void n(t[0],t[1])}n(JSON.stringify(t))}function d(e){return s&&function(e){try{if(!("localStorage"in globalThis)||!globalThis.localStorage.debug)return!0}catch(e){return!0}if("string"!=typeof e[0]||"string"!=typeof globalThis.localStorage.debug)return!0;const t=e[0],n=globalThis.localStorage.debug.replace("*",".*");return new RegExp("^"+n).test(t)}(e)}},39329:(e,t,n)=>{"use strict";n.d(t,{x:()=>c});var r=n(64793),o=n(92982),s=n(67136),i=n(47273),a=n(61114);class c{constructor(e){this.needToBeAckedHandlers=new r.h,this.chunkBuilders=new r.h,this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t,n){if(e.datagramType!==i.pT.Chunked)return;if(e.chunkDatagramType===i.qQ.Ack)return void e.ackIds.forEach((e=>{const t=this.needToBeAckedHandlers.get(e);t?t():this.onErrorHandler(new Error("received chunked ack datagram, but the corresponding handler has timed out or was nonexistent"))}));if(e.chunkDatagramType===i.qQ.Head)return this.chunkBuilders.set(e.id,Array.from({length:e.bodyDatagramIds.length}),e.expiresAt-Date.now()),n({type:"datagram",expiresAt:e.expiresAt,id:(0,a.LI)(),datagramType:i.pT.Chunked,chunkDatagramType:i.qQ.Ack,ackIds:[e.id]});const r=this.chunkBuilders.get(e.headDatagramId);if(r){if(r[e.index]=e.inner,r.length===r.filter(o.$H).length){const n=r.join(""),o=JSON.parse(n);this.receiveDataHandler(o,t.src,t.dest),this.chunkBuilders.delete(e.headDatagramId)}return n({type:"datagram",expiresAt:e.expiresAt,id:(0,a.LI)(),datagramType:i.pT.Chunked,chunkDatagramType:i.qQ.Ack,ackIds:[e.id]})}this.onErrorHandler(new Error("received chunked body datagram, but the chunk builder has timed out or was nonexistent"))}async sendData(e,t,n){const r=(0,a.LI)(),o=function(e){return function(e,t){const n=function(e,t){if((0,s.XX)(e,t))return[];const n=[];let r=0;for(let o=0;o<e.length;o++){const i=(0,s.vN)(e[o]);r+i>t?(n.push(o),r=i):r+=i}return 0!==r&&n.push(e.length-1),n}(e,t);if(0===n.length)return[e];const r=[];let o=0;for(const t of n)r.push(e.slice(o,t)),o=t;return o<e.length&&r.push(e.slice(o)),r}(JSON.stringify(e),s.z0)}(e),c=o.map(((e,n)=>({type:"datagram",expiresAt:Date.now()+t,id:(0,a.LI)(),datagramType:i.pT.Chunked,chunkDatagramType:i.qQ.Body,inner:e,index:n,headDatagramId:r}))),d={type:"datagram",expiresAt:Date.now()+2*t/3,id:r,datagramType:i.pT.Chunked,chunkDatagramType:i.qQ.Head,bodyDatagramIds:c.map((e=>e.id))};await this.sendDatagramAndAwaitAck(d,3,n,new Error("Head datagram was not acked in time"));const l=u(d.expiresAt-Date.now(),new Error("Sending chunked datagram bodies timed out without being acked"));await Promise.race([l,Promise.all(c.map((e=>this.sendDatagramAndAwaitAck(e,3,n,new Error("Body datagram timed out without being acked")))))])}async sendDatagramAndAwaitAck(e,t,n,r){const o=e.expiresAt-Date.now(),s=new Promise((t=>{this.needToBeAckedHandlers.set(e.id,(()=>{t()}),o)}));await n(e);const i=o/t;for(let e=0;e<t;e++)try{const e=u(i);return void await Promise.race([e,s])}catch{}throw r}}function u(e,t){return new Promise(((n,r)=>{setTimeout((()=>r(t)),e)}))}},84589:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r=n(64793),o=n(39329),s=n(57474),i=n(67136),a=n(49782),c=n(47656),u=n(47273),d=n(95126);class l{constructor(e){this.receivedDatagramIds=new r.h;const t={onErrorHandler:e.onError,receiveDataHandler:e.receiveDataHandler};this.datagramTypeHandlers={[u.pT.Single]:new s.p(t),[u.pT.Url]:new a.t(t),[u.pT.Chunked]:new o.x(t)},this.onErrorHandler=e.onError,this.packetLayer=new c.a({address:e.address,canForward:e.canForward,receivePacketHandler:e=>this.receivePacket(e),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers})}async receivePacket(e){const t=e.data;if(!(0,u._1)(t))throw new Error("Datagram layer somehow received packet that doesn't hold a datagram");if(this.receivedDatagramIds.get(t.id))return void this.receivedDatagramIds.delete(t.id);const n=Date.now();t.expiresAt>n&&this.receivedDatagramIds.set(t.id,!0,t.expiresAt-n);const r=this.datagramTypeHandlers[t.datagramType];try{const n=t=>this.packetLayer.sendPacket({type:"packet",dest:e.src,data:t,expiresAt:t.expiresAt});r.handleDatagram(t,e,n)}catch(e){this.onErrorHandler(new d.m0({message:"Unhandled error from data receiver handler"},e))}}sendData(e,t,n){const{timeout:r=5e3,canUseUrl:o=!1}=n??{};let s;if(s=(0,i.Xt)(e,i.z0)?u.pT.Single:o?u.pT.Url:u.pT.Chunked,s)return this.datagramTypeHandlers[s].sendData(e,r,(e=>this.packetLayer.sendPacket({type:"packet",dest:t,data:e,expiresAt:Date.now()+r})));throw new Error("No handler could handle sending this data")}disconnect(){this.packetLayer.disconnect()}}},57474:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(61114),o=n(47273);class s{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}handleDatagram(e,t){this.receiveDataHandler(e.inner,t.src,t.dest)}sendData(e,t,n){return n({type:"datagram",expiresAt:Date.now()+t,id:(0,r.LI)(),datagramType:o.pT.Single,inner:e})}}},67136:(e,t,n)=>{"use strict";n.d(t,{XX:()=>c,Xt:()=>a,vN:()=>u,z0:()=>i});var r=n(93318);const o=2*r.d.Byte,s=1500*o,i=128*r.d.Megabyte/2-2-s;function a(e,t){const n=JSON.stringify(e);return!(n.length*o>=t)&&c(n,t)}function c(e,t){let n=0;for(const r of e)if(n+=u(r),n>=t)return!1;return n<t}function u(e){return 34===(t=e.charCodeAt(0))||92==t?2*o:Math.max(Math.floor(Math.log2(t+1))-6,1)*o;var t}},49782:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var r=n(47273),o=n(61114);class s{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t){if(!(0,r.jX)(e))return;const n=await fetch(e.url),o=await n.json();this.receiveDataHandler(o,t.src,t.dest)}sendData(e,t,n){const s=JSON.stringify(e),i=(new TextEncoder).encode(s),a=new Blob([i],{type:"application/json;charset=utf-8"}),c=window.URL.createObjectURL(a);return setTimeout((()=>{window.URL.revokeObjectURL(c)}),t),n({type:"datagram",expiresAt:Date.now()+t,id:(0,o.LI)(),datagramType:r.pT.Url,url:c})}}},72408:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r=n(88116).v.IS_DEV&&!1},53063:(e,t,n)=>{"use strict";n.d(t,{m:()=>m}),n(72604);var r=n(12108),o=n(35679),s=n(59100),i=n(22699),a=n.n(i),c=n(84589),u=n(58684),d=n(61114),l=n(40811),g=n(95126);class f{constructor(e){this.messageHandlers=new Map,this.history=[],this.historySize=500,this.disconnected=!1,this.responseAwaiters=new Map,this.eventListeners=new(a().EventEmitter),this.onErrorHandler=e.onError,this.address=e.address,this.datagramLayer=new c.u({address:e.address,canForward:e.canForward,receiveDataHandler:this.receiveDataHandler.bind(this),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers}),this.isTabIncognito=e.isTabIncognito??(()=>!0)}addEventListener(e,t){this.eventListeners.addListener(e,t)}removeEventListener(e,t){this.eventListeners.removeListener(e,t)}async receiveDataHandler(e,t,n){if(!((o=e)&&"object"==typeof o&&"applicationType"in o&&"broker"===o.applicationType&&"eventName"in o&&"type"in o))return;var o;if(this.addToHistory({data:e,src:t,dest:n,timestamp:Date.now()}),"response"===e.type){const t=this.responseAwaiters.get(e.responseToRequestId);if(!t)return void this.onErrorHandler(new g.lk({message:`Broker received response for request with ID ${e.responseToRequestId} but handler must've timed out (or two brokers of the same address exist?)`}));const n=e.data;return this.responseAwaiters.delete(e.responseToRequestId),void t(n)}const s=this.messageHandlers.get(e.eventName);if(!s)return void this.onErrorHandler(new g.UY({message:`Received event(${e.eventName}) with target ${this.address.component}, but no handler is configured`}));let i;try{i=await s(e.data,{src:{...t},dest:{...n}})}catch(e){return void this.onErrorHandler(new g.m0({message:"Uncaught broker handler error"},e))}try{await this.datagramLayer.sendData({applicationType:"broker",type:"response",eventName:e.eventName,responseToRequestId:e.id,data:i},t,{timeout:5*r.X.Second,canUseUrl:this.canUseUrlSending(t)}),this.eventListeners.emit("receive",{sender:t,receiver:n,eventName:e.eventName})}catch(t){return void this.onErrorHandler(new g.lk({message:`Error sending broker response to ${n.component} for request ${e.id} and event ${e.eventName}`},t))}}on(e,t){if(this.messageHandlers.has(e))throw new g.UY({message:`Only one handler can be configured on broker per message (name is: ${e})`});this.messageHandlers.set(e,t)}addToHistory(e){if((0,o.J)(s.q.Production)){const t={...e};delete t.data,this.history.push(t)}else this.history.push(e);this.history.length>this.historySize&&this.history.shift()}canUseUrlSending(e){if((0,u.AM)(this.address.component)&&this.isTabIncognito("self"))return!1;if("tabId"in e){if(this.isTabIncognito(e.tabId))return!1}else if((0,u.AM)(e.component))return!1;return!0}send(e){const{eventName:t,dest:n,payload:o,timeout:s=5*r.X.Second}=e;this.addToHistory({data:{eventName:t,payload:o},dest:n,src:this.address,timestamp:Date.now()});const i=(0,d.jF)();if((0,l.C)(this.address,n)){const e=this.messageHandlers.get(t);return e?e(o,{src:this.address,dest:n}):Promise.reject(new g.UY({message:`Received self-addressed event(${t}) with target ${this.address.component}, but no handler is configured`}))}return new Promise(((e,r)=>{const a=setTimeout((()=>{this.responseAwaiters.delete(i),r(new g.lk({message:`Error sending broker message to ${n.component}`,serializableContext:{eventName:t}},new g.W5({message:`Timed out waiting for response for ${s}ms`})))}),s);this.responseAwaiters.set(i,(r=>{clearTimeout(a),e(r),this.eventListeners.emit("send",{sender:this.address,receiver:n,eventName:t})})),this.datagramLayer.sendData({id:i,applicationType:"broker",type:"request",eventName:t,data:o},n,{timeout:s,canUseUrl:this.canUseUrlSending(n)}).catch((e=>{this.responseAwaiters.delete(i),r(new g.lk({message:`Error sending broker message to ${n.component}: ${e}`,serializableContext:{eventName:t}},e))}))}))}off(e){return this.messageHandlers.delete(e)}destruct(){this.datagramLayer.disconnect(),this.messageHandlers.clear(),this.disconnected=!0}get __responseAwaitersCount(){return this.responseAwaiters.size}}let p;function m(e){return p||(p=new f(e)),p}},91157:(e,t,n)=>{"use strict";n.d(t,{Component:()=>r.wA,ContentScripts:()=>r.d9,ForwardingError:()=>o.pD,getMessageBrokerSingleton:()=>s.m});var r=n(58684),o=n(95126),s=n(53063)},82823:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(90241),o=n(65324),s=n(8657);class i{constructor(){this.type=r.i.Runtime,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){return(0,o.s)(this.browserApi.runtime.sendMessage(e))}onMessage(e){const t=(t,n)=>{(0,s.M)(t)&&e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},90241:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=(e=>(e.Runtime="Runtime",e.Tab="Tab",e.Window="Window",e))(r||{})},87787:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,u:()=>u});var r=n(82823),o=n(90241),s=n(5537),i=n(9764),a=n(19982);function c(e){const t=new Map,n=new Map;for(const[r,o]of e.entries()){const e=d();let s=n.get(o);s||(s=e[o](),n.set(o,s)),t.set(r,s)}return{componentTable:t,typeTable:n}}function u(e,t,n){const r=new Map,o=new Map;for(const[s,a]of t.entries()){let t=o.get(a);t||(t=new i.J(e,a,n),o.set(a,t)),r.set(s,t)}return{componentTable:r,typeTable:o}}const d=(()=>{let e;return()=>e||(e={[o.i.Runtime]:()=>new r.E,[o.i.Tab]:()=>new s._,[o.i.Window]:()=>new a.w},e)})()},65324:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});const r=new Set(["Error: Could not establish connection. Receiving end does not exist."]);function o(...e){return Promise.allSettled(e).then((e=>{const t=e[0];if("rejected"===t.status&&!r.has(`${t.reason}`))throw t.reason;return e}))}},5537:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(90241),o=n(65324),s=n(58684),i=n(95126);class a{constructor(){this.type=r.i.Tab,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){if(e.dest.component===s.wA.ContentScript||e.dest.component===s.wA.HostScript)return t=this.browserApi,n=e.dest.tabId,r=e,(0,o.s)(t.tabs.sendMessage(n,r));var t,n,r;if(e.dest.component===s.wA.All)return async function(e,t){const n=(await e.tabs.query({windowType:"normal"})).map((async n=>{n?.id&&await e.tabs.sendMessage(n.id,t)}));return(0,o.s)(...n)}(this.browserApi,e);throw new i.UY({message:`Native messaging API (${this.type}) cannot send to component ${e.dest.component}`})}onMessage(e){const t=(t,n)=>{e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},9764:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(90241),o=n(58684),s=n(61114);class i{constructor(e,t,n){this.address=e,this.type=t,this.id=(0,s.j1)(),this.destinationHandlers=n}sendMessage(e){const t=function(e,t){if(e===o.wA.Main)return t===o.wA.HostScript?o.wA.ContentScript:t;if(e===o.wA.Popup)return t===o.wA.ContentScript?t:o.wA.Main;if(e===o.wA.HostScript)return o.wA.ContentScript;if(e===o.wA.Foreground)return o.wA.Main;if(e===o.wA.ContentScript)return t===o.wA.HostScript?t:o.wA.Main;throw new Error(`Unhandled component: ${e}. (This shouldn't be called with Component.All)`)}(this.address.component,e.dest.component);let n=!1;return this.destinationHandlers[this.type].forEach((r=>{r.id!==this.id&&(r.address.component===t||e.dest.component===o.wA.All&&e.lastHop.component!==r.address.component)&&(setTimeout((()=>{try{r.eventHandler(e,{tabId:123,frameId:0})}catch{}}),0),n=!0)})),this.type!==r.i.Window&&!n&&[o.wA.ContentScript,o.wA.Main,o.wA.Popup].includes(t)?Promise.reject(new Error(`runtime error when sending to ${t} (chrome will have this when the tab you send to does not exist, for example). Current component is ${this.address.component}, dest is ${e.dest.component}, simulated messaging API type is ${this.type} `)):Promise.resolve()}onMessage(e){const t=()=>e({exampleMessage:(0,s.j1)(),testingData:123,testingData2:"abc"},{});this.destinationHandlers[this.type].push({address:this.address,id:this.id,eventHandler:(n,r)=>{t(),setTimeout(t,Math.floor(1e3*Math.random())),e(n,r)},instance:this})}disconnect(){this.destinationHandlers[this.type]=this.destinationHandlers[this.type].filter((e=>e.id!==this.id))}}},19982:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(90241),o=n(14515);const s=(()=>{let e;return()=>(e||(e={addEventListener:(0,o.X)("addEventListener"),removeEventListener:(0,o.X)("removeEventListener"),dispatchEvent:(0,o.X)("dispatchEvent")}),e)})();class i{constructor(){this.type=r.i.Window,this.handlers=[];const e=this.rawHandler.bind(this);this.boundRawHandler=e;const{addEventListener:t}=s();t?.("jamevent",e,!0)}sendMessage(e){const{dispatchEvent:t}=s();return"cloneInto"in globalThis&&(e=cloneInto(e,document.defaultView)),t?.(new CustomEvent("jamevent",{detail:e})),Promise.resolve()}rawHandler(e){this.handlers.map((t=>t(e.detail,{})))}onMessage(e){this.handlers.push(e)}disconnect(){const{removeEventListener:e}=s();e?.("jamevent",this.boundRawHandler,!0),this.handlers=[]}}},47656:(e,t,n)=>{"use strict";n.d(t,{a:()=>p});var r=n(4580),o=n(59100),s=n(92982),i=n(14647),a=n(72408),c=n(87787),u=n(36839),d=n(8657),l=n(58684),g=n(40811),f=n(95126);class p{constructor(e){this.onErrorHandler=e.onError,this.canForward=e.canForward,this.address=e.address,this.receivePacketHandler=e.receivePacketHandler;const t=(0,u.O)(e.address.component),n=(0,r.Q)(o.M.Test)?(0,c.u)(this.address,t,e.destinationHandlers??(()=>{throw new Error("destination handlers required for packet layer in testing")})()):(0,c.C)(t);this.messagingTypeMessagingApiTable=n.typeTable,this.componentMessagingApiTable=n.componentTable,[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.onMessage(((t,n)=>this.onIncomingMessage(t,n,e.type)))}))}disconnect(){[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.disconnect()}))}onIncomingMessage(e,t,n){if(!(0,d.M)(e))return;const r={...e.lastHop,frameId:"frameId"in e.lastHop&&e.lastHop.frameId||t.frameId,tabId:"tabId"in e.lastHop&&e.lastHop.tabId||t.tabId},o={...e.src};o.component!==l.wA.HostScript&&o.component!==l.wA.ContentScript||(o.frameId=o.frameId??r.frameId,o.tabId=o.tabId??r.tabId);const s={...e,lastHop:r,src:o};return this.onIncomingPacket(s,n)}async onIncomingPacket(e,t){if(e.expiresAt<Date.now())this.onErrorHandler(new f.pD({message:"Received packet that had already expired, dropping it...",serializableContext:{timingOverhang:Date.now()-e.expiresAt,...a.S?{pkt:e}:{}}}));else if(!(0,g.C)(this.address,e.lastHop))if(function(e,t){return t.component===l.wA.All||(0,g.C)(e,t)}(this.address,e.dest))try{await this.receivePacketHandler(e)}catch(e){this.onErrorHandler(new f.m0({message:"Unhandled error from receivePacketHandler"},e))}else if(this.canForward&&e.dest.component!==this.address.component){const n={...e,address:{...this.address}};try{if(n.dest.component===l.wA.All){const e=[...this.messagingTypeMessagingApiTable.values()].map((e=>{if(e.type!==t)return m((()=>e.sendMessage(n)),n.expiresAt)}));return void await Promise.all(e)}{const e=this.componentMessagingApiTable.get(n.dest.component);if(e&&e.type!==t)return await m((()=>e.sendMessage(n)),n.expiresAt)}}catch(e){const t={...n};delete t.data,this.onErrorHandler(new f.pD({message:"Could not forward packet",serializableContext:{forwardedPacketWithoutData:t}},e))}}}async sendPacket(e){const t={...e,src:{...this.address},lastHop:{...this.address}},n=t.dest.component,r=(n===l.wA.All?[...this.messagingTypeMessagingApiTable.values()]:[this.componentMessagingApiTable.get(n)]).filter(s.Av);if(0===r.length)throw new f.UY({message:`No route from component ${this.address.component} to component ${n}`});await Promise.all(r.map((e=>m((()=>e.sendMessage(t)),t.expiresAt))))}}async function m(e,t,n=100){const r=t-Date.now();if(r<=0)throw new f.W5({message:"promise to retry is already timed out (epochTime configured before Date.now())"});return new Promise((async(o,s)=>{let a;const c=setTimeout((()=>{const e=new f.W5({message:"Timed out"},a);Error.captureStackTrace?.(e),s(e)}),r);for(;;)try{const t=await e();return clearTimeout(c),o(t)}catch(e){if(a=e,!(Date.now()<t-n)){clearTimeout(c);const e=new f.W5({message:"Timed out"},a);return Error.captureStackTrace?.(e),void s(e)}await(0,i.g)(n)}}))}},36839:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(90241),o=n(58684),s=n(95126);function i(e){switch(e){case o.wA.Main:return new Map([[o.wA.Popup,r.i.Runtime],[o.wA.ContentScript,r.i.Tab],[o.wA.HostScript,r.i.Tab],[o.wA.Foreground,r.i.Tab]]);case o.wA.Popup:return new Map([[o.wA.Main,r.i.Runtime],[o.wA.ContentScript,r.i.Runtime],[o.wA.HostScript,r.i.Runtime]]);case o.wA.Foreground:return new Map([[o.wA.Main,r.i.Runtime]]);case o.wA.ContentScript:return new Map([[o.wA.Main,r.i.Runtime],[o.wA.Popup,r.i.Runtime],[o.wA.ContentScript,r.i.Tab],[o.wA.HostScript,r.i.Window]]);case o.wA.HostScript:return new Map([[o.wA.Main,r.i.Window],[o.wA.Popup,r.i.Window],[o.wA.ContentScript,r.i.Window],[o.wA.HostScript,r.i.Window]]);default:throw new s.UY({message:`Unknown component type, ${e}. Cannot connect to messaging APIs`})}}},40811:(e,t,n)=>{"use strict";n.d(t,{C:()=>o});var r=n(58684);function o(e,t){return t.component===r.wA.All||e.component===t.component&&e.location===t.location}},58684:(e,t,n)=>{"use strict";n.d(t,{AM:()=>o,d9:()=>s,wA:()=>r});var r=(e=>(e.Main="Main",e.Popup="Popup",e.ContentScript="ContentScript",e.HostScript="HostScript",e.Foreground="Foreground",e.All="All",e))(r||{});function o(e){return"ContentScript"===e||"HostScript"===e}var s=(e=>(e.JamUi="content-JamUi",e.RRWebForwarder="content-RRwebForwarder",e.RRWebSnapshot="content-RRwebSnapshot",e.EventListeners="content-event-listeners",e))(s||{})},47273:(e,t,n)=>{"use strict";n.d(t,{_1:()=>s,jX:()=>i,pT:()=>r,qQ:()=>o});var r=(e=>(e.Single="Single",e.Url="Url",e.Chunked="Chunked",e))(r||{}),o=(e=>(e.Head="Head",e.Body="Body",e.Ack="Ack",e))(o||{});function s(e){return"object"==typeof e&&!!e&&"type"in e&&"datagram"===e.type&&"id"in e&&"datagramType"in e}function i(e){return"Url"===e.datagramType}},95126:(e,t,n)=>{"use strict";n.d(t,{UY:()=>i,W5:()=>o,lk:()=>a,m0:()=>c,pD:()=>s});var r=n(88783);class o extends r.Lw{constructor(){super(...arguments),this.name="TimeoutError"}}class s extends r.Lw{constructor(){super(...arguments),this.name="ForwardingError"}}class i extends r.Lw{constructor(){super(...arguments),this.name="ConfigurationError"}}class a extends r.Lw{constructor(){super(...arguments),this.name="CommunicationError"}}class c extends r.Lw{constructor(){super(...arguments),this.name="UncaughtHandlerError"}}},61114:(e,t,n)=>{"use strict";function r(e){let t=Math.floor(1e5*Math.random());return()=>`${e}-id:${Math.random()}:${t++}`}n.d(t,{LI:()=>s,j1:()=>o,jF:()=>i});const o=r("testing-id"),s=r("dg"),i=r("brkr-rq")},8657:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&!!e&&"type"in e&&"packet"===e.type&&"dest"in e&&"src"in e&&"data"in e}n.d(t,{M:()=>r})},67767:()=>{},45071:()=>{},32428:()=>{},87456:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,_:()=>o});var r=(e=>(e.Chrome="chrome",e.Firefox="firefox",e))(r||{});function o(e){return({}.BROWSER_BUILD||"chrome")===e}},59100:(e,t,n)=>{"use strict";n.d(t,{M:()=>o,q:()=>r});var r=(e=>(e.Development="development",e.Preview="preview",e.Staging="staging",e.Production="production",e.Test="test",e))(r||{}),o=(e=>(e.Development="development",e.Production="production",e.Test="test",e))(o||{})},4580:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{Q:()=>r})},35679:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{J:()=>r})},30386:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});class r extends Error{constructor(e){super(e.message),this.original=e,this.name=e.name,this.message=e.message,this.stack=e.stack}toJSON(){return{name:this.name,message:this.message,stack:this.stack}}}},88783:(e,t,n)=>{"use strict";n.d(t,{LT:()=>c,Lw:()=>s,VK:()=>a});var r=n(30386),o=n(92982);class s extends Error{constructor(e,t){super(e.message),this.name=e.name??"WrappedError",this.userError=e.userError,this.debugMessage=e.debugMessage,this.serializableContext=e.serializableContext,t&&(t instanceof s?this.previous=t:t instanceof Error?this.previous=new r.S(t):"string"==typeof t&&(this.previous=t))}get extensions(){return{wrappedError:this}}toJSON(){const e={},t=function(e){const t=Object.assign(Object.create(Object.getPrototypeOf(i)),e);return delete t.stack,t}(this);return Object.getOwnPropertyNames(t).forEach((n=>{const r=n;e[r]=t[r]})),e}valueOf(){return this.toString()}toString(){return this.fullError()}shortError(){return`${this.name}: ${this.message}`}find(e){if(e(this))return this;if(!this.previous)return;if(this.previous instanceof s)return this.previous.find(e);let t=this.previous;return this.previous instanceof r.S&&(t=this.previous.original),e(t)?t:void 0}is(e){return Boolean(this.find((t=>t instanceof e)))}fullError(){let e;this.previous&&(e=this.previous.toString());let t="";try{t=JSON.stringify(this.serializableContext)}catch{t="[Error: provided context was not serializable]"}const n=[[`${this.name}:`,this.message,this.debugMessage?`(${this.debugMessage})`:void 0,this.userError?"(user error)":void 0],[`Serializable context: (${t})`]].map((e=>e.filter(o.Av).join(" ")+".")).join(" ");return e?n+". \nCaused by: \n"+e:n}previousMessage(){if(this.previous)return"string"==typeof this.previous?this.previous:this.previous.message}static isInside(e){if(!(e instanceof s))return!1;const t=this.name;return e.find((e=>e instanceof s&&e.name===t))}}const i=new s({message:"Example Error"});function a(e){return e instanceof s||e instanceof Error?e.toString():String(e)}function c(e){if(e instanceof s)return e.toJSON();if("object"==typeof e&&null!==e&&"toJSON"in e&&"function"==typeof e.toJSON)try{const t=e.toJSON();if("string"==typeof t)return t}catch{}if(e instanceof Error)return{name:e.name,message:e.message,stack:e.stack};try{return JSON.stringify(e)}catch{}if("object"==typeof e&&e)try{return`[This ${e.constructor.name} object cannot be serialized]`}catch{}return`[This ${typeof e} value cannot be serialized]`}},92982:(e,t,n)=>{"use strict";function r(e){return void 0!==e}function o(e){return null!=e}n.d(t,{$H:()=>o,Av:()=>r})},95925:(e,t,n)=>{"use strict";function r(e,t=2){let n=String(e);const r=Math.pow(10,t-1);if(e<r)for(;String(r).length>n.length;)n="0"+e;return n}n.d(t,{B:()=>r})},14647:(e,t,n)=>{"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,{g:()=>r})},10053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(4580),o=n(59100);function s(e,t){if(void 0===e||""===e){if(void 0===t&&!(0,r.Q)(o.M.Test))throw new ReferenceError("Missing a required environment variable");return t??""}return e}},21102:(e,t,n)=>{"use strict";function r(e,t){if(t<0||t>1)throw new Error(`Rate (${t}) must be within the range of 0 to 1, inclusive.`);Math.random()<=t&&e()}n.d(t,{U:()=>r})},93318:(e,t,n)=>{"use strict";var r,o;n.d(t,{d:()=>r}),(o=r||(r={})).Byte=1,o.Kilobyte=1e3*o.Byte,o.Megabyte=1e3*o.Kilobyte,o.Gigabyte=1e3*o.Megabyte},64793:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});class r{constructor(){this.innerMap=new Map}clearExistingTimeout(e){const t=this.innerMap.get(e);t?.timeout&&clearTimeout(t.timeout)}set(e,t,n){this.clearExistingTimeout(e),this.innerMap.set(e,{value:t,timeout:setTimeout((()=>this.innerMap.delete(e)),n)})}get(e){return this.innerMap.get(e)?.value}delete(e){return this.innerMap.delete(e)}}},12108:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r,o,s=n(95925);(o=r||(r={})).Millisecond=1,o.Second=1e3*o.Millisecond,o.Minute=60*o.Second,o.Hour=60*o.Minute,o.Day=24*o.Hour,o.toSeconds=function(e){return e/o.Second},o.isEpochInSeconds=function(e){return Math.abs(Date.now()-e)>Math.abs(Date.now()-1e3*e)},o.formatTime=function(e){if(e<=0)return"00:00";const t=Math.floor(e/o.Hour);e%=o.Hour;const n=Math.floor(e/o.Minute);e%=o.Minute;const r=Math.floor(e/o.Second);return t?`${(0,s.B)(t)}:${(0,s.B)(n)}:${(0,s.B)(r)}`:`${(0,s.B)(n)}:${(0,s.B)(r)}`}},22699:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,o)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var i=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,s,i,u;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),i=s[t]),void 0===i)i=s[t]=n,++e._eventsCount;else if("function"==typeof i?i=s[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=c(e))>0&&i.length>o&&!i.warned){i.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=i.length,u=d,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function g(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(s){r.once&&e.removeEventListener(t,o),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");i=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,s=this._events;if(void 0!==s)o=o&&void 0===s.error;else if(!o)return!1;if(o){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var u=c.length,d=p(c,u);for(n=0;n<u;++n)r(d[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,s,i;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){i=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(o=s[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return g(this,e,!0)},s.prototype.rawListeners=function(e){return g(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},50857:(e,t,n)=>{var r=n(37772).Symbol;e.exports=r},53366:(e,t,n)=>{var r=n(50857),o=n(62107),s=n(37157),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):s(e)}},51704:(e,t,n)=>{var r=n(52153),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},51242:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},62107:(e,t,n)=>{var r=n(50857),o=Object.prototype,s=o.hasOwnProperty,i=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[a]=n:delete e[a]),o}},37157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},37772:(e,t,n)=>{var r=n(51242),o="object"==typeof self&&self&&self.Object===Object&&self,s=r||o||Function("return this")();e.exports=s},52153:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},54073:(e,t,n)=>{var r=n(29259),o=n(61100),s=n(7642),i=Math.max,a=Math.min;e.exports=function(e,t,n){var c,u,d,l,g,f,p=0,m=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=u;return c=u=void 0,p=t,l=e.apply(r,n)}function w(e){return p=e,g=setTimeout(b,t),m?y(e):l}function A(e){var n=e-f;return void 0===f||n>=t||n<0||h&&e-p>=d}function b(){var e=o();if(A(e))return x(e);g=setTimeout(b,function(e){var n=t-(e-f);return h?a(n,d-(e-p)):n}(e))}function x(e){return g=void 0,v&&c?y(e):(c=u=void 0,l)}function E(){var e=o(),n=A(e);if(c=arguments,u=this,f=e,n){if(void 0===g)return w(f);if(h)return clearTimeout(g),g=setTimeout(b,t),y(f)}return void 0===g&&(g=setTimeout(b,t)),l}return t=s(t)||0,r(n)&&(m=!!n.leading,d=(h="maxWait"in n)?i(s(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),E.cancel=function(){void 0!==g&&clearTimeout(g),p=0,c=f=u=g=void 0},E.flush=function(){return void 0===g?l:x(o())},E}},29259:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4795:(e,t,n)=>{var r=n(53366),o=n(15125);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},61100:(e,t,n)=>{var r=n(37772);e.exports=function(){return r.Date.now()}},7642:(e,t,n)=>{var r=n(51704),o=n(29259),s=n(4795),i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):i.test(e)?NaN:+e}},72565:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},s=e=>1==e?"argument":"arguments",i=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),u={has:(t,n)=>n in e||n in r,get(u,d,l){if(d in r)return r[d];if(!(d in e))return;let g=e[d];if("function"==typeof g)if("function"==typeof t[d])g=i(e,e[d],t[d]);else if(a(n,d)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((s,i)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:s,reject:i},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,s()}else t.noCallback?(n[e](...r),s()):n[e](...r,o({resolve:s,reject:i},t))}))})(d,n[d]);g=i(e,e[d],t)}else g=g.bind(e);else if("object"==typeof g&&null!==g&&(a(t,d)||a(n,d)))g=c(g,t[d],n[d]);else{if(!a(n,"*"))return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:()=>e[d],set(t){e[d]=t}}),g;g=c(g,t[d],n["*"])}return r[d]=g,g},set:(t,n,o,s)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},d=Object.create(e);return new Proxy(d,u)},u=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),d=new r((e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),l=new r((e=>"function"!=typeof e?e:function(t,n,r){let o,s,i=!1,a=new Promise((e=>{o=function(t){i=!0,e(t)}}));try{s=e(t,n,o)}catch(e){s=Promise.reject(e)}const c=!0!==s&&((u=s)&&"object"==typeof u&&"function"==typeof u.then);var u;if(!0!==s&&!c&&!i)return!1;return(c?s:a).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),g=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},f=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${s(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${s(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const o=g.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)}))},p={devtools:{network:{onRequestFinished:u(d)}},runtime:{onMessage:u(l),onMessageExternal:u(l),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},m={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":m},services:{"*":m},websites:{"*":m}},c(e,p,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t,r,o,s,i,a=n(72604),c=n(13472),u=n(35679),d=n(59100),l=n(88783),g=n(72565),f=n.n(g),p=n(12108),m=n(54073),h=n.n(m);async function v(t,n,r,o){try{await t.send({eventName:"RecordTabEvent",dest:{component:c.Component.Main,location:void 0},payload:{event:{hostname:window.location.hostname,type:e.Custom,data:{tag:"script-event",payload:{event:r,scriptName:n}},timestamp:Date.now()}}})}catch(e){t.disconnected||o.error(`Could not monitor script event ${r}.\nCaused by: ${(0,l.VK)(e)}`)}}(i=e||(e={}))[i.DomContentLoaded=0]="DomContentLoaded",i[i.Load=1]="Load",i[i.FullSnapshot=2]="FullSnapshot",i[i.IncrementalSnapshot=3]="IncrementalSnapshot",i[i.Meta=4]="Meta",i[i.Custom=5]="Custom",i[i.Plugin=6]="Plugin",function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration"}(t||(t={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"}(r||(r={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange"}(o||(o={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(s||(s={})),h()(((e,t)=>{e.debug(["A communication error occurred in the Jam extension. You may experience a degraded feature set.","If your application utilizes `window.postMessage` and calls `event.preventDefault`,","`event.stopPropagation`, and/or `event.stopImmediatePropagation` on *all* message events received","(regardless of whether they are your application's events), this will prevent Jam from operating as","expected."].join("\n"),t)}),5*p.X.Minute,{leading:!0}),new RegExp(["zoominfo.com"].join("|"));var y=n(13005);const w=(0,n(4580).Q)(d.M.Production)||"true"==={}.ENABLE_DATADOG;let A=!1;const b="content-rrweb-forwarder";let x=!1;!function(){const e=new Date,t=performance.now();a.k.debug(b+" IS RUNNING, urls given:",window.__JAM_INJECTED_SCRIPT_URLS__,t),function(e){const t=(0,c.getMessageBrokerSingleton)({address:{component:c.Component.ContentScript,location:c.ContentScripts.RRWebForwarder},canForward:!0,onError:e=>{e instanceof c.ForwardingError?(0,u.J)(d.q.Production)||a.k.info(`Forwarding error in Broker(${b})`,{error:(0,l.LT)(e)}):a.k.sample("warn",.001,`Inbound message error in Broker(${b})`,{error:(0,l.LT)(e),contentScriptDisconnected:x})}});var n;(function(e){A||(window.DATADOG_REQUEST_PROXY=t=>(...n)=>{e.send({eventName:"ProxyDatadogRequest",dest:{component:c.Component.Main,location:void 0},payload:{request:t,args:n}}).catch((e=>{a.k.debug("Error forwarding Datadog Event:",{error:e})}))},w&&y.fy.onReady((()=>{y.fy.init({clientToken:"pubcf40b29020e52aed8ee66a6b7be21795",site:"datadoghq.com",forwardErrorsToLogs:!0,sampleRate:100,env:"production",service:"chrome-extension",version:"c27e6a501149f489d85fc7fd9a9bb64131b0b09e"})})),A=!0)})(t),v(t,b,"script-init",a.k),t.on("ForwardLog",(async e=>(a.k[e.type](...e.args),!0))),n={SCRIPT_NAME:b,start:e,broker:t,cleanup(){x=!0}},f().runtime.connect({name:n.SCRIPT_NAME}).onDisconnect.addListener((()=>{(0,u.J)(d.q.Production)||a.k.debug(`Exiting ${n.SCRIPT_NAME} due to re-connection ${n.start?`started: ${n.start}`:""}`),v(n.broker,n.SCRIPT_NAME,"script-self-disconnect",a.k).catch((()=>{})),n.broker.destruct(),n.cleanup?.()}))}(e),function(){const e=window.__JAM_INJECTED_SCRIPT_URLS__;e?Array.isArray(e)?0!==e.length?"string"==typeof e[0]?e?.forEach((e=>{!function(e){if("text/html"!==document.contentType)return;const t=document.createElement("script");t.src=e,t.async=!1,t.addEventListener("load",(()=>{t.remove()})),(document.head||document.documentElement).prepend(t)}(e)})):a.k.error("Window URLs are not type string:",e):a.k.error("No entries in in window URLs:",e):a.k.error("Parsed window URLs are not an array:",e):a.k.error("Window URLs are missing:",e)}()}()})()})();