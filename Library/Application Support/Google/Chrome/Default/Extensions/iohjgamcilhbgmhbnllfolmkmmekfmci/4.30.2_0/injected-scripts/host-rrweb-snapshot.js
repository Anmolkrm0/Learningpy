(()=>{var e={76739:(e,t,n)=>{"use strict";n.d(t,{f7:()=>r,mC:()=>l,r5:()=>u,y:()=>c});var r,i=n(57252),o=n(11566),s=n(29238),a=n(63294);function u(e){var t=(0,i.pi)((0,i.pi)({},e),{onReady:function(e){e()}});return Object.defineProperty(t,"_setDebug",{get:function(){return s.yD},enumerable:!1}),t}function c(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return(0,a.Z)(e,"onReady callback threw an error:")()}))}function l(e,t){var n=(0,o._7)(e,t);return{configuration:n,internalMonitoring:(0,s.py)(n)}}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(r||(r={}))},89584:(e,t,n)=>{"use strict";n.d(t,{MI:()=>s,WQ:()=>f,ej:()=>c,fH:()=>a,oX:()=>d});var r,i=n(70882),o=n(65411),s=o.WT;function a(e,t){var n,r,i=!1,o=function(){i=!0,clearTimeout(n),n=setTimeout((function(){i=!1}),s)};return{get:function(){return i||(r=c(e),o()),r},set:function(n,i){u(e,n,i,t),r=n,o()}}}function u(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),s=r&&r.crossSite?"none":"strict",a=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+o+";path=/;samesite="+s+a+u}function c(e){return(0,o.MY)(document.cookie,e)}function l(e,t){u(e,"",0,t)}function d(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+(0,o.DO)(),n="test";u(t,n,o.WT,e);var r=c(t)===n;return l(t,e),r}catch(e){return i.j.error(e),!1}}function f(){if(void 0===r){for(var e="dd_site_test_"+(0,o.DO)(),t=window.location.hostname.split("."),n=t.pop();t.length&&!c(e);)n=t.pop()+"."+n,u(e,"test",o.WT,{domain:n});l(e,{domain:n}),r=n}return r}},99571:(e,t,n)=>{"use strict";n.d(t,{o:()=>p,z:()=>h});var r,i,o=n(57252),s=n(29238),a=n(29883),u=n(57604),c=n(80816),l=n(11627),d=[],f=[];function h(){return r||(window.fetch&&(i=window.fetch,window.fetch=function(e,t){var n,r=(0,s.L6)(g,null,[e,t]);return r?(n=i.call(this,r.input,r.init),(0,s.L6)(v,null,[n,r])):n=i.call(this,e,t),n}),r={beforeSend:function(e){d.push(e)},onRequestComplete:function(e){f.push(e)}}),r}function p(){r&&(r=void 0,d.splice(0,d.length),f.splice(0,f.length),window.fetch=i)}function g(e,t){var n=t&&t.method||"object"==typeof e&&e.method||"GET",r=(0,l.D5)("object"==typeof e&&e.url||e),i={init:t,input:e,method:n,startClocks:(0,c.$I)(),url:r};return d.forEach((function(e){return e(i)})),i}function v(e,t){var n=this,r=function(e){return(0,o.mG)(n,void 0,void 0,(function(){var n,r;return(0,o.Jh)(this,(function(i){switch(i.label){case 0:return t.duration=(0,c._J)(t.startClocks.timeStamp,(0,c.n$)()),"stack"in e||e instanceof Error?(t.status=0,t.responseText=(0,u.P3)((0,a._t)(e)),t.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,t.error=e,f.forEach((function(e){return e(t)})),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];n=void 0,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return n=i.sent(),[3,5];case 4:return r=i.sent(),n="Unable to retrieve response: "+r,[3,5];case 5:t.response=e,t.responseText=n,t.responseType=e.type,t.status=e.status,t.isAborted=!1,f.forEach((function(e){return e(t)})),i.label=6;case 6:return[2]}}))}))};e.then((0,s.zk)(r),(0,s.zk)(r))}},89096:(e,t,n)=>{"use strict";n.d(t,{E:()=>p,h:()=>h});var r,i,o,s,a=n(57252),u=n(29238),c=n(80816),l=n(11627),d=[],f=[];function h(){return r||(i=XMLHttpRequest.prototype.open,o=XMLHttpRequest.prototype.send,s=XMLHttpRequest.prototype.abort,XMLHttpRequest.prototype.open=g,XMLHttpRequest.prototype.send=v,XMLHttpRequest.prototype.abort=m,r={beforeSend:function(e){d.push(e)},onRequestComplete:function(e){f.push(e)}}),r}function p(){r&&(r=void 0,d.length=0,f.length=0,XMLHttpRequest.prototype.open=i,XMLHttpRequest.prototype.send=o,XMLHttpRequest.prototype.abort=s)}function g(e,t){var n=this;return(0,u.L6)((function(){n._datadog_xhr={method:e,url:(0,l.D5)(t)}})),i.apply(this,arguments)}function v(){var e=this;return(0,u.L6)((function(){if(e._datadog_xhr){e._datadog_xhr.startTime=(0,c._q)(),e._datadog_xhr.startClocks=(0,c.$I)(),e._datadog_xhr.isAborted=!1;var t=!1,n=e.onreadystatechange,r=function(){this.readyState===XMLHttpRequest.DONE&&i(),n&&n.apply(this,arguments)},i=(0,u.zk)((function(){e.removeEventListener("loadend",i),e.onreadystatechange===r&&(e.onreadystatechange=n),t||(t=!0,y(e))}));e.onreadystatechange=r,e.addEventListener("loadend",i),d.forEach((function(t){return t(e._datadog_xhr,e)}))}})),o.apply(this,arguments)}function m(){var e=this;return(0,u.L6)((function(){e._datadog_xhr&&(e._datadog_xhr.isAborted=!0)})),s.apply(this,arguments)}function y(e){e._datadog_xhr.duration=(0,c._J)(e._datadog_xhr.startClocks.timeStamp,(0,c.n$)()),e._datadog_xhr.responseText=e.response,e._datadog_xhr.status=e.status,e._datadog_xhr.xhr=e,f.forEach((function(t){return t((0,a.pi)({},e._datadog_xhr))}))}},11566:(e,t,n)=>{"use strict";n.d(t,{_7:()=>c});var r=n(57252),i=n(89584),o=n(63294),s=n(65411),a=n(85912),u={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,trackViewsManually:!1,requestErrorResponseLengthLimit:32*s.Tn,flushTimeout:30*s.WT,maxBatchSize:50,maxMessageSize:256*s.Tn,batchBytesLimit:16*s.Tn};function c(e,t){var n=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],i=(0,r.pi)((0,r.pi)({beforeSend:e.beforeSend&&(0,o.Z)(e.beforeSend,"beforeSend threw an error:"),cookieOptions:l(e),isEnabled:function(e){return(0,s.q9)(n,e)},service:e.service},(0,a.hK)(e,t)),u);return"allowedTracingOrigins"in e&&(i.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(i.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(i.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(i.trackInteractions=!!e.trackInteractions),"trackViewsManually"in e&&(i.trackViewsManually=!!e.trackViewsManually),"actionNameAttribute"in e&&(i.actionNameAttribute=e.actionNameAttribute),i}function l(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=(0,i.WQ)()),t}},91289:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var r,i=n(57252),o=n(57604),s=n(80816),a=n(65411),u=n(29238),c=n(29883);function l(e){return r=console.error,console.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=(0,o.Xp)();(0,u.L6)((function(){r.apply(console,t),e.notify((0,i.pi)((0,i.pi)({},d(t,a)),{source:o.zH.CONSOLE,startClocks:(0,s.$I)(),handling:o.Xw.HANDLED}))}))},{stop:function(){console.error=r}}}function d(e,t){var n=(0,a.sE)(e,(function(e){return e instanceof Error}));return{message:(0,i.pr)(["console error:"],e).map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?(0,o.jN)((0,c._t)(e)):(0,a.lh)(e,void 0,2)}(e)})).join(" "),stack:n?(0,o.P3)((0,c._t)(n)):void 0,handlingStack:t}}},57650:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(99571),i=n(89096),o=n(57604),s=n(65411);function a(e,t,n){function a(r,i){e.isIntakeUrl(i.url)||!n&&i.isAborted||!function(e){return 0===e.status&&"opaque"!==e.responseType}(i)&&!function(e){return e.status>=500}(i)||t.notify({message:c(r)+" error "+i.method+" "+i.url,resource:{method:i.method,statusCode:i.status,url:i.url},source:o.zH.NETWORK,stack:u(i.responseText,e)||"Failed to load",startClocks:i.startClocks})}return void 0===n&&(n=!0),(0,i.h)().onRequestComplete((function(e){return a(s.xd.XHR,e)})),(0,r.z)().onRequestComplete((function(e){return a(s.xd.FETCH,e)})),{stop:function(){(0,i.E)(),(0,r.o)()}}}function u(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function c(e){return s.xd.XHR===e?"XHR":"Fetch"}},85154:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r,i=n(57604),o=n(80816),s=n(2517);function a(e){return r=function(t,n,r){var s=(0,i.wl)(t,r,"Uncaught"),a=s.stack,u=s.message,c=s.type;e.notify({message:u,stack:a,type:c,source:i.zH.SOURCE,startClocks:(0,o.$I)(),originalError:r,handling:i.Xw.UNHANDLED})},(0,s.Ld)(r),{stop:function(){(0,s.r1)(r)}}}},29238:(e,t,n)=>{"use strict";n.d(t,{L6:()=>g,Th:()=>h,Ur:()=>m,py:()=>f,tV:()=>v,yD:()=>b,zk:()=>p});var r,i=n(57252),o=n(70882),s=n(57604),a=n(65411),u=n(61878),c=n(29883);!function(e){e.info="info",e.error="error"}(r||(r={}));var l,d={maxMessagesPerPage:0,sentMessageCount:0};function f(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);function r(t){return new u.E(new u.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint)),{add:function(e){var r=function(e){return(0,a.$e)({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==l?l():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);(0,a.f0)(d,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){l=e}}}function h(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=d.batch?p(r):r;return n.apply(this,e)}}function p(e){return function(){return g(e,this,arguments)}}function g(e,t,n){try{return e.apply(t,n)}catch(e){_(e);try{m(e)}catch(e){_(e)}}}function v(e,t){!function(e){d.debugMode&&o.j.log("[MONITORING MESSAGE]",e)}(e),y((0,i.pi)((0,i.pi)({message:e},t),{status:r.info}))}function m(e){y((0,i.pi)((0,i.pi)({},function(e){if(e instanceof Error){var t=(0,c._t)(e);return{error:{kind:t.name,stack:(0,s.P3)(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+(0,a.lh)(e)}}(e)),{status:r.error}))}function y(e){d.batch&&d.sentMessageCount<d.maxMessagesPerPage&&(d.sentMessageCount+=1,d.batch.add(e))}function b(e){d.debugMode=e}function _(e){d.debugMode&&o.j.error("[INTERNAL ERROR]",e)}},61437:(e,t,n)=>{"use strict";n.d(t,{TK:()=>o});var r=n(89584),i=n(4344);function o(e){var t=e.get(),n=(0,r.ej)("_dd"),o=(0,r.ej)("_dd_r"),s=(0,r.ej)("_dd_l");if(!t){var a={};n&&(a.id=n),s&&/^[01]$/.test(s)&&(a.logs=s),o&&/^[012]$/.test(o)&&(a.rum=o),(0,i.En)(a,e)}}},4344:(e,t,n)=>{"use strict";n.d(t,{En:()=>p,M_:()=>d});var r=n(89584),i=n(68990),o=n(65411),s=n(29238),a=n(61437),u=15*o.yR,c=4*o.dV,l=o.yR;function d(e,t,n){var u=(0,r.fH)("_dd_s",e);(0,a.TK)(u);var c=new i.y,d=h(u).id,f=o.P2((0,s.zk)((function(){var e=h(u),r=n(e[t]),i=r.trackingType,s=r.isTracked;e[t]=i,s&&!e.id&&(e.id=o.DO(),e.created=String(Date.now())),p(e,u),s&&d!==e.id&&(d=e.id,c.notify())})),r.MI).throttled;return f(),function(e){var t=o.yw(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;v.push(t)}(f),function(e){var t=(0,s.zk)((function(){"visible"===document.visibilityState&&p(h(u),u)})),n=o.Oo(document,"visibilitychange",t).stop;v.push(n);var r=setInterval(t,l);v.push((function(){clearInterval(r)}))}(),{getId:function(){return h(u).id},getTrackingType:function(){return h(u)[t]},renewObservable:c}}var f=/^([a-z]+)=([a-z0-9-]+)$/;function h(e){var t=function(e){var t=e.get(),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||f.test(e))}(t)&&t.split("&").forEach((function(e){var t=f.exec(e);if(null!==t){var r=t[1],i=t[2];n[r]=i}})),n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<c)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(g(e),{})}function p(e,t){if(o.Qr(e))g(t);else{e.expire=String(Date.now()+u);var n=o.qP(e).map((function(e){return e[0]+"="+e[1]})).join("&");t.set(n,u)}}function g(e){e.set("",0)}var v=[]},29883:(e,t,n)=>{"use strict";n.d(t,{F1:()=>a,_t:()=>o});var r=n(2517),i="?";function o(e,t){var n,r=void 0===t?0:+t;try{if(n=function(e){var t=c(e,"stacktrace");if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,s=t.split("\n"),a=[],u=0;u<s.length;u+=2){var l=void 0;r.exec(s[u])?l={args:[],column:void 0,func:(n=r.exec(s[u]))[3],line:+n[1],url:n[2]}:o.exec(s[u])&&(l={args:(n=o.exec(s[u]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),l&&(!l.func&&l.line&&(l.func=i),l.context=[s[u+1]],a.push(l))}if(a.length)return{stack:a,message:c(e,"message"),name:c(e,"name")}}}(e),n)return n}catch(e){if(s)throw e}try{if(n=function(e){var t=c(e,"stack");if(t){for(var n,r,o,s,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=t.split("\n"),p=[],g=0,v=h.length;g<v;g+=1){if(a.exec(h[g])){var m=(o=a.exec(h[g]))[2]&&0===o[2].indexOf("native");n=o[2]&&0===o[2].indexOf("eval"),r=f.exec(o[2]),n&&r&&(o[2]=r[1],o[3]=r[2],o[4]=r[3]),s={args:m?[o[2]]:[],column:o[4]?+o[4]:void 0,func:o[1]||i,line:o[3]?+o[3]:void 0,url:m?void 0:o[2]}}else if(l.exec(h[g]))s={args:[],column:(o=l.exec(h[g]))[4]?+o[4]:void 0,func:o[1]||i,line:+o[3],url:o[2]};else{if(!u.exec(h[g]))continue;n=(o=u.exec(h[g]))[3]&&o[3].indexOf(" > eval")>-1,r=d.exec(o[3]),n&&r?(o[3]=r[1],o[4]=r[2],o[5]=void 0):0!==g||o[5]||void 0===e.columnNumber||(p[0].column=e.columnNumber+1),s={args:o[2]?o[2].split(","):[],column:o[5]?+o[5]:void 0,func:o[1]||i,line:o[4]?+o[4]:void 0,url:o[3]}}!s.func&&s.line&&(s.func=i),p.push(s)}if(p.length)return{stack:p,message:c(e,"message"),name:c(e,"name")}}}(e),n)return n}catch(e){if(s)throw e}try{if(n=function(e){var t=c(e,"message");if(t){var n=t.split("\n");if(!(n.length<4)){var r,o,s,a=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of function script\s*$/i,d=[],f=window&&window.document&&window.document.getElementsByTagName("script"),h=[];for(var p in f)o=f,s=p,Object.prototype.hasOwnProperty.call(o,s)&&!f[p].src&&h.push(f[p]);for(var g=2;g<n.length;g+=2){var v=void 0;a.exec(n[g])?v={args:[],column:void 0,func:(r=a.exec(n[g]))[3],line:+r[1],url:r[2]}:u.exec(n[g])?v={args:[],column:void 0,func:(r=u.exec(n[g]))[4],line:+r[1],url:r[3]}:l.exec(n[g])&&(r=l.exec(n[g]),v={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+r[1]}),v&&(v.func||(v.func=i),v.context=[n[g+1]],d.push(v))}if(d.length)return{stack:d,message:n[0],name:c(e,"name")}}}}(e),n)return n}catch(e){if(s)throw e}try{if(n=u(e,r+1))return n}catch(e){if(s)throw e}return{message:c(e,"message"),name:c(e,"name"),stack:[]}}var s=!1;function a(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var i=e.stack;if(i.length>0&&i[0].url===r.url){if(i[0].line===r.line)return!1;if(!i[0].line&&i[0].func===r.func)return i[0].line=r.line,i[0].context=r.context,!1}return i.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function u(e,t){for(var n,s,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],f={},h=!1,p=u.caller;p&&!h;p=p.caller)p!==o&&p!==r.Hj&&(s={args:[],column:void 0,func:i,line:void 0,url:void 0},n=l.exec(p.toString()),p.name?s.func=p.name:n&&(s.func=n[1]),void 0===s.func&&(s.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),f[p.toString()]?h=!0:f[p.toString()]=!0,d.push(s));t&&d.splice(0,t);var g={stack:d,message:c(e,"message"),name:c(e,"name")};return a(g,c(e,"sourceURL")||c(e,"fileName"),c(e,"line")||c(e,"lineNumber")),g}function c(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}},2517:(e,t,n)=>{"use strict";n.d(t,{Hj:()=>s,Ld:()=>p,r1:()=>g});var r=n(29238),i=n(29883),o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function s(e){if(u){if(a===e)return;b()}var t=(0,i._t)(e);throw u=t,a=e,setTimeout((0,r.zk)((function(){a===e&&b()})),t.incomplete?2e3:0),e}var a,u,c,l,d,f,h=[];function p(e){l||(c=window.onerror,window.onerror=(0,r.zk)(m),l=!0),f||(d=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=(0,r.zk)(y),f=!0),h.push(e)}function g(e){for(var t=h.length-1;t>=0;t-=1)h[t]===e&&h.splice(t,1);0===h.length&&(l&&(window.onerror=c,l=!1),f&&(window.onunhandledrejection=d,f=!1))}function v(e,t,n){var r;if(h.forEach((function(i){try{i(e,t,n)}catch(e){r=e}})),r)throw r}function m(e,t,n,r,s){if(u)(0,i.F1)(u,t,n),b();else if(s)v((0,i._t)(s),!0,s);else{var a,l={url:t,column:r,line:n},d=e;if("[object String]"==={}.toString.call(e)){var f=o.exec(d);f&&(a=f[1],d=f[2])}v({name:a,message:"string"==typeof d?d:void 0,stack:[l]},!0,e)}return!!c&&c.apply(this,arguments)}function y(e){var t=e.reason||"Empty reason";v((0,i._t)(t),!0,t)}function b(){var e=u,t=a;u=void 0,a=void 0,v(e,!1,t)}},85912:(e,t,n)=>{"use strict";n.d(t,{hK:()=>l});var r,i=n(57252),o=n(76739),s=n(65411),a={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay",trace:"trace"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0,trace:"public-trace"}},u=((r={}).eu="datadoghq.eu",r.us="datadoghq.com",r),c=[u.us,u.eu];function l(e,t){var n={buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||u[e.datacenter||t.datacenter],version:e.version},r=function(e,t){return!t.useAlternateIntakeDomains&&(0,s.q9)(c,e)?"classic":"alternate"}(n.site,e),l=function(e,t,n){if(t.proxyHost)return["https://"+t.proxyHost+"/v1/input/"];var r=[t.site];t.buildMode===o.f7.STAGING&&n&&r.push(u.us);for(var i=[],s=Object.keys(a[e]),c=0,l=r;c<l.length;c++)for(var f=l[c],h=0,p=s;h<p.length;h++){var g=p[h];i.push("https://"+d(e,g,f)+"/v1/input/")}return i}(r,n,void 0!==e.replica),h={isIntakeUrl:function(e){return l.some((function(t){return 0===e.indexOf(t)}))},logsEndpoint:f(r,"logs",n),rumEndpoint:f(r,"rum",n),sessionReplayEndpoint:f(r,"sessionReplay",n),traceEndpoint:f(r,"trace",n)};if(e.internalMonitoringApiKey&&(h.internalMonitoringEndpoint=f(r,"logs",n,"browser-agent-internal-monitoring")),n.buildMode===o.f7.E2E_TEST&&(h.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",h.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",h.rumEndpoint="<<< E2E RUM ENDPOINT >>>",h.sessionReplayEndpoint="<<< E2E SESSION REPLAY ENDPOINT >>>"),n.buildMode===o.f7.STAGING&&void 0!==e.replica){var p=(0,i.pi)((0,i.pi)({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:u.us});h.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:f(r,"logs",p,"browser-agent-internal-monitoring"),logsEndpoint:f(r,"logs",p),rumEndpoint:f(r,"rum",p)}}return h}function d(e,t,n){return"classic"===e&&function(e,t){var n=a.classic[e];return n&&n+"-http-intake.logs."+t}(t,n)||function(e,t){var n=a.alternate[e],r=t.split("."),i=r.pop();return n+".browser-intake-"+(r.join("-")+"."+i)}(t,n)}function f(e,t,n,r){var i="sdk_version:"+n.sdkVersion+(n.env?",env:"+n.env:"")+(n.service?",service:"+n.service:"")+(n.version?",version:"+n.version:""),o=d(e,t,n.site),s=n.proxyHost?n.proxyHost:o,a=(n.proxyHost?"ddhost="+o+"&":"")+"ddsource="+(r||"browser")+"&ddtags="+encodeURIComponent(i);return"https://"+s+"/v1/input/"+n.clientToken+"?"+a}},86160:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=function(){function e(e){void 0===e&&(e=1e4),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}()},63294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70882);function i(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{return e.apply(void 0,n)}catch(e){r.j.error(t,e)}}}},72069:(e,t,n)=>{"use strict";function r(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}n.d(t,{W:()=>r})},70882:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)}},57604:(e,t,n)=>{"use strict";n.d(t,{P3:()=>c,Xp:()=>d,Xw:()=>r,jN:()=>l,wl:()=>u,zH:()=>a});var r,i=n(29238),o=n(29883),s=n(65411),a={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source"};function u(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:c(e),handlingStack:r,type:e.name}:{message:n+" "+(0,s.lh)(t),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}function c(e){var t=l(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function l(e){return(e.name||"Error")+": "+e.message}function d(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){(0,s.ZT)()}return(0,i.L6)((function(){var n=(0,o._t)(t);n.stack=n.stack.slice(2),e=c(n)})),e}!function(e){e.HANDLED="handled",e.UNHANDLED="unhandled"}(r||(r={}))},65310:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(57604),i=n(80816),o=n(65411);function s(e,t){var n=0,s=!1;return{isLimitReached:function(){if(0===n&&setTimeout((function(){n=0}),o.yR),(n+=1)<=e.maxErrorsByMinute||s)return s=!1,!1;if(n===e.maxErrorsByMinute+1){s=!0;try{t({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:r.zH.AGENT,startClocks:(0,i.$I)()})}finally{s=!1}}return!0}}}},68990:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t}))}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}()},80816:(e,t,n)=>{"use strict";function r(){return Date.now()}function i(){return performance.now()}function o(){return{relative:i(),timeStamp:r()}}function s(e,t){return t-e}n.d(t,{$I:()=>o,_J:()=>s,_q:()=>i,n$:()=>r})},11627:(e,t,n)=>{"use strict";n.d(t,{D5:()=>o});var r,i=n(65411);function o(e){return function(e,t){if(function(){if(void 0!==r)return r;try{var e=new URL("http://test/path");return r="http://test/path"===e.href}catch(e){r=!1}return r}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,i=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(i)}return i.href=e,i}(e,(0,i.Dp)()).href}},65411:(e,t,n)=>{"use strict";n.d(t,{$e:()=>R,DO:()=>f,Dp:()=>x,I8:()=>C,MY:()=>O,Oo:()=>E,P2:()=>l,Qr:()=>A,Rf:()=>S,TT:()=>_,Tn:()=>c,WT:()=>s,ZT:()=>p,dV:()=>u,f0:()=>d,lh:()=>g,q9:()=>m,qP:()=>w,sE:()=>y,xd:()=>i,y7:()=>h,yR:()=>a,yw:()=>T,zz:()=>b});var r,i,o=n(29238),s=1e3,a=60*s,u=60*a,c=1024;function l(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,s=!n||void 0===n.trailing||n.trailing,a=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];a?r=n:(o?e.apply(void 0,n):r=n,a=!0,i=setTimeout((function(){s&&r&&e.apply(void 0,r),a=!1,r=void 0}),t))},cancel:function(){clearTimeout(i),a=!1,r=void 0}}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function f(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,f)}function h(e){return 0!==e&&100*Math.random()<=e}function p(){}function g(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];v(e)&&(r=[!0,e.toJSON],delete e.toJSON);var i,o,s=[!1,void 0];"object"==typeof e&&v(i=Object.getPrototypeOf(e))&&(s=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(e,t,n)}catch(e){o="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),s[0]&&(i.toJSON=s[1])}return o}function v(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function m(e,t){return-1!==e.indexOf(t)}function y(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function b(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function _(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n])})),t}function w(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function A(e){return 0===Object.keys(e).length}function S(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function x(){return function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)}function O(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}function E(e,t,n,r){return T(e,[t],n,r)}function T(e,t,n,r){var i=void 0===r?{}:r,s=i.once,a=i.capture,u=i.passive,c=(0,o.zk)(s?function(e){d(),n(e)}:n),l=u?{capture:a,passive:u}:a;t.forEach((function(t){return e.addEventListener(t,c,l)}));var d=function(){return t.forEach((function(t){return e.removeEventListener(t,c,l)}))};return{stop:d}}function k(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=k(i[o],t[o],n);return i}var s,a="object"==(null===(s=e)?"null":Array.isArray(s)?"array":typeof s)?e:{};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(a[u]=k(a[u],t[u],n));return a}}function C(e){return k(void 0,e)}function R(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=k(e,o))}return e}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(r||(r={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(i||(i={}))},61878:(e,t,n)=>{"use strict";n.d(t,{E:()=>d,a:()=>c});var r=n(57252),i=n(70882),o=n(65411),s=n(29238),a=/[^\u0000-\u007F]/,u=!1,c=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl,r=!!navigator.sendBeacon&&t<this.bytesLimit;if(r)try{if(navigator.sendBeacon(n,e))return}catch(e){!function(e){l||(l=!0,(0,s.Ur)(e))}(e)}var i=new XMLHttpRequest;i.addEventListener("loadend",(0,s.zk)((function(e){return function(e){var i=null==e?void 0:e.currentTarget;i.status>=200&&i.status<300||u||(u=!0,(0,s.tV)("XHR fallback failed",{on_line:navigator.onLine,size:t,url:n,try_beacon:r,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:i.status,ready_state:i.readyState,response_text:i.responseText.slice(0,64)}}))}(e)}))),i.open("POST",n,!0),i.send(e)},e}(),l=!1,d=function(){function e(e,t,n,r,i,s){void 0===s&&(s=o.ZT),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.beforeUnloadCallback=s,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){const e=[(0,r.pr)(this.pushOnlyBuffer,(0,o.TT)(this.upsertBuffer)).join("\n"),this.bufferBytesSize];(window.DATADOG_REQUEST_PROXY?window.DATADOG_REQUEST_PROXY(this.request):this.request.send.bind(this.request))(...e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},e.prototype.sizeInBytes=function(e){return a.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,o=n.messageBytesSize;o>=this.maxMessageSize?i.j.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=(0,o.lh)(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout((0,s.zk)((function(){e.flush(),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&((0,o.Oo)(window,"beforeunload",this.beforeUnloadCallback),(0,o.Oo)(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush()})),(0,o.Oo)(window,"beforeunload",(function(){return e.flush()})))},e}()},57252:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>o,mG:()=>i,pi:()=>r,pr:()=>s});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},22991:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r={buildMode:"release",datacenter:"us",sdkVersion:"2.18.0"}},61674:(e,t,n)=>{"use strict";n.d(t,{f:()=>d});var r=n(41076),i=n(76739),o=n(65411),s=n(72069),a=n(86160),u=n(29238),c=n(70882),l=n(54729),d=function(e){var t=!1,n=(0,s.W)(),d={},f=new a.S,h=function(e,t){f.add((function(){return h(e,t)}))},p=function(){},g=new l.Yd(v);return(0,i.r5)({logger:g,init:(0,u.zk)((function(r){(function(e){return t?(e.silentMultipleInit||c.j.error("DD_LOGS is already initialized."),!1):e&&(e.publicApiKey||e.clientToken)?!(void 0!==e.sampleRate&&!(0,o.zz)(e.sampleRate))||(c.j.error("Sample Rate should be a number between 0 and 100"),!1):(c.j.error("Client Token is not configured, we will not send any data."),!1)})(r)&&(r.publicApiKey&&(r.clientToken=r.publicApiKey,c.j.warn("Public API Key is deprecated. Please use Client Token instead.")),h=e(r,g,n.get),p=function(){return(0,o.I8)(r)},f.drain(),t=!0)})),getLoggerGlobalContext:(0,u.zk)(n.get),setLoggerGlobalContext:(0,u.zk)(n.set),addLoggerGlobalContext:(0,u.zk)(n.add),removeLoggerGlobalContext:(0,u.zk)(n.remove),createLogger:(0,u.zk)((function(e,t){return void 0===t&&(t={}),d[e]=new l.Yd(v,t.handler,t.level,(0,r.pi)((0,r.pi)({},t.context),{logger:{name:e}})),d[e]})),getLogger:(0,u.zk)((function(e){return d[e]})),getInitConfiguration:(0,u.zk)((function(){return p()}))});function v(e){h(e,(0,o.$e)({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},n.get()))}}(n(78571).zl);(0,i.y)((0,o.Rf)(),"DD_LOGS",d)},78571:(e,t,n)=>{"use strict";n.d(t,{zl:()=>g});var r=n(76739),i=n(68990),o=n(91289),s=n(85154),a=n(57650),u=n(89584),c=n(65411),l=n(61878),d=n(65310),f=n(54729),h=n(43545),p=n(22991);function g(e,t,n){var g=(0,r.mC)(e,p.H),m=g.configuration,y=g.internalMonitoring,b=new i.y;return!1!==e.forwardErrorsToLogs&&((0,o.U)(b),(0,s.L)(b),(0,a.D)(m,b,m.isEnabled("remove-network-errors"))),function(e,t,n,r,i,o){n.setExternalContextProvider((function(){return(0,c.$e)({session_id:r.getId()},o(),v())}));var s=function(e,t,n){var r=(0,d.S)(t,n);return function(n,i){if(e.isTracked()){var o=(0,c.$e)({service:t.service,session_id:e.getId()},i,v(),n);if(!(t.beforeSend&&!1===t.beforeSend(o)||o.status===f.i8.error&&r.isLimitReached()))return o}}}(r,e,u),a=function(e){var t,n=r(e.logsEndpoint);function r(t){return new l.E(new l.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.logsEndpoint)),{add:function(e){n.add(e),t&&t.add(e)}}}(e);function u(e){i.error(e.message,(0,c.$e)({date:e.startClocks.timeStamp,error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,v(e.startClocks.relative)))}return t.subscribe(u),function(e,t){var n=s(e,t);n&&a.add(n)}}(m,b,y,(0,h.cQ)(m,(0,u.oX)(m.cookieOptions)),t,n)}function v(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}},54729:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>p,i8:()=>l});var r,i=n(41076),o=n(72069),s=n(65411),a=n(70882),u=n(57604),c=n(29238),l={debug:"debug",error:"error",info:"info",warn:"warn"},d=((r={})[l.debug]=0,r[l.info]=1,r[l.warn]=2,r[l.error]=3,r),f=(Object.keys(l),"console"),h="http",p=function(){function e(e,t,n,r){void 0===t&&(t=h),void 0===n&&(n=l.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=(0,o.W)(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=l.info),d[n]>=d[this.level]){var r=Array.isArray(this.handlerType)?this.handlerType:[this.handlerType];(0,s.q9)(r,h)&&this.sendLog((0,i.pi)({message:e,status:n},(0,s.$e)(this.contextManager.get(),t))),(0,s.q9)(r,f)&&a.j.log(n+": "+e,(0,s.$e)(this.contextManager.get(),t))}},e.prototype.debug=function(e,t){this.log(e,t,l.debug)},e.prototype.info=function(e,t){this.log(e,t,l.info)},e.prototype.warn=function(e,t){this.log(e,t,l.warn)},e.prototype.error=function(e,t){var n={error:{origin:u.zH.LOGGER}};this.log(e,(0,s.$e)(n,t),l.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},(0,i.gn)([c.Th],e.prototype,"log",null),e}()},43545:(e,t,n)=>{"use strict";n.d(t,{cQ:()=>s});var r,i=n(4344),o=n(65411);function s(e,t){if(!t){var n=a(e)===r.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var o=(0,i.M_)(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return e===r.NOT_TRACKED||e===r.TRACKED}(t)?t:a(e);return{trackingType:n,isTracked:n===r.TRACKED}}(e,t)}));return{getId:o.getId,isTracked:function(){return o.getTrackingType()===r.TRACKED}}}function a(e){return(0,o.y7)(e.sampleRate)?r.TRACKED:r.NOT_TRACKED}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(r||(r={}))},13005:(e,t,n)=>{"use strict";n.d(t,{fy:()=>r.f}),n(54729);var r=n(61674)},41076:(e,t,n)=>{"use strict";n.d(t,{gn:()=>i,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}},88116:(e,t,n)=>{"use strict";n.d(t,{v:()=>v});var r=n(4580),i=n(59100),o=n(35679),s=n(87456),a=n(10053),u=n(26231);const c=(0,r.Q)(i.M.Test)?"TEST":void 0,l=(0,o.J)(i.q.Development),d=(0,o.J)(i.q.Staging),f=(0,o.J)(i.q.Preview),h=(0,o.J)(i.q.Production),p=(0,s._)(s.Y.Chrome),g=(0,s._)(s.Y.Firefox),v={EXT_VERSION:(0,u.P)(),DASH_WELCOME_URL:"https://jam.dev/welcome?ref=extension",BROWSER_BUILD:(0,a.Z)({}.BROWSER_BUILD,"chrome"),IN_CHROME_BUILD:p,IN_FIREFOX_BUILD:g,ENV:(0,a.Z)("production",c),IS_DEV:l,IS_STAGING:d,IS_PREVIEW:f,IS_PRODUCTION:h,GRAPHQL_URL:(0,a.Z)("https://graphql.jam.dev/graphql",c),GRAPHQL_URL_WS:(0,a.Z)("wss://graphql.jam.dev/graphql",c),DASH_URL:(0,a.Z)("https://jam.dev",c),DATADOG_CLIENT_TOKEN:"pubcf40b29020e52aed8ee66a6b7be21795",DATADOG_SERVICE:(0,a.Z)("chrome-extension","extension"),DATADOG_VERSION:(0,a.Z)("ed7e85f00c203b054fcaf6894e28f7ee5fdf918c",""),DISABLE_ORIGIN_BLOCKING:!h&&!c};if((0,r.Q)(i.M.Test))try{window.config=v}catch(e){globalThis.config=v}},26231:(e,t,n)=>{"use strict";function r(){try{return n(72565).runtime.getManifest().version}catch{return"unknown"}}n.d(t,{P:()=>r})},14515:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});const r={};let i;function o(e,t=window){const n=r[e];if(n)return n.bind(t);const o=t[e]??window[e];if(o&&function(e){const t=e.toString(),n=e.name;return s.test(t)&&t.includes(n)}(o))return r[e]=o,o.bind(t);if(!i){const e=document.createElement("iframe");if(e.src=`data:text/html;charset=utf-8,${encodeURIComponent("<body></body>")}`,e.width="0",e.height="0",e.style.width="0",e.style.height="0",e.style.display="none",e.style.visibility="hidden",function(e){document.body?document.body.append(e):document.documentElement.append(e)}(e),!e.contentWindow)return void e.remove();i=e.contentWindow,e.remove()}const a=i[e];return r[e]=a,a.bind(t)}const s=/function\s+\w+\(\)\s+{\s+\[native code]\s+}/i},13472:(e,t,n)=>{"use strict";n.d(t,{CommunicationError:()=>s.CommunicationError,Component:()=>s.Component,ContentScripts:()=>s.ContentScripts,HostScripts:()=>s.HostScripts,getMessageBrokerSingleton:()=>s.getMessageBrokerSingleton});var r=n(67767);n.o(r,"CommunicationError")&&n.d(t,{CommunicationError:function(){return r.CommunicationError}}),n.o(r,"Component")&&n.d(t,{Component:function(){return r.Component}}),n.o(r,"ContentScripts")&&n.d(t,{ContentScripts:function(){return r.ContentScripts}}),n.o(r,"HostScripts")&&n.d(t,{HostScripts:function(){return r.HostScripts}}),n.o(r,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return r.getMessageBrokerSingleton}});var i=n(32428);n.o(i,"CommunicationError")&&n.d(t,{CommunicationError:function(){return i.CommunicationError}}),n.o(i,"Component")&&n.d(t,{Component:function(){return i.Component}}),n.o(i,"ContentScripts")&&n.d(t,{ContentScripts:function(){return i.ContentScripts}}),n.o(i,"HostScripts")&&n.d(t,{HostScripts:function(){return i.HostScripts}}),n.o(i,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return i.getMessageBrokerSingleton}});var o=n(45071);n.o(o,"CommunicationError")&&n.d(t,{CommunicationError:function(){return o.CommunicationError}}),n.o(o,"Component")&&n.d(t,{Component:function(){return o.Component}}),n.o(o,"ContentScripts")&&n.d(t,{ContentScripts:function(){return o.ContentScripts}}),n.o(o,"HostScripts")&&n.d(t,{HostScripts:function(){return o.HostScripts}}),n.o(o,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return o.getMessageBrokerSingleton}});var s=n(91157)},72604:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var r=n(13005),i=n(21102);let o=!n(88116).v.IS_PRODUCTION;function s(e){o=e}function a(){return o}try{window.setJamLogging=s}catch(e){globalThis.setJamLogging=s}try{window.getJamLogging=a}catch(e){globalThis.getJamLogging=a}const u={sample(e,t,...n){if((0,i.U)((()=>{c(e,n)}),t),l(n)){const t=[...n,r.fy.getLoggerGlobalContext()];console[e](...t)}},log:(...e)=>{l(e)&&console.log(...e)},warn:(...e)=>{if(l(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.warn(...t)}c("warn",e)},error:(...e)=>{if(l(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.error(...t)}c("error",e)},info:(...e)=>{if(l(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.info(...t)}c("info",e)},debug:(...e)=>{l(e)&&console.debug(...e)},group:(...e)=>{l(e)&&console.group(...e)},groupCollapsed:(...e)=>{l(e)&&console.group(...e)},groupEnd:(...e)=>{l(e)&&console.groupEnd(...e)}};function c(e,t){const n=(t,n)=>r.fy.logger[e](t,n);if("string"==typeof t[0]){if(1===t.length)return void n(t[0]);if(2===t.length&&("object"==typeof t[1]||void 0===t[1])&&null!==t[1])return void n(t[0],t[1])}n(JSON.stringify(t))}function l(e){return o&&function(e){try{if(!("localStorage"in globalThis)||!globalThis.localStorage.debug)return!0}catch(e){return!0}if("string"!=typeof e[0]||"string"!=typeof globalThis.localStorage.debug)return!0;const t=e[0],n=globalThis.localStorage.debug.replace("*",".*");return new RegExp("^"+n).test(t)}(e)}},39329:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(64793),i=n(92982),o=n(67136),s=n(47273),a=n(61114);class u{constructor(e){this.needToBeAckedHandlers=new r.h,this.chunkBuilders=new r.h,this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t,n){if(e.datagramType!==s.pT.Chunked)return;if(e.chunkDatagramType===s.qQ.Ack)return void e.ackIds.forEach((e=>{const t=this.needToBeAckedHandlers.get(e);t?t():this.onErrorHandler(new Error("received chunked ack datagram, but the corresponding handler has timed out or was nonexistent"))}));if(e.chunkDatagramType===s.qQ.Head)return this.chunkBuilders.set(e.id,Array.from({length:e.bodyDatagramIds.length}),e.expiresAt-Date.now()),n({type:"datagram",expiresAt:e.expiresAt,id:(0,a.LI)(),datagramType:s.pT.Chunked,chunkDatagramType:s.qQ.Ack,ackIds:[e.id]});const r=this.chunkBuilders.get(e.headDatagramId);if(r){if(r[e.index]=e.inner,r.length===r.filter(i.$H).length){const n=r.join(""),i=JSON.parse(n);this.receiveDataHandler(i,t.src,t.dest),this.chunkBuilders.delete(e.headDatagramId)}return n({type:"datagram",expiresAt:e.expiresAt,id:(0,a.LI)(),datagramType:s.pT.Chunked,chunkDatagramType:s.qQ.Ack,ackIds:[e.id]})}this.onErrorHandler(new Error("received chunked body datagram, but the chunk builder has timed out or was nonexistent"))}async sendData(e,t,n){const r=(0,a.LI)(),i=function(e){return function(e,t){const n=function(e,t){if((0,o.XX)(e,t))return[];const n=[];let r=0;for(let i=0;i<e.length;i++){const s=(0,o.vN)(e[i]);r+s>t?(n.push(i),r=s):r+=s}return 0!==r&&n.push(e.length-1),n}(e,t);if(0===n.length)return[e];const r=[];let i=0;for(const t of n)r.push(e.slice(i,t)),i=t;return i<e.length&&r.push(e.slice(i)),r}(JSON.stringify(e),o.z0)}(e),u=i.map(((e,n)=>({type:"datagram",expiresAt:Date.now()+t,id:(0,a.LI)(),datagramType:s.pT.Chunked,chunkDatagramType:s.qQ.Body,inner:e,index:n,headDatagramId:r}))),l={type:"datagram",expiresAt:Date.now()+2*t/3,id:r,datagramType:s.pT.Chunked,chunkDatagramType:s.qQ.Head,bodyDatagramIds:u.map((e=>e.id))};await this.sendDatagramAndAwaitAck(l,3,n,new Error("Head datagram was not acked in time"));const d=c(l.expiresAt-Date.now(),new Error("Sending chunked datagram bodies timed out without being acked"));await Promise.race([d,Promise.all(u.map((e=>this.sendDatagramAndAwaitAck(e,3,n,new Error("Body datagram timed out without being acked")))))])}async sendDatagramAndAwaitAck(e,t,n,r){const i=e.expiresAt-Date.now(),o=new Promise((t=>{this.needToBeAckedHandlers.set(e.id,(()=>{t()}),i)}));await n(e);const s=i/t;for(let e=0;e<t;e++)try{const e=c(s);return void await Promise.race([e,o])}catch{}throw r}}function c(e,t){return new Promise(((n,r)=>{setTimeout((()=>r(t)),e)}))}},84589:(e,t,n)=>{"use strict";n.d(t,{u:()=>d});var r=n(64793),i=n(39329),o=n(57474),s=n(67136),a=n(49782),u=n(47656),c=n(47273),l=n(95126);class d{constructor(e){this.receivedDatagramIds=new r.h;const t={onErrorHandler:e.onError,receiveDataHandler:e.receiveDataHandler};this.datagramTypeHandlers={[c.pT.Single]:new o.p(t),[c.pT.Url]:new a.t(t),[c.pT.Chunked]:new i.x(t)},this.onErrorHandler=e.onError,this.packetLayer=new u.a({address:e.address,canForward:e.canForward,receivePacketHandler:e=>this.receivePacket(e),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers})}async receivePacket(e){const t=e.data;if(!(0,c._1)(t))throw new Error("Datagram layer somehow received packet that doesn't hold a datagram");if(this.receivedDatagramIds.get(t.id))return void this.receivedDatagramIds.delete(t.id);const n=Date.now();t.expiresAt>n&&this.receivedDatagramIds.set(t.id,!0,t.expiresAt-n);const r=this.datagramTypeHandlers[t.datagramType];try{const n=t=>this.packetLayer.sendPacket({type:"packet",dest:e.src,data:t,expiresAt:t.expiresAt});r.handleDatagram(t,e,n)}catch(e){this.onErrorHandler(new l.m0({message:"Unhandled error from data receiver handler"},e))}}sendData(e,t,n){const{timeout:r=5e3,canUseUrl:i=!1}=n??{};let o;if(o=(0,s.Xt)(e,s.z0)?c.pT.Single:i?c.pT.Url:c.pT.Chunked,o)return this.datagramTypeHandlers[o].sendData(e,r,(e=>this.packetLayer.sendPacket({type:"packet",dest:t,data:e,expiresAt:Date.now()+r})));throw new Error("No handler could handle sending this data")}disconnect(){this.packetLayer.disconnect()}}},57474:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(61114),i=n(47273);class o{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}handleDatagram(e,t){this.receiveDataHandler(e.inner,t.src,t.dest)}sendData(e,t,n){return n({type:"datagram",expiresAt:Date.now()+t,id:(0,r.LI)(),datagramType:i.pT.Single,inner:e})}}},67136:(e,t,n)=>{"use strict";n.d(t,{XX:()=>u,Xt:()=>a,vN:()=>c,z0:()=>s});var r=n(93318);const i=2*r.d.Byte,o=1500*i,s=128*r.d.Megabyte/2-2-o;function a(e,t){const n=JSON.stringify(e);return!(n.length*i>=t)&&u(n,t)}function u(e,t){let n=0;for(const r of e)if(n+=c(r),n>=t)return!1;return n<t}function c(e){return 34===(t=e.charCodeAt(0))||92==t?2*i:Math.max(Math.floor(Math.log2(t+1))-6,1)*i;var t}},49782:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(47273),i=n(61114);class o{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t){if(!(0,r.jX)(e))return;const n=await fetch(e.url),i=await n.json();this.receiveDataHandler(i,t.src,t.dest)}sendData(e,t,n){const o=JSON.stringify(e),s=(new TextEncoder).encode(o),a=new Blob([s],{type:"application/json;charset=utf-8"}),u=window.URL.createObjectURL(a);return setTimeout((()=>{window.URL.revokeObjectURL(u)}),t),n({type:"datagram",expiresAt:Date.now()+t,id:(0,i.LI)(),datagramType:r.pT.Url,url:u})}}},72408:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r=n(88116).v.IS_DEV&&!1},53063:(e,t,n)=>{"use strict";n.d(t,{m:()=>g}),n(72604);var r=n(12108),i=n(35679),o=n(59100),s=n(22699),a=n.n(s),u=n(84589),c=n(58684),l=n(61114),d=n(40811),f=n(95126);class h{constructor(e){this.messageHandlers=new Map,this.history=[],this.historySize=500,this.disconnected=!1,this.responseAwaiters=new Map,this.eventListeners=new(a().EventEmitter),this.onErrorHandler=e.onError,this.address=e.address,this.datagramLayer=new u.u({address:e.address,canForward:e.canForward,receiveDataHandler:this.receiveDataHandler.bind(this),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers}),this.isTabIncognito=e.isTabIncognito??(()=>!0)}addEventListener(e,t){this.eventListeners.addListener(e,t)}removeEventListener(e,t){this.eventListeners.removeListener(e,t)}async receiveDataHandler(e,t,n){if(!((i=e)&&"object"==typeof i&&"applicationType"in i&&"broker"===i.applicationType&&"eventName"in i&&"type"in i))return;var i;if(this.addToHistory({data:e,src:t,dest:n,timestamp:Date.now()}),"response"===e.type){const t=this.responseAwaiters.get(e.responseToRequestId);if(!t)return void this.onErrorHandler(new f.lk({message:`Broker received response for request with ID ${e.responseToRequestId} but handler must've timed out (or two brokers of the same address exist?)`}));const n=e.data;return this.responseAwaiters.delete(e.responseToRequestId),void t(n)}const o=this.messageHandlers.get(e.eventName);if(!o)return void this.onErrorHandler(new f.UY({message:`Received event(${e.eventName}) with target ${this.address.component}, but no handler is configured`}));let s;try{s=await o(e.data,{src:{...t},dest:{...n}})}catch(e){return void this.onErrorHandler(new f.m0({message:"Uncaught broker handler error"},e))}try{await this.datagramLayer.sendData({applicationType:"broker",type:"response",eventName:e.eventName,responseToRequestId:e.id,data:s},t,{timeout:5*r.X.Second,canUseUrl:this.canUseUrlSending(t)}),this.eventListeners.emit("receive",{sender:t,receiver:n,eventName:e.eventName})}catch(t){return void this.onErrorHandler(new f.lk({message:`Error sending broker response to ${n.component} for request ${e.id} and event ${e.eventName}`},t))}}on(e,t){if(this.messageHandlers.has(e))throw new f.UY({message:`Only one handler can be configured on broker per message (name is: ${e})`});this.messageHandlers.set(e,t)}addToHistory(e){if((0,i.J)(o.q.Production)){const t={...e};delete t.data,this.history.push(t)}else this.history.push(e);this.history.length>this.historySize&&this.history.shift()}canUseUrlSending(e){if((0,c.AM)(this.address.component)&&this.isTabIncognito("self"))return!1;if("tabId"in e){if(this.isTabIncognito(e.tabId))return!1}else if((0,c.AM)(e.component))return!1;return!0}send(e){const{eventName:t,dest:n,payload:i,timeout:o=5*r.X.Second}=e;this.addToHistory({data:{eventName:t,payload:i},dest:n,src:this.address,timestamp:Date.now()});const s=(0,l.jF)();if((0,d.C)(this.address,n)){const e=this.messageHandlers.get(t);return e?e(i,{src:this.address,dest:n}):Promise.reject(new f.UY({message:`Received self-addressed event(${t}) with target ${this.address.component}, but no handler is configured`}))}return new Promise(((e,r)=>{const a=setTimeout((()=>{this.responseAwaiters.delete(s),r(new f.lk({message:`Error sending broker message to ${n.component}`,serializableContext:{eventName:t}},new f.W5({message:`Timed out waiting for response for ${o}ms`})))}),o);this.responseAwaiters.set(s,(r=>{clearTimeout(a),e(r),this.eventListeners.emit("send",{sender:this.address,receiver:n,eventName:t})})),this.datagramLayer.sendData({id:s,applicationType:"broker",type:"request",eventName:t,data:i},n,{timeout:o,canUseUrl:this.canUseUrlSending(n)}).catch((e=>{this.responseAwaiters.delete(s),r(new f.lk({message:`Error sending broker message to ${n.component}: ${e}`,serializableContext:{eventName:t}},e))}))}))}off(e){return this.messageHandlers.delete(e)}destruct(){this.datagramLayer.disconnect(),this.messageHandlers.clear(),this.disconnected=!0}get __responseAwaitersCount(){return this.responseAwaiters.size}}let p;function g(e){return p||(p=new h(e)),p}},91157:(e,t,n)=>{"use strict";n.d(t,{CommunicationError:()=>i.lk,Component:()=>r.wA,ContentScripts:()=>r.d9,HostScripts:()=>r.R6,getMessageBrokerSingleton:()=>o.m});var r=n(58684),i=n(95126),o=n(53063)},82823:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(90241),i=n(65324),o=n(8657);class s{constructor(){this.type=r.i.Runtime,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){return(0,i.s)(this.browserApi.runtime.sendMessage(e))}onMessage(e){const t=(t,n)=>{(0,o.M)(t)&&e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},90241:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=(e=>(e.Runtime="Runtime",e.Tab="Tab",e.Window="Window",e))(r||{})},87787:(e,t,n)=>{"use strict";n.d(t,{C:()=>u,u:()=>c});var r=n(82823),i=n(90241),o=n(5537),s=n(9764),a=n(19982);function u(e){const t=new Map,n=new Map;for(const[r,i]of e.entries()){const e=l();let o=n.get(i);o||(o=e[i](),n.set(i,o)),t.set(r,o)}return{componentTable:t,typeTable:n}}function c(e,t,n){const r=new Map,i=new Map;for(const[o,a]of t.entries()){let t=i.get(a);t||(t=new s.J(e,a,n),i.set(a,t)),r.set(o,t)}return{componentTable:r,typeTable:i}}const l=(()=>{let e;return()=>e||(e={[i.i.Runtime]:()=>new r.E,[i.i.Tab]:()=>new o._,[i.i.Window]:()=>new a.w},e)})()},65324:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const r=new Set(["Error: Could not establish connection. Receiving end does not exist."]);function i(...e){return Promise.allSettled(e).then((e=>{const t=e[0];if("rejected"===t.status&&!r.has(`${t.reason}`))throw t.reason;return e}))}},5537:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(90241),i=n(65324),o=n(58684),s=n(95126);class a{constructor(){this.type=r.i.Tab,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){if(e.dest.component===o.wA.ContentScript||e.dest.component===o.wA.HostScript)return t=this.browserApi,n=e.dest.tabId,r=e,(0,i.s)(t.tabs.sendMessage(n,r));var t,n,r;if(e.dest.component===o.wA.All)return async function(e,t){const n=(await e.tabs.query({windowType:"normal"})).map((async n=>{n?.id&&await e.tabs.sendMessage(n.id,t)}));return(0,i.s)(...n)}(this.browserApi,e);throw new s.UY({message:`Native messaging API (${this.type}) cannot send to component ${e.dest.component}`})}onMessage(e){const t=(t,n)=>{e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},9764:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(90241),i=n(58684),o=n(61114);class s{constructor(e,t,n){this.address=e,this.type=t,this.id=(0,o.j1)(),this.destinationHandlers=n}sendMessage(e){const t=function(e,t){if(e===i.wA.Main)return t===i.wA.HostScript?i.wA.ContentScript:t;if(e===i.wA.Popup)return t===i.wA.ContentScript?t:i.wA.Main;if(e===i.wA.HostScript)return i.wA.ContentScript;if(e===i.wA.Foreground)return i.wA.Main;if(e===i.wA.ContentScript)return t===i.wA.HostScript?t:i.wA.Main;throw new Error(`Unhandled component: ${e}. (This shouldn't be called with Component.All)`)}(this.address.component,e.dest.component);let n=!1;return this.destinationHandlers[this.type].forEach((r=>{r.id!==this.id&&(r.address.component===t||e.dest.component===i.wA.All&&e.lastHop.component!==r.address.component)&&(setTimeout((()=>{try{r.eventHandler(e,{tabId:123,frameId:0})}catch{}}),0),n=!0)})),this.type!==r.i.Window&&!n&&[i.wA.ContentScript,i.wA.Main,i.wA.Popup].includes(t)?Promise.reject(new Error(`runtime error when sending to ${t} (chrome will have this when the tab you send to does not exist, for example). Current component is ${this.address.component}, dest is ${e.dest.component}, simulated messaging API type is ${this.type} `)):Promise.resolve()}onMessage(e){const t=()=>e({exampleMessage:(0,o.j1)(),testingData:123,testingData2:"abc"},{});this.destinationHandlers[this.type].push({address:this.address,id:this.id,eventHandler:(n,r)=>{t(),setTimeout(t,Math.floor(1e3*Math.random())),e(n,r)},instance:this})}disconnect(){this.destinationHandlers[this.type]=this.destinationHandlers[this.type].filter((e=>e.id!==this.id))}}},19982:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(90241),i=n(14515);const o=(()=>{let e;return()=>(e||(e={addEventListener:(0,i.X)("addEventListener"),removeEventListener:(0,i.X)("removeEventListener"),dispatchEvent:(0,i.X)("dispatchEvent")}),e)})();class s{constructor(){this.type=r.i.Window,this.handlers=[];const e=this.rawHandler.bind(this);this.boundRawHandler=e;const{addEventListener:t}=o();t?.("jamevent",e,!0)}sendMessage(e){const{dispatchEvent:t}=o();return"cloneInto"in globalThis&&(e=cloneInto(e,document.defaultView)),t?.(new CustomEvent("jamevent",{detail:e})),Promise.resolve()}rawHandler(e){this.handlers.map((t=>t(e.detail,{})))}onMessage(e){this.handlers.push(e)}disconnect(){const{removeEventListener:e}=o();e?.("jamevent",this.boundRawHandler,!0),this.handlers=[]}}},47656:(e,t,n)=>{"use strict";n.d(t,{a:()=>p});var r=n(4580),i=n(59100),o=n(92982),s=n(14647),a=n(72408),u=n(87787),c=n(36839),l=n(8657),d=n(58684),f=n(40811),h=n(95126);class p{constructor(e){this.onErrorHandler=e.onError,this.canForward=e.canForward,this.address=e.address,this.receivePacketHandler=e.receivePacketHandler;const t=(0,c.O)(e.address.component),n=(0,r.Q)(i.M.Test)?(0,u.u)(this.address,t,e.destinationHandlers??(()=>{throw new Error("destination handlers required for packet layer in testing")})()):(0,u.C)(t);this.messagingTypeMessagingApiTable=n.typeTable,this.componentMessagingApiTable=n.componentTable,[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.onMessage(((t,n)=>this.onIncomingMessage(t,n,e.type)))}))}disconnect(){[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.disconnect()}))}onIncomingMessage(e,t,n){if(!(0,l.M)(e))return;const r={...e.lastHop,frameId:"frameId"in e.lastHop&&e.lastHop.frameId||t.frameId,tabId:"tabId"in e.lastHop&&e.lastHop.tabId||t.tabId},i={...e.src};i.component!==d.wA.HostScript&&i.component!==d.wA.ContentScript||(i.frameId=i.frameId??r.frameId,i.tabId=i.tabId??r.tabId);const o={...e,lastHop:r,src:i};return this.onIncomingPacket(o,n)}async onIncomingPacket(e,t){if(e.expiresAt<Date.now())this.onErrorHandler(new h.pD({message:"Received packet that had already expired, dropping it...",serializableContext:{timingOverhang:Date.now()-e.expiresAt,...a.S?{pkt:e}:{}}}));else if(!(0,f.C)(this.address,e.lastHop))if(function(e,t){return t.component===d.wA.All||(0,f.C)(e,t)}(this.address,e.dest))try{await this.receivePacketHandler(e)}catch(e){this.onErrorHandler(new h.m0({message:"Unhandled error from receivePacketHandler"},e))}else if(this.canForward&&e.dest.component!==this.address.component){const n={...e,address:{...this.address}};try{if(n.dest.component===d.wA.All){const e=[...this.messagingTypeMessagingApiTable.values()].map((e=>{if(e.type!==t)return g((()=>e.sendMessage(n)),n.expiresAt)}));return void await Promise.all(e)}{const e=this.componentMessagingApiTable.get(n.dest.component);if(e&&e.type!==t)return await g((()=>e.sendMessage(n)),n.expiresAt)}}catch(e){const t={...n};delete t.data,this.onErrorHandler(new h.pD({message:"Could not forward packet",serializableContext:{forwardedPacketWithoutData:t}},e))}}}async sendPacket(e){const t={...e,src:{...this.address},lastHop:{...this.address}},n=t.dest.component,r=(n===d.wA.All?[...this.messagingTypeMessagingApiTable.values()]:[this.componentMessagingApiTable.get(n)]).filter(o.Av);if(0===r.length)throw new h.UY({message:`No route from component ${this.address.component} to component ${n}`});await Promise.all(r.map((e=>g((()=>e.sendMessage(t)),t.expiresAt))))}}async function g(e,t,n=100){const r=t-Date.now();if(r<=0)throw new h.W5({message:"promise to retry is already timed out (epochTime configured before Date.now())"});return new Promise((async(i,o)=>{let a;const u=setTimeout((()=>{const e=new h.W5({message:"Timed out"},a);Error.captureStackTrace?.(e),o(e)}),r);for(;;)try{const t=await e();return clearTimeout(u),i(t)}catch(e){if(a=e,!(Date.now()<t-n)){clearTimeout(u);const e=new h.W5({message:"Timed out"},a);return Error.captureStackTrace?.(e),void o(e)}await(0,s.g)(n)}}))}},36839:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(90241),i=n(58684),o=n(95126);function s(e){switch(e){case i.wA.Main:return new Map([[i.wA.Popup,r.i.Runtime],[i.wA.ContentScript,r.i.Tab],[i.wA.HostScript,r.i.Tab],[i.wA.Foreground,r.i.Tab]]);case i.wA.Popup:return new Map([[i.wA.Main,r.i.Runtime],[i.wA.ContentScript,r.i.Runtime],[i.wA.HostScript,r.i.Runtime]]);case i.wA.Foreground:return new Map([[i.wA.Main,r.i.Runtime]]);case i.wA.ContentScript:return new Map([[i.wA.Main,r.i.Runtime],[i.wA.Popup,r.i.Runtime],[i.wA.ContentScript,r.i.Tab],[i.wA.HostScript,r.i.Window]]);case i.wA.HostScript:return new Map([[i.wA.Main,r.i.Window],[i.wA.Popup,r.i.Window],[i.wA.ContentScript,r.i.Window],[i.wA.HostScript,r.i.Window]]);default:throw new o.UY({message:`Unknown component type, ${e}. Cannot connect to messaging APIs`})}}},40811:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(58684);function i(e,t){return t.component===r.wA.All||e.component===t.component&&e.location===t.location}},58684:(e,t,n)=>{"use strict";n.d(t,{AM:()=>i,R6:()=>s,d9:()=>o,wA:()=>r});var r=(e=>(e.Main="Main",e.Popup="Popup",e.ContentScript="ContentScript",e.HostScript="HostScript",e.Foreground="Foreground",e.All="All",e))(r||{});function i(e){return"ContentScript"===e||"HostScript"===e}var o=(e=>(e.JamUi="content-JamUi",e.RRWebForwarder="content-RRwebForwarder",e.RRWebSnapshot="content-RRwebSnapshot",e.EventListeners="content-event-listeners",e))(o||{}),s=(e=>(e.AdditionalHooks="host-additional-hooks",e.RRWebSnapshot="host-rrweb-snapshot",e.RRWebNetwork="host-rrweb-network",e.RRWebConsole="jam-console-devtools",e))(s||{})},47273:(e,t,n)=>{"use strict";n.d(t,{_1:()=>o,jX:()=>s,pT:()=>r,qQ:()=>i});var r=(e=>(e.Single="Single",e.Url="Url",e.Chunked="Chunked",e))(r||{}),i=(e=>(e.Head="Head",e.Body="Body",e.Ack="Ack",e))(i||{});function o(e){return"object"==typeof e&&!!e&&"type"in e&&"datagram"===e.type&&"id"in e&&"datagramType"in e}function s(e){return"Url"===e.datagramType}},95126:(e,t,n)=>{"use strict";n.d(t,{UY:()=>s,W5:()=>i,lk:()=>a,m0:()=>u,pD:()=>o});var r=n(88783);class i extends r.Lw{constructor(){super(...arguments),this.name="TimeoutError"}}class o extends r.Lw{constructor(){super(...arguments),this.name="ForwardingError"}}class s extends r.Lw{constructor(){super(...arguments),this.name="ConfigurationError"}}class a extends r.Lw{constructor(){super(...arguments),this.name="CommunicationError"}}class u extends r.Lw{constructor(){super(...arguments),this.name="UncaughtHandlerError"}}},61114:(e,t,n)=>{"use strict";function r(e){let t=Math.floor(1e5*Math.random());return()=>`${e}-id:${Math.random()}:${t++}`}n.d(t,{LI:()=>o,j1:()=>i,jF:()=>s});const i=r("testing-id"),o=r("dg"),s=r("brkr-rq")},8657:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&!!e&&"type"in e&&"packet"===e.type&&"dest"in e&&"src"in e&&"data"in e}n.d(t,{M:()=>r})},67767:()=>{},45071:()=>{},32428:()=>{},87456:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,_:()=>i});var r=(e=>(e.Chrome="chrome",e.Firefox="firefox",e))(r||{});function i(e){return({}.BROWSER_BUILD||"chrome")===e}},59100:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,q:()=>r});var r=(e=>(e.Development="development",e.Preview="preview",e.Staging="staging",e.Production="production",e.Test="test",e))(r||{}),i=(e=>(e.Development="development",e.Production="production",e.Test="test",e))(i||{})},4580:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{Q:()=>r})},35679:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{J:()=>r})},30386:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});class r extends Error{constructor(e){super(e.message),this.original=e,this.name=e.name,this.message=e.message,this.stack=e.stack}toJSON(){return{name:this.name,message:this.message,stack:this.stack}}}},88783:(e,t,n)=>{"use strict";n.d(t,{LT:()=>u,Lw:()=>o,VK:()=>a});var r=n(30386),i=n(92982);class o extends Error{constructor(e,t){super(e.message),this.name=e.name??"WrappedError",this.userError=e.userError,this.debugMessage=e.debugMessage,this.serializableContext=e.serializableContext,t&&(t instanceof o?this.previous=t:t instanceof Error?this.previous=new r.S(t):"string"==typeof t&&(this.previous=t))}get extensions(){return{wrappedError:this}}toJSON(){const e={},t=function(e){const t=Object.assign(Object.create(Object.getPrototypeOf(s)),e);return delete t.stack,t}(this);return Object.getOwnPropertyNames(t).forEach((n=>{const r=n;e[r]=t[r]})),e}valueOf(){return this.toString()}toString(){return this.fullError()}shortError(){return`${this.name}: ${this.message}`}find(e){if(e(this))return this;if(!this.previous)return;if(this.previous instanceof o)return this.previous.find(e);let t=this.previous;return this.previous instanceof r.S&&(t=this.previous.original),e(t)?t:void 0}is(e){return Boolean(this.find((t=>t instanceof e)))}fullError(){let e;this.previous&&(e=this.previous.toString());let t="";try{t=JSON.stringify(this.serializableContext)}catch{t="[Error: provided context was not serializable]"}const n=[[`${this.name}:`,this.message,this.debugMessage?`(${this.debugMessage})`:void 0,this.userError?"(user error)":void 0],[`Serializable context: (${t})`]].map((e=>e.filter(i.Av).join(" ")+".")).join(" ");return e?n+". \nCaused by: \n"+e:n}previousMessage(){if(this.previous)return"string"==typeof this.previous?this.previous:this.previous.message}static isInside(e){if(!(e instanceof o))return!1;const t=this.name;return e.find((e=>e instanceof o&&e.name===t))}}const s=new o({message:"Example Error"});function a(e){return e instanceof o||e instanceof Error?e.toString():String(e)}function u(e){if(e instanceof o)return e.toJSON();if("object"==typeof e&&null!==e&&"toJSON"in e&&"function"==typeof e.toJSON)try{const t=e.toJSON();if("string"==typeof t)return t}catch{}if(e instanceof Error)return{name:e.name,message:e.message,stack:e.stack};try{return JSON.stringify(e)}catch{}if("object"==typeof e&&e)try{return`[This ${e.constructor.name} object cannot be serialized]`}catch{}return`[This ${typeof e} value cannot be serialized]`}},92982:(e,t,n)=>{"use strict";function r(e){return void 0!==e}function i(e){return null!=e}n.d(t,{$H:()=>i,Av:()=>r})},95925:(e,t,n)=>{"use strict";function r(e,t=2){let n=String(e);const r=Math.pow(10,t-1);if(e<r)for(;String(r).length>n.length;)n="0"+e;return n}n.d(t,{B:()=>r})},14647:(e,t,n)=>{"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,{g:()=>r})},10053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4580),i=n(59100);function o(e,t){if(void 0===e||""===e){if(void 0===t&&!(0,r.Q)(i.M.Test))throw new ReferenceError("Missing a required environment variable");return t??""}return e}},21102:(e,t,n)=>{"use strict";function r(e,t){if(t<0||t>1)throw new Error(`Rate (${t}) must be within the range of 0 to 1, inclusive.`);Math.random()<=t&&e()}n.d(t,{U:()=>r})},93318:(e,t,n)=>{"use strict";var r,i;n.d(t,{d:()=>r}),(i=r||(r={})).Byte=1,i.Kilobyte=1e3*i.Byte,i.Megabyte=1e3*i.Kilobyte,i.Gigabyte=1e3*i.Megabyte},64793:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});class r{constructor(){this.innerMap=new Map}clearExistingTimeout(e){const t=this.innerMap.get(e);t?.timeout&&clearTimeout(t.timeout)}set(e,t,n){this.clearExistingTimeout(e),this.innerMap.set(e,{value:t,timeout:setTimeout((()=>this.innerMap.delete(e)),n)})}get(e){return this.innerMap.get(e)?.value}delete(e){return this.innerMap.delete(e)}}},12108:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r,i,o=n(95925);(i=r||(r={})).Millisecond=1,i.Second=1e3*i.Millisecond,i.Minute=60*i.Second,i.Hour=60*i.Minute,i.Day=24*i.Hour,i.toSeconds=function(e){return e/i.Second},i.isEpochInSeconds=function(e){return Math.abs(Date.now()-e)>Math.abs(Date.now()-1e3*e)},i.formatTime=function(e){if(e<=0)return"00:00";const t=Math.floor(e/i.Hour);e%=i.Hour;const n=Math.floor(e/i.Minute);e%=i.Minute;const r=Math.floor(e/i.Second);return t?`${(0,o.B)(t)}:${(0,o.B)(n)}:${(0,o.B)(r)}`:`${(0,o.B)(n)}:${(0,o.B)(r)}`}},22699:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,s,c;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},50857:(e,t,n)=>{var r=n(37772).Symbol;e.exports=r},53366:(e,t,n)=>{var r=n(50857),i=n(62107),o=n(37157),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},51704:(e,t,n)=>{var r=n(52153),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},51242:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},62107:(e,t,n)=>{var r=n(50857),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},37157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},37772:(e,t,n)=>{var r=n(51242),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},52153:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},54073:(e,t,n)=>{var r=n(29259),i=n(61100),o=n(7642),s=Math.max,a=Math.min;e.exports=function(e,t,n){var u,c,l,d,f,h,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,p=t,d=e.apply(r,n)}function b(e){return p=e,f=setTimeout(w,t),g?y(e):d}function _(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-p>=l}function w(){var e=i();if(_(e))return A(e);f=setTimeout(w,function(e){var n=t-(e-h);return v?a(n,l-(e-p)):n}(e))}function A(e){return f=void 0,m&&u?y(e):(u=c=void 0,d)}function S(){var e=i(),n=_(e);if(u=arguments,c=this,h=e,n){if(void 0===f)return b(h);if(v)return clearTimeout(f),f=setTimeout(w,t),y(h)}return void 0===f&&(f=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(g=!!n.leading,l=(v="maxWait"in n)?s(o(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),S.cancel=function(){void 0!==f&&clearTimeout(f),p=0,u=h=c=f=void 0},S.flush=function(){return void 0===f?d:A(i())},S}},29259:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4795:(e,t,n)=>{var r=n(53366),i=n(15125);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},61100:(e,t,n)=>{var r=n(37772);e.exports=function(){return r.Date.now()}},7642:(e,t,n)=>{var r=n(51704),i=n(29259),o=n(4795),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},72565:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},o=e=>1==e?"argument":"arguments",s=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),c={has:(t,n)=>n in e||n in r,get(c,l,d){if(l in r)return r[l];if(!(l in e))return;let f=e[l];if("function"==typeof f)if("function"==typeof t[l])f=s(e,e[l],t[l]);else if(a(n,l)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:s},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:s},t))}))})(l,n[l]);f=s(e,e[l],t)}else f=f.bind(e);else if("object"==typeof f&&null!==f&&(a(t,l)||a(n,l)))f=u(f,t[l],n[l]);else{if(!a(n,"*"))return Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),f;f=u(f,t[l],n["*"])}return r[l]=f,f},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},l=Object.create(e);return new Proxy(l,c)},c=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),l=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),d=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,o,s=!1,a=new Promise((e=>{i=function(t){s=!0,e(t)}}));try{o=e(t,n,i)}catch(e){o=Promise.reject(e)}const u=!0!==o&&((c=o)&&"object"==typeof c&&"function"==typeof c.then);var c;if(!0!==o&&!u&&!s)return!1;return(u?o:a).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),f=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},h=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=f.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},p={devtools:{network:{onRequestFinished:c(l)}},runtime:{onMessage:c(d),onMessageExternal:c(d),sendMessage:h.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:h.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},g={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":g},services:{"*":g},websites:{"*":g}},u(e,p,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(13472),t=n(35679),r=n(59100),i=n(88783);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var s={};function a(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:s}var u=Object.assign,c=Object.getOwnPropertyDescriptor,l=Object.defineProperty,d=Object.prototype,f=[];Object.freeze(f);var h={};Object.freeze(h);var p="undefined"!=typeof Proxy,g=Object.toString();function v(){p||o("Proxy not available")}function m(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function b(e){return"function"==typeof e}function _(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function w(e){return null!==e&&"object"==typeof e}function A(e){if(!w(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===g}function S(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function x(e,t,n){l(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function O(e,t,n){l(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function E(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return w(e)&&!0===e[n]}}function T(e){return e instanceof Map}function k(e){return e instanceof Set}var C=void 0!==Object.getOwnPropertySymbols,R="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:C?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function M(e){return null===e?null:"object"==typeof e?""+e:e}function L(e,t){return d.hasOwnProperty.call(e,t)}var j=Object.getOwnPropertyDescriptors||function(e){var t={};return R(e).forEach((function(n){t[n]=c(e,n)})),t};function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z=Symbol("mobx-stored-annotations");function $(e){return Object.assign((function(t,n){q(t,n,e)}),e)}function q(e,t,n){L(e,z)||x(e,z,I({},e[z])),function(e){return e.annotationType_===Q}(n)||(e[z][t]=n)}var F=Symbol("mobx administration"),G=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ze.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return ht(this)},t.reportChanged=function(){dt(),pt(this),ft()},t.toString=function(){return this.name_},e}(),W=E("Atom",G);function K(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r=new G(e);return t!==y&&jt(Mt,r,t,undefined),n!==y&&Lt(r,n),r}var J={identity:function(e,t){return e===t},structural:function(e,t){return Un(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Un(e,t,1)}};function X(e,t,n){return zt(e)?e:Array.isArray(e)?ke.array(e,{name:n}):A(e)?ke.object(e,void 0,{name:n}):T(e)?ke.map(e,{name:n}):k(e)?ke.set(e,{name:n}):"function"!=typeof e||Ct(e)||Vt(e)?e:S(e)?Bt(e):kt(n,e)}function Y(e){return e}var Q="override";function Z(e,t){return{annotationType_:e,options_:t,make_:ee,extend_:te}}function ee(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Ct(n.value))return 1;var o=ne(e,this,t,n,!1);return l(r,t,o),2}function te(e,t,n,r){var i=ne(e,this,t,n);return e.defineProperty_(t,i,r)}function ne(e,t,n,r,i){var o,s,a,u,c,l,d,f;void 0===i&&(i=at.safeDescriptors),f=r,t.annotationType_,f.value;var h,p=r.value;return null!=(o=t.options_)&&o.bound&&(p=p.bind(null!=(h=e.proxy_)?h:e.target_)),{value:He(null!=(s=null==(a=t.options_)?void 0:a.name)?s:n.toString(),p,null!=(u=null==(c=t.options_)?void 0:c.autoAction)&&u,null!=(l=t.options_)&&l.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function re(e,t){return{annotationType_:e,options_:t,make_:ie,extend_:oe}}function ie(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!L(e.target_,t)||!Vt(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Vt(n.value))return 1;var o=se(e,this,0,n,!1,!1);return l(r,t,o),2}function oe(e,t,n,r){var i,o=se(e,this,0,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function se(e,t,n,r,i,o){var s;void 0===o&&(o=at.safeDescriptors),s=r,t.annotationType_,s.value;var a,u=r.value;return Vt(u)||(u=Bt(u)),i&&((u=u.bind(null!=(a=e.proxy_)?a:e.target_)).isMobXFlow=!0),{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function ae(e,t){return{annotationType_:e,options_:t,make_:ue,extend_:ce}}function ue(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ce(e,t,n,r){return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,I({},this.options_,{get:n.get,set:n.set}),r);var i}function le(e,t){return{annotationType_:e,options_:t,make_:de,extend_:fe}}function de(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function fe(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:X,r)}var he=pe();function pe(e){return{annotationType_:"true",options_:e,make_:ge,extend_:ve}}function ge(e,t,n,r){var i,o,s,a;if(n.get)return Le.make_(e,t,n,r);if(n.set){var u=He(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!at.safeDescriptors||e.isPlainObject_,set:u})?0:2:(l(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return S(n.value)?(null!=(a=this.options_)&&a.autoBind?Bt.bound:Bt).make_(e,t,n,r):(null!=(s=this.options_)&&s.autoBind?kt.bound:kt).make_(e,t,n,r);var c,d=!1===(null==(i=this.options_)?void 0:i.deep)?ke.ref:ke;return"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_)),d.make_(e,t,n,r)}function ve(e,t,n,r){var i,o,s;return n.get?Le.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!at.safeDescriptors||e.isPlainObject_,set:He(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(s=e.proxy_)?s:e.target_)),(!1===(null==(o=this.options_)?void 0:o.deep)?ke.ref:ke).extend_(e,t,n,r))}var me={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(e){return e||me}Object.freeze(me);var be=le("observable"),_e=le("observable.ref",{enhancer:Y}),we=le("observable.shallow",{enhancer:function(e,t,n){return null==e||En(e)||dn(e)||vn(e)||bn(e)?e:Array.isArray(e)?ke.array(e,{name:n,deep:!1}):A(e)?ke.object(e,void 0,{name:n,deep:!1}):T(e)?ke.map(e,{name:n,deep:!1}):k(e)?ke.set(e,{name:n,deep:!1}):void 0}}),Ae=le("observable.struct",{enhancer:function(e,t){return Un(e,t)?t:e}}),Se=$(be);function xe(e){return!0===e.deep?X:!1===e.deep?Y:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:X;var t,n,r}function Oe(e,t,n){if(!_(t))return zt(e)?e:A(e)?ke.object(e,t,n):Array.isArray(e)?ke.array(e,t):T(e)?ke.map(e,t):k(e)?ke.set(e,t):"object"==typeof e&&null!==e?e:ke.box(e,t);q(e,t,be)}Object.assign(Oe,Se);var Ee,Te,ke=u(Oe,{box:function(e,t){var n=ye(t);return new qe(e,xe(n),n.name,!0,n.equals)},array:function(e,t){var n=ye(t);return(!1===at.useProxies||!1===n.proxy?Dn:rn)(e,xe(n),n.name)},map:function(e,t){var n=ye(t);return new gn(e,xe(n),n.name)},set:function(e,t){var n=ye(t);return new yn(e,xe(n),n.name)},object:function(e,t,n){return function(e,t,n,r){var i=j(t),o=Sn(e,r)[F];dt();try{R(i).forEach((function(e){o.extend_(e,i[e],!n||!(e in n)||n[e])}))}finally{ft()}return e}(!1===at.useProxies||!1===(null==n?void 0:n.proxy)?Sn({},n):function(e,t){var n,r;return v(),null!=(r=(n=(e=Sn(e,t))[F]).proxy_)?r:n.proxy_=new Proxy(e,Gt)}({},n),e,t)},ref:$(_e),shallow:$(we),deep:Se,struct:$(Ae)}),Ce="computed",Re=ae(Ce),Me=ae("computed.struct",{equals:J.structural}),Le=function(e,t){if(_(t))return q(e,t,Re);if(A(e))return $(ae(Ce,e));var n=A(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Fe(n)};Object.assign(Le,Re),Le.struct=$(Me);var je,Pe=0,De=1,Ie=null!=(Ee=null==(Te=c((function(){}),"name"))?void 0:Te.configurable)&&Ee,Ne={value:"action",configurable:!0,writable:!1,enumerable:!1};function He(e,t,n,r){function i(){return Be(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,Ie&&(Ne.value=e,Object.defineProperty(i,"name",Ne)),i}function Be(e,t,n,r,i){var s=function(e,t,n,r){var i=at.trackingDerivation,o=!t||!i;dt();var s=at.allowStateChanges;o&&(Ze(),s=Ue(!0));var a={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:s,prevAllowStateReads_:tt(!0),notifySpy_:!1,startTime_:0,actionId_:De++,parentActionId_:Pe};return Pe=a.actionId_,a}(0,t);try{return n.apply(r,i)}catch(e){throw s.error_=e,e}finally{!function(e){Pe!==e.actionId_&&o(30),Pe=e.parentActionId_,void 0!==e.error_&&(at.suppressReactionErrors=!0),Ve(e.prevAllowStateChanges_),nt(e.prevAllowStateReads_),ft(),e.runAsAction_&&et(e.prevDerivation_),at.suppressReactionErrors=!1}(s)}}function Ue(e){var t=at.allowStateChanges;return at.allowStateChanges=e,t}function Ve(e){at.allowStateChanges=e}je=Symbol.toPrimitive;var ze,$e,qe=function(e,t){function n(t,n,r,i,o){var s;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=J.default),(s=e.call(this,r)||this).enhancer=void 0,s.name_=void 0,s.equals=void 0,s.hasUnreportedChange_=!1,s.interceptors_=void 0,s.changeListeners_=void 0,s.value_=void 0,s.dehancer=void 0,s.enhancer=n,s.name_=r,s.equals=o,s.value_=n(t,void 0,r),s}N(n,e);var r=n.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==at.UNCHANGED&&this.setNewValue_(e)},r.prepareNewValue_=function(e){if(Wt(this)){var t=Jt(this,{object:this,type:en,newValue:e});if(!t)return at.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?at.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Xt(this)&&Qt(this,{type:en,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return Kt(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:en,newValue:this.value_,oldValue:void 0}),Yt(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return M(this.get())},r[t]=function(){return this.valueOf()},n}(G,je),Fe=function(e){function t(e){this.dependenciesState_=ze.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ze.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new We(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=$e.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||o(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=He("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?J.structural:J.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){!function(e){e.lowestObserverState_===ze.UP_TO_DATE_&&(e.lowestObserverState_=ze.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===ze.UP_TO_DATE_&&(e.dependenciesState_=ze.POSSIBLY_STALE_,e.onBecomeStale_())})))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function(){if(this.isComputing_&&o(32,this.name_,this.derivation),0!==at.inBatch||0!==this.observers_.size||this.keepAlive_){if(ht(this),Je(this)){var e=at.trackingContext;this.keepAlive_&&!e&&(at.trackingContext=this),this.trackAndCompute()&&function(e){e.lowestObserverState_!==ze.STALE_&&(e.lowestObserverState_=ze.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===ze.POSSIBLY_STALE_?t.dependenciesState_=ze.STALE_:t.dependenciesState_===ze.UP_TO_DATE_&&(e.lowestObserverState_=ze.UP_TO_DATE_)})))}(this),at.trackingContext=e}}else Je(this)&&(this.warnAboutUntrackedRead_(),dt(),this.value_=this.computeValue_(!1),ft());var t=this.value_;if(Ke(t))throw t.cause;return t},n.set=function(e){if(this.setter_){this.isRunningSetter_&&o(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else o(34,this.name_)},n.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===ze.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Ke(e)||Ke(n)||!this.equals_(e,n);return r&&(this.value_=n),r},n.computeValue_=function(e){this.isComputing_=!0;var t,n=Ue(!1);if(e)t=Xe(this,this.derivation,this.scope_);else if(!0===at.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new We(e)}return Ve(n),this.isComputing_=!1,t},n.suspend_=function(){this.keepAlive_||(Ye(this),this.value_=void 0)},n.observe_=function(e,t){var n=this,r=!0,i=void 0;return function(e,t){var n,r;void 0===t&&(t=h);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var s=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Rt}(t),a=!1;i=new gt(o,(function(){a||(a=!0,s((function(){a=!1,i.isDisposed_||i.track(u)})))}),t.onError,t.requiresObservable)}else i=new gt(o,(function(){this.track(u)}),t.onError,t.requiresObservable);function u(){e(i)}return i.schedule_(),i.getDisposer_()}((function(){var o=n.get();if(!r||t){var s=Ze();e({observableKind:"computed",debugObjectName:n.name_,type:en,object:n,newValue:o,oldValue:i}),et(s)}r=!1,i=o}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return M(this.get())},n[e]=function(){return this.valueOf()},t}(Symbol.toPrimitive),Ge=E("ComputedValue",Fe);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(ze||(ze={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}($e||($e={}));var We=function(e){this.cause=void 0,this.cause=e};function Ke(e){return e instanceof We}function Je(e){switch(e.dependenciesState_){case ze.UP_TO_DATE_:return!1;case ze.NOT_TRACKING_:case ze.STALE_:return!0;case ze.POSSIBLY_STALE_:for(var t=tt(!0),n=Ze(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(Ge(s)){if(at.disableErrorBoundaries)s.get();else try{s.get()}catch(e){return et(n),nt(t),!0}if(e.dependenciesState_===ze.STALE_)return et(n),nt(t),!0}}return rt(e),et(n),nt(t),!1}}function Xe(e,t,n){var r=tt(!0);rt(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++at.runId;var i,o=at.trackingDerivation;if(at.trackingDerivation=e,at.inBatch++,!0===at.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new We(e)}return at.inBatch--,at.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=ze.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,s=0;s<o;s++){var a=n[s];0===a.diffValue_&&(a.diffValue_=1,i!==s&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var u=t[o];0===u.diffValue_&&ct(u,e),u.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,ut(c,e))}r!==ze.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),nt(r),i}function Ye(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)ct(t[n],e);e.dependenciesState_=ze.NOT_TRACKING_}function Qe(e){var t=Ze();try{return e()}finally{et(t)}}function Ze(){var e=at.trackingDerivation;return at.trackingDerivation=null,e}function et(e){at.trackingDerivation=e}function tt(e){var t=at.allowStateReads;return at.allowStateReads=e,t}function nt(e){at.allowStateReads=e}function rt(e){if(e.dependenciesState_!==ze.UP_TO_DATE_){e.dependenciesState_=ze.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=ze.UP_TO_DATE_}}var it=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ot=!0,st=!1,at=function(){var e=a();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ot=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new it).version&&(ot=!1),ot?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new it):(setTimeout((function(){st||o(35)}),1),new it)}();function ut(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function ct(e,t){e.observers_.delete(t),0===e.observers_.size&&lt(e)}function lt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,at.pendingUnobservations.push(e))}function dt(){at.inBatch++}function ft(){if(0==--at.inBatch){mt();for(var e=at.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Fe&&n.suspend_())}at.pendingUnobservations=[]}}function ht(e){var t=at.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&at.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&at.inBatch>0&&lt(e),!1)}function pt(e){e.lowestObserverState_!==ze.STALE_&&(e.lowestObserverState_=ze.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===ze.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=ze.STALE_})))}var gt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ze.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=$e.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,at.pendingReactions.push(this),mt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){dt(),this.isScheduled_=!1;var e=at.trackingContext;if(at.trackingContext=this,Je(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}at.trackingContext=e,ft()}},t.track=function(e){if(!this.isDisposed_){dt(),this.isRunning_=!0;var t=at.trackingContext;at.trackingContext=this;var n=Xe(this,e,void 0);at.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Ye(this),Ke(n)&&this.reportExceptionInDerivation_(n.cause),ft()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(at.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";at.suppressReactionErrors||console.error(n,e),at.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(dt(),Ye(this),ft()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[F]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){o("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=$t(n);if(!i)return o("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===$e.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled"),i.isTracing_=e?$e.BREAK:$e.LOG}(this,e)},e}(),vt=function(e){return e()};function mt(){at.inBatch>0||at.isRunningReactions||vt(yt)}function yt(){at.isRunningReactions=!0;for(var e=at.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}at.isRunningReactions=!1}var bt=E("Reaction",gt),_t="action",wt="autoAction",At=Z(_t),St=Z("action.bound",{bound:!0}),xt=Z(wt,{autoAction:!0}),Ot=Z("autoAction.bound",{autoAction:!0,bound:!0});function Et(e){return function(t,n){return b(t)?He(t.name||"<unnamed action>",t,e):b(n)?He(t,n,e):_(n)?q(t,n,e?xt:At):_(t)?$(Z(e?wt:_t,{name:t,autoAction:e})):void 0}}var Tt=Et(!1);Object.assign(Tt,At);var kt=Et(!0);function Ct(e){return b(e)&&!0===e.isMobxAction}Object.assign(kt,xt),Tt.bound=$(St),kt.bound=$(Ot);var Rt=function(e){return e()};var Mt="onBO";function Lt(e,t,n){return jt("onBUO",e,t,n)}function jt(e,t,n,r){var i="function"==typeof r?In(t,n):In(t),o=b(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var e=i[s];e&&(e.delete(o),0===e.size&&delete i[s])}}var Pt="always";var Dt=0;function It(){this.message="FLOW_CANCELLED"}It.prototype=Object.create(Error.prototype);var Nt=re("flow"),Ht=re("flow.bound",{bound:!0}),Bt=Object.assign((function(e,t){if(_(t))return q(e,t,Nt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++Dt,s=Tt(r+" - runid: "+o+" - init",n).apply(t,i),a=void 0,u=new Promise((function(t,n){var i=0;function u(e){var t;a=void 0;try{t=Tt(r+" - runid: "+o+" - yield "+i++,s.next).call(s,e)}catch(e){return n(e)}l(t)}function c(e){var t;a=void 0;try{t=Tt(r+" - runid: "+o+" - yield "+i++,s.throw).call(s,e)}catch(e){return n(e)}l(t)}function l(e){if(!b(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(u,c);e.then(l,n)}e=n,u(void 0)}));return u.cancel=Tt(r+" - runid: "+o+" - cancel",(function(){try{a&&Ut(a);var t=s.return(void 0),n=Promise.resolve(t.value);n.then(y,y),Ut(n),e(new It)}catch(t){e(t)}})),u};return i.isMobXFlow=!0,i}),Nt);function Ut(e){b(e.cancel)&&e.cancel()}function Vt(e){return!0===(null==e?void 0:e.isMobXFlow)}function zt(e){return function(e,t){return!!e&&(void 0!==t?!!En(e)&&e[F].values_.has(t):En(e)||!!e[F]||W(e)||bt(e)||Ge(e))}(e)}function $t(e){switch(e.length){case 0:return at.trackingDerivation;case 1:return In(e[0]);case 2:return In(e[0],e[1])}}function qt(e,t){void 0===t&&(t=void 0),dt();try{return e.apply(t)}finally{ft()}}function Ft(e){return e[F]}Bt.bound=$(Ht);var Gt={has:function(e,t){return Ft(e).has_(t)},get:function(e,t){return Ft(e).get_(t)},set:function(e,t,n){var r;return!!_(t)&&(null==(r=Ft(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!_(t)&&(null==(n=Ft(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=Ft(e).defineProperty_(t,n))||r},ownKeys:function(e){return Ft(e).ownKeys_()},preventExtensions:function(e){o(13)}};function Wt(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Kt(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Jt(e,t){var n=Ze();try{for(var r=[].concat(e.interceptors_||[]),i=0,s=r.length;i<s&&((t=r[i](t))&&!t.type&&o(14),t);i++);return t}finally{et(n)}}function Xt(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Yt(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Qt(e,t){var n=Ze(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);et(n)}}var Zt="splice",en="update",tn={get:function(e,t){var n=e[F];return t===F?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?L(on,t)?on[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[F];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){o(15)}},nn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new G(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Kt(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Yt(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&o("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&o(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Pn(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=f),Wt(this)){var o=Jt(this,{object:this.proxy_,type:Zt,index:e,removedCount:t,added:n});if(!o)return f;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var s=n.length-t;this.updateArrayLength_(i,s)}var a=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,a),this.dehanceValues_(a)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var s=0;s<n.length;s++)this.values_[e+s]=n[s];for(var a=0;a<o.length;a++)this.values_[e+n.length+a]=o[a];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=Xt(this),o=i||r?{observableKind:"array",object:this.proxy_,type:en,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&Qt(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=Xt(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Zt,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&Qt(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(Wt(this)){var i=Jt(this,{type:en,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):o(17,e,n.length)},e}();function rn(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),v();var i=new nn(n,t,r,!1);O(i.values_,F,i);var o=new Proxy(i.values_,tn);if(i.proxy_=o,e&&e.length){var s=Ue(!0);i.spliceWithArray_(0,0,e),Ve(s)}return o}var on={clear:function(){return this.splice(0)},replace:function(e){var t=this[F];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[F];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[F].spliceWithArray_(e,t,n)},push:function(){for(var e=this[F],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[F].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[F],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return at.trackingDerivation&&o(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){at.trackingDerivation&&o(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[F],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function sn(e,t){"function"==typeof Array.prototype[e]&&(on[e]=t(e))}function an(e){return function(){var t=this[F];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function un(e){return function(t,n){var r=this,i=this[F];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function cn(e){return function(){var t=this,n=this[F];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}sn("concat",an),sn("flat",an),sn("includes",an),sn("indexOf",an),sn("join",an),sn("lastIndexOf",an),sn("slice",an),sn("toString",an),sn("toLocaleString",an),sn("every",un),sn("filter",un),sn("find",un),sn("findIndex",un),sn("flatMap",un),sn("forEach",un),sn("map",un),sn("some",un),sn("reduce",cn),sn("reduceRight",cn);var ln=E("ObservableArrayAdministration",nn);function dn(e){return w(e)&&ln(e[F])}var fn={},hn="add",pn="delete",gn=function(e,t){function n(e,t,n){var r=this;void 0===t&&(t=X),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[F]=fn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,b(Map)||o(18),this.keysAtom_=K("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,function(e,t){var n=Ue(e);try{t()}finally{Ve(n)}}(!0,(function(){r.merge(e)}))}var r=n.prototype;return r.has_=function(e){return this.data_.has(e)},r.has=function(e){var t=this;if(!at.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new qe(this.has_(e),Y,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Lt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},r.set=function(e,t){var n=this.has_(e);if(Wt(this)){var r=Jt(this,{type:n?en:hn,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},r.delete=function(e){var t=this;if(this.keysAtom_,Wt(this)&&!Jt(this,{type:pn,object:this,name:e}))return!1;if(this.has_(e)){var n=Xt(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:pn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return qt((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&Qt(this,r),!0}return!1},r.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==at.UNCHANGED){var r=Xt(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:en,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&Qt(this,i)}},r.addValue_=function(e,t){var n=this;this.keysAtom_,qt((function(){var r,i=new qe(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=Xt(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:hn,object:this,name:e,newValue:t}:null;r&&Qt(this,i)},r.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var e=this,t=this.keys();return $n({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},r.entries=function(){var e=this,t=this.keys();return $n({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function(e,t){for(var n,r=V(this);!(n=r()).done;){var i=n.value,o=i[0],s=i[1];e.call(t,s,o,this)}},r.merge=function(e){var t=this;return vn(e)&&(e=new Map(e)),qt((function(){A(e)?function(e){var t=Object.keys(e);if(!C)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return d.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):T(e)?(e.constructor!==Map&&o(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&o(20,e)})),this},r.clear=function(){var e=this;qt((function(){Qe((function(){for(var t,n=V(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.replace=function(e){var t=this;return qt((function(){for(var n,r=function(e){if(T(e)||vn(e))return e;if(Array.isArray(e))return new Map(e);if(A(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return o(21,e)}(e),i=new Map,s=!1,a=V(t.data_.keys());!(n=a()).done;){var u=n.value;if(!r.has(u))if(t.delete(u))s=!0;else{var c=t.data_.get(u);i.set(u,c)}}for(var l,d=V(r.entries());!(l=d()).done;){var f=l.value,h=f[0],p=f[1],g=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var v=t.data_.get(h);i.set(h,v),g||(s=!0)}}if(!s)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var m=t.data_.keys(),y=i.keys(),b=m.next(),_=y.next();!b.done;){if(b.value!==_.value){t.keysAtom_.reportChanged();break}b=m.next(),_=y.next()}t.data_=i})),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(e,t){return Yt(this,e)},r.intercept_=function(e){return Kt(this,e)},D(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),vn=E("ObservableMap",gn),mn={},yn=function(e,t){function n(e,t,n){void 0===t&&(t=X),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[F]=mn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,b(Set)||o(22),this.atom_=K(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.clear=function(){var e=this;qt((function(){Qe((function(){for(var t,n=V(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.forEach=function(e,t){for(var n,r=V(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},r.add=function(e){var t=this;if(this.atom_,Wt(this)&&!Jt(this,{type:hn,object:this,newValue:e}))return this;if(!this.has(e)){qt((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=Xt(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:hn,object:this,newValue:e}:null;n&&Qt(this,r)}return this},r.delete=function(e){var t=this;if(Wt(this)&&!Jt(this,{type:pn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Xt(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:pn,object:this,oldValue:e}:null;return qt((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&Qt(this,r),!0}return!1},r.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},r.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return $n({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return $n({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},r.replace=function(e){var t=this;return bn(e)&&(e=new Set(e)),qt((function(){Array.isArray(e)||k(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&o("Cannot initialize set from "+e)})),this},r.observe_=function(e,t){return Yt(this,e)},r.intercept_=function(e){return Kt(this,e)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[e]=function(){return this.values()},D(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),bn=E("ObservableSet",yn),_n=Object.create(null),wn="remove",An=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=he),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new G("ObservableObject.keys"),this.isPlainObject_=A(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Fe)return n.set(t),!0;if(Wt(this)){var r=Jt(this,{type:en,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==at.UNCHANGED){var i=Xt(this),o=i?{type:en,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&Qt(this,o)}return!0},t.get_=function(e){return at.trackingDerivation&&!L(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),L(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!at.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new qe(e in this.target_,Y,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[z])&&n[e])return;o(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==d;){var i=c(r,e);if(i){var s=t.make_(this,e,i,r);if(0===s)return;if(1===s)break}r=Object.getPrototypeOf(r)}Tn(this,0,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&Tn(this,0,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{dt();var r=this.delete_(e);if(!r)return r;if(Wt(this)){var i=Jt(this,{object:this.proxy_||this.target_,name:e,type:hn,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=I({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else l(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{ft()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{dt();var i=this.delete_(e);if(!i)return i;if(Wt(this)){var o=Jt(this,{object:this.proxy_||this.target_,name:e,type:hn,newValue:t});if(!o)return null;t=o.newValue}var s=On(e),a={configurable:!at.safeDescriptors||this.isPlainObject_,enumerable:!0,get:s.get,set:s.set};if(r){if(!Reflect.defineProperty(this.target_,e,a))return!1}else l(this.target_,e,a);var u=new qe(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{ft()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{dt();var r=this.delete_(e);if(!r)return r;if(Wt(this)&&!Jt(this,{object:this.proxy_||this.target_,name:e,type:hn,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=On(e),o={configurable:!at.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else l(this.target_,e,o);this.values_.set(e,new Fe(t)),this.notifyPropertyAddition_(e,void 0)}finally{ft()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!L(this.target_,e))return!0;if(Wt(this)&&!Jt(this,{object:this.proxy_||this.target_,name:e,type:wn}))return null;try{var n,r;dt();var i,o=Xt(this),s=this.values_.get(e),a=void 0;if(!s&&o&&(a=null==(i=c(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(s&&(this.values_.delete(e),s instanceof qe&&(a=s.value_),pt(s)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var u={type:wn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};o&&Qt(this,u)}}finally{ft()}return!0},t.observe_=function(e,t){return Yt(this,e)},t.intercept_=function(e){return Kt(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=Xt(this);if(i){var o=i?{type:hn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&Qt(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),R(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Sn(e,t){var n;if(L(e,F))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new An(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:pe(e):void 0}(t));return x(e,F,i),e}var xn=E("ObservableObjectAdministration",An);function On(e){return _n[e]||(_n[e]={get:function(){return this[F].getObservablePropValue_(e)},set:function(t){return this[F].setObservablePropValue_(e,t)}})}function En(e){return!!w(e)&&xn(e[F])}function Tn(e,t,n){var r;null==(r=e.target_[z])||delete r[n]}var kn,Cn,Rn=0,Mn=function(){};kn=Mn,Cn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(kn.prototype,Cn):void 0!==kn.prototype.__proto__?kn.prototype.__proto__=Cn:kn.prototype=Cn;var Ln=function(e,t,n){function r(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var s=new nn(r,n,i,!0);if(s.proxy_=B(o),O(B(o),F,s),t&&t.length){var a=Ue(!0);o.spliceWithArray(0,0,t),Ve(a)}return o}N(r,e);var i=r.prototype;return i.concat=function(){this[F].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return dn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return $n({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},D(r,[{key:"length",get:function(){return this[F].getArrayLength_()},set:function(e){this[F].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(Mn,Symbol.toStringTag,Symbol.iterator);function jn(e){l(Ln.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[F].get_(e)},set:function(t){this[F].set_(e,t)}}}(e))}function Pn(e){if(e>Rn){for(var t=Rn;t<e+100;t++)jn(t);Rn=e}}function Dn(e,t,n){return new Ln(e,t,n)}function In(e,t){if("object"==typeof e&&null!==e){if(dn(e))return void 0!==t&&o(23),e[F].atom_;if(bn(e))return e[F];if(vn(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||o(25,t,Hn(e)),n}if(En(e)){if(!t)return o(26);var r=e[F].values_.get(t);return r||o(27,t,Hn(e)),r}if(W(e)||Ge(e)||bt(e))return e}else if(b(e)&&bt(e[F]))return e[F];o(28)}function Nn(e,t){return e||o(29),void 0!==t?Nn(In(e,t)):W(e)||Ge(e)||bt(e)||vn(e)||bn(e)?e:e[F]?e[F]:void o(24,e)}function Hn(e,t){var n;if(void 0!==t)n=In(e,t);else{if(Ct(e))return e.name;n=En(e)||vn(e)||bn(e)?Nn(e):In(e)}return n.name_}Object.entries(on).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&x(Ln.prototype,t,n)})),Pn(1e3);var Bn=d.toString;function Un(e,t,n){return void 0===n&&(n=-1),Vn(e,t,n)}function Vn(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var s=Bn.call(e);if(s!==Bn.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=zn(e),t=zn(t);var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(b(u)&&u instanceof u&&b(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return i[l]===t;if(r.push(e),i.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Vn(e[l],t[l],n-1,r,i))return!1}else{var d,f=Object.keys(e);if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!L(t,d=f[l])||!Vn(e[d],t[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function zn(e){return dn(e)?e.slice():T(e)||vn(e)||k(e)||bn(e)?Array.from(e.entries()):e}function $n(e){return e[Symbol.iterator]=qn,e}function qn(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===a()[e]&&o("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Hn},$mobx:F});const Fn={...window.__JAM_CONSOLE__??console};var Gn,Wn,Kn,Jn,Xn,Yn,Qn=n(12108),Zn=n(54073),er=n.n(Zn);(Yn=Gn||(Gn={}))[Yn.DomContentLoaded=0]="DomContentLoaded",Yn[Yn.Load=1]="Load",Yn[Yn.FullSnapshot=2]="FullSnapshot",Yn[Yn.IncrementalSnapshot=3]="IncrementalSnapshot",Yn[Yn.Meta=4]="Meta",Yn[Yn.Custom=5]="Custom",Yn[Yn.Plugin=6]="Plugin",function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration"}(Wn||(Wn={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"}(Kn||(Kn={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange"}(Jn||(Jn={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(Xn||(Xn={}));const tr=er()(((e,t)=>{e.debug(["A communication error occurred in the Jam extension. You may experience a degraded feature set.","If your application utilizes `window.postMessage` and calls `event.preventDefault`,","`event.stopPropagation`, and/or `event.stopImmediatePropagation` on *all* message events received","(regardless of whether they are your application's events), this will prevent Jam from operating as","expected."].join("\n"),t)}),5*Qn.X.Minute,{leading:!0}),nr=new RegExp(["zoominfo.com"].join("|"));function rr(t,n,r){t.send({eventName:"ForwardLog",dest:{component:e.Component.ContentScript,location:e.ContentScripts.RRWebForwarder,tabId:0},payload:n}).catch((e=>{nr.test(document.location.hostname)||t.disconnected||tr(r,{url:window.location.href,frameCount:window.frames.length,error:(0,i.VK)(e)})}))}const ir=e.HostScripts.RRWebSnapshot;function or(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}!async function(n,s){!function(e){return(window.__JAM_BOOTSTRAPPED__??"").split(";").includes(e)}(s)?(await async function(){const n=performance.now();(function(e){!0===e.isolateGlobalState&&function(){if((at.pendingReactions.length||at.inBatch||at.isRunningReactions)&&o(36),st=!0,ot){var e=a();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),at=new it}}();var t,n,r=e.useProxies,i=e.enforceActions;if(void 0!==r&&(at.useProxies=r===Pt||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&(at.verifyProxies=!0),void 0!==i){var s=i===Pt?Pt:"observed"===i;at.enforceActions=s,at.allowStateChanges=!0!==s&&s!==Pt}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(at[t]=!!e[t])})),at.allowStateReads=!at.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=vt,vt=function(e){return t((function(){return n(e)}))})})({isolateGlobalState:!0}),(0,t.J)(r.q.Development)&&Fn.debug(ir,"IS RUNNING 🔥",n);const s=(0,e.getMessageBrokerSingleton)({address:{component:e.Component.HostScript,location:ir},canForward:!1,onError:e=>rr(s,{type:"sample",args:["warn",.001,`Inbound message error in Broker(${ir})`,{timeSincePageLoad:performance.now(),error:(0,i.LT)(e)}]},Fn)});!async function(t,n,r,o){try{await t.send({eventName:"RecordTabEvent",dest:{component:e.Component.Main,location:void 0},payload:{event:{hostname:window.location.hostname,type:Gn.Custom,data:{tag:"script-event",payload:{event:r,scriptName:n}},timestamp:Date.now()}}})}catch(e){t.disconnected||o.error(`Could not monitor script event ${r}.\nCaused by: ${(0,i.VK)(e)}`)}}(s,ir,"script-init",Fn);const u=()=>{s.send({eventName:"TriggerDomSnapshot",dest:{component:e.Component.ContentScript,location:e.ContentScripts.RRWebSnapshot,tabId:0},payload:null}).catch((n=>{e.CommunicationError.isInside(n)?(0,t.J)(r.q.Production)||Fn.warn("Jam development warning",n):rr(s,{type:"warn",args:[`Error in Broker(${ir})`,{error:n.message??n}]},Fn)}))};u();const c={cb:u,win:window};(function(e){const{cb:t,win:n}=e;if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const r=n.CSSStyleSheet.prototype.addRule;r&&(n.CSSStyleSheet.prototype.addRule=function(e,n){const i=Reflect.apply(r,this,[e,n]);return t(),i});const i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=function(e,n){const r=Reflect.apply(i,this,[e,n]);return t(),r};const o=n.CSSStyleSheet.prototype.deleteRule;let s,a;n.CSSStyleSheet.prototype.deleteRule=function(e){const n=Reflect.apply(o,this,[e]);return t(),n},n.CSSStyleSheet.prototype.replace&&(s=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=function(e){const n=Reflect.apply(s,this,[e]);return t(),n}),n.CSSStyleSheet.prototype.replaceSync&&(a=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=function(e){const n=Reflect.apply(a,this,[e]);return t(),n});const u={};or("CSSGroupingRule")?u.CSSGroupingRule=n.CSSGroupingRule:(or("CSSMediaRule")&&(u.CSSMediaRule=n.CSSMediaRule),or("CSSConditionRule")&&(u.CSSConditionRule=n.CSSConditionRule),or("CSSSupportsRule")&&(u.CSSSupportsRule=n.CSSSupportsRule));const c={};Object.entries(u).forEach((([e,n])=>{c[e]={insertRule:n.prototype.insertRule,deleteRule:n.prototype.deleteRule},n.prototype.insertRule=function(n,r){const i=Reflect.apply(c[e].insertRule,this,[n,r]);return t(),i},n.prototype.deleteRule=function(n){const r=Reflect.apply(c[e].deleteRule,this,[n]);return t(),r}}))})(c),function(e){const{cb:t,win:n}=e,r=n.document,i=r.defaultView?.Document,o=Object.getOwnPropertyDescriptor(i?.prototype,"adoptedStyleSheets");if(!o)return()=>{};Object.defineProperty(r,"adoptedStyleSheets",{set(e){const n=o.set?.call(this,e);return t(),n}})}(c),function(e){const{cb:t,win:n}=e,r=n.CSSStyleDeclaration.prototype.setProperty;n.CSSStyleDeclaration.prototype.setProperty=function(e,n,i){const o=Reflect.apply(r,this,[e,n,i]);return t(),o};const i=n.CSSStyleDeclaration.prototype.removeProperty;n.CSSStyleDeclaration.prototype.removeProperty=function(e){const n=Reflect.apply(i,this,[e]);return t(),n}}(c)}(),function(e){window.__JAM_BOOTSTRAPPED__?window.__JAM_BOOTSTRAPPED__=window.__JAM_BOOTSTRAPPED__+";"+e:window.__JAM_BOOTSTRAPPED__=e}(s)):Fn.debug(`${s}: previous host script is running, ignoring this run`)}(0,ir)})()})();