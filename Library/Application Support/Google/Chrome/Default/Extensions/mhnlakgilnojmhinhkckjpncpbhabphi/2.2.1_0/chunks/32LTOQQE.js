import{b as Nt}from"./JJT7CBRU.js";import{a as Ot}from"./KXRGCJYJ.js";import"./SGC75SOE.js";import"./JYOYXT6F.js";import"./7UYKGH4D.js";import"./LQZRW7GW.js";import"./36Q52SMG.js";import"./LJN3MCD4.js";import"./YDXMKSU3.js";import"./ONHK3WQZ.js";import"./3ODFTVHN.js";import{a as Lt}from"./YODL5E7I.js";import"./ZB6GXO2V.js";import{a as Mt}from"./XL4OWIUW.js";import"./JMRIPDH5.js";import"./UAB7UEHC.js";import{a as Z}from"./UWBZO3WW.js";import"./VPMHFK4Q.js";import"./MJ5FSNMU.js";import"./4NAB6M5G.js";import"./F2WWECM3.js";import"./2GA2WNGF.js";import{a as ee,b as st}from"./KQJRQHMC.js";import"./KBNLKYJD.js";import"./TT2UTYSE.js";import{s as Bt,za as Ct}from"./DLL62XWK.js";import{h as Wt}from"./N4UDF6UL.js";import"./Q225FROC.js";import"./NOAAR5HV.js";import"./MEUJ2IOP.js";import"./3SJA4ECE.js";import{a as Rt}from"./GM542M4T.js";import"./6C7YYXIB.js";import"./W6NX3QU6.js";import"./L33QHTPD.js";import"./EYWU5WEI.js";import{i as P}from"./NR3V5KOB.js";import{a as zt,b as St,n as Et,s as te}from"./JD5AR4GV.js";import{c as I}from"./J2TC32MO.js";import{g as D}from"./FRVVUPC6.js";import"./LCJ6CXNZ.js";import{a as yt}from"./ASGB7G5Y.js";import"./I4GVYMN6.js";import{d as q}from"./N4UUWNH5.js";import{a as z,u as O}from"./6WBNMCV2.js";import"./H3PWEBSP.js";import"./QZNWBGPK.js";import"./QZVUH6Z4.js";import"./6NCLE6FY.js";import"./OL2SPMMG.js";import"./6LS5XNTR.js";import{s as xt}from"./R2C2S5UK.js";import"./PQ3LRSVC.js";import"./KALZA75J.js";import"./RTDSIOP5.js";import"./7WZ5TKU2.js";import{E as wt,K as vt,L as bt}from"./SCPIJ7ZW.js";import{c as _t}from"./QPPETRF6.js";import{i as ct,j as mt,k as gt,m as R}from"./YUSYB6UW.js";import"./H676AVPS.js";import{F as G,L as ut,O as Y,R as ft,S as $,U as dt,a as Qt,e as A,f as pt,j as N,m as lt}from"./624UJDNS.js";import{a as W}from"./64D36THL.js";import{a as Jt}from"./3JX3VARJ.js";import{f as y}from"./PQ35KENF.js";var d=y(W());var M=y(W()),Ht=y(Qt());var J=y(W()),ie=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])},o(r,t)};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),g=function(){return g=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])}return o},g.apply(this,arguments)},Tt={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},kt={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},K={width:"20px",height:"20px",position:"absolute"},re={top:g(g({},Tt),{top:"-5px"}),right:g(g({},kt),{left:void 0,right:"-5px"}),bottom:g(g({},Tt),{top:void 0,bottom:"-5px"}),left:g(g({},kt),{left:"-5px"}),topRight:g(g({},K),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:g(g({},K),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:g(g({},K),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:g(g({},K),{left:"-10px",top:"-10px",cursor:"nw-resize"})},At=function(o){ie(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return r.prototype.render=function(){return J.createElement("div",{className:this.props.className||"",style:g(g({position:"absolute",userSelect:"none"},re[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},r}(J.PureComponent);var oe=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])},o(r,t)};return function(r,t){o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_=function(){return _=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i])}return o},_.apply(this,arguments)},se={width:"auto",height:"auto"},Q=function(o,r,t){return Math.max(Math.min(o,t),r)},It=function(o,r){return Math.round(o/r)*r},T=function(o,r){return new RegExp(o,"i").test(r)},tt=function(o){return!!(o.touches&&o.touches.length)},ne=function(o){return!!((o.clientX||o.clientX===0)&&(o.clientY||o.clientY===0))},Dt=function(o,r,t){t===void 0&&(t=0);var e=r.reduce(function(s,a,h){return Math.abs(a-o)<Math.abs(r[s]-o)?h:s},0),i=Math.abs(r[e]-o);return t===0||i<t?r[e]:o},nt=function(o){return o=o.toString(),o==="auto"||o.endsWith("px")||o.endsWith("%")||o.endsWith("vh")||o.endsWith("vw")||o.endsWith("vmax")||o.endsWith("vmin")?o:o+"px"},et=function(o,r,t,e){if(o&&typeof o=="string"){if(o.endsWith("px"))return Number(o.replace("px",""));if(o.endsWith("%")){var i=Number(o.replace("%",""))/100;return r*i}if(o.endsWith("vw")){var i=Number(o.replace("vw",""))/100;return t*i}if(o.endsWith("vh")){var i=Number(o.replace("vh",""))/100;return e*i}}return o},ae=function(o,r,t,e,i,s,a){return e=et(e,o.width,r,t),i=et(i,o.height,r,t),s=et(s,o.width,r,t),a=et(a,o.height,r,t),{maxWidth:typeof e>"u"?void 0:Number(e),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof a>"u"?void 0:Number(a)}},he=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Pt="__resizable_base__",Ft=function(o){oe(r,o);function r(t){var e=o.call(this,t)||this;return e.ratio=1,e.resizable=null,e.parentLeft=0,e.parentTop=0,e.resizableLeft=0,e.resizableRight=0,e.resizableTop=0,e.resizableBottom=0,e.targetLeft=0,e.targetTop=0,e.appendBase=function(){if(!e.resizable||!e.window)return null;var i=e.parentNode;if(!i)return null;var s=e.window.document.createElement("div");return s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.transform="scale(0, 0)",s.style.left="0",s.style.flex="0 0 100%",s.classList?s.classList.add(Pt):s.className+=Pt,i.appendChild(s),s},e.removeBase=function(i){var s=e.parentNode;s&&s.removeChild(i)},e.ref=function(i){i&&(e.resizable=i)},e.state={isResizing:!1,width:typeof(e.propsSize&&e.propsSize.width)>"u"?"auto":e.propsSize&&e.propsSize.width,height:typeof(e.propsSize&&e.propsSize.height)>"u"?"auto":e.propsSize&&e.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},e.onResizeStart=e.onResizeStart.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e}return Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||se},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){var t=0,e=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,e=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=a}return{width:t,height:e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizeStyle",{get:function(){var t=this,e=this.props.size,i=function(h){if(typeof t.state[h]>"u"||t.state[h]==="auto")return"auto";if(t.propsSize&&t.propsSize[h]&&t.propsSize[h].toString().endsWith("%")){if(t.state[h].toString().endsWith("%"))return t.state[h].toString();var n=t.getParentSize(),p=Number(t.state[h].toString().replace("px","")),l=p/n[h]*100;return l+"%"}return nt(t.state[h])},s=e&&typeof e.width<"u"&&!this.state.isResizing?nt(e.width):i("width"),a=e&&typeof e.height<"u"&&!this.state.isResizing?nt(e.height):i("height");return{width:s,height:a}},enumerable:!1,configurable:!0}),r.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var e=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(e=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var s={width:t.offsetWidth,height:t.offsetHeight};return e&&(this.parentNode.style.flexWrap=i),this.removeBase(t),s},r.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},r.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},r.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},r.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},r.prototype.createSizeForCssProperty=function(t,e){var i=this.propsSize&&this.propsSize[e];return this.state[e]==="auto"&&this.state.original[e]===t&&(typeof i>"u"||i==="auto")?"auto":t},r.prototype.calculateNewMaxFromBoundary=function(t,e){var i=this.props.boundsByDirection,s=this.state.direction,a=i&&T("left",s),h=i&&T("top",s),n,p;if(this.props.bounds==="parent"){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),p=h?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,p=h?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),p=h?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(t=t&&t<n?t:n),p&&Number.isFinite(p)&&(e=e&&e<p?e:p),{maxWidth:t,maxHeight:e}},r.prototype.calculateNewSizeFromDirection=function(t,e){var i=this.props.scale||1,s=this.props.resizeRatio||1,a=this.state,h=a.direction,n=a.original,p=this.props,l=p.lockAspectRatio,u=p.lockAspectRatioExtraHeight,S=p.lockAspectRatioExtraWidth,c=n.width,m=n.height,b=u||0,E=S||0;return T("right",h)&&(c=n.width+(t-n.x)*s/i,l&&(m=(c-E)/this.ratio+b)),T("left",h)&&(c=n.width-(t-n.x)*s/i,l&&(m=(c-E)/this.ratio+b)),T("bottom",h)&&(m=n.height+(e-n.y)*s/i,l&&(c=(m-b)*this.ratio+E)),T("top",h)&&(m=n.height-(e-n.y)*s/i,l&&(c=(m-b)*this.ratio+E)),{newWidth:c,newHeight:m}},r.prototype.calculateNewSizeFromAspectRatio=function(t,e,i,s){var a=this.props,h=a.lockAspectRatio,n=a.lockAspectRatioExtraHeight,p=a.lockAspectRatioExtraWidth,l=typeof s.width>"u"?10:s.width,u=typeof i.width>"u"||i.width<0?t:i.width,S=typeof s.height>"u"?10:s.height,c=typeof i.height>"u"||i.height<0?e:i.height,m=n||0,b=p||0;if(h){var E=(S-m)*this.ratio+b,L=(c-m)*this.ratio+b,F=(l-b)/this.ratio+m,w=(u-b)/this.ratio+m,v=Math.max(l,E),U=Math.min(u,L),j=Math.max(S,F),V=Math.min(c,w);t=Q(t,v,U),e=Q(e,j,V)}else t=Q(t,l,u),e=Q(e,S,c);return{newWidth:t,newHeight:e}},r.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var t=this.parentNode;if(t){var e=t.getBoundingClientRect();this.parentLeft=e.left,this.parentTop=e.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left,this.targetTop=i.top}if(this.resizable){var s=this.resizable.getBoundingClientRect(),a=s.left,h=s.top,n=s.right,p=s.bottom;this.resizableLeft=a,this.resizableRight=n,this.resizableTop=h,this.resizableBottom=p}},r.prototype.onResizeStart=function(t,e){if(!(!this.resizable||!this.window)){var i=0,s=0;if(t.nativeEvent&&ne(t.nativeEvent)?(i=t.nativeEvent.clientX,s=t.nativeEvent.clientY):t.nativeEvent&&tt(t.nativeEvent)&&(i=t.nativeEvent.touches[0].clientX,s=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(t,e,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var h,n=this.window.getComputedStyle(this.resizable);if(n.flexBasis!=="auto"){var p=this.parentNode;if(p){var l=this.window.getComputedStyle(p).flexDirection;this.flexDir=l.startsWith("row")?"row":"column",h=n.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var u={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:_(_({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:e,flexBasis:h};this.setState(u)}},r.prototype.onMouseMove=function(t){var e=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&tt(t))try{t.preventDefault(),t.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,a=i.maxHeight,h=i.minWidth,n=i.minHeight,p=tt(t)?t.touches[0].clientX:t.clientX,l=tt(t)?t.touches[0].clientY:t.clientY,u=this.state,S=u.direction,c=u.original,m=u.width,b=u.height,E=this.getParentSize(),L=ae(E,this.window.innerWidth,this.window.innerHeight,s,a,h,n);s=L.maxWidth,a=L.maxHeight,h=L.minWidth,n=L.minHeight;var F=this.calculateNewSizeFromDirection(p,l),w=F.newHeight,v=F.newWidth,U=this.calculateNewMaxFromBoundary(s,a);this.props.snap&&this.props.snap.x&&(v=Dt(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=Dt(w,this.props.snap.y,this.props.snapGap));var j=this.calculateNewSizeFromAspectRatio(v,w,{width:U.maxWidth,height:U.maxHeight},{width:h,height:n});if(v=j.newWidth,w=j.newHeight,this.props.grid){var V=It(v,this.props.grid[0]),ht=It(w,this.props.grid[1]),X=this.props.snapGap||0;v=X===0||Math.abs(V-v)<=X?V:v,w=X===0||Math.abs(ht-w)<=X?ht:w}var Kt={width:v-c.width,height:w-c.height};if(m&&typeof m=="string"){if(m.endsWith("%")){var it=v/E.width*100;v=it+"%"}else if(m.endsWith("vw")){var rt=v/this.window.innerWidth*100;v=rt+"vw"}else if(m.endsWith("vh")){var ot=v/this.window.innerHeight*100;v=ot+"vh"}}if(b&&typeof b=="string"){if(b.endsWith("%")){var it=w/E.height*100;w=it+"%"}else if(b.endsWith("vw")){var rt=w/this.window.innerWidth*100;w=rt+"vw"}else if(b.endsWith("vh")){var ot=w/this.window.innerHeight*100;w=ot+"vh"}}var k={width:this.createSizeForCssProperty(v,"width"),height:this.createSizeForCssProperty(w,"height")};this.flexDir==="row"?k.flexBasis=k.width:this.flexDir==="column"&&(k.flexBasis=k.height),(0,Ht.flushSync)(function(){e.setState(k)}),this.props.onResize&&this.props.onResize(t,S,this.resizable,Kt)}},r.prototype.onMouseUp=function(t){var e=this.state,i=e.isResizing,s=e.direction,a=e.original;if(!(!i||!this.resizable)){var h={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(t,s,this.resizable,h),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:_(_({},this.state.backgroundStyle),{cursor:"auto"})})}},r.prototype.updateSize=function(t){this.setState({width:t.width,height:t.height})},r.prototype.renderResizer=function(){var t=this,e=this.props,i=e.enable,s=e.handleStyles,a=e.handleClasses,h=e.handleWrapperStyle,n=e.handleWrapperClass,p=e.handleComponent;if(!i)return null;var l=Object.keys(i).map(function(u){return i[u]!==!1?M.createElement(At,{key:u,direction:u,onResizeStart:t.onResizeStart,replaceStyles:s&&s[u],className:a&&a[u]},p&&p[u]?p[u]:null):null});return M.createElement("div",{className:n,style:h},l)},r.prototype.render=function(){var t=this,e=Object.keys(this.props).reduce(function(a,h){return he.indexOf(h)!==-1||(a[h]=t.props[h]),a},{}),i=_(_(_({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return M.createElement(s,_({ref:this.ref,style:i,className:this.props.className},e),this.state.isResizing&&M.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},r.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},r}(M.PureComponent);var Ut=y(te());var jt=y(Mt()),f=y(W());var at=y(Jt());var pe=()=>{let{t:o}=_t(["common","client"]),{chatBoxShortCutKey:r}=Rt(),{currentSidebarConversationType:t}=Bt();return f.default.createElement(z,{flexDirection:"row",flexShrink:0,height:48,gap:1,alignItems:"center",px:1},f.default.createElement(z,{sx:{flexShrink:0},direction:"row",alignItems:"center",gap:1,justifyContent:"center"},f.default.createElement(I,{sx:{textDecoration:"none!important"},href:N?G+"?invite=CHROME_EXTENSION":ut,target:"_blank"},f.default.createElement(P,{title:o("client:sidebar__button__my_plan")},f.default.createElement(z,{direction:"row",alignItems:"center",gap:1,justifyContent:"center"},N?f.default.createElement(zt,{sx:{fontSize:28,color:"inherit"}}):f.default.createElement(St,{sx:{fontSize:28,color:"inherit"}}),f.default.createElement(O,{color:"text.primary",component:"h1",fontSize:20,fontWeight:800},"MaxAI.me")))),f.default.createElement(Ot,null)),f.default.createElement(z,{direction:"row",flex:1,width:0,justifyContent:"end",alignItems:"center"},f.default.createElement(P,{title:o("client:sidebar__button__immersive_chat")},f.default.createElement(q,{sx:{width:36,height:36,minWidth:36},onClick:()=>{t!=="Summary"?R({url:at.default.runtime.getURL("/pages/chat/index.html"),query:`?conversationType=${t}`}):R({url:at.default.runtime.getURL("/pages/chat/index.html")})}},f.default.createElement(Wt,{icon:"Fullscreen",sx:{color:"text.secondary",fontSize:24}}))),f.default.createElement(P,{title:o("common:settings")},f.default.createElement(D,{sx:{flexShrink:0},onClick:()=>{R({key:"options"})}},f.default.createElement(Ut.default,{sx:{fontSize:"20px"}}))),!N&&!r&&f.default.createElement(O,{fontSize:12},f.default.createElement(I,{color:"text.primary",sx:{cursor:"pointer"},underline:"always",target:"_blank",href:"chrome://extensions/shortcuts",onClick:()=>{R({key:"shortcuts"})}},o("client:sidebar__button__set_up_shortcut"))),f.default.createElement(P,{placement:"bottom",title:o("client:sidebar__button__close_sidebar"),description:r},f.default.createElement(D,{sx:{flexShrink:0},onClick:()=>{if(Z()){window.close();return}mt()}},f.default.createElement(jt.default,{sx:{fontSize:"24px"}})))))},Vt=pe;var B=y(W());var le={top:!1,right:!1,bottom:!1,left:!0,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},ue=150,fe=()=>{let o=A(dt),[r,t]=(0,B.useState)(!1),[e,i]=(0,B.useState)(Y),[s,a]=(0,B.useState)(0),h=async p=>{i(p),r&&(await xt({sidebarSettings:{common:{chatBoxWidth:p}}}),ct())};(0,B.useEffect)(()=>{let p=()=>{let l=Math.max((document.documentElement.clientWidth||document.body.clientWidth||0)-ue,Y);a(l)};return window.addEventListener("resize",p),p(),()=>{window.removeEventListener("resize",p)}},[a]),(0,B.useEffect)(()=>{i(Math.min(s,e))},[s]);let n=(0,B.useRef)(!1);return(0,B.useEffect)(()=>{n.current||o.sidebarSettings?.common?.chatBoxWidth&&s&&(i(Math.min(s,o.sidebarSettings?.common?.chatBoxWidth)),n.current=!0,t(!0))},[o.sidebarSettings?.common?.chatBoxWidth,s]),{minWidth:Y,maxWidth:s,resizeEnable:{...le,left:!Z()},visibleWidth:e,setLocalWidth:h}},Xt=fe;var x=y(W()),Gt=y(ee());var{getBrowser:de}=new Gt.UAParser,ce=o=>{let[r,t]=(0,x.useState)(null),[e,i]=(0,x.useState)(null),[s,a]=(0,x.useState)(!0),h=(0,x.useMemo)(()=>r?r==="Chrome"?"chrome://settings/help":r==="Edge"?"edge://settings/help":r==="Chromium"?"https://download-chromium.appspot.com/":r==="Opera"?"opera://about":r==="Firefox"?"https://support.mozilla.org/en-US/kb/update-firefox-latest-release":r==="Safari"?"https://support.apple.com/en-us/HT204416":"":"",[r]);return wt(()=>{let n=de();t(n.name),i(n.version);let p=Number(n.version?.match(/\d+/)?.[0]||""),l=!0;p!==0&&(n.name==="Chrome"&&p<103&&(l=!1),n.name==="Edge"&&p<103&&(l=!1),a(l),l||bt().then(async u=>{u.ON_BOARDING_RECORD_BROWSER_VERSION||(await st("[Browser] Browser version is not compatible",`Browser: [${n.name}]
Version: [${n.version}]`,{uuid:"dd385931-45f4-4de1-8e48-8145561b0f9d"}),await vt("ON_BOARDING_RECORD_BROWSER_VERSION",!0))}))}),!r||!e||s?x.default.createElement(x.default.Fragment,null,o.children):x.default.createElement(z,{sx:{mx:"auto",px:1,flex:1,alignItems:"center",justifyContent:"center",maxWidth:400},spacing:2},x.default.createElement(Et,{sx:{color:"text.primary",fontSize:"88px"}}),x.default.createElement(O,{fontSize:"26px",fontWeight:800,color:"text.primary"},`Update your ${r} browser`),x.default.createElement(O,{textAlign:"center",fontSize:"16px",color:"text.primary"},"In order to use this extension, please update your browser to the latest version. Your current browser version is not compatible."),x.default.createElement(I,{underline:"none",href:"#",target:"_blank",onClick:n=>{n.preventDefault(),n.stopPropagation(),st("[Browser] Browser clicked update",`Browser: [${r}]
Version: [${e}]`,{uuid:"dd385931-45f4-4de1-8e48-8145561b0f9d"}),R({url:h})}},x.default.createElement(q,{sx:{height:"48px",fontSize:"16px",borderRadius:"24px"},variant:"contained",color:"primary"},`Update ${r} browser`)))},Yt=ce;var H=y(W()),$t=y(Mt()),me=()=>null,Zt=me;var C=y(W());var ge=()=>{let[o,r]=(0,C.useState)(!1),t=A($),e=A(Ct);return(0,C.useEffect)(()=>{(t.open||e.open)&&r(!0)},[t.open,e.open]),C.default.createElement(C.default.Fragment,null,o&&C.default.createElement("iframe",{style:{position:"absolute",top:0,left:0,zIndex:-1,border:0,opacity:0},width:1,height:1,id:"EzMail_AI_TEMPLATE_COMPILE",src:`${G}/crx.html`}))},qt=ge;var we=d.default.lazy(()=>import("./S3L3JFWF.js")),ve=()=>{let o=d.default.useRef(null),{visibleWidth:r,maxWidth:t,minWidth:e,setLocalWidth:i,resizeEnable:s}=Xt(),[a,h]=pt($),[n,p]=d.default.useState(!1);return(0,d.useEffect)(()=>{let l=new MutationObserver(S=>{S.forEach(c=>{c.type!=="attributes"&&c.attributeName!=="class"||h(m=>({...m,env:ft(),open:c.target?.classList?.contains("open")||!1}))})}),u=document.getElementById(lt);return u&&l.observe(u,{attributes:!0,childList:!1}),()=>{l.disconnect()}},[]),(0,d.useEffect)(()=>{a.open&&p(!0)},[a.open]),(0,d.useEffect)(()=>{if(!n){let l=setInterval(()=>{gt()&&p(!0)},1e3);return()=>{clearInterval(l)}}return()=>{}},[n]),d.default.createElement(d.default.Fragment,null,d.default.createElement(Ft,{size:{width:r,height:"100%"},enable:s,maxWidth:t,minWidth:e,onResizeStop:async(l,u,S,c)=>{await i(r+c.width)}},d.default.createElement(yt,{component:"div",className:N?"ezmail-ai-app":"use-chat-gpt-ai-app",ref:o,sx:{flex:1,display:"flex",flexDirection:"column",height:"100%",borderLeft:"1px solid rgba(0, 0, 0, .1)",bgcolor:"background.paper",div:{userSelect:"none"}}},d.default.createElement(z,{height:"100%",sx:{"& *":{boxSizing:"border-box",fontFamily:'"Roboto","Helvetica","Arial",sans-serif!important'}}},d.default.createElement(Nt,null),d.default.createElement(Zt,null),d.default.createElement(Vt,null),d.default.createElement(Yt,null,d.default.createElement(Lt,null,n&&d.default.createElement(z,{flex:1,height:0},d.default.createElement(we,null)),d.default.createElement(qt,null)))))))},Mi=ve;export{Mi as default};
