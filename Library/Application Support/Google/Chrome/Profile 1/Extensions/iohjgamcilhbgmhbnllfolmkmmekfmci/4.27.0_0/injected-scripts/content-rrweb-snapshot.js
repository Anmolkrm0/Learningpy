/*! For license information please see content-rrweb-snapshot.js.LICENSE.txt */
(()=>{var e={76739:(e,t,n)=>{"use strict";n.d(t,{f7:()=>r,mC:()=>l,r5:()=>u,y:()=>c});var r,i=n(57252),o=n(11566),a=n(29238),s=n(63294);function u(e){var t=(0,i.pi)((0,i.pi)({},e),{onReady:function(e){e()}});return Object.defineProperty(t,"_setDebug",{get:function(){return a.yD},enumerable:!1}),t}function c(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return(0,s.Z)(e,"onReady callback threw an error:")()}))}function l(e,t){var n=(0,o._7)(e,t);return{configuration:n,internalMonitoring:(0,a.py)(n)}}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(r||(r={}))},89584:(e,t,n)=>{"use strict";n.d(t,{MI:()=>a,WQ:()=>p,ej:()=>c,fH:()=>s,oX:()=>f});var r,i=n(70882),o=n(65411),a=o.WT;function s(e,t){var n,r,i=!1,o=function(){i=!0,clearTimeout(n),n=setTimeout((function(){i=!1}),a)};return{get:function(){return i||(r=c(e),o()),r},set:function(n,i){u(e,n,i,t),r=n,o()}}}function u(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+o+";path=/;samesite="+a+s+u}function c(e){return(0,o.MY)(document.cookie,e)}function l(e,t){u(e,"",0,t)}function f(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+(0,o.DO)(),n="test";u(t,n,o.WT,e);var r=c(t)===n;return l(t,e),r}catch(e){return i.j.error(e),!1}}function p(){if(void 0===r){for(var e="dd_site_test_"+(0,o.DO)(),t=window.location.hostname.split("."),n=t.pop();t.length&&!c(e);)n=t.pop()+"."+n,u(e,"test",o.WT,{domain:n});l(e,{domain:n}),r=n}return r}},99571:(e,t,n)=>{"use strict";n.d(t,{o:()=>h,z:()=>d});var r,i,o=n(57252),a=n(29238),s=n(29883),u=n(57604),c=n(80816),l=n(11627),f=[],p=[];function d(){return r||(window.fetch&&(i=window.fetch,window.fetch=function(e,t){var n,r=(0,a.L6)(v,null,[e,t]);return r?(n=i.call(this,r.input,r.init),(0,a.L6)(b,null,[n,r])):n=i.call(this,e,t),n}),r={beforeSend:function(e){f.push(e)},onRequestComplete:function(e){p.push(e)}}),r}function h(){r&&(r=void 0,f.splice(0,f.length),p.splice(0,p.length),window.fetch=i)}function v(e,t){var n=t&&t.method||"object"==typeof e&&e.method||"GET",r=(0,l.D5)("object"==typeof e&&e.url||e),i={init:t,input:e,method:n,startClocks:(0,c.$I)(),url:r};return f.forEach((function(e){return e(i)})),i}function b(e,t){var n=this,r=function(e){return(0,o.mG)(n,void 0,void 0,(function(){var n,r;return(0,o.Jh)(this,(function(i){switch(i.label){case 0:return t.duration=(0,c._J)(t.startClocks.timeStamp,(0,c.n$)()),"stack"in e||e instanceof Error?(t.status=0,t.responseText=(0,u.P3)((0,s._t)(e)),t.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,t.error=e,p.forEach((function(e){return e(t)})),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];n=void 0,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return n=i.sent(),[3,5];case 4:return r=i.sent(),n="Unable to retrieve response: "+r,[3,5];case 5:t.response=e,t.responseText=n,t.responseType=e.type,t.status=e.status,t.isAborted=!1,p.forEach((function(e){return e(t)})),i.label=6;case 6:return[2]}}))}))};e.then((0,a.zk)(r),(0,a.zk)(r))}},89096:(e,t,n)=>{"use strict";n.d(t,{E:()=>h,h:()=>d});var r,i,o,a,s=n(57252),u=n(29238),c=n(80816),l=n(11627),f=[],p=[];function d(){return r||(i=XMLHttpRequest.prototype.open,o=XMLHttpRequest.prototype.send,a=XMLHttpRequest.prototype.abort,XMLHttpRequest.prototype.open=v,XMLHttpRequest.prototype.send=b,XMLHttpRequest.prototype.abort=m,r={beforeSend:function(e){f.push(e)},onRequestComplete:function(e){p.push(e)}}),r}function h(){r&&(r=void 0,f.length=0,p.length=0,XMLHttpRequest.prototype.open=i,XMLHttpRequest.prototype.send=o,XMLHttpRequest.prototype.abort=a)}function v(e,t){var n=this;return(0,u.L6)((function(){n._datadog_xhr={method:e,url:(0,l.D5)(t)}})),i.apply(this,arguments)}function b(){var e=this;return(0,u.L6)((function(){if(e._datadog_xhr){e._datadog_xhr.startTime=(0,c._q)(),e._datadog_xhr.startClocks=(0,c.$I)(),e._datadog_xhr.isAborted=!1;var t=!1,n=e.onreadystatechange,r=function(){this.readyState===XMLHttpRequest.DONE&&i(),n&&n.apply(this,arguments)},i=(0,u.zk)((function(){e.removeEventListener("loadend",i),e.onreadystatechange===r&&(e.onreadystatechange=n),t||(t=!0,g(e))}));e.onreadystatechange=r,e.addEventListener("loadend",i),f.forEach((function(t){return t(e._datadog_xhr,e)}))}})),o.apply(this,arguments)}function m(){var e=this;return(0,u.L6)((function(){e._datadog_xhr&&(e._datadog_xhr.isAborted=!0)})),a.apply(this,arguments)}function g(e){e._datadog_xhr.duration=(0,c._J)(e._datadog_xhr.startClocks.timeStamp,(0,c.n$)()),e._datadog_xhr.responseText=e.response,e._datadog_xhr.status=e.status,e._datadog_xhr.xhr=e,p.forEach((function(t){return t((0,s.pi)({},e._datadog_xhr))}))}},11566:(e,t,n)=>{"use strict";n.d(t,{_7:()=>c});var r=n(57252),i=n(89584),o=n(63294),a=n(65411),s=n(85912),u={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,trackViewsManually:!1,requestErrorResponseLengthLimit:32*a.Tn,flushTimeout:30*a.WT,maxBatchSize:50,maxMessageSize:256*a.Tn,batchBytesLimit:16*a.Tn};function c(e,t){var n=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],i=(0,r.pi)((0,r.pi)({beforeSend:e.beforeSend&&(0,o.Z)(e.beforeSend,"beforeSend threw an error:"),cookieOptions:l(e),isEnabled:function(e){return(0,a.q9)(n,e)},service:e.service},(0,s.hK)(e,t)),u);return"allowedTracingOrigins"in e&&(i.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(i.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(i.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(i.trackInteractions=!!e.trackInteractions),"trackViewsManually"in e&&(i.trackViewsManually=!!e.trackViewsManually),"actionNameAttribute"in e&&(i.actionNameAttribute=e.actionNameAttribute),i}function l(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=(0,i.WQ)()),t}},91289:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var r,i=n(57252),o=n(57604),a=n(80816),s=n(65411),u=n(29238),c=n(29883);function l(e){return r=console.error,console.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var s=(0,o.Xp)();(0,u.L6)((function(){r.apply(console,t),e.notify((0,i.pi)((0,i.pi)({},f(t,s)),{source:o.zH.CONSOLE,startClocks:(0,a.$I)(),handling:o.Xw.HANDLED}))}))},{stop:function(){console.error=r}}}function f(e,t){var n=(0,s.sE)(e,(function(e){return e instanceof Error}));return{message:(0,i.pr)(["console error:"],e).map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?(0,o.jN)((0,c._t)(e)):(0,s.lh)(e,void 0,2)}(e)})).join(" "),stack:n?(0,o.P3)((0,c._t)(n)):void 0,handlingStack:t}}},57650:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(99571),i=n(89096),o=n(57604),a=n(65411);function s(e,t,n){function s(r,i){e.isIntakeUrl(i.url)||!n&&i.isAborted||!function(e){return 0===e.status&&"opaque"!==e.responseType}(i)&&!function(e){return e.status>=500}(i)||t.notify({message:c(r)+" error "+i.method+" "+i.url,resource:{method:i.method,statusCode:i.status,url:i.url},source:o.zH.NETWORK,stack:u(i.responseText,e)||"Failed to load",startClocks:i.startClocks})}return void 0===n&&(n=!0),(0,i.h)().onRequestComplete((function(e){return s(a.xd.XHR,e)})),(0,r.z)().onRequestComplete((function(e){return s(a.xd.FETCH,e)})),{stop:function(){(0,i.E)(),(0,r.o)()}}}function u(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function c(e){return a.xd.XHR===e?"XHR":"Fetch"}},85154:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r,i=n(57604),o=n(80816),a=n(2517);function s(e){return r=function(t,n,r){var a=(0,i.wl)(t,r,"Uncaught"),s=a.stack,u=a.message,c=a.type;e.notify({message:u,stack:s,type:c,source:i.zH.SOURCE,startClocks:(0,o.$I)(),originalError:r,handling:i.Xw.UNHANDLED})},(0,a.Ld)(r),{stop:function(){(0,a.r1)(r)}}}},29238:(e,t,n)=>{"use strict";n.d(t,{L6:()=>v,Th:()=>d,Ur:()=>m,py:()=>p,tV:()=>b,yD:()=>y,zk:()=>h});var r,i=n(57252),o=n(70882),a=n(57604),s=n(65411),u=n(61878),c=n(29883);!function(e){e.info="info",e.error="error"}(r||(r={}));var l,f={maxMessagesPerPage:0,sentMessageCount:0};function p(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);function r(t){return new u.E(new u.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint)),{add:function(e){var r=function(e){return(0,s.$e)({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==l?l():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);(0,s.f0)(f,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){l=e}}}function d(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f.batch?h(r):r;return n.apply(this,e)}}function h(e){return function(){return v(e,this,arguments)}}function v(e,t,n){try{return e.apply(t,n)}catch(e){_(e);try{m(e)}catch(e){_(e)}}}function b(e,t){!function(e){f.debugMode&&o.j.log("[MONITORING MESSAGE]",e)}(e),g((0,i.pi)((0,i.pi)({message:e},t),{status:r.info}))}function m(e){g((0,i.pi)((0,i.pi)({},function(e){if(e instanceof Error){var t=(0,c._t)(e);return{error:{kind:t.name,stack:(0,a.P3)(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+(0,s.lh)(e)}}(e)),{status:r.error}))}function g(e){f.batch&&f.sentMessageCount<f.maxMessagesPerPage&&(f.sentMessageCount+=1,f.batch.add(e))}function y(e){f.debugMode=e}function _(e){f.debugMode&&o.j.error("[INTERNAL ERROR]",e)}},61437:(e,t,n)=>{"use strict";n.d(t,{TK:()=>o});var r=n(89584),i=n(4344);function o(e){var t=e.get(),n=(0,r.ej)("_dd"),o=(0,r.ej)("_dd_r"),a=(0,r.ej)("_dd_l");if(!t){var s={};n&&(s.id=n),a&&/^[01]$/.test(a)&&(s.logs=a),o&&/^[012]$/.test(o)&&(s.rum=o),(0,i.En)(s,e)}}},4344:(e,t,n)=>{"use strict";n.d(t,{En:()=>h,M_:()=>f});var r=n(89584),i=n(68990),o=n(65411),a=n(29238),s=n(61437),u=15*o.yR,c=4*o.dV,l=o.yR;function f(e,t,n){var u=(0,r.fH)("_dd_s",e);(0,s.TK)(u);var c=new i.y,f=d(u).id,p=o.P2((0,a.zk)((function(){var e=d(u),r=n(e[t]),i=r.trackingType,a=r.isTracked;e[t]=i,a&&!e.id&&(e.id=o.DO(),e.created=String(Date.now())),h(e,u),a&&f!==e.id&&(f=e.id,c.notify())})),r.MI).throttled;return p(),function(e){var t=o.yw(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;b.push(t)}(p),function(e){var t=(0,a.zk)((function(){"visible"===document.visibilityState&&h(d(u),u)})),n=o.Oo(document,"visibilitychange",t).stop;b.push(n);var r=setInterval(t,l);b.push((function(){clearInterval(r)}))}(),{getId:function(){return d(u).id},getTrackingType:function(){return d(u)[t]},renewObservable:c}}var p=/^([a-z]+)=([a-z0-9-]+)$/;function d(e){var t=function(e){var t=e.get(),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||p.test(e))}(t)&&t.split("&").forEach((function(e){var t=p.exec(e);if(null!==t){var r=t[1],i=t[2];n[r]=i}})),n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<c)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(v(e),{})}function h(e,t){if(o.Qr(e))v(t);else{e.expire=String(Date.now()+u);var n=o.qP(e).map((function(e){return e[0]+"="+e[1]})).join("&");t.set(n,u)}}function v(e){e.set("",0)}var b=[]},29883:(e,t,n)=>{"use strict";n.d(t,{F1:()=>s,_t:()=>o});var r=n(2517),i="?";function o(e,t){var n,r=void 0===t?0:+t;try{if(n=function(e){var t=c(e,"stacktrace");if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,a=t.split("\n"),s=[],u=0;u<a.length;u+=2){var l=void 0;r.exec(a[u])?l={args:[],column:void 0,func:(n=r.exec(a[u]))[3],line:+n[1],url:n[2]}:o.exec(a[u])&&(l={args:(n=o.exec(a[u]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),l&&(!l.func&&l.line&&(l.func=i),l.context=[a[u+1]],s.push(l))}if(s.length)return{stack:s,message:c(e,"message"),name:c(e,"name")}}}(e),n)return n}catch(e){if(a)throw e}try{if(n=function(e){var t=c(e,"stack");if(t){for(var n,r,o,a,s=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,p=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=t.split("\n"),h=[],v=0,b=d.length;v<b;v+=1){if(s.exec(d[v])){var m=(o=s.exec(d[v]))[2]&&0===o[2].indexOf("native");n=o[2]&&0===o[2].indexOf("eval"),r=p.exec(o[2]),n&&r&&(o[2]=r[1],o[3]=r[2],o[4]=r[3]),a={args:m?[o[2]]:[],column:o[4]?+o[4]:void 0,func:o[1]||i,line:o[3]?+o[3]:void 0,url:m?void 0:o[2]}}else if(l.exec(d[v]))a={args:[],column:(o=l.exec(d[v]))[4]?+o[4]:void 0,func:o[1]||i,line:+o[3],url:o[2]};else{if(!u.exec(d[v]))continue;n=(o=u.exec(d[v]))[3]&&o[3].indexOf(" > eval")>-1,r=f.exec(o[3]),n&&r?(o[3]=r[1],o[4]=r[2],o[5]=void 0):0!==v||o[5]||void 0===e.columnNumber||(h[0].column=e.columnNumber+1),a={args:o[2]?o[2].split(","):[],column:o[5]?+o[5]:void 0,func:o[1]||i,line:o[4]?+o[4]:void 0,url:o[3]}}!a.func&&a.line&&(a.func=i),h.push(a)}if(h.length)return{stack:h,message:c(e,"message"),name:c(e,"name")}}}(e),n)return n}catch(e){if(a)throw e}try{if(n=function(e){var t=c(e,"message");if(t){var n=t.split("\n");if(!(n.length<4)){var r,o,a,s=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of function script\s*$/i,f=[],p=window&&window.document&&window.document.getElementsByTagName("script"),d=[];for(var h in p)o=p,a=h,Object.prototype.hasOwnProperty.call(o,a)&&!p[h].src&&d.push(p[h]);for(var v=2;v<n.length;v+=2){var b=void 0;s.exec(n[v])?b={args:[],column:void 0,func:(r=s.exec(n[v]))[3],line:+r[1],url:r[2]}:u.exec(n[v])?b={args:[],column:void 0,func:(r=u.exec(n[v]))[4],line:+r[1],url:r[3]}:l.exec(n[v])&&(r=l.exec(n[v]),b={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+r[1]}),b&&(b.func||(b.func=i),b.context=[n[v+1]],f.push(b))}if(f.length)return{stack:f,message:n[0],name:c(e,"name")}}}}(e),n)return n}catch(e){if(a)throw e}try{if(n=u(e,r+1))return n}catch(e){if(a)throw e}return{message:c(e,"message"),name:c(e,"name"),stack:[]}}var a=!1;function s(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var i=e.stack;if(i.length>0&&i[0].url===r.url){if(i[0].line===r.line)return!1;if(!i[0].line&&i[0].func===r.func)return i[0].line=r.line,i[0].context=r.context,!1}return i.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function u(e,t){for(var n,a,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],p={},d=!1,h=u.caller;h&&!d;h=h.caller)h!==o&&h!==r.Hj&&(a={args:[],column:void 0,func:i,line:void 0,url:void 0},n=l.exec(h.toString()),h.name?a.func=h.name:n&&(a.func=n[1]),void 0===a.func&&(a.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),p[h.toString()]?d=!0:p[h.toString()]=!0,f.push(a));t&&f.splice(0,t);var v={stack:f,message:c(e,"message"),name:c(e,"name")};return s(v,c(e,"sourceURL")||c(e,"fileName"),c(e,"line")||c(e,"lineNumber")),v}function c(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}},2517:(e,t,n)=>{"use strict";n.d(t,{Hj:()=>a,Ld:()=>h,r1:()=>v});var r=n(29238),i=n(29883),o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function a(e){if(u){if(s===e)return;y()}var t=(0,i._t)(e);throw u=t,s=e,setTimeout((0,r.zk)((function(){s===e&&y()})),t.incomplete?2e3:0),e}var s,u,c,l,f,p,d=[];function h(e){l||(c=window.onerror,window.onerror=(0,r.zk)(m),l=!0),p||(f=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=(0,r.zk)(g),p=!0),d.push(e)}function v(e){for(var t=d.length-1;t>=0;t-=1)d[t]===e&&d.splice(t,1);0===d.length&&(l&&(window.onerror=c,l=!1),p&&(window.onunhandledrejection=f,p=!1))}function b(e,t,n){var r;if(d.forEach((function(i){try{i(e,t,n)}catch(e){r=e}})),r)throw r}function m(e,t,n,r,a){if(u)(0,i.F1)(u,t,n),y();else if(a)b((0,i._t)(a),!0,a);else{var s,l={url:t,column:r,line:n},f=e;if("[object String]"==={}.toString.call(e)){var p=o.exec(f);p&&(s=p[1],f=p[2])}b({name:s,message:"string"==typeof f?f:void 0,stack:[l]},!0,e)}return!!c&&c.apply(this,arguments)}function g(e){var t=e.reason||"Empty reason";b((0,i._t)(t),!0,t)}function y(){var e=u,t=s;u=void 0,s=void 0,b(e,!1,t)}},85912:(e,t,n)=>{"use strict";n.d(t,{hK:()=>l});var r,i=n(57252),o=n(76739),a=n(65411),s={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay",trace:"trace"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0,trace:"public-trace"}},u=((r={}).eu="datadoghq.eu",r.us="datadoghq.com",r),c=[u.us,u.eu];function l(e,t){var n={buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||u[e.datacenter||t.datacenter],version:e.version},r=function(e,t){return!t.useAlternateIntakeDomains&&(0,a.q9)(c,e)?"classic":"alternate"}(n.site,e),l=function(e,t,n){if(t.proxyHost)return["https://"+t.proxyHost+"/v1/input/"];var r=[t.site];t.buildMode===o.f7.STAGING&&n&&r.push(u.us);for(var i=[],a=Object.keys(s[e]),c=0,l=r;c<l.length;c++)for(var p=l[c],d=0,h=a;d<h.length;d++){var v=h[d];i.push("https://"+f(e,v,p)+"/v1/input/")}return i}(r,n,void 0!==e.replica),d={isIntakeUrl:function(e){return l.some((function(t){return 0===e.indexOf(t)}))},logsEndpoint:p(r,"logs",n),rumEndpoint:p(r,"rum",n),sessionReplayEndpoint:p(r,"sessionReplay",n),traceEndpoint:p(r,"trace",n)};if(e.internalMonitoringApiKey&&(d.internalMonitoringEndpoint=p(r,"logs",n,"browser-agent-internal-monitoring")),n.buildMode===o.f7.E2E_TEST&&(d.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",d.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",d.rumEndpoint="<<< E2E RUM ENDPOINT >>>",d.sessionReplayEndpoint="<<< E2E SESSION REPLAY ENDPOINT >>>"),n.buildMode===o.f7.STAGING&&void 0!==e.replica){var h=(0,i.pi)((0,i.pi)({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:u.us});d.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:p(r,"logs",h,"browser-agent-internal-monitoring"),logsEndpoint:p(r,"logs",h),rumEndpoint:p(r,"rum",h)}}return d}function f(e,t,n){return"classic"===e&&function(e,t){var n=s.classic[e];return n&&n+"-http-intake.logs."+t}(t,n)||function(e,t){var n=s.alternate[e],r=t.split("."),i=r.pop();return n+".browser-intake-"+(r.join("-")+"."+i)}(t,n)}function p(e,t,n,r){var i="sdk_version:"+n.sdkVersion+(n.env?",env:"+n.env:"")+(n.service?",service:"+n.service:"")+(n.version?",version:"+n.version:""),o=f(e,t,n.site),a=n.proxyHost?n.proxyHost:o,s=(n.proxyHost?"ddhost="+o+"&":"")+"ddsource="+(r||"browser")+"&ddtags="+encodeURIComponent(i);return"https://"+a+"/v1/input/"+n.clientToken+"?"+s}},86160:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=function(){function e(e){void 0===e&&(e=1e4),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}()},63294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70882);function i(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{return e.apply(void 0,n)}catch(e){r.j.error(t,e)}}}},72069:(e,t,n)=>{"use strict";function r(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}n.d(t,{W:()=>r})},70882:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)}},57604:(e,t,n)=>{"use strict";n.d(t,{P3:()=>c,Xp:()=>f,Xw:()=>r,jN:()=>l,wl:()=>u,zH:()=>s});var r,i=n(29238),o=n(29883),a=n(65411),s={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source"};function u(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:c(e),handlingStack:r,type:e.name}:{message:n+" "+(0,a.lh)(t),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}function c(e){var t=l(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function l(e){return(e.name||"Error")+": "+e.message}function f(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){(0,a.ZT)()}return(0,i.L6)((function(){var n=(0,o._t)(t);n.stack=n.stack.slice(2),e=c(n)})),e}!function(e){e.HANDLED="handled",e.UNHANDLED="unhandled"}(r||(r={}))},65310:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(57604),i=n(80816),o=n(65411);function a(e,t){var n=0,a=!1;return{isLimitReached:function(){if(0===n&&setTimeout((function(){n=0}),o.yR),(n+=1)<=e.maxErrorsByMinute||a)return a=!1,!1;if(n===e.maxErrorsByMinute+1){a=!0;try{t({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:r.zH.AGENT,startClocks:(0,i.$I)()})}finally{a=!1}}return!0}}}},68990:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t}))}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}()},80816:(e,t,n)=>{"use strict";function r(){return Date.now()}function i(){return performance.now()}function o(){return{relative:i(),timeStamp:r()}}function a(e,t){return t-e}n.d(t,{$I:()=>o,_J:()=>a,_q:()=>i,n$:()=>r})},11627:(e,t,n)=>{"use strict";n.d(t,{D5:()=>o});var r,i=n(65411);function o(e){return function(e,t){if(function(){if(void 0!==r)return r;try{var e=new URL("http://test/path");return r="http://test/path"===e.href}catch(e){r=!1}return r}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,i=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(i)}return i.href=e,i}(e,(0,i.Dp)()).href}},65411:(e,t,n)=>{"use strict";n.d(t,{$e:()=>P,DO:()=>p,Dp:()=>S,I8:()=>k,MY:()=>T,Oo:()=>E,P2:()=>l,Qr:()=>O,Rf:()=>A,TT:()=>_,Tn:()=>c,WT:()=>a,ZT:()=>h,dV:()=>u,f0:()=>f,lh:()=>v,q9:()=>m,qP:()=>w,sE:()=>g,xd:()=>i,y7:()=>d,yR:()=>s,yw:()=>x,zz:()=>y});var r,i,o=n(29238),a=1e3,s=60*a,u=60*s,c=1024;function l(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(o?e.apply(void 0,n):r=n,s=!0,i=setTimeout((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){clearTimeout(i),s=!1,r=void 0}}}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function p(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,p)}function d(e){return 0!==e&&100*Math.random()<=e}function h(){}function v(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];b(e)&&(r=[!0,e.toJSON],delete e.toJSON);var i,o,a=[!1,void 0];"object"==typeof e&&b(i=Object.getPrototypeOf(e))&&(a=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(e,t,n)}catch(e){o="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),a[0]&&(i.toJSON=a[1])}return o}function b(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function m(e,t){return-1!==e.indexOf(t)}function g(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function y(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function _(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n])})),t}function w(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function O(e){return 0===Object.keys(e).length}function A(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function S(){return function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)}function T(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}function E(e,t,n,r){return x(e,[t],n,r)}function x(e,t,n,r){var i=void 0===r?{}:r,a=i.once,s=i.capture,u=i.passive,c=(0,o.zk)(a?function(e){f(),n(e)}:n),l=u?{capture:s,passive:u}:s;t.forEach((function(t){return e.addEventListener(t,c,l)}));var f=function(){return t.forEach((function(t){return e.removeEventListener(t,c,l)}))};return{stop:f}}function I(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=I(i[o],t[o],n);return i}var a,s="object"==(null===(a=e)?"null":Array.isArray(a)?"array":typeof a)?e:{};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(s[u]=I(s[u],t[u],n));return s}}function k(e){return I(void 0,e)}function P(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=I(e,o))}return e}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(r||(r={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(i||(i={}))},61878:(e,t,n)=>{"use strict";n.d(t,{E:()=>f,a:()=>c});var r=n(57252),i=n(70882),o=n(65411),a=n(29238),s=/[^\u0000-\u007F]/,u=!1,c=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl,r=!!navigator.sendBeacon&&t<this.bytesLimit;if(r)try{if(navigator.sendBeacon(n,e))return}catch(e){!function(e){l||(l=!0,(0,a.Ur)(e))}(e)}var i=new XMLHttpRequest;i.addEventListener("loadend",(0,a.zk)((function(e){return function(e){var i=null==e?void 0:e.currentTarget;i.status>=200&&i.status<300||u||(u=!0,(0,a.tV)("XHR fallback failed",{on_line:navigator.onLine,size:t,url:n,try_beacon:r,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:i.status,ready_state:i.readyState,response_text:i.responseText.slice(0,64)}}))}(e)}))),i.open("POST",n,!0),i.send(e)},e}(),l=!1,f=function(){function e(e,t,n,r,i,a){void 0===a&&(a=o.ZT),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.beforeUnloadCallback=a,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){const e=[(0,r.pr)(this.pushOnlyBuffer,(0,o.TT)(this.upsertBuffer)).join("\n"),this.bufferBytesSize];(window.DATADOG_REQUEST_PROXY?window.DATADOG_REQUEST_PROXY(this.request):this.request.send.bind(this.request))(...e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},e.prototype.sizeInBytes=function(e){return s.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,o=n.messageBytesSize;o>=this.maxMessageSize?i.j.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=(0,o.lh)(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout((0,a.zk)((function(){e.flush(),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&((0,o.Oo)(window,"beforeunload",this.beforeUnloadCallback),(0,o.Oo)(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush()})),(0,o.Oo)(window,"beforeunload",(function(){return e.flush()})))},e}()},57252:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>o,mG:()=>i,pi:()=>r,pr:()=>a});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},22991:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r={buildMode:"release",datacenter:"us",sdkVersion:"2.18.0"}},61674:(e,t,n)=>{"use strict";n.d(t,{f:()=>f});var r=n(41076),i=n(76739),o=n(65411),a=n(72069),s=n(86160),u=n(29238),c=n(70882),l=n(54729),f=function(e){var t=!1,n=(0,a.W)(),f={},p=new s.S,d=function(e,t){p.add((function(){return d(e,t)}))},h=function(){},v=new l.Yd(b);return(0,i.r5)({logger:v,init:(0,u.zk)((function(r){(function(e){return t?(e.silentMultipleInit||c.j.error("DD_LOGS is already initialized."),!1):e&&(e.publicApiKey||e.clientToken)?!(void 0!==e.sampleRate&&!(0,o.zz)(e.sampleRate))||(c.j.error("Sample Rate should be a number between 0 and 100"),!1):(c.j.error("Client Token is not configured, we will not send any data."),!1)})(r)&&(r.publicApiKey&&(r.clientToken=r.publicApiKey,c.j.warn("Public API Key is deprecated. Please use Client Token instead.")),d=e(r,v,n.get),h=function(){return(0,o.I8)(r)},p.drain(),t=!0)})),getLoggerGlobalContext:(0,u.zk)(n.get),setLoggerGlobalContext:(0,u.zk)(n.set),addLoggerGlobalContext:(0,u.zk)(n.add),removeLoggerGlobalContext:(0,u.zk)(n.remove),createLogger:(0,u.zk)((function(e,t){return void 0===t&&(t={}),f[e]=new l.Yd(b,t.handler,t.level,(0,r.pi)((0,r.pi)({},t.context),{logger:{name:e}})),f[e]})),getLogger:(0,u.zk)((function(e){return f[e]})),getInitConfiguration:(0,u.zk)((function(){return h()}))});function b(e){d(e,(0,o.$e)({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},n.get()))}}(n(78571).zl);(0,i.y)((0,o.Rf)(),"DD_LOGS",f)},78571:(e,t,n)=>{"use strict";n.d(t,{zl:()=>v});var r=n(76739),i=n(68990),o=n(91289),a=n(85154),s=n(57650),u=n(89584),c=n(65411),l=n(61878),f=n(65310),p=n(54729),d=n(43545),h=n(22991);function v(e,t,n){var v=(0,r.mC)(e,h.H),m=v.configuration,g=v.internalMonitoring,y=new i.y;return!1!==e.forwardErrorsToLogs&&((0,o.U)(y),(0,a.L)(y),(0,s.D)(m,y,m.isEnabled("remove-network-errors"))),function(e,t,n,r,i,o){n.setExternalContextProvider((function(){return(0,c.$e)({session_id:r.getId()},o(),b())}));var a=function(e,t,n){var r=(0,f.S)(t,n);return function(n,i){if(e.isTracked()){var o=(0,c.$e)({service:t.service,session_id:e.getId()},i,b(),n);if(!(t.beforeSend&&!1===t.beforeSend(o)||o.status===p.i8.error&&r.isLimitReached()))return o}}}(r,e,u),s=function(e){var t,n=r(e.logsEndpoint);function r(t){return new l.E(new l.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.logsEndpoint)),{add:function(e){n.add(e),t&&t.add(e)}}}(e);function u(e){i.error(e.message,(0,c.$e)({date:e.startClocks.timeStamp,error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,b(e.startClocks.relative)))}return t.subscribe(u),function(e,t){var n=a(e,t);n&&s.add(n)}}(m,y,g,(0,d.cQ)(m,(0,u.oX)(m.cookieOptions)),t,n)}function b(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}},54729:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>h,i8:()=>l});var r,i=n(41076),o=n(72069),a=n(65411),s=n(70882),u=n(57604),c=n(29238),l={debug:"debug",error:"error",info:"info",warn:"warn"},f=((r={})[l.debug]=0,r[l.info]=1,r[l.warn]=2,r[l.error]=3,r),p=(Object.keys(l),"console"),d="http",h=function(){function e(e,t,n,r){void 0===t&&(t=d),void 0===n&&(n=l.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=(0,o.W)(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=l.info),f[n]>=f[this.level]){var r=Array.isArray(this.handlerType)?this.handlerType:[this.handlerType];(0,a.q9)(r,d)&&this.sendLog((0,i.pi)({message:e,status:n},(0,a.$e)(this.contextManager.get(),t))),(0,a.q9)(r,p)&&s.j.log(n+": "+e,(0,a.$e)(this.contextManager.get(),t))}},e.prototype.debug=function(e,t){this.log(e,t,l.debug)},e.prototype.info=function(e,t){this.log(e,t,l.info)},e.prototype.warn=function(e,t){this.log(e,t,l.warn)},e.prototype.error=function(e,t){var n={error:{origin:u.zH.LOGGER}};this.log(e,(0,a.$e)(n,t),l.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},(0,i.gn)([c.Th],e.prototype,"log",null),e}()},43545:(e,t,n)=>{"use strict";n.d(t,{cQ:()=>a});var r,i=n(4344),o=n(65411);function a(e,t){if(!t){var n=s(e)===r.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var o=(0,i.M_)(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return e===r.NOT_TRACKED||e===r.TRACKED}(t)?t:s(e);return{trackingType:n,isTracked:n===r.TRACKED}}(e,t)}));return{getId:o.getId,isTracked:function(){return o.getTrackingType()===r.TRACKED}}}function s(e){return(0,o.y7)(e.sampleRate)?r.TRACKED:r.NOT_TRACKED}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(r||(r={}))},13005:(e,t,n)=>{"use strict";n.d(t,{fy:()=>r.f}),n(54729);var r=n(61674)},41076:(e,t,n)=>{"use strict";n.d(t,{gn:()=>i,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}},88116:(e,t,n)=>{"use strict";n.d(t,{v:()=>b});var r=n(4580),i=n(59100),o=n(35679),a=n(87456),s=n(10053),u=n(26231);const c=(0,r.Q)(i.M.Test)?"TEST":void 0,l=(0,o.J)(i.q.Development),f=(0,o.J)(i.q.Staging),p=(0,o.J)(i.q.Preview),d=(0,o.J)(i.q.Production),h=(0,a._)(a.Y.Chrome),v=(0,a._)(a.Y.Firefox),b={EXT_VERSION:(0,u.P)(),DASH_WELCOME_URL:"https://jam.dev/welcome?ref=extension",BROWSER_BUILD:(0,s.Z)({}.BROWSER_BUILD,"chrome"),IN_CHROME_BUILD:h,IN_FIREFOX_BUILD:v,ENV:(0,s.Z)("production",c),IS_DEV:l,IS_STAGING:f,IS_PREVIEW:p,IS_PRODUCTION:d,GRAPHQL_URL:(0,s.Z)("https://graphql.jam.dev/graphql",c),GRAPHQL_URL_WS:(0,s.Z)("wss://graphql.jam.dev/graphql",c),DASH_URL:(0,s.Z)("https://jam.dev",c),DATADOG_CLIENT_TOKEN:"pubcf40b29020e52aed8ee66a6b7be21795",DATADOG_SERVICE:(0,s.Z)("chrome-extension","extension"),DATADOG_VERSION:(0,s.Z)("c27e6a501149f489d85fc7fd9a9bb64131b0b09e",""),DISABLE_ORIGIN_BLOCKING:!d&&!c};if((0,r.Q)(i.M.Test))try{window.config=b}catch(e){globalThis.config=b}},26231:(e,t,n)=>{"use strict";function r(){try{return n(72565).runtime.getManifest().version}catch{return"unknown"}}n.d(t,{P:()=>r})},14515:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});const r={};let i;function o(e,t=window){const n=r[e];if(n)return n.bind(t);const o=t[e]??window[e];if(o&&function(e){const t=e.toString(),n=e.name;return a.test(t)&&t.includes(n)}(o))return r[e]=o,o.bind(t);if(!i){const e=document.createElement("iframe");if(e.src=`data:text/html;charset=utf-8,${encodeURIComponent("<body></body>")}`,e.width="0",e.height="0",e.style.width="0",e.style.height="0",e.style.display="none",e.style.visibility="hidden",function(e){document.body?document.body.append(e):document.documentElement.append(e)}(e),!e.contentWindow)return void e.remove();i=e.contentWindow,e.remove()}const s=i[e];return r[e]=s,s.bind(t)}const a=/function\s+\w+\(\)\s+{\s+\[native code]\s+}/i},13472:(e,t,n)=>{"use strict";n.d(t,{Component:()=>a.Component,ContentScripts:()=>a.ContentScripts,getMessageBrokerSingleton:()=>a.getMessageBrokerSingleton});var r=n(67767);n.o(r,"Component")&&n.d(t,{Component:function(){return r.Component}}),n.o(r,"ContentScripts")&&n.d(t,{ContentScripts:function(){return r.ContentScripts}}),n.o(r,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return r.getMessageBrokerSingleton}});var i=n(32428);n.o(i,"Component")&&n.d(t,{Component:function(){return i.Component}}),n.o(i,"ContentScripts")&&n.d(t,{ContentScripts:function(){return i.ContentScripts}}),n.o(i,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return i.getMessageBrokerSingleton}});var o=n(45071);n.o(o,"Component")&&n.d(t,{Component:function(){return o.Component}}),n.o(o,"ContentScripts")&&n.d(t,{ContentScripts:function(){return o.ContentScripts}}),n.o(o,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return o.getMessageBrokerSingleton}});var a=n(91157)},72604:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var r=n(13005),i=n(21102);let o=!n(88116).v.IS_PRODUCTION;function a(e){o=e}function s(){return o}try{window.setJamLogging=a}catch(e){globalThis.setJamLogging=a}try{window.getJamLogging=s}catch(e){globalThis.getJamLogging=s}const u={sample(e,t,...n){if((0,i.U)((()=>{c(e,n)}),t),l(n)){const t=[...n,r.fy.getLoggerGlobalContext()];console[e](...t)}},log:(...e)=>{l(e)&&console.log(...e)},warn:(...e)=>{if(l(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.warn(...t)}c("warn",e)},error:(...e)=>{if(l(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.error(...t)}c("error",e)},info:(...e)=>{if(l(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.info(...t)}c("info",e)},debug:(...e)=>{l(e)&&console.debug(...e)},group:(...e)=>{l(e)&&console.group(...e)},groupCollapsed:(...e)=>{l(e)&&console.group(...e)},groupEnd:(...e)=>{l(e)&&console.groupEnd(...e)}};function c(e,t){const n=(t,n)=>r.fy.logger[e](t,n);if("string"==typeof t[0]){if(1===t.length)return void n(t[0]);if(2===t.length&&("object"==typeof t[1]||void 0===t[1])&&null!==t[1])return void n(t[0],t[1])}n(JSON.stringify(t))}function l(e){return o&&function(e){try{if(!("localStorage"in globalThis)||!globalThis.localStorage.debug)return!0}catch(e){return!0}if("string"!=typeof e[0]||"string"!=typeof globalThis.localStorage.debug)return!0;const t=e[0],n=globalThis.localStorage.debug.replace("*",".*");return new RegExp("^"+n).test(t)}(e)}},39329:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(64793),i=n(92982),o=n(67136),a=n(47273),s=n(61114);class u{constructor(e){this.needToBeAckedHandlers=new r.h,this.chunkBuilders=new r.h,this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t,n){if(e.datagramType!==a.pT.Chunked)return;if(e.chunkDatagramType===a.qQ.Ack)return void e.ackIds.forEach((e=>{const t=this.needToBeAckedHandlers.get(e);t?t():this.onErrorHandler(new Error("received chunked ack datagram, but the corresponding handler has timed out or was nonexistent"))}));if(e.chunkDatagramType===a.qQ.Head)return this.chunkBuilders.set(e.id,Array.from({length:e.bodyDatagramIds.length}),e.expiresAt-Date.now()),n({type:"datagram",expiresAt:e.expiresAt,id:(0,s.LI)(),datagramType:a.pT.Chunked,chunkDatagramType:a.qQ.Ack,ackIds:[e.id]});const r=this.chunkBuilders.get(e.headDatagramId);if(r){if(r[e.index]=e.inner,r.length===r.filter(i.$H).length){const n=r.join(""),i=JSON.parse(n);this.receiveDataHandler(i,t.src,t.dest),this.chunkBuilders.delete(e.headDatagramId)}return n({type:"datagram",expiresAt:e.expiresAt,id:(0,s.LI)(),datagramType:a.pT.Chunked,chunkDatagramType:a.qQ.Ack,ackIds:[e.id]})}this.onErrorHandler(new Error("received chunked body datagram, but the chunk builder has timed out or was nonexistent"))}async sendData(e,t,n){const r=(0,s.LI)(),i=function(e){return function(e,t){const n=function(e,t){if((0,o.XX)(e,t))return[];const n=[];let r=0;for(let i=0;i<e.length;i++){const a=(0,o.vN)(e[i]);r+a>t?(n.push(i),r=a):r+=a}return 0!==r&&n.push(e.length-1),n}(e,t);if(0===n.length)return[e];const r=[];let i=0;for(const t of n)r.push(e.slice(i,t)),i=t;return i<e.length&&r.push(e.slice(i)),r}(JSON.stringify(e),o.z0)}(e),u=i.map(((e,n)=>({type:"datagram",expiresAt:Date.now()+t,id:(0,s.LI)(),datagramType:a.pT.Chunked,chunkDatagramType:a.qQ.Body,inner:e,index:n,headDatagramId:r}))),l={type:"datagram",expiresAt:Date.now()+2*t/3,id:r,datagramType:a.pT.Chunked,chunkDatagramType:a.qQ.Head,bodyDatagramIds:u.map((e=>e.id))};await this.sendDatagramAndAwaitAck(l,3,n,new Error("Head datagram was not acked in time"));const f=c(l.expiresAt-Date.now(),new Error("Sending chunked datagram bodies timed out without being acked"));await Promise.race([f,Promise.all(u.map((e=>this.sendDatagramAndAwaitAck(e,3,n,new Error("Body datagram timed out without being acked")))))])}async sendDatagramAndAwaitAck(e,t,n,r){const i=e.expiresAt-Date.now(),o=new Promise((t=>{this.needToBeAckedHandlers.set(e.id,(()=>{t()}),i)}));await n(e);const a=i/t;for(let e=0;e<t;e++)try{const e=c(a);return void await Promise.race([e,o])}catch{}throw r}}function c(e,t){return new Promise(((n,r)=>{setTimeout((()=>r(t)),e)}))}},84589:(e,t,n)=>{"use strict";n.d(t,{u:()=>f});var r=n(64793),i=n(39329),o=n(57474),a=n(67136),s=n(49782),u=n(47656),c=n(47273),l=n(95126);class f{constructor(e){this.receivedDatagramIds=new r.h;const t={onErrorHandler:e.onError,receiveDataHandler:e.receiveDataHandler};this.datagramTypeHandlers={[c.pT.Single]:new o.p(t),[c.pT.Url]:new s.t(t),[c.pT.Chunked]:new i.x(t)},this.onErrorHandler=e.onError,this.packetLayer=new u.a({address:e.address,canForward:e.canForward,receivePacketHandler:e=>this.receivePacket(e),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers})}async receivePacket(e){const t=e.data;if(!(0,c._1)(t))throw new Error("Datagram layer somehow received packet that doesn't hold a datagram");if(this.receivedDatagramIds.get(t.id))return void this.receivedDatagramIds.delete(t.id);const n=Date.now();t.expiresAt>n&&this.receivedDatagramIds.set(t.id,!0,t.expiresAt-n);const r=this.datagramTypeHandlers[t.datagramType];try{const n=t=>this.packetLayer.sendPacket({type:"packet",dest:e.src,data:t,expiresAt:t.expiresAt});r.handleDatagram(t,e,n)}catch(e){this.onErrorHandler(new l.m0({message:"Unhandled error from data receiver handler"},e))}}sendData(e,t,n){const{timeout:r=5e3,canUseUrl:i=!1}=n??{};let o;if(o=(0,a.Xt)(e,a.z0)?c.pT.Single:i?c.pT.Url:c.pT.Chunked,o)return this.datagramTypeHandlers[o].sendData(e,r,(e=>this.packetLayer.sendPacket({type:"packet",dest:t,data:e,expiresAt:Date.now()+r})));throw new Error("No handler could handle sending this data")}disconnect(){this.packetLayer.disconnect()}}},57474:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(61114),i=n(47273);class o{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}handleDatagram(e,t){this.receiveDataHandler(e.inner,t.src,t.dest)}sendData(e,t,n){return n({type:"datagram",expiresAt:Date.now()+t,id:(0,r.LI)(),datagramType:i.pT.Single,inner:e})}}},67136:(e,t,n)=>{"use strict";n.d(t,{XX:()=>u,Xt:()=>s,vN:()=>c,z0:()=>a});var r=n(93318);const i=2*r.d.Byte,o=1500*i,a=128*r.d.Megabyte/2-2-o;function s(e,t){const n=JSON.stringify(e);return!(n.length*i>=t)&&u(n,t)}function u(e,t){let n=0;for(const r of e)if(n+=c(r),n>=t)return!1;return n<t}function c(e){return 34===(t=e.charCodeAt(0))||92==t?2*i:Math.max(Math.floor(Math.log2(t+1))-6,1)*i;var t}},49782:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(47273),i=n(61114);class o{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t){if(!(0,r.jX)(e))return;const n=await fetch(e.url),i=await n.json();this.receiveDataHandler(i,t.src,t.dest)}sendData(e,t,n){const o=JSON.stringify(e),a=(new TextEncoder).encode(o),s=new Blob([a],{type:"application/json;charset=utf-8"}),u=window.URL.createObjectURL(s);return setTimeout((()=>{window.URL.revokeObjectURL(u)}),t),n({type:"datagram",expiresAt:Date.now()+t,id:(0,i.LI)(),datagramType:r.pT.Url,url:u})}}},72408:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r=n(88116).v.IS_DEV&&!1},53063:(e,t,n)=>{"use strict";n.d(t,{m:()=>v}),n(72604);var r=n(12108),i=n(35679),o=n(59100),a=n(22699),s=n.n(a),u=n(84589),c=n(58684),l=n(61114),f=n(40811),p=n(95126);class d{constructor(e){this.messageHandlers=new Map,this.history=[],this.historySize=500,this.disconnected=!1,this.responseAwaiters=new Map,this.eventListeners=new(s().EventEmitter),this.onErrorHandler=e.onError,this.address=e.address,this.datagramLayer=new u.u({address:e.address,canForward:e.canForward,receiveDataHandler:this.receiveDataHandler.bind(this),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers}),this.isTabIncognito=e.isTabIncognito??(()=>!0)}addEventListener(e,t){this.eventListeners.addListener(e,t)}removeEventListener(e,t){this.eventListeners.removeListener(e,t)}async receiveDataHandler(e,t,n){if(!((i=e)&&"object"==typeof i&&"applicationType"in i&&"broker"===i.applicationType&&"eventName"in i&&"type"in i))return;var i;if(this.addToHistory({data:e,src:t,dest:n,timestamp:Date.now()}),"response"===e.type){const t=this.responseAwaiters.get(e.responseToRequestId);if(!t)return void this.onErrorHandler(new p.lk({message:`Broker received response for request with ID ${e.responseToRequestId} but handler must've timed out (or two brokers of the same address exist?)`}));const n=e.data;return this.responseAwaiters.delete(e.responseToRequestId),void t(n)}const o=this.messageHandlers.get(e.eventName);if(!o)return void this.onErrorHandler(new p.UY({message:`Received event(${e.eventName}) with target ${this.address.component}, but no handler is configured`}));let a;try{a=await o(e.data,{src:{...t},dest:{...n}})}catch(e){return void this.onErrorHandler(new p.m0({message:"Uncaught broker handler error"},e))}try{await this.datagramLayer.sendData({applicationType:"broker",type:"response",eventName:e.eventName,responseToRequestId:e.id,data:a},t,{timeout:5*r.X.Second,canUseUrl:this.canUseUrlSending(t)}),this.eventListeners.emit("receive",{sender:t,receiver:n,eventName:e.eventName})}catch(t){return void this.onErrorHandler(new p.lk({message:`Error sending broker response to ${n.component} for request ${e.id} and event ${e.eventName}`},t))}}on(e,t){if(this.messageHandlers.has(e))throw new p.UY({message:`Only one handler can be configured on broker per message (name is: ${e})`});this.messageHandlers.set(e,t)}addToHistory(e){if((0,i.J)(o.q.Production)){const t={...e};delete t.data,this.history.push(t)}else this.history.push(e);this.history.length>this.historySize&&this.history.shift()}canUseUrlSending(e){if((0,c.AM)(this.address.component)&&this.isTabIncognito("self"))return!1;if("tabId"in e){if(this.isTabIncognito(e.tabId))return!1}else if((0,c.AM)(e.component))return!1;return!0}send(e){const{eventName:t,dest:n,payload:i,timeout:o=5*r.X.Second}=e;this.addToHistory({data:{eventName:t,payload:i},dest:n,src:this.address,timestamp:Date.now()});const a=(0,l.jF)();if((0,f.C)(this.address,n)){const e=this.messageHandlers.get(t);return e?e(i,{src:this.address,dest:n}):Promise.reject(new p.UY({message:`Received self-addressed event(${t}) with target ${this.address.component}, but no handler is configured`}))}return new Promise(((e,r)=>{const s=setTimeout((()=>{this.responseAwaiters.delete(a),r(new p.lk({message:`Error sending broker message to ${n.component}`,serializableContext:{eventName:t}},new p.W5({message:`Timed out waiting for response for ${o}ms`})))}),o);this.responseAwaiters.set(a,(r=>{clearTimeout(s),e(r),this.eventListeners.emit("send",{sender:this.address,receiver:n,eventName:t})})),this.datagramLayer.sendData({id:a,applicationType:"broker",type:"request",eventName:t,data:i},n,{timeout:o,canUseUrl:this.canUseUrlSending(n)}).catch((e=>{this.responseAwaiters.delete(a),r(new p.lk({message:`Error sending broker message to ${n.component}: ${e}`,serializableContext:{eventName:t}},e))}))}))}off(e){return this.messageHandlers.delete(e)}destruct(){this.datagramLayer.disconnect(),this.messageHandlers.clear(),this.disconnected=!0}get __responseAwaitersCount(){return this.responseAwaiters.size}}let h;function v(e){return h||(h=new d(e)),h}},91157:(e,t,n)=>{"use strict";n.d(t,{Component:()=>r.wA,ContentScripts:()=>r.d9,getMessageBrokerSingleton:()=>i.m});var r=n(58684),i=n(53063)},82823:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(90241),i=n(65324),o=n(8657);class a{constructor(){this.type=r.i.Runtime,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){return(0,i.s)(this.browserApi.runtime.sendMessage(e))}onMessage(e){const t=(t,n)=>{(0,o.M)(t)&&e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},90241:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=(e=>(e.Runtime="Runtime",e.Tab="Tab",e.Window="Window",e))(r||{})},87787:(e,t,n)=>{"use strict";n.d(t,{C:()=>u,u:()=>c});var r=n(82823),i=n(90241),o=n(5537),a=n(9764),s=n(19982);function u(e){const t=new Map,n=new Map;for(const[r,i]of e.entries()){const e=l();let o=n.get(i);o||(o=e[i](),n.set(i,o)),t.set(r,o)}return{componentTable:t,typeTable:n}}function c(e,t,n){const r=new Map,i=new Map;for(const[o,s]of t.entries()){let t=i.get(s);t||(t=new a.J(e,s,n),i.set(s,t)),r.set(o,t)}return{componentTable:r,typeTable:i}}const l=(()=>{let e;return()=>e||(e={[i.i.Runtime]:()=>new r.E,[i.i.Tab]:()=>new o._,[i.i.Window]:()=>new s.w},e)})()},65324:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});const r=new Set(["Error: Could not establish connection. Receiving end does not exist."]);function i(...e){return Promise.allSettled(e).then((e=>{const t=e[0];if("rejected"===t.status&&!r.has(`${t.reason}`))throw t.reason;return e}))}},5537:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var r=n(90241),i=n(65324),o=n(58684),a=n(95126);class s{constructor(){this.type=r.i.Tab,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){if(e.dest.component===o.wA.ContentScript||e.dest.component===o.wA.HostScript)return t=this.browserApi,n=e.dest.tabId,r=e,(0,i.s)(t.tabs.sendMessage(n,r));var t,n,r;if(e.dest.component===o.wA.All)return async function(e,t){const n=(await e.tabs.query({windowType:"normal"})).map((async n=>{n?.id&&await e.tabs.sendMessage(n.id,t)}));return(0,i.s)(...n)}(this.browserApi,e);throw new a.UY({message:`Native messaging API (${this.type}) cannot send to component ${e.dest.component}`})}onMessage(e){const t=(t,n)=>{e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}},9764:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(90241),i=n(58684),o=n(61114);class a{constructor(e,t,n){this.address=e,this.type=t,this.id=(0,o.j1)(),this.destinationHandlers=n}sendMessage(e){const t=function(e,t){if(e===i.wA.Main)return t===i.wA.HostScript?i.wA.ContentScript:t;if(e===i.wA.Popup)return t===i.wA.ContentScript?t:i.wA.Main;if(e===i.wA.HostScript)return i.wA.ContentScript;if(e===i.wA.Foreground)return i.wA.Main;if(e===i.wA.ContentScript)return t===i.wA.HostScript?t:i.wA.Main;throw new Error(`Unhandled component: ${e}. (This shouldn't be called with Component.All)`)}(this.address.component,e.dest.component);let n=!1;return this.destinationHandlers[this.type].forEach((r=>{r.id!==this.id&&(r.address.component===t||e.dest.component===i.wA.All&&e.lastHop.component!==r.address.component)&&(setTimeout((()=>{try{r.eventHandler(e,{tabId:123,frameId:0})}catch{}}),0),n=!0)})),this.type!==r.i.Window&&!n&&[i.wA.ContentScript,i.wA.Main,i.wA.Popup].includes(t)?Promise.reject(new Error(`runtime error when sending to ${t} (chrome will have this when the tab you send to does not exist, for example). Current component is ${this.address.component}, dest is ${e.dest.component}, simulated messaging API type is ${this.type} `)):Promise.resolve()}onMessage(e){const t=()=>e({exampleMessage:(0,o.j1)(),testingData:123,testingData2:"abc"},{});this.destinationHandlers[this.type].push({address:this.address,id:this.id,eventHandler:(n,r)=>{t(),setTimeout(t,Math.floor(1e3*Math.random())),e(n,r)},instance:this})}disconnect(){this.destinationHandlers[this.type]=this.destinationHandlers[this.type].filter((e=>e.id!==this.id))}}},19982:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(90241),i=n(14515);const o=(()=>{let e;return()=>(e||(e={addEventListener:(0,i.X)("addEventListener"),removeEventListener:(0,i.X)("removeEventListener"),dispatchEvent:(0,i.X)("dispatchEvent")}),e)})();class a{constructor(){this.type=r.i.Window,this.handlers=[];const e=this.rawHandler.bind(this);this.boundRawHandler=e;const{addEventListener:t}=o();t?.("jamevent",e,!0)}sendMessage(e){const{dispatchEvent:t}=o();return"cloneInto"in globalThis&&(e=cloneInto(e,document.defaultView)),t?.(new CustomEvent("jamevent",{detail:e})),Promise.resolve()}rawHandler(e){this.handlers.map((t=>t(e.detail,{})))}onMessage(e){this.handlers.push(e)}disconnect(){const{removeEventListener:e}=o();e?.("jamevent",this.boundRawHandler,!0),this.handlers=[]}}},47656:(e,t,n)=>{"use strict";n.d(t,{a:()=>h});var r=n(4580),i=n(59100),o=n(92982),a=n(14647),s=n(72408),u=n(87787),c=n(36839),l=n(8657),f=n(58684),p=n(40811),d=n(95126);class h{constructor(e){this.onErrorHandler=e.onError,this.canForward=e.canForward,this.address=e.address,this.receivePacketHandler=e.receivePacketHandler;const t=(0,c.O)(e.address.component),n=(0,r.Q)(i.M.Test)?(0,u.u)(this.address,t,e.destinationHandlers??(()=>{throw new Error("destination handlers required for packet layer in testing")})()):(0,u.C)(t);this.messagingTypeMessagingApiTable=n.typeTable,this.componentMessagingApiTable=n.componentTable,[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.onMessage(((t,n)=>this.onIncomingMessage(t,n,e.type)))}))}disconnect(){[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.disconnect()}))}onIncomingMessage(e,t,n){if(!(0,l.M)(e))return;const r={...e.lastHop,frameId:"frameId"in e.lastHop&&e.lastHop.frameId||t.frameId,tabId:"tabId"in e.lastHop&&e.lastHop.tabId||t.tabId},i={...e.src};i.component!==f.wA.HostScript&&i.component!==f.wA.ContentScript||(i.frameId=i.frameId??r.frameId,i.tabId=i.tabId??r.tabId);const o={...e,lastHop:r,src:i};return this.onIncomingPacket(o,n)}async onIncomingPacket(e,t){if(e.expiresAt<Date.now())this.onErrorHandler(new d.pD({message:"Received packet that had already expired, dropping it...",serializableContext:{timingOverhang:Date.now()-e.expiresAt,...s.S?{pkt:e}:{}}}));else if(!(0,p.C)(this.address,e.lastHop))if(function(e,t){return t.component===f.wA.All||(0,p.C)(e,t)}(this.address,e.dest))try{await this.receivePacketHandler(e)}catch(e){this.onErrorHandler(new d.m0({message:"Unhandled error from receivePacketHandler"},e))}else if(this.canForward&&e.dest.component!==this.address.component){const n={...e,address:{...this.address}};try{if(n.dest.component===f.wA.All){const e=[...this.messagingTypeMessagingApiTable.values()].map((e=>{if(e.type!==t)return v((()=>e.sendMessage(n)),n.expiresAt)}));return void await Promise.all(e)}{const e=this.componentMessagingApiTable.get(n.dest.component);if(e&&e.type!==t)return await v((()=>e.sendMessage(n)),n.expiresAt)}}catch(e){const t={...n};delete t.data,this.onErrorHandler(new d.pD({message:"Could not forward packet",serializableContext:{forwardedPacketWithoutData:t}},e))}}}async sendPacket(e){const t={...e,src:{...this.address},lastHop:{...this.address}},n=t.dest.component,r=(n===f.wA.All?[...this.messagingTypeMessagingApiTable.values()]:[this.componentMessagingApiTable.get(n)]).filter(o.Av);if(0===r.length)throw new d.UY({message:`No route from component ${this.address.component} to component ${n}`});await Promise.all(r.map((e=>v((()=>e.sendMessage(t)),t.expiresAt))))}}async function v(e,t,n=100){const r=t-Date.now();if(r<=0)throw new d.W5({message:"promise to retry is already timed out (epochTime configured before Date.now())"});return new Promise((async(i,o)=>{let s;const u=setTimeout((()=>{const e=new d.W5({message:"Timed out"},s);Error.captureStackTrace?.(e),o(e)}),r);for(;;)try{const t=await e();return clearTimeout(u),i(t)}catch(e){if(s=e,!(Date.now()<t-n)){clearTimeout(u);const e=new d.W5({message:"Timed out"},s);return Error.captureStackTrace?.(e),void o(e)}await(0,a.g)(n)}}))}},36839:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(90241),i=n(58684),o=n(95126);function a(e){switch(e){case i.wA.Main:return new Map([[i.wA.Popup,r.i.Runtime],[i.wA.ContentScript,r.i.Tab],[i.wA.HostScript,r.i.Tab],[i.wA.Foreground,r.i.Tab]]);case i.wA.Popup:return new Map([[i.wA.Main,r.i.Runtime],[i.wA.ContentScript,r.i.Runtime],[i.wA.HostScript,r.i.Runtime]]);case i.wA.Foreground:return new Map([[i.wA.Main,r.i.Runtime]]);case i.wA.ContentScript:return new Map([[i.wA.Main,r.i.Runtime],[i.wA.Popup,r.i.Runtime],[i.wA.ContentScript,r.i.Tab],[i.wA.HostScript,r.i.Window]]);case i.wA.HostScript:return new Map([[i.wA.Main,r.i.Window],[i.wA.Popup,r.i.Window],[i.wA.ContentScript,r.i.Window],[i.wA.HostScript,r.i.Window]]);default:throw new o.UY({message:`Unknown component type, ${e}. Cannot connect to messaging APIs`})}}},40811:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(58684);function i(e,t){return t.component===r.wA.All||e.component===t.component&&e.location===t.location}},58684:(e,t,n)=>{"use strict";n.d(t,{AM:()=>i,d9:()=>o,wA:()=>r});var r=(e=>(e.Main="Main",e.Popup="Popup",e.ContentScript="ContentScript",e.HostScript="HostScript",e.Foreground="Foreground",e.All="All",e))(r||{});function i(e){return"ContentScript"===e||"HostScript"===e}var o=(e=>(e.JamUi="content-JamUi",e.RRWebForwarder="content-RRwebForwarder",e.RRWebSnapshot="content-RRwebSnapshot",e.EventListeners="content-event-listeners",e))(o||{})},47273:(e,t,n)=>{"use strict";n.d(t,{_1:()=>o,jX:()=>a,pT:()=>r,qQ:()=>i});var r=(e=>(e.Single="Single",e.Url="Url",e.Chunked="Chunked",e))(r||{}),i=(e=>(e.Head="Head",e.Body="Body",e.Ack="Ack",e))(i||{});function o(e){return"object"==typeof e&&!!e&&"type"in e&&"datagram"===e.type&&"id"in e&&"datagramType"in e}function a(e){return"Url"===e.datagramType}},95126:(e,t,n)=>{"use strict";n.d(t,{UY:()=>a,W5:()=>i,lk:()=>s,m0:()=>u,pD:()=>o});var r=n(88783);class i extends r.Lw{constructor(){super(...arguments),this.name="TimeoutError"}}class o extends r.Lw{constructor(){super(...arguments),this.name="ForwardingError"}}class a extends r.Lw{constructor(){super(...arguments),this.name="ConfigurationError"}}class s extends r.Lw{constructor(){super(...arguments),this.name="CommunicationError"}}class u extends r.Lw{constructor(){super(...arguments),this.name="UncaughtHandlerError"}}},61114:(e,t,n)=>{"use strict";function r(e){let t=Math.floor(1e5*Math.random());return()=>`${e}-id:${Math.random()}:${t++}`}n.d(t,{LI:()=>o,j1:()=>i,jF:()=>a});const i=r("testing-id"),o=r("dg"),a=r("brkr-rq")},8657:(e,t,n)=>{"use strict";function r(e){return"object"==typeof e&&!!e&&"type"in e&&"packet"===e.type&&"dest"in e&&"src"in e&&"data"in e}n.d(t,{M:()=>r})},67767:()=>{},45071:()=>{},32428:()=>{},87456:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,_:()=>i});var r=(e=>(e.Chrome="chrome",e.Firefox="firefox",e))(r||{});function i(e){return({}.BROWSER_BUILD||"chrome")===e}},59100:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,q:()=>r});var r=(e=>(e.Development="development",e.Preview="preview",e.Staging="staging",e.Production="production",e.Test="test",e))(r||{}),i=(e=>(e.Development="development",e.Production="production",e.Test="test",e))(i||{})},4580:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{Q:()=>r})},35679:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{J:()=>r})},30386:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});class r extends Error{constructor(e){super(e.message),this.original=e,this.name=e.name,this.message=e.message,this.stack=e.stack}toJSON(){return{name:this.name,message:this.message,stack:this.stack}}}},88783:(e,t,n)=>{"use strict";n.d(t,{LT:()=>u,Lw:()=>o,VK:()=>s});var r=n(30386),i=n(92982);class o extends Error{constructor(e,t){super(e.message),this.name=e.name??"WrappedError",this.userError=e.userError,this.debugMessage=e.debugMessage,this.serializableContext=e.serializableContext,t&&(t instanceof o?this.previous=t:t instanceof Error?this.previous=new r.S(t):"string"==typeof t&&(this.previous=t))}get extensions(){return{wrappedError:this}}toJSON(){const e={},t=function(e){const t=Object.assign(Object.create(Object.getPrototypeOf(a)),e);return delete t.stack,t}(this);return Object.getOwnPropertyNames(t).forEach((n=>{const r=n;e[r]=t[r]})),e}valueOf(){return this.toString()}toString(){return this.fullError()}shortError(){return`${this.name}: ${this.message}`}find(e){if(e(this))return this;if(!this.previous)return;if(this.previous instanceof o)return this.previous.find(e);let t=this.previous;return this.previous instanceof r.S&&(t=this.previous.original),e(t)?t:void 0}is(e){return Boolean(this.find((t=>t instanceof e)))}fullError(){let e;this.previous&&(e=this.previous.toString());let t="";try{t=JSON.stringify(this.serializableContext)}catch{t="[Error: provided context was not serializable]"}const n=[[`${this.name}:`,this.message,this.debugMessage?`(${this.debugMessage})`:void 0,this.userError?"(user error)":void 0],[`Serializable context: (${t})`]].map((e=>e.filter(i.Av).join(" ")+".")).join(" ");return e?n+". \nCaused by: \n"+e:n}previousMessage(){if(this.previous)return"string"==typeof this.previous?this.previous:this.previous.message}static isInside(e){if(!(e instanceof o))return!1;const t=this.name;return e.find((e=>e instanceof o&&e.name===t))}}const a=new o({message:"Example Error"});function s(e){return e instanceof o||e instanceof Error?e.toString():String(e)}function u(e){if(e instanceof o)return e.toJSON();if("object"==typeof e&&null!==e&&"toJSON"in e&&"function"==typeof e.toJSON)try{const t=e.toJSON();if("string"==typeof t)return t}catch{}if(e instanceof Error)return{name:e.name,message:e.message,stack:e.stack};try{return JSON.stringify(e)}catch{}if("object"==typeof e&&e)try{return`[This ${e.constructor.name} object cannot be serialized]`}catch{}return`[This ${typeof e} value cannot be serialized]`}},92982:(e,t,n)=>{"use strict";function r(e){return void 0!==e}function i(e){return null!=e}n.d(t,{$H:()=>i,Av:()=>r})},95925:(e,t,n)=>{"use strict";function r(e,t=2){let n=String(e);const r=Math.pow(10,t-1);if(e<r)for(;String(r).length>n.length;)n="0"+e;return n}n.d(t,{B:()=>r})},14647:(e,t,n)=>{"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,{g:()=>r})},10053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(4580),i=n(59100);function o(e,t){if(void 0===e||""===e){if(void 0===t&&!(0,r.Q)(i.M.Test))throw new ReferenceError("Missing a required environment variable");return t??""}return e}},21102:(e,t,n)=>{"use strict";function r(e,t){if(t<0||t>1)throw new Error(`Rate (${t}) must be within the range of 0 to 1, inclusive.`);Math.random()<=t&&e()}n.d(t,{U:()=>r})},93318:(e,t,n)=>{"use strict";var r,i;n.d(t,{d:()=>r}),(i=r||(r={})).Byte=1,i.Kilobyte=1e3*i.Byte,i.Megabyte=1e3*i.Kilobyte,i.Gigabyte=1e3*i.Megabyte},64793:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});class r{constructor(){this.innerMap=new Map}clearExistingTimeout(e){const t=this.innerMap.get(e);t?.timeout&&clearTimeout(t.timeout)}set(e,t,n){this.clearExistingTimeout(e),this.innerMap.set(e,{value:t,timeout:setTimeout((()=>this.innerMap.delete(e)),n)})}get(e){return this.innerMap.get(e)?.value}delete(e){return this.innerMap.delete(e)}}},12108:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r,i,o=n(95925);(i=r||(r={})).Millisecond=1,i.Second=1e3*i.Millisecond,i.Minute=60*i.Second,i.Hour=60*i.Minute,i.Day=24*i.Hour,i.toSeconds=function(e){return e/i.Second},i.isEpochInSeconds=function(e){return Math.abs(Date.now()-e)>Math.abs(Date.now()-1e3*e)},i.formatTime=function(e){if(e<=0)return"00:00";const t=Math.floor(e/i.Hour);e%=i.Hour;const n=Math.floor(e/i.Minute);e%=i.Minute;const r=Math.floor(e/i.Second);return t?`${(0,o.B)(t)}:${(0,o.B)(n)}:${(0,o.B)(r)}`:`${(0,o.B)(n)}:${(0,o.B)(r)}`}},22699:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},50857:(e,t,n)=>{var r=n(37772).Symbol;e.exports=r},53366:(e,t,n)=>{var r=n(50857),i=n(62107),o=n(37157),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},51704:(e,t,n)=>{var r=n(52153),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},51242:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},62107:(e,t,n)=>{var r=n(50857),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},37157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},37772:(e,t,n)=>{var r=n(51242),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},52153:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},54073:(e,t,n)=>{var r=n(29259),i=n(61100),o=n(7642),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,f,p,d,h=0,v=!1,b=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=u,r=c;return u=c=void 0,h=t,f=e.apply(r,n)}function y(e){return h=e,p=setTimeout(w,t),v?g(e):f}function _(e){var n=e-d;return void 0===d||n>=t||n<0||b&&e-h>=l}function w(){var e=i();if(_(e))return O(e);p=setTimeout(w,function(e){var n=t-(e-d);return b?s(n,l-(e-h)):n}(e))}function O(e){return p=void 0,m&&u?g(e):(u=c=void 0,f)}function A(){var e=i(),n=_(e);if(u=arguments,c=this,d=e,n){if(void 0===p)return y(d);if(b)return clearTimeout(p),p=setTimeout(w,t),g(d)}return void 0===p&&(p=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,l=(b="maxWait"in n)?a(o(n.maxWait)||0,t):l,m="trailing"in n?!!n.trailing:m),A.cancel=function(){void 0!==p&&clearTimeout(p),h=0,u=d=c=p=void 0},A.flush=function(){return void 0===p?f:O(i())},A}},29259:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4795:(e,t,n)=>{var r=n(53366),i=n(15125);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},76635:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,p=NaN,d=4294967295,h=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],v="[object Arguments]",b="[object Array]",m="[object Boolean]",g="[object Date]",y="[object Error]",_="[object Function]",w="[object GeneratorFunction]",O="[object Map]",A="[object Number]",S="[object Object]",T="[object Promise]",E="[object RegExp]",x="[object Set]",I="[object String]",k="[object Symbol]",P="[object WeakMap]",j="[object ArrayBuffer]",C="[object DataView]",N="[object Float32Array]",D="[object Float64Array]",R="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",U="[object Uint8ClampedArray]",V="[object Uint16Array]",B="[object Uint32Array]",H=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,q=RegExp(G.source),K=RegExp(W.source),J=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="["+Se+"]",Ee="["+we+"]",xe="\\d+",Ie="["+Oe+"]",ke="[^\\ud800-\\udfff"+Se+xe+"\\u2700-\\u27bf"+Oe+Ae+"]",Pe="\\ud83c[\\udffb-\\udfff]",je="[^\\ud800-\\udfff]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",De="["+Ae+"]",Re="(?:"+Ie+"|"+ke+")",Me="(?:"+De+"|"+ke+")",Le="(?:['](?:d|ll|m|re|s|t|ve))?",Fe="(?:['](?:D|LL|M|RE|S|T|VE))?",Ue="(?:"+Ee+"|"+Pe+")?",Ve="[\\ufe0e\\ufe0f]?",Be=Ve+Ue+"(?:\\u200d(?:"+[je,Ce,Ne].join("|")+")"+Ve+Ue+")*",He="(?:"+["[\\u2700-\\u27bf]",Ce,Ne].join("|")+")"+Be,ze="(?:"+[je+Ee+"?",Ee,Ce,Ne,"[\\ud800-\\udfff]"].join("|")+")",$e=RegExp("[']","g"),Ge=RegExp(Ee,"g"),We=RegExp(Pe+"(?="+Pe+")|"+ze+Be,"g"),qe=RegExp([De+"?"+Ie+"+"+Le+"(?="+[Te,De,"$"].join("|")+")",Me+"+"+Fe+"(?="+[Te,De+Re,"$"].join("|")+")",De+"?"+Re+"+"+Le,De+"+"+Fe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xe,He].join("|"),"g"),Ke=RegExp("[\\u200d\\ud800-\\udfff"+we+"\\ufe0e\\ufe0f]"),Je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ye=-1,Ze={};Ze[N]=Ze[D]=Ze[R]=Ze[M]=Ze[L]=Ze[F]=Ze[U]=Ze[V]=Ze[B]=!0,Ze[v]=Ze[b]=Ze[j]=Ze[m]=Ze[C]=Ze[g]=Ze[y]=Ze[_]=Ze[O]=Ze[A]=Ze[S]=Ze[E]=Ze[x]=Ze[I]=Ze[P]=!1;var Qe={};Qe[v]=Qe[b]=Qe[j]=Qe[C]=Qe[m]=Qe[g]=Qe[N]=Qe[D]=Qe[R]=Qe[M]=Qe[L]=Qe[O]=Qe[A]=Qe[S]=Qe[E]=Qe[x]=Qe[I]=Qe[k]=Qe[F]=Qe[U]=Qe[V]=Qe[B]=!0,Qe[y]=Qe[_]=Qe[P]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,it="object"==typeof self&&self&&self.Object===Object&&self,ot=rt||it||Function("return this")(),at=t&&!t.nodeType&&t,st=at&&e&&!e.nodeType&&e,ut=st&&st.exports===at,ct=ut&&rt.process,lt=function(){try{return st&&st.require&&st.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),ft=lt&&lt.isArrayBuffer,pt=lt&&lt.isDate,dt=lt&&lt.isMap,ht=lt&&lt.isRegExp,vt=lt&&lt.isSet,bt=lt&&lt.isTypedArray;function mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function gt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function At(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function St(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Et(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function xt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function It(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Pt=Lt("length");function jt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ct(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ct(e,Rt,n)}function Dt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Rt(e){return e!=e}function Mt(e,t){var n=null==e?0:e.length;return n?Vt(e,t)/n:p}function Lt(e){return function(t){return null==t?i:t[e]}}function Ft(e){return function(t){return null==e?i:e[t]}}function Ut(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Vt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Bt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ht(e){return e?e.slice(0,sn(e)+1).replace(re,""):e}function zt(e){return function(t){return e(t)}}function $t(e,t){return Tt(t,(function(t){return e[t]}))}function Gt(e,t){return e.has(t)}function Wt(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function Kt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Jt=Ft({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Xt=Ft({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Yt(e){return"\\"+et[e]}function Zt(e){return Ke.test(e)}function Qt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function on(e){return Zt(e)?function(e){for(var t=We.lastIndex=0;We.test(e);)++t;return t}(e):Pt(e)}function an(e){return Zt(e)?function(e){return e.match(We)||[]}(e):function(e){return e.split("")}(e)}function sn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var un=Ft({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function e(t){var n,r=(t=null==t?ot:cn.defaults(ot.Object(),t,cn.pick(ot,Xe))).Array,ie=t.Date,we=t.Error,Oe=t.Function,Ae=t.Math,Se=t.Object,Te=t.RegExp,Ee=t.String,xe=t.TypeError,Ie=r.prototype,ke=Oe.prototype,Pe=Se.prototype,je=t["__core-js_shared__"],Ce=ke.toString,Ne=Pe.hasOwnProperty,De=0,Re=(n=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=Pe.toString,Le=Ce.call(Se),Fe=ot._,Ue=Te("^"+Ce.call(Ne).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=ut?t.Buffer:i,Be=t.Symbol,He=t.Uint8Array,ze=Ve?Ve.allocUnsafe:i,We=en(Se.getPrototypeOf,Se),Ke=Se.create,et=Pe.propertyIsEnumerable,rt=Ie.splice,it=Be?Be.isConcatSpreadable:i,at=Be?Be.iterator:i,st=Be?Be.toStringTag:i,ct=function(){try{var e=co(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Pt=ie&&ie.now!==ot.Date.now&&ie.now,Ft=t.setTimeout!==ot.setTimeout&&t.setTimeout,ln=Ae.ceil,fn=Ae.floor,pn=Se.getOwnPropertySymbols,dn=Ve?Ve.isBuffer:i,hn=t.isFinite,vn=Ie.join,bn=en(Se.keys,Se),mn=Ae.max,gn=Ae.min,yn=ie.now,_n=t.parseInt,wn=Ae.random,On=Ie.reverse,An=co(t,"DataView"),Sn=co(t,"Map"),Tn=co(t,"Promise"),En=co(t,"Set"),xn=co(t,"WeakMap"),In=co(Se,"create"),kn=xn&&new xn,Pn={},jn=Uo(An),Cn=Uo(Sn),Nn=Uo(Tn),Dn=Uo(En),Rn=Uo(xn),Mn=Be?Be.prototype:i,Ln=Mn?Mn.valueOf:i,Fn=Mn?Mn.toString:i;function Un(e){if(ns(e)&&!Ga(e)&&!(e instanceof zn)){if(e instanceof Hn)return e;if(Ne.call(e,"__wrapped__"))return Vo(e)}return new Hn(e)}var Vn=function(){function e(){}return function(t){if(!ts(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Bn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function zn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Wn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Jn(e,t){var n=Ga(e),r=!n&&$a(e),i=!n&&!r&&Ja(e),o=!n&&!r&&!i&&ls(e),a=n||r||i||o,s=a?Bt(e.length,Ee):[],u=s.length;for(var c in e)!t&&!Ne.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,u))||s.push(c);return s}function Xn(e){var t=e.length;return t?e[Wr(0,t-1)]:i}function Yn(e,t){return Do(xi(e),ar(t,0,e.length))}function Zn(e){return Do(xi(e))}function Qn(e,t,n){(n!==i&&!Ba(e[t],n)||n===i&&!(t in e))&&ir(e,t,n)}function er(e,t,n){var r=e[t];Ne.call(e,t)&&Ba(r,n)&&(n!==i||t in e)||ir(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}function nr(e,t,n,r){return fr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function rr(e,t){return e&&Ii(t,Cs(t),e)}function ir(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:xs(e,t[n]);return a}function ar(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ts(e))return e;var f=Ga(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return xi(e,s)}else{var p=po(e),d=p==_||p==w;if(Ja(e))return wi(e,u);if(p==S||p==v||d&&!o){if(s=c||d?{}:vo(e),!u)return c?function(e,t){return Ii(e,fo(e),t)}(e,function(e,t){return e&&Ii(t,Ns(t),e)}(s,e)):function(e,t){return Ii(e,lo(e),t)}(e,rr(s,e))}else{if(!Qe[p])return o?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case j:return Oi(e);case m:case g:return new i(+e);case C:return function(e,t){var n=t?Oi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case D:case R:case M:case L:case F:case U:case V:case B:return Ai(e,n);case O:case x:return new i;case A:case I:return new i(e);case E:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case k:return r=e,Ln?Se(Ln.call(r)):{}}}(e,p,u)}}a||(a=new Kn);var h=a.get(e);if(h)return h;a.set(e,s),ss(e)?e.forEach((function(r){s.add(sr(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,i){s.set(i,sr(r,t,n,i,e,a))}));var b=f?i:(l?c?no:to:c?Ns:Cs)(e);return yt(b||e,(function(r,i){b&&(r=e[i=r]),er(s,i,sr(r,t,n,i,e,a))})),s}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new xe(o);return Po((function(){e.apply(i,n)}),t)}function lr(e,t,n,r){var i=-1,o=At,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Tt(t,zt(n))),r?(o=St,a=!1):t.length>=200&&(o=Gt,a=!1,t=new qn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var p=c;p--;)if(t[p]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Un.templateSettings={escape:J,evaluate:X,interpolate:Y,variable:"",imports:{_:Un}},Un.prototype=Bn.prototype,Un.prototype.constructor=Un,Hn.prototype=Vn(Bn.prototype),Hn.prototype.constructor=Hn,zn.prototype=Vn(Bn.prototype),zn.prototype.constructor=zn,$n.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===a?i:n}return Ne.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:Ne.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},Gn.prototype.get=function(e){var t=this.__data__,n=tr(t,e);return n<0?i:t[n][1]},Gn.prototype.has=function(e){return tr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(Sn||Gn),string:new $n}},Wn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Wn.prototype.get=function(e){return so(this,e).get(e)},Wn.prototype.has=function(e){return so(this,e).has(e)},Wn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,a),this},qn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(e,t),this.size=n.size,this};var fr=ji(yr),pr=ji(_r,!0);function dr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function hr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s==s&&!cs(s):n(s,u)))var u=s,c=a}return c}function vr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?br(s,t-1,n,r,i):Et(i,s):r||(i[i.length]=s)}return i}var mr=Ci(),gr=Ci(!0);function yr(e,t){return e&&mr(e,t,Cs)}function _r(e,t){return e&&gr(e,t,Cs)}function wr(e,t){return Ot(t,(function(t){return Za(e[t])}))}function Or(e,t){for(var n=0,r=(t=mi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function Ar(e,t,n){var r=t(e);return Ga(e)?r:Et(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":st&&st in Se(e)?function(e){var t=Ne.call(e,st),n=e[st];try{e[st]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[st]=n:delete e[st]),o}(e):function(e){return Me.call(e)}(e)}function Tr(e,t){return e>t}function Er(e,t){return null!=e&&Ne.call(e,t)}function xr(e,t){return null!=e&&t in Se(e)}function Ir(e,t,n){for(var o=n?St:At,a=e[0].length,s=e.length,u=s,c=r(s),l=1/0,f=[];u--;){var p=e[u];u&&t&&(p=Tt(p,zt(t))),l=gn(p.length,l),c[u]=!n&&(t||a>=120&&p.length>=120)?new qn(u&&p):i}p=e[0];var d=-1,h=c[0];e:for(;++d<a&&f.length<l;){var v=p[d],b=t?t(v):v;if(v=n||0!==v?v:0,!(h?Gt(h,b):o(f,b,n))){for(u=s;--u;){var m=c[u];if(!(m?Gt(m,b):o(e[u],b,n)))continue e}h&&h.push(b),f.push(v)}}return f}function kr(e,t,n){var r=null==(e=Eo(e,t=mi(t,e)))?e:e[Fo(Yo(t))];return null==r?i:mt(r,e,n)}function Pr(e){return ns(e)&&Sr(e)==v}function jr(e,t,n,r,o){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Ga(e),u=Ga(t),c=s?b:po(e),l=u?b:po(t),f=(c=c==v?S:c)==S,p=(l=l==v?S:l)==S,d=c==l;if(d&&Ja(e)){if(!Ja(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Kn),s||ls(e)?Qi(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case m:case g:case A:return Ba(+e,+t);case y:return e.name==t.name&&e.message==t.message;case E:case I:return e==t+"";case O:var s=Qt;case x:var u=1&r;if(s||(s=nn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Qi(s(e),s(t),r,i,o,a);return a.delete(e),l;case k:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var h=f&&Ne.call(e,"__wrapped__"),_=p&&Ne.call(t,"__wrapped__");if(h||_){var w=h?e.value():e,T=_?t.value():t;return a||(a=new Kn),o(w,T,n,r,a)}}return!!d&&(a||(a=new Kn),function(e,t,n,r,o,a){var s=1&n,u=to(e),c=u.length;if(c!=to(t).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in t:Ne.call(t,f)))return!1}var p=a.get(e),d=a.get(t);if(p&&d)return p==t&&d==e;var h=!0;a.set(e,t),a.set(t,e);for(var v=s;++l<c;){var b=e[f=u[l]],m=t[f];if(r)var g=s?r(m,b,f,t,e,a):r(b,m,f,e,t,a);if(!(g===i?b===m||o(b,m,n,r,a):g)){h=!1;break}v||(v="constructor"==f)}if(h&&!v){var y=e.constructor,_=t.constructor;y==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,a))}(e,t,n,r,jr,o))}function Cr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Se(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var p=new Kn;if(r)var d=r(l,f,c,e,t,p);if(!(d===i?jr(f,l,3,r,p):d))return!1}}return!0}function Nr(e){return!(!ts(e)||(t=e,Re&&Re in t))&&(Za(e)?Ue:ve).test(Uo(e));var t}function Dr(e){return"function"==typeof e?e:null==e?iu:"object"==typeof e?Ga(e)?Ur(e[0],e[1]):Fr(e):du(e)}function Rr(e){if(!Oo(e))return bn(e);var t=[];for(var n in Se(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e,t){return e<t}function Lr(e,t){var n=-1,i=qa(e)?r(e.length):[];return fr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Fr(e){var t=uo(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Cr(n,e,t)}}function Ur(e,t){return yo(e)&&Ao(t)?So(Fo(e),t):function(n){var r=xs(n,e);return r===i&&r===t?Is(n,e):jr(t,r,3)}}function Vr(e,t,n,r,o){e!==t&&mr(t,(function(a,s){if(o||(o=new Kn),ts(a))!function(e,t,n,r,o,a,s){var u=Io(e,n),c=Io(t,n),l=s.get(c);if(l)Qn(e,n,l);else{var f=a?a(u,c,n+"",e,t,s):i,p=f===i;if(p){var d=Ga(c),h=!d&&Ja(c),v=!d&&!h&&ls(c);f=c,d||h||v?Ga(u)?f=u:Ka(u)?f=xi(u):h?(p=!1,f=wi(c,!0)):v?(p=!1,f=Ai(c,!0)):f=[]:os(c)||$a(c)?(f=u,$a(u)?f=gs(u):ts(u)&&!Za(u)||(f=vo(c))):p=!1}p&&(s.set(c,f),o(f,c,r,a,s),s.delete(c)),Qn(e,n,f)}}(e,t,s,n,Vr,r,o);else{var u=r?r(Io(e,s),a,s+"",e,t,o):i;u===i&&(u=a),Qn(e,s,u)}}),Ns)}function Br(e,t){var n=e.length;if(n)return mo(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?Tt(t,(function(e){return Ga(e)?function(t){return Or(t,1===e.length?e[0]:e)}:e})):[iu];var r=-1;t=Tt(t,zt(ao()));var i=Lr(e,(function(e,n,i){var o=Tt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=Si(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Or(e,a);n(s,a)&&Yr(o,mi(a,e),s)}return o}function $r(e,t,n,r){var i=r?Dt:Nt,o=-1,a=t.length,s=e;for(e===t&&(t=xi(t)),n&&(s=Tt(e,zt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&rt.call(s,u,1),rt.call(e,u,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;mo(i)?rt.call(e,i,1):ci(e,i)}}return e}function Wr(e,t){return e+fn(wn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=fn(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return jo(To(e,t,iu),e+"")}function Jr(e){return Xn(Bs(e))}function Xr(e,t){var n=Bs(e);return Do(n,ar(t,0,n.length))}function Yr(e,t,n,r){if(!ts(e))return e;for(var o=-1,a=(t=mi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Fo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=ts(f)?f:mo(t[o+1])?[]:{})}er(u,c,l),u=u[c]}return e}var Zr=kn?function(e,t){return kn.set(e,t),e}:iu,Qr=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:tu(t),writable:!0})}:iu;function ei(e){return Do(Bs(e))}function ti(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ni(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ri(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ii(e,t,iu,n)}function ii(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=cs(t),l=t===i;o<a;){var f=fn((o+a)/2),p=n(e[f]),d=p!==i,h=null===p,v=p==p,b=cs(p);if(s)var m=r||v;else m=l?v&&(r||d):u?v&&d&&(r||!h):c?v&&d&&!h&&(r||!b):!h&&!b&&(r?p<=t:p<t);m?o=f+1:a=f}return gn(a,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ba(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ai(e){return"number"==typeof e?e:cs(e)?p:+e}function si(e){if("string"==typeof e)return e;if(Ga(e))return Tt(e,si)+"";if(cs(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=At,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=St;else if(o>=200){var c=t?null:qi(e);if(c)return nn(c);a=!1,i=Gt,u=new qn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ci(e,t){return null==(e=Eo(e,t=mi(t,e)))||delete e[Fo(Yo(t))]}function li(e,t,n,r){return Yr(e,t,n(Or(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ti(e,r?0:o,r?o+1:i):ti(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof zn&&(n=n.value()),xt(t,(function(e,t){return t.func.apply(t.thisArg,Et([e],t.args))}),n)}function di(e,t,n){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=lr(a[o]||s,e[u],t,n));return ui(br(a,1),t,n)}function hi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function vi(e){return Ka(e)?e:[]}function bi(e){return"function"==typeof e?e:iu}function mi(e,t){return Ga(e)?e:yo(e,t)?[e]:Lo(ys(e))}var gi=Kr;function yi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ti(e,t,n)}var _i=lt||function(e){return ot.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var n=e.length,r=ze?ze(n):new e.constructor(n);return e.copy(r),r}function Oi(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Ai(e,t){var n=t?Oi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=cs(e),s=t!==i,u=null===t,c=t==t,l=cs(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=mn(a-s,0),f=r(c+l),p=!i;++u<c;)f[u]=t[u];for(;++o<s;)(p||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ei(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=mn(a-u,0),p=r(f+l),d=!i;++o<f;)p[o]=e[o];for(var h=o;++c<l;)p[h+c]=t[c];for(;++s<u;)(d||o<a)&&(p[h+n[s]]=e[o++]);return p}function xi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ii(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?ir(n,u,c):er(n,u,c)}return n}function ki(e,t){return function(n,r){var i=Ga(n)?gt:nr,o=t?t():{};return i(n,e,ao(r,2),o)}}function Pi(e){return Kr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&go(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Se(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function ji(e,t){return function(n,r){if(null==n)return n;if(!qa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Se(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ci(e){return function(t,n,r){for(var i=-1,o=Se(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Ni(e){return function(t){var n=Zt(t=ys(t))?an(t):i,r=n?n[0]:t.charAt(0),o=n?yi(n,1).join(""):t.slice(1);return r[e]()+o}}function Di(e){return function(t){return xt(Zs($s(t).replace($e,"")),e,"")}}function Ri(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Mi(e){return function(t,n,r){var o=Se(t);if(!qa(t)){var a=ao(n,3);t=Cs(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Li(e){return eo((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new xe(o);if(a&&!u&&"wrapper"==io(s))var u=new Hn([],!0)}for(r=u?r:n;++r<n;){var c=io(s=t[r]),l="wrapper"==c?ro(s):i;u=l&&_o(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[io(l[0])].apply(u,l[3]):1==s.length&&_o(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ga(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Fi(e,t,n,o,a,s,u,l,f,p){var d=t&c,h=1&t,v=2&t,b=24&t,m=512&t,g=v?i:Ri(e);return function i(){for(var c=arguments.length,y=r(c),_=c;_--;)y[_]=arguments[_];if(b)var w=oo(i),O=Kt(y,w);if(o&&(y=Ti(y,o,a,b)),s&&(y=Ei(y,s,u,b)),c-=O,b&&c<p){var A=tn(y,w);return Gi(e,t,Fi,i.placeholder,n,y,A,l,f,p-c)}var S=h?n:this,T=v?S[e]:e;return c=y.length,l?y=xo(y,l):m&&c>1&&y.reverse(),d&&f<c&&(y.length=f),this&&this!==ot&&this instanceof i&&(T=g||Ri(T)),T.apply(S,y)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return yr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ai(n),r=ai(r)),o=e(n,r)}return o}}function Bi(e){return eo((function(t){return t=Tt(t,zt(ao())),Kr((function(n){var r=this;return e(t,(function(e){return mt(e,r,n)}))}))}))}function Hi(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?qr(t,e):t;var r=qr(t,ln(e/on(t)));return Zt(t)?yi(an(r),0,e).join(""):r.slice(0,e)}function zi(e){return function(t,n,o){return o&&"number"!=typeof o&&go(t,n,o)&&(n=o=i),t=hs(t),n===i?(n=t,t=0):n=hs(n),function(e,t,n,i){for(var o=-1,a=mn(ln((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:hs(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Gi(e,t,n,r,o,a,s,c,l,f){var p=8&t;t|=p?u:64,4&(t&=~(p?64:u))||(t&=-4);var d=[e,t,o,p?a:i,p?s:i,p?i:a,p?i:s,c,l,f],h=n.apply(i,d);return _o(e)&&ko(h,d),h.placeholder=r,Co(h,e,t)}function Wi(e){var t=Ae[e];return function(e,n){if(e=ms(e),(n=null==n?0:gn(vs(n),292))&&hn(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=En&&1/nn(new En([,-0]))[1]==l?function(e){return new En(e)}:cu;function Ki(e){return function(t){var n=po(t);return n==O?Qt(t):n==x?rn(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,a,l,f,p,d){var h=2&t;if(!h&&"function"!=typeof e)throw new xe(o);var v=a?a.length:0;if(v||(t&=-97,a=l=i),p=p===i?p:mn(vs(p),0),d=d===i?d:vs(d),v-=l?l.length:0,64&t){var b=a,m=l;a=l=i}var g=h?i:ro(e),y=[e,t,n,a,l,b,m,f,p,d];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ti(l,u,t[4]):u,e[4]=l?tn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ei(l,u,t[6]):u,e[6]=l?tn(e[5],s):t[6]),(u=t[7])&&(e[7]=u),r&c&&(e[8]=null==e[8]?t[8]:gn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(y,g),e=y[0],t=y[1],n=y[2],a=y[3],l=y[4],!(d=y[9]=y[9]===i?h?0:e.length:mn(y[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)_=8==t||16==t?function(e,t,n){var o=Ri(e);return function a(){for(var s=arguments.length,u=r(s),c=s,l=oo(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:tn(u,l);return(s-=f.length)<n?Gi(e,t,Fi,a.placeholder,i,u,f,i,i,n-s):mt(this&&this!==ot&&this instanceof a?o:e,this,u)}}(e,t,d):t!=u&&33!=t||l.length?Fi.apply(i,y):function(e,t,n,i){var o=1&t,a=Ri(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),p=this&&this!==ot&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return mt(p,o?n:this,f)}}(e,t,n,a);else var _=function(e,t,n){var r=1&t,i=Ri(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Co((g?Zr:ko)(_,y),e,t)}function Xi(e,t,n,r){return e===i||Ba(e,Pe[n])&&!Ne.call(r,n)?t:e}function Yi(e,t,n,r,o,a){return ts(e)&&ts(t)&&(a.set(t,e),Vr(e,t,i,Yi,a),a.delete(t)),e}function Zi(e){return os(e)?i:e}function Qi(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var p=-1,d=!0,h=2&n?new qn:i;for(a.set(e,t),a.set(t,e);++p<u;){var v=e[p],b=t[p];if(r)var m=s?r(b,v,p,t,e,a):r(v,b,p,e,t,a);if(m!==i){if(m)continue;d=!1;break}if(h){if(!kt(t,(function(e,t){if(!Gt(h,t)&&(v===e||o(v,e,n,r,a)))return h.push(t)}))){d=!1;break}}else if(v!==b&&!o(v,b,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function eo(e){return jo(To(e,i,Wo),e+"")}function to(e){return Ar(e,Cs,lo)}function no(e){return Ar(e,Ns,fo)}var ro=kn?function(e){return kn.get(e)}:cu;function io(e){for(var t=e.name+"",n=Pn[t],r=Ne.call(Pn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(Ne.call(Un,"placeholder")?Un:e).placeholder}function ao(){var e=Un.iteratee||ou;return e=e===ou?Dr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function uo(e){for(var t=Cs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ao(i)]}return t}function co(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Nr(n)?n:i}var lo=pn?function(e){return null==e?[]:(e=Se(e),Ot(pn(e),(function(t){return et.call(e,t)})))}:bu,fo=pn?function(e){for(var t=[];e;)Et(t,lo(e)),e=We(e);return t}:bu,po=Sr;function ho(e,t,n){for(var r=-1,i=(t=mi(t,e)).length,o=!1;++r<i;){var a=Fo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&es(i)&&mo(a,i)&&(Ga(e)||$a(e))}function vo(e){return"function"!=typeof e.constructor||Oo(e)?{}:Vn(We(e))}function bo(e){return Ga(e)||$a(e)||!!(it&&e&&e[it])}function mo(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function go(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?qa(n)&&mo(t,n.length):"string"==r&&t in n)&&Ba(n[t],e)}function yo(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||Q.test(e)||!Z.test(e)||null!=t&&e in Se(t)}function _o(e){var t=io(e),n=Un[t];if("function"!=typeof n||!(t in zn.prototype))return!1;if(e===n)return!0;var r=ro(n);return!!r&&e===r[0]}(An&&po(new An(new ArrayBuffer(1)))!=C||Sn&&po(new Sn)!=O||Tn&&po(Tn.resolve())!=T||En&&po(new En)!=x||xn&&po(new xn)!=P)&&(po=function(e){var t=Sr(e),n=t==S?e.constructor:i,r=n?Uo(n):"";if(r)switch(r){case jn:return C;case Cn:return O;case Nn:return T;case Dn:return x;case Rn:return P}return t});var wo=je?Za:mu;function Oo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Ao(e){return e==e&&!ts(e)}function So(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Se(n))}}function To(e,t,n){return t=mn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=mn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),mt(e,this,u)}}function Eo(e,t){return t.length<2?e:Or(e,ti(t,0,-1))}function xo(e,t){for(var n=e.length,r=gn(t.length,n),o=xi(e);r--;){var a=t[r];e[r]=mo(a,n)?o[a]:i}return e}function Io(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ko=No(Zr),Po=Ft||function(e,t){return ot.setTimeout(e,t)},jo=No(Qr);function Co(e,t,n){var r=t+"";return jo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return yt(h,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(se):[]}(r),n)))}function No(e){var t=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Wr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Ro,Mo,Lo=(Ro=Ra((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===Mo.size&&Mo.clear(),e})),Mo=Ro.cache,Ro);function Fo(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Uo(e){if(null!=e){try{return Ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Vo(e){if(e instanceof zn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=xi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Kr((function(e,t){return Ka(e)?lr(e,br(t,1,Ka,!0)):[]})),Ho=Kr((function(e,t){var n=Yo(t);return Ka(n)&&(n=i),Ka(e)?lr(e,br(t,1,Ka,!0),ao(n,2)):[]})),zo=Kr((function(e,t){var n=Yo(t);return Ka(n)&&(n=i),Ka(e)?lr(e,br(t,1,Ka,!0),i,n):[]}));function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=mn(r+i,0)),Ct(e,ao(t,3),i)}function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vs(n),o=n<0?mn(r+o,0):gn(o,r-1)),Ct(e,ao(t,3),o,!0)}function Wo(e){return null!=e&&e.length?br(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Ko=Kr((function(e){var t=Tt(e,vi);return t.length&&t[0]===e[0]?Ir(t):[]})),Jo=Kr((function(e){var t=Yo(e),n=Tt(e,vi);return t===Yo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,ao(t,2)):[]})),Xo=Kr((function(e){var t=Yo(e),n=Tt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]}));function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Zo=Kr(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var ea=eo((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Gr(e,Tt(t,(function(e){return mo(e,n)?+e:e})).sort(Si)),r}));function ta(e){return null==e?e:On.call(e)}var na=Kr((function(e){return ui(br(e,1,Ka,!0))})),ra=Kr((function(e){var t=Yo(e);return Ka(t)&&(t=i),ui(br(e,1,Ka,!0),ao(t,2))})),ia=Kr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,ui(br(e,1,Ka,!0),i,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ka(e))return t=mn(e.length,t),!0})),Bt(t,(function(t){return Tt(e,Lt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=oa(e);return null==t?n:Tt(n,(function(e){return mt(t,i,e)}))}var sa=Kr((function(e,t){return Ka(e)?lr(e,t):[]})),ua=Kr((function(e){return di(Ot(e,Ka))})),ca=Kr((function(e){var t=Yo(e);return Ka(t)&&(t=i),di(Ot(e,Ka),ao(t,2))})),la=Kr((function(e){var t=Yo(e);return t="function"==typeof t?t:i,di(Ot(e,Ka),i,t)})),fa=Kr(oa),pa=Kr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,aa(e,n)}));function da(e){var t=Un(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var va=eo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof zn&&mo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ba=ki((function(e,t,n){Ne.call(e,n)?++e[n]:ir(e,n,1)})),ma=Mi($o),ga=Mi(Go);function ya(e,t){return(Ga(e)?yt:fr)(e,ao(t,3))}function _a(e,t){return(Ga(e)?_t:pr)(e,ao(t,3))}var wa=ki((function(e,t,n){Ne.call(e,n)?e[n].push(t):ir(e,n,[t])})),Oa=Kr((function(e,t,n){var i=-1,o="function"==typeof t,a=qa(e)?r(e.length):[];return fr(e,(function(e){a[++i]=o?mt(t,e,n):kr(e,t,n)})),a})),Aa=ki((function(e,t,n){ir(e,n,t)}));function Sa(e,t){return(Ga(e)?Tt:Lr)(e,ao(t,3))}var Ta=ki((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ea=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&go(e,t[0],t[1])?t=[]:n>2&&go(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,br(t,1),[])})),xa=Pt||function(){return ot.Date.now()};function Ia(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,c,i,i,i,i,t)}function ka(e,t){var n;if("function"!=typeof t)throw new xe(o);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Pa=Kr((function(e,t,n){var r=1;if(n.length){var i=tn(n,oo(Pa));r|=u}return Ji(e,r,t,n,i)})),ja=Kr((function(e,t,n){var r=3;if(n.length){var i=tn(n,oo(ja));r|=u}return Ji(t,r,e,n,i)}));function Ca(e,t,n){var r,a,s,u,c,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new xe(o);function v(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function b(e){return f=e,c=Po(g,t),p?v(e):u}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=s}function g(){var e=xa();if(m(e))return y(e);c=Po(g,function(e){var n=t-(e-l);return d?gn(n,s-(e-f)):n}(e))}function y(e){return c=i,h&&r?v(e):(r=a=i,u)}function _(){var e=xa(),n=m(e);if(r=arguments,a=this,l=e,n){if(c===i)return b(l);if(d)return _i(c),c=Po(g,t),v(l)}return c===i&&(c=Po(g,t)),u}return t=ms(t)||0,ts(n)&&(p=!!n.leading,s=(d="maxWait"in n)?mn(ms(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),_.cancel=function(){c!==i&&_i(c),f=0,r=l=a=c=i},_.flush=function(){return c===i?u:y(xa())},_}var Na=Kr((function(e,t){return cr(e,1,t)})),Da=Kr((function(e,t,n){return cr(e,ms(t)||0,n)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new xe(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Ra.Cache||Wn),n}function Ma(e){if("function"!=typeof e)throw new xe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Wn;var La=gi((function(e,t){var n=(t=1==t.length&&Ga(t[0])?Tt(t[0],zt(ao())):Tt(br(t,1),zt(ao()))).length;return Kr((function(r){for(var i=-1,o=gn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return mt(e,this,r)}))})),Fa=Kr((function(e,t){var n=tn(t,oo(Fa));return Ji(e,u,i,t,n)})),Ua=Kr((function(e,t){var n=tn(t,oo(Ua));return Ji(e,64,i,t,n)})),Va=eo((function(e,t){return Ji(e,256,i,i,i,t)}));function Ba(e,t){return e===t||e!=e&&t!=t}var Ha=$i(Tr),za=$i((function(e,t){return e>=t})),$a=Pr(function(){return arguments}())?Pr:function(e){return ns(e)&&Ne.call(e,"callee")&&!et.call(e,"callee")},Ga=r.isArray,Wa=ft?zt(ft):function(e){return ns(e)&&Sr(e)==j};function qa(e){return null!=e&&es(e.length)&&!Za(e)}function Ka(e){return ns(e)&&qa(e)}var Ja=dn||mu,Xa=pt?zt(pt):function(e){return ns(e)&&Sr(e)==g};function Ya(e){if(!ns(e))return!1;var t=Sr(e);return t==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Za(e){if(!ts(e))return!1;var t=Sr(e);return t==_||t==w||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==vs(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=dt?zt(dt):function(e){return ns(e)&&po(e)==O};function is(e){return"number"==typeof e||ns(e)&&Sr(e)==A}function os(e){if(!ns(e)||Sr(e)!=S)return!1;var t=We(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ce.call(n)==Le}var as=ht?zt(ht):function(e){return ns(e)&&Sr(e)==E},ss=vt?zt(vt):function(e){return ns(e)&&po(e)==x};function us(e){return"string"==typeof e||!Ga(e)&&ns(e)&&Sr(e)==I}function cs(e){return"symbol"==typeof e||ns(e)&&Sr(e)==k}var ls=bt?zt(bt):function(e){return ns(e)&&es(e.length)&&!!Ze[Sr(e)]},fs=$i(Mr),ps=$i((function(e,t){return e<=t}));function ds(e){if(!e)return[];if(qa(e))return us(e)?an(e):xi(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=po(e);return(t==O?Qt:t==x?nn:Bs)(e)}function hs(e){return e?(e=ms(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function bs(e){return e?ar(vs(e),0,d):0}function ms(e){if("number"==typeof e)return e;if(cs(e))return p;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Ht(e);var n=he.test(e);return n||be.test(e)?nt(e.slice(2),n?2:8):de.test(e)?p:+e}function gs(e){return Ii(e,Ns(e))}function ys(e){return null==e?"":si(e)}var _s=Pi((function(e,t){if(Oo(t)||qa(t))Ii(t,Cs(t),e);else for(var n in t)Ne.call(t,n)&&er(e,n,t[n])})),ws=Pi((function(e,t){Ii(t,Ns(t),e)})),Os=Pi((function(e,t,n,r){Ii(t,Ns(t),e,r)})),As=Pi((function(e,t,n,r){Ii(t,Cs(t),e,r)})),Ss=eo(or),Ts=Kr((function(e,t){e=Se(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&go(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ns(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||Ba(f,Pe[l])&&!Ne.call(e,l))&&(e[l]=a[l])}return e})),Es=Kr((function(e){return e.push(i,Yi),mt(Rs,i,e)}));function xs(e,t,n){var r=null==e?i:Or(e,t);return r===i?n:r}function Is(e,t){return null!=e&&ho(e,t,xr)}var ks=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),tu(iu)),Ps=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),ao),js=Kr(kr);function Cs(e){return qa(e)?Jn(e):Rr(e)}function Ns(e){return qa(e)?Jn(e,!0):function(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Oo(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}(e)}var Ds=Pi((function(e,t,n){Vr(e,t,n)})),Rs=Pi((function(e,t,n,r){Vr(e,t,n,r)})),Ms=eo((function(e,t){var n={};if(null==e)return n;var r=!1;t=Tt(t,(function(t){return t=mi(t,e),r||(r=t.length>1),t})),Ii(e,no(e),n),r&&(n=sr(n,7,Zi));for(var i=t.length;i--;)ci(n,t[i]);return n})),Ls=eo((function(e,t){return null==e?{}:function(e,t){return zr(e,t,(function(t,n){return Is(e,n)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var n=Tt(no(e),(function(e){return[e]}));return t=ao(t),zr(e,n,(function(e,n){return t(e,n[0])}))}var Us=Ki(Cs),Vs=Ki(Ns);function Bs(e){return null==e?[]:$t(e,Cs(e))}var Hs=Di((function(e,t,n){return t=t.toLowerCase(),e+(n?zs(t):t)}));function zs(e){return Ys(ys(e).toLowerCase())}function $s(e){return(e=ys(e))&&e.replace(ge,Jt).replace(Ge,"")}var Gs=Di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ws=Di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qs=Ni("toLowerCase"),Ks=Di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Js=Di((function(e,t,n){return e+(n?" ":"")+Ys(t)})),Xs=Di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ys=Ni("toUpperCase");function Zs(e,t,n){return e=ys(e),(t=n?i:t)===i?function(e){return Je.test(e)}(e)?function(e){return e.match(qe)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Qs=Kr((function(e,t){try{return mt(e,i,t)}catch(e){return Ya(e)?e:new we(e)}})),eu=eo((function(e,t){return yt(t,(function(t){t=Fo(t),ir(e,t,Pa(e[t],e))})),e}));function tu(e){return function(){return e}}var nu=Li(),ru=Li(!0);function iu(e){return e}function ou(e){return Dr("function"==typeof e?e:sr(e,1))}var au=Kr((function(e,t){return function(n){return kr(n,e,t)}})),su=Kr((function(e,t){return function(n){return kr(e,n,t)}}));function uu(e,t,n){var r=Cs(t),i=wr(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=wr(t,Cs(t)));var o=!(ts(n)&&"chain"in n&&!n.chain),a=Za(e);return yt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=xi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Et([this.value()],arguments))})})),e}function cu(){}var lu=Bi(Tt),fu=Bi(wt),pu=Bi(kt);function du(e){return yo(e)?Lt(Fo(e)):function(e){return function(t){return Or(t,e)}}(e)}var hu=zi(),vu=zi(!0);function bu(){return[]}function mu(){return!1}var gu,yu=Vi((function(e,t){return e+t}),0),_u=Wi("ceil"),wu=Vi((function(e,t){return e/t}),1),Ou=Wi("floor"),Au=Vi((function(e,t){return e*t}),1),Su=Wi("round"),Tu=Vi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new xe(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Ia,Un.assign=_s,Un.assignIn=ws,Un.assignInWith=Os,Un.assignWith=As,Un.at=Ss,Un.before=ka,Un.bind=Pa,Un.bindAll=eu,Un.bindKey=ja,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},Un.chain=da,Un.chunk=function(e,t,n){t=(n?go(e,t,n):t===i)?1:mn(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=r(ln(o/t));a<o;)u[s++]=ti(e,a,a+=t);return u},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Et(Ga(n)?xi(n):[n],br(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=ao();return e=t?Tt(e,(function(e){if("function"!=typeof e[1])throw new xe(o);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var i=e[r];if(mt(i[0],this,n))return mt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Cs(e);return function(n){return ur(n,e,t)}}(sr(e,1))},Un.constant=tu,Un.countBy=ba,Un.create=function(e,t){var n=Vn(e);return null==t?n:rr(n,t)},Un.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.curryRight=function e(t,n,r){var o=Ji(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Un.debounce=Ca,Un.defaults=Ts,Un.defaultsDeep=Es,Un.defer=Na,Un.delay=Da,Un.difference=Bo,Un.differenceBy=Ho,Un.differenceWith=zo,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?fi(e,ao(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?fi(e,ao(t,3),!0):[]},Un.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&go(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vs(r))<0&&(r+=o),r=n>r?0:bs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Ga(e)?Ot:vr)(e,ao(t,3))},Un.flatMap=function(e,t){return br(Sa(e,t),1)},Un.flatMapDeep=function(e,t){return br(Sa(e,t),l)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),br(Sa(e,t),n)},Un.flatten=Wo,Un.flattenDeep=function(e){return null!=e&&e.length?br(e,l):[]},Un.flattenDepth=function(e,t){return null!=e&&e.length?br(e,t=t===i?1:vs(t)):[]},Un.flip=function(e){return Ji(e,512)},Un.flow=nu,Un.flowRight=ru,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:wr(e,Cs(e))},Un.functionsIn=function(e){return null==e?[]:wr(e,Ns(e))},Un.groupBy=wa,Un.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},Un.intersection=Ko,Un.intersectionBy=Jo,Un.intersectionWith=Xo,Un.invert=ks,Un.invertBy=Ps,Un.invokeMap=Oa,Un.iteratee=ou,Un.keyBy=Aa,Un.keys=Cs,Un.keysIn=Ns,Un.map=Sa,Un.mapKeys=function(e,t){var n={};return t=ao(t,3),yr(e,(function(e,r,i){ir(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=ao(t,3),yr(e,(function(e,r,i){ir(n,r,t(e,r,i))})),n},Un.matches=function(e){return Fr(sr(e,1))},Un.matchesProperty=function(e,t){return Ur(e,sr(t,1))},Un.memoize=Ra,Un.merge=Ds,Un.mergeWith=Rs,Un.method=au,Un.methodOf=su,Un.mixin=uu,Un.negate=Ma,Un.nthArg=function(e){return e=vs(e),Kr((function(t){return Br(t,e)}))},Un.omit=Ms,Un.omitBy=function(e,t){return Fs(e,Ma(ao(t)))},Un.once=function(e){return ka(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Un.over=lu,Un.overArgs=La,Un.overEvery=fu,Un.overSome=pu,Un.partial=Fa,Un.partialRight=Ua,Un.partition=Ta,Un.pick=Ls,Un.pickBy=Fs,Un.property=du,Un.propertyOf=function(e){return function(t){return null==e?i:Or(e,t)}},Un.pull=Zo,Un.pullAll=Qo,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,ao(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},Un.pullAt=ea,Un.range=hu,Un.rangeRight=vu,Un.rearg=Va,Un.reject=function(e,t){return(Ga(e)?Ot:vr)(e,Ma(ao(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=ao(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Gr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new xe(o);return Kr(e,t=t===i?t:vs(t))},Un.reverse=ta,Un.sampleSize=function(e,t,n){return t=(n?go(e,t,n):t===i)?1:vs(t),(Ga(e)?Yn:Xr)(e,t)},Un.set=function(e,t,n){return null==e?e:Yr(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Yr(e,t,n,r)},Un.shuffle=function(e){return(Ga(e)?Zn:ei)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&go(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),ti(e,t,n)):[]},Un.sortBy=Ea,Un.sortedUniq=function(e){return e&&e.length?oi(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?oi(e,ao(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&go(e,t,n)&&(t=n=i),(n=n===i?d:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=si(t))&&Zt(e)?yi(an(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new xe(o);return t=null==t?0:mn(vs(t),0),Kr((function(n){var r=n[t],i=yi(n,0,t);return r&&Et(i,r),mt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ti(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?fi(e,ao(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?fi(e,ao(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new xe(o);return ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ca(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=ha,Un.toArray=ds,Un.toPairs=Us,Un.toPairsIn=Vs,Un.toPath=function(e){return Ga(e)?Tt(e,Fo):cs(e)?[e]:xi(Lo(ys(e)))},Un.toPlainObject=gs,Un.transform=function(e,t,n){var r=Ga(e),i=r||Ja(e)||ls(e);if(t=ao(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ts(e)&&Za(o)?Vn(We(e)):{}}return(i?yt:yr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Ia(e,1)},Un.union=na,Un.unionBy=ra,Un.unionWith=ia,Un.uniq=function(e){return e&&e.length?ui(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ui(e,ao(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Un.unset=function(e,t){return null==e||ci(e,t)},Un.unzip=oa,Un.unzipWith=aa,Un.update=function(e,t,n){return null==e?e:li(e,t,bi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:li(e,t,bi(n),r)},Un.values=Bs,Un.valuesIn=function(e){return null==e?[]:$t(e,Ns(e))},Un.without=sa,Un.words=Zs,Un.wrap=function(e,t){return Fa(bi(t),e)},Un.xor=ua,Un.xorBy=ca,Un.xorWith=la,Un.zip=fa,Un.zipObject=function(e,t){return hi(e||[],t||[],er)},Un.zipObjectDeep=function(e,t){return hi(e||[],t||[],Yr)},Un.zipWith=pa,Un.entries=Us,Un.entriesIn=Vs,Un.extend=ws,Un.extendWith=Os,uu(Un,Un),Un.add=yu,Un.attempt=Qs,Un.camelCase=Hs,Un.capitalize=zs,Un.ceil=_u,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))==n?n:0),t!==i&&(t=(t=ms(t))==t?t:0),ar(ms(e),t,n)},Un.clone=function(e){return sr(e,4)},Un.cloneDeep=function(e){return sr(e,5)},Un.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||ur(e,t,Cs(t))},Un.deburr=$s,Un.defaultTo=function(e,t){return null==e||e!=e?t:e},Un.divide=wu,Un.endsWith=function(e,t,n){e=ys(e),t=si(t);var r=e.length,o=n=n===i?r:ar(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Un.eq=Ba,Un.escape=function(e){return(e=ys(e))&&K.test(e)?e.replace(W,Xt):e},Un.escapeRegExp=function(e){return(e=ys(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Un.every=function(e,t,n){var r=Ga(e)?wt:dr;return n&&go(e,t,n)&&(t=i),r(e,ao(t,3))},Un.find=ma,Un.findIndex=$o,Un.findKey=function(e,t){return jt(e,ao(t,3),yr)},Un.findLast=ga,Un.findLastIndex=Go,Un.findLastKey=function(e,t){return jt(e,ao(t,3),_r)},Un.floor=Ou,Un.forEach=ya,Un.forEachRight=_a,Un.forIn=function(e,t){return null==e?e:mr(e,ao(t,3),Ns)},Un.forInRight=function(e,t){return null==e?e:gr(e,ao(t,3),Ns)},Un.forOwn=function(e,t){return e&&yr(e,ao(t,3))},Un.forOwnRight=function(e,t){return e&&_r(e,ao(t,3))},Un.get=xs,Un.gt=Ha,Un.gte=za,Un.has=function(e,t){return null!=e&&ho(e,t,Er)},Un.hasIn=Is,Un.head=qo,Un.identity=iu,Un.includes=function(e,t,n,r){e=qa(e)?e:Bs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=mn(i+n,0)),us(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=mn(r+i,0)),Nt(e,t,i)},Un.inRange=function(e,t,n){return t=hs(t),n===i?(n=t,t=0):n=hs(n),function(e,t,n){return e>=gn(t,n)&&e<mn(t,n)}(e=ms(e),t,n)},Un.invoke=js,Un.isArguments=$a,Un.isArray=Ga,Un.isArrayBuffer=Wa,Un.isArrayLike=qa,Un.isArrayLikeObject=Ka,Un.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Sr(e)==m},Un.isBuffer=Ja,Un.isDate=Xa,Un.isElement=function(e){return ns(e)&&1===e.nodeType&&!os(e)},Un.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ls(e)||$a(e)))return!e.length;var t=po(e);if(t==O||t==x)return!e.size;if(Oo(e))return!Rr(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return jr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?jr(e,t,i,n):!!r},Un.isError=Ya,Un.isFinite=function(e){return"number"==typeof e&&hn(e)},Un.isFunction=Za,Un.isInteger=Qa,Un.isLength=es,Un.isMap=rs,Un.isMatch=function(e,t){return e===t||Cr(e,t,uo(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Cr(e,t,uo(t),n)},Un.isNaN=function(e){return is(e)&&e!=+e},Un.isNative=function(e){if(wo(e))throw new we("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=is,Un.isObject=ts,Un.isObjectLike=ns,Un.isPlainObject=os,Un.isRegExp=as,Un.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=f},Un.isSet=ss,Un.isString=us,Un.isSymbol=cs,Un.isTypedArray=ls,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ns(e)&&po(e)==P},Un.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==Sr(e)},Un.join=function(e,t){return null==e?"":vn.call(e,t)},Un.kebabCase=Gs,Un.last=Yo,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vs(n))<0?mn(r+o,0):gn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ct(e,Rt,o,!0)},Un.lowerCase=Ws,Un.lowerFirst=qs,Un.lt=fs,Un.lte=ps,Un.max=function(e){return e&&e.length?hr(e,iu,Tr):i},Un.maxBy=function(e,t){return e&&e.length?hr(e,ao(t,2),Tr):i},Un.mean=function(e){return Mt(e,iu)},Un.meanBy=function(e,t){return Mt(e,ao(t,2))},Un.min=function(e){return e&&e.length?hr(e,iu,Mr):i},Un.minBy=function(e,t){return e&&e.length?hr(e,ao(t,2),Mr):i},Un.stubArray=bu,Un.stubFalse=mu,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=Au,Un.nth=function(e,t){return e&&e.length?Br(e,vs(t)):i},Un.noConflict=function(){return ot._===this&&(ot._=Fe),this},Un.noop=cu,Un.now=xa,Un.pad=function(e,t,n){e=ys(e);var r=(t=vs(t))?on(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(fn(i),n)+e+Hi(ln(i),n)},Un.padEnd=function(e,t,n){e=ys(e);var r=(t=vs(t))?on(e):0;return t&&r<t?e+Hi(t-r,n):e},Un.padStart=function(e,t,n){e=ys(e);var r=(t=vs(t))?on(e):0;return t&&r<t?Hi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),_n(ys(e).replace(re,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&go(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hs(e),t===i?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=wn();return gn(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return Wr(e,t)},Un.reduce=function(e,t,n){var r=Ga(e)?xt:Ut,i=arguments.length<3;return r(e,ao(t,4),n,i,fr)},Un.reduceRight=function(e,t,n){var r=Ga(e)?It:Ut,i=arguments.length<3;return r(e,ao(t,4),n,i,pr)},Un.repeat=function(e,t,n){return t=(n?go(e,t,n):t===i)?1:vs(t),qr(ys(e),t)},Un.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,o=(t=mi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Fo(t[r])];a===i&&(r=o,a=n),e=Za(a)?a.call(e):a}return e},Un.round=Su,Un.runInContext=e,Un.sample=function(e){return(Ga(e)?Xn:Jr)(e)},Un.size=function(e){if(null==e)return 0;if(qa(e))return us(e)?on(e):e.length;var t=po(e);return t==O||t==x?e.size:Rr(e).length},Un.snakeCase=Ks,Un.some=function(e,t,n){var r=Ga(e)?kt:ni;return n&&go(e,t,n)&&(t=i),r(e,ao(t,3))},Un.sortedIndex=function(e,t){return ri(e,t)},Un.sortedIndexBy=function(e,t,n){return ii(e,t,ao(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ri(e,t);if(r<n&&Ba(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ri(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return ii(e,t,ao(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ri(e,t,!0)-1;if(Ba(e[n],t))return n}return-1},Un.startCase=Js,Un.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:ar(vs(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Un.subtract=Tu,Un.sum=function(e){return e&&e.length?Vt(e,iu):0},Un.sumBy=function(e,t){return e&&e.length?Vt(e,ao(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&go(e,t,n)&&(t=i),e=ys(e),t=Os({},t,r,Xi);var o,a,s=Os({},t.imports,r.imports,Xi),u=Cs(s),c=$t(s,u),l=0,f=t.interpolate||ye,p="__p += '",d=Te((t.escape||ye).source+"|"+f.source+"|"+(f===Y?fe:ye).source+"|"+(t.evaluate||ye).source+"|$","g"),h="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ye+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),p+=e.slice(l,u).replace(_e,Yt),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),p+="';\n";var v=Ne.call(t,"variable")&&t.variable;if(v){if(ce.test(v))throw new we("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(H,""):p).replace(z,"$1").replace($,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var b=Qs((function(){return Oe(u,h+"return "+p).apply(i,c)}));if(b.source=p,Ya(b))throw b;return b},Un.times=function(e,t){if((e=vs(e))<1||e>f)return[];var n=d,r=gn(e,d);t=ao(t),e-=d;for(var i=Bt(r,t);++n<e;)t(n);return i},Un.toFinite=hs,Un.toInteger=vs,Un.toLength=bs,Un.toLower=function(e){return ys(e).toLowerCase()},Un.toNumber=ms,Un.toSafeInteger=function(e){return e?ar(vs(e),-9007199254740991,f):0===e?e:0},Un.toString=ys,Un.toUpper=function(e){return ys(e).toUpperCase()},Un.trim=function(e,t,n){if((e=ys(e))&&(n||t===i))return Ht(e);if(!e||!(t=si(t)))return e;var r=an(e),o=an(t);return yi(r,Wt(r,o),qt(r,o)+1).join("")},Un.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.slice(0,sn(e)+1);if(!e||!(t=si(t)))return e;var r=an(e);return yi(r,0,qt(r,an(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=an(e);return yi(r,Wt(r,an(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(ts(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,r="omission"in t?si(t.omission):r}var a=(e=ys(e)).length;if(Zt(e)){var s=an(e);a=s.length}if(n>=a)return e;var u=n-on(r);if(u<1)return r;var c=s?yi(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),as(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Te(o.source,ys(pe.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var p=l.index;c=c.slice(0,p===i?u:p)}}else if(e.indexOf(si(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Un.unescape=function(e){return(e=ys(e))&&q.test(e)?e.replace(G,un):e},Un.uniqueId=function(e){var t=++De;return ys(e)+t},Un.upperCase=Xs,Un.upperFirst=Ys,Un.each=ya,Un.eachRight=_a,Un.first=qo,uu(Un,(gu={},yr(Un,(function(e,t){Ne.call(Un.prototype,t)||(gu[t]=e)})),gu),{chain:!1}),Un.VERSION="4.17.21",yt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),yt(["drop","take"],(function(e,t){zn.prototype[e]=function(n){n=n===i?1:mn(vs(n),0);var r=this.__filtered__&&!t?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=gn(n,r.__takeCount__):r.__views__.push({size:gn(n,d),type:e+(r.__dir__<0?"Right":"")}),r},zn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),yt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;zn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ao(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),yt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");zn.prototype[e]=function(){return this[n](1).value()[0]}})),yt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");zn.prototype[e]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(iu)},zn.prototype.find=function(e){return this.filter(e).head()},zn.prototype.findLast=function(e){return this.reverse().find(e)},zn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new zn(this):this.map((function(n){return kr(n,e,t)}))})),zn.prototype.reject=function(e){return this.filter(Ma(ao(e)))},zn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new zn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},zn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},zn.prototype.toArray=function(){return this.take(d)},yr(zn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Un[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof zn,c=s[0],l=u||Ga(t),f=function(e){var t=o.apply(Un,Et([e],s));return r&&p?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,v=u&&!d;if(!a&&l){t=v?t:new zn(this);var b=e.apply(t,s);return b.__actions__.push({func:ha,args:[f],thisArg:i}),new Hn(b,p)}return h&&v?e.apply(this,s):(b=this.thru(f),h?r?b.value()[0]:b.value():b)})})),yt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ga(i)?i:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),yr(zn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Ne.call(Pn,r)||(Pn[r]=[]),Pn[r].push({name:t,func:n})}})),Pn[Fi(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var e=new zn(this.__wrapped__);return e.__actions__=xi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xi(this.__views__),e},zn.prototype.reverse=function(){if(this.__filtered__){var e=new zn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},zn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=gn(t,e+a);break;case"takeRight":e=mn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,d=gn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return pi(e,this.__actions__);var h=[];e:for(;u--&&p<d;){for(var v=-1,b=e[c+=t];++v<f;){var m=l[v],g=m.iteratee,y=m.type,_=g(b);if(2==y)b=_;else if(!_){if(1==y)continue e;break e}}h[p++]=b}return h},Un.prototype.at=va,Un.prototype.chain=function(){return da(this)},Un.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=Vo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof zn){var t=e;return this.__actions__.length&&(t=new zn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(ta)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,at&&(Un.prototype[at]=function(){return this}),Un}();ot._=cn,(r=function(){return cn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},61100:(e,t,n)=>{var r=n(37772);e.exports=function(){return r.Date.now()}},7642:(e,t,n)=>{var r=n(51704),i=n(29259),o=n(4795),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},72565:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},o=e=>1==e?"argument":"arguments",a=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let s=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),c={has:(t,n)=>n in e||n in r,get(c,l,f){if(l in r)return r[l];if(!(l in e))return;let p=e[l];if("function"==typeof p)if("function"==typeof t[l])p=a(e,e[l],t[l]);else if(s(n,l)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:a},t))}))})(l,n[l]);p=a(e,e[l],t)}else p=p.bind(e);else if("object"==typeof p&&null!==p&&(s(t,l)||s(n,l)))p=u(p,t[l],n[l]);else{if(!s(n,"*"))return Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),p;p=u(p,t[l],n["*"])}return r[l]=p,p},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},l=Object.create(e);return new Proxy(l,c)},c=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),l=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),f=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,o,a=!1,s=new Promise((e=>{i=function(t){a=!0,e(t)}}));try{o=e(t,n,i)}catch(e){o=Promise.reject(e)}const u=!0!==o&&((c=o)&&"object"==typeof c&&"function"==typeof c.then);var c;if(!0!==o&&!u&&!a)return!1;return(u?o:s).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),p=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},d=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=p.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},h={devtools:{network:{onRequestFinished:c(l)}},runtime:{onMessage:c(f),onMessageExternal:c(f),sendMessage:d.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:d.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},u(e,h,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(13472),t=n(72604);const r={GLOBAL_MINIMAL_SHARED_STORE:"jam-global-minimal-shared-store-3",GLOBAL_MINIMAL_SHARED_STORE_PREVIOUS:"jam-global-minimal-shared-store-2",POPUP_WINDOW:"jam-popup-window-v3",PER_PROFILE_INJECTED_SCRIPTS_VERSIONED:"jam-content-script-per-profile-storage-versioned-v9",PER_PROFILE_INJECTED_SCRIPTS_VERSIONED_PREVIOUS:"jam-content-script-per-profile-storage-versioned-v8",PER_PROFILE_INJECTED_SCRIPTS:"jam-content-script-per-profile-storage",BG_PAGE_UNLOADED_TS:"background_unloaded_at",BG_PAGE_RELOADED_TS:"background_reloaded_at"},i=["passport","phone","address","street","apt","apartment","email","ssn"];i.concat(["auth","cookie","password","passcode","secret","access","token","key","code"]);var o=n(76635);function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var s={};function u(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:s}var c=Object.assign,l=Object.getOwnPropertyDescriptor,f=Object.defineProperty,p=Object.prototype,d=[];Object.freeze(d);var h={};Object.freeze(h);var v="undefined"!=typeof Proxy,b=Object.toString();function m(){v||a("Proxy not available")}function g(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var y=function(){};function _(e){return"function"==typeof e}function w(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function O(e){return null!==e&&"object"==typeof e}function A(e){if(!O(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===b}function S(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function T(e,t,n){f(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function E(e,t,n){f(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function x(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return O(e)&&!0===e[n]}}function I(e){return e instanceof Map}function k(e){return e instanceof Set}var P=void 0!==Object.getOwnPropertySymbols,j="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:P?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function C(e){return null===e?null:"object"==typeof e?""+e:e}function N(e,t){return p.hasOwnProperty.call(e,t)}var D=Object.getOwnPropertyDescriptors||function(e){var t={};return j(e).forEach((function(n){t[n]=l(e,n)})),t};function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,U(e,t)}function U(e,t){return U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},U(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z=Symbol("mobx-stored-annotations");function $(e){return Object.assign((function(t,n){G(t,n,e)}),e)}function G(e,t,n){N(e,z)||T(e,z,L({},e[z])),function(e){return e.annotationType_===Q}(n)||(e[z][t]=n)}var W=Symbol("mobx administration"),q=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return vt(this)},t.reportChanged=function(){dt(),bt(this),ht()},t.toString=function(){return this.name_},e}(),K=x("Atom",q);function J(e,t,n){void 0===t&&(t=y),void 0===n&&(n=y);var r=new q(e);return t!==y&&Lt(Rt,r,t,undefined),n!==y&&Mt(r,n),r}var X={identity:function(e,t){return e===t},structural:function(e,t){return Xn(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Xn(e,t,1)}};function Y(e,t,n){return qt(e)?e:Array.isArray(e)?ke.array(e,{name:n}):A(e)?ke.object(e,void 0,{name:n}):I(e)?ke.map(e,{name:n}):k(e)?ke.set(e,{name:n}):"function"!=typeof e||jt(e)||$t(e)?e:S(e)?Ht(e):kt(n,e)}function Z(e){return e}var Q="override";function ee(e,t){return{annotationType_:e,options_:t,make_:te,extend_:ne}}function te(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(jt(n.value))return 1;var o=re(e,this,t,n,!1);return f(r,t,o),2}function ne(e,t,n,r){var i=re(e,this,t,n);return e.defineProperty_(t,i,r)}function re(e,t,n,r,i){var o,a,s,u,c,l,f,p;void 0===i&&(i=ct.safeDescriptors),p=r,t.annotationType_,p.value;var d,h=r.value;return null!=(o=t.options_)&&o.bound&&(h=h.bind(null!=(d=e.proxy_)?d:e.target_)),{value:Ue(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),h,null!=(u=null==(c=t.options_)?void 0:c.autoAction)&&u,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function ie(e,t){return{annotationType_:e,options_:t,make_:oe,extend_:ae}}function oe(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!N(e.target_,t)||!$t(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if($t(n.value))return 1;var o=se(e,this,0,n,!1,!1);return f(r,t,o),2}function ae(e,t,n,r){var i,o=se(e,this,0,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function se(e,t,n,r,i,o){var a;void 0===o&&(o=ct.safeDescriptors),a=r,t.annotationType_,a.value;var s,u=r.value;return $t(u)||(u=Ht(u)),i&&((u=u.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0),{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function ue(e,t){return{annotationType_:e,options_:t,make_:ce,extend_:le}}function ce(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function le(e,t,n,r){return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,L({},this.options_,{get:n.get,set:n.set}),r);var i}function fe(e,t){return{annotationType_:e,options_:t,make_:pe,extend_:de}}function pe(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function de(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:Y,r)}var he=ve();function ve(e){return{annotationType_:"true",options_:e,make_:be,extend_:me}}function be(e,t,n,r){var i,o,a,s;if(n.get)return Ne.make_(e,t,n,r);if(n.set){var u=Ue(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!ct.safeDescriptors||e.isPlainObject_,set:u})?0:2:(f(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return S(n.value)?(null!=(s=this.options_)&&s.autoBind?Ht.bound:Ht).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?kt.bound:kt).make_(e,t,n,r);var c,l=!1===(null==(i=this.options_)?void 0:i.deep)?ke.ref:ke;return"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_)),l.make_(e,t,n,r)}function me(e,t,n,r){var i,o,a;return n.get?Ne.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!ct.safeDescriptors||e.isPlainObject_,set:Ue(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),(!1===(null==(o=this.options_)?void 0:o.deep)?ke.ref:ke).extend_(e,t,n,r))}var ge={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ye(e){return e||ge}Object.freeze(ge);var _e=fe("observable"),we=fe("observable.ref",{enhancer:Z}),Oe=fe("observable.shallow",{enhancer:function(e,t,n){return null==e||Mn(e)||wn(e)||En(e)||kn(e)?e:Array.isArray(e)?ke.array(e,{name:n,deep:!1}):A(e)?ke.object(e,void 0,{name:n,deep:!1}):I(e)?ke.map(e,{name:n,deep:!1}):k(e)?ke.set(e,{name:n,deep:!1}):void 0}}),Ae=fe("observable.struct",{enhancer:function(e,t){return Xn(e,t)?t:e}}),Se=$(_e);function Te(e){return!0===e.deep?Y:!1===e.deep?Z:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:Y;var t,n,r}function Ee(e,t,n){if(!w(t))return qt(e)?e:A(e)?ke.object(e,t,n):Array.isArray(e)?ke.array(e,t):I(e)?ke.map(e,t):k(e)?ke.set(e,t):"object"==typeof e&&null!==e?e:ke.box(e,t);G(e,t,_e)}Object.assign(Ee,Se);var xe,Ie,ke=c(Ee,{box:function(e,t){var n=ye(t);return new We(e,Te(n),n.name,!0,n.equals)},array:function(e,t){var n=ye(t);return(!1===ct.useProxies||!1===n.proxy?Gn:hn)(e,Te(n),n.name)},map:function(e,t){var n=ye(t);return new Tn(e,Te(n),n.name)},set:function(e,t){var n=ye(t);return new In(e,Te(n),n.name)},object:function(e,t,n){return function(e,t,n,r){var i=D(t),o=Nn(e,r)[W];dt();try{j(i).forEach((function(e){o.extend_(e,i[e],!n||!(e in n)||n[e])}))}finally{ht()}return e}(!1===ct.useProxies||!1===(null==n?void 0:n.proxy)?Nn({},n):function(e,t){var n,r;return m(),null!=(r=(n=(e=Nn(e,t))[W]).proxy_)?r:n.proxy_=new Proxy(e,nn)}({},n),e,t)},ref:$(we),shallow:$(Oe),deep:Se,struct:$(Ae)}),Pe="computed",je=ue(Pe),Ce=ue("computed.struct",{equals:X.structural}),Ne=function(e,t){if(w(t))return G(e,t,je);if(A(e))return $(ue(Pe,e));var n=A(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new Ke(n)};Object.assign(Ne,je),Ne.struct=$(Ce);var De,Re=0,Me=1,Le=null!=(xe=null==(Ie=l((function(){}),"name"))?void 0:Ie.configurable)&&xe,Fe={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ue(e,t,n,r){function i(){return Ve(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,Le&&(Fe.value=e,Object.defineProperty(i,"name",Fe)),i}function Ve(e,t,n,r,i){var o=function(e,t,n,r){var i=ct.trackingDerivation,o=!t||!i;dt();var a=ct.allowStateChanges;o&&(nt(),a=He(!0));var s={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:it(!0),notifySpy_:!1,startTime_:0,actionId_:Me++,parentActionId_:Re};return Re=s.actionId_,s}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){Re!==e.actionId_&&a(30),Re=e.parentActionId_,void 0!==e.error_&&(ct.suppressReactionErrors=!0),ze(e.prevAllowStateChanges_),ot(e.prevAllowStateReads_),ht(),e.runAsAction_&&rt(e.prevDerivation_),ct.suppressReactionErrors=!1}(o)}}function Be(e,t){var n=He(e);try{return t()}finally{ze(n)}}function He(e){var t=ct.allowStateChanges;return ct.allowStateChanges=e,t}function ze(e){ct.allowStateChanges=e}De=Symbol.toPrimitive;var $e,Ge,We=function(e,t){function n(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=X.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}F(n,e);var r=n.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==ct.UNCHANGED&&this.setNewValue_(e)},r.prepareNewValue_=function(e){if(rn(this)){var t=an(this,{object:this,type:fn,newValue:e});if(!t)return ct.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?ct.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),sn(this)&&cn(this,{type:fn,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return on(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:fn,newValue:this.value_,oldValue:void 0}),un(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return C(this.get())},r[t]=function(){return this.valueOf()},n}(q,De),qe=x("ObservableValue",We),Ke=function(e){function t(e){this.dependenciesState_=$e.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$e.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Xe(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Ge.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||a(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Ue("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?X.structural:X.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){!function(e){e.lowestObserverState_===$e.UP_TO_DATE_&&(e.lowestObserverState_=$e.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&(e.dependenciesState_=$e.POSSIBLY_STALE_,e.onBecomeStale_())})))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function(){if(this.isComputing_&&a(32,this.name_,this.derivation),0!==ct.inBatch||0!==this.observers_.size||this.keepAlive_){if(vt(this),Ze(this)){var e=ct.trackingContext;this.keepAlive_&&!e&&(ct.trackingContext=this),this.trackAndCompute()&&function(e){e.lowestObserverState_!==$e.STALE_&&(e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===$e.POSSIBLY_STALE_?t.dependenciesState_=$e.STALE_:t.dependenciesState_===$e.UP_TO_DATE_&&(e.lowestObserverState_=$e.UP_TO_DATE_)})))}(this),ct.trackingContext=e}}else Ze(this)&&(this.warnAboutUntrackedRead_(),dt(),this.value_=this.computeValue_(!1),ht());var t=this.value_;if(Ye(t))throw t.cause;return t},n.set=function(e){if(this.setter_){this.isRunningSetter_&&a(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else a(34,this.name_)},n.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===$e.NOT_TRACKING_,n=this.computeValue_(!0),r=t||Ye(e)||Ye(n)||!this.equals_(e,n);return r&&(this.value_=n),r},n.computeValue_=function(e){this.isComputing_=!0;var t,n=He(!1);if(e)t=Qe(this,this.derivation,this.scope_);else if(!0===ct.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Xe(e)}return ze(n),this.isComputing_=!1,t},n.suspend_=function(){this.keepAlive_||(et(this),this.value_=void 0)},n.observe_=function(e,t){var n=this,r=!0,i=void 0;return function(e,t){var n,r;void 0===t&&(t=h);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var a=Nt(t),s=!1;i=new mt(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(u)})))}),t.onError,t.requiresObservable)}else i=new mt(o,(function(){this.track(u)}),t.onError,t.requiresObservable);function u(){e(i)}return i.schedule_(),i.getDisposer_()}((function(){var o=n.get();if(!r||t){var a=nt();e({observableKind:"computed",debugObjectName:n.name_,type:fn,object:n,newValue:o,oldValue:i}),rt(a)}r=!1,i=o}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return C(this.get())},n[e]=function(){return this.valueOf()},t}(Symbol.toPrimitive),Je=x("ComputedValue",Ke);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}($e||($e={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Ge||(Ge={}));var Xe=function(e){this.cause=void 0,this.cause=e};function Ye(e){return e instanceof Xe}function Ze(e){switch(e.dependenciesState_){case $e.UP_TO_DATE_:return!1;case $e.NOT_TRACKING_:case $e.STALE_:return!0;case $e.POSSIBLY_STALE_:for(var t=it(!0),n=nt(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(Je(a)){if(ct.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return rt(n),ot(t),!0}if(e.dependenciesState_===$e.STALE_)return rt(n),ot(t),!0}}return at(e),rt(n),ot(t),!1}}function Qe(e,t,n){var r=it(!0);at(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++ct.runId;var i,o=ct.trackingDerivation;if(ct.trackingDerivation=e,ct.inBatch++,!0===ct.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new Xe(e)}return ct.inBatch--,ct.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=$e.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var u=t[o];0===u.diffValue_&&ft(u,e),u.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,lt(c,e))}r!==$e.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),ot(r),i}function et(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)ft(t[n],e);e.dependenciesState_=$e.NOT_TRACKING_}function tt(e){var t=nt();try{return e()}finally{rt(t)}}function nt(){var e=ct.trackingDerivation;return ct.trackingDerivation=null,e}function rt(e){ct.trackingDerivation=e}function it(e){var t=ct.allowStateReads;return ct.allowStateReads=e,t}function ot(e){ct.allowStateReads=e}function at(e){if(e.dependenciesState_!==$e.UP_TO_DATE_){e.dependenciesState_=$e.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=$e.UP_TO_DATE_}}var st=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},ut=!0,ct=function(){var e=u();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ut=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new st).version&&(ut=!1),ut?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new st):(setTimeout((function(){a(35)}),1),new st)}();function lt(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function ft(e,t){e.observers_.delete(t),0===e.observers_.size&&pt(e)}function pt(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,ct.pendingUnobservations.push(e))}function dt(){ct.inBatch++}function ht(){if(0==--ct.inBatch){gt();for(var e=ct.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Ke&&n.suspend_())}ct.pendingUnobservations=[]}}function vt(e){var t=ct.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&ct.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&ct.inBatch>0&&pt(e),!1)}function bt(e){e.lowestObserverState_!==$e.STALE_&&(e.lowestObserverState_=$e.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===$e.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=$e.STALE_})))}var mt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=$e.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Ge.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,ct.pendingReactions.push(this),gt())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){dt(),this.isScheduled_=!1;var e=ct.trackingContext;if(ct.trackingContext=this,Ze(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}ct.trackingContext=e,ht()}},t.track=function(e){if(!this.isDisposed_){dt(),this.isRunning_=!0;var t=ct.trackingContext;ct.trackingContext=this;var n=Qe(this,e,void 0);ct.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&et(this),Ye(n)&&this.reportExceptionInDerivation_(n.cause),ht()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(ct.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";ct.suppressReactionErrors||console.error(n,e),ct.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(dt(),et(this),ht()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[W]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){a("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=Qt(n);if(!i)return a("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===Ge.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled"),i.isTracing_=e?Ge.BREAK:Ge.LOG}(this,e)},e}();function gt(){ct.inBatch>0||ct.isRunningReactions||yt()}function yt(){ct.isRunningReactions=!0;for(var e=ct.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}ct.isRunningReactions=!1}var _t=x("Reaction",mt),wt="action",Ot="autoAction",At=ee(wt),St=ee("action.bound",{bound:!0}),Tt=ee(Ot,{autoAction:!0}),Et=ee("autoAction.bound",{autoAction:!0,bound:!0});function xt(e){return function(t,n){return _(t)?Ue(t.name||"<unnamed action>",t,e):_(n)?Ue(t,n,e):w(n)?G(t,n,e?Tt:At):w(t)?$(ee(e?Ot:wt,{name:t,autoAction:e})):void 0}}var It=xt(!1);Object.assign(It,At);var kt=xt(!0);function Pt(e){return Ve(e.name,!1,e,this,void 0)}function jt(e){return _(e)&&!0===e.isMobxAction}Object.assign(kt,Tt),It.bound=$(St),kt.bound=$(Et);var Ct=function(e){return e()};function Nt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ct}function Dt(e,t,n){var r;void 0===n&&(n=h);var i,o,a,s,u=null!=(r=n.name)?r:"Reaction",c=It(u,n.onError?(i=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){i.call(this,e)}}):t),l=!n.scheduler&&!n.delay,f=Nt(n),p=!0,d=!1,v=n.compareStructural?X.structural:n.equals||X.default,b=new mt(u,(function(){p||l?m():d||(d=!0,f(m))}),n.onError,n.requiresObservable);function m(){if(d=!1,!b.isDisposed_){var t=!1;b.track((function(){var n=Be(!1,(function(){return e(b)}));t=p||!v(a,n),s=a,a=n})),(p&&n.fireImmediately||!p&&t)&&c(a,s,b),p=!1}}return b.schedule_(),b.getDisposer_()}var Rt="onBO";function Mt(e,t,n){return Lt("onBUO",e,t,n)}function Lt(e,t,n,r){var i="function"==typeof r?Wn(t,n):Wn(t),o=_(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var Ft=0;function Ut(){this.message="FLOW_CANCELLED"}Ut.prototype=Object.create(Error.prototype);var Vt=ie("flow"),Bt=ie("flow.bound",{bound:!0}),Ht=Object.assign((function(e,t){if(w(t))return G(e,t,Vt);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++Ft,a=It(r+" - runid: "+o+" - init",n).apply(t,i),s=void 0,u=new Promise((function(t,n){var i=0;function u(e){var t;s=void 0;try{t=It(r+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(e){return n(e)}l(t)}function c(e){var t;s=void 0;try{t=It(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(e){return n(e)}l(t)}function l(e){if(!_(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(u,c);e.then(l,n)}e=n,u(void 0)}));return u.cancel=It(r+" - runid: "+o+" - cancel",(function(){try{s&&zt(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(y,y),zt(n),e(new Ut)}catch(t){e(t)}})),u};return i.isMobXFlow=!0,i}),Vt);function zt(e){_(e.cancel)&&e.cancel()}function $t(e){return!0===(null==e?void 0:e.isMobXFlow)}function Gt(e,t,n){var r;return En(e)||wn(e)||qe(e)?r=qn(e):Mn(e)&&(r=qn(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function Wt(e,t,n){return _(n)?function(e,t,n){return qn(e,t).intercept_(n)}(e,t,n):function(e,t){return qn(e).intercept_(t)}(e,t)}function qt(e){return function(e,t){return!!e&&(void 0!==t?!!Mn(e)&&e[W].values_.has(t):Mn(e)||!!e[W]||K(e)||_t(e)||Je(e))}(e)}function Kt(e){return Mn(e)?e[W].keys_():En(e)||kn(e)?Array.from(e.keys()):wn(e)?e.map((function(e,t){return t})):void a(5)}function Jt(e){return Mn(e)?Kt(e).map((function(t){return e[t]})):En(e)?Kt(e).map((function(t){return e.get(t)})):kn(e)?Array.from(e.values()):wn(e)?e.slice():void a(6)}function Xt(e,t,n){if(2!==arguments.length||kn(e))Mn(e)?e[W].set_(t,n):En(e)?e.set(t,n):kn(e)?e.add(t):wn(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&a("Invalid index: '"+t+"'"),dt(),t>=e.length&&(e.length=t+1),e[t]=n,ht()):a(8);else{dt();var r=t;try{for(var i in r)Xt(e,i,r[i])}finally{ht()}}}function Yt(e,t,n){if(Mn(e))return e[W].defineProperty_(t,n);a(39)}function Zt(e,t,n,r){return _(n)?function(e,t,n,r){return qn(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return qn(e).observe_(t,n)}(e,t,n)}function Qt(e){switch(e.length){case 0:return ct.trackingDerivation;case 1:return Wn(e[0]);case 2:return Wn(e[0],e[1])}}function en(e,t){void 0===t&&(t=void 0),dt();try{return e.apply(t)}finally{ht()}}function tn(e){return e[W]}Ht.bound=$(Bt);var nn={has:function(e,t){return tn(e).has_(t)},get:function(e,t){return tn(e).get_(t)},set:function(e,t,n){var r;return!!w(t)&&(null==(r=tn(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!w(t)&&(null==(n=tn(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=tn(e).defineProperty_(t,n))||r},ownKeys:function(e){return tn(e).ownKeys_()},preventExtensions:function(e){a(13)}};function rn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function on(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function an(e,t){var n=nt();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&a(14),t);i++);return t}finally{rt(n)}}function sn(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function un(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),g((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function cn(e,t){var n=nt(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);rt(n)}}var ln="splice",fn="update",pn={get:function(e,t){var n=e[W];return t===W?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?N(vn,t)?vn[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[W];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){a(15)}},dn=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new q(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return on(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),un(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&a("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&a(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&$n(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=d),rn(this)){var o=an(this,{object:this.proxy_,type:ln,index:e,removedCount:t,added:n});if(!o)return d;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=sn(this),o=i||r?{observableKind:"array",object:this.proxy_,type:fn,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&cn(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=sn(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:ln,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&cn(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(rn(this)){var i=an(this,{type:fn,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):a(17,e,n.length)},e}();function hn(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),m();var i=new dn(n,t,r,!1);E(i.values_,W,i);var o=new Proxy(i.values_,pn);if(i.proxy_=o,e&&e.length){var a=He(!0);i.spliceWithArray_(0,0,e),ze(a)}return o}var vn={clear:function(){return this.splice(0)},replace:function(e){var t=this[W];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[W];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[W].spliceWithArray_(e,t,n)},push:function(){for(var e=this[W],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[W].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[W],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return ct.trackingDerivation&&a(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){ct.trackingDerivation&&a(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[W],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function bn(e,t){"function"==typeof Array.prototype[e]&&(vn[e]=t(e))}function mn(e){return function(){var t=this[W];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function gn(e){return function(t,n){var r=this,i=this[W];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function yn(e){return function(){var t=this,n=this[W];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}bn("concat",mn),bn("flat",mn),bn("includes",mn),bn("indexOf",mn),bn("join",mn),bn("lastIndexOf",mn),bn("slice",mn),bn("toString",mn),bn("toLocaleString",mn),bn("every",gn),bn("filter",gn),bn("find",gn),bn("findIndex",gn),bn("flatMap",gn),bn("forEach",gn),bn("map",gn),bn("some",gn),bn("reduce",yn),bn("reduceRight",yn);var _n=x("ObservableArrayAdministration",dn);function wn(e){return O(e)&&_n(e[W])}var On={},An="add",Sn="delete",Tn=function(e,t){function n(e,t,n){var r=this;void 0===t&&(t=Y),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[W]=On,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,_(Map)||a(18),this.keysAtom_=J("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Be(!0,(function(){r.merge(e)}))}var r=n.prototype;return r.has_=function(e){return this.data_.has(e)},r.has=function(e){var t=this;if(!ct.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new We(this.has_(e),Z,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Mt(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},r.set=function(e,t){var n=this.has_(e);if(rn(this)){var r=an(this,{type:n?fn:An,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},r.delete=function(e){var t=this;if(this.keysAtom_,rn(this)&&!an(this,{type:Sn,object:this,name:e}))return!1;if(this.has_(e)){var n=sn(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Sn,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return en((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&cn(this,r),!0}return!1},r.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==ct.UNCHANGED){var r=sn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:fn,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&cn(this,i)}},r.addValue_=function(e,t){var n=this;this.keysAtom_,en((function(){var r,i=new We(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=sn(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:An,object:this,name:e,newValue:t}:null;r&&cn(this,i)},r.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var e=this,t=this.keys();return Qn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},r.entries=function(){var e=this,t=this.keys();return Qn({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function(e,t){for(var n,r=H(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},r.merge=function(e){var t=this;return En(e)&&(e=new Map(e)),en((function(){A(e)?function(e){var t=Object.keys(e);if(!P)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return p.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):I(e)?(e.constructor!==Map&&a(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&a(20,e)})),this},r.clear=function(){var e=this;en((function(){tt((function(){for(var t,n=H(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.replace=function(e){var t=this;return en((function(){for(var n,r=function(e){if(I(e)||En(e))return e;if(Array.isArray(e))return new Map(e);if(A(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return a(21,e)}(e),i=new Map,o=!1,s=H(t.data_.keys());!(n=s()).done;){var u=n.value;if(!r.has(u))if(t.delete(u))o=!0;else{var c=t.data_.get(u);i.set(u,c)}}for(var l,f=H(r.entries());!(l=f()).done;){var p=l.value,d=p[0],h=p[1],v=t.data_.has(d);if(t.set(d,h),t.data_.has(d)){var b=t.data_.get(d);i.set(d,b),v||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var m=t.data_.keys(),g=i.keys(),y=m.next(),_=g.next();!y.done;){if(y.value!==_.value){t.keysAtom_.reportChanged();break}y=m.next(),_=g.next()}t.data_=i})),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(e,t){return un(this,e)},r.intercept_=function(e){return on(this,e)},M(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),En=x("ObservableMap",Tn),xn={},In=function(e,t){function n(e,t,n){void 0===t&&(t=Y),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[W]=xn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,_(Set)||a(22),this.atom_=J(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.clear=function(){var e=this;en((function(){tt((function(){for(var t,n=H(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.forEach=function(e,t){for(var n,r=H(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},r.add=function(e){var t=this;if(this.atom_,rn(this)&&!an(this,{type:An,object:this,newValue:e}))return this;if(!this.has(e)){en((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=sn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:An,object:this,newValue:e}:null;n&&cn(this,r)}return this},r.delete=function(e){var t=this;if(rn(this)&&!an(this,{type:Sn,object:this,oldValue:e}))return!1;if(this.has(e)){var n=sn(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Sn,object:this,oldValue:e}:null;return en((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&cn(this,r),!0}return!1},r.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},r.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Qn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return Qn({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},r.replace=function(e){var t=this;return kn(e)&&(e=new Set(e)),en((function(){Array.isArray(e)||k(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&a("Cannot initialize set from "+e)})),this},r.observe_=function(e,t){return un(this,e)},r.intercept_=function(e){return on(this,e)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[e]=function(){return this.values()},M(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),kn=x("ObservableSet",In),Pn=Object.create(null),jn="remove",Cn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=he),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new q("ObservableObject.keys"),this.isPlainObject_=A(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof Ke)return n.set(t),!0;if(rn(this)){var r=an(this,{type:fn,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==ct.UNCHANGED){var i=sn(this),o=i?{type:fn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&cn(this,o)}return!0},t.get_=function(e){return ct.trackingDerivation&&!N(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),N(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!ct.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new We(e in this.target_,Z,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[z])&&n[e])return;a(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==p;){var i=l(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}Ln(this,0,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&Ln(this,0,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{dt();var r=this.delete_(e);if(!r)return r;if(rn(this)){var i=an(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=L({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else f(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{ht()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{dt();var i=this.delete_(e);if(!i)return i;if(rn(this)){var o=an(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:t});if(!o)return null;t=o.newValue}var a=Rn(e),s={configurable:!ct.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else f(this.target_,e,s);var u=new We(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{ht()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{dt();var r=this.delete_(e);if(!r)return r;if(rn(this)&&!an(this,{object:this.proxy_||this.target_,name:e,type:An,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Rn(e),o={configurable:!ct.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else f(this.target_,e,o);this.values_.set(e,new Ke(t)),this.notifyPropertyAddition_(e,void 0)}finally{ht()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!N(this.target_,e))return!0;if(rn(this)&&!an(this,{object:this.proxy_||this.target_,name:e,type:jn}))return null;try{var n,r;dt();var i,o=sn(this),a=this.values_.get(e),s=void 0;if(!a&&o&&(s=null==(i=l(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof We&&(s=a.value_),bt(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var u={type:jn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};o&&cn(this,u)}}finally{ht()}return!0},t.observe_=function(e,t){return un(this,e)},t.intercept_=function(e){return on(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=sn(this);if(i){var o=i?{type:An,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&cn(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),j(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Nn(e,t){var n;if(N(e,W))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Cn(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:ve(e):void 0}(t));return T(e,W,i),e}var Dn=x("ObservableObjectAdministration",Cn);function Rn(e){return Pn[e]||(Pn[e]={get:function(){return this[W].getObservablePropValue_(e)},set:function(t){return this[W].setObservablePropValue_(e,t)}})}function Mn(e){return!!O(e)&&Dn(e[W])}function Ln(e,t,n){var r;null==(r=e.target_[z])||delete r[n]}var Fn,Un,Vn=0,Bn=function(){};Fn=Bn,Un=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Fn.prototype,Un):void 0!==Fn.prototype.__proto__?Fn.prototype.__proto__=Un:Fn.prototype=Un;var Hn=function(e,t,n){function r(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new dn(r,n,i,!0);if(a.proxy_=V(o),E(V(o),W,a),t&&t.length){var s=He(!0);o.spliceWithArray(0,0,t),ze(s)}return o}F(r,e);var i=r.prototype;return i.concat=function(){this[W].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return wn(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return Qn({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},M(r,[{key:"length",get:function(){return this[W].getArrayLength_()},set:function(e){this[W].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(Bn,Symbol.toStringTag,Symbol.iterator);function zn(e){f(Hn.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[W].get_(e)},set:function(t){this[W].set_(e,t)}}}(e))}function $n(e){if(e>Vn){for(var t=Vn;t<e+100;t++)zn(t);Vn=e}}function Gn(e,t,n){return new Hn(e,t,n)}function Wn(e,t){if("object"==typeof e&&null!==e){if(wn(e))return void 0!==t&&a(23),e[W].atom_;if(kn(e))return e[W];if(En(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||a(25,t,Kn(e)),n}if(Mn(e)){if(!t)return a(26);var r=e[W].values_.get(t);return r||a(27,t,Kn(e)),r}if(K(e)||Je(e)||_t(e))return e}else if(_(e)&&_t(e[W]))return e[W];a(28)}function qn(e,t){return e||a(29),void 0!==t?qn(Wn(e,t)):K(e)||Je(e)||_t(e)||En(e)||kn(e)?e:e[W]?e[W]:void a(24,e)}function Kn(e,t){var n;if(void 0!==t)n=Wn(e,t);else{if(jt(e))return e.name;n=Mn(e)||En(e)||kn(e)?qn(e):Wn(e)}return n.name_}Object.entries(vn).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&T(Hn.prototype,t,n)})),$n(1e3);var Jn=p.toString;function Xn(e,t,n){return void 0===n&&(n=-1),Yn(e,t,n)}function Yn(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=Jn.call(e);if(a!==Jn.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Zn(e),t=Zn(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(_(u)&&u instanceof u&&_(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return i[l]===t;if(r.push(e),i.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Yn(e[l],t[l],n-1,r,i))return!1}else{var f,p=Object.keys(e);if(l=p.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!N(t,f=p[l])||!Yn(e[f],t[f],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Zn(e){return wn(e)?e.slice():I(e)||En(e)||k(e)||kn(e)?Array.from(e.entries()):e}function Qn(e){return e[Symbol.iterator]=er,e}function er(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===u()[e]&&a("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Kn},$mobx:W});var tr;!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(tr||(tr={}));var nr=function(e,t){return nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},nr(e,t)};function rr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}nr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ir=function(){return ir=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ir.apply(this,arguments)};function or(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ar(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function sr(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ar(arguments[t]));return e}function ur(e){return Kr(e,1),Jr(e).type}function cr(e,t){return Kr(e,1),gi(),Jr(e).onPatch(t)}function lr(e,t){Kr(e,1),mi(),Jr(e).applyPatches(ui(t))}function fr(e,t){return Kr(e,1),Jr(e).applySnapshot(t)}function pr(e,t){void 0===t&&(t=!0),Kr(e,1);var n=Jr(e);return t?n.snapshot:n.type.getSnapshot(n,!1)}function dr(e){return Kr(e,1),Jr(e).root.storedValue}var hr=function(){function e(e,t,n,r){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:Hr.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new hi),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=J("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Oi(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Hr.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Hr.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=J("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===Hr.CREATED){if(this.parent){if(this.parent.state!==Hr.FINALIZED)return;this.fireHook(tr.afterAttach)}this.state=Hr.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Hr.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(tr.beforeDestroy)}}),e}(),vr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(e){throw a.state=Hr.DEAD,e}return a.state=Hr.CREATED,a.finalizeCreation(),a}return rr(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw ii("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.parent!==e,r=this.subpath!==t;(n||r)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==Hr.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(hr);vr.prototype.die=It(vr.prototype.die);var br,mr,gr=1,yr={onError:function(e){throw e}},_r=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;if(Object.defineProperty(a,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++gr}),Object.defineProperty(a,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(a,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a._snapshotComputed=Ne((function(){return a.getSnapshot()})),a.unbox=a.unbox.bind(a),a._initialSnapshot=o,a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new $r),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s){var u=a._childNodes[a.identifierAttribute];u&&(s=u.value)}if("string"!=typeof s&&"number"!=typeof s)throw ii("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=Ao(s),a.unnormalizedIdentifier=s}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return rr(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this._observableInstanceState&&this.createObservableInstance()}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this._observableInstanceState=1;for(var n=[],r=this.parent;r&&0===r._observableInstanceState;)n.unshift(r),r=r.parent;try{for(var i=or(n),o=i.next();!o.done;o=i.next())o.value.createObservableInstanceIfNeeded()}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var a=this.type;try{this.storedValue=a.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,a.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=Hr.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=ni,this.state=Hr.CREATED,this.fireHook(tr.afterCreate),this.finalizeCreation()}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(tr.beforeDetach);var e=this.state;this.state=Hr.DETACHING;var t=this.root,n=t.environment,r=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e!==this.parent,r=t!==this.subpath;(n||r)&&(n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(tr.afterAttach)):r&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(Pt?Pt((function(){n.apply(t.storedValue)})):n.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;if(!this.isAlive){var n=this._getAssertAliveError(e);t=n,console.warn(new Error("[mobx-state-tree] "+t))}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&Oi(e.subpath)||"",r=e.actionContext||Ir;r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var i,o="";return r&&null!=r.name&&(o=(r&&r.context&&(Kr(i=r.context,1),Jr(i).path)||t)+"."+r.name+"()"),"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+o+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(ni),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):Qr(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw ii("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation((function(){var t,n;try{for(var r=or(e.getChildren()),i=r.next();!i.done;i=r.next())i.value.finalizeCreation()}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.fireInternalHook(tr.afterCreationFinalization)}))}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw ii("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=Nr(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){if(t.path){var n=function(e){var t=e.split("/").map(Ai);if(!(""===e||"."===e||".."===e||bi(e,"/")||bi(e,"./")||bi(e,"../")))throw ii("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}(t.path);Zr(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)}else e.type.applySnapshot(e,t.value)}))})),this._applySnapshot=Nr(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),pi(this.storedValue,"$treenode",this),pi(this.storedValue,"toJSON",Yr)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==Hr.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path}),r=ar(function(e){if(!("oldValue"in e))throw ii("Patches without `oldValue` field cannot be inversed");return[_i(e),wi(e)]}(n),2),i=r[0],o=r[1];this._internalEventsEmit("patch",i,o)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw ii("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw ii("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=Dt((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),yr);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new hi),this._internalEvents.register(e,t,n)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,sr([e],n))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(hr);_r.prototype.createObservableInstance=It(_r.prototype.createObservableInstance),_r.prototype.detach=It(_r.prototype.detach),_r.prototype.die=It(_r.prototype.die),function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(mr||(mr={}));var wr="cannotDetermine",Or=Symbol("$type"),Ar=function(){function e(e){Object.defineProperty(this,br,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Br(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw ii("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(Xr(e)){var n=ur(e);return this.isAssignableFrom(n)?Fr():Ur(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw ii("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw ii("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw ii("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw ii("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();br=Or,Ar.prototype.create=It(Ar.prototype.create);var Sr=function(e){function t(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return rr(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.identifierAttribute||e.identifier===Ao(t[e.identifierAttribute])}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!(e.isDetaching||e.snapshot!==t&&(!qr(t)||Jr(t)!==e)&&(e.type!==this||!li(t)||qr(t)||!this.isMatchingSnapshotId(e,t)||(e.applySnapshot(t),0)))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.tryToReconcileNode(e,t))return e.setParent(n,r),e;if(e.die(),qr(t)&&this.isAssignableFrom(ur(t))){var i=Jr(t);return i.setParent(n,r),i}return this.instantiate(n,r,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Ar);Sr.prototype.create=It(Sr.prototype.create);var Tr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rr(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(n,r,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Ar);function Er(e){return"object"==typeof e&&e&&!0===e.isType}function xr(e,t){mi()}new Map,function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var Ir,kr=1;function Pr(){return kr++}function jr(e,t){var n=Jr(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var i=Ir;Ir=e;try{return function(e,t,n){var r=new Dr(e,n);if(r.isEmpty)return It(n).apply(null,t.args);var i=null;return function e(t){var o=r.getNextMiddleware(),a=o&&o.handler;return a?!o.includeHooks&&tr[t.name]?e(t):(a(t,(function(t,n){i=e(t),n&&(i=n(i))}),(function(e){i=e})),i):It(n).apply(null,t.args)}(t)}(n,e,t)}finally{Ir=i,n._isRunningAction=r}}function Cr(e){if(e)return"action"===e.type?e:e.parentActionEvent}function Nr(e,t,n){var r=function(){var r=Pr(),i=Ir,o=Cr(i);return jr({type:"action",name:t,id:r,args:vi(arguments),context:e,tree:dr(e),rootId:i?i.rootId:r,parentId:i?i.id:0,allParentIds:i?sr(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},n)};return r._isMSTAction=!0,r}var Dr=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var n=e;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e)return e[this.inArrayIndex++]||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}),e}();function Rr(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":qr(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function Mr(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=r.length>0?'at path "/'+r+'" ':"",o=qr(t)?"value of type "+Jr(t).type.name+":":fi(t)?"value":"snapshot",a=n&&qr(t)&&n.is(Jr(t).snapshot);return""+i+o+" "+Rr(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?function(e){return Er(e)&&(e.flags&(mr.String|mr.Number|mr.Integer|mr.Boolean|mr.Date))>0}(n)||fi(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Lr(e,t,n){return e.concat([{path:t,type:n}])}function Fr(){return ti}function Ur(e,t,n){return[{context:e,value:t,message:n}]}function Vr(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Br(e,t){"undefined"!=typeof process&&"true"==={}.ENABLE_TYPE_CHECK&&function(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw ii(function(e,t,n){var r;if(0!==n.length)return"Error while converting "+(((r=Rr(t)).length<280?r:r.substring(0,272)+"......"+r.substring(r.length-8))+" to `")+e.name+"`:\n\n    "+n.map(Mr).join("\n    ")}(e,t,n))}(e,t)}var Hr,zr=0,$r=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:zr++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:ke.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:ke.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,ke.array([],ri));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw ii("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;Jt(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n,r=this,i=new e,o=t.path;return(n=this.cache,Mn(n)?Kt(n).map((function(e){return[e,n[e]]})):En(n)?Kt(n).map((function(e){return[e,n.get(e)]})):kn(n)?Array.from(n.entries()):wn(n)?n.map((function(e,t){return[t,e]})):void a(7)).forEach((function(e){for(var t=ar(e,2),n=t[0],a=t[1],s=!1,u=a.length-1;u>=0;u--)0===a[u].path.indexOf(o)&&(i.addNodeToCache(a[u],!1),a.splice(u,1),s=!0);s&&r.updateLastCacheModificationPerId(n)})),i}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);return!!n&&n.some((function(t){return e.isAssignableFrom(t.type)}))}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter((function(t){return e.isAssignableFrom(t.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw ii("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map((function(e){return e.path})).join(", "))}}}),e}();function Gr(e,t,n,r,i){var o=Xr(i);if(o){if(o.parent)throw ii("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,n),o}return new _r(e,t,n,r,i)}function Wr(e,t,n,r,i){return new vr(e,t,n,r,i)}function qr(e){return!(!e||!e.$treenode)}function Kr(e,t){mi()}function Jr(e){if(!qr(e))throw ii("Value "+e+" is no MST Node");return e.$treenode}function Xr(e){return e&&e.$treenode||null}function Yr(){return Jr(this).snapshot}function Zr(e,t,n){void 0===n&&(n=!0);for(var r=e,i=0;i<t.length;i++){var o=t[i];if(".."===o){if(r=r.parent)continue}else{if("."===o)continue;if(r){if(r instanceof vr)try{var a=r.value;qr(a)&&(r=Jr(a))}catch(e){if(!n)return;throw e}if(r instanceof _r&&r.getChildType(o)&&(r=r.getChildNode(o)))continue}}if(n)throw ii("Could not resolve '"+o+"' in path '"+(Si(t.slice(0,i))||"/")+"' while resolving '"+Si(t)+"'");return}return r}function Qr(e){if(!e)return ti;var t=Object.keys(e);if(!t.length)return ti;var n=new Array(t.length);return t.forEach((function(t,r){n[r]=e[t]})),n}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(Hr||(Hr={}));var ei=Object.toString(),ti=Object.freeze([]),ni=Object.freeze({}),ri=ct.useProxies?{deep:!1}:{deep:!1,proxy:!1};function ii(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function oi(e){return e}Object.freeze(ri);var ai=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function si(e){return Array.isArray(e)||wn(e)}function ui(e){return e?si(e)?e:[e]:ti}function ci(e){var t;if(null===e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===ei}function li(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function fi(e,t){return void 0===t&&(t=!0),null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date}function pi(e,t,n){!function(e,t,n){Mn(e)?Yt(e,t,n):Object.defineProperty(e,t,n)}(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}var di=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.handlers.slice();n.forEach((function(t){return t.apply(void 0,sr(e))}))}}),e}(),hi=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new di),r.register(t,n)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,sr(n))}}),e}();function vi(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function bi(e,t){return 0===e.indexOf(t)}function mi(e,t,n,r){}function gi(e,t){}function yi(e,t,n){void 0===n&&(n=!0)}function _i(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function wi(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Oi(e){return 1==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ai(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Si(e){if(0===e.length)return"";var t=function(e){return e.map(Oi).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}var Ti,Ei=Symbol("$preProcessorFailed"),xi=function(e){function t(t,n,r){var i=e.call(this,r||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|mr.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){try{return this.preProcessSnapshot(e)}catch(e){return Ei}}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var n,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=or(i),s=a.next();!s.done;s=a.next()){var u=s.value;e[u]=t[u].bind(t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(e.type,this,"create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))},(this._subtype.flags&mr.Union)>0||(e.getReconciliationType=function(){return t})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=qr(r)?r:this.preProcessSnapshot(r),o=this._subtype.instantiate(e,t,n,i);return this._fixNode(o),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this._subtype.reconcile(e,qr(t)?t:this.preProcessSnapshot(t),n,r);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.preProcessSnapshotSafe(e);return n===Ei?Ur(t,e,"Failed to preprocess value"):this._subtype.validate(n,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Er(e)?this._subtype:qr(e)?pr(e,!1):this.preProcessSnapshotSafe(e);return t!==Ei&&0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(this._subtype instanceof Sr))return!1;var n=this.preProcessSnapshot(t);return this._subtype.isMatchingSnapshotId(e,n)}}),t}(Ar),Ii="Map.put can only be used to store complex values that have an identifier type attribute";function ki(e,t){var n,r,i=e.getSubTypes();if(i===wr)return!1;if(i){var o=ui(i);try{for(var a=or(o),s=a.next();!s.done;s=a.next())if(!ki(s.value,t))return!1}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}return e instanceof Vi&&t.push(e),!0}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(Ti||(Ti={}));var Pi=function(e){function t(t){return e.call(this,t,ke.ref.enhancer)||this}return rr(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return e.prototype.set.call(this,""+t,n)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw ii("Map.put cannot be used to set empty values");if(qr(e)){var t=Jr(e);if(null===t.identifier)throw ii(Ii);return this.set(t.identifier,e),e}if(li(e)){var n=Jr(this),r=n.type;if(r.identifierMode!==Ti.YES)throw ii(Ii);var i=e[r.mapIdentifierAttribute];if(!So(i)){var o=this.put(r.getChildType().create(e,n.environment));return this.put(pr(o))}var a=Ao(i);return this.set(a,e),this.get(a)}throw ii("Map.put can only be used to store complex values")}}),t}(Tn),ji=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:Ti.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=r,i}return rr(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._determineIdentifierMode(),Gr(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===Ti.UNKNOWN){var e=[];if(ki(this._subType,e)){var t=e.reduce((function(e,t){if(!t.identifierAttribute)return e;if(e&&e!==t.identifierAttribute)throw ii("The objects in a map should all have the same identifier attribute, expected '"+e+"', but child of type '"+t.name+"' declared attribute '"+t.identifierAttribute+"' as identifier");return t.identifierAttribute}),void 0);t?(this.identifierMode=Ti.YES,this.mapIdentifierAttribute=t):this.identifierMode=Ti.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach((function(i){r[i]=n.instantiate(e,i,void 0,t[i])})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new Pi(e)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Gt(t,e.unbox),e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=Nr(t,e,r);pi(t,e,i)}))})),Wt(t,this.willChange),Zt(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Jt(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e.storedValue.get(""+t);if(!n)throw ii("Not a child "+t);return n}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Jr(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,i=r._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(n))return null;Br(i,o),e.newValue=i.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":Br(i,e.newValue),e.newValue=i.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===Ti.YES&&t instanceof _r){var n=t.identifier;if(n!==e)throw ii("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Jr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Oi(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Oi(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Oi(e.name),oldValue:n},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Br(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach((function(e){r[e]=!1})),t)for(var i in t)n.set(i,t[i]),r[""+i]=!0;Object.keys(r).forEach((function(e){!1===r[e]&&n.delete(e)}))}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return ci(e)?Vr(Object.keys(e).map((function(r){return n._subType.validate(e[r],Lr(t,r,n._subType))}))):Ur(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ni}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(Sr);function Ci(e){return Er(e)&&(e.flags&mr.Map)>0}ji.prototype.applySnapshot=It(ji.prototype.applySnapshot);var Ni=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=r,i}return rr(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Gr(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach((function(t,i){var o=""+i;r[o]=n.instantiate(e,o,void 0,t)})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return ke.array(Qr(e),ri)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){qn(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=Nr(t,e,r);pi(t,e,i)}))})),Wt(t,this.willChange),Zt(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw ii("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Jr(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=Di(t,n,[r[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,s=e.added,u=Di(t,n,r.slice(o,o+a),s,s.map((function(e,t){return o+t})));if(!u)return null;e.added=u;for(var c=o+a;c<r.length;c++)r[c].setParent(t,""+(c+s.length-a))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map((function(e){return e.snapshot}))}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n].getSnapshot())})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Jr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue,i="-"===t?r.length:Number(t);switch(n.op){case"replace":r[i]=n.value;break;case"add":r.splice(i,0,n.value);break;case"remove":r.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Br(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return si(e)?Vr(e.map((function(e,r){return n._subType.validate(e,Lr(t,""+r,n._subType))}))):Ur(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ti}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(Sr);function Di(e,t,n,r,i){for(var o,a=!0,s=0;;s++){var u=s<=r.length-1,c=n[s],l=u?r[s]:void 0,f=""+i[s];if(((o=l)instanceof vr||o instanceof _r)&&(l=l.storedValue),!c&&!u)break;if(u)if(c)if(Mi(c,l))n[s]=Ri(t,e,f,l,c);else{for(var p=void 0,d=s;d<n.length;d++)if(Mi(n[d],l)){p=n.splice(d,1)[0];break}a=!1,h=Ri(t,e,f,l,p),n.splice(s,0,h)}else{if(qr(l)&&Jr(l).parent===e)throw ii("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+f+"', but it lives already at '"+Jr(l).path+"'");a=!1;var h=Ri(t,e,f,l);n.splice(s,0,h)}else a=!1,n.splice(s,1),c instanceof _r&&c.createObservableInstanceIfNeeded(),c.die(),s--}return a?null:n}function Ri(e,t,n,r,i){Br(e,r);var o=function(){if(qr(r)){var o=Jr(r);if(o.assertAlive(ni),null!==o.parent&&o.parent===t)return o.setParent(t,n),o}return i?e.reconcile(i,r,t,n):e.instantiate(t,n,void 0,r)}();return i&&i!==o&&(i instanceof _r&&i.createObservableInstanceIfNeeded(),i.die()),o}function Mi(e,t){if(!e.isAlive)return!1;if(qr(t)){var n=Jr(t);return n.isAlive&&n===e}if(e.snapshot===t)return!0;if(!(e instanceof _r))return!1;var r=e.getReconciliationType();return null!==e.identifier&&e.identifierAttribute&&ci(t)&&r.is(t)&&r.isMatchingSnapshotId(e,t)}function Li(e){return Er(e)&&(e.flags&mr.Array)>0}Ni.prototype.applySnapshot=It(Ni.prototype.applySnapshot);function Fi(){return Jr(this).toString()}var Ui={name:"AnonymousModel",properties:{},initializers:ti};var Vi=function(e){function t(t){var n,r=e.call(this,t.name||Ui.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({name:e})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({properties:e})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.preProcessor;return t?r.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):r.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.postProcessor;return t?r.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):r.cloneAndEnhance({postProcessor:e})}}),Object.assign(r,Ui,t),r.properties=(n=r.properties,Object.keys(n).reduce((function(e,t){var n,r,i;if(t in tr)throw ii("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var o=Object.getOwnPropertyDescriptor(e,t);if("get"in o)throw ii("Getters are not supported as properties. Please use views instead");var a=o.value;if(null==a)throw ii("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(fi(a))return Object.assign({},e,((n={})[t]=ro(function(e){switch(typeof e){case"string":return zi;case"number":return $i;case"boolean":return Wi;case"object":if(e instanceof Date)return Xi}throw ii("Cannot determine primitive type from value "+e)}(a),a),n));if(a instanceof ji)return Object.assign({},e,((r={})[t]=ro(a,{}),r));if(a instanceof Ni)return Object.assign({},e,((i={})[t]=ro(a,[]),i));if(Er(a))return e;throw ii("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+a+"' ("+typeof a+")")}),n)),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return rr(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps((function(t,n){if(n.flags&mr.Identifier){if(e)throw ii("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!ci(t))throw ii("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(n){if("preProcessSnapshot"===n)throw ii("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===n)throw ii("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var r=t[n],i=e[n];if(n in tr&&i){var o=r;r=function(){i.apply(null,arguments),o.apply(null,arguments)}}var a=r.$mst_middleware,s=r.bind(t);s.$mst_middleware=a;var u=Nr(e,n,s);t[n]=u,pi(e,n,u)}))}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!=typeof e)throw ii("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!ci(t))throw ii("volatile state initializer should return a plain object containing state");Xt(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),i=r.actions,o=r.views,a=r.state,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["actions","views","state"]);for(var u in s)throw ii("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+u+"'");return a&&t.instantiateVolatileState(n,a),o&&t.instantiateViews(n,o),i&&t.instantiateActions(n,i),n}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!ci(t))throw ii("views initializer should return a plain object containing views");Object.getOwnPropertyNames(t).forEach((function(n){var r,i=Object.getOwnPropertyDescriptor(t,n);if("get"in i)Yt(e,n,i),function(e,t,n){var r=Nn(e,n)[W];dt();try{null!=t||(t=function(e){return N(e,z)||T(e,z,L({},e[z])),e[z]}(e)),j(t).forEach((function(e){return r.make_(e,t[e])}))}finally{ht()}}(e,((r={})[n]=Ne,r));else{if("function"!=typeof i.value)throw ii("A view member should either be a function or getter based property");pi(e,n,i.value)}}))}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Gr(this,e,t,n,qr(r)?r:this.applySnapshotPreProcessor(r))}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps((function(n,i){r[n]=i.instantiate(e,n,void 0,t[n])})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return ke.object(e,ni,ri)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){pi(t,"toString",Fi),this.forAllProps((function(n){Gt(t,n,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),Wt(t,this.willChange),Zt(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,n=Jr(t.object),r=t.name;n.assertWritable({subpath:r});var i=n.type.properties[r];return i&&(Br(i,t.newValue),t.newValue=i.reconcile(n.getChildNode(r),t.newValue,n,r)),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,n=Jr(t.object);if(n.type.properties[t.name]){var r=t.oldValue?t.oldValue.snapshot:void 0;n.emitPatch({op:"replace",path:Oi(t.name),value:t.newValue.snapshot,oldValue:r},n)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=[];return this.forAllProps((function(r){n.push(t.getChildNode(e,r))})),n}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(t in this.properties))throw ii("Not a value property: "+t);var n=qn(e.storedValue,t).raw();if(!n)throw ii("Node not available for property "+t);return n}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps((function(t,i){Wn(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(r):r}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){if("replace"!==n.op&&"add"!==n.op)throw ii("object does not support operation "+n.op);e.storedValue[t]=n.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.applySnapshotPreProcessor(t);Br(this,n),this.forAllProps((function(t){e.storedValue[t]=n[t]}))}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return yi(),this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return ci(r)?Vr(this.propertyNames.map((function(e){return n.properties[e].validate(r[e],Lr(t,e,n.properties[e]))}))):Ur(t,r,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach((function(n){return e(n,t.properties[n])}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return ni}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(Sr);function Bi(e){return Er(e)&&(e.flags&mr.Object)>0}Vi.prototype.applySnapshot=It(Vi.prototype.applySnapshot);var Hi=function(e){function t(t,n,r,i){void 0===i&&(i=oi);var o=e.call(this,t)||this;return Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"checker",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),o.flags=n,o}return rr(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Wr(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return fi(e)&&this.checker(e)?Fr():Ur(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(Tr),zi=new Hi("string",mr.String,(function(e){return"string"==typeof e})),$i=new Hi("number",mr.Number,(function(e){return"number"==typeof e})),Gi=new Hi("integer",mr.Integer,(function(e){return ai(e)})),Wi=new Hi("boolean",mr.Boolean,(function(e){return"boolean"==typeof e})),qi=new Hi("null",mr.Null,(function(e){return null===e})),Ki=new Hi("undefined",mr.Undefined,(function(e){return void 0===e})),Ji=new Hi("Date",mr.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));Ji.getSnapshot=function(e){return e.storedValue.getTime()};var Xi=Ji,Yi=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(n,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Literal}),n.value=t,n}return rr(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Wr(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return fi(e)&&e===this.value?Fr():Ur(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(Tr);function Zi(e){return new Yi(e)}var Qi=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return Object.defineProperty(o,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|mr.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=qr(e)?Jr(e).snapshot:e;return this._predicate(r)?Fr():Ur(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Ar),eo=function(e){function t(t,n,r){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),r=ir({eager:!0,dispatcher:void 0},r),i._dispatcher=r.dispatcher,r.eager||(i._eager=!1),i}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=mr.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(r,void 0);if(!i)throw ii("No matching type for union "+this.describe());return i.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(t,e.getReconciliationType());if(!i)throw ii("No matching type for union "+this.describe());return i.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return Fr();r++}else n.push(o)}return 1===r?Fr():Ur(t,e,"No type is applicable for the union").concat(Vr(n))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(Ar);function to(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Er(e)?void 0:e,i=Er(e)?sr([e],t):t,o="("+i.map((function(e){return e.name})).join(" | ")+")";return new eo(o,i,r)}var no=function(e){function t(t,n,r){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|mr.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,i)}return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&Br(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?Fr():this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Ar);function ro(e,t,n){return function(e,t){if("function"!=typeof t&&qr(t))throw ii("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");xr()}(0,t),new no(e,t,n||io)}var io=[void 0],oo=ro(Ki,void 0),ao=ro(qi,null);function so(e){return xr(),to(e,oo)}var uo=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|mr.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw ii("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):Fr()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getSubType(!1)||wr}}),t}(Ar),co=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(n,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Frozen}),n}return rr(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Wr(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):Fr():Ur(t,e,"Value is not serializable and cannot be frozen")}}),t}(Tr),lo=new co,fo=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),So(e))this.identifier=e;else{if(!qr(e))throw ii("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=Jr(e);if(!n.identifierAttribute)throw ii("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)throw ii("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Ao(this.identifier),n=e.root,r=n.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var i=this.targetType,o=n.identifierCache.resolve(i,t);if(!o)throw new po("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:r}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),po=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return rr(t,e),t}(Error),ho=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(r,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Reference}),r}return rr(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return So(e)?Fr():Ur(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){lr(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){Bi(i.type)?this.replaceRef(void 0):lr(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.getValue(e);if(r){var i=Jr(r),o=function(r,o){var a=function(e){switch(e){case tr.beforeDestroy:return"destroy";case tr.beforeDetach:return"detach";default:return}}(o);a&&n.fireInvalidated(a,e,t,i)},a=i.registerHook(tr.beforeDetach,o),s=i.registerHook(tr.beforeDestroy,o);return function(){a(),s()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=this;if(this.onInvalidated){var i;e.registerHook(tr.beforeDestroy,(function(){i&&i()}));var o=function(o){i&&i();var a=e.parent,s=a&&a.storedValue;a&&a.isAlive&&s&&((n?n.get(t,s):e.root.identifierCache.has(r.targetType,Ao(t)))?i=r.addTargetNodeWatcher(e,t):o||r.fireInvalidated("invalidSnapshotReference",e,t,null))};e.state===Hr.FINALIZED?o(!0):(e.isRoot||e.root.registerHook(tr.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(tr.afterAttach,(function(){o(!1)})))}}}),t}(Tr),vo=function(e){function t(t,n){return e.call(this,t,n)||this}return rr(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i,o=qr(r)?(Kr(i=r),Jr(i).identifier):r,a=new fo(r,this.targetType),s=Wr(this,e,t,n,a);return a.node=s,this.watchTargetNodeForInvalidations(s,o,void 0),s}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this){var i=qr(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(n,r),e}var a=this.instantiate(n,r,void 0,t);return e.die(),a}}),t}(ho),bo=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return rr(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=qr(r)?this.options.set(r,e?e.storedValue:null):r,o=Wr(this,e,t,n,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=qr(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(n,r),e;var o=this.instantiate(n,r,void 0,i);return e.die(),o}}),t}(ho);function mo(e,t){xr();var n=t||void 0,r=t?t.onInvalidated:void 0;return n&&(n.get||n.set)?new bo(e,{get:n.get,set:n.set},r):new vo(e,r)}var go=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"validType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Identifier}),r}return rr(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!(e&&e.type instanceof Vi))throw ii("Identifier types can only be instantiated as direct child of a model type");return Wr(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(e.storedValue!==t)throw ii("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?Ur(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):Fr()}}),t}(Tr),yo=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Identifier}),t}return rr(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(go),_o=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return rr(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(go),wo=new yo,Oo=new _o;function Ao(e){return""+e}function So(e){return"string"==typeof e||"number"==typeof e}var To=function(e){function t(t){var n=e.call(this,t.name)||this;return Object.defineProperty(n,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:mr.Custom}),n}return rr(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return Fr();var n=this.options.getValidationMessage(e);return n?Ur(t,e,"Invalid value for type '"+this.name+"': "+n):Fr()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Wr(this,e,t,n,this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=!this.options.isTargetType(t);if(!e.isDetaching&&e.type===this&&(i?t===e.snapshot:t===e.storedValue))return e.setParent(n,r),e;var o=i?this.options.fromSnapshot(t,n.root.environment):t,a=this.instantiate(n,r,void 0,o);return e.die(),a}}),t}(Tr),Eo={enumeration:function(e,t){var n="string"==typeof e?t:e,r=to.apply(void 0,sr(n.map((function(e){return Zi(""+e)}))));return"string"==typeof e&&(r.name=e),r},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new Vi({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})})).named(r)},custom:function(e){return new To(e)},reference:mo,safeReference:function(e,t){var n=mo(e,ir(ir({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:so(n)},union:to,optional:ro,literal:Zi,maybe:so,maybeNull:function(e){return xr(),to(e,ao)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():Er(e[0])?e[0].name:null,r=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return xr(),yi(),new Qi(n,r,i,o)},string:zi,boolean:Wi,number:$i,integer:Gi,Date:Xi,map:function(e){return new ji("map<string, "+e.name+">",e)},array:function(e){return xr(),new Ni(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?lo:Er(e)?new co(e):ro(lo,e)},identifier:wo,identifierNumber:Oo,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")";return new uo(n,"string"==typeof e?t:e)},undefined:Ki,null:qi,snapshotProcessor:function(e,t,n){return xr(),new xi(e,t,n)}};async function xo(e,t){const n=await t.getItem(e);return"string"==typeof n?JSON.parse(n):n}function Io(e){const t={};return e?.forEach((e=>{t[e]=!0})),t}function ko(...e){window.debugGlobalStoreState&&t.k.log(...e)}function Po(e){let t=!1;const r=n(72565);return{getItem:async n=>{if(!t)return(await r.storage[e].get(n))[n]},removeItem:n=>t?Promise.resolve(void 0):r.storage[e].remove(n),setItem:(n,i)=>t?Promise.resolve(void 0):r.storage[e].set({[n]:i}),disconnect(){t=!0}}}const jo=Object.values({"#A46CFF":"#A46CFF","#CC1F4A":"#CC1F4A","#FFBB00":"#FFBB00","#00B954":"#00B954","#0187E0":"#0187E0","#000000":"#000000"}),Co=Eo.model({lastToolColor:Eo.optional(Eo.enumeration(jo),"#A46CFF")}).actions((e=>({setLastToolColor(t){e.lastToolColor=t}}))),No=Eo.model({teamId:Eo.string,integrationName:Eo.maybe(Eo.string)});function Do(e){let t;return t=Li(e)?Eo.optional(e,[]):Ci(e)?Eo.optional(e,{}):Eo.union(e,e),t.__nopersist=!0,t}function Ro(e,t){const n=JSON.parse(JSON.stringify(pr(t)));Mo(e,n),fr(t,n)}function Mo(e,t){if(e.properties)for(const n in e.properties){const r=n,i=e.properties[r];Lo(i)?Ci(i)?t[r]={}:Li(i)?t[r]=[]:delete t[r]:Bi(i)&&Mo(i,t[r])}else Fo(e).forEach((e=>{Mo(e,t)}))}function Lo(e){return!(!e.__nopersist&&!e.name.endsWith("__nopersist"))||Fo(e).some((e=>Lo(e)))}function Fo(e){if(!("getSubTypes"in e))return[];const t=e.getSubTypes();return Array.isArray(t)?t:t?[t]:[]}var Uo=(e=>(e.Tab="Tab",e.Desktop="Desktop",e))(Uo||{});function Vo(e){return{type:"tab",tabId:e}}const Bo=Eo.model({permissionState:Eo.optional(Eo.enumeration(["denied","granted","prompt"]),"prompt"),isOn:Eo.optional(Eo.boolean,!1),savedDeviceLabel:Eo.optional(Eo.string,"default"),savedDeviceId:Eo.optional(Eo.string,"default")}).views((e=>({get isDenied(){return"denied"===e.permissionState},get on(){return"granted"===e.permissionState&&e.isOn},get deviceLabel(){return"granted"===e.permissionState?e.savedDeviceLabel:"default"},get deviceId(){return"granted"===e.permissionState?e.savedDeviceId:"default"}}))).actions((e=>({toggle(t){e.isDenied||(e.isOn=t||!e.isOn)},setDevice(t){e.isDenied||(e.savedDeviceLabel=t.label,e.savedDeviceId=t.deviceId)},setDeviceLabel(t){e.savedDeviceLabel=t},setPermissionState(t){e.permissionState=t,"denied"!==t&&"prompt"!==t||(e.isOn=!1,e.savedDeviceLabel="default",e.savedDeviceId="default")}}))).views((e=>({get deviceLabelToUse(){if(e.on&&!e.isDenied)return e.deviceLabel}}))),Ho=Eo.model("RecordingPreferenceModel",{audio:Eo.optional(Bo,{}),viewport:Eo.optional(Eo.union(Eo.literal(Uo.Desktop),Eo.literal(Uo.Tab)),Uo.Tab)}).actions((e=>({setViewport(t){e.viewport=t}}))),zo=function(e){const t={};return["paypal.com","coinmarketcap.com","tradingview.com","chase.com","investing.com","binance.com","wellsfargo.com","bankofamerica.com","coingecko.com","capitalone.com","intuit.com","fidelity.com","adp.com","poocoin.app","coinbase.com","etoro.com","opensea.io","moneycontrol.com","marketwatch.com","americanexpress.com","creditkarma.com","investopedia.com","credit-agricole.fr","hdfcbank.com","sberbank.ru","finance.yahoo.co.jp","poste.it","zerodha.com","rakuten-sec.co.jp","citi.com","bancoestado.cl","bscscan.com","doviz.com","rakuten-card.co.jp","alipay.com","fool.com","discover.com","sbisec.co.jp","toyokeizai.net","onlinesbi.com","ameritrade.com","trustpilot.com","adyen.com","tdameritrade.com","td.com","foxbusiness.com","syf.com","experian.com","schwab.com","altin.in"].forEach((e=>{t[e]=!0})),t}();const $o=Eo.model({blockedHosts:Eo.optional(Eo.map(Eo.boolean),zo),blockedOnAllHosts:Eo.maybe(Eo.boolean)}).volatile((()=>({addError:void 0}))).views((e=>({get isDisabledOnAllUrls(){return e.blockedOnAllHosts},isUrlBlocked(t){return!!this.isDisabledOnAllUrls||function(e,t){try{const n=function(e){const t=(e instanceof URL?e:new URL(e)).host.split(".");return[t[t.length-2],t[t.length-1]].join(".")}(e);return Boolean(t.get(n))}catch(e){return!1}}(t,e.blockedHosts)}}))).actions((e=>({add:t=>(e.addError=void 0,t&&""!==t?/^[\w.-]+(?:\.[\w.-]+)+[\w!#$&'()*+,./:;=?@[\]~-]+$/.test(t)?(e.blockedHosts.set(t,!0),!0):(e.addError="Invalid Host",!1):(e.addError="Host cannot be empty",!1)),remove(t){e.blockedHosts.delete(t)},toggleBlockedOnAllUrls(){e.blockedOnAllHosts=!e.blockedOnAllHosts},setBlockedOnAllUrls(t){e.blockedOnAllHosts=t}}))),Go=Eo.model({forceEnabledHosts:Eo.optional(Eo.map(Eo.boolean),{})}).views((e=>({isHostForceEnabled:t=>e.forceEnabledHosts.has(t),isUrlForceEnabled(e){return this.isHostForceEnabled(e.host)}}))).actions((e=>({forceEnableHost(t){try{const e=new URL("http://"+t);if(e.host!==t)return"please only supply the domain, for example: www.jam.dev";if(!e.host.includes("."))return"please include a valid domain, for example: www.jam.dev"}catch{return"invalid host"}e.forceEnabledHosts.set(t,!0)},removeForceEnabledHost(t){e.forceEnabledHosts.delete(t)}}))),Wo=Eo.model({delay:Eo.optional(Eo.number,0)}).actions((e=>({setDelay(t){e.delay=t}}))),qo=Eo.model("PreferenceModel",{recording:Eo.optional(Ho,{}),rewindBlocklist:Eo.optional($o,{}),rewindPerformance:Eo.optional(Go,{}),openNewTabOnJamCreation:Eo.optional(Eo.boolean,!0),sendDiagnostics:Eo.optional(Eo.boolean,!0),screenshot:Eo.optional(Wo,{}),captureInteractivityEvents:Eo.optional(Eo.boolean,!0)}).actions((e=>({toggleOpenNewTabOnJamCreation(t){e.openNewTabOnJamCreation=t??!e.openNewTabOnJamCreation},toggleSendDiagnostics(t){e.sendDiagnostics=t},toggleCaptureInteractivityEvents(){e.captureInteractivityEvents=!e.captureInteractivityEvents}}))),Ko=Eo.model({type:Eo.frozen(),posterDataUrl:Eo.string,width:Eo.number,height:Eo.number,duration:Eo.number,startTimestamp:Eo.number,endTimestamp:Eo.number}),Jo=Eo.union(Eo.model({type:Eo.literal("inactive")}),Eo.model({type:Eo.literal("countdown"),recordingMode:Eo.frozen()}),Eo.model({type:Eo.literal("recording"),recordingLimitMs:Eo.number,isPaused:Eo.boolean,nonActiveTotalDurationMs:Eo.number,lastSegmentStart:Eo.number,recordingMode:Eo.frozen()}).actions((e=>({updateRecordingLimitMs(t){e.recordingLimitMs=t},setPaused(t){e.isPaused=t.shouldPause,t.shouldPause?e.nonActiveTotalDurationMs=t.nonActiveTotalDurationMs:e.lastSegmentStart=t.lastSegmentStart},setLastSegmentStart(t){e.lastSegmentStart=t}}))),Eo.model({type:Eo.literal("processing"),recordingMode:Eo.frozen()}),Eo.model({type:Eo.literal("success_async"),posterDataUrl:Eo.string,uploadedVideoId:Eo.maybe(Eo.string),recordingDetails:Ko,draftTabId:Eo.number}).volatile((()=>({blobUrl:null})))),Xo=Eo.model({state:Jo}).views((e=>({get isRecording(){return"recording"===e.state?.type},get isDesktopRecording(){return"recording"==e.state.type&&"desktop"==e.state.recordingMode.type},get isRecordingDone(){return"processing"===e.state?.type||"success_async"===e.state?.type},get isActive(){return"recording"===e.state?.type||"processing"===e.state?.type},get isInactive(){return"inactive"==e.state.type},get isProcessing(){return"processing"===e.state?.type},get isCountdown(){return"countdown"===e.state?.type}}))).actions((e=>({recordingOnTab:(t,n)=>("countdown"===e.state.type||"recording"===e.state.type)&&"desktop"!==e.state.recordingMode.type&&("eq"===n?e.state.recordingMode.tabId===t:e.state.recordingMode.tabId!==t),displayingDraftOnTab:t=>"success_async"===e.state.type&&e.state.draftTabId===t}))).actions((e=>({transitionToInactive(){e.state=Jo.create({type:"inactive"})},transitionToCountdown(t){e.state=Jo.create({type:"countdown",recordingMode:Vo(t)})},transitionToActiveRecording(t,n,r){e.state=Jo.create({type:"recording",recordingLimitMs:n,recordingMode:t,nonActiveTotalDurationMs:0,lastSegmentStart:r,isPaused:!1})},transitionToProcessing(t){e.state=Jo.create({type:"processing",recordingMode:t})},transitionToSuccessfulRecording(t,n,r){e.state=Jo.create({type:"success_async",posterDataUrl:t,recordingDetails:n,draftTabId:r})}})));var Yo=(e=>(e.Rewind="Rewind",e.Screenshot="Screenshot",e.Video="Video",e))(Yo||{}),Zo=(e=>(e.Idle="Idle",e.Processing="Processing",e))(Zo||{});const Qo={...Zo,...Yo},ea=Eo.model("CaptureStateModel",{captureMode:Eo.optional(Eo.enumeration("mode",Object.values(Qo)),Qo.Idle),screenshotDelay:Eo.optional(Eo.number,0)}).actions((e=>({setCaptureMode(t){e.captureMode=t},setScreenshotDelay(t){e.screenshotDelay=t},reset(){e.captureMode=Qo.Idle}}))),ta=Eo.model({sentry:Eo.model({installed:Eo.boolean,environment:Eo.maybe(Eo.string)}),logrocket:Eo.model({installed:Eo.boolean,sessionURL:Eo.maybe(Eo.string)})});var na=(e=>(e.NotInjected="NotInjected",e.Injecting="Injecting",e.Injected="Injected",e.InjectionFailed="InjectionFailed",e.UnknownDueToBackNavigation="UnknownDueToBackNavigation",e))(na||{});const ra=Eo.model({state:Eo.enumeration(Object.values(na)),marks:Eo.model({ui:Eo.maybe(Eo.number),console:Eo.maybe(Eo.number),network:Eo.maybe(Eo.number),dom:Eo.maybe(Eo.number)})}).actions((e=>({setState(t){e.state=t},setMark(t,n){e.marks[t]=n},reset(){e.state="NotInjected",fr(e.marks,{})}}))),ia=Eo.model("SharedTabStateModel",{tabId:Eo.identifier,captureState:Eo.optional(ea,{}),injectionLifecycle:Eo.optional(ra,{state:"NotInjected",marks:{}}),incognito:Eo.optional(Eo.boolean,!1),hostHasBadRewindPerformance:Eo.optional(Eo.boolean,!1),url:Eo.string,detectedLibs:Eo.maybe(ta)}).views((e=>({get id(){return Number(e.tabId)}}))).actions((e=>({setUrl(t){e.url=t},setIncognito(t){e.incognito=t},setCaptureState(t){e.captureState=ea.create({captureMode:t})}}))).views((e=>({get hostname(){return""===e.url?"":new URL(e.url).hostname},get hasJamBeenInjected(){return"Injecting"===e.injectionLifecycle.state||"Injected"===e.injectionLifecycle.state}}))).actions((e=>({resetRewindPerformanceCalculationOnNavigation(){e.hostHasBadRewindPerformance=!1},autoDisableRewindSnapshots(t){e.hostname===t&&(e.hostHasBadRewindPerformance=!0)},setDetectedLibs(t){e.detectedLibs=t}}))),oa=Eo.model({hasAccessToJamSite:Eo.optional(Eo.boolean,!1),isLoggedIn:Eo.optional(Eo.boolean,!1),isLoggedInLastChecked:Do(Eo.maybeNull(Eo.Date))}).actions((e=>({setHasAccessToJamSite(t){e.hasAccessToJamSite=t},setIsLoggedIn(t){e.isLoggedIn=t,e.isLoggedInLastChecked=new Date}})));var aa=function(){return aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aa.apply(this,arguments)};function sa(e){return sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(e)}Object.create,Object.create,"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var ua="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function ca(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function la(e){return fa(e.source,ca(e.source,e.start))}function fa(e,t){var n=e.locationOffset.column-1,r=da(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var p=Math.floor(u/80),d=u%80,h=[],v=0;v<f.length;v+=80)h.push(f.slice(v,v+80));return c+pa([["".concat(a),h[0]]].concat(h.slice(1,p+1).map((function(e){return["",e]})),[[" ",da(d-1)+"^"],["",h[p+1]]]))}return c+pa([["".concat(a-1),l[i-1]],["".concat(a),f],["",da(u-1)+"^"],["".concat(a+1),l[i+1]]])}function pa(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return da(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function da(e){return Array(e+1).join(" ")}function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t){return!t||"object"!==ha(t)&&"function"!=typeof t?ya(e):t}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e){var t="function"==typeof Map?new Map:void 0;return _a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return wa(e,arguments,Sa(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Aa(r,e)},_a(e)}function wa(e,t,n){return wa=Oa()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Aa(i,n.prototype),i},wa.apply(null,arguments)}function Oa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Aa(e,t){return Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Aa(e,t)}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Sa(e)}var Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(a,e);var t,n,r,i,o=(t=a,n=Oa(),function(){var e,r=Sa(t);if(n){var i=Sa(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return ga(this,e)});function a(e,t,n,r,i,s,u){var c,l,f,p;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(p=o.call(this,e)).name="GraphQLError",p.originalError=null!=s?s:void 0,p.nodes=Ea(Array.isArray(t)?t:t?[t]:void 0);for(var d=[],h=0,v=null!==(b=p.nodes)&&void 0!==b?b:[];h<v.length;h++){var b,m=v[h].loc;null!=m&&d.push(m)}d=Ea(d),p.source=null!=n?n:null===(c=d)||void 0===c?void 0:c[0].source,p.positions=null!=r?r:null===(l=d)||void 0===l?void 0:l.map((function(e){return e.start})),p.locations=r&&n?r.map((function(e){return ca(n,e)})):null===(f=d)||void 0===f?void 0:f.map((function(e){return ca(e.source,e.start)})),p.path=null!=i?i:void 0;var g,y=null==s?void 0:s.extensions;return null==u&&"object"==sa(g=y)&&null!==g?p.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y):p.extensions=null!=u?u:{},Object.defineProperties(ya(p),{message:{enumerable:!0},locations:{enumerable:null!=p.locations},path:{enumerable:null!=p.path},extensions:{enumerable:null!=p.extensions&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=s&&s.stack?(Object.defineProperty(ya(p),"stack",{value:s.stack,writable:!0,configurable:!0}),ga(p)):(Error.captureStackTrace?Error.captureStackTrace(ya(p),a):Object.defineProperty(ya(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+la(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+fa(e.source,s)}return t}(this)}},{key:ua,get:function(){return"Object"}}])&&ma(r.prototype,i),a}(_a(Error));function Ea(e){return void 0===e||0===e.length?void 0:e}function xa(e,t,n){return new Ta("Syntax Error: ".concat(n),void 0,e,[t])}var Ia=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const ka="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Pa(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,ka&&(e.prototype[ka]=t)}var ja=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Pa(ja);var Ca=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();Pa(Ca);var Na=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Da(e){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function Ra(e){return Ma(e,[])}function Ma(e,t){switch(Da(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(ka)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:Ma(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(Ma(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+Ma(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function La(e,t){if(!Boolean(e))throw new Error(t)}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ua=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||La(0,"Body must be a string. Received: ".concat(Ra(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||La(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||La(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:ua,get:function(){return"Source"}}])&&Fa(t.prototype,n),e}(),Va=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Ba(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&Ha(t[i]);)++i;for(var o=t.length;o>i&&Ha(t[o-1]);)--o;return t.slice(i,o).join("\n")}function Ha(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var za=function(){function e(e){var t=new Ca(Na.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==Na.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Ga(this,e)}while(e.kind===Na.COMMENT);return e},e}();function $a(e){return isNaN(e)?Na.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Ga(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,u=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Ca(Na.BANG,o,o+1,s,u,t);case 35:return qa(n,o,s,u,t);case 36:return new Ca(Na.DOLLAR,o,o+1,s,u,t);case 38:return new Ca(Na.AMP,o,o+1,s,u,t);case 40:return new Ca(Na.PAREN_L,o,o+1,s,u,t);case 41:return new Ca(Na.PAREN_R,o,o+1,s,u,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new Ca(Na.SPREAD,o,o+3,s,u,t);break;case 58:return new Ca(Na.COLON,o,o+1,s,u,t);case 61:return new Ca(Na.EQUALS,o,o+1,s,u,t);case 64:return new Ca(Na.AT,o,o+1,s,u,t);case 91:return new Ca(Na.BRACKET_L,o,o+1,s,u,t);case 93:return new Ca(Na.BRACKET_R,o,o+1,s,u,t);case 123:return new Ca(Na.BRACE_L,o,o+1,s,u,t);case 124:return new Ca(Na.PIPE,o,o+1,s,u,t);case 125:return new Ca(Na.BRACE_R,o,o+1,s,u,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?Ya(n,o,s,u,t,e):Xa(n,o,s,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ka(n,o,a,s,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Qa(n,o,s,u,t)}throw xa(n,o,Wa(a))}var c=e.line,l=1+o-e.lineStart;return new Ca(Na.EOF,i,i,c,l,t)}function Wa(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat($a(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat($a(e),".")}function qa(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Ca(Na.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function Ka(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw xa(e,u,"Invalid number, unexpected digit after 0: ".concat($a(s),"."))}else u=Ja(e,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=Ja(e,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=Ja(e,u,s),s=a.charCodeAt(u)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw xa(e,u,"Invalid number, expected digit but got: ".concat($a(s),"."));return new Ca(c?Na.FLOAT:Na.INT,t,u,r,i,o,a.slice(t,u))}function Ja(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw xa(e,i,"Invalid number, expected digit but got: ".concat($a(o),"."))}function Xa(e,t,n,r,i){for(var o,a,s,u,c=e.body,l=t+1,f=l,p=0,d="";l<c.length&&!isNaN(p=c.charCodeAt(l))&&10!==p&&13!==p;){if(34===p)return d+=c.slice(f,l),new Ca(Na.STRING,t,l+1,n,r,i,d);if(p<32&&9!==p)throw xa(e,l,"Invalid character within String: ".concat($a(p),"."));if(++l,92===p){switch(d+=c.slice(f,l-1),p=c.charCodeAt(l)){case 34:d+='"';break;case 47:d+="/";break;case 92:d+="\\";break;case 98:d+="\b";break;case 102:d+="\f";break;case 110:d+="\n";break;case 114:d+="\r";break;case 116:d+="\t";break;case 117:var h=(o=c.charCodeAt(l+1),a=c.charCodeAt(l+2),s=c.charCodeAt(l+3),u=c.charCodeAt(l+4),Za(o)<<12|Za(a)<<8|Za(s)<<4|Za(u));if(h<0){var v=c.slice(l+1,l+5);throw xa(e,l,"Invalid character escape sequence: \\u".concat(v,"."))}d+=String.fromCharCode(h),l+=4;break;default:throw xa(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(p),"."))}f=++l}}throw xa(e,l,"Unterminated string.")}function Ya(e,t,n,r,i,o){for(var a=e.body,s=t+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new Ca(Na.BLOCK_STRING,t,s+3,n,r,i,Ba(l));if(c<32&&9!==c&&10!==c&&13!==c)throw xa(e,s,"Invalid character within String: ".concat($a(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw xa(e,s,"Unterminated string.")}function Za(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Qa(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,u=0;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new Ca(Na.NAME,t,s,n,r,i,o.slice(t,s))}var es=function(){function e(e,t){var n=function(e){return e instanceof Ua}(e)?e:new Ua(e);this._lexer=new za(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Na.NAME);return{kind:Ia.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Ia.DOCUMENT,definitions:this.many(Na.SOF,this.parseDefinition,Na.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Na.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Na.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Na.BRACE_L))return{kind:Ia.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(Na.NAME)&&(t=this.parseName()),{kind:Ia.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Na.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Na.PAREN_L,this.parseVariableDefinition,Na.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Ia.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Na.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Na.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Na.DOLLAR),{kind:Ia.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Ia.SELECTION_SET,selections:this.many(Na.BRACE_L,this.parseSelection,Na.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Na.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Na.COLON)?(e=r,t=this.parseName()):t=r,{kind:Ia.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Na.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Na.PAREN_L,t,Na.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Na.COLON),{kind:Ia.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Ia.ARGUMENT,name:this.parseName(),value:(this.expectToken(Na.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Na.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Na.NAME)?{kind:Ia.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Ia.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:Ia.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:Ia.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Na.BRACKET_L:return this.parseList(e);case Na.BRACE_L:return this.parseObject(e);case Na.INT:return this._lexer.advance(),{kind:Ia.INT,value:t.value,loc:this.loc(t)};case Na.FLOAT:return this._lexer.advance(),{kind:Ia.FLOAT,value:t.value,loc:this.loc(t)};case Na.STRING:case Na.BLOCK_STRING:return this.parseStringLiteral();case Na.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:Ia.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:Ia.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:Ia.NULL,loc:this.loc(t)};default:return{kind:Ia.ENUM,value:t.value,loc:this.loc(t)}}case Na.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Ia.STRING,value:e.value,block:e.kind===Na.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:Ia.LIST,values:this.any(Na.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Na.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:Ia.OBJECT,fields:this.any(Na.BRACE_L,(function(){return t.parseObjectField(e)}),Na.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Na.COLON),{kind:Ia.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Na.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Na.AT),{kind:Ia.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Na.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Na.BRACKET_R),e={kind:Ia.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Na.BANG)?{kind:Ia.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Ia.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Na.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Na.STRING)||this.peek(Na.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(Na.BRACE_L,this.parseOperationTypeDefinition,Na.BRACE_R);return{kind:Ia.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Na.COLON);var n=this.parseNamedType();return{kind:Ia.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ia.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Ia.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(Na.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(Na.AMP)||this.peek(Na.NAME));return t}return this.delimitedMany(Na.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(Na.BRACE_L)&&this._lexer.lookahead().kind===Na.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Na.BRACE_L,this.parseFieldDefinition,Na.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Na.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Ia.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Na.PAREN_L,this.parseInputValueDef,Na.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Na.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(Na.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Ia.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Ia.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Ia.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Na.EQUALS)?this.delimitedMany(Na.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Ia.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Na.BRACE_L,this.parseEnumValueDefinition,Na.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ia.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Ia.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Na.BRACE_L,this.parseInputValueDef,Na.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Na.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(Na.BRACE_L,this.parseOperationTypeDefinition,Na.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:Ia.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Ia.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Ia.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Ia.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ia.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ia.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ia.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Na.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Ia.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Na.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Va[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new ja(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw xa(this._lexer.source,t.start,"Expected ".concat(ns(e),", found ").concat(ts(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Na.NAME||t.value!==e)throw xa(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(ts(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Na.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return xa(this._lexer.source,t.start,"Unexpected ".concat(ts(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function ts(e){var t=e.value;return ns(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function ns(e){return function(e){return e===Na.BANG||e===Na.DOLLAR||e===Na.AMP||e===Na.PAREN_L||e===Na.PAREN_R||e===Na.SPREAD||e===Na.COLON||e===Na.EQUALS||e===Na.AT||e===Na.BRACKET_L||e===Na.BRACKET_R||e===Na.BRACE_L||e===Na.PIPE||e===Na.BRACE_R}(e)?'"'.concat(e,'"'):e}var rs=new Map,is=new Map,os=!0,as=!1;function ss(e){return e.replace(/[\s,]+/g," ").trim()}function us(e){var t,n,r,i=ss(e);if(!rs.has(i)){var o=function(e,t){return new es(e,t).parseDocument()}(e,{experimentalFragmentVariables:as,allowLegacyFragmentVariables:as});if(!o||"Document"!==o.kind)throw new Error("Not a valid GraphQL document.");rs.set(i,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}((t=o,n=new Set,r=[],t.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var t=e.name.value,i=ss((a=e.loc).source.body.substring(a.start,a.end)),o=is.get(t);o&&!o.has(i)?os&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||is.set(t,o=new Set),o.add(i),n.has(i)||(n.add(i),r.push(e))}else r.push(e);var a})),aa(aa({},t),{definitions:r}))))}return rs.get(i)}function cs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),us(r)}var ls,fs=cs;(ls=cs||(cs={})).gql=fs,ls.resetCaches=function(){rs.clear(),is.clear()},ls.disableFragmentWarnings=function(){os=!1},ls.enableExperimentalFragmentVariables=function(){as=!0},ls.disableExperimentalFragmentVariables=function(){as=!1},cs.default=cs;const ps=cs;var ds=(e=>(e.None="None",e.Replies="Replies",e))(ds||{}),hs=(e=>(e.Admin="Admin",e.Member="Member",e))(hs||{}),vs=(e=>(e.Normal="Normal",e.Personal="Personal",e))(vs||{});const bs=ps`
    fragment GeneratedAttachment on GeneratedAttachment {
  ... on GeneratedAttachmentScreenRecording {
    ...GeneratedAttachmentScreenRecording
  }
  ... on GeneratedAttachmentScreenRecordingAsync {
    ...GeneratedAttachmentScreenRecordingAsync
  }
  ... on GeneratedAttachmentCroppedScreenshot {
    ...GeneratedAttachmentCroppedScreenshot
  }
  ... on GeneratedAttachmentFullScreenshot {
    ...GeneratedAttachmentFullScreenshot
  }
  ... on GeneratedAttachmentDelayedCroppedScreenshot {
    ...GeneratedAttachmentDelayedCroppedScreenshot
  }
  ... on GeneratedAttachmentDelayedFullScreenshot {
    ...GeneratedAttachmentDelayedFullScreenshot
  }
  ... on GeneratedAttachmentSessionRewind {
    ...GeneratedAttachmentSessionRewind
  }
}
    ${ps`
    fragment GeneratedAttachmentScreenRecording on GeneratedAttachmentScreenRecording {
  type
  url
  posterUrl
  fullscreenUrl
  previewThumbnailUrl
  width
  height
  viewport
}
    `}
${ps`
    fragment GeneratedAttachmentScreenRecordingAsync on GeneratedAttachmentScreenRecordingAsync {
  type
  fullscreenUrl
  posterUrl
  previewThumbnailUrl
  uploadedVideo {
    ...UploadedVideo
  }
  duration
  viewport
}
    ${ps`
    fragment UploadedVideo on UploadedVideo {
  id
  url
  status
  cloudflareMetadata {
    id
    preview
    width
    height
    duration
  }
}
    `}`}
${ps`
    fragment GeneratedAttachmentCroppedScreenshot on GeneratedAttachmentCroppedScreenshot {
  type
  url
  fullscreenUrl
  previewThumbnailUrl
}
    `}
${ps`
    fragment GeneratedAttachmentFullScreenshot on GeneratedAttachmentFullScreenshot {
  type
  url
  fullscreenUrl
}
    `}
${ps`
    fragment GeneratedAttachmentDelayedCroppedScreenshot on GeneratedAttachmentDelayedCroppedScreenshot {
  type
  url
  fullscreenUrl
  previewThumbnailUrl
  delayMs
}
    `}
${ps`
    fragment GeneratedAttachmentDelayedFullScreenshot on GeneratedAttachmentDelayedFullScreenshot {
  type
  url
  fullscreenUrl
  delayMs
}
    `}
${ps`
    fragment GeneratedAttachmentSessionRewind on GeneratedAttachmentSessionRewind {
  type
  url
  fullscreenUrl
}
    `}`,ms=ps`
    fragment ThreadIntegration on ThreadIntegration {
  id
  name
  displayName
  status
  url
  objectId
  objectIdAlias
  openJamOnCreate
  fields {
    key
    label
    value {
      ... on IntegrationStringValue {
        type
        value
      }
      ... on IntegrationLabeledStringValue {
        type
        labeledValue {
          label
          value
        }
      }
      ... on IntegrationLabeledListValue {
        type
        labeledValues {
          label
          value
        }
      }
    }
  }
  events {
    type
    message
    occuredAt
    actor {
      ... on IntegrationActorJamUser {
        type
        userId
        data {
          id
          name
          email
        }
      }
      ... on IntegrationActorSystem {
        type
        service
      }
    }
  }
}
    `,gs=ps`
    fragment DetectedLibs on DetectedLibsType {
  logrocket {
    installed
    sessionURL
  }
  sentry {
    installed
    environment
  }
}
    `,ys=ps`
    fragment Comment on JamComment {
  __typename
  id: uid
  uid
  message
  threadUid
  createdAt
  updatedAt
  edited
  deleted
  playbackRelativeTimestamp
  reactions {
    ...Reaction
  }
  attachments {
    id
    name
    type
    size
    source
  }
  author {
    id
    name
    email
    avatar
  }
}
    ${ps`
    fragment Reaction on Reaction {
  id
  emoji
  upvotedUsers {
    id
    name
  }
}
    `}`,_s=ps`
    fragment ThreadAuthor on User {
  id
  name
  avatar
  email
  verifiedAccount
  createdAt
}
    `,ws=ps`
    fragment ThreadTicket on ThreadTicket {
  status
  priority
  modifiedAt
}
    `,Os=ps`
    fragment PrivacyRule on PrivacyRule {
  objectId
  objectType
  policy
  domains
  emails
}
    `,As=(ps`
    fragment DashboardThread on Thread {
  id: uid
  uid
  type
  generatedAttachment {
    ...GeneratedAttachment
  }
  integrations {
    ...ThreadIntegration
  }
  createdAt
  summary
  detectedLibs {
    ...DetectedLibs
  }
  replayEvents {
    id
    duration
    isPlayable
    url
    status
  }
  comments {
    ...Comment
  }
  author {
    ...ThreadAuthor
  }
  ticket {
    ...ThreadTicket
  }
  team {
    id
    emoji
    name
    type
  }
  privacyRule {
    ...PrivacyRule
  }
}
    ${bs}
${ms}
${gs}
${ys}
${_s}
${ws}
${Os}`,ps`
    fragment BaseJam on BaseJam {
  id
  type
  originalUrl
  country
  timezoneLocation
  createdAt
  updatedAt
  author {
    ...JamAuthor
  }
  team {
    id
    name
    emoji
    type
  }
  systemInfo {
    browser {
      name
      version
    }
    os {
      name
      version
    }
    screenDimensions {
      width
      height
    }
    extension {
      version
    }
  }
  detectedLibs {
    logrocket {
      installed
      sessionURL
    }
    sentry {
      installed
      environment
    }
  }
  fullStoryUrl
  logRocketUrl
  privacyRule {
    ...PrivacyRule
  }
  comments {
    ...Comment
  }
}
    ${ps`
    fragment JamAuthor on JamAuthor {
  id
  name
  email
  avatar
  verifiedAccount
  createdAt
  updatedAt
}
    `}
${Os}
${ys}`),Ss=ps`
    fragment Media on Media {
  id
  status
  contentType
  sizeBytes
  url
  createdAt
  updatedAt
}
    `,Ts=(ps`
    fragment Jam on Jam {
  ... on ScreenshotJam {
    ...ScreenshotJam
  }
  ... on VideoJam {
    ...VideoJam
  }
  ... on ReplayJam {
    ...ReplayJam
  }
}
    ${ps`
    fragment ScreenshotJam on ScreenshotJam {
  ...BaseJam
  data {
    id
    type
    delayMs
    media {
      ...Media
    }
    secondaryMedia {
      ...Media
    }
  }
}
    ${As}
${Ss}`}
${ps`
    fragment VideoJam on VideoJam {
  ...BaseJam
  data {
    id
    height
    width
    viewport
    durationMs
    media {
      ...Media
    }
    posterImageMedia {
      ...Media
    }
    cloudflareStream {
      id
      status
    }
  }
}
    ${As}
${Ss}`}
${ps`
    fragment ReplayJam on ReplayJam {
  ...BaseJam
  data {
    id
    media {
      ...Media
    }
    screenshotMedia {
      ...Media
    }
  }
}
    ${As}
${Ss}`}`,ps`
    fragment ThreadLocation on ThreadLocation {
  host
  path
  originalUrl
  cleanOriginalUrl
}
    `,ps`
    fragment Team on Team {
  id
  name
  emoji
  type
  roleType
  privacyRule {
    ...PrivacyRule
  }
  inviteLink {
    ...TeamInviteLink
  }
  createdAt
  updatedAt
  archived
  domains
  featureFlags
  members {
    id
    name
    avatar
    email
    status
    roleType
    verifiedAccount
  }
  policy
  settings {
    allowJamsSentExternally
    allowThreadsSentExternally
  }
  slug
}
    ${Os}
${ps`
    fragment TeamInviteLink on TeamInviteLink {
  id
  key
  limit
  used
  expiresAt
  createdAt
}
    `}`);ps`
    fragment Me on User {
  id
  name
  avatar
  email
  featureFlags
  unsubscribePreferences
  milestones {
    createdThread
    createdSecondThread
    sharedThread
    dismissedExtension
  }
  notificationSettings {
    preference
  }
  verifiedAccount
  teams {
    ...Team
  }
  createdAt
}
    ${Ts}`,ps`
    fragment SimpleTeam on Team {
  id
  name
  emoji
  featureFlags
  policy
  type
}
    `,ps`
    fragment Thread on Thread {
  id: uid
  uid
  type
  generatedAttachment {
    ...GeneratedAttachment
  }
  originalUrl
  summary
  ticket {
    ...ThreadTicket
  }
  integrations {
    ...ThreadIntegration
  }
  team {
    id
    emoji
    name
    type
  }
  privacyRule {
    ...PrivacyRule
  }
  comments {
    ...Comment
  }
  systemInfo {
    ...SystemInfo
  }
  detectedLibs {
    ...DetectedLibs
  }
  author {
    ...ThreadAuthor
  }
  createdAt
  replayEvents {
    id
    url
    duration
    isPlayable
    status
  }
  fullStoryUrl
  logRocketUrl
  timezoneLocation
  country
}
    ${bs}
${ws}
${ms}
${Os}
${ys}
${ps`
    fragment SystemInfo on SystemInfoType {
  browser {
    ...BrowserOSType
  }
  os {
    ...BrowserOSType
  }
  screenDimensions {
    width
    height
  }
  extension {
    version
  }
}
    ${ps`
    fragment BrowserOSType on BrowserOSType {
  name
  version
}
    `}`}
${gs}
${_s}`,ps`
    fragment User on User {
  id
  name
  avatar
  email
  featureFlags
  createdAt
  defaultRewindBlocked
}
    `,ps`
    fragment UserMilestones on User {
  milestones {
    createdThread
    createdSecondThread
    sharedThread
    dismissedExtension
  }
}
    `,ps`
    mutation integrationEdit($integration: IntegrationDetailsInput!, $threadUid: String!, $message: String) {
  integrationEdit(
    integration: $integration
    threadUid: $threadUid
    message: $message
  ) {
    success
  }
}
    `,ps`
    mutation integrateThread($integration: IntegrationDetailsInput!, $teamId: String!, $threadUid: String!, $message: String) {
  integrateThread(
    integration: $integration
    teamId: $teamId
    threadUid: $threadUid
    message: $message
  ) {
    threadUid
    success
    copiedToTeam
  }
}
    `,ps`
    query integrationAuthUrls($teamId: String!, $filter: IntegrationListFilter!, $ignoreTeamTypes: Boolean) {
  integrationList(
    teamId: $teamId
    filter: $filter
    ignoreTeamTypes: $ignoreTeamTypes
  ) {
    integrations {
      integrationName
      authorizationUrl
    }
  }
}
    `,ps`
    query integrationFields($integrationName: String!, $fieldFilters: IntegrationFieldFilterInput, $teamId: String!, $shallowLoad: Boolean) {
  integrationFields(
    integrationName: $integrationName
    fieldFilters: $fieldFilters
    teamId: $teamId
    shallowLoad: $shallowLoad
  ) {
    fields {
      key
      label
      type
      required
      placeholder
      fallbackValue
      visibleByDefault
      refetchFieldsOnChange
      options {
        label
        value
        selected
        thumbnail
        thumbnailLight
        title
      }
      validation {
        maxLength
        pattern {
          message
          value
        }
      }
      asyncOptions
    }
  }
}
    `,ps`
    query integrationFieldOptions($integrationName: String!, $teamId: String!, $field: String!, $query: String!, $fieldFilters: IntegrationFieldFilterInput) {
  integrationFieldOptions(
    integrationName: $integrationName
    teamId: $teamId
    field: $field
    query: $query
    fieldFilters: $fieldFilters
  ) {
    options {
      label
      value
      selected
      thumbnail
      title
    }
  }
}
    `,ps`
    query integrationList($teamId: String!, $filter: IntegrationListFilter!, $ignoreTeamTypes: Boolean) {
  integrationList(
    teamId: $teamId
    filter: $filter
    ignoreTeamTypes: $ignoreTeamTypes
  ) {
    integrations {
      integrationName
      displayName
      description
      authorizationUrl
      internal
      userConfigured
      teamConfigured
      usedForLogin
      copyThreadLink
      descriptionFieldAlias
      commentSendAlias
      onSubmitUserMessage
      sortPriority
      openJamOnCreate
      allowConnecting
      workspaceName
      clipboardParts
      fileTypes {
        ... on IntegrationFileTypeAll {
          type
        }
        ... on IntegrationFileTypeRestricted {
          type
          value
        }
        ... on IntegrationFileTypeNone {
          type
        }
      }
      connectedTeam {
        ...Team
      }
      authScope
    }
  }
}
    ${Ts}`,ps`
    query threadIntegrations($threadUid: String!) {
  jamThread(threadUid: $threadUid) {
    uid
    comments {
      ... on JamComment {
        message
      }
    }
    generatedAttachment {
      ...GeneratedAttachment
    }
    replayEvents {
      id
      isPlayable
    }
    integrations {
      name
      displayName
      status
      url
      openJamOnCreate
      clipboardParts
      fields {
        key
        label
        value {
          ... on IntegrationStringValue {
            type
            value
          }
          ... on IntegrationLabeledStringValue {
            type
            labeledValue {
              label
              value
            }
          }
          ... on IntegrationLabeledListValue {
            type
            labeledValues {
              label
              value
            }
          }
        }
      }
      events {
        type
        message
        occuredAt
        actor {
          ... on IntegrationActorJamUser {
            type
            userId
            data {
              id
              email
              name
            }
          }
          ... on IntegrationActorSystem {
            type
            service
          }
        }
      }
    }
  }
}
    ${bs}`;const Es=Eo.model("NotificationsSettings",{preference:Eo.maybe(Eo.enumeration(Object.values(ds)))}),xs=Eo.model("TeamModel",{id:Eo.identifier,name:Eo.string,emoji:Eo.string,type:Eo.enumeration(Object.values(vs)),featureFlags:Eo.array(Eo.string),roleType:Eo.enumeration(Object.values(hs)),createdAt:Eo.Date,updatedAt:Eo.Date}),Is=Eo.model("UserModel",{id:Eo.identifier,email:Eo.string,name:Eo.string,avatar:Eo.string,verifiedAccount:Eo.boolean,notificationSettings:Eo.maybe(Es),featureFlags:Eo.array(Eo.string),milestones:Eo.model({sharedThread:Eo.maybeNull(Eo.string),createdThread:Eo.maybeNull(Eo.string),createdSecondThread:Eo.maybeNull(Eo.string),dismissedExtension:Eo.maybeNull(Eo.string)}),teams:Eo.array(xs),createdAt:Eo.Date}).actions((e=>({setFeatureFlags:t=>{e.featureFlags=t}}))),ks=Eo.model("MinimalSharedModel",{auth:Do(Eo.optional(oa,{})),activeTabId:Do(Eo.maybe(Eo.number)),tabStates:Do(Eo.map(Eo.late((()=>ia)))),recording:Do(Eo.optional(Xo,{state:{type:"inactive"}})),preferences:Eo.optional(qo,{}),user:Do(Eo.maybe(Is)),lastSelected:Eo.maybe(No),workerConnected:Do(Eo.maybe(Eo.boolean)),annotations:Eo.optional(Co,{})}).volatile((()=>({address:void 0}))).actions((e=>({init(t){e.address=t}}))).views((e=>({get tabIdInThisContext(){if(!e.address)throw new Error("Tab ID must be instantiated in this context");if("tabId"in e.address)return e.address.tabId}}))).actions((e=>({removeUser(){e.user=void 0},setUser(t){e.user?fr(e.user,t):e.user=Is.create(t)},setWorkerConnected(t){e.workerConnected=t},setLastSelected(t){e.lastSelected?fr(e.lastSelected,t):e.lastSelected=No.create(t)},removeLastSelected(){e.lastSelected=void 0}}))).views((e=>({getTab:t=>e.tabStates.get(String(t))}))).actions((e=>({removeTab(t){e.tabStates.delete(String(t))},prepareTabForInjection(t,n){const r=e.getTab(t);if(r)return r.setUrl(n),r;const i=String(t),o=ia.create({url:n,tabId:i});return e.tabStates.set(i,o),o},setActiveTabId(t){e.activeTabId=t}}))).views((e=>({get currentTab(){if(!e.tabIdInThisContext)throw new Error(`currentTab() is not valid in this address (${JSON.stringify(e.address)})`);const t=e.tabStates.get(String(e.tabIdInThisContext));if(!t)throw new Error(`Current tab has been removed before tab unloaded? Tab ID is: ${e.tabIdInThisContext}`);return t}}))).views((e=>({get activeTab(){if(e.activeTabId)return e.tabStates.get(String(e.activeTabId))}}))).views((e=>({isRewindForceEnabledForTab(t){const n=e.getTab(t);if(n)return e.preferences.rewindPerformance.isHostForceEnabled(n.hostname)},isRewindDisabledForTab(t){const n=e.getTab(t);if(n)return e.preferences.rewindBlocklist.isUrlBlocked(n.url)?{disabledBecause:"Instant Replay is turned off for the tab's current URL, but you can re-enable it by clicking on the Jam extension."}:!e.preferences.rewindPerformance.isHostForceEnabled(n.hostname)&&!!n.hostHasBadRewindPerformance&&{disabledBecause:"Instant replay gets auto-disabled on heavy sites, but you can re-enable it by clicking on the Jam extension."}},canAutoDisableRewindForTab(t){const n=e.getTab(t);return!!n&&!e.preferences.rewindPerformance.isHostForceEnabled(n.hostname)&&!n.hostHasBadRewindPerformance}}))).actions((e=>({autoDisableRewindForTab(t,n){if(!e.canAutoDisableRewindForTab(t))return;const r=e.getTab(t);r&&r.autoDisableRewindSnapshots(n)}})));class Ps{constructor(e){this.innerMap=new Map,this.timeToEvict=e}clearExistingTimeout(e){const t=this.innerMap.get(e);t?.timeout&&clearTimeout(t.timeout)}newTimeout(e){return setTimeout((()=>{this.innerMap.delete(e)}),this.timeToEvict)}set(e,t){this.clearExistingTimeout(e),this.innerMap.set(e,{value:t,timeout:this.newTimeout(e)})}get(e){return this.innerMap.get(e)?.value}delete(e){return this.innerMap.delete(e)}}var js=n(58684);function Cs(e){return JSON.stringify([e.op,e.path,e.value])}class Ns extends class{constructor(e){this.recievedMessages=new Ps(100),this.getMessageKey=e}canBroadcastMessage(e){const t=this.getMessageKey(e);return!this.recievedMessages.get(t)||(this.recievedMessages.delete(t),!1)}addMessagesReceived(e){e.forEach((e=>this.recievedMessages.set(this.getMessageKey(e),e)))}}{constructor(){super(Cs)}}async function Ds(e,n){const i=await async function(e){const t=Po("local"),n=await xo(r.GLOBAL_MINIMAL_SHARED_STORE,t);return e&&!n?await xo(r.GLOBAL_MINIMAL_SHARED_STORE_PREVIOUS,t):n}(n);if(i)try{fr(e,i)}catch(n){t.k.error("Could not intialize persisted model from storage. If you changed the data model shape, try bumping the storage key version in currentGlobalStoreVersion. Resetting.",{snapshot:i,error:n,storageKeys:r}),fr(e,{})}}var Rs=n(88783),Ms=n(12108),Ls=n(35679),Fs=n(59100),Us=n(84589);class Vs{constructor(e){this.eventHandlers=new Map,this.history=[],this.historySize=500,this.address=e.address,this.onErrorHandler=e.onError,this.datagramLayer=new Us.u({address:e.address,canForward:e.canForward,receiveDataHandler:this.receiveDataHandler.bind(this),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers})}receiveDataHandler(e,t,n){if(!(function(e){return!(!e||"object"!=typeof e||!("applicationType"in e)||"string"!=typeof e.applicationType||!e.applicationType)}(r=e)&&"bus"===r.applicationType&&"eventName"in r&&"data"in r))return;var r;this.addToHistory({data:e,src:t,dest:n,timestamp:Date.now()});const i=this.eventHandlers.get(e.eventName);i&&i.forEach((r=>{try{r(e.data,{src:t,dest:n})}catch(e){this.onErrorHandler(new Rs.Lw({message:"Unhandled handler error"},e))}}))}on(e,t){const n=this.eventHandlers.get(e)??[];this.eventHandlers.set(e,n.concat(t))}off(e,t){const{eventHandlers:n}=this,r=(n.get(e)??[]).filter((e=>e!==t));0===r.length?n.delete(e):n.set(e,r)}emit(e){const{eventName:t,payload:n,timeout:r=5*Ms.X.Second}=e,i={component:js.wA.All};return this.addToHistory({data:{eventName:t,payload:n},src:this.address,dest:i,timestamp:Date.now()}),this.eventHandlers.get(t)?.forEach((e=>{try{e(n,{src:this.address,dest:i})}catch(e){this.onErrorHandler(new Rs.Lw({message:"Unhandled handler error"},e))}})),this.datagramLayer.sendData({applicationType:"bus",eventName:t,data:n},i,{timeout:r,canUseUrl:!1})}destruct(){this.datagramLayer.disconnect(),this.eventHandlers.clear()}addToHistory(e){if((0,Ls.J)(Fs.q.Production)){const t={...e};delete t.data,this.history.push(t)}else this.history.push(e);this.history.length>this.historySize&&this.history.shift()}}let Bs;function Hs(e){return Bs||(Bs=new Vs(e)),Bs}async function zs(e){const{id:n}=e;let{bus:i}=e;ko("initializing persisted store for",n),i||(i=Hs({address:n,canForward:!1,onError:e=>t.k.debug(e.toString())}));const a=ks.create();a.init(n),n.component===js.wA.Main&&(await Ds(a,!0),Ro(ks,a),await async function(e){const t=pr(e);await async function(e){const t=Po("local");try{const n=JSON.stringify(e);await t.setItem(r.GLOBAL_MINIMAL_SHARED_STORE,n)}catch(e){return}}(JSON.parse(JSON.stringify(t)))}(a)),await Ds(a,!1);const s={patchDeduper:new Ns,broadcastPatchMap:new Ps(75)},u=[];if(n.component===js.wA.Main){u.push(function(e){const{bus:n}=e;return function(e,n,r){const{whitelist:i,blacklist:a}=function(e){return"whitelist"in e?{whitelist:e.whitelist}:{blacklist:e.blacklist}}(n);let s=[];const u=()=>{const e=s;s=[],n.broadcastFunction(e)},c=0===n.patchBatchDuration?u:(0,o.throttle)(u,n.patchBatchDuration??1e3);return cr(e.fromStore,(o=>{const u=o.path.slice(1);let l=!1;if(i?i.forEach((e=>{u.startsWith(e)&&(l=!0)})):a&&(l=!0,a.forEach((e=>{u.startsWith(e)&&(l=!1)}))),l)try{e.toStore&&lr(e.toStore,o),n.broadcastToOtherTabs&&r.canBroadcastMessage(o)&&(s.push(o),c())}catch(e){t.k.error(`Failed to forward patch ${JSON.stringify(o)} due to error: ${e}`)}}))}({fromStore:e.fromStore},{blacklist:[],broadcastToOtherTabs:!0,broadcastFunction:t=>{ko("sending patches",t);const r={patches:t,sender:e.id,originalSender:e.id};n.emit({eventName:"SyncGlobalStatePatch",payload:r}),function(e){let t=!1;const n=setTimeout((()=>{t&&(ko("rebroadcasting patches..."),e.bus.emit({eventName:"SyncGlobalStatePatch",payload:e.patchMessage}))}),50);e.patchMessage.patches.forEach((r=>{const i=(o=e.patchMessage.sender).component===js.wA.ContentScript||o.component===js.wA.HostScript?`${o.component}-${o.tabId}-${o.location}`:o.component;var o;const a=e.globalBroadcastStatus.broadcastPatchMap.get(r.path);let s;a?.rebroadcastTimeout&&clearTimeout(a.rebroadcastTimeout),a&&a.senderString!==i&&(t=!0,s=n),e.globalBroadcastStatus.broadcastPatchMap.set(r.path,{senderString:i,patch:r,rebroadcastTimeout:s})})),t||clearTimeout(n)}({id:e.id,globalBroadcastStatus:e.globalBroadcastStatus,patchMessage:r,bus:n})},patchBatchDuration:0},e.globalBroadcastStatus.patchDeduper)}({id:n,fromStore:a,globalBroadcastStatus:s,bus:i}));const e=Po("local");u.push(await async function(e,t,n){const{storage:r,whitelist:i,blacklist:a}=n,s=Io(i),u=Io(a),c=(0,o.debounce)((()=>{const n={...pr(t)};Object.keys(n).forEach((e=>{i&&!s[e]&&delete n[e],a&&u[e]&&delete n[e]}));const o=JSON.stringify(n);r.setItem(e,o)}),10,{leading:!1,trailing:!0}),l=cr(t,(e=>{const t=e.path.slice(1);let n;i?i.forEach((e=>{"string"==typeof e&&t.startsWith(e)&&(n=!0)})):a&&(n=!0,a.forEach((e=>{"string"==typeof e&&t.startsWith(e)&&(n=!1)}))),n&&c()}));return l}(r.GLOBAL_MINIMAL_SHARED_STORE,a,{storage:e,blacklist:[]}))}else u.push(function(e){if(e.id.component===js.wA.Main)throw new Error("developer error: listening to patches should not happen inside the Main component");return e.bus.on("SyncGlobalStatePatch",(async n=>{const r=n;ko("applying patches from sender",n.sender,n);const i=r.patches;e.globalBroadcastStatus.patchDeduper.addMessagesReceived(i);try{lr(e.toStore,i)}catch(e){if(e instanceof Error&&e.message.includes("/tabStates")&&e.message.includes("Not a child"))return;t.k.error(`Failed to apply received network patches ${JSON.stringify(i)} from ${r.sender.component} due to error: ${e}`)}})),()=>e.bus.eventHandlers.clear()}({id:n,toStore:a,globalBroadcastStatus:s,bus:i}),(c=(e,r,i)=>{["@APPLY_PATCHES","@APPLY_SNAPSHOT"].includes(e.name)?r(e):(t.k.error(`Cannot call ${e.name} from ${n.component} at location ${n.location}! Global state modifications can only be made via Component.Main`),i(null))},void 0===l&&(l=!0),Jr(a).addMiddleWare(c,l))),"tabId"in n&&u.push(function(e,t,n){return n.on("SyncGlobalStateFromDiskSnapshot",(async n=>{const r=n.receiver;"tabId"in e&&r.tabId===e.tabId&&(ko("syncing store from disk snapshot"),Ds(t,!1))})),()=>n.eventHandlers.clear()}(n,a,i));var c,l;return{store:a,cleanup:()=>{u.forEach((e=>e()))}}}var $s,Gs=n(93318),Ws=n(14647),qs=n(54073),Ks=n.n(qs),Js=function(){return Js=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Js.apply(this,arguments)};function Xs(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ys(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Zs(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ys(arguments[t]));return e}function Qs(e){var t,n=null===(t=e)||void 0===t?void 0:t.host;return Boolean(n&&n.shadowRoot&&n.shadowRoot===e)}function eu(e){var t=e.maskInputOptions,n=e.tagName,r=e.type,i=e.value,o=e.maskInputFn,a=i||"";return(t[n.toLowerCase()]||t[r])&&(a=o?o(a,e.element):"*".repeat(a.length)),a}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}($s||($s={}));var tu,nu,ru=1,iu=new RegExp("[^a-z0-9-_:]");function ou(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(au).join(""):null}catch(e){return null}}function au(e){var t=e.cssText;if(function(e){return"styleSheet"in e}(e))try{t=ou(e.styleSheet)||t}catch(e){}return t}var su=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,uu=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,cu=/^(data:)([^,]*),(.*)/i;function lu(e,t){return(e||"").replace(su,(function(e,n,r,i,o,a){var s,u=r||o||a,c=n||i||"";if(!u)return e;if(!uu.test(u))return"url("+c+u+c+")";if(cu.test(u))return"url("+c+u+c+")";if("/"===u[0])return"url("+c+(((s=t).indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+u)+c+")";var l=t.split("/"),f=u.split("/");l.pop();for(var p=0,d=f;p<d.length;p++){var h=d[p];"."!==h&&(".."===h?l.pop():l.push(h))}return"url("+c+l.join("/")+c+")"}))}var fu=/^[^ \t\n\r\u000c]+/,pu=/^[, \t\n\r\u000c]+/;function du(e,t){if(!t||""===t.trim())return t;var n=e.createElement("a");return n.href=t,n.href}function hu(){var e=document.createElement("a");return e.href="",e.href}function vu(e,t,n,r){return"src"===n||"href"===n&&r||"xlink:href"===n&&r&&"#"!==r[0]?du(e,r):"background"!==n||!r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n&&r?function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r,i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}for(var i=[];r(pu),!(n>=t.length);){var o=r(fu);if(","===o.slice(-1))o=du(e,o.substring(0,o.length-1)),i.push(o);else{var a="";o=du(e,o);for(var s=!1;;){var u=t.charAt(n);if(""===u){i.push((o+a).trim());break}if(s)")"===u&&(s=!1);else{if(","===u){n+=1,i.push((o+a).trim());break}"("===u&&(s=!0)}a+=u,n+=1}}}return i.join(", ")}(e,r):"style"===n&&r?lu(r,hu()):"object"===t&&"data"===n&&r?du(e,r):r:du(e,r)}function bu(e,t,n){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){if("string"==typeof t){if(e.classList.contains(t))return!0}else e.classList.forEach((function(e){if(t.test(e))return!0}));return!(!n||!e.matches(n))||bu(e.parentNode,t,n)}return e.nodeType,e.TEXT_NODE,bu(e.parentNode,t,n)}function mu(e){return void 0===e?"":e.toLowerCase()}function gu(e,t){var n,r=t.doc,i=t.map,o=t.blockClass,a=t.blockSelector,s=t.maskTextClass,u=t.maskTextSelector,c=t.skipChild,l=void 0!==c&&c,f=t.inlineStylesheet,p=void 0===f||f,d=t.maskInputOptions,h=void 0===d?{}:d,v=t.maskTextFn,b=t.maskInputFn,m=t.slimDOMOptions,g=t.inlineImages,y=void 0!==g&&g,_=t.recordCanvas,w=void 0!==_&&_,O=t.onSerialize,A=t.onIframeLoad,S=t.iframeLoadTimeout,T=void 0===S?5e3:S,E=t.keepIframeSrcFn,x=void 0===E?function(){return!1}:E,I=t.preserveWhiteSpace,k=void 0===I||I,P=function(e,t){var n,r,i,o,a=t.doc,s=t.blockClass,u=t.blockSelector,c=t.maskTextClass,l=t.maskTextSelector,f=t.inlineStylesheet,p=t.maskInputOptions,d=void 0===p?{}:p,h=t.maskTextFn,v=t.maskInputFn,b=t.inlineImages,m=t.recordCanvas,g=t.keepIframeSrcFn;if(a.__sn){var y=a.__sn.id;r=1===y?void 0:y}switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:$s.Document,childNodes:[],compatMode:e.compatMode,rootId:r}:{type:$s.Document,childNodes:[],rootId:r};case e.DOCUMENT_TYPE_NODE:return{type:$s.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:r};case e.ELEMENT_NODE:for(var _=function(e,t,n){if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var r=0;r<e.classList.length;r++){var i=e.classList[r];if(t.test(i))return!0}return!!n&&e.matches(n)}(e,s,u),w=function(e){if(e instanceof HTMLFormElement)return"form";var t=e.tagName.toLowerCase().trim();return iu.test(t)?"div":t}(e),O={},A=0,S=Array.from(e.attributes);A<S.length;A++){var T=S[A],E=T.name,x=T.value;O[E]=vu(a,w,E,x)}if("link"===w&&f){var I=void 0;try{(I=new URL(a.location.href)).pathname=e.getAttribute("href")}catch{}var k,P=Array.from(a.styleSheets).find((function(t){return t.href===e.href||I&&t.href===I.href}));(k=ou(P))&&(delete O.rel,delete O.href,O._cssText=lu(k,P.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length&&(k=ou(e.sheet))&&(O._cssText=lu(k,hu())),"input"!==w&&"textarea"!==w&&"select"!==w||(x=e.value,"radio"!==O.type&&"checkbox"!==O.type&&"submit"!==O.type&&"button"!==O.type&&x?O.value=eu({element:e,type:O.type,tagName:w,value:x,maskInputOptions:d,maskInputFn:v}):e.checked&&(O.checked=e.checked)),"option"===w&&(e.selected?O.selected=!0:delete O.selected),"canvas"===w&&m&&(O.rr_dataURL=e.toDataURL()),"img"===w&&b&&tu&&nu){var j=e;j.crossOrigin="anonymous";try{tu.width=j.naturalWidth,tu.height=j.naturalHeight,nu.drawImage(j,0,0),O.rr_dataURL=tu.toDataURL()}catch(e){}}if("audio"!==w&&"video"!==w||(O.rr_mediaState=e.paused?"paused":"played",O.rr_mediaCurrentTime=e.currentTime),e.scrollLeft&&(O.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(O.rr_scrollTop=e.scrollTop),_){var C=e.getBoundingClientRect(),N=C.width,D=C.height;O={class:O.class,rr_width:N+"px",rr_height:D+"px"}}return"iframe"!==w||g(O.src)||(e.contentDocument||(O.rr_src=O.src),delete O.src),{type:$s.Element,tagName:w,attributes:O,childNodes:[],isSVG:(o=e,"svg"===o.tagName||o instanceof SVGElement||void 0),needBlock:_,rootId:r};case e.TEXT_NODE:var R=e.parentNode&&e.parentNode.tagName,M=e.textContent,L="STYLE"===R||void 0,F="SCRIPT"===R||void 0;if(L&&M){try{(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(M=(i=e.parentNode.sheet).cssRules?Array.from(i.cssRules).map((function(e){return e.cssText||""})).join(""):"")}catch(e){}M=lu(M,hu())}return F&&(M="SCRIPT_PLACEHOLDER"),!L&&!F&&bu(e,c,l)&&M&&(M=h?h(M):M.replace(/[\S]/g,"*")),{type:$s.Text,textContent:M||"",isStyle:L,rootId:r};case e.CDATA_SECTION_NODE:return{type:$s.CDATA,textContent:"",rootId:r};case e.COMMENT_NODE:return{type:$s.Comment,textContent:e.textContent||"",rootId:r};default:return!1}}(e,{doc:r,blockClass:o,blockSelector:a,maskTextClass:s,maskTextSelector:u,inlineStylesheet:p,maskInputOptions:h,maskTextFn:v,maskInputFn:b,inlineImages:y,recordCanvas:w,keepIframeSrcFn:x});if(!P)return console.warn(e,"not serialized"),null;n="__sn"in e?e.__sn.id:!function(e,t){if(t.comment&&e.type===$s.Comment)return!0;if(e.type===$s.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&"preload"===e.attributes.rel&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(mu(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===mu(e.attributes.name)||"icon"===mu(e.attributes.rel)||"apple-touch-icon"===mu(e.attributes.rel)||"shortcut icon"===mu(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&mu(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(mu(e.attributes.property).match(/^(og|twitter|fb):/)||mu(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===mu(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===mu(e.attributes.name)||"googlebot"===mu(e.attributes.name)||"bingbot"===mu(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===mu(e.attributes.name)||"generator"===mu(e.attributes.name)||"framework"===mu(e.attributes.name)||"publisher"===mu(e.attributes.name)||"progid"===mu(e.attributes.name)||mu(e.attributes.property).match(/^article:/)||mu(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===mu(e.attributes.name)||"yandex-verification"===mu(e.attributes.name)||"csrf-token"===mu(e.attributes.name)||"p:domain_verify"===mu(e.attributes.name)||"verify-v1"===mu(e.attributes.name)||"verification"===mu(e.attributes.name)||"shopify-checkout-api-token"===mu(e.attributes.name)))return!0}}return!1}(P,m)&&(k||P.type!==$s.Text||P.isStyle||P.textContent.replace(/^\s+|\s+$/gm,"").length)?ru++:-2;var j=Object.assign(P,{id:n});if(e.__sn=j,-2===n)return null;i[n]=e,O&&O(e);var C=!l;if(j.type===$s.Element&&(C=C&&!j.needBlock,delete j.needBlock),(j.type===$s.Document||j.type===$s.Element)&&C){m.headWhitespace&&P.type===$s.Element&&"head"===P.tagName&&(k=!1),y&&function(e){tu||(tu=e.createElement("canvas")),nu||(nu=tu.getContext("2d")),tu.width=0,tu.height=0}(r);for(var N={doc:r,map:i,blockClass:o,blockSelector:a,maskTextClass:s,maskTextSelector:u,skipChild:l,inlineStylesheet:p,maskInputOptions:h,maskTextFn:v,maskInputFn:b,slimDOMOptions:m,inlineImages:y,recordCanvas:w,preserveWhiteSpace:k,onSerialize:O,onIframeLoad:A,iframeLoadTimeout:T,keepIframeSrcFn:x},D=0,R=Array.from(e.childNodes);D<R.length;D++)(F=gu(R[D],N))&&j.childNodes.push(F);if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot){j.isShadowHost=!0;for(var M=0,L=Array.from(e.shadowRoot.childNodes);M<L.length;M++){var F;(F=gu(L[M],N))&&(F.isShadow=!0,j.childNodes.push(F))}}}return e.parentNode&&Qs(e.parentNode)&&(j.isShadow=!0),j.type===$s.Element&&"iframe"===j.tagName&&function(e,t,n){var r=e.contentWindow;if(r){var i,o=!1;try{i=r.document.readyState}catch(e){return}if("complete"===i){var a="about:blank";r.location.href===a&&e.src!==a&&""!==e.src?e.addEventListener("load",t):setTimeout(t,0)}else{var s=setTimeout((function(){o||(t(),o=!0)}),n);e.addEventListener("load",(function(){clearTimeout(s),o=!0,t()}))}}}(e,(function(){var t=e.contentDocument;if(t&&A){var n=gu(t,{doc:t,map:i,blockClass:o,blockSelector:a,maskTextClass:s,maskTextSelector:u,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskTextFn:v,maskInputFn:b,slimDOMOptions:m,inlineImages:y,recordCanvas:w,preserveWhiteSpace:k,onSerialize:O,onIframeLoad:A,iframeLoadTimeout:T,keepIframeSrcFn:x});n&&A(e,n)}}),T),j}var yu,_u,wu,Ou,Au;function Su(e,t,n){void 0===n&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}new RegExp(/([^\\]):hover/.source,"g"),function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin"}(yu||(yu={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration"}(_u||(_u={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"}(wu||(wu={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange"}(Ou||(Ou={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(Au||(Au={}));var Tu="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",Eu={map:{},getId:function(){return console.error(Tu),-1},getNode:function(){return console.error(Tu),null},removeNodeFromMap:function(){console.error(Tu)},has:function(){return console.error(Tu),!1},reset:function(){console.error(Tu)}};function xu(e,t,n){void 0===n&&(n={});var r=null,i=0;return function(o){var a=Date.now();i||!1!==n.leading||(i=a);var s=t-(a-i),u=this,c=arguments;s<=0||s>t?(r&&(clearTimeout(r),r=null),i=a,e.apply(u,c)):r||!1===n.trailing||(r=setTimeout((function(){i=!1===n.leading?0:Date.now(),r=null,e.apply(u,c)}),s))}}function Iu(e,t,n,r,i){void 0===i&&(i=window);var o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set:function(e){var t=this;setTimeout((function(){n.set.call(t,e)}),0),o&&o.set&&o.set.call(this,e)}}),function(){return Iu(e,t,o||{},!0)}}function ku(e,t,n){try{if(!(t in e))return function(){};var r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,function(){e[t]=r}}catch(e){return function(){}}}function Pu(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ju(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Cu(e,t){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){var n=!1;return"string"==typeof t?n=e.classList.contains(t):e.classList.forEach((function(e){t.test(e)&&(n=!0)})),n||Cu(e.parentNode,t)}return e.nodeType,e.TEXT_NODE,Cu(e.parentNode,t)}function Nu(e){return"__sn"in e&&-2===e.__sn.id}function Du(e,t){if(Qs(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Du(e.parentNode,t))}function Ru(e){return Boolean(e.changedTouches)}function Mu(e){return"__sn"in e&&e.__sn.type===$s.Element&&"iframe"===e.__sn.tagName}function Lu(e){var t;return Boolean(null===(t=e)||void 0===t?void 0:t.shadowRoot)}function Fu(e){return"__ln"in e}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Eu=new Proxy(Eu,{get:function(e,t,n){return"map"===t&&console.error(Tu),Reflect.get(e,t,n)}})),function(){function e(){this.reset()}e.prototype.add=function(e){var t=this.indexes.get(e.parentId),n={id:e.node.id,mutation:e,children:[],texts:[],attributes:[]};t?(n.parent=t,t.children[n.id]=n):this.tree[n.id]=n,this.indexes.set(n.id,n)},e.prototype.remove=function(e,t){var n=this,r=this.indexes.get(e.parentId),i=this.indexes.get(e.id),o=function(e){n.removeIdSet.add(e);var r=t.getNode(e);null==r||r.childNodes.forEach((function(e){"__sn"in e&&o(e.__sn.id)}))},a=function(t){n.removeIdSet.add(t.id),Object.values(t.children).forEach((function(e){return a(e)}));var r=n.indexes.get(t.id);if(r){var i=r.parent;i&&(delete r.parent,delete i.children[r.id],n.indexes.delete(e.id))}};i?r?(delete i.parent,delete r.children[i.id],this.indexes.delete(e.id),a(i)):(delete this.tree[i.id],this.indexes.delete(i.id),a(i)):(this.removeNodeMutations.push(e),o(e.id))},e.prototype.text=function(e){var t=this.indexes.get(e.id);t?t.texts.push(e):this.textMutations.push(e)},e.prototype.attribute=function(e){var t=this.indexes.get(e.id);t?t.attributes.push(e):this.attributeMutations.push(e)},e.prototype.scroll=function(e){this.scrollMap.set(e.id,e)},e.prototype.input=function(e){this.inputMap.set(e.id,e)},e.prototype.flush=function(){var e,t,n,r,i=this,o=this,a=o.tree,s=o.removeNodeMutations,u=o.textMutations,c=o.attributeMutations,l={source:_u.Mutation,removes:s,texts:u,attributes:c,adds:[]},f=function(e,t){t&&i.removeIdSet.add(e.id),l.texts=l.texts.concat(t?[]:e.texts).filter((function(e){return!i.removeIdSet.has(e.id)})),l.attributes=l.attributes.concat(t?[]:e.attributes).filter((function(e){return!i.removeIdSet.has(e.id)})),i.removeIdSet.has(e.id)||i.removeIdSet.has(e.mutation.parentId)||t?Object.values(e.children).forEach((function(e){return f(e,!0)})):(l.adds.push(e.mutation),e.children&&Object.values(e.children).forEach((function(e){return f(e,!1)})))};Object.values(a).forEach((function(e){return f(e,!1)}));try{for(var p=Xs(this.scrollMap.keys()),d=p.next();!d.done;d=p.next()){var h=d.value;this.removeIdSet.has(h)&&this.scrollMap.delete(h)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}try{for(var v=Xs(this.inputMap.keys()),b=v.next();!b.done;b=v.next())h=b.value,this.removeIdSet.has(h)&&this.inputMap.delete(h)}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}var m=new Map(this.scrollMap),g=new Map(this.inputMap);return this.reset(),{mutationData:l,scrollMap:m,inputMap:g}},e.prototype.reset=function(){this.tree=[],this.indexes=new Map,this.removeNodeMutations=[],this.textMutations=[],this.attributeMutations=[],this.removeIdSet=new Set,this.scrollMap=new Map,this.inputMap=new Map},e.prototype.idRemoved=function(e){return this.removeIdSet.has(e)}}();var Uu=function(){function e(){this.length=0,this.head=null}return e.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t},e.prototype.addNode=function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Fu(e.previousSibling)){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else e.nextSibling&&Fu(e.nextSibling)&&e.nextSibling.__ln.previous?(n=e.nextSibling.__ln.previous,t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)):(this.head&&(this.head.previous=t),t.next=this.head,this.head=t);this.length++},e.prototype.removeNode=function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)},e}(),Vu=function(e,t){return e+"@"+t};function Bu(e){return"__sn"in e}function Hu(e){return!1===Boolean(Array.from(e.target?.getRootNode()?.children??[]).find((e=>e.id.includes("__jam-ui-container"))))}var zu=function(){function e(){var e=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(t){t.filter(Hu).forEach(e.processMutation),e.emit()},this.emit=function(){var t,n,r,i;if(!e.frozen&&!e.locked){for(var o=[],a=new Uu,s=function(t){for(var n=t,r=-2;-2===r;)r=(n=n&&n.nextSibling)&&e.mirror.getId(n);return r},u=function(t){var n,r=t.getRootNode?null===(n=t.getRootNode())||void 0===n?void 0:n.host:null,i=!(e.doc.contains(t)||r instanceof Node&&e.doc.contains(r));if(t.parentNode&&!i){var u=Qs(t.parentNode)?e.mirror.getId(r):e.mirror.getId(t.parentNode),c=s(t);if(-1===u||-1===c)return a.addNode(t);var l=gu(t,{doc:e.doc,map:e.mirror.map,blockClass:e.blockClass,blockSelector:e.blockSelector,maskTextClass:e.maskTextClass,maskTextSelector:e.maskTextSelector,skipChild:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,maskTextFn:e.maskTextFn,maskInputFn:e.maskInputFn,slimDOMOptions:e.slimDOMOptions,recordCanvas:e.recordCanvas,inlineImages:e.inlineImages,onSerialize:function(n){Mu(n)&&e.iframeManager.addIframe(n),Lu(t)&&e.shadowDomManager.addShadowRoot(t.shadowRoot,document)},onIframeLoad:function(t,n){e.iframeManager.attachIframe(t,n)}});l&&o.push({parentId:u,nextId:c,node:l})}};e.mapRemoves.length;)e.mirror.removeNodeFromMap(e.mapRemoves.shift());try{for(var c=Xs(e.movedSet),l=c.next();!l.done;l=c.next()){var f=l.value;Gu(e.removes,f,e.mirror)&&!e.movedSet.has(f.parentNode)||u(f)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}try{for(var p=Xs(e.addedSet),d=p.next();!d.done;d=p.next())f=d.value,Wu(e.droppedSet,f)||Gu(e.removes,f,e.mirror)?Wu(e.movedSet,f)?u(f):e.droppedSet.add(f):u(f)}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}for(var h=null;a.length;){var v=null;if(h){var b=e.mirror.getId(h.value.parentNode),m=s(h.value);-1!==b&&-1!==m&&(v=h)}if(!v)for(var g=a.length-1;g>=0;g--){var y=a.get(g);if(y&&(b=e.mirror.getId(y.value.parentNode),m=s(y.value),-1!==b&&-1!==m)){v=y;break}}if(!v){for(;a.head;)a.removeNode(a.head.value);break}h=v.previous,a.removeNode(v.value),u(v.value)}var _={texts:e.texts.map((function(t){return{id:e.mirror.getId(t.node),value:t.value}})).filter((function(t){return e.mirror.has(t.id)})),attributes:e.attributes.map((function(t){return{id:e.mirror.getId(t.node),attributes:t.attributes}})).filter((function(t){return e.mirror.has(t.id)})),removes:e.removes,adds:o};(_.texts.length||_.attributes.length||_.removes.length||_.adds.length)&&(e.texts=[],e.attributes=[],e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.movedMap={},e.emissionCallback(_))}},this.processMutation=function(t){var n,r,i,o;if(!Nu(t.target))switch(t.type){case"characterData":var a=t.target.textContent;Cu(t.target,e.blockClass)||a===t.oldValue||e.texts.push({value:bu(t.target,e.maskTextClass,e.maskTextSelector)&&a?e.maskTextFn?e.maskTextFn(a):a.replace(/[\S]/g,"*"):a,node:t.target});break;case"attributes":var s=t.target;if(a=t.target.getAttribute(t.attributeName),"value"===t.attributeName&&(a=eu({maskInputOptions:e.maskInputOptions,tagName:t.target.tagName,type:t.target.getAttribute("type"),value:a,maskInputFn:e.maskInputFn})),Cu(t.target,e.blockClass)||a===t.oldValue)return;var u=e.attributes.find((function(e){return e.node===t.target}));if(u||(u={node:t.target,attributes:{}},e.attributes.push(u)),"style"===t.attributeName){var c=e.doc.createElement("span");t.oldValue&&c.setAttribute("style",t.oldValue),void 0!==u.attributes.style&&null!==u.attributes.style||(u.attributes.style={});var l=u.attributes.style;try{for(var f=Xs(Array.from(s.style)),p=f.next();!p.done;p=f.next()){var d=p.value,h=s.style.getPropertyValue(d),v=s.style.getPropertyPriority(d);h===c.style.getPropertyValue(d)&&v===c.style.getPropertyPriority(d)||(l[d]=""===v?h:[h,v])}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var b=Xs(Array.from(c.style)),m=b.next();!m.done;m=b.next())d=m.value,""===s.style.getPropertyValue(d)&&(l[d]=!1)}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=b.return)&&o.call(b)}finally{if(i)throw i.error}}}else u.attributes[t.attributeName]=vu(e.doc,t.target.tagName,t.attributeName,a);break;case"childList":t.addedNodes.forEach((function(n){return e.genAdds(n,t.target)})),t.removedNodes.forEach((function(n){var r=e.mirror.getId(n),i=Qs(t.target)?e.mirror.getId(t.target.host):e.mirror.getId(t.target);Cu(t.target,e.blockClass)||Nu(n)||(e.addedSet.has(n)?($u(e.addedSet,n),e.droppedSet.add(n)):e.addedSet.has(t.target)&&-1===r||Du(t.target,e.mirror)||(e.movedSet.has(n)&&e.movedMap[Vu(r,i)]?$u(e.movedSet,n):e.removes.push({parentId:i,id:r,isShadow:!!Qs(t.target)||void 0})),e.mapRemoves.push(n))}))}},this.genAdds=function(t,n){if(!n||!Cu(n,e.blockClass)){if(Bu(t)){if(Nu(t))return;e.movedSet.add(t);var r=null;n&&Bu(n)&&(r=n.__sn.id),r&&(e.movedMap[Vu(t.__sn.id,r)]=!0)}else e.addedSet.add(t),e.droppedSet.delete(t);Cu(t,e.blockClass)||t.childNodes.forEach((function(t){return e.genAdds(t)}))}}}return e.prototype.init=function(e,t,n,r,i,o,a,s,u,c,l,f,p,d,h,v){this.blockClass=t,this.blockSelector=n,this.maskTextClass=r,this.maskTextSelector=i,this.inlineStylesheet=o,this.maskInputOptions=a,this.maskTextFn=s,this.maskInputFn=u,this.recordCanvas=c,this.inlineImages=l,this.slimDOMOptions=f,this.emissionCallback=e,this.doc=p,this.mirror=d,this.iframeManager=h,this.shadowDomManager=v},e.prototype.freeze=function(){this.frozen=!0},e.prototype.unfreeze=function(){this.frozen=!1,this.emit()},e.prototype.isFrozen=function(){return this.frozen},e.prototype.lock=function(){this.locked=!0},e.prototype.unlock=function(){this.locked=!1,this.emit()},e}();function $u(e,t){e.delete(t),t.childNodes.forEach((function(t){return $u(e,t)}))}function Gu(e,t,n){var r=t.parentNode;if(!r)return!1;var i=n.getId(r);return!!e.some((function(e){return e.id===i}))||Gu(e,r,n)}function Wu(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||Wu(e,n))}const qu=zu;var Ku=[],Ju="undefined"!=typeof CSSGroupingRule,Xu="undefined"!=typeof CSSMediaRule,Yu="undefined"!=typeof CSSSupportsRule,Zu="undefined"!=typeof CSSConditionRule;function Qu(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0];return e.target}catch(t){return e.target}}function ec(e,t,n,r,i,o,a,s,u,c,l,f,p,d,h,v,b){var m,g,y,_=new qu;Ku.push(_),_.init(e,n,r,i,o,a,s,u,c,l,f,p,t,d,h,v);var w=window.MutationObserver||window.__rrMutationObserver,O=null===(y=null===(g=null===(m=window)||void 0===m?void 0:m.Zone)||void 0===g?void 0:g.__symbol__)||void 0===y?void 0:y.call(g,"MutationObserver");O&&window[O]&&(w=window[O]);var A=new w(_.processMutations.bind(_));return A.observe(b,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),A}function tc(e,t,n,r,i){var o=xu((function(i){var o=Qu(i);if(o&&!Cu(o,r)){var a=n.getId(o);if(o===t){var s=t.scrollingElement||t.documentElement;e({id:a,x:s.scrollLeft,y:s.scrollTop})}else e({id:a,x:o.scrollLeft,y:o.scrollTop})}}),i.scroll||100);return Su("scroll",o,t)}function nc(e,t){var n=Js({},e);return t||delete n.userTriggered,n}var rc=["INPUT","TEXTAREA","SELECT"],ic=new WeakMap;function oc(e){return function(e,t){if(Ju&&e.parentRule instanceof CSSGroupingRule||Xu&&e.parentRule instanceof CSSMediaRule||Yu&&e.parentRule instanceof CSSSupportsRule||Zu&&e.parentRule instanceof CSSConditionRule){var n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else n=Array.from(e.parentStyleSheet.cssRules).indexOf(e),t.unshift(n);return t}(e,[])}function ac(e,t){var n,r;void 0===t&&(t={});var i=e.doc.defaultView;if(!i)return function(){};!function(e,t){var n=e.mutationCb,r=e.mousemoveCb,i=e.mouseInteractionCb,o=e.scrollCb,a=e.viewportResizeCb,s=e.inputCb,u=e.mediaInteractionCb,c=e.styleSheetRuleCb,l=e.styleDeclarationCb,f=e.canvasMutationCb,p=e.fontCb;e.mutationCb=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.mutation&&t.mutation.apply(t,Zs(e)),n.apply(void 0,Zs(e))},e.mousemoveCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mousemove&&t.mousemove.apply(t,Zs(e)),r.apply(void 0,Zs(e))},e.mouseInteractionCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mouseInteraction&&t.mouseInteraction.apply(t,Zs(e)),i.apply(void 0,Zs(e))},e.scrollCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.scroll&&t.scroll.apply(t,Zs(e)),o.apply(void 0,Zs(e))},e.viewportResizeCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.viewportResize&&t.viewportResize.apply(t,Zs(e)),a.apply(void 0,Zs(e))},e.inputCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.input&&t.input.apply(t,Zs(e)),s.apply(void 0,Zs(e))},e.mediaInteractionCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mediaInteaction&&t.mediaInteaction.apply(t,Zs(e)),u.apply(void 0,Zs(e))},e.styleSheetRuleCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.styleSheetRule&&t.styleSheetRule.apply(t,Zs(e)),c.apply(void 0,Zs(e))},e.styleDeclarationCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.styleDeclaration&&t.styleDeclaration.apply(t,Zs(e)),l.apply(void 0,Zs(e))},e.canvasMutationCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.canvasMutation&&t.canvasMutation.apply(t,Zs(e)),f.apply(void 0,Zs(e))},e.fontCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.font&&t.font.apply(t,Zs(e)),p.apply(void 0,Zs(e))}}(e,t);var o,a,s,u=ec(e.mutationCb,e.doc,e.blockClass,e.blockSelector,e.maskTextClass,e.maskTextSelector,e.inlineStylesheet,e.maskInputOptions,e.maskTextFn,e.maskInputFn,e.recordCanvas,e.inlineImages,e.slimDOMOptions,e.mirror,e.iframeManager,e.shadowDomManager,e.doc),c=function(e,t,n,r){if(!1===t.mousemove)return function(){};var i,o="number"==typeof t.mousemove?t.mousemove:50,a="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,s=[],u=xu((function(t){var n=Date.now()-i;e(s.map((function(e){return e.timeOffset-=n,e})),t),s=[],i=null}),a),c=xu((function(e){var t=Qu(e),n=Ru(e)?e.changedTouches[0]:e,o=n.clientX,a=n.clientY;i||(i=Date.now()),s.push({x:o,y:a,id:r.getId(t),timeOffset:Date.now()-i}),u("undefined"!=typeof DragEvent&&e instanceof DragEvent?_u.Drag:e instanceof MouseEvent?_u.MouseMove:_u.TouchMove)}),o,{trailing:!1}),l=[Su("mousemove",c,n),Su("touchmove",c,n),Su("drag",c,n)];return function(){l.forEach((function(e){return e()}))}}(e.mousemoveCb,e.sampling,e.doc,e.mirror),l=function(e,t,n,r,i){if(!1===i.mouseInteraction)return function(){};var o=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,a=[];return Object.keys(wu).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==o[e]})).forEach((function(i){var o=i.toLowerCase(),s=function(t){return function(i){var o=Qu(i);if(!Cu(o,r)){var a=Ru(i)?i.changedTouches[0]:i;if(a){var s=n.getId(o),u=a.clientX,c=a.clientY;e({type:wu[t],id:s,x:u,y:c})}}}}(i);a.push(Su(o,s,t))})),function(){a.forEach((function(e){return e()}))}}(e.mouseInteractionCb,e.doc,e.mirror,e.blockClass,e.sampling),f=tc(e.scrollCb,e.doc,e.mirror,e.blockClass,e.sampling),p=(o=e.viewportResizeCb,a=-1,s=-1,Su("resize",xu((function(){var e=Pu(),t=ju();a===e&&s===t||(o({width:Number(t),height:Number(e)}),a=e,s=t)}),200),window)),d=function(e,t,n,r,i,o,a,s,u){function c(e){var n=Qu(e),s=e.isTrusted;if(n&&n.tagName&&!(rc.indexOf(n.tagName)<0)&&!Cu(n,r)){var c=n.type;if(!n.classList.contains(i)){var f=n.value,p=!1;"radio"===c||"checkbox"===c?p=n.checked:(o[n.tagName.toLowerCase()]||o[c])&&(f=eu({element:n,maskInputOptions:o,tagName:n.tagName,type:c,value:f,maskInputFn:a})),l(n,nc({text:f,isChecked:p,userTriggered:s},u));var d=n.name;"radio"===c&&d&&p&&t.querySelectorAll('input[type="radio"][name="'+d+'"]').forEach((function(e){e!==n&&l(e,nc({text:e.value,isChecked:!p,userTriggered:!1},u))}))}}}function l(t,r){var i=ic.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){ic.set(t,r);var o=n.getId(t);e(Js(Js({},r),{id:o}))}}var f=("last"===s.input?["change"]:["input","change"]).map((function(e){return Su(e,c,t)})),p=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),d=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]];return p&&p.set&&f.push.apply(f,Zs(d.map((function(e){return Iu(e[0],e[1],{set:function(){c({target:this})}})})))),function(){f.forEach((function(e){return e()}))}}(e.inputCb,e.doc,e.mirror,e.blockClass,e.ignoreClass,e.maskInputOptions,e.maskInputFn,e.sampling,e.userTriggeredOnInput),h=function(e,t,n,r){var i=function(i){return xu((function(r){var o=Qu(r);if(o&&!Cu(o,t)){var a=o,s=a.currentTime,u=a.volume,c=a.muted;e({type:i,id:n.getId(o),currentTime:s,volume:u,muted:c})}}),r.media||500)},o=[Su("play",i(0)),Su("pause",i(1)),Su("seeked",i(2)),Su("volumechange",i(3))];return function(){o.forEach((function(e){return e()}))}}(e.mediaInteractionCb,e.blockClass,e.mirror,e.sampling),v=function(e,t,n){var r=t.CSSStyleSheet.prototype.insertRule;t.CSSStyleSheet.prototype.insertRule=function(t,i){var o=n.getId(this.ownerNode);return-1!==o&&e({id:o,adds:[{rule:t,index:i}]}),r.apply(this,arguments)};var i=t.CSSStyleSheet.prototype.deleteRule;t.CSSStyleSheet.prototype.deleteRule=function(t){var r=n.getId(this.ownerNode);return-1!==r&&e({id:r,removes:[{index:t}]}),i.apply(this,arguments)};var o={};Ju?o.CSSGroupingRule=t.CSSGroupingRule:(Xu&&(o.CSSMediaRule=t.CSSMediaRule),Zu&&(o.CSSConditionRule=t.CSSConditionRule),Yu&&(o.CSSSupportsRule=t.CSSSupportsRule));var a={};return Object.entries(o).forEach((function(t){var r=Ys(t,2),i=r[0],o=r[1];a[i]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=function(t,r){var o=n.getId(this.parentStyleSheet.ownerNode);return-1!==o&&e({id:o,adds:[{rule:t,index:Zs(oc(this),[r||0])}]}),a[i].insertRule.apply(this,arguments)},o.prototype.deleteRule=function(t){var r=n.getId(this.parentStyleSheet.ownerNode);return-1!==r&&e({id:r,removes:[{index:Zs(oc(this),[t])}]}),a[i].deleteRule.apply(this,arguments)}})),function(){t.CSSStyleSheet.prototype.insertRule=r,t.CSSStyleSheet.prototype.deleteRule=i,Object.entries(o).forEach((function(e){var t=Ys(e,2),n=t[0],r=t[1];r.prototype.insertRule=a[n].insertRule,r.prototype.deleteRule=a[n].deleteRule}))}}(e.styleSheetRuleCb,i,e.mirror),b=function(e,t,n){var r=t.CSSStyleDeclaration.prototype.setProperty;t.CSSStyleDeclaration.prototype.setProperty=function(t,i,o){var a,s,u=n.getId(null===(s=null===(a=this.parentRule)||void 0===a?void 0:a.parentStyleSheet)||void 0===s?void 0:s.ownerNode);return-1!==u&&e({id:u,set:{property:t,value:i,priority:o},index:oc(this.parentRule)}),r.apply(this,arguments)};var i=t.CSSStyleDeclaration.prototype.removeProperty;return t.CSSStyleDeclaration.prototype.removeProperty=function(t){var r,o,a=n.getId(null===(o=null===(r=this.parentRule)||void 0===r?void 0:r.parentStyleSheet)||void 0===o?void 0:o.ownerNode);return-1!==a&&e({id:a,remove:{property:t},index:oc(this.parentRule)}),i.apply(this,arguments)},function(){t.CSSStyleDeclaration.prototype.setProperty=r,t.CSSStyleDeclaration.prototype.removeProperty=i}}(e.styleDeclarationCb,i,e.mirror),m=e.recordCanvas?function(e,t,n,r){var i,o,a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype),s=[],u=function(i){try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[i])return"continue";var o=ku(t.CanvasRenderingContext2D.prototype,i,(function(t){return function(){for(var o=this,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return Cu(this.canvas,n)||setTimeout((function(){var t=Zs(a);if("drawImage"===i&&t[0]&&t[0]instanceof HTMLCanvasElement){var n=t[0],s=n.getContext("2d"),u=null==s?void 0:s.getImageData(0,0,n.width,n.height),c=null==u?void 0:u.data;t[0]=JSON.stringify(c)}e({id:r.getId(o.canvas),property:i,args:t})}),0),t.apply(this,a)}}));s.push(o)}catch(n){var a=Iu(t.CanvasRenderingContext2D.prototype,i,{set:function(t){e({id:r.getId(this.canvas),property:i,args:[t],setter:!0})}});s.push(a)}};try{for(var c=Xs(a),l=c.next();!l.done;l=c.next())u(l.value)}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return function(){s.forEach((function(e){return e()}))}}(e.canvasMutationCb,i,e.blockClass,e.mirror):function(){},g=e.collectFonts?function(e,t){var n=t.defaultView;if(!n)return function(){};var r=[],i=new WeakMap,o=n.FontFace;n.FontFace=function(e,t,n){var r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};var a=ku(t.fonts,"add",(function(t){return function(n){return setTimeout((function(){var t=i.get(n);t&&(e(t),i.delete(n))}),0),t.apply(this,[n])}}));return r.push((function(){n.FontFace=o})),r.push(a),function(){r.forEach((function(e){return e()}))}}(e.fontCb,e.doc):function(){},y=[];try{for(var _=Xs(e.plugins),w=_.next();!w.done;w=_.next()){var O=w.value;y.push(O.observer(O.callback,i,O.options))}}catch(e){n={error:e}}finally{try{w&&!w.done&&(r=_.return)&&r.call(_)}finally{if(n)throw n.error}}return function(){u.disconnect(),c(),l(),f(),p(),d(),h(),v(),b(),m(),g(),y.forEach((function(e){return e()}))}}var sc,uc,cc=function(){function e(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}return e.prototype.addIframe=function(e){this.iframes.set(e,!0)},e.prototype.addLoadListener=function(e){this.loadListener=e},e.prototype.attachIframe=function(e,t){var n;this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e)},e}(),lc=function(){function e(e){this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror}return e.prototype.addShadowRoot=function(e,t){ec(this.mutationCb,t,this.bypassOptions.blockClass,this.bypassOptions.blockSelector,this.bypassOptions.maskTextClass,this.bypassOptions.maskTextSelector,this.bypassOptions.inlineStylesheet,this.bypassOptions.maskInputOptions,this.bypassOptions.maskTextFn,this.bypassOptions.maskInputFn,this.bypassOptions.recordCanvas,this.bypassOptions.inlineImages,this.bypassOptions.slimDOMOptions,this.mirror,this.bypassOptions.iframeManager,this,e),tc(this.scrollCb,e,this.mirror,this.bypassOptions.blockClass,this.bypassOptions.sampling)},e}();function fc(e){return Js(Js({},e),{timestamp:Date.now()})}var pc={map:{},getId:function(e){return e&&e.__sn?e.__sn.id:-1},getNode:function(e){return this.map[e]||null},removeNodeFromMap:function(e){var t=this,n=e.__sn&&e.__sn.id;delete this.map[n],e.childNodes&&e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))},has:function(e){return this.map.hasOwnProperty(e)},reset:function(){this.map={}}};function dc(e){void 0===e&&(e={});var t=e.emit,n=e.checkoutEveryNms,r=e.checkoutEveryNth,i=e.blockClass,o=void 0===i?"rr-block":i,a=e.blockSelector,s=void 0===a?null:a,u=e.ignoreClass,c=void 0===u?"rr-ignore":u,l=e.maskTextClass,f=void 0===l?"rr-mask":l,p=e.maskTextSelector,d=void 0===p?null:p,h=e.inlineStylesheet,v=void 0===h||h,b=e.maskAllInputs,m=e.maskInputOptions,g=e.slimDOMOptions,y=e.maskInputFn,_=e.maskTextFn,w=e.hooks,O=e.packFn,A=e.sampling,S=void 0===A?{}:A,T=e.mousemoveWait,E=e.recordCanvas,x=void 0!==E&&E,I=e.userTriggeredOnInput,k=void 0!==I&&I,P=e.collectFonts,j=void 0!==P&&P,C=e.inlineImages,N=void 0!==C&&C,D=e.plugins,R=e.keepIframeSrcFn,M=void 0===R?function(){return!1}:R;if(!t)throw new Error("emit function is required");void 0!==T&&void 0===S.mousemove&&(S.mousemove=T);var L,F,U=!0===b?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==m?m:{password:!0},V=!0===g||"all"===g?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===g,headMetaDescKeywords:"all"===g}:g||{};void 0===L&&(L=window),"NodeList"in L&&!L.NodeList.prototype.forEach&&(L.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in L&&!L.DOMTokenList.prototype.forEach&&(L.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1});var B=0;sc=function(e,i){var o;if(!(null===(o=Ku[0])||void 0===o?void 0:o.isFrozen())||e.type===yu.FullSnapshot||e.type===yu.IncrementalSnapshot&&e.data.source===_u.Mutation||Ku.forEach((function(e){return e.unfreeze()})),t(O?O(e):e,i),e.type===yu.FullSnapshot)F=e,B=0;else if(e.type===yu.IncrementalSnapshot){if(e.data.source===_u.Mutation&&e.data.isAttachIframe)return;B++;var a=r&&B>=r,s=n&&e.timestamp-F.timestamp>n;(a||s)&&uc(!0)}};var H=function(e){sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.Mutation},e)}))},z=function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.Scroll},e)}))},$=new cc({mutationCb:H}),G=new lc({mutationCb:H,scrollCb:z,bypassOptions:{blockClass:o,blockSelector:s,maskTextClass:f,maskTextSelector:d,inlineStylesheet:v,maskInputOptions:U,maskTextFn:_,maskInputFn:y,recordCanvas:x,inlineImages:N,sampling:S,slimDOMOptions:V,iframeManager:$},mirror:pc});uc=function(e){var t,n,r,i;void 0===e&&(e=!1),sc(fc({type:yu.Meta,data:{href:window.location.href,width:ju(),height:Pu()}}),e),Ku.forEach((function(e){return e.lock()}));var a=Ys(function(e,t){var n=t||{},r=n.blockClass,i=n.blockSelector,o=n.maskTextClass,a=n.maskTextSelector,s=n.inlineStylesheet,u=n.inlineImages,c=n.recordCanvas,l=n.maskAllInputs,f=void 0!==l&&l,p=n.slimDOM,d=void 0!==p&&p,h=n.keepIframeSrcFn,v={};return[gu(e,{doc:e,map:v,blockClass:void 0===r?"rr-block":r,blockSelector:void 0===i?null:i,maskTextClass:void 0===o?"rr-mask":o,maskTextSelector:void 0===a?null:a,skipChild:!1,inlineStylesheet:void 0===s||s,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===f?{password:!0}:n.maskInputOptions,maskTextFn:n.maskTextFn,maskInputFn:n.maskInputFn,slimDOMOptions:!0===d||"all"===d?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===d,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===d?{}:d,inlineImages:void 0!==u&&u,recordCanvas:void 0!==c&&c,preserveWhiteSpace:n.preserveWhiteSpace,onSerialize:n.onSerialize,onIframeLoad:n.onIframeLoad,iframeLoadTimeout:n.iframeLoadTimeout,keepIframeSrcFn:void 0===h?function(){return!1}:h}),v]}(document,{blockClass:o,blockSelector:s,maskTextClass:f,maskTextSelector:d,inlineStylesheet:v,maskInputOptions:U,maskInputFn:y,maskAllInputs:b,maskTextFn:_,slimDOM:V,recordCanvas:x,inlineImages:N,onSerialize:function(e){Mu(e)&&$.addIframe(e),Lu(e)&&G.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){$.attachIframe(e,t)},keepIframeSrcFn:M}),2),u=a[0],c=a[1];if(!u)return console.warn("Failed to snapshot the document");pc.map=c,sc(fc({type:yu.FullSnapshot,data:{node:u,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(i=null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.parentElement)||void 0===i?void 0:i.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),Ku.forEach((function(e){return e.unlock()}))};try{var W=[];W.push(Su("DOMContentLoaded",(function(){sc(fc({type:yu.DomContentLoaded,data:{}}))})));var q=function(e){return ac({mutationCb:H,mousemoveCb:function(e,t){return sc(fc({type:yu.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.MouseInteraction},e)}))},scrollCb:z,viewportResizeCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.ViewportResize},e)}))},inputCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.Input},e)}))},mediaInteractionCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.MediaInteraction},e)}))},styleSheetRuleCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.StyleSheetRule},e)}))},styleDeclarationCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.StyleDeclaration},e)}))},canvasMutationCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.CanvasMutation},e)}))},fontCb:function(e){return sc(fc({type:yu.IncrementalSnapshot,data:Js({source:_u.Font},e)}))},blockClass:o,ignoreClass:c,maskTextClass:f,maskTextSelector:d,maskInputOptions:U,inlineStylesheet:v,sampling:S,recordCanvas:x,inlineImages:N,userTriggeredOnInput:k,collectFonts:j,doc:e,maskInputFn:y,maskTextFn:_,blockSelector:s,slimDOMOptions:V,mirror:pc,iframeManager:$,shadowDomManager:G,plugins:(null==D?void 0:D.map((function(e){return{observer:e.observer,options:e.options,callback:function(t){return sc(fc({type:yu.Plugin,data:{plugin:e.name,payload:t}}))}}})))||[]},w)};$.addLoadListener((function(e){W.push(q(e.contentDocument))}));var K=function(){uc(),W.push(q(document))};return"interactive"===document.readyState||"complete"===document.readyState?K():W.push(Su("load",(function(){sc(fc({type:yu.Load,data:{}})),K()}),window)),function(){W.forEach((function(e){return e()}))}}catch(e){console.warn(e)}}dc.addCustomEvent=function(e,t){if(!sc)throw new Error("please add custom event after start recording");sc(fc({type:yu.Custom,data:{tag:e,payload:t}}))},dc.freezePage=function(){Ku.forEach((function(e){return e.freeze()}))},dc.takeFullSnapshot=function(e){if(!uc)throw new Error("please take full snapshot after start recording");uc(e)},dc.mirror=pc;const hc=dc;var vc=n(72565),bc=n.n(vc);async function mc(t,n,r,i){try{await t.send({eventName:"RecordTabEvent",dest:{component:e.Component.Main,location:void 0},payload:{event:{hostname:window.location.hostname,type:yu.Custom,data:{tag:"script-event",payload:{event:r,scriptName:n}},timestamp:Date.now()}}})}catch(e){t.disconnected||i.error(`Could not monitor script event ${r}.\nCaused by: ${(0,Rs.VK)(e)}`)}}async function gc(t,n,r,i){try{await t.send({eventName:"RecordTabEvent",dest:{component:e.Component.Main,location:void 0},payload:{event:{hostname:window.location.hostname,type:yu.Custom,data:{tag:"script-embedded-error",payload:{scriptName:n,error:r}},timestamp:Date.now()}}})}catch(e){t.disconnected||i.error("Could not monitor script error:",(0,Rs.VK)(e))}}Ks()(((e,t)=>{e.debug(["A communication error occurred in the Jam extension. You may experience a degraded feature set.","If your application utilizes `window.postMessage` and calls `event.preventDefault`,","`event.stopPropagation`, and/or `event.stopImmediatePropagation` on *all* message events received","(regardless of whether they are your application's events), this will prevent Jam from operating as","expected."].join("\n"),t)}),5*Ms.X.Minute,{leading:!0}),new RegExp(["zoominfo.com"].join("|"));var yc=n(13005);const _c=(0,n(4580).Q)(Fs.M.Production)||"true"==={}.ENABLE_DATADOG;let wc=!1;class Oc{constructor(e){this.buffer=[],this.handlers=new Map,this.interval=e.interval,this.maxBytes=e.maxBytes,this.flush()}on(e,t){this.handlers.has(e)||this.handlers.set(e,[]),this.handlers.get(e).push(t)}off(e,t){this.handlers.has(e)&&this.handlers.set(e,this.handlers.get(e).filter((e=>e!==t)))}async emit(e,t){this.handlers.has(e)&&await Promise.all(this.handlers.get(e).map((e=>e(t))))}add(e){this.buffer.push(e),this.size>=this.maxBytes&&this.flush()}stop(){clearInterval(this.intervalId)}destroy(){this.stop(),this.handlers.clear()}async flush(){this.stop(),this.intervalId=setInterval(this.innerFlush.bind(this),this.interval),this.innerFlush()}flushSync(){if(0===this.buffer.length)return;const e=this.buffer;this.buffer=[],this.handlers.get("flushSync")?.forEach((t=>t(e)))}async innerFlush(){if(0!==this.buffer.length)try{const e=this.buffer;this.buffer=[],await this.emit("flush",e)}catch(e){this.emit("error",e)}}get size(){return this.buffer.reduce(((e,t)=>e+t.data.length+16),0)}}const Ac=1*Ms.X.Minute,Sc="content-rrweb-snapshot",Tc=new RegExp(i.join("|"),"i"),Ec={component:e.Component.ContentScript,location:e.ContentScripts.RRWebSnapshot};let xc=!1;function Ic(n){const{broker:r,monitoredState:i,eventBuffer:o}=n;let a;try{a=function(e){const t=hc({emit:e=>(e=>{i.emittedEventCount++,e.type===yu.FullSnapshot&&i.emittedFullSnapshotCount++,o.add({type:e.type,timestamp:e.timestamp,data:JSON.stringify(e)})})({...e,hostname:window.location.hostname}),slimDOMOptions:"all",collectFonts:!0,checkoutEveryNms:void 0,blockSelector:"iframe",maskInputOptions:{email:!0,tel:!0,text:!0,password:!0},maskTextFn:e=>"*".repeat(e.length),maskInputFn:(e,t)=>{if(!t)return e;if("input"===t.tagName.toLowerCase()&&"text"===t.type.toLowerCase()){const n=t.getAttribute("name");if(!n||!Tc.test(n))return e}return"*".repeat(e.length)},recordCanvas:!1,sampling:{mousemove:!0,mouseInteraction:!1,scroll:100,input:"all",media:500}}),n=setInterval((()=>{hc.takeFullSnapshot(!0)}),Ac);return()=>{clearInterval(n),t?.()}}(),r.send({eventName:"ScriptReady",payload:{since:Date.now()},dest:{component:e.Component.Main,location:void 0}})}catch(e){t.k.error("could not start RRWeb recording",{error:kc(e)}),gc(r,Sc,`could not start RRWeb recording: ${kc(e)}`,t.k)}return()=>{a?.()}}function kc(e){return e instanceof Error?e.stack??e.toString?.()??e.message:String(e)}!function(){let n;const r=new Date,i=performance.now(),o=(0,e.getMessageBrokerSingleton)({address:Ec,canForward:!1,onError:e=>t.k.sample("warn",.001,`Inbound message error in Broker(${Sc})`,{error:(0,Rs.LT)(e),contentScriptDisconnected:xc}),isTabIncognito:e=>"self"===e?!!bc().extension.inIncognitoContext:n?.getTab(e)?.incognito??!0}),a=function(e){let n=0;return window.addEventListener("error",(r=>{n>10||(n++,gc(e,Sc,`unhandled error: ${kc(r)}`,t.k))})),{emittedEventCount:0,emittedFullSnapshotCount:0,emittedErrorCount:0}}(o),s=function(n){const{broker:r,monitoredState:i}=n,o=new Oc({interval:15*Ms.X.Second,maxBytes:90*Gs.d.Megabyte});return r.on("FlushTabEvents",(async()=>{try{return await o.flush(),!0}catch(e){return t.k.error("Error trying to flush tab event buffer",{error:(0,Rs.VK)(e)}),!1}})),o.on("flush",(async n=>{try{!async function(e,t){let n,r=t.initialRetryDelayMs??0;for(let i=0;i<t.retries+1;i++)try{let n;return n=t.timeoutMs?await Promise.race([e(),new Promise(((e,n)=>{setTimeout((()=>n("Timeout expired")),t.timeoutMs)}))]):await e(),n}catch(e){n=e,await(0,Ws.g)(r),"multiply"===t.strategy.type?r*=t.strategy.multiplier:"increment"===t.strategy.type&&(r+=t.strategy.additionalMs)}throw new Rs.Lw({message:"Retries exceeded"},n)}((async()=>{await r.send({eventName:"RecordTabEvent",dest:{component:e.Component.Main,location:void 0},payload:{events:n},timeout:10*Ms.X.Second})}),{strategy:{type:"increment",additionalMs:2*Ms.X.Second},retries:2,initialRetryDelayMs:Ms.X.Second})}catch(e){if(i.emittedErrorCount++,bc().extension.inIncognitoContext&&e instanceof Error&&e.message.includes("Message length exceeded maximum allowed length"))return;t.k.error(`Could not send rrweb event back from ${Sc}`,{error:(0,Rs.VK)(e)})}})),window.addEventListener("visibilitychange",(()=>"hidden"===document.visibilityState&&o.flushSync())),o}({broker:o,monitoredState:a});mc(o,Sc,"script-init",t.k),function(n){wc||(window.DATADOG_REQUEST_PROXY=r=>(...i)=>{n.send({eventName:"ProxyDatadogRequest",dest:{component:e.Component.Main,location:void 0},payload:{request:r,args:i}}).catch((e=>{t.k.debug("Error forwarding Datadog Event:",{error:e})}))},_c&&yc.fy.onReady((()=>{yc.fy.init({clientToken:"pubcf40b29020e52aed8ee66a6b7be21795",site:"datadoghq.com",forwardErrorsToLogs:!0,sampleRate:100,env:"production",service:"chrome-extension",version:"c27e6a501149f489d85fc7fd9a9bb64131b0b09e"})})),wc=!0)}(o);let u,c=Ic({broker:o,monitoredState:a,eventBuffer:s});const l=function(e){let t=!0;const n=Ks()((()=>hc.takeFullSnapshot(!0)),1*Ms.X.Second,{leading:!0,trailing:!0});return e.on("TriggerDomSnapshot",(async()=>!!t&&(n(),!0))),e=>{t=e}}(o);var f;o.send({eventName:"ScriptHello",payload:null,dest:{component:e.Component.Main,location:void 0}}).then((async e=>{const r={...Ec,tabId:e.tabId};try{const t=await zs({id:r});n=t.store;const i=Dt((()=>t.store.isRewindDisabledForTab(e.tabId)),(e=>{e?(c?.(),c=void 0,l(!1)):c||(c=Ic({broker:o,monitoredState:a,eventBuffer:s}),l(!0))}),{fireImmediately:!0});u=()=>{t.cleanup(),i()}}catch(e){(0,Ls.J)(Fs.q.Production)||t.k.error("Error setting up global store",e)}})),f={SCRIPT_NAME:Sc,start:r,broker:o,cleanup:()=>{xc=!0,c?.(),u?.(),s.destroy()}},bc().runtime.connect({name:f.SCRIPT_NAME}).onDisconnect.addListener((()=>{(0,Ls.J)(Fs.q.Production)||t.k.debug(`Exiting ${f.SCRIPT_NAME} due to re-connection ${f.start?`started: ${f.start}`:""}`),mc(f.broker,f.SCRIPT_NAME,"script-self-disconnect",t.k).catch((()=>{})),f.broker.destruct(),f.cleanup?.()})),t.k.debug(Sc,"IS RUNNING ",r,i)}()})()})();