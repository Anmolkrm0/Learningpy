import{A as De,B as zt,C as it,D as Y,E as B,F as ot,G as $t,H as qt,I as Jt,J as Pe,K as Zt,L as Me,M as es,N as ct,O as Et,P as be,Q as ts,R as $,S as Tt,T as ss,U as Sr,V as ie,W as oe,X as Be,Y as He,Z as ht,r as w,s as at,t as Gt,u as ge,v as Kt,w as Vt,x as z,y as jt,z as f}from"./OL2SPMMG.js";import{d as j,f as Lr}from"./PQ35KENF.js";var gr={xml:!1,decodeEntities:!0},ce=gr,rs={_useHtmlParser2:!0,xmlMode:!0};function Ee(e){return e?.xml?typeof e.xml=="boolean"?rs:{...rs,...e.xml}:e??void 0}var Q={};j(Q,{contains:()=>lt,html:()=>is,merge:()=>br,parseHTML:()=>Pr,root:()=>Mr,text:()=>v,xml:()=>os});function as(e,t,s){return e?e(t??e._root.children,null,void 0,s).toString():""}function Dr(e,t){return!t&&typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function is(e,t){let s=Dr(e)?(t=e,void 0):e,n={...ce,...this===null||this===void 0?void 0:this._options,...Ee(t??{})};return as(this,s,n)}function os(e){let t={...this._options,xmlMode:!0};return as(this,e,t)}function v(e){let t=e||(this?this.root():[]),s="";for(let n=0;n<t.length;n++)s+=Pe(t[n]);return s}function Pr(e,t,s=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(s=t);let n=this.load(e,ce,!1);return s||n("script").remove(),n.root()[0].children.slice()}function Mr(){return this(this._root)}function lt(e,t){if(t===e)return!1;let s=t;for(;s&&s!==s.parent;)if(s=s.parent,s===e)return!0;return!1}function br(e,t){if(!ns(e)||!ns(t))return;let s=e.length,n=+t.length;for(let a=0;a<n;a++)e[s++]=t[a];return e.length=s,e}function ns(e){if(Array.isArray(e))return!0;if(typeof e!="object"||!Object.prototype.hasOwnProperty.call(e,"length")||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}var mt={};j(mt,{addClass:()=>ds,attr:()=>Hr,data:()=>Ur,hasClass:()=>yr,prop:()=>Fr,removeAttr:()=>xr,removeClass:()=>ms,toggleClass:()=>fs,val:()=>kr});function b(e){return e.cheerio!=null}function cs(e){return e.replace(/[_.-](\w|$)/g,(t,s)=>s.toUpperCase())}function Es(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function p(e,t){let s=e.length;for(let n=0;n<s;n++)t(e[n],n);return e}function Fe(e){let t="length"in e?Array.prototype.map.call(e,n=>ot(n,!0)):[ot(e,!0)],s=new z(t);return t.forEach(n=>{n.parent=s}),t}var q;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(q||(q={}));function Te(e){let t=e.indexOf("<");if(t<0||t>e.length-3)return!1;let s=e.charCodeAt(t+1);return(s>=q.LowerA&&s<=q.LowerZ||s>=q.UpperA&&s<=q.UpperZ||s===q.Exclamation)&&e.includes(">",t+2)}var ee=Object.prototype.hasOwnProperty,he=/\s+/,ut="data-",Ts={null:null,true:!0,false:!1},dt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Br=/^{[^]*}$|^\[[^]*]$/;function Ue(e,t,s){var n;if(!(!e||!f(e))){if((n=e.attribs)!==null&&n!==void 0||(e.attribs={}),!t)return e.attribs;if(ee.call(e.attribs,t))return!s&&dt.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return v(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function te(e,t,s){s===null?_s(e,t):e.attribs[t]=`${s}`}function Hr(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return p(this,(s,n)=>{f(s)&&te(s,e,t.call(s,n,s.attribs[e]))})}return p(this,s=>{f(s)&&(typeof e=="object"?Object.keys(e).forEach(n=>{let a=e[n];te(s,n,a)}):te(s,e,t))})}return arguments.length>1?this:Ue(this[0],e,this.options.xmlMode)}function hs(e,t,s){return t in e?e[t]:!s&&dt.test(t)?Ue(e,t,!1)!==void 0:Ue(e,t,s)}function _t(e,t,s,n){t in e?e[t]=s:te(e,t,!n&&dt.test(t)?s?"":null:`${s}`)}function Fr(e,t){var s;if(typeof e=="string"&&t===void 0){let n=this[0];if(!n||!f(n))return;switch(e){case"style":{let a=this.css(),E=Object.keys(a);return E.forEach((h,d)=>{a[d]=h}),a.length=E.length,a}case"tagName":case"nodeName":return n.name.toUpperCase();case"href":case"src":{let a=(s=n.attribs)===null||s===void 0?void 0:s[e];return typeof URL<"u"&&(e==="href"&&(n.tagName==="a"||n.name==="link")||e==="src"&&(n.tagName==="img"||n.tagName==="iframe"||n.tagName==="audio"||n.tagName==="video"||n.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return Zt(n);case"textContent":return Pe(n);case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return hs(n,e,this.options.xmlMode)}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new Error("Bad combination of arguments.");return p(this,(n,a)=>{f(n)&&_t(n,e,t.call(n,a,hs(n,e,this.options.xmlMode)),this.options.xmlMode)})}return p(this,n=>{f(n)&&(typeof e=="object"?Object.keys(e).forEach(a=>{let E=e[a];_t(n,a,E,this.options.xmlMode)}):_t(n,e,t,this.options.xmlMode))})}}function ls(e,t,s){var n;let a=e;(n=a.data)!==null&&n!==void 0||(a.data={}),typeof t=="object"?Object.assign(a.data,t):typeof t=="string"&&s!==void 0&&(a.data[t]=s)}function us(e,t){let s,n,a;t==null?(s=Object.keys(e.attribs).filter(E=>E.startsWith(ut)),n=s.map(E=>cs(E.slice(ut.length)))):(s=[ut+Es(t)],n=[t]);for(let E=0;E<s.length;++E){let h=s[E],d=n[E];if(ee.call(e.attribs,h)&&!ee.call(e.data,d)){if(a=e.attribs[h],ee.call(Ts,a))a=Ts[a];else if(a===String(Number(a)))a=Number(a);else if(Br.test(a))try{a=JSON.parse(a)}catch{}e.data[d]=a}}return t==null?e.data:a}function Ur(e,t){var s;let n=this[0];if(!n||!f(n))return;let a=n;return(s=a.data)!==null&&s!==void 0||(a.data={}),e?typeof e=="object"||t!==void 0?(p(this,E=>{f(E)&&(typeof e=="object"?ls(E,e):ls(E,e,t))}),this):ee.call(a.data,e)?a.data[e]:us(a,e):us(a)}function kr(e){let t=arguments.length===0,s=this[0];if(!s||!f(s))return t?void 0:this;switch(s.name){case"textarea":return this.text(e);case"select":{let n=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");let a=typeof e!="object"?[e]:e;for(let E=0;E<a.length;E++)this.find(`option[value="${a[E]}"]`).attr("selected","");return this}return this.attr("multiple")?n.toArray().map(a=>v(a.children)):n.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function _s(e,t){!e.attribs||!ee.call(e.attribs,t)||delete e.attribs[t]}function ke(e){return e?e.trim().split(he):[]}function xr(e){let t=ke(e);for(let s=0;s<t.length;s++)p(this,n=>{f(n)&&_s(n,t[s])});return this}function yr(e){return this.toArray().some(t=>{let s=f(t)&&t.attribs.class,n=-1;if(s&&e.length)for(;(n=s.indexOf(e,n+1))>-1;){let a=n+e.length;if((n===0||he.test(s[n-1]))&&(a===s.length||he.test(s[a])))return!0}return!1})}function ds(e){if(typeof e=="function")return p(this,(n,a)=>{if(f(n)){let E=n.attribs.class||"";ds.call([n],e.call(n,a,E))}});if(!e||typeof e!="string")return this;let t=e.split(he),s=this.length;for(let n=0;n<s;n++){let a=this[n];if(!f(a))continue;let E=Ue(a,"class",!1);if(!E)te(a,"class",t.join(" ").trim());else{let h=` ${E} `;for(let d=0;d<t.length;d++){let m=`${t[d]} `;h.includes(` ${m}`)||(h+=m)}te(a,"class",h.trim())}}return this}function ms(e){if(typeof e=="function")return p(this,(a,E)=>{f(a)&&ms.call([a],e.call(a,E,a.attribs.class||""))});let t=ke(e),s=t.length,n=arguments.length===0;return p(this,a=>{if(f(a))if(n)a.attribs.class="";else{let E=ke(a.attribs.class),h=!1;for(let d=0;d<s;d++){let m=E.indexOf(t[d]);m>=0&&(E.splice(m,1),h=!0,d--)}h&&(a.attribs.class=E.join(" "))}})}function fs(e,t){if(typeof e=="function")return p(this,(h,d)=>{f(h)&&fs.call([h],e.call(h,d,h.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;let s=e.split(he),n=s.length,a=typeof t=="boolean"?t?1:-1:0,E=this.length;for(let h=0;h<E;h++){let d=this[h];if(!f(d))continue;let m=ke(d.attribs.class);for(let N=0;N<n;N++){let A=m.indexOf(s[N]);a>=0&&A<0?m.push(s[N]):a<=0&&A>=0&&m.splice(A,1)}d.attribs.class=m.join(" ")}return this}var St={};j(St,{add:()=>Nn,addBack:()=>In,children:()=>rn,closest:()=>zr,contents:()=>nn,each:()=>an,end:()=>Cn,eq:()=>_n,filter:()=>cn,filterArray:()=>Lt,find:()=>Gr,first:()=>ln,get:()=>dn,has:()=>hn,index:()=>fn,is:()=>En,last:()=>un,map:()=>on,next:()=>$r,nextAll:()=>qr,nextUntil:()=>Jr,not:()=>Tn,parent:()=>Kr,parents:()=>Vr,parentsUntil:()=>jr,prev:()=>Zr,prevAll:()=>en,prevUntil:()=>tn,siblings:()=>sn,slice:()=>An,toArray:()=>mn});var ye=Lr(Sr(),1);var wr=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function se(e){return e.type!=="pseudo"?!1:wr.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(se)):!1}function As(e,t,s){let n=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(n)?n>=0?n+1:1/0:0;case"lt":return isFinite(n)?n>=0?Math.min(n,s):1/0:0;case"gt":return isFinite(n)?1/0:0;case"odd":return 2*s;case"even":return 2*s-1;case"last":case"not":return 1/0}}function Cs(e){for(;e.parent;)e=e.parent;return e}function xe(e){let t=[],s=[];for(let n of e)n.some(se)?t.push(n):s.push(n);return[s,t]}var Yr={type:ie.Universal,namespace:null},vr={type:ie.Pseudo,name:"scope",data:null};function Ct(e,t,s={}){return Nt([e],t,s)}function Nt(e,t,s={}){if(typeof t=="function")return e.some(t);let[n,a]=xe(Be(t));return n.length>0&&e.some(He(n,s))||a.some(E=>Is(E,e,s).length>0)}function Qr(e,t,s,n){let a=typeof s=="string"?parseInt(s,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<t.length?[a<0?t[t.length+a]:t[a]]:[];case"gt":return isFinite(a)?t.slice(a+1):[];case"even":return t.filter((E,h)=>h%2===0);case"odd":return t.filter((E,h)=>h%2===1);case"not":{let E=new Set(Ns(s,t,n));return t.filter(h=>!E.has(h))}}}function It(e,t,s={}){return Ns(Be(e),t,s)}function Ns(e,t,s){if(t.length===0)return[];let[n,a]=xe(e),E;if(n.length){let h=At(t,n,s);if(a.length===0)return h;h.length&&(E=new Set(h))}for(let h=0;h<a.length&&E?.size!==t.length;h++){let d=a[h];if((E?t.filter(A=>f(A)&&!E.has(A)):t).length===0)break;let N=Is(d,t,s);if(N.length)if(E)N.forEach(A=>E.add(A));else{if(h===a.length-1)return N;E=new Set(N)}}return typeof E<"u"?E.size===t.length?t:t.filter(h=>E.has(h)):[]}function Is(e,t,s){var n;if(e.some(oe)){let a=(n=s.root)!==null&&n!==void 0?n:Cs(t[0]),E={...s,context:t,relativeSelector:!1};return e.push(vr),we(a,e,E,!0,t.length)}return we(t,e,s,!1,t.length)}function ps(e,t,s={},n=1/0){if(typeof e=="function")return Rs(t,e);let[a,E]=xe(Be(e)),h=E.map(d=>we(t,d,s,!0,n));return a.length&&h.push(ft(t,a,s,n)),h.length===0?[]:h.length===1?h[0]:$(h.reduce((d,m)=>[...d,...m]))}function we(e,t,s,n,a){let E=t.findIndex(se),h=t.slice(0,E),d=t[E],m=t.length-1===E?a:1/0,N=As(d.name,d.data,m);if(N===0)return[];let I=(h.length===0&&!Array.isArray(e)?Me(e).filter(f):h.length===0?(Array.isArray(e)?e:[e]).filter(f):n||h.some(oe)?ft(e,[h],s,N):At(e,[h],s)).slice(0,N),O=Qr(d.name,I,d.data,s);if(O.length===0||t.length===E+1)return O;let g=t.slice(E+1),L=g.some(oe);if(L){if(oe(g[0])){let{type:x}=g[0];(x===ie.Sibling||x===ie.Adjacent)&&(O=ht(O,Tt,!0)),g.unshift(Yr)}s={...s,relativeSelector:!1,rootFunc:x=>O.includes(x)}}else s.rootFunc&&s.rootFunc!==ye.trueFunc&&(s={...s,rootFunc:ye.trueFunc});return g.some(se)?we(O,g,s,!1,a):L?ft(O,[g],s,a):At(O,[g],s)}function ft(e,t,s,n){let a=He(t,s,e);return Rs(e,a,n)}function Rs(e,t,s=1/0){let n=ht(e,Tt,t.shouldTestNextSiblings);return ts(a=>f(a)&&t(a),n,!0,s)}function At(e,t,s){let n=(Array.isArray(e)?e:[e]).filter(f);if(n.length===0)return n;let a=He(t,s);return a===ye.trueFunc?n:n.filter(a)}var Wr=/^\s*[~+]/;function Gr(e){var t;if(!e)return this._make([]);let s=this.toArray();if(typeof e!="string"){let E=b(e)?e.toArray():[e];return this._make(E.filter(h=>s.some(d=>lt(d,h))))}let n=Wr.test(e)?s:this.children().toArray(),a={context:s,root:(t=this._root)===null||t===void 0?void 0:t[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(ps(e,n,a))}function pt(e){return function(t,...s){return function(n){var a;let E=e(t,this);return n&&(E=Lt(E,n,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&E.length>1?s.reduce((h,d)=>d(h),E):E)}}}var le=pt((e,t)=>{let s=[];for(let n=0;n<t.length;n++){let a=e(t[n]);s.push(a)}return new Array().concat(...s)}),Rt=pt((e,t)=>{let s=[];for(let n=0;n<t.length;n++){let a=e(t[n]);a!==null&&s.push(a)}return s});function Ot(e,...t){let s=null,n=pt((a,E)=>{let h=[];return p(E,d=>{for(let m;(m=a(d))&&!s?.(m,h.length);d=m)h.push(m)}),h})(e,...t);return function(a,E){s=typeof a=="string"?d=>Ct(d,a,this.options):a?ue(a):null;let h=n.call(this,E);return s=null,h}}function re(e){return Array.from(new Set(e))}var Kr=Rt(({parent:e})=>e&&!Y(e)?e:null,re),Vr=le(e=>{let t=[];for(;e.parent&&!Y(e.parent);)t.push(e.parent),e=e.parent;return t},$,e=>e.reverse()),jr=Ot(({parent:e})=>e&&!Y(e)?e:null,$,e=>e.reverse());function zr(e){var t;let s=[];if(!e)return this._make(s);let n={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?E=>Ct(E,e,n):ue(e);return p(this,E=>{for(;E&&f(E);){if(a(E,0)){s.includes(E)||s.push(E);break}E=E.parent}}),this._make(s)}var $r=Rt(e=>ct(e)),qr=le(e=>{let t=[];for(;e.next;)e=e.next,f(e)&&t.push(e);return t},re),Jr=Ot(e=>ct(e),re),Zr=Rt(e=>Et(e)),en=le(e=>{let t=[];for(;e.prev;)e=e.prev,f(e)&&t.push(e);return t},re),tn=Ot(e=>Et(e),re),sn=le(e=>es(e).filter(t=>f(t)&&t!==e),$),rn=le(e=>Me(e).filter(f),re);function nn(){let e=this.toArray().reduce((t,s)=>B(s)?t.concat(s.children):t,[]);return this._make(e)}function an(e){let t=0,s=this.length;for(;t<s&&e.call(this[t],t,this[t])!==!1;)++t;return this}function on(e){let t=[];for(let s=0;s<this.length;s++){let n=this[s],a=e.call(n,s,n);a!=null&&(t=t.concat(a))}return this._make(t)}function ue(e){return typeof e=="function"?(t,s)=>e.call(t,s,t):b(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function cn(e){var t;return this._make(Lt(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function Lt(e,t,s,n){return typeof t=="string"?It(t,e,{xmlMode:s,root:n}):e.filter(ue(t))}function En(e){let t=this.toArray();return typeof e=="string"?Nt(t.filter(f),e,this.options):e?t.some(ue(e)):!1}function Tn(e){let t=this.toArray();if(typeof e=="string"){let s=new Set(It(e,t,this.options));t=t.filter(n=>!s.has(n))}else{let s=ue(e);t=t.filter((n,a)=>!s(n,a))}return this._make(t)}function hn(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,s)=>this._make(s).find(e).length>0)}function ln(){return this.length>1?this._make(this[0]):this}function un(){return this.length>0?this._make(this[this.length-1]):this}function _n(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function dn(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function mn(){return Array.prototype.slice.call(this)}function fn(e){let t,s;return e==null?(t=this.parent().children(),s=this[0]):typeof e=="string"?(t=this._make(e),s=this[0]):(t=this,s=b(e)?e[0]:e),Array.prototype.indexOf.call(t,s)}function An(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function Cn(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function Nn(e,t){let s=this._make(e,t),n=$([...this.get(),...s.get()]);return this._make(n)}function In(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}var gt={};j(gt,{_makeDomArray:()=>pn,after:()=>bn,append:()=>Ln,appendTo:()=>Rn,before:()=>Hn,clone:()=>vn,empty:()=>xn,html:()=>yn,insertAfter:()=>Bn,insertBefore:()=>Fn,prepend:()=>Sn,prependTo:()=>On,remove:()=>Un,replaceWith:()=>kn,text:()=>Yn,toString:()=>wn,unwrap:()=>Pn,wrap:()=>gn,wrapAll:()=>Mn,wrapInner:()=>Dn});function Os(e){return function(s,n,a,E){if(typeof Buffer<"u"&&Buffer.isBuffer(s)&&(s=s.toString()),typeof s=="string")return e(s,n,a,E);let h=s;if(!Array.isArray(h)&&Y(h))return h;let d=new z([]);return X(h,d),d}}function X(e,t){let s=Array.isArray(e)?e:[e];t?t.children=s:t=null;for(let n=0;n<s.length;n++){let a=s[n];a.parent&&a.parent.children!==s&&be(a),t?(a.prev=s[n-1]||null,a.next=s[n+1]||null):a.prev=a.next=null,a.parent=t}return t}function pn(e,t){return e==null?[]:b(e)?t?Fe(e.get()):e.get():Array.isArray(e)?e.reduce((s,n)=>s.concat(this._makeDomArray(n,t)),[]):typeof e=="string"?this._parse(e,this.options,!1,null).children:t?Fe([e]):[e]}function Ls(e){return function(...t){let s=this.length-1;return p(this,(n,a)=>{if(!B(n))return;let E=typeof t[0]=="function"?t[0].call(n,a,this._render(n.children)):t,h=this._makeDomArray(E,a<s);e(h,n.children,n)})}}function W(e,t,s,n,a){var E,h;let d=[t,s,...n],m=t===0?null:e[t-1],N=t+s>=e.length?null:e[t+s];for(let A=0;A<n.length;++A){let I=n[A],O=I.parent;if(O){let L=O.children.indexOf(I);L>-1&&(O.children.splice(L,1),a===O&&t>L&&d[0]--)}I.parent=a,I.prev&&(I.prev.next=(E=I.next)!==null&&E!==void 0?E:null),I.next&&(I.next.prev=(h=I.prev)!==null&&h!==void 0?h:null),I.prev=A===0?m:n[A-1],I.next=A===n.length-1?N:n[A+1]}return m&&(m.next=n[0]),N&&(N.prev=n[n.length-1]),e.splice(...d)}function Rn(e){return(b(e)?e:this._make(e)).append(this),this}function On(e){return(b(e)?e:this._make(e)).prepend(this),this}var Ln=Ls((e,t,s)=>{W(t,t.length,0,e,s)}),Sn=Ls((e,t,s)=>{W(t,0,0,e,s)});function Ss(e){return function(t){let s=this.length-1,n=this.parents().last();for(let a=0;a<this.length;a++){let E=this[a],h=typeof t=="function"?t.call(E,a,E):typeof t=="string"&&!Te(t)?n.find(t).clone():t,[d]=this._makeDomArray(h,a<s);if(!d||!B(d))continue;let m=d,N=0;for(;N<m.children.length;){let A=m.children[N];f(A)?(m=A,N=0):N++}e(E,m,[d])}return this}}var gn=Ss((e,t,s)=>{let{parent:n}=e;if(!n)return;let a=n.children,E=a.indexOf(e);X([e],t),W(a,E,0,s,n)}),Dn=Ss((e,t,s)=>{B(e)&&(X(e.children,t),X(s,e))});function Pn(e){return this.parent(e).not("body").each((t,s)=>{this._make(s).replaceWith(s.children)}),this}function Mn(e){let t=this[0];if(t){let s=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t),n;for(let E=0;E<s.length;E++)s[E].type==="tag"&&(n=s[E]);let a=0;for(;n&&a<n.children.length;){let E=n.children[a];E.type==="tag"?(n=E,a=0):a++}n&&this._make(n).append(this)}return this}function bn(...e){let t=this.length-1;return p(this,(s,n)=>{let{parent:a}=s;if(!B(s)||!a)return;let E=a.children,h=E.indexOf(s);if(h<0)return;let d=typeof e[0]=="function"?e[0].call(s,n,this._render(s.children)):e,m=this._makeDomArray(d,n<t);W(E,h+1,0,m,a)})}function Bn(e){typeof e=="string"&&(e=this._make(e)),this.remove();let t=[];return this._makeDomArray(e).forEach(s=>{let n=this.clone().toArray(),{parent:a}=s;if(!a)return;let E=a.children,h=E.indexOf(s);h<0||(W(E,h+1,0,n,a),t.push(...n))}),this._make(t)}function Hn(...e){let t=this.length-1;return p(this,(s,n)=>{let{parent:a}=s;if(!B(s)||!a)return;let E=a.children,h=E.indexOf(s);if(h<0)return;let d=typeof e[0]=="function"?e[0].call(s,n,this._render(s.children)):e,m=this._makeDomArray(d,n<t);W(E,h,0,m,a)})}function Fn(e){let t=this._make(e);this.remove();let s=[];return p(t,n=>{let a=this.clone().toArray(),{parent:E}=n;if(!E)return;let h=E.children,d=h.indexOf(n);d<0||(W(h,d,0,a,E),s.push(...a))}),this._make(s)}function Un(e){let t=e?this.filter(e):this;return p(t,s=>{be(s),s.prev=s.next=s.parent=null}),this}function kn(e){return p(this,(t,s)=>{let{parent:n}=t;if(!n)return;let a=n.children,E=typeof e=="function"?e.call(t,s,t):e,h=this._makeDomArray(E);X(h,null);let d=a.indexOf(t);W(a,d,1,h,n),h.includes(t)||(t.parent=t.prev=t.next=null)})}function xn(){return p(this,e=>{B(e)&&(e.children.forEach(t=>{t.next=t.prev=t.parent=null}),e.children.length=0)})}function yn(e){if(e===void 0){let t=this[0];return!t||!B(t)?null:this._render(t.children)}return p(this,t=>{if(!B(t))return;t.children.forEach(n=>{n.next=n.prev=n.parent=null});let s=b(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;X(s,t)})}function wn(){return this._render(this)}function Yn(e){return e===void 0?v(this):typeof e=="function"?p(this,(t,s)=>this._make(t).text(e.call(t,s,v([t])))):p(this,t=>{if(!B(t))return;t.children.forEach(n=>{n.next=n.prev=n.parent=null});let s=new ge(`${e}`);X(s,t)})}function vn(){return this._make(Fe(this.get()))}var Dt={};j(Dt,{css:()=>Qn});function Qn(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return p(this,(s,n)=>{f(s)&&gs(s,e,t,n)});if(this.length!==0)return Ds(this[0],e)}function gs(e,t,s,n){if(typeof t=="string"){let a=Ds(e),E=typeof s=="function"?s.call(e,n,a[t]):s;E===""?delete a[t]:E!=null&&(a[t]=E),e.attribs.style=Xn(a)}else typeof t=="object"&&Object.keys(t).forEach((a,E)=>{gs(e,a,t[a],E)})}function Ds(e,t){if(!e||!f(e))return;let s=Wn(e.attribs.style);if(typeof t=="string")return s[t];if(Array.isArray(t)){let n={};return t.forEach(a=>{s[a]!=null&&(n[a]=s[a])}),n}return s}function Xn(e){return Object.keys(e).reduce((t,s)=>`${t}${t?" ":""}${s}: ${e[s]};`,"")}function Wn(e){if(e=(e||"").trim(),!e)return{};let t={},s;for(let n of e.split(";")){let a=n.indexOf(":");if(a<1||a===n.length-1){let E=n.trimEnd();E.length>0&&s!==void 0&&(t[s]+=`;${E}`)}else s=n.slice(0,a).trim(),t[s]=n.slice(a+1).trim()}return t}var Pt={};j(Pt,{serialize:()=>Kn,serializeArray:()=>Vn});var Ps="input,select,textarea,keygen",Gn=/%20/g,Ms=/\r?\n/g;function Kn(){return this.serializeArray().map(s=>`${encodeURIComponent(s.name)}=${encodeURIComponent(s.value)}`).join("&").replace(Gn,"+")}function Vn(){return this.map((e,t)=>{let s=this._make(t);return f(t)&&t.name==="form"?s.find(Ps).toArray():s.filter(Ps).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var s;let n=this._make(t),a=n.attr("name"),E=(s=n.val())!==null&&s!==void 0?s:"";return Array.isArray(E)?E.map(h=>({name:a,value:h.replace(Ms,`\r
`)})):{name:a,value:E.replace(Ms,`\r
`)}}).toArray()}var G=class{constructor(t,s,n){if(this.length=0,this.options=n,this._root=s,t){for(let a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}};G.prototype.cheerio="[cheerio object]";G.prototype.splice=Array.prototype.splice;G.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(G.prototype,mt,St,gt,Dt,Pt);function bs(e,t){return function s(n,a,E=!0){if(n==null)throw new Error("cheerio.load() expects a string");let h={...ce,...Ee(a)},d=e(n,h,E,null);class m extends G{_make(I,O){let g=N(I,O);return g.prevObject=this,g}_parse(I,O,g,L){return e(I,O,g,L)}_render(I){return t(I,this.options)}}function N(A,I,O=d,g){if(A&&b(A))return A;let L={...h,...Ee(g)},x=typeof O=="string"?[e(O,L,!1,null)]:"length"in O?O:[O],y=b(x)?x:new m(x,null,L);if(y._root=y,!A)return new m(void 0,y,L);let Qt=typeof A=="string"&&Te(A)?e(A,L,!1,null).children:jn(A)?[A]:Array.isArray(A)?A:void 0,Xt=new m(Qt,y,L);if(Qt)return Xt;if(typeof A!="string")throw new Error("Unexpected type of selector");let nt=A,Wt=I?typeof I=="string"?Te(I)?new m([e(I,L,!1,null)],y,L):(nt=`${I} ${nt}`,y):b(I)?I:new m(Array.isArray(I)?I:[I],y,L):y;return Wt?Wt.find(nt):Xt}return Object.assign(N,Q,{load:s,_root:d,_options:h,fn:m.prototype,prototype:m.prototype}),N}}function jn(e){return!!e.name||e.type==="root"||e.type==="text"||e.type==="comment"}var zn=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),R="\uFFFD",i;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER"})(i=i||(i={}));var M={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function Ye(e){return e>=55296&&e<=57343}function Bs(e){return e>=56320&&e<=57343}function Hs(e,t){return(e-55296)*1024+9216+t}function ve(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function Qe(e){return e>=64976&&e<=65007||zn.has(e)}var l;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(l=l||(l={}));var qn=65536,Xe=class{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=qn,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t){let{line:s,col:n,offset:a}=this;return{code:t,startLine:s,endLine:s,startCol:n,endCol:n,startOffset:a,endOffset:a}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){let s=this.html.charCodeAt(this.pos+1);if(Bs(s))return this.pos++,this._addGap(),Hs(t,s)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,i.EOF;return this._err(l.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,s){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=s}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,s){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(s)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){let s=this.pos+t;if(s>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,i.EOF;let n=this.html.charCodeAt(s);return n===i.CARRIAGE_RETURN?i.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,i.EOF;let t=this.html.charCodeAt(this.pos);return t===i.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,i.LINE_FEED):t===i.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,Ye(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===i.LINE_FEED||t===i.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){ve(t)?this._err(l.controlCharacterInInputStream):Qe(t)&&this._err(l.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}};var C;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(C=C||(C={}));function We(e,t){for(let s=e.attrs.length-1;s>=0;s--)if(e.attrs[s].name===t)return e.attrs[s].value;return null}var Ge={};j(Ge,{ATTRS:()=>F,DOCUMENT_MODE:()=>S,NS:()=>u,SPECIAL_ELEMENTS:()=>Mt,TAG_ID:()=>r,TAG_NAMES:()=>T,getTagID:()=>K,hasUnescapedText:()=>bt,isNumberedHeader:()=>_e});var u;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(u=u||(u={}));var F;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(F=F||(F={}));var S;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(S=S||(S={}));var T;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(T=T||(T={}));var r;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP"})(r=r||(r={}));var Zn=new Map([[T.A,r.A],[T.ADDRESS,r.ADDRESS],[T.ANNOTATION_XML,r.ANNOTATION_XML],[T.APPLET,r.APPLET],[T.AREA,r.AREA],[T.ARTICLE,r.ARTICLE],[T.ASIDE,r.ASIDE],[T.B,r.B],[T.BASE,r.BASE],[T.BASEFONT,r.BASEFONT],[T.BGSOUND,r.BGSOUND],[T.BIG,r.BIG],[T.BLOCKQUOTE,r.BLOCKQUOTE],[T.BODY,r.BODY],[T.BR,r.BR],[T.BUTTON,r.BUTTON],[T.CAPTION,r.CAPTION],[T.CENTER,r.CENTER],[T.CODE,r.CODE],[T.COL,r.COL],[T.COLGROUP,r.COLGROUP],[T.DD,r.DD],[T.DESC,r.DESC],[T.DETAILS,r.DETAILS],[T.DIALOG,r.DIALOG],[T.DIR,r.DIR],[T.DIV,r.DIV],[T.DL,r.DL],[T.DT,r.DT],[T.EM,r.EM],[T.EMBED,r.EMBED],[T.FIELDSET,r.FIELDSET],[T.FIGCAPTION,r.FIGCAPTION],[T.FIGURE,r.FIGURE],[T.FONT,r.FONT],[T.FOOTER,r.FOOTER],[T.FOREIGN_OBJECT,r.FOREIGN_OBJECT],[T.FORM,r.FORM],[T.FRAME,r.FRAME],[T.FRAMESET,r.FRAMESET],[T.H1,r.H1],[T.H2,r.H2],[T.H3,r.H3],[T.H4,r.H4],[T.H5,r.H5],[T.H6,r.H6],[T.HEAD,r.HEAD],[T.HEADER,r.HEADER],[T.HGROUP,r.HGROUP],[T.HR,r.HR],[T.HTML,r.HTML],[T.I,r.I],[T.IMG,r.IMG],[T.IMAGE,r.IMAGE],[T.INPUT,r.INPUT],[T.IFRAME,r.IFRAME],[T.KEYGEN,r.KEYGEN],[T.LABEL,r.LABEL],[T.LI,r.LI],[T.LINK,r.LINK],[T.LISTING,r.LISTING],[T.MAIN,r.MAIN],[T.MALIGNMARK,r.MALIGNMARK],[T.MARQUEE,r.MARQUEE],[T.MATH,r.MATH],[T.MENU,r.MENU],[T.META,r.META],[T.MGLYPH,r.MGLYPH],[T.MI,r.MI],[T.MO,r.MO],[T.MN,r.MN],[T.MS,r.MS],[T.MTEXT,r.MTEXT],[T.NAV,r.NAV],[T.NOBR,r.NOBR],[T.NOFRAMES,r.NOFRAMES],[T.NOEMBED,r.NOEMBED],[T.NOSCRIPT,r.NOSCRIPT],[T.OBJECT,r.OBJECT],[T.OL,r.OL],[T.OPTGROUP,r.OPTGROUP],[T.OPTION,r.OPTION],[T.P,r.P],[T.PARAM,r.PARAM],[T.PLAINTEXT,r.PLAINTEXT],[T.PRE,r.PRE],[T.RB,r.RB],[T.RP,r.RP],[T.RT,r.RT],[T.RTC,r.RTC],[T.RUBY,r.RUBY],[T.S,r.S],[T.SCRIPT,r.SCRIPT],[T.SECTION,r.SECTION],[T.SELECT,r.SELECT],[T.SOURCE,r.SOURCE],[T.SMALL,r.SMALL],[T.SPAN,r.SPAN],[T.STRIKE,r.STRIKE],[T.STRONG,r.STRONG],[T.STYLE,r.STYLE],[T.SUB,r.SUB],[T.SUMMARY,r.SUMMARY],[T.SUP,r.SUP],[T.TABLE,r.TABLE],[T.TBODY,r.TBODY],[T.TEMPLATE,r.TEMPLATE],[T.TEXTAREA,r.TEXTAREA],[T.TFOOT,r.TFOOT],[T.TD,r.TD],[T.TH,r.TH],[T.THEAD,r.THEAD],[T.TITLE,r.TITLE],[T.TR,r.TR],[T.TRACK,r.TRACK],[T.TT,r.TT],[T.U,r.U],[T.UL,r.UL],[T.SVG,r.SVG],[T.VAR,r.VAR],[T.WBR,r.WBR],[T.XMP,r.XMP]]);function K(e){var t;return(t=Zn.get(e))!==null&&t!==void 0?t:r.UNKNOWN}var _=r,Mt={[u.HTML]:new Set([_.ADDRESS,_.APPLET,_.AREA,_.ARTICLE,_.ASIDE,_.BASE,_.BASEFONT,_.BGSOUND,_.BLOCKQUOTE,_.BODY,_.BR,_.BUTTON,_.CAPTION,_.CENTER,_.COL,_.COLGROUP,_.DD,_.DETAILS,_.DIR,_.DIV,_.DL,_.DT,_.EMBED,_.FIELDSET,_.FIGCAPTION,_.FIGURE,_.FOOTER,_.FORM,_.FRAME,_.FRAMESET,_.H1,_.H2,_.H3,_.H4,_.H5,_.H6,_.HEAD,_.HEADER,_.HGROUP,_.HR,_.HTML,_.IFRAME,_.IMG,_.INPUT,_.LI,_.LINK,_.LISTING,_.MAIN,_.MARQUEE,_.MENU,_.META,_.NAV,_.NOEMBED,_.NOFRAMES,_.NOSCRIPT,_.OBJECT,_.OL,_.P,_.PARAM,_.PLAINTEXT,_.PRE,_.SCRIPT,_.SECTION,_.SELECT,_.SOURCE,_.STYLE,_.SUMMARY,_.TABLE,_.TBODY,_.TD,_.TEMPLATE,_.TEXTAREA,_.TFOOT,_.TH,_.THEAD,_.TITLE,_.TR,_.TRACK,_.UL,_.WBR,_.XMP]),[u.MATHML]:new Set([_.MI,_.MO,_.MN,_.MS,_.MTEXT,_.ANNOTATION_XML]),[u.SVG]:new Set([_.TITLE,_.FOREIGN_OBJECT,_.DESC]),[u.XLINK]:new Set,[u.XML]:new Set,[u.XMLNS]:new Set};function _e(e){return e===_.H1||e===_.H2||e===_.H3||e===_.H4||e===_.H5||e===_.H6}var ea=new Set([T.STYLE,T.SCRIPT,T.XMP,T.IFRAME,T.NOEMBED,T.NOFRAMES,T.PLAINTEXT]);function bt(e,t){return ea.has(e)||t&&e===T.NOSCRIPT}var ta=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),o;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END"})(o||(o={}));var D={DATA:o.DATA,RCDATA:o.RCDATA,RAWTEXT:o.RAWTEXT,SCRIPT_DATA:o.SCRIPT_DATA,PLAINTEXT:o.PLAINTEXT,CDATA_SECTION:o.CDATA_SECTION};function me(e){return e>=i.DIGIT_0&&e<=i.DIGIT_9}function de(e){return e>=i.LATIN_CAPITAL_A&&e<=i.LATIN_CAPITAL_Z}function sa(e){return e>=i.LATIN_SMALL_A&&e<=i.LATIN_SMALL_Z}function V(e){return sa(e)||de(e)}function Bt(e){return V(e)||me(e)}function Us(e){return e>=i.LATIN_CAPITAL_A&&e<=i.LATIN_CAPITAL_F}function ks(e){return e>=i.LATIN_SMALL_A&&e<=i.LATIN_SMALL_F}function ra(e){return me(e)||Us(e)||ks(e)}function Ke(e){return e+32}function xs(e){return e===i.SPACE||e===i.LINE_FEED||e===i.TABULATION||e===i.FORM_FEED}function na(e){return e===i.EQUALS_SIGN||Bt(e)}function Fs(e){return xs(e)||e===i.SOLIDUS||e===i.GREATER_THAN_SIGN}var fe=class{constructor(t,s){this.options=t,this.handler=s,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=o.DATA,this.returnState=o.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Xe(s),this.currentLocation=this.getCurrentLocation(-1)}_err(t){var s,n;(n=(s=this.handler).onParseError)===null||n===void 0||n.call(s,this.preprocessor.getError(t))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;let t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,s,n){this.active=!0,this.preprocessor.write(t,s),this._runParsingLoop(),this.paused||n?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(t){this.consumedAfterSnapshot-=t,this.preprocessor.retreat(t)}_reconsumeInState(t,s){this.state=t,this._callState(s)}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let s=0;s<t;s++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,s){return this.preprocessor.startsWith(t,s)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:C.START_TAG,tagName:"",tagID:r.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:C.END_TAG,tagName:"",tagID:r.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:C.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:C.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,s){this.currentCharacterToken={type:t,chars:s,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,s;let n=this.currentToken;if(We(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){let a=(t=(s=n.location).attrs)!==null&&t!==void 0?t:s.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(l.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){let t=this.currentToken;this.prepareToken(t),t.tagID=K(t.tagName),t.type===C.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(l.endTagWithAttributes),t.selfClosing&&this._err(l.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case C.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case C.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case C.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){let t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:C.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,s){if(this.currentCharacterToken)if(this.currentCharacterToken.type!==t)this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();else{this.currentCharacterToken.chars+=s;return}this._createCharacterToken(t,s)}_emitCodePoint(t){let s=xs(t)?C.WHITESPACE_CHARACTER:t===i.NULL?C.NULL_CHARACTER:C.CHARACTER;this._appendCharToCurrentCharacterToken(s,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(C.CHARACTER,t)}_matchNamedCharacterReference(t){let s=null,n=0,a=!1;for(let E=0,h=w[0];E>=0&&(E=Gt(w,h,E+1,t),!(E<0));t=this._consume()){n+=1,h=w[E];let d=h&at.VALUE_LENGTH;if(d){let m=(d>>14)-1;if(t!==i.SEMICOLON&&this._isCharacterReferenceInAttribute()&&na(this.preprocessor.peek(1))?(s=[i.AMPERSAND],E+=m):(s=m===0?[w[E]&~at.VALUE_LENGTH]:m===1?[w[++E]]:[w[++E],w[++E]],n=0,a=t!==i.SEMICOLON),m===0){this._consume();break}}}return this._unconsume(n),a&&!this.preprocessor.endOfChunkHit&&this._err(l.missingSemicolonAfterCharacterReference),this._unconsume(1),s}_isCharacterReferenceInAttribute(){return this.returnState===o.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===o.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===o.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case o.DATA:{this._stateData(t);break}case o.RCDATA:{this._stateRcdata(t);break}case o.RAWTEXT:{this._stateRawtext(t);break}case o.SCRIPT_DATA:{this._stateScriptData(t);break}case o.PLAINTEXT:{this._statePlaintext(t);break}case o.TAG_OPEN:{this._stateTagOpen(t);break}case o.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case o.TAG_NAME:{this._stateTagName(t);break}case o.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case o.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case o.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case o.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case o.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case o.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case o.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case o.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case o.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case o.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case o.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case o.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case o.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case o.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case o.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case o.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case o.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case o.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case o.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case o.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case o.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case o.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case o.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case o.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case o.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case o.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case o.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case o.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case o.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case o.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case o.BOGUS_COMMENT:{this._stateBogusComment(t);break}case o.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case o.COMMENT_START:{this._stateCommentStart(t);break}case o.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case o.COMMENT:{this._stateComment(t);break}case o.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case o.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case o.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case o.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case o.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case o.COMMENT_END:{this._stateCommentEnd(t);break}case o.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case o.DOCTYPE:{this._stateDoctype(t);break}case o.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case o.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case o.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case o.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case o.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case o.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case o.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case o.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case o.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case o.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case o.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case o.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case o.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case o.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case o.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case o.CDATA_SECTION:{this._stateCdataSection(t);break}case o.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case o.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case o.CHARACTER_REFERENCE:{this._stateCharacterReference(t);break}case o.NAMED_CHARACTER_REFERENCE:{this._stateNamedCharacterReference(t);break}case o.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}case o.NUMERIC_CHARACTER_REFERENCE:{this._stateNumericCharacterReference(t);break}case o.HEXADEMICAL_CHARACTER_REFERENCE_START:{this._stateHexademicalCharacterReferenceStart(t);break}case o.HEXADEMICAL_CHARACTER_REFERENCE:{this._stateHexademicalCharacterReference(t);break}case o.DECIMAL_CHARACTER_REFERENCE:{this._stateDecimalCharacterReference(t);break}case o.NUMERIC_CHARACTER_REFERENCE_END:{this._stateNumericCharacterReferenceEnd(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case i.LESS_THAN_SIGN:{this.state=o.TAG_OPEN;break}case i.AMPERSAND:{this.returnState=o.DATA,this.state=o.CHARACTER_REFERENCE;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this._emitCodePoint(t);break}case i.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case i.AMPERSAND:{this.returnState=o.RCDATA,this.state=o.CHARACTER_REFERENCE;break}case i.LESS_THAN_SIGN:{this.state=o.RCDATA_LESS_THAN_SIGN;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this._emitChars(R);break}case i.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case i.LESS_THAN_SIGN:{this.state=o.RAWTEXT_LESS_THAN_SIGN;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this._emitChars(R);break}case i.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case i.LESS_THAN_SIGN:{this.state=o.SCRIPT_DATA_LESS_THAN_SIGN;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this._emitChars(R);break}case i.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case i.NULL:{this._err(l.unexpectedNullCharacter),this._emitChars(R);break}case i.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(V(t))this._createStartTagToken(),this.state=o.TAG_NAME,this._stateTagName(t);else switch(t){case i.EXCLAMATION_MARK:{this.state=o.MARKUP_DECLARATION_OPEN;break}case i.SOLIDUS:{this.state=o.END_TAG_OPEN;break}case i.QUESTION_MARK:{this._err(l.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=o.BOGUS_COMMENT,this._stateBogusComment(t);break}case i.EOF:{this._err(l.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(l.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=o.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(V(t))this._createEndTagToken(),this.state=o.TAG_NAME,this._stateTagName(t);else switch(t){case i.GREATER_THAN_SIGN:{this._err(l.missingEndTagName),this.state=o.DATA;break}case i.EOF:{this._err(l.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(l.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=o.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this.state=o.BEFORE_ATTRIBUTE_NAME;break}case i.SOLIDUS:{this.state=o.SELF_CLOSING_START_TAG;break}case i.GREATER_THAN_SIGN:{this.state=o.DATA,this.emitCurrentTagToken();break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.tagName+=R;break}case i.EOF:{this._err(l.eofInTag),this._emitEOFToken();break}default:s.tagName+=String.fromCodePoint(de(t)?Ke(t):t)}}_stateRcdataLessThanSign(t){t===i.SOLIDUS?this.state=o.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=o.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){V(t)?(this.state=o.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=o.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();let s=this.currentToken;switch(s.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=o.BEFORE_ATTRIBUTE_NAME,!1;case i.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=o.SELF_CLOSING_START_TAG,!1;case i.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=o.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=o.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===i.SOLIDUS?this.state=o.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=o.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){V(t)?(this.state=o.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=o.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=o.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case i.SOLIDUS:{this.state=o.SCRIPT_DATA_END_TAG_OPEN;break}case i.EXCLAMATION_MARK:{this.state=o.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=o.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){V(t)?(this.state=o.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=o.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=o.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===i.HYPHEN_MINUS?(this.state=o.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=o.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===i.HYPHEN_MINUS?(this.state=o.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=o.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case i.HYPHEN_MINUS:{this.state=o.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case i.LESS_THAN_SIGN:{this.state=o.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this._emitChars(R);break}case i.EOF:{this._err(l.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case i.HYPHEN_MINUS:{this.state=o.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case i.LESS_THAN_SIGN:{this.state=o.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.state=o.SCRIPT_DATA_ESCAPED,this._emitChars(R);break}case i.EOF:{this._err(l.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=o.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case i.HYPHEN_MINUS:{this._emitChars("-");break}case i.LESS_THAN_SIGN:{this.state=o.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case i.GREATER_THAN_SIGN:{this.state=o.SCRIPT_DATA,this._emitChars(">");break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.state=o.SCRIPT_DATA_ESCAPED,this._emitChars(R);break}case i.EOF:{this._err(l.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=o.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===i.SOLIDUS?this.state=o.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:V(t)?(this._emitChars("<"),this.state=o.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=o.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){V(t)?(this.state=o.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=o.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=o.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(M.SCRIPT,!1)&&Fs(this.preprocessor.peek(M.SCRIPT.length))){this._emitCodePoint(t);for(let s=0;s<M.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=o.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case i.HYPHEN_MINUS:{this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case i.LESS_THAN_SIGN:{this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case i.NULL:{this._err(l.unexpectedNullCharacter),this._emitChars(R);break}case i.EOF:{this._err(l.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case i.HYPHEN_MINUS:{this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case i.LESS_THAN_SIGN:{this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(R);break}case i.EOF:{this._err(l.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case i.HYPHEN_MINUS:{this._emitChars("-");break}case i.LESS_THAN_SIGN:{this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case i.GREATER_THAN_SIGN:{this.state=o.SCRIPT_DATA,this._emitChars(">");break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(R);break}case i.EOF:{this._err(l.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===i.SOLIDUS?(this.state=o.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(M.SCRIPT,!1)&&Fs(this.preprocessor.peek(M.SCRIPT.length))){this._emitCodePoint(t);for(let s=0;s<M.SCRIPT.length;s++)this._emitCodePoint(this._consume());this.state=o.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=o.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.SOLIDUS:case i.GREATER_THAN_SIGN:case i.EOF:{this.state=o.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case i.EQUALS_SIGN:{this._err(l.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=o.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=o.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:case i.SOLIDUS:case i.GREATER_THAN_SIGN:case i.EOF:{this._leaveAttrName(),this.state=o.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case i.EQUALS_SIGN:{this._leaveAttrName(),this.state=o.BEFORE_ATTRIBUTE_VALUE;break}case i.QUOTATION_MARK:case i.APOSTROPHE:case i.LESS_THAN_SIGN:{this._err(l.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.currentAttr.name+=R;break}default:this.currentAttr.name+=String.fromCodePoint(de(t)?Ke(t):t)}}_stateAfterAttributeName(t){switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.SOLIDUS:{this.state=o.SELF_CLOSING_START_TAG;break}case i.EQUALS_SIGN:{this.state=o.BEFORE_ATTRIBUTE_VALUE;break}case i.GREATER_THAN_SIGN:{this.state=o.DATA,this.emitCurrentTagToken();break}case i.EOF:{this._err(l.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=o.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.QUOTATION_MARK:{this.state=o.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case i.APOSTROPHE:{this.state=o.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case i.GREATER_THAN_SIGN:{this._err(l.missingAttributeValue),this.state=o.DATA,this.emitCurrentTagToken();break}default:this.state=o.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case i.QUOTATION_MARK:{this.state=o.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case i.AMPERSAND:{this.returnState=o.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=o.CHARACTER_REFERENCE;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.currentAttr.value+=R;break}case i.EOF:{this._err(l.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case i.APOSTROPHE:{this.state=o.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case i.AMPERSAND:{this.returnState=o.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=o.CHARACTER_REFERENCE;break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.currentAttr.value+=R;break}case i.EOF:{this._err(l.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this._leaveAttrValue(),this.state=o.BEFORE_ATTRIBUTE_NAME;break}case i.AMPERSAND:{this.returnState=o.ATTRIBUTE_VALUE_UNQUOTED,this.state=o.CHARACTER_REFERENCE;break}case i.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=o.DATA,this.emitCurrentTagToken();break}case i.NULL:{this._err(l.unexpectedNullCharacter),this.currentAttr.value+=R;break}case i.QUOTATION_MARK:case i.APOSTROPHE:case i.LESS_THAN_SIGN:case i.EQUALS_SIGN:case i.GRAVE_ACCENT:{this._err(l.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case i.EOF:{this._err(l.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this._leaveAttrValue(),this.state=o.BEFORE_ATTRIBUTE_NAME;break}case i.SOLIDUS:{this._leaveAttrValue(),this.state=o.SELF_CLOSING_START_TAG;break}case i.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=o.DATA,this.emitCurrentTagToken();break}case i.EOF:{this._err(l.eofInTag),this._emitEOFToken();break}default:this._err(l.missingWhitespaceBetweenAttributes),this.state=o.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case i.GREATER_THAN_SIGN:{let s=this.currentToken;s.selfClosing=!0,this.state=o.DATA,this.emitCurrentTagToken();break}case i.EOF:{this._err(l.eofInTag),this._emitEOFToken();break}default:this._err(l.unexpectedSolidusInTag),this.state=o.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){let s=this.currentToken;switch(t){case i.GREATER_THAN_SIGN:{this.state=o.DATA,this.emitCurrentComment(s);break}case i.EOF:{this.emitCurrentComment(s),this._emitEOFToken();break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.data+=R;break}default:s.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(M.DASH_DASH,!0)?(this._createCommentToken(M.DASH_DASH.length+1),this.state=o.COMMENT_START):this._consumeSequenceIfMatch(M.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(M.DOCTYPE.length+1),this.state=o.DOCTYPE):this._consumeSequenceIfMatch(M.CDATA_START,!0)?this.inForeignNode?this.state=o.CDATA_SECTION:(this._err(l.cdataInHtmlContent),this._createCommentToken(M.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=o.BOGUS_COMMENT):this._ensureHibernation()||(this._err(l.incorrectlyOpenedComment),this._createCommentToken(2),this.state=o.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case i.HYPHEN_MINUS:{this.state=o.COMMENT_START_DASH;break}case i.GREATER_THAN_SIGN:{this._err(l.abruptClosingOfEmptyComment),this.state=o.DATA;let s=this.currentToken;this.emitCurrentComment(s);break}default:this.state=o.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){let s=this.currentToken;switch(t){case i.HYPHEN_MINUS:{this.state=o.COMMENT_END;break}case i.GREATER_THAN_SIGN:{this._err(l.abruptClosingOfEmptyComment),this.state=o.DATA,this.emitCurrentComment(s);break}case i.EOF:{this._err(l.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="-",this.state=o.COMMENT,this._stateComment(t)}}_stateComment(t){let s=this.currentToken;switch(t){case i.HYPHEN_MINUS:{this.state=o.COMMENT_END_DASH;break}case i.LESS_THAN_SIGN:{s.data+="<",this.state=o.COMMENT_LESS_THAN_SIGN;break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.data+=R;break}case i.EOF:{this._err(l.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){let s=this.currentToken;switch(t){case i.EXCLAMATION_MARK:{s.data+="!",this.state=o.COMMENT_LESS_THAN_SIGN_BANG;break}case i.LESS_THAN_SIGN:{s.data+="<";break}default:this.state=o.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===i.HYPHEN_MINUS?this.state=o.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=o.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===i.HYPHEN_MINUS?this.state=o.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=o.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==i.GREATER_THAN_SIGN&&t!==i.EOF&&this._err(l.nestedComment),this.state=o.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){let s=this.currentToken;switch(t){case i.HYPHEN_MINUS:{this.state=o.COMMENT_END;break}case i.EOF:{this._err(l.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="-",this.state=o.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){let s=this.currentToken;switch(t){case i.GREATER_THAN_SIGN:{this.state=o.DATA,this.emitCurrentComment(s);break}case i.EXCLAMATION_MARK:{this.state=o.COMMENT_END_BANG;break}case i.HYPHEN_MINUS:{s.data+="-";break}case i.EOF:{this._err(l.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="--",this.state=o.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){let s=this.currentToken;switch(t){case i.HYPHEN_MINUS:{s.data+="--!",this.state=o.COMMENT_END_DASH;break}case i.GREATER_THAN_SIGN:{this._err(l.incorrectlyClosedComment),this.state=o.DATA,this.emitCurrentComment(s);break}case i.EOF:{this._err(l.eofInComment),this.emitCurrentComment(s),this._emitEOFToken();break}default:s.data+="--!",this.state=o.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this.state=o.BEFORE_DOCTYPE_NAME;break}case i.GREATER_THAN_SIGN:{this.state=o.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case i.EOF:{this._err(l.eofInDoctype),this._createDoctypeToken(null);let s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.missingWhitespaceBeforeDoctypeName),this.state=o.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(de(t))this._createDoctypeToken(String.fromCharCode(Ke(t))),this.state=o.DOCTYPE_NAME;else switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.NULL:{this._err(l.unexpectedNullCharacter),this._createDoctypeToken(R),this.state=o.DOCTYPE_NAME;break}case i.GREATER_THAN_SIGN:{this._err(l.missingDoctypeName),this._createDoctypeToken(null);let s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.EOF:{this._err(l.eofInDoctype),this._createDoctypeToken(null);let s=this.currentToken;s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=o.DOCTYPE_NAME}}_stateDoctypeName(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this.state=o.AFTER_DOCTYPE_NAME;break}case i.GREATER_THAN_SIGN:{this.state=o.DATA,this.emitCurrentDoctype(s);break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.name+=R;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.name+=String.fromCodePoint(de(t)?Ke(t):t)}}_stateAfterDoctypeName(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.GREATER_THAN_SIGN:{this.state=o.DATA,this.emitCurrentDoctype(s);break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(M.PUBLIC,!1)?this.state=o.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(M.SYSTEM,!1)?this.state=o.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(l.invalidCharacterSequenceAfterDoctypeName),s.forceQuirks=!0,this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this.state=o.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case i.QUOTATION_MARK:{this._err(l.missingWhitespaceAfterDoctypePublicKeyword),s.publicId="",this.state=o.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case i.APOSTROPHE:{this._err(l.missingWhitespaceAfterDoctypePublicKeyword),s.publicId="",this.state=o.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case i.GREATER_THAN_SIGN:{this._err(l.missingDoctypePublicIdentifier),s.forceQuirks=!0,this.state=o.DATA,this.emitCurrentDoctype(s);break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.missingQuoteBeforeDoctypePublicIdentifier),s.forceQuirks=!0,this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.QUOTATION_MARK:{s.publicId="",this.state=o.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case i.APOSTROPHE:{s.publicId="",this.state=o.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case i.GREATER_THAN_SIGN:{this._err(l.missingDoctypePublicIdentifier),s.forceQuirks=!0,this.state=o.DATA,this.emitCurrentDoctype(s);break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.missingQuoteBeforeDoctypePublicIdentifier),s.forceQuirks=!0,this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){let s=this.currentToken;switch(t){case i.QUOTATION_MARK:{this.state=o.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.publicId+=R;break}case i.GREATER_THAN_SIGN:{this._err(l.abruptDoctypePublicIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){let s=this.currentToken;switch(t){case i.APOSTROPHE:{this.state=o.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.publicId+=R;break}case i.GREATER_THAN_SIGN:{this._err(l.abruptDoctypePublicIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this.state=o.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case i.GREATER_THAN_SIGN:{this.state=o.DATA,this.emitCurrentDoctype(s);break}case i.QUOTATION_MARK:{this._err(l.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case i.APOSTROPHE:{this._err(l.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.QUOTATION_MARK:{s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case i.APOSTROPHE:{s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:{this.state=o.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case i.QUOTATION_MARK:{this._err(l.missingWhitespaceAfterDoctypeSystemKeyword),s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case i.APOSTROPHE:{this._err(l.missingWhitespaceAfterDoctypeSystemKeyword),s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case i.GREATER_THAN_SIGN:{this._err(l.missingDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=o.DATA,this.emitCurrentDoctype(s);break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.QUOTATION_MARK:{s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case i.APOSTROPHE:{s.systemId="",this.state=o.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case i.GREATER_THAN_SIGN:{this._err(l.missingDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=o.DATA,this.emitCurrentDoctype(s);break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.missingQuoteBeforeDoctypeSystemIdentifier),s.forceQuirks=!0,this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){let s=this.currentToken;switch(t){case i.QUOTATION_MARK:{this.state=o.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.systemId+=R;break}case i.GREATER_THAN_SIGN:{this._err(l.abruptDoctypeSystemIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){let s=this.currentToken;switch(t){case i.APOSTROPHE:{this.state=o.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case i.NULL:{this._err(l.unexpectedNullCharacter),s.systemId+=R;break}case i.GREATER_THAN_SIGN:{this._err(l.abruptDoctypeSystemIdentifier),s.forceQuirks=!0,this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:s.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){let s=this.currentToken;switch(t){case i.SPACE:case i.LINE_FEED:case i.TABULATION:case i.FORM_FEED:break;case i.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.EOF:{this._err(l.eofInDoctype),s.forceQuirks=!0,this.emitCurrentDoctype(s),this._emitEOFToken();break}default:this._err(l.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=o.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){let s=this.currentToken;switch(t){case i.GREATER_THAN_SIGN:{this.emitCurrentDoctype(s),this.state=o.DATA;break}case i.NULL:{this._err(l.unexpectedNullCharacter);break}case i.EOF:{this.emitCurrentDoctype(s),this._emitEOFToken();break}default:}}_stateCdataSection(t){switch(t){case i.RIGHT_SQUARE_BRACKET:{this.state=o.CDATA_SECTION_BRACKET;break}case i.EOF:{this._err(l.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===i.RIGHT_SQUARE_BRACKET?this.state=o.CDATA_SECTION_END:(this._emitChars("]"),this.state=o.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case i.GREATER_THAN_SIGN:{this.state=o.DATA;break}case i.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=o.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(t){t===i.NUMBER_SIGN?this.state=o.NUMERIC_CHARACTER_REFERENCE:Bt(t)?(this.state=o.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(t)):(this._flushCodePointConsumedAsCharacterReference(i.AMPERSAND),this._reconsumeInState(this.returnState,t))}_stateNamedCharacterReference(t){let s=this._matchNamedCharacterReference(t);if(!this._ensureHibernation())if(s){for(let n=0;n<s.length;n++)this._flushCodePointConsumedAsCharacterReference(s[n]);this.state=this.returnState}else this._flushCodePointConsumedAsCharacterReference(i.AMPERSAND),this.state=o.AMBIGUOUS_AMPERSAND}_stateAmbiguousAmpersand(t){Bt(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===i.SEMICOLON&&this._err(l.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,t))}_stateNumericCharacterReference(t){this.charRefCode=0,t===i.LATIN_SMALL_X||t===i.LATIN_CAPITAL_X?this.state=o.HEXADEMICAL_CHARACTER_REFERENCE_START:me(t)?(this.state=o.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(t)):(this._err(l.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(i.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(i.NUMBER_SIGN),this._reconsumeInState(this.returnState,t))}_stateHexademicalCharacterReferenceStart(t){ra(t)?(this.state=o.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(t)):(this._err(l.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(i.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(i.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState)}_stateHexademicalCharacterReference(t){Us(t)?this.charRefCode=this.charRefCode*16+t-55:ks(t)?this.charRefCode=this.charRefCode*16+t-87:me(t)?this.charRefCode=this.charRefCode*16+t-48:t===i.SEMICOLON?this.state=o.NUMERIC_CHARACTER_REFERENCE_END:(this._err(l.missingSemicolonAfterCharacterReference),this.state=o.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateDecimalCharacterReference(t){me(t)?this.charRefCode=this.charRefCode*10+t-48:t===i.SEMICOLON?this.state=o.NUMERIC_CHARACTER_REFERENCE_END:(this._err(l.missingSemicolonAfterCharacterReference),this.state=o.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(t))}_stateNumericCharacterReferenceEnd(t){if(this.charRefCode===i.NULL)this._err(l.nullCharacterReference),this.charRefCode=i.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(l.characterReferenceOutsideUnicodeRange),this.charRefCode=i.REPLACEMENT_CHARACTER;else if(Ye(this.charRefCode))this._err(l.surrogateCharacterReference),this.charRefCode=i.REPLACEMENT_CHARACTER;else if(Qe(this.charRefCode))this._err(l.noncharacterCharacterReference);else if(ve(this.charRefCode)||this.charRefCode===i.CARRIAGE_RETURN){this._err(l.controlCharacterReference);let s=ta.get(this.charRefCode);s!==void 0&&(this.charRefCode=s)}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,t)}};var ws=new Set([r.DD,r.DT,r.LI,r.OPTGROUP,r.OPTION,r.P,r.RB,r.RP,r.RT,r.RTC]),ys=new Set([...ws,r.CAPTION,r.COLGROUP,r.TBODY,r.TD,r.TFOOT,r.TH,r.THEAD,r.TR]),Ve=new Map([[r.APPLET,u.HTML],[r.CAPTION,u.HTML],[r.HTML,u.HTML],[r.MARQUEE,u.HTML],[r.OBJECT,u.HTML],[r.TABLE,u.HTML],[r.TD,u.HTML],[r.TEMPLATE,u.HTML],[r.TH,u.HTML],[r.ANNOTATION_XML,u.MATHML],[r.MI,u.MATHML],[r.MN,u.MATHML],[r.MO,u.MATHML],[r.MS,u.MATHML],[r.MTEXT,u.MATHML],[r.DESC,u.SVG],[r.FOREIGN_OBJECT,u.SVG],[r.TITLE,u.SVG]]),aa=[r.H1,r.H2,r.H3,r.H4,r.H5,r.H6],ia=[r.TR,r.TEMPLATE,r.HTML],oa=[r.TBODY,r.TFOOT,r.THEAD,r.TEMPLATE,r.HTML],ca=[r.TABLE,r.TEMPLATE,r.HTML],Ea=[r.TD,r.TH],je=class{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,s,n){this.treeAdapter=s,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=r.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===r.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===u.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,s){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=s,this.currentTagId=s,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,s,!0)}pop(){let t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,s){let n=this._indexOf(t);this.items[n]=s,n===this.stackTop&&(this.current=s)}insertAfter(t,s,n){let a=this._indexOf(t)+1;this.items.splice(a,0,s),this.tagIDs.splice(a,0,n),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let s=this.stackTop+1;do s=this.tagIDs.lastIndexOf(t,s-1);while(s>0&&this.treeAdapter.getNamespaceURI(this.items[s])!==u.HTML);this.shortenToLength(s<0?0:s)}shortenToLength(t){for(;this.stackTop>=t;){let s=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(s,this.stackTop<t)}}popUntilElementPopped(t){let s=this._indexOf(t);this.shortenToLength(s<0?0:s)}popUntilPopped(t,s){let n=this._indexOfTagNames(t,s);this.shortenToLength(n<0?0:n)}popUntilNumberedHeaderPopped(){this.popUntilPopped(aa,u.HTML)}popUntilTableCellPopped(){this.popUntilPopped(Ea,u.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,s){for(let n=this.stackTop;n>=0;n--)if(t.includes(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===s)return n;return-1}clearBackTo(t,s){let n=this._indexOfTagNames(t,s);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(ca,u.HTML)}clearBackToTableBodyContext(){this.clearBackTo(oa,u.HTML)}clearBackToTableRowContext(){this.clearBackTo(ia,u.HTML)}remove(t){let s=this._indexOf(t);s>=0&&(s===this.stackTop?this.pop():(this.items.splice(s,1),this.tagIDs.splice(s,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===r.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){let s=this._indexOf(t)-1;return s>=0?this.items[s]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===r.HTML}hasInScope(t){for(let s=this.stackTop;s>=0;s--){let n=this.tagIDs[s],a=this.treeAdapter.getNamespaceURI(this.items[s]);if(n===t&&a===u.HTML)return!0;if(Ve.get(n)===a)return!1}return!0}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){let s=this.tagIDs[t],n=this.treeAdapter.getNamespaceURI(this.items[t]);if(_e(s)&&n===u.HTML)return!0;if(Ve.get(s)===n)return!1}return!0}hasInListItemScope(t){for(let s=this.stackTop;s>=0;s--){let n=this.tagIDs[s],a=this.treeAdapter.getNamespaceURI(this.items[s]);if(n===t&&a===u.HTML)return!0;if((n===r.UL||n===r.OL)&&a===u.HTML||Ve.get(n)===a)return!1}return!0}hasInButtonScope(t){for(let s=this.stackTop;s>=0;s--){let n=this.tagIDs[s],a=this.treeAdapter.getNamespaceURI(this.items[s]);if(n===t&&a===u.HTML)return!0;if(n===r.BUTTON&&a===u.HTML||Ve.get(n)===a)return!1}return!0}hasInTableScope(t){for(let s=this.stackTop;s>=0;s--){let n=this.tagIDs[s];if(this.treeAdapter.getNamespaceURI(this.items[s])===u.HTML){if(n===t)return!0;if(n===r.TABLE||n===r.TEMPLATE||n===r.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--){let s=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===u.HTML){if(s===r.TBODY||s===r.THEAD||s===r.TFOOT)return!0;if(s===r.TABLE||s===r.HTML)return!1}}return!0}hasInSelectScope(t){for(let s=this.stackTop;s>=0;s--){let n=this.tagIDs[s];if(this.treeAdapter.getNamespaceURI(this.items[s])===u.HTML){if(n===t)return!0;if(n!==r.OPTION&&n!==r.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;ws.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;ys.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==t&&ys.has(this.currentTagId);)this.pop()}};var H;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(H=H||(H={}));var Ys={type:H.Marker},ze=class{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,s){let n=[],a=s.length,E=this.treeAdapter.getTagName(t),h=this.treeAdapter.getNamespaceURI(t);for(let d=0;d<this.entries.length;d++){let m=this.entries[d];if(m.type===H.Marker)break;let{element:N}=m;if(this.treeAdapter.getTagName(N)===E&&this.treeAdapter.getNamespaceURI(N)===h){let A=this.treeAdapter.getAttrList(N);A.length===a&&n.push({idx:d,attrs:A})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<3)return;let s=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,s);if(n.length<3)return;let a=new Map(s.map(h=>[h.name,h.value])),E=0;for(let h=0;h<n.length;h++){let d=n[h];d.attrs.every(m=>a.get(m.name)===m.value)&&(E+=1,E>=3&&this.entries.splice(d.idx,1))}}insertMarker(){this.entries.unshift(Ys)}pushElement(t,s){this._ensureNoahArkCondition(t),this.entries.unshift({type:H.Element,element:t,token:s})}insertElementAfterBookmark(t,s){let n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:H.Element,element:t,token:s})}removeEntry(t){let s=this.entries.indexOf(t);s>=0&&this.entries.splice(s,1)}clearToLastMarker(){let t=this.entries.indexOf(Ys);t>=0?this.entries.splice(0,t+1):this.entries.length=0}getElementEntryInScopeWithTagName(t){let s=this.entries.find(n=>n.type===H.Marker||this.treeAdapter.getTagName(n.element)===t);return s&&s.type===H.Element?s:null}getElementEntry(t){return this.entries.find(s=>s.type===H.Element&&s.element===t)}};function vs(e){return{nodeName:"#text",value:e,parentNode:null}}var k={createDocument(){return{nodeName:"#document",mode:S.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,s){return{nodeName:e,tagName:e,attrs:s,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,s){let n=e.childNodes.indexOf(s);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,s,n){let a=e.childNodes.find(E=>E.nodeName==="#documentType");if(a)a.name=t,a.publicId=s,a.systemId=n;else{let E={nodeName:"#documentType",name:t,publicId:s,systemId:n,parentNode:null};k.appendChild(e,E)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){let t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){let s=e.childNodes[e.childNodes.length-1];if(k.isTextNode(s)){s.value+=t;return}}k.appendChild(e,vs(t))},insertTextBefore(e,t,s){let n=e.childNodes[e.childNodes.indexOf(s)-1];n&&k.isTextNode(n)?n.value+=t:k.insertBefore(e,vs(t),s)},adoptAttributes(e,t){let s=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)s.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};var Xs="html",Ta="about:legacy-compat",ha="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",Ws=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],la=[...Ws,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],ua=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),Gs=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],_a=[...Gs,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Qs(e,t){return t.some(s=>e.startsWith(s))}function Ks(e){return e.name===Xs&&e.publicId===null&&(e.systemId===null||e.systemId===Ta)}function Vs(e){if(e.name!==Xs)return S.QUIRKS;let{systemId:t}=e;if(t&&t.toLowerCase()===ha)return S.QUIRKS;let{publicId:s}=e;if(s!==null){if(s=s.toLowerCase(),ua.has(s))return S.QUIRKS;let n=t===null?la:Ws;if(Qs(s,n))return S.QUIRKS;if(n=t===null?Gs:_a,Qs(s,n))return S.LIMITED_QUIRKS}return S.NO_QUIRKS}var js={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},ma="definitionurl",fa="definitionURL",Aa=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Ca=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:u.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:u.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:u.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:u.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:u.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:u.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:u.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:u.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:u.XML}],["xml:space",{prefix:"xml",name:"space",namespace:u.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:u.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:u.XMLNS}]]),Na=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ia=new Set([r.B,r.BIG,r.BLOCKQUOTE,r.BODY,r.BR,r.CENTER,r.CODE,r.DD,r.DIV,r.DL,r.DT,r.EM,r.EMBED,r.H1,r.H2,r.H3,r.H4,r.H5,r.H6,r.HEAD,r.HR,r.I,r.IMG,r.LI,r.LISTING,r.MENU,r.META,r.NOBR,r.OL,r.P,r.PRE,r.RUBY,r.S,r.SMALL,r.SPAN,r.STRONG,r.STRIKE,r.SUB,r.SUP,r.TABLE,r.TT,r.U,r.UL,r.VAR]);function zs(e){let t=e.tagID;return t===r.FONT&&e.attrs.some(({name:n})=>n===F.COLOR||n===F.SIZE||n===F.FACE)||Ia.has(t)}function Ht(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===ma){e.attrs[t].name=fa;break}}function Ft(e){for(let t=0;t<e.attrs.length;t++){let s=Aa.get(e.attrs[t].name);s!=null&&(e.attrs[t].name=s)}}function $e(e){for(let t=0;t<e.attrs.length;t++){let s=Ca.get(e.attrs[t].name);s&&(e.attrs[t].prefix=s.prefix,e.attrs[t].name=s.name,e.attrs[t].namespace=s.namespace)}}function $s(e){let t=Na.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=K(e.tagName))}function pa(e,t){return t===u.MATHML&&(e===r.MI||e===r.MO||e===r.MN||e===r.MS||e===r.MTEXT)}function Ra(e,t,s){if(t===u.MATHML&&e===r.ANNOTATION_XML){for(let n=0;n<s.length;n++)if(s[n].name===F.ENCODING){let a=s[n].value.toLowerCase();return a===js.TEXT_HTML||a===js.APPLICATION_XML}}return t===u.SVG&&(e===r.FOREIGN_OBJECT||e===r.DESC||e===r.TITLE)}function qs(e,t,s,n){return(!n||n===u.HTML)&&Ra(e,t,s)||(!n||n===u.MATHML)&&pa(e,t)}var Oa="hidden",La=8,Sa=3,c;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(c||(c={}));var ga={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},sr=new Set([r.TABLE,r.TBODY,r.TFOOT,r.THEAD,r.TR]),Zs={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:k,onParseError:null},ne=class{constructor(t,s,n=null,a=null){this.fragmentContext=n,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=c.INITIAL,this.originalInsertionMode=c.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Zs,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=s??this.treeAdapter.createDocument(),this.tokenizer=new fe(this.options,this),this.activeFormattingElements=new ze(this.treeAdapter),this.fragmentContextID=n?K(this.treeAdapter.getTagName(n)):r.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new je(this.document,this.treeAdapter,this)}static parse(t,s){let n=new this(s);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,s){let n={...Zs,...s};t??(t=n.treeAdapter.createElement(T.TEMPLATE,u.HTML,[]));let a=n.treeAdapter.createElement("documentmock",u.HTML,[]),E=new this(n,a,t);return E.fragmentContextID===r.TEMPLATE&&E.tmplInsertionModeStack.unshift(c.IN_TEMPLATE),E._initTokenizerForFragmentParsing(),E._insertFakeRootElement(),E._resetInsertionMode(),E._findFormInFragmentContext(),E}getFragment(){let t=this.treeAdapter.getFirstChild(this.document),s=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,s),s}_err(t,s,n){var a;if(!this.onParseError)return;let E=(a=t.location)!==null&&a!==void 0?a:ga,h={code:s,startLine:E.startLine,startCol:E.startCol,startOffset:E.startOffset,endLine:n?E.startLine:E.endLine,endCol:n?E.startCol:E.endCol,endOffset:n?E.startOffset:E.endOffset};this.onParseError(h)}onItemPush(t,s,n){var a,E;(E=(a=this.treeAdapter).onItemPush)===null||E===void 0||E.call(a,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,s)}onItemPop(t,s){var n,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(n=this.treeAdapter).onItemPop)===null||a===void 0||a.call(n,t,this.openElements.current),s){let E,h;this.openElements.stackTop===0&&this.fragmentContext?(E=this.fragmentContext,h=this.fragmentContextID):{current:E,currentTagId:h}=this.openElements,this._setContextModes(E,h)}}_setContextModes(t,s){let n=t===this.document||this.treeAdapter.getNamespaceURI(t)===u.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&!this._isIntegrationPoint(s,t)}_switchToTextParsing(t,s){this._insertElement(t,u.HTML),this.tokenizer.state=s,this.originalInsertionMode=this.insertionMode,this.insertionMode=c.TEXT}switchToPlaintextParsing(){this.insertionMode=c.TEXT,this.originalInsertionMode=c.IN_BODY,this.tokenizer.state=D.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===T.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==u.HTML))switch(this.fragmentContextID){case r.TITLE:case r.TEXTAREA:{this.tokenizer.state=D.RCDATA;break}case r.STYLE:case r.XMP:case r.IFRAME:case r.NOEMBED:case r.NOFRAMES:case r.NOSCRIPT:{this.tokenizer.state=D.RAWTEXT;break}case r.SCRIPT:{this.tokenizer.state=D.SCRIPT_DATA;break}case r.PLAINTEXT:{this.tokenizer.state=D.PLAINTEXT;break}default:}}_setDocumentType(t){let s=t.name||"",n=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,s,n,a),t.location){let h=this.treeAdapter.getChildNodes(this.document).find(d=>this.treeAdapter.isDocumentTypeNode(d));h&&this.treeAdapter.setNodeSourceCodeLocation(h,t.location)}}_attachElementToTree(t,s){if(this.options.sourceCodeLocationInfo){let n=s&&{...s,startTag:s};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{let n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n,t)}}_appendElement(t,s){let n=this.treeAdapter.createElement(t.tagName,s,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,s){let n=this.treeAdapter.createElement(t.tagName,s,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,s){let n=this.treeAdapter.createElement(t,u.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,s)}_insertTemplate(t){let s=this.treeAdapter.createElement(t.tagName,u.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(s,n),this._attachElementToTree(s,t.location),this.openElements.push(s,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){let t=this.treeAdapter.createElement(T.HTML,u.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,r.HTML)}_appendCommentNode(t,s){let n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(s,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let s,n;if(this._shouldFosterParentOnInsertion()?({parent:s,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(s,t.chars,n):this.treeAdapter.insertText(s,t.chars)):(s=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(s,t.chars)),!t.location)return;let a=this.treeAdapter.getChildNodes(s),E=n?a.lastIndexOf(n):a.length,h=a[E-1];if(this.treeAdapter.getNodeSourceCodeLocation(h)){let{endLine:m,endCol:N,endOffset:A}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(h,{endLine:m,endCol:N,endOffset:A})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(h,t.location)}_adoptNodes(t,s){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(s,n)}_setEndLocation(t,s){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&s.location){let n=s.location,a=this.treeAdapter.getTagName(t),E=s.type===C.END_TAG&&a===s.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,E)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let s,n;return this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,n=this.fragmentContextID):{current:s,currentTagId:n}=this.openElements,t.tagID===r.SVG&&this.treeAdapter.getTagName(s)===T.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(s)===u.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===r.MGLYPH||t.tagID===r.MALIGNMARK)&&!this._isIntegrationPoint(n,s,u.HTML)}_processToken(t){switch(t.type){case C.CHARACTER:{this.onCharacter(t);break}case C.NULL_CHARACTER:{this.onNullCharacter(t);break}case C.COMMENT:{this.onComment(t);break}case C.DOCTYPE:{this.onDoctype(t);break}case C.START_TAG:{this._processStartTag(t);break}case C.END_TAG:{this.onEndTag(t);break}case C.EOF:{this.onEof(t);break}case C.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,s,n){let a=this.treeAdapter.getNamespaceURI(s),E=this.treeAdapter.getAttrList(s);return qs(t,a,E,n)}_reconstructActiveFormattingElements(){let t=this.activeFormattingElements.entries.length;if(t){let s=this.activeFormattingElements.entries.findIndex(a=>a.type===H.Marker||this.openElements.contains(a.element)),n=s<0?t-1:s-1;for(let a=n;a>=0;a--){let E=this.activeFormattingElements.entries[a];this._insertElement(E.token,this.treeAdapter.getNamespaceURI(E.element)),E.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=c.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(r.P),this.openElements.popUntilTagNamePopped(r.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case r.TR:{this.insertionMode=c.IN_ROW;return}case r.TBODY:case r.THEAD:case r.TFOOT:{this.insertionMode=c.IN_TABLE_BODY;return}case r.CAPTION:{this.insertionMode=c.IN_CAPTION;return}case r.COLGROUP:{this.insertionMode=c.IN_COLUMN_GROUP;return}case r.TABLE:{this.insertionMode=c.IN_TABLE;return}case r.BODY:{this.insertionMode=c.IN_BODY;return}case r.FRAMESET:{this.insertionMode=c.IN_FRAMESET;return}case r.SELECT:{this._resetInsertionModeForSelect(t);return}case r.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case r.HTML:{this.insertionMode=this.headElement?c.AFTER_HEAD:c.BEFORE_HEAD;return}case r.TD:case r.TH:{if(t>0){this.insertionMode=c.IN_CELL;return}break}case r.HEAD:{if(t>0){this.insertionMode=c.IN_HEAD;return}break}}this.insertionMode=c.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let s=t-1;s>0;s--){let n=this.openElements.tagIDs[s];if(n===r.TEMPLATE)break;if(n===r.TABLE){this.insertionMode=c.IN_SELECT_IN_TABLE;return}}this.insertionMode=c.IN_SELECT}_isElementCausesFosterParenting(t){return sr.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){let s=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case r.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(s)===u.HTML)return{parent:this.treeAdapter.getTemplateContent(s),beforeElement:null};break}case r.TABLE:{let n=this.treeAdapter.getParentNode(s);return n?{parent:n,beforeElement:s}:{parent:this.openElements.items[t-1],beforeElement:null}}default:}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){let s=this._findFosterParentingLocation();s.beforeElement?this.treeAdapter.insertBefore(s.parent,t,s.beforeElement):this.treeAdapter.appendChild(s.parent,t)}_isSpecialElement(t,s){let n=this.treeAdapter.getNamespaceURI(t);return Mt[n].has(s)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){ro(this,t);return}switch(this.insertionMode){case c.INITIAL:{Ae(this,t);break}case c.BEFORE_HTML:{Ne(this,t);break}case c.BEFORE_HEAD:{Ie(this,t);break}case c.IN_HEAD:{pe(this,t);break}case c.IN_HEAD_NO_SCRIPT:{Re(this,t);break}case c.AFTER_HEAD:{Oe(this,t);break}case c.IN_BODY:case c.IN_CAPTION:case c.IN_CELL:case c.IN_TEMPLATE:{nr(this,t);break}case c.TEXT:case c.IN_SELECT:case c.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case c.IN_TABLE:case c.IN_TABLE_BODY:case c.IN_ROW:{Ut(this,t);break}case c.IN_TABLE_TEXT:{Tr(this,t);break}case c.IN_COLUMN_GROUP:{Je(this,t);break}case c.AFTER_BODY:{Ze(this,t);break}case c.AFTER_AFTER_BODY:{qe(this,t);break}default:}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){so(this,t);return}switch(this.insertionMode){case c.INITIAL:{Ae(this,t);break}case c.BEFORE_HTML:{Ne(this,t);break}case c.BEFORE_HEAD:{Ie(this,t);break}case c.IN_HEAD:{pe(this,t);break}case c.IN_HEAD_NO_SCRIPT:{Re(this,t);break}case c.AFTER_HEAD:{Oe(this,t);break}case c.TEXT:{this._insertCharacters(t);break}case c.IN_TABLE:case c.IN_TABLE_BODY:case c.IN_ROW:{Ut(this,t);break}case c.IN_COLUMN_GROUP:{Je(this,t);break}case c.AFTER_BODY:{Ze(this,t);break}case c.AFTER_AFTER_BODY:{qe(this,t);break}default:}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){kt(this,t);return}switch(this.insertionMode){case c.INITIAL:case c.BEFORE_HTML:case c.BEFORE_HEAD:case c.IN_HEAD:case c.IN_HEAD_NO_SCRIPT:case c.AFTER_HEAD:case c.IN_BODY:case c.IN_TABLE:case c.IN_CAPTION:case c.IN_COLUMN_GROUP:case c.IN_TABLE_BODY:case c.IN_ROW:case c.IN_CELL:case c.IN_SELECT:case c.IN_SELECT_IN_TABLE:case c.IN_TEMPLATE:case c.IN_FRAMESET:case c.AFTER_FRAMESET:{kt(this,t);break}case c.IN_TABLE_TEXT:{Ce(this,t);break}case c.AFTER_BODY:{Fa(this,t);break}case c.AFTER_AFTER_BODY:case c.AFTER_AFTER_FRAMESET:{Ua(this,t);break}default:}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case c.INITIAL:{ka(this,t);break}case c.BEFORE_HEAD:case c.IN_HEAD:case c.IN_HEAD_NO_SCRIPT:case c.AFTER_HEAD:{this._err(t,l.misplacedDoctype);break}case c.IN_TABLE_TEXT:{Ce(this,t);break}default:}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,l.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?no(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case c.INITIAL:{Ae(this,t);break}case c.BEFORE_HTML:{xa(this,t);break}case c.BEFORE_HEAD:{wa(this,t);break}case c.IN_HEAD:{U(this,t);break}case c.IN_HEAD_NO_SCRIPT:{Qa(this,t);break}case c.AFTER_HEAD:{Wa(this,t);break}case c.IN_BODY:{P(this,t);break}case c.IN_TABLE:{ae(this,t);break}case c.IN_TABLE_TEXT:{Ce(this,t);break}case c.IN_CAPTION:{Yi(this,t);break}case c.IN_COLUMN_GROUP:{Yt(this,t);break}case c.IN_TABLE_BODY:{st(this,t);break}case c.IN_ROW:{rt(this,t);break}case c.IN_CELL:{Xi(this,t);break}case c.IN_SELECT:{ur(this,t);break}case c.IN_SELECT_IN_TABLE:{Gi(this,t);break}case c.IN_TEMPLATE:{Vi(this,t);break}case c.AFTER_BODY:{zi(this,t);break}case c.IN_FRAMESET:{$i(this,t);break}case c.AFTER_FRAMESET:{Ji(this,t);break}case c.AFTER_AFTER_BODY:{eo(this,t);break}case c.AFTER_AFTER_FRAMESET:{to(this,t);break}default:}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?ao(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case c.INITIAL:{Ae(this,t);break}case c.BEFORE_HTML:{ya(this,t);break}case c.BEFORE_HEAD:{Ya(this,t);break}case c.IN_HEAD:{va(this,t);break}case c.IN_HEAD_NO_SCRIPT:{Xa(this,t);break}case c.AFTER_HEAD:{Ga(this,t);break}case c.IN_BODY:{tt(this,t);break}case c.TEXT:{Mi(this,t);break}case c.IN_TABLE:{Le(this,t);break}case c.IN_TABLE_TEXT:{Ce(this,t);break}case c.IN_CAPTION:{vi(this,t);break}case c.IN_COLUMN_GROUP:{Qi(this,t);break}case c.IN_TABLE_BODY:{xt(this,t);break}case c.IN_ROW:{lr(this,t);break}case c.IN_CELL:{Wi(this,t);break}case c.IN_SELECT:{_r(this,t);break}case c.IN_SELECT_IN_TABLE:{Ki(this,t);break}case c.IN_TEMPLATE:{ji(this,t);break}case c.AFTER_BODY:{mr(this,t);break}case c.IN_FRAMESET:{qi(this,t);break}case c.AFTER_FRAMESET:{Zi(this,t);break}case c.AFTER_AFTER_BODY:{qe(this,t);break}default:}}onEof(t){switch(this.insertionMode){case c.INITIAL:{Ae(this,t);break}case c.BEFORE_HTML:{Ne(this,t);break}case c.BEFORE_HEAD:{Ie(this,t);break}case c.IN_HEAD:{pe(this,t);break}case c.IN_HEAD_NO_SCRIPT:{Re(this,t);break}case c.AFTER_HEAD:{Oe(this,t);break}case c.IN_BODY:case c.IN_TABLE:case c.IN_CAPTION:case c.IN_COLUMN_GROUP:case c.IN_TABLE_BODY:case c.IN_ROW:case c.IN_CELL:case c.IN_SELECT:case c.IN_SELECT_IN_TABLE:{cr(this,t);break}case c.TEXT:{bi(this,t);break}case c.IN_TABLE_TEXT:{Ce(this,t);break}case c.IN_TEMPLATE:{dr(this,t);break}case c.AFTER_BODY:case c.IN_FRAMESET:case c.AFTER_FRAMESET:case c.AFTER_AFTER_BODY:case c.AFTER_AFTER_FRAMESET:{wt(this,t);break}default:}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===i.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case c.IN_HEAD:case c.IN_HEAD_NO_SCRIPT:case c.AFTER_HEAD:case c.TEXT:case c.IN_COLUMN_GROUP:case c.IN_SELECT:case c.IN_SELECT_IN_TABLE:case c.IN_FRAMESET:case c.AFTER_FRAMESET:{this._insertCharacters(t);break}case c.IN_BODY:case c.IN_CAPTION:case c.IN_CELL:case c.IN_TEMPLATE:case c.AFTER_BODY:case c.AFTER_AFTER_BODY:case c.AFTER_AFTER_FRAMESET:{rr(this,t);break}case c.IN_TABLE:case c.IN_TABLE_BODY:case c.IN_ROW:{Ut(this,t);break}case c.IN_TABLE_TEXT:{Er(this,t);break}default:}}};function Da(e,t){let s=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return s?e.openElements.contains(s.element)?e.openElements.hasInScope(t.tagID)||(s=null):(e.activeFormattingElements.removeEntry(s),s=null):or(e,t),s}function Pa(e,t){let s=null,n=e.openElements.stackTop;for(;n>=0;n--){let a=e.openElements.items[n];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[n])&&(s=a)}return s||(e.openElements.shortenToLength(n<0?0:n),e.activeFormattingElements.removeEntry(t)),s}function Ma(e,t,s){let n=t,a=e.openElements.getCommonAncestor(t);for(let E=0,h=a;h!==s;E++,h=a){a=e.openElements.getCommonAncestor(h);let d=e.activeFormattingElements.getElementEntry(h),m=d&&E>=Sa;!d||m?(m&&e.activeFormattingElements.removeEntry(d),e.openElements.remove(h)):(h=ba(e,d),n===t&&(e.activeFormattingElements.bookmark=d),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(h,n),n=h)}return n}function ba(e,t){let s=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,s,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function Ba(e,t,s){let n=e.treeAdapter.getTagName(t),a=K(n);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(s);else{let E=e.treeAdapter.getNamespaceURI(t);a===r.TEMPLATE&&E===u.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,s)}}function Ha(e,t,s){let n=e.treeAdapter.getNamespaceURI(s.element),{token:a}=s,E=e.treeAdapter.createElement(a.tagName,n,a.attrs);e._adoptNodes(t,E),e.treeAdapter.appendChild(t,E),e.activeFormattingElements.insertElementAfterBookmark(E,a),e.activeFormattingElements.removeEntry(s),e.openElements.remove(s.element),e.openElements.insertAfter(t,E,a.tagID)}function yt(e,t){for(let s=0;s<La;s++){let n=Da(e,t);if(!n)break;let a=Pa(e,n);if(!a)break;e.activeFormattingElements.bookmark=n;let E=Ma(e,a,n.element),h=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(E),h&&Ba(e,h,E),Ha(e,a,n)}}function kt(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Fa(e,t){e._appendCommentNode(t,e.openElements.items[0])}function Ua(e,t){e._appendCommentNode(t,e.document)}function wt(e,t){if(e.stopped=!0,t.location){let s=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=s;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){let n=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(n);if(a&&!a.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){let E=e.openElements.items[1],h=e.treeAdapter.getNodeSourceCodeLocation(E);h&&!h.endTag&&e._setEndLocation(E,t)}}}}function ka(e,t){e._setDocumentType(t);let s=t.forceQuirks?S.QUIRKS:Vs(t);Ks(t)||e._err(t,l.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,s),e.insertionMode=c.BEFORE_HTML}function Ae(e,t){e._err(t,l.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,S.QUIRKS),e.insertionMode=c.BEFORE_HTML,e._processToken(t)}function xa(e,t){t.tagID===r.HTML?(e._insertElement(t,u.HTML),e.insertionMode=c.BEFORE_HEAD):Ne(e,t)}function ya(e,t){let s=t.tagID;(s===r.HTML||s===r.HEAD||s===r.BODY||s===r.BR)&&Ne(e,t)}function Ne(e,t){e._insertFakeRootElement(),e.insertionMode=c.BEFORE_HEAD,e._processToken(t)}function wa(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.HEAD:{e._insertElement(t,u.HTML),e.headElement=e.openElements.current,e.insertionMode=c.IN_HEAD;break}default:Ie(e,t)}}function Ya(e,t){let s=t.tagID;s===r.HEAD||s===r.BODY||s===r.HTML||s===r.BR?Ie(e,t):e._err(t,l.endTagWithoutMatchingOpenElement)}function Ie(e,t){e._insertFakeElement(T.HEAD,r.HEAD),e.headElement=e.openElements.current,e.insertionMode=c.IN_HEAD,e._processToken(t)}function U(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.BASE:case r.BASEFONT:case r.BGSOUND:case r.LINK:case r.META:{e._appendElement(t,u.HTML),t.ackSelfClosing=!0;break}case r.TITLE:{e._switchToTextParsing(t,D.RCDATA);break}case r.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,D.RAWTEXT):(e._insertElement(t,u.HTML),e.insertionMode=c.IN_HEAD_NO_SCRIPT);break}case r.NOFRAMES:case r.STYLE:{e._switchToTextParsing(t,D.RAWTEXT);break}case r.SCRIPT:{e._switchToTextParsing(t,D.SCRIPT_DATA);break}case r.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=c.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(c.IN_TEMPLATE);break}case r.HEAD:{e._err(t,l.misplacedStartTagForHeadElement);break}default:pe(e,t)}}function va(e,t){switch(t.tagID){case r.HEAD:{e.openElements.pop(),e.insertionMode=c.AFTER_HEAD;break}case r.BODY:case r.BR:case r.HTML:{pe(e,t);break}case r.TEMPLATE:{J(e,t);break}default:e._err(t,l.endTagWithoutMatchingOpenElement)}}function J(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==r.TEMPLATE&&e._err(t,l.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(r.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,l.endTagWithoutMatchingOpenElement)}function pe(e,t){e.openElements.pop(),e.insertionMode=c.AFTER_HEAD,e._processToken(t)}function Qa(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.BASEFONT:case r.BGSOUND:case r.HEAD:case r.LINK:case r.META:case r.NOFRAMES:case r.STYLE:{U(e,t);break}case r.NOSCRIPT:{e._err(t,l.nestedNoscriptInHead);break}default:Re(e,t)}}function Xa(e,t){switch(t.tagID){case r.NOSCRIPT:{e.openElements.pop(),e.insertionMode=c.IN_HEAD;break}case r.BR:{Re(e,t);break}default:e._err(t,l.endTagWithoutMatchingOpenElement)}}function Re(e,t){let s=t.type===C.EOF?l.openElementsLeftAfterEof:l.disallowedContentInNoscriptInHead;e._err(t,s),e.openElements.pop(),e.insertionMode=c.IN_HEAD,e._processToken(t)}function Wa(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.BODY:{e._insertElement(t,u.HTML),e.framesetOk=!1,e.insertionMode=c.IN_BODY;break}case r.FRAMESET:{e._insertElement(t,u.HTML),e.insertionMode=c.IN_FRAMESET;break}case r.BASE:case r.BASEFONT:case r.BGSOUND:case r.LINK:case r.META:case r.NOFRAMES:case r.SCRIPT:case r.STYLE:case r.TEMPLATE:case r.TITLE:{e._err(t,l.abandonedHeadElementChild),e.openElements.push(e.headElement,r.HEAD),U(e,t),e.openElements.remove(e.headElement);break}case r.HEAD:{e._err(t,l.misplacedStartTagForHeadElement);break}default:Oe(e,t)}}function Ga(e,t){switch(t.tagID){case r.BODY:case r.HTML:case r.BR:{Oe(e,t);break}case r.TEMPLATE:{J(e,t);break}default:e._err(t,l.endTagWithoutMatchingOpenElement)}}function Oe(e,t){e._insertFakeElement(T.BODY,r.BODY),e.insertionMode=c.IN_BODY,et(e,t)}function et(e,t){switch(t.type){case C.CHARACTER:{nr(e,t);break}case C.WHITESPACE_CHARACTER:{rr(e,t);break}case C.COMMENT:{kt(e,t);break}case C.START_TAG:{P(e,t);break}case C.END_TAG:{tt(e,t);break}case C.EOF:{cr(e,t);break}default:}}function rr(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function nr(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Ka(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Va(e,t){let s=e.openElements.tryPeekProperlyNestedBodyElement();s&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(s,t.attrs))}function ja(e,t){let s=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&s&&(e.treeAdapter.detachNode(s),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,u.HTML),e.insertionMode=c.IN_FRAMESET)}function za(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,u.HTML)}function $a(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),_e(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,u.HTML)}function qa(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,u.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Ja(e,t){let s=e.openElements.tmplCount>0;(!e.formElement||s)&&(e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,u.HTML),s||(e.formElement=e.openElements.current))}function Za(e,t){e.framesetOk=!1;let s=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){let a=e.openElements.tagIDs[n];if(s===r.LI&&a===r.LI||(s===r.DD||s===r.DT)&&(a===r.DD||a===r.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==r.ADDRESS&&a!==r.DIV&&a!==r.P&&e._isSpecialElement(e.openElements.items[n],a))break}e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,u.HTML)}function ei(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,u.HTML),e.tokenizer.state=D.PLAINTEXT}function ti(e,t){e.openElements.hasInScope(r.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.framesetOk=!1}function si(e,t){let s=e.activeFormattingElements.getElementEntryInScopeWithTagName(T.A);s&&(yt(e,t),e.openElements.remove(s.element),e.activeFormattingElements.removeEntry(s)),e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ri(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ni(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(r.NOBR)&&(yt(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,u.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function ai(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function ii(e,t){e.treeAdapter.getDocumentMode(e.document)!==S.QUIRKS&&e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._insertElement(t,u.HTML),e.framesetOk=!1,e.insertionMode=c.IN_TABLE}function ar(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,u.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function ir(e){let t=We(e,F.TYPE);return t!=null&&t.toLowerCase()===Oa}function oi(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,u.HTML),ir(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function ci(e,t){e._appendElement(t,u.HTML),t.ackSelfClosing=!0}function Ei(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._appendElement(t,u.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ti(e,t){t.tagName=T.IMG,t.tagID=r.IMG,ar(e,t)}function hi(e,t){e._insertElement(t,u.HTML),e.skipNextNewLine=!0,e.tokenizer.state=D.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=c.TEXT}function li(e,t){e.openElements.hasInButtonScope(r.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,D.RAWTEXT)}function ui(e,t){e.framesetOk=!1,e._switchToTextParsing(t,D.RAWTEXT)}function er(e,t){e._switchToTextParsing(t,D.RAWTEXT)}function _i(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===c.IN_TABLE||e.insertionMode===c.IN_CAPTION||e.insertionMode===c.IN_TABLE_BODY||e.insertionMode===c.IN_ROW||e.insertionMode===c.IN_CELL?c.IN_SELECT_IN_TABLE:c.IN_SELECT}function di(e,t){e.openElements.currentTagId===r.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML)}function mi(e,t){e.openElements.hasInScope(r.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,u.HTML)}function fi(e,t){e.openElements.hasInScope(r.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(r.RTC),e._insertElement(t,u.HTML)}function Ai(e,t){e._reconstructActiveFormattingElements(),Ht(t),$e(t),t.selfClosing?e._appendElement(t,u.MATHML):e._insertElement(t,u.MATHML),t.ackSelfClosing=!0}function Ci(e,t){e._reconstructActiveFormattingElements(),Ft(t),$e(t),t.selfClosing?e._appendElement(t,u.SVG):e._insertElement(t,u.SVG),t.ackSelfClosing=!0}function tr(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,u.HTML)}function P(e,t){switch(t.tagID){case r.I:case r.S:case r.B:case r.U:case r.EM:case r.TT:case r.BIG:case r.CODE:case r.FONT:case r.SMALL:case r.STRIKE:case r.STRONG:{ri(e,t);break}case r.A:{si(e,t);break}case r.H1:case r.H2:case r.H3:case r.H4:case r.H5:case r.H6:{$a(e,t);break}case r.P:case r.DL:case r.OL:case r.UL:case r.DIV:case r.DIR:case r.NAV:case r.MAIN:case r.MENU:case r.ASIDE:case r.CENTER:case r.FIGURE:case r.FOOTER:case r.HEADER:case r.HGROUP:case r.DIALOG:case r.DETAILS:case r.ADDRESS:case r.ARTICLE:case r.SECTION:case r.SUMMARY:case r.FIELDSET:case r.BLOCKQUOTE:case r.FIGCAPTION:{za(e,t);break}case r.LI:case r.DD:case r.DT:{Za(e,t);break}case r.BR:case r.IMG:case r.WBR:case r.AREA:case r.EMBED:case r.KEYGEN:{ar(e,t);break}case r.HR:{Ei(e,t);break}case r.RB:case r.RTC:{mi(e,t);break}case r.RT:case r.RP:{fi(e,t);break}case r.PRE:case r.LISTING:{qa(e,t);break}case r.XMP:{li(e,t);break}case r.SVG:{Ci(e,t);break}case r.HTML:{Ka(e,t);break}case r.BASE:case r.LINK:case r.META:case r.STYLE:case r.TITLE:case r.SCRIPT:case r.BGSOUND:case r.BASEFONT:case r.TEMPLATE:{U(e,t);break}case r.BODY:{Va(e,t);break}case r.FORM:{Ja(e,t);break}case r.NOBR:{ni(e,t);break}case r.MATH:{Ai(e,t);break}case r.TABLE:{ii(e,t);break}case r.INPUT:{oi(e,t);break}case r.PARAM:case r.TRACK:case r.SOURCE:{ci(e,t);break}case r.IMAGE:{Ti(e,t);break}case r.BUTTON:{ti(e,t);break}case r.APPLET:case r.OBJECT:case r.MARQUEE:{ai(e,t);break}case r.IFRAME:{ui(e,t);break}case r.SELECT:{_i(e,t);break}case r.OPTION:case r.OPTGROUP:{di(e,t);break}case r.NOEMBED:{er(e,t);break}case r.FRAMESET:{ja(e,t);break}case r.TEXTAREA:{hi(e,t);break}case r.NOSCRIPT:{e.options.scriptingEnabled?er(e,t):tr(e,t);break}case r.PLAINTEXT:{ei(e,t);break}case r.COL:case r.TH:case r.TD:case r.TR:case r.HEAD:case r.FRAME:case r.TBODY:case r.TFOOT:case r.THEAD:case r.CAPTION:case r.COLGROUP:break;default:tr(e,t)}}function Ni(e,t){if(e.openElements.hasInScope(r.BODY)&&(e.insertionMode=c.AFTER_BODY,e.options.sourceCodeLocationInfo)){let s=e.openElements.tryPeekProperlyNestedBodyElement();s&&e._setEndLocation(s,t)}}function Ii(e,t){e.openElements.hasInScope(r.BODY)&&(e.insertionMode=c.AFTER_BODY,mr(e,t))}function pi(e,t){let s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s))}function Ri(e){let t=e.openElements.tmplCount>0,{formElement:s}=e;t||(e.formElement=null),(s||t)&&e.openElements.hasInScope(r.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(r.FORM):s&&e.openElements.remove(s))}function Oi(e){e.openElements.hasInButtonScope(r.P)||e._insertFakeElement(T.P,r.P),e._closePElement()}function Li(e){e.openElements.hasInListItemScope(r.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(r.LI),e.openElements.popUntilTagNamePopped(r.LI))}function Si(e,t){let s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s))}function gi(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Di(e,t){let s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s),e.activeFormattingElements.clearToLastMarker())}function Pi(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(T.BR,r.BR),e.openElements.pop(),e.framesetOk=!1}function or(e,t){let s=t.tagName,n=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){let E=e.openElements.items[a],h=e.openElements.tagIDs[a];if(n===h&&(n!==r.UNKNOWN||e.treeAdapter.getTagName(E)===s)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(E,h))break}}function tt(e,t){switch(t.tagID){case r.A:case r.B:case r.I:case r.S:case r.U:case r.EM:case r.TT:case r.BIG:case r.CODE:case r.FONT:case r.NOBR:case r.SMALL:case r.STRIKE:case r.STRONG:{yt(e,t);break}case r.P:{Oi(e);break}case r.DL:case r.UL:case r.OL:case r.DIR:case r.DIV:case r.NAV:case r.PRE:case r.MAIN:case r.MENU:case r.ASIDE:case r.BUTTON:case r.CENTER:case r.FIGURE:case r.FOOTER:case r.HEADER:case r.HGROUP:case r.DIALOG:case r.ADDRESS:case r.ARTICLE:case r.DETAILS:case r.SECTION:case r.SUMMARY:case r.LISTING:case r.FIELDSET:case r.BLOCKQUOTE:case r.FIGCAPTION:{pi(e,t);break}case r.LI:{Li(e);break}case r.DD:case r.DT:{Si(e,t);break}case r.H1:case r.H2:case r.H3:case r.H4:case r.H5:case r.H6:{gi(e);break}case r.BR:{Pi(e);break}case r.BODY:{Ni(e,t);break}case r.HTML:{Ii(e,t);break}case r.FORM:{Ri(e);break}case r.APPLET:case r.OBJECT:case r.MARQUEE:{Di(e,t);break}case r.TEMPLATE:{J(e,t);break}default:or(e,t)}}function cr(e,t){e.tmplInsertionModeStack.length>0?dr(e,t):wt(e,t)}function Mi(e,t){var s;t.tagID===r.SCRIPT&&((s=e.scriptHandler)===null||s===void 0||s.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function bi(e,t){e._err(t,l.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function Ut(e,t){if(sr.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=c.IN_TABLE_TEXT,t.type){case C.CHARACTER:{Tr(e,t);break}case C.WHITESPACE_CHARACTER:{Er(e,t);break}}else Se(e,t)}function Bi(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,u.HTML),e.insertionMode=c.IN_CAPTION}function Hi(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,u.HTML),e.insertionMode=c.IN_COLUMN_GROUP}function Fi(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(T.COLGROUP,r.COLGROUP),e.insertionMode=c.IN_COLUMN_GROUP,Yt(e,t)}function Ui(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,u.HTML),e.insertionMode=c.IN_TABLE_BODY}function ki(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(T.TBODY,r.TBODY),e.insertionMode=c.IN_TABLE_BODY,st(e,t)}function xi(e,t){e.openElements.hasInTableScope(r.TABLE)&&(e.openElements.popUntilTagNamePopped(r.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function yi(e,t){ir(t)?e._appendElement(t,u.HTML):Se(e,t),t.ackSelfClosing=!0}function wi(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,u.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function ae(e,t){switch(t.tagID){case r.TD:case r.TH:case r.TR:{ki(e,t);break}case r.STYLE:case r.SCRIPT:case r.TEMPLATE:{U(e,t);break}case r.COL:{Fi(e,t);break}case r.FORM:{wi(e,t);break}case r.TABLE:{xi(e,t);break}case r.TBODY:case r.TFOOT:case r.THEAD:{Ui(e,t);break}case r.INPUT:{yi(e,t);break}case r.CAPTION:{Bi(e,t);break}case r.COLGROUP:{Hi(e,t);break}default:Se(e,t)}}function Le(e,t){switch(t.tagID){case r.TABLE:{e.openElements.hasInTableScope(r.TABLE)&&(e.openElements.popUntilTagNamePopped(r.TABLE),e._resetInsertionMode());break}case r.TEMPLATE:{J(e,t);break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:case r.TBODY:case r.TD:case r.TFOOT:case r.TH:case r.THEAD:case r.TR:break;default:Se(e,t)}}function Se(e,t){let s=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,et(e,t),e.fosterParentingEnabled=s}function Er(e,t){e.pendingCharacterTokens.push(t)}function Tr(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ce(e,t){let s=0;if(e.hasNonWhitespacePendingCharacterToken)for(;s<e.pendingCharacterTokens.length;s++)Se(e,e.pendingCharacterTokens[s]);else for(;s<e.pendingCharacterTokens.length;s++)e._insertCharacters(e.pendingCharacterTokens[s]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}var hr=new Set([r.CAPTION,r.COL,r.COLGROUP,r.TBODY,r.TD,r.TFOOT,r.TH,r.THEAD,r.TR]);function Yi(e,t){let s=t.tagID;hr.has(s)?e.openElements.hasInTableScope(r.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=c.IN_TABLE,ae(e,t)):P(e,t)}function vi(e,t){let s=t.tagID;switch(s){case r.CAPTION:case r.TABLE:{e.openElements.hasInTableScope(r.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=c.IN_TABLE,s===r.TABLE&&Le(e,t));break}case r.BODY:case r.COL:case r.COLGROUP:case r.HTML:case r.TBODY:case r.TD:case r.TFOOT:case r.TH:case r.THEAD:case r.TR:break;default:tt(e,t)}}function Yt(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.COL:{e._appendElement(t,u.HTML),t.ackSelfClosing=!0;break}case r.TEMPLATE:{U(e,t);break}default:Je(e,t)}}function Qi(e,t){switch(t.tagID){case r.COLGROUP:{e.openElements.currentTagId===r.COLGROUP&&(e.openElements.pop(),e.insertionMode=c.IN_TABLE);break}case r.TEMPLATE:{J(e,t);break}case r.COL:break;default:Je(e,t)}}function Je(e,t){e.openElements.currentTagId===r.COLGROUP&&(e.openElements.pop(),e.insertionMode=c.IN_TABLE,e._processToken(t))}function st(e,t){switch(t.tagID){case r.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,u.HTML),e.insertionMode=c.IN_ROW;break}case r.TH:case r.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(T.TR,r.TR),e.insertionMode=c.IN_ROW,rt(e,t);break}case r.CAPTION:case r.COL:case r.COLGROUP:case r.TBODY:case r.TFOOT:case r.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=c.IN_TABLE,ae(e,t));break}default:ae(e,t)}}function xt(e,t){let s=t.tagID;switch(t.tagID){case r.TBODY:case r.TFOOT:case r.THEAD:{e.openElements.hasInTableScope(s)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=c.IN_TABLE);break}case r.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=c.IN_TABLE,Le(e,t));break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:case r.TD:case r.TH:case r.TR:break;default:Le(e,t)}}function rt(e,t){switch(t.tagID){case r.TH:case r.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,u.HTML),e.insertionMode=c.IN_CELL,e.activeFormattingElements.insertMarker();break}case r.CAPTION:case r.COL:case r.COLGROUP:case r.TBODY:case r.TFOOT:case r.THEAD:case r.TR:{e.openElements.hasInTableScope(r.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=c.IN_TABLE_BODY,st(e,t));break}default:ae(e,t)}}function lr(e,t){switch(t.tagID){case r.TR:{e.openElements.hasInTableScope(r.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=c.IN_TABLE_BODY);break}case r.TABLE:{e.openElements.hasInTableScope(r.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=c.IN_TABLE_BODY,xt(e,t));break}case r.TBODY:case r.TFOOT:case r.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(r.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=c.IN_TABLE_BODY,xt(e,t));break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:case r.TD:case r.TH:break;default:Le(e,t)}}function Xi(e,t){let s=t.tagID;hr.has(s)?(e.openElements.hasInTableScope(r.TD)||e.openElements.hasInTableScope(r.TH))&&(e._closeTableCell(),rt(e,t)):P(e,t)}function Wi(e,t){let s=t.tagID;switch(s){case r.TD:case r.TH:{e.openElements.hasInTableScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=c.IN_ROW);break}case r.TABLE:case r.TBODY:case r.TFOOT:case r.THEAD:case r.TR:{e.openElements.hasInTableScope(s)&&(e._closeTableCell(),lr(e,t));break}case r.BODY:case r.CAPTION:case r.COL:case r.COLGROUP:case r.HTML:break;default:tt(e,t)}}function ur(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.OPTION:{e.openElements.currentTagId===r.OPTION&&e.openElements.pop(),e._insertElement(t,u.HTML);break}case r.OPTGROUP:{e.openElements.currentTagId===r.OPTION&&e.openElements.pop(),e.openElements.currentTagId===r.OPTGROUP&&e.openElements.pop(),e._insertElement(t,u.HTML);break}case r.INPUT:case r.KEYGEN:case r.TEXTAREA:case r.SELECT:{e.openElements.hasInSelectScope(r.SELECT)&&(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode(),t.tagID!==r.SELECT&&e._processStartTag(t));break}case r.SCRIPT:case r.TEMPLATE:{U(e,t);break}default:}}function _r(e,t){switch(t.tagID){case r.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===r.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===r.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===r.OPTGROUP&&e.openElements.pop();break}case r.OPTION:{e.openElements.currentTagId===r.OPTION&&e.openElements.pop();break}case r.SELECT:{e.openElements.hasInSelectScope(r.SELECT)&&(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode());break}case r.TEMPLATE:{J(e,t);break}default:}}function Gi(e,t){let s=t.tagID;s===r.CAPTION||s===r.TABLE||s===r.TBODY||s===r.TFOOT||s===r.THEAD||s===r.TR||s===r.TD||s===r.TH?(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode(),e._processStartTag(t)):ur(e,t)}function Ki(e,t){let s=t.tagID;s===r.CAPTION||s===r.TABLE||s===r.TBODY||s===r.TFOOT||s===r.THEAD||s===r.TR||s===r.TD||s===r.TH?e.openElements.hasInTableScope(s)&&(e.openElements.popUntilTagNamePopped(r.SELECT),e._resetInsertionMode(),e.onEndTag(t)):_r(e,t)}function Vi(e,t){switch(t.tagID){case r.BASE:case r.BASEFONT:case r.BGSOUND:case r.LINK:case r.META:case r.NOFRAMES:case r.SCRIPT:case r.STYLE:case r.TEMPLATE:case r.TITLE:{U(e,t);break}case r.CAPTION:case r.COLGROUP:case r.TBODY:case r.TFOOT:case r.THEAD:{e.tmplInsertionModeStack[0]=c.IN_TABLE,e.insertionMode=c.IN_TABLE,ae(e,t);break}case r.COL:{e.tmplInsertionModeStack[0]=c.IN_COLUMN_GROUP,e.insertionMode=c.IN_COLUMN_GROUP,Yt(e,t);break}case r.TR:{e.tmplInsertionModeStack[0]=c.IN_TABLE_BODY,e.insertionMode=c.IN_TABLE_BODY,st(e,t);break}case r.TD:case r.TH:{e.tmplInsertionModeStack[0]=c.IN_ROW,e.insertionMode=c.IN_ROW,rt(e,t);break}default:e.tmplInsertionModeStack[0]=c.IN_BODY,e.insertionMode=c.IN_BODY,P(e,t)}}function ji(e,t){t.tagID===r.TEMPLATE&&J(e,t)}function dr(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(r.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):wt(e,t)}function zi(e,t){t.tagID===r.HTML?P(e,t):Ze(e,t)}function mr(e,t){var s;if(t.tagID===r.HTML){if(e.fragmentContext||(e.insertionMode=c.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===r.HTML){e._setEndLocation(e.openElements.items[0],t);let n=e.openElements.items[1];n&&!(!((s=e.treeAdapter.getNodeSourceCodeLocation(n))===null||s===void 0)&&s.endTag)&&e._setEndLocation(n,t)}}else Ze(e,t)}function Ze(e,t){e.insertionMode=c.IN_BODY,et(e,t)}function $i(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.FRAMESET:{e._insertElement(t,u.HTML);break}case r.FRAME:{e._appendElement(t,u.HTML),t.ackSelfClosing=!0;break}case r.NOFRAMES:{U(e,t);break}default:}}function qi(e,t){t.tagID===r.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==r.FRAMESET&&(e.insertionMode=c.AFTER_FRAMESET))}function Ji(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.NOFRAMES:{U(e,t);break}default:}}function Zi(e,t){t.tagID===r.HTML&&(e.insertionMode=c.AFTER_AFTER_FRAMESET)}function eo(e,t){t.tagID===r.HTML?P(e,t):qe(e,t)}function qe(e,t){e.insertionMode=c.IN_BODY,et(e,t)}function to(e,t){switch(t.tagID){case r.HTML:{P(e,t);break}case r.NOFRAMES:{U(e,t);break}default:}}function so(e,t){t.chars=R,e._insertCharacters(t)}function ro(e,t){e._insertCharacters(t),e.framesetOk=!1}function fr(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==u.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function no(e,t){if(zs(t))fr(e),e._startTagOutsideForeignContent(t);else{let s=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(s);n===u.MATHML?Ht(t):n===u.SVG&&($s(t),Ft(t)),$e(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function ao(e,t){if(t.tagID===r.P||t.tagID===r.BR){fr(e),e._endTagOutsideForeignContent(t);return}for(let s=e.openElements.stackTop;s>0;s--){let n=e.openElements.items[s];if(e.treeAdapter.getNamespaceURI(n)===u.HTML){e._endTagOutsideForeignContent(t);break}let a=e.treeAdapter.getTagName(n);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(s);break}}}var io=new Set([T.AREA,T.BASE,T.BASEFONT,T.BGSOUND,T.BR,T.COL,T.EMBED,T.FRAME,T.HR,T.IMG,T.INPUT,T.KEYGEN,T.LINK,T.META,T.PARAM,T.SOURCE,T.TRACK,T.WBR]);function oo(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===u.HTML&&io.has(t.treeAdapter.getTagName(e))}var co={treeAdapter:k,scriptingEnabled:!0};function vt(e,t){let s={...co,...t};return Ar(e,s)}function Eo(e,t){let s="",n=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===T.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===u.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(n);if(a)for(let E of a)s+=Ar(E,t);return s}function Ar(e,t){return t.treeAdapter.isElementNode(e)?To(e,t):t.treeAdapter.isTextNode(e)?lo(e,t):t.treeAdapter.isCommentNode(e)?uo(e,t):t.treeAdapter.isDocumentTypeNode(e)?_o(e,t):""}function To(e,t){let s=t.treeAdapter.getTagName(e);return`<${s}${ho(e,t)}>${oo(e,t)?"":`${Eo(e,t)}</${s}>`}`}function ho(e,{treeAdapter:t}){let s="";for(let n of t.getAttrList(e)){if(s+=" ",!n.namespace)s+=n.name;else switch(n.namespace){case u.XML:{s+=`xml:${n.name}`;break}case u.XMLNS:{n.name!=="xmlns"&&(s+="xmlns:"),s+=n.name;break}case u.XLINK:{s+=`xlink:${n.name}`;break}default:s+=`${n.prefix}:${n.name}`}s+=`="${$t(n.value)}"`}return s}function lo(e,t){let{treeAdapter:s}=t,n=s.getTextNodeContent(e),a=s.getParentNode(e),E=a&&s.isElementNode(a)&&s.getTagName(a);return E&&s.getNamespaceURI(a)===u.HTML&&bt(E,t.scriptingEnabled)?n:qt(n)}function uo(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function _o(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function Cr(e,t){return ne.parse(e,t)}function Nr(e,t,s){typeof e=="string"&&(s=t,t=e,e=null);let n=ne.getFragmentParser(e,s);return n.tokenizer.write(t,!0),n.getFragment()}function Ir(e){return new ge(e)}function pr(e){let t=e.includes('"')?"'":'"';return t+e+t}function mo(e,t,s){let n="!DOCTYPE ";return e&&(n+=e),t?n+=` PUBLIC ${pr(t)}`:s&&(n+=" SYSTEM"),s&&(n+=` ${pr(s)}`),n}var Z={isCommentNode:zt,isElementNode:f,isTextNode:De,createDocument(){let e=new z([]);return e["x-mode"]=Ge.DOCUMENT_MODE.NO_QUIRKS,e},createDocumentFragment(){return new z([])},createElement(e,t,s){let n=Object.create(null),a=Object.create(null),E=Object.create(null);for(let d=0;d<s.length;d++){let m=s[d].name;n[m]=s[d].value,a[m]=s[d].namespace,E[m]=s[d].prefix}let h=new jt(e,n,[]);return h.namespace=t,h["x-attribsNamespace"]=a,h["x-attribsPrefix"]=E,h},createCommentNode(e){return new Kt(e)},appendChild(e,t){let s=e.children[e.children.length-1];s&&(s.next=t,t.prev=s),e.children.push(t),t.parent=e},insertBefore(e,t,s){let n=e.children.indexOf(s),{prev:a}=s;a&&(a.next=t,t.prev=a),s.prev=t,t.next=s,e.children.splice(n,0,t),t.parent=e},setTemplateContent(e,t){Z.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,s,n){let a=mo(t,s,n),E=e.children.find(h=>it(h)&&h.name==="!doctype");E?E.data=a??null:(E=new Vt("!doctype",a),Z.appendChild(e,E)),E["x-name"]=t??void 0,E["x-publicId"]=s??void 0,E["x-systemId"]=n??void 0},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){let t=e.parent.children.indexOf(e),{prev:s,next:n}=e;e.prev=null,e.next=null,s&&(s.next=n),n&&(n.prev=s),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){let s=e.children[e.children.length-1];s&&De(s)?s.data+=t:Z.appendChild(e,Ir(t))},insertTextBefore(e,t,s){let n=e.children[e.children.indexOf(s)-1];n&&De(n)?n.data+=t:Z.insertBefore(e,Ir(t),s)},adoptAttributes(e,t){for(let s=0;s<t.length;s++){let n=t[s].name;typeof e.attribs[n]>"u"&&(e.attribs[n]=t[s].value,e["x-attribsNamespace"][n]=t[s].namespace,e["x-attribsPrefix"][n]=t[s].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return it(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function Rr(e,t,s,n){let a={scriptingEnabled:typeof t.scriptingEnabled=="boolean"?t.scriptingEnabled:!0,treeAdapter:Z,sourceCodeLocationInfo:t.sourceCodeLocationInfo};return s?Cr(e,a):Nr(n,e,a)}var fo={treeAdapter:Z};function Or(e){let t="length"in e?e:[e];for(let n=0;n<t.length;n+=1){let a=t[n];Y(a)&&Array.prototype.splice.call(t,n,1,...a.children)}let s="";for(let n=0;n<t.length;n+=1){let a=t[n];s+=vt(a,fo)}return s}var Ao=Os((e,t,s,n)=>t.xmlMode||t._useHtmlParser2?ss(e,t):Rr(e,t,s,n)),Co=bs(Ao,(e,t)=>t.xmlMode||t._useHtmlParser2?Jt(e,t):Or(e)),tE=Co([]),{contains:sE}=Q,{merge:rE}=Q,{parseHTML:nE}=Q,{root:aE}=Q;export{tE as a};
