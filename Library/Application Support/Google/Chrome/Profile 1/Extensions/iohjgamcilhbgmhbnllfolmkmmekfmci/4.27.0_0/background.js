/*! For license information please see background.js.LICENSE.txt */
(()=>{var e={76739:(e,t,n)=>{"use strict";n.d(t,{f7:()=>r,mC:()=>l,r5:()=>u,y:()=>c});var r,i=n(57252),o=n(11566),a=n(29238),s=n(63294);function u(e){var t=(0,i.pi)((0,i.pi)({},e),{onReady:function(e){e()}});return Object.defineProperty(t,"_setDebug",{get:function(){return a.yD},enumerable:!1}),t}function c(e,t,n){var r=e[t];e[t]=n,r&&r.q&&r.q.forEach((function(e){return(0,s.Z)(e,"onReady callback threw an error:")()}))}function l(e,t){var n=(0,o._7)(e,t);return{configuration:n,internalMonitoring:(0,a.py)(n)}}!function(e){e.RELEASE="release",e.STAGING="staging",e.E2E_TEST="e2e-test"}(r||(r={}))},89584:(e,t,n)=>{"use strict";n.d(t,{MI:()=>a,WQ:()=>d,ej:()=>c,fH:()=>s,oX:()=>f});var r,i=n(70882),o=n(65411),a=o.WT;function s(e,t){var n,r,i=!1,o=function(){i=!0,clearTimeout(n),n=setTimeout((function(){i=!1}),a)};return{get:function(){return i||(r=c(e),o()),r},set:function(n,i){u(e,n,i,t),r=n,o()}}}function u(e,t,n,r){var i=new Date;i.setTime(i.getTime()+n);var o="expires="+i.toUTCString(),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain="+r.domain:"",u=r&&r.secure?";secure":"";document.cookie=e+"="+t+";"+o+";path=/;samesite="+a+s+u}function c(e){return(0,o.MY)(document.cookie,e)}function l(e,t){u(e,"",0,t)}function f(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_"+(0,o.DO)(),n="test";u(t,n,o.WT,e);var r=c(t)===n;return l(t,e),r}catch(e){return i.j.error(e),!1}}function d(){if(void 0===r){for(var e="dd_site_test_"+(0,o.DO)(),t=window.location.hostname.split("."),n=t.pop();t.length&&!c(e);)n=t.pop()+"."+n,u(e,"test",o.WT,{domain:n});l(e,{domain:n}),r=n}return r}},99571:(e,t,n)=>{"use strict";n.d(t,{o:()=>h,z:()=>p});var r,i,o=n(57252),a=n(29238),s=n(29883),u=n(57604),c=n(80816),l=n(11627),f=[],d=[];function p(){return r||(window.fetch&&(i=window.fetch,window.fetch=function(e,t){var n,r=(0,a.L6)(g,null,[e,t]);return r?(n=i.call(this,r.input,r.init),(0,a.L6)(v,null,[n,r])):n=i.call(this,e,t),n}),r={beforeSend:function(e){f.push(e)},onRequestComplete:function(e){d.push(e)}}),r}function h(){r&&(r=void 0,f.splice(0,f.length),d.splice(0,d.length),window.fetch=i)}function g(e,t){var n=t&&t.method||"object"==typeof e&&e.method||"GET",r=(0,l.D5)("object"==typeof e&&e.url||e),i={init:t,input:e,method:n,startClocks:(0,c.$I)(),url:r};return f.forEach((function(e){return e(i)})),i}function v(e,t){var n=this,r=function(e){return(0,o.mG)(n,void 0,void 0,(function(){var n,r;return(0,o.Jh)(this,(function(i){switch(i.label){case 0:return t.duration=(0,c._J)(t.startClocks.timeStamp,(0,c.n$)()),"stack"in e||e instanceof Error?(t.status=0,t.responseText=(0,u.P3)((0,s._t)(e)),t.isAborted=e instanceof DOMException&&e.code===DOMException.ABORT_ERR,t.error=e,d.forEach((function(e){return e(t)})),[3,6]):[3,1];case 1:if(!("status"in e))return[3,6];n=void 0,i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.clone().text()];case 3:return n=i.sent(),[3,5];case 4:return r=i.sent(),n="Unable to retrieve response: "+r,[3,5];case 5:t.response=e,t.responseText=n,t.responseType=e.type,t.status=e.status,t.isAborted=!1,d.forEach((function(e){return e(t)})),i.label=6;case 6:return[2]}}))}))};e.then((0,a.zk)(r),(0,a.zk)(r))}},89096:(e,t,n)=>{"use strict";n.d(t,{E:()=>h,h:()=>p});var r,i,o,a,s=n(57252),u=n(29238),c=n(80816),l=n(11627),f=[],d=[];function p(){return r||(i=XMLHttpRequest.prototype.open,o=XMLHttpRequest.prototype.send,a=XMLHttpRequest.prototype.abort,XMLHttpRequest.prototype.open=g,XMLHttpRequest.prototype.send=v,XMLHttpRequest.prototype.abort=m,r={beforeSend:function(e){f.push(e)},onRequestComplete:function(e){d.push(e)}}),r}function h(){r&&(r=void 0,f.length=0,d.length=0,XMLHttpRequest.prototype.open=i,XMLHttpRequest.prototype.send=o,XMLHttpRequest.prototype.abort=a)}function g(e,t){var n=this;return(0,u.L6)((function(){n._datadog_xhr={method:e,url:(0,l.D5)(t)}})),i.apply(this,arguments)}function v(){var e=this;return(0,u.L6)((function(){if(e._datadog_xhr){e._datadog_xhr.startTime=(0,c._q)(),e._datadog_xhr.startClocks=(0,c.$I)(),e._datadog_xhr.isAborted=!1;var t=!1,n=e.onreadystatechange,r=function(){this.readyState===XMLHttpRequest.DONE&&i(),n&&n.apply(this,arguments)},i=(0,u.zk)((function(){e.removeEventListener("loadend",i),e.onreadystatechange===r&&(e.onreadystatechange=n),t||(t=!0,y(e))}));e.onreadystatechange=r,e.addEventListener("loadend",i),f.forEach((function(t){return t(e._datadog_xhr,e)}))}})),o.apply(this,arguments)}function m(){var e=this;return(0,u.L6)((function(){e._datadog_xhr&&(e._datadog_xhr.isAborted=!0)})),a.apply(this,arguments)}function y(e){e._datadog_xhr.duration=(0,c._J)(e._datadog_xhr.startClocks.timeStamp,(0,c.n$)()),e._datadog_xhr.responseText=e.response,e._datadog_xhr.status=e.status,e._datadog_xhr.xhr=e,d.forEach((function(t){return t((0,s.pi)({},e._datadog_xhr))}))}},11566:(e,t,n)=>{"use strict";n.d(t,{_7:()=>c});var r=n(57252),i=n(89584),o=n(63294),a=n(65411),s=n(85912),u={allowedTracingOrigins:[],maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,trackInteractions:!1,trackViewsManually:!1,requestErrorResponseLengthLimit:32*a.Tn,flushTimeout:30*a.WT,maxBatchSize:50,maxMessageSize:256*a.Tn,batchBytesLimit:16*a.Tn};function c(e,t){var n=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],i=(0,r.pi)((0,r.pi)({beforeSend:e.beforeSend&&(0,o.Z)(e.beforeSend,"beforeSend threw an error:"),cookieOptions:l(e),isEnabled:function(e){return(0,a.q9)(n,e)},service:e.service},(0,s.hK)(e,t)),u);return"allowedTracingOrigins"in e&&(i.allowedTracingOrigins=e.allowedTracingOrigins),"sampleRate"in e&&(i.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(i.resourceSampleRate=e.resourceSampleRate),"trackInteractions"in e&&(i.trackInteractions=!!e.trackInteractions),"trackViewsManually"in e&&(i.trackViewsManually=!!e.trackViewsManually),"actionNameAttribute"in e&&(i.actionNameAttribute=e.actionNameAttribute),i}function l(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=(0,i.WQ)()),t}},91289:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var r,i=n(57252),o=n(57604),a=n(80816),s=n(65411),u=n(29238),c=n(29883);function l(e){return r=console.error,console.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var s=(0,o.Xp)();(0,u.L6)((function(){r.apply(console,t),e.notify((0,i.pi)((0,i.pi)({},f(t,s)),{source:o.zH.CONSOLE,startClocks:(0,a.$I)(),handling:o.Xw.HANDLED}))}))},{stop:function(){console.error=r}}}function f(e,t){var n=(0,s.sE)(e,(function(e){return e instanceof Error}));return{message:(0,i.pr)(["console error:"],e).map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?(0,o.jN)((0,c._t)(e)):(0,s.lh)(e,void 0,2)}(e)})).join(" "),stack:n?(0,o.P3)((0,c._t)(n)):void 0,handlingStack:t}}},57650:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(99571),i=n(89096),o=n(57604),a=n(65411);function s(e,t,n){function s(r,i){e.isIntakeUrl(i.url)||!n&&i.isAborted||!function(e){return 0===e.status&&"opaque"!==e.responseType}(i)&&!function(e){return e.status>=500}(i)||t.notify({message:c(r)+" error "+i.method+" "+i.url,resource:{method:i.method,statusCode:i.status,url:i.url},source:o.zH.NETWORK,stack:u(i.responseText,e)||"Failed to load",startClocks:i.startClocks})}return void 0===n&&(n=!0),(0,i.h)().onRequestComplete((function(e){return s(a.xd.XHR,e)})),(0,r.z)().onRequestComplete((function(e){return s(a.xd.FETCH,e)})),{stop:function(){(0,i.E)(),(0,r.o)()}}}function u(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function c(e){return a.xd.XHR===e?"XHR":"Fetch"}},85154:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r,i=n(57604),o=n(80816),a=n(2517);function s(e){return r=function(t,n,r){var a=(0,i.wl)(t,r,"Uncaught"),s=a.stack,u=a.message,c=a.type;e.notify({message:u,stack:s,type:c,source:i.zH.SOURCE,startClocks:(0,o.$I)(),originalError:r,handling:i.Xw.UNHANDLED})},(0,a.Ld)(r),{stop:function(){(0,a.r1)(r)}}}},29238:(e,t,n)=>{"use strict";n.d(t,{L6:()=>g,Th:()=>p,Ur:()=>m,py:()=>d,tV:()=>v,yD:()=>b,zk:()=>h});var r,i=n(57252),o=n(70882),a=n(57604),s=n(65411),u=n(61878),c=n(29883);!function(e){e.info="info",e.error="error"}(r||(r={}));var l,f={maxMessagesPerPage:0,sentMessageCount:0};function d(e){if(e.internalMonitoringEndpoint){var t=function(e){var t,n=r(e.internalMonitoringEndpoint);function r(t){return new u.E(new u.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.internalMonitoringEndpoint)),{add:function(e){var r=function(e){return(0,s.$e)({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==l?l():{},e)}(e);n.add(r),t&&t.add(r)}}}(e);(0,s.f0)(f,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){l=e}}}function p(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=f.batch?h(r):r;return n.apply(this,e)}}function h(e){return function(){return g(e,this,arguments)}}function g(e,t,n){try{return e.apply(t,n)}catch(e){w(e);try{m(e)}catch(e){w(e)}}}function v(e,t){!function(e){f.debugMode&&o.j.log("[MONITORING MESSAGE]",e)}(e),y((0,i.pi)((0,i.pi)({message:e},t),{status:r.info}))}function m(e){y((0,i.pi)((0,i.pi)({},function(e){if(e instanceof Error){var t=(0,c._t)(e);return{error:{kind:t.name,stack:(0,a.P3)(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+(0,s.lh)(e)}}(e)),{status:r.error}))}function y(e){f.batch&&f.sentMessageCount<f.maxMessagesPerPage&&(f.sentMessageCount+=1,f.batch.add(e))}function b(e){f.debugMode=e}function w(e){f.debugMode&&o.j.error("[INTERNAL ERROR]",e)}},61437:(e,t,n)=>{"use strict";n.d(t,{TK:()=>o});var r=n(89584),i=n(4344);function o(e){var t=e.get(),n=(0,r.ej)("_dd"),o=(0,r.ej)("_dd_r"),a=(0,r.ej)("_dd_l");if(!t){var s={};n&&(s.id=n),a&&/^[01]$/.test(a)&&(s.logs=a),o&&/^[012]$/.test(o)&&(s.rum=o),(0,i.En)(s,e)}}},4344:(e,t,n)=>{"use strict";n.d(t,{En:()=>h,M_:()=>f});var r=n(89584),i=n(68990),o=n(65411),a=n(29238),s=n(61437),u=15*o.yR,c=4*o.dV,l=o.yR;function f(e,t,n){var u=(0,r.fH)("_dd_s",e);(0,s.TK)(u);var c=new i.y,f=p(u).id,d=o.P2((0,a.zk)((function(){var e=p(u),r=n(e[t]),i=r.trackingType,a=r.isTracked;e[t]=i,a&&!e.id&&(e.id=o.DO(),e.created=String(Date.now())),h(e,u),a&&f!==e.id&&(f=e.id,c.notify())})),r.MI).throttled;return d(),function(e){var t=o.yw(window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0}).stop;v.push(t)}(d),function(e){var t=(0,a.zk)((function(){"visible"===document.visibilityState&&h(p(u),u)})),n=o.Oo(document,"visibilitychange",t).stop;v.push(n);var r=setInterval(t,l);v.push((function(){clearInterval(r)}))}(),{getId:function(){return p(u).id},getTrackingType:function(){return p(u)[t]},renewObservable:c}}var d=/^([a-z]+)=([a-z0-9-]+)$/;function p(e){var t=function(e){var t=e.get(),n={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||d.test(e))}(t)&&t.split("&").forEach((function(e){var t=d.exec(e);if(null!==t){var r=t[1],i=t[2];n[r]=i}})),n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<c)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(g(e),{})}function h(e,t){if(o.Qr(e))g(t);else{e.expire=String(Date.now()+u);var n=o.qP(e).map((function(e){return e[0]+"="+e[1]})).join("&");t.set(n,u)}}function g(e){e.set("",0)}var v=[]},29883:(e,t,n)=>{"use strict";n.d(t,{F1:()=>s,_t:()=>o});var r=n(2517),i="?";function o(e,t){var n,r=void 0===t?0:+t;try{if(n=function(e){var t=c(e,"stacktrace");if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,a=t.split("\n"),s=[],u=0;u<a.length;u+=2){var l=void 0;r.exec(a[u])?l={args:[],column:void 0,func:(n=r.exec(a[u]))[3],line:+n[1],url:n[2]}:o.exec(a[u])&&(l={args:(n=o.exec(a[u]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),l&&(!l.func&&l.line&&(l.func=i),l.context=[a[u+1]],s.push(l))}if(s.length)return{stack:s,message:c(e,"message"),name:c(e,"name")}}}(e),n)return n}catch(e){if(a)throw e}try{if(n=function(e){var t=c(e,"stack");if(t){for(var n,r,o,a,s=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,d=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=t.split("\n"),h=[],g=0,v=p.length;g<v;g+=1){if(s.exec(p[g])){var m=(o=s.exec(p[g]))[2]&&0===o[2].indexOf("native");n=o[2]&&0===o[2].indexOf("eval"),r=d.exec(o[2]),n&&r&&(o[2]=r[1],o[3]=r[2],o[4]=r[3]),a={args:m?[o[2]]:[],column:o[4]?+o[4]:void 0,func:o[1]||i,line:o[3]?+o[3]:void 0,url:m?void 0:o[2]}}else if(l.exec(p[g]))a={args:[],column:(o=l.exec(p[g]))[4]?+o[4]:void 0,func:o[1]||i,line:+o[3],url:o[2]};else{if(!u.exec(p[g]))continue;n=(o=u.exec(p[g]))[3]&&o[3].indexOf(" > eval")>-1,r=f.exec(o[3]),n&&r?(o[3]=r[1],o[4]=r[2],o[5]=void 0):0!==g||o[5]||void 0===e.columnNumber||(h[0].column=e.columnNumber+1),a={args:o[2]?o[2].split(","):[],column:o[5]?+o[5]:void 0,func:o[1]||i,line:o[4]?+o[4]:void 0,url:o[3]}}!a.func&&a.line&&(a.func=i),h.push(a)}if(h.length)return{stack:h,message:c(e,"message"),name:c(e,"name")}}}(e),n)return n}catch(e){if(a)throw e}try{if(n=function(e){var t=c(e,"message");if(t){var n=t.split("\n");if(!(n.length<4)){var r,o,a,s=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,u=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of function script\s*$/i,f=[],d=window&&window.document&&window.document.getElementsByTagName("script"),p=[];for(var h in d)o=d,a=h,Object.prototype.hasOwnProperty.call(o,a)&&!d[h].src&&p.push(d[h]);for(var g=2;g<n.length;g+=2){var v=void 0;s.exec(n[g])?v={args:[],column:void 0,func:(r=s.exec(n[g]))[3],line:+r[1],url:r[2]}:u.exec(n[g])?v={args:[],column:void 0,func:(r=u.exec(n[g]))[4],line:+r[1],url:r[3]}:l.exec(n[g])&&(r=l.exec(n[g]),v={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+r[1]}),v&&(v.func||(v.func=i),v.context=[n[g+1]],f.push(v))}if(f.length)return{stack:f,message:n[0],name:c(e,"name")}}}}(e),n)return n}catch(e){if(a)throw e}try{if(n=u(e,r+1))return n}catch(e){if(a)throw e}return{message:c(e,"message"),name:c(e,"name"),stack:[]}}var a=!1;function s(e,t,n){var r={url:t,line:n?+n:void 0};if(r.url&&r.line){e.incomplete=!1;var i=e.stack;if(i.length>0&&i[0].url===r.url){if(i[0].line===r.line)return!1;if(!i[0].line&&i[0].func===r.func)return i[0].line=r.line,i[0].context=r.context,!1}return i.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function u(e,t){for(var n,a,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],d={},p=!1,h=u.caller;h&&!p;h=h.caller)h!==o&&h!==r.Hj&&(a={args:[],column:void 0,func:i,line:void 0,url:void 0},n=l.exec(h.toString()),h.name?a.func=h.name:n&&(a.func=n[1]),void 0===a.func&&(a.func=n?n.input.substring(0,n.input.indexOf("{")):void 0),d[h.toString()]?p=!0:d[h.toString()]=!0,f.push(a));t&&f.splice(0,t);var g={stack:f,message:c(e,"message"),name:c(e,"name")};return s(g,c(e,"sourceURL")||c(e,"fileName"),c(e,"line")||c(e,"lineNumber")),g}function c(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}},2517:(e,t,n)=>{"use strict";n.d(t,{Hj:()=>a,Ld:()=>h,r1:()=>g});var r=n(29238),i=n(29883),o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function a(e){if(u){if(s===e)return;b()}var t=(0,i._t)(e);throw u=t,s=e,setTimeout((0,r.zk)((function(){s===e&&b()})),t.incomplete?2e3:0),e}var s,u,c,l,f,d,p=[];function h(e){l||(c=window.onerror,window.onerror=(0,r.zk)(m),l=!0),d||(f=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=(0,r.zk)(y),d=!0),p.push(e)}function g(e){for(var t=p.length-1;t>=0;t-=1)p[t]===e&&p.splice(t,1);0===p.length&&(l&&(window.onerror=c,l=!1),d&&(window.onunhandledrejection=f,d=!1))}function v(e,t,n){var r;if(p.forEach((function(i){try{i(e,t,n)}catch(e){r=e}})),r)throw r}function m(e,t,n,r,a){if(u)(0,i.F1)(u,t,n),b();else if(a)v((0,i._t)(a),!0,a);else{var s,l={url:t,column:r,line:n},f=e;if("[object String]"==={}.toString.call(e)){var d=o.exec(f);d&&(s=d[1],f=d[2])}v({name:s,message:"string"==typeof f?f:void 0,stack:[l]},!0,e)}return!!c&&c.apply(this,arguments)}function y(e){var t=e.reason||"Empty reason";v((0,i._t)(t),!0,t)}function b(){var e=u,t=s;u=void 0,s=void 0,v(e,!1,t)}},85912:(e,t,n)=>{"use strict";n.d(t,{hK:()=>l});var r,i=n(57252),o=n(76739),a=n(65411),s={alternate:{logs:"logs",rum:"rum",sessionReplay:"session-replay",trace:"trace"},classic:{logs:"browser",rum:"rum",sessionReplay:void 0,trace:"public-trace"}},u=((r={}).eu="datadoghq.eu",r.us="datadoghq.com",r),c=[u.us,u.eu];function l(e,t){var n={buildMode:t.buildMode,clientToken:e.clientToken,env:e.env,proxyHost:e.proxyHost,sdkVersion:t.sdkVersion,service:e.service,site:e.site||u[e.datacenter||t.datacenter],version:e.version},r=function(e,t){return!t.useAlternateIntakeDomains&&(0,a.q9)(c,e)?"classic":"alternate"}(n.site,e),l=function(e,t,n){if(t.proxyHost)return["https://"+t.proxyHost+"/v1/input/"];var r=[t.site];t.buildMode===o.f7.STAGING&&n&&r.push(u.us);for(var i=[],a=Object.keys(s[e]),c=0,l=r;c<l.length;c++)for(var d=l[c],p=0,h=a;p<h.length;p++){var g=h[p];i.push("https://"+f(e,g,d)+"/v1/input/")}return i}(r,n,void 0!==e.replica),p={isIntakeUrl:function(e){return l.some((function(t){return 0===e.indexOf(t)}))},logsEndpoint:d(r,"logs",n),rumEndpoint:d(r,"rum",n),sessionReplayEndpoint:d(r,"sessionReplay",n),traceEndpoint:d(r,"trace",n)};if(e.internalMonitoringApiKey&&(p.internalMonitoringEndpoint=d(r,"logs",n,"browser-agent-internal-monitoring")),n.buildMode===o.f7.E2E_TEST&&(p.internalMonitoringEndpoint="<<< E2E INTERNAL MONITORING ENDPOINT >>>",p.logsEndpoint="<<< E2E LOGS ENDPOINT >>>",p.rumEndpoint="<<< E2E RUM ENDPOINT >>>",p.sessionReplayEndpoint="<<< E2E SESSION REPLAY ENDPOINT >>>"),n.buildMode===o.f7.STAGING&&void 0!==e.replica){var h=(0,i.pi)((0,i.pi)({},n),{applicationId:e.replica.applicationId,clientToken:e.replica.clientToken,site:u.us});p.replica={applicationId:e.replica.applicationId,internalMonitoringEndpoint:d(r,"logs",h,"browser-agent-internal-monitoring"),logsEndpoint:d(r,"logs",h),rumEndpoint:d(r,"rum",h)}}return p}function f(e,t,n){return"classic"===e&&function(e,t){var n=s.classic[e];return n&&n+"-http-intake.logs."+t}(t,n)||function(e,t){var n=s.alternate[e],r=t.split("."),i=r.pop();return n+".browser-intake-"+(r.join("-")+"."+i)}(t,n)}function d(e,t,n,r){var i="sdk_version:"+n.sdkVersion+(n.env?",env:"+n.env:"")+(n.service?",service:"+n.service:"")+(n.version?",version:"+n.version:""),o=f(e,t,n.site),a=n.proxyHost?n.proxyHost:o,s=(n.proxyHost?"ddhost="+o+"&":"")+"ddsource="+(r||"browser")+"&ddtags="+encodeURIComponent(i);return"https://"+a+"/v1/input/"+n.clientToken+"?"+s}},86160:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=function(){function e(e){void 0===e&&(e=1e4),this.limit=e,this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>this.limit&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}()},63294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(70882);function i(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];try{return e.apply(void 0,n)}catch(e){r.j.error(t,e)}}}},72069:(e,t,n)=>{"use strict";function r(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}n.d(t,{W:()=>r})},70882:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)}},57604:(e,t,n)=>{"use strict";n.d(t,{P3:()=>c,Xp:()=>f,Xw:()=>r,jN:()=>l,wl:()=>u,zH:()=>s});var r,i=n(29238),o=n(29883),a=n(65411),s={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source"};function u(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:c(e),handlingStack:r,type:e.name}:{message:n+" "+(0,a.lh)(t),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}function c(e){var t=l(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function l(e){return(e.name||"Error")+": "+e.message}function f(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){(0,a.ZT)()}return(0,i.L6)((function(){var n=(0,o._t)(t);n.stack=n.stack.slice(2),e=c(n)})),e}!function(e){e.HANDLED="handled",e.UNHANDLED="unhandled"}(r||(r={}))},65310:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(57604),i=n(80816),o=n(65411);function a(e,t){var n=0,a=!1;return{isLimitReached:function(){if(0===n&&setTimeout((function(){n=0}),o.yR),(n+=1)<=e.maxErrorsByMinute||a)return a=!1,!1;if(n===e.maxErrorsByMinute+1){a=!0;try{t({message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,source:r.zH.AGENT,startClocks:(0,i.$I)()})}finally{a=!1}}return!0}}}},68990:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t}))}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}()},80816:(e,t,n)=>{"use strict";function r(){return Date.now()}function i(){return performance.now()}function o(){return{relative:i(),timeStamp:r()}}function a(e,t){return t-e}n.d(t,{$I:()=>o,_J:()=>a,_q:()=>i,n$:()=>r})},11627:(e,t,n)=>{"use strict";n.d(t,{D5:()=>o});var r,i=n(65411);function o(e){return function(e,t){if(function(){if(void 0!==r)return r;try{var e=new URL("http://test/path");return r="http://test/path"===e.href}catch(e){r=!1}return r}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,i=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(i)}return i.href=e,i}(e,(0,i.Dp)()).href}},65411:(e,t,n)=>{"use strict";n.d(t,{$e:()=>C,DO:()=>d,Dp:()=>k,I8:()=>I,MY:()=>x,Oo:()=>T,P2:()=>l,Qr:()=>S,Rf:()=>E,TT:()=>w,Tn:()=>c,WT:()=>a,ZT:()=>h,dV:()=>u,f0:()=>f,lh:()=>g,q9:()=>m,qP:()=>_,sE:()=>y,xd:()=>i,y7:()=>p,yR:()=>s,yw:()=>O,zz:()=>b});var r,i,o=n(29238),a=1e3,s=60*a,u=60*s,c=1024;function l(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];s?r=n:(o?e.apply(void 0,n):r=n,s=!0,i=setTimeout((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){clearTimeout(i),s=!1,r=void 0}}}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function d(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,d)}function p(e){return 0!==e&&100*Math.random()<=e}function h(){}function g(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];v(e)&&(r=[!0,e.toJSON],delete e.toJSON);var i,o,a=[!1,void 0];"object"==typeof e&&v(i=Object.getPrototypeOf(e))&&(a=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(e,t,n)}catch(e){o="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),a[0]&&(i.toJSON=a[1])}return o}function v(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function m(e,t){return-1!==e.indexOf(t)}function y(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n,e))return r}}function b(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function w(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n])})),t}function _(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function S(e){return 0===Object.keys(e).length}function E(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function k(){return function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}(window.location)}function x(e,t){var n=new RegExp("(?:^|;)\\s*"+t+"\\s*=\\s*([^;]+)").exec(e);return n?n[1]:void 0}function T(e,t,n,r){return O(e,[t],n,r)}function O(e,t,n,r){var i=void 0===r?{}:r,a=i.once,s=i.capture,u=i.passive,c=(0,o.zk)(a?function(e){f(),n(e)}:n),l=u?{capture:s,passive:u}:s;t.forEach((function(t){return e.addEventListener(t,c,l)}));var f=function(){return t.forEach((function(t){return e.removeEventListener(t,c,l)}))};return{stop:f}}function A(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=A(i[o],t[o],n);return i}var a,s="object"==(null===(a=e)?"null":Array.isArray(a)?"array":typeof a)?e:{};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(s[u]=A(s[u],t[u],n));return s}}function I(e){return A(void 0,e)}function C(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];null!=o&&(e=A(e,o))}return e}!function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(r||(r={})),function(e){e.FETCH="fetch",e.XHR="xhr"}(i||(i={}))},61878:(e,t,n)=>{"use strict";n.d(t,{E:()=>f,a:()=>c});var r=n(57252),i=n(70882),o=n(65411),a=n(29238),s=/[^\u0000-\u007F]/,u=!1,c=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl,r=!!navigator.sendBeacon&&t<this.bytesLimit;if(r)try{if(navigator.sendBeacon(n,e))return}catch(e){!function(e){l||(l=!0,(0,a.Ur)(e))}(e)}var i=new XMLHttpRequest;i.addEventListener("loadend",(0,a.zk)((function(e){return function(e){var i=null==e?void 0:e.currentTarget;i.status>=200&&i.status<300||u||(u=!0,(0,a.tV)("XHR fallback failed",{on_line:navigator.onLine,size:t,url:n,try_beacon:r,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:i.status,ready_state:i.readyState,response_text:i.responseText.slice(0,64)}}))}(e)}))),i.open("POST",n,!0),i.send(e)},e}(),l=!1,f=function(){function e(e,t,n,r,i,a){void 0===a&&(a=o.ZT),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.beforeUnloadCallback=a,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){const e=[(0,r.pr)(this.pushOnlyBuffer,(0,o.TT)(this.upsertBuffer)).join("\n"),this.bufferBytesSize];(window.DATADOG_REQUEST_PROXY?window.DATADOG_REQUEST_PROXY(this.request):this.request.send.bind(this.request))(...e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},e.prototype.sizeInBytes=function(e){return s.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,o=n.messageBytesSize;o>=this.maxMessageSize?i.j.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(o)&&this.flush(),this.push(r,o,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=(0,o.lh)(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout((0,a.zk)((function(){e.flush(),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&((0,o.Oo)(window,"beforeunload",this.beforeUnloadCallback),(0,o.Oo)(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush()})),(0,o.Oo)(window,"beforeunload",(function(){return e.flush()})))},e}()},57252:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>o,mG:()=>i,pi:()=>r,pr:()=>a});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function a(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},22991:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r={buildMode:"release",datacenter:"us",sdkVersion:"2.18.0"}},61674:(e,t,n)=>{"use strict";n.d(t,{f:()=>f});var r=n(41076),i=n(76739),o=n(65411),a=n(72069),s=n(86160),u=n(29238),c=n(70882),l=n(54729),f=function(e){var t=!1,n=(0,a.W)(),f={},d=new s.S,p=function(e,t){d.add((function(){return p(e,t)}))},h=function(){},g=new l.Yd(v);return(0,i.r5)({logger:g,init:(0,u.zk)((function(r){(function(e){return t?(e.silentMultipleInit||c.j.error("DD_LOGS is already initialized."),!1):e&&(e.publicApiKey||e.clientToken)?!(void 0!==e.sampleRate&&!(0,o.zz)(e.sampleRate))||(c.j.error("Sample Rate should be a number between 0 and 100"),!1):(c.j.error("Client Token is not configured, we will not send any data."),!1)})(r)&&(r.publicApiKey&&(r.clientToken=r.publicApiKey,c.j.warn("Public API Key is deprecated. Please use Client Token instead.")),p=e(r,g,n.get),h=function(){return(0,o.I8)(r)},d.drain(),t=!0)})),getLoggerGlobalContext:(0,u.zk)(n.get),setLoggerGlobalContext:(0,u.zk)(n.set),addLoggerGlobalContext:(0,u.zk)(n.add),removeLoggerGlobalContext:(0,u.zk)(n.remove),createLogger:(0,u.zk)((function(e,t){return void 0===t&&(t={}),f[e]=new l.Yd(v,t.handler,t.level,(0,r.pi)((0,r.pi)({},t.context),{logger:{name:e}})),f[e]})),getLogger:(0,u.zk)((function(e){return f[e]})),getInitConfiguration:(0,u.zk)((function(){return h()}))});function v(e){p(e,(0,o.$e)({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},n.get()))}}(n(78571).zl);(0,i.y)((0,o.Rf)(),"DD_LOGS",f)},78571:(e,t,n)=>{"use strict";n.d(t,{zl:()=>g});var r=n(76739),i=n(68990),o=n(91289),a=n(85154),s=n(57650),u=n(89584),c=n(65411),l=n(61878),f=n(65310),d=n(54729),p=n(43545),h=n(22991);function g(e,t,n){var g=(0,r.mC)(e,h.H),m=g.configuration,y=g.internalMonitoring,b=new i.y;return!1!==e.forwardErrorsToLogs&&((0,o.U)(b),(0,a.L)(b),(0,s.D)(m,b,m.isEnabled("remove-network-errors"))),function(e,t,n,r,i,o){n.setExternalContextProvider((function(){return(0,c.$e)({session_id:r.getId()},o(),v())}));var a=function(e,t,n){var r=(0,f.S)(t,n);return function(n,i){if(e.isTracked()){var o=(0,c.$e)({service:t.service,session_id:e.getId()},i,v(),n);if(!(t.beforeSend&&!1===t.beforeSend(o)||o.status===d.i8.error&&r.isLimitReached()))return o}}}(r,e,u),s=function(e){var t,n=r(e.logsEndpoint);function r(t){return new l.E(new l.a(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return void 0!==e.replica&&(t=r(e.replica.logsEndpoint)),{add:function(e){n.add(e),t&&t.add(e)}}}(e);function u(e){i.error(e.message,(0,c.$e)({date:e.startClocks.timeStamp,error:{kind:e.type,origin:e.source,stack:e.stack}},e.resource?{http:{method:e.resource.method,status_code:e.resource.statusCode,url:e.resource.url}}:void 0,v(e.startClocks.relative)))}return t.subscribe(u),function(e,t){var n=a(e,t);n&&s.add(n)}}(m,b,y,(0,p.cQ)(m,(0,u.oX)(m.cookieOptions)),t,n)}function v(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}},54729:(e,t,n)=>{"use strict";n.d(t,{Yd:()=>h,i8:()=>l});var r,i=n(41076),o=n(72069),a=n(65411),s=n(70882),u=n(57604),c=n(29238),l={debug:"debug",error:"error",info:"info",warn:"warn"},f=((r={})[l.debug]=0,r[l.info]=1,r[l.warn]=2,r[l.error]=3,r),d=(Object.keys(l),"console"),p="http",h=function(){function e(e,t,n,r){void 0===t&&(t=p),void 0===n&&(n=l.debug),void 0===r&&(r={}),this.sendLog=e,this.handlerType=t,this.level=n,this.contextManager=(0,o.W)(),this.contextManager.set(r)}return e.prototype.log=function(e,t,n){if(void 0===n&&(n=l.info),f[n]>=f[this.level]){var r=Array.isArray(this.handlerType)?this.handlerType:[this.handlerType];(0,a.q9)(r,p)&&this.sendLog((0,i.pi)({message:e,status:n},(0,a.$e)(this.contextManager.get(),t))),(0,a.q9)(r,d)&&s.j.log(n+": "+e,(0,a.$e)(this.contextManager.get(),t))}},e.prototype.debug=function(e,t){this.log(e,t,l.debug)},e.prototype.info=function(e,t){this.log(e,t,l.info)},e.prototype.warn=function(e,t){this.log(e,t,l.warn)},e.prototype.error=function(e,t){var n={error:{origin:u.zH.LOGGER}};this.log(e,(0,a.$e)(n,t),l.error)},e.prototype.setContext=function(e){this.contextManager.set(e)},e.prototype.addContext=function(e,t){this.contextManager.add(e,t)},e.prototype.removeContext=function(e){this.contextManager.remove(e)},e.prototype.setHandler=function(e){this.handlerType=e},e.prototype.setLevel=function(e){this.level=e},(0,i.gn)([c.Th],e.prototype,"log",null),e}()},43545:(e,t,n)=>{"use strict";n.d(t,{cQ:()=>a});var r,i=n(4344),o=n(65411);function a(e,t){if(!t){var n=s(e)===r.TRACKED;return{getId:function(){},isTracked:function(){return n}}}var o=(0,i.M_)(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return e===r.NOT_TRACKED||e===r.TRACKED}(t)?t:s(e);return{trackingType:n,isTracked:n===r.TRACKED}}(e,t)}));return{getId:o.getId,isTracked:function(){return o.getTrackingType()===r.TRACKED}}}function s(e){return(0,o.y7)(e.sampleRate)?r.TRACKED:r.NOT_TRACKED}!function(e){e.NOT_TRACKED="0",e.TRACKED="1"}(r||(r={}))},13005:(e,t,n)=>{"use strict";n.d(t,{fy:()=>r.f}),n(54729);var r=n(61674)},41076:(e,t,n)=>{"use strict";n.d(t,{gn:()=>i,pi:()=>r});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};function i(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}},61111:(e,t,n)=>{var r=n(45948);e.exports=function(e,t){return new Promise((function(n,i){var o,a=t||{};function s(e){i(e||new Error("Aborted"))}function u(e,t){e.bail?s(e):o.retry(e)?a.onRetry&&a.onRetry(e,t):i(o.mainError())}"randomize"in a||(a.randomize=!0),(o=r.operation(a)).attempt((function(t){var r;try{r=e(s,t)}catch(e){return void u(e,t)}Promise.resolve(r).then(n).catch((function(e){u(e,t)}))}))}))}},45948:(e,t,n)=>{e.exports=n(99769)},99769:(e,t,n)=>{var r=n(60224);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"==typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var a=r[o],s=e[a];e[a]=function(r){var i=t.operation(n),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),a.apply(this,arguments))})),i.attempt((function(){r.apply(e,o)}))}.bind(e,s),e[a].options=n}}},60224:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t}},96279:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=h(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];_.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,n){return new Promise((function(r,o){var a=new b(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=d,e.Request=b,e.Response=_),t.Headers=d,t.Request=b,t.Response=_,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},92012:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(21626),a=n(91782),s=n(95160),u=n(31168),c=n(31463),l=n(7114),f=n(64692),d=n(78548),p=n(46670),h=n(9116),g=d("draft_tree_data_support"),v=g?u:s,m=p.List,y=p.Repeat,b={insertAtomicBlock:function(e,t,n){var i=e.getCurrentContent(),s=e.getSelection(),u=c.removeRange(i,s,"backward"),d=u.getSelectionAfter(),p=c.splitBlock(u,d),h=p.getSelectionAfter(),b=c.setBlockType(p,h,"atomic"),w=a.create({entity:t}),_={key:f(),type:"atomic",text:n,characterList:m(y(w,n.length))},S={key:f(),type:"unstyled"};g&&(_=r({},_,{nextSibling:S.key}),S=r({},S,{prevSibling:_.key}));var E=[new v(_),new v(S)],k=o.createFromArray(E),x=c.replaceWithFragment(b,h,k),T=x.merge({selectionBefore:s,selectionAfter:x.getSelectionAfter().set("hasFocus",!0)});return l.push(e,T,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var i,o=e.getCurrentContent(),a=e.getSelection();if("before"===r||"after"===r){var s=o.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());i=h(o,t,s,r)}else{var u=c.removeRange(o,n,"backward"),f=u.getSelectionAfter(),d=u.getBlockForKey(f.getFocusKey());if(0===f.getStartOffset())i=h(u,t,d,"before");else if(f.getEndOffset()===d.getLength())i=h(u,t,d,"after");else{var p=c.splitBlock(u,f),g=p.getSelectionAfter(),v=p.getBlockForKey(g.getFocusKey());i=h(p,t,v,"before")}}var m=i.merge({selectionBefore:a,selectionAfter:i.getSelectionAfter().set("hasFocus",!0)});return l.push(e,m,"move-block")}};e.exports=b},21626:(e,t,n)=>{"use strict";var r=n(46670).OrderedMap,i={createFromArray:function(e){return r(e.map((function(e){return[e.getKey(),e]})))}};e.exports=i},63354:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(15031),o=n(79846),a=n(46670),s=a.List,u=a.Repeat,c=a.Record,l=function(){return!0},f=c({start:null,end:null}),d=c({start:null,end:null,decoratorKey:null,leaves:null}),p={generate:function(e,t,n){var r=t.getLength();if(!r)return s.of(new d({start:0,end:0,decoratorKey:null,leaves:s.of(new f({start:0,end:0}))}));var o=[],a=n?n.getDecorations(t,e):s(u(null,r)),c=t.getCharacterList();return i(a,h,l,(function(e,t){var n,r,u,p;o.push(new d({start:e,end:t,decoratorKey:a.get(e),leaves:(n=c.slice(e,t).toList(),r=e,u=[],p=n.map((function(e){return e.getStyle()})).toList(),i(p,h,l,(function(e,t){u.push(new f({start:e+r,end:t+r}))})),s(u))}))})),s(o)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["leaves"]);return new d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n,{leaves:null!=t?s(Array.isArray(t)?t:o(t)).map((function(e){return f(e)})):null}))}};function h(e,t){return e===t}e.exports=p},91782:(e,t,n)=>{"use strict";var r=n(46670),i=r.Map,o=r.OrderedSet,a=r.Record,s=o(),u={style:s,entity:null},c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStyle=function(){return this.get("style")},a.getEntity=function(){return this.get("entity")},a.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return l;var t=i({style:s,entity:null}).merge(e),n=f.get(t);if(n)return n;var o=new r(t);return f=f.set(t,o),o},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?o(t):t,entity:Array.isArray(n)?o(n):n})},r}(a(u)),l=new c,f=i([[i(u),l]]);c.EMPTY=l,e.exports=c},32886:(e,t,n)=>{"use strict";var r=n(46670).List,i=function(){function e(e){var t,n;n=void 0,(t="_decorators")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach((function(r,i){var o=0;(0,r.strategy)(e,(function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(function(e,t,n,r){for(var i=t;i<n;i++)e[i]=r}(n,e,t,i+"."+o),o++)}),t)})),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=i},95160:(e,t,n)=>{"use strict";var r=n(91782),i=n(15031),o=n(46670),a=o.List,s=o.Map,u=o.OrderedSet,c=o.Record,l=o.Repeat,f=u(),d=function(e){var t,n;function o(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(l(r.EMPTY,n.length))),e}(t))||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.getKey=function(){return this.get("key")},s.getType=function(){return this.get("type")},s.getText=function(){return this.get("text")},s.getCharacterList=function(){return this.get("characterList")},s.getLength=function(){return this.getText().length},s.getDepth=function(){return this.get("depth")},s.getData=function(){return this.get("data")},s.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},s.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},s.findStyleRanges=function(e,t){i(this.getCharacterList(),p,e,t)},s.findEntityRanges=function(e,t){i(this.getCharacterList(),h,e,t)},o}(c({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:s()}));function p(e,t){return e.getStyle()===t.getStyle()}function h(e,t){return e.getEntity()===t.getEntity()}e.exports=d},31168:(e,t,n)=>{"use strict";var r=n(91782),i=n(15031),o=n(46670),a=o.List,s=o.Map,u=o.OrderedSet,c=o.Record,l=o.Repeat,f=u(),d={parent:null,characterList:a(),data:s(),depth:0,key:"",text:"",type:"unstyled",children:a(),prevSibling:null,nextSibling:null},p=function(e,t){return e.getStyle()===t.getStyle()},h=function(e,t){return e.getEntity()===t.getEntity()},g=function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=a(l(r.EMPTY,n.length))),e},v=function(e){var t,n;function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return e.call(this,g(t))||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():f},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(e,t){i(this.getCharacterList(),p,e,t)},o.findEntityRanges=function(e,t){i(this.getCharacterList(),h,e,t)},r}(c(d));e.exports=v},17466:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(21626),a=n(91782),s=n(95160),u=n(31168),c=n(22823),l=n(89226),f=n(64692),d=n(79846),p=n(78548),h=n(46670),g=n(63423),v=h.List,m=h.Record,y=h.Repeat,b=h.Map,w=h.OrderedMap,_=m({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),S=p("draft_tree_data_support")?u:s,E=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=i.prototype;return s.getEntityMap=function(){return c},s.getBlockMap=function(){return this.get("blockMap")},s.getSelectionBefore=function(){return this.get("selectionBefore")},s.getSelectionAfter=function(){return this.get("selectionAfter")},s.getBlockForKey=function(e){return this.getBlockMap().get(e)},s.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil((function(t){return t===e})).skip(1).first()},s.getBlockAfter=function(e){return this.getBlockMap().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil((function(t,n){return n===e})).skip(1).first()},s.getBlocksAsArray=function(){return this.getBlockMap().toArray()},s.getFirstBlock=function(){return this.getBlockMap().first()},s.getLastBlock=function(){return this.getBlockMap().last()},s.getPlainText=function(e){return this.getBlockMap().map((function(e){return e?e.getText():""})).join(e||"\n")},s.getLastCreatedEntityKey=function(){return c.__getLastCreatedEntityKey()},s.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},s.createEntity=function(e,t,n){return c.__create(e,t,n),this},s.mergeEntityData=function(e,t){return c.__mergeData(e,t),this},s.replaceEntityData=function(e,t){return c.__replaceData(e,t),this},s.addEntity=function(e){return c.__add(e),this},s.getEntity=function(e){return c.__get(e)},s.getAllEntities=function(){return c.__getAll()},s.loadWithEntities=function(e){return c.__loadWithEntities(e)},i.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=o.createFromArray(n),a=r.isEmpty()?new l:l.createEmpty(r.first().getKey());return new i({blockMap:r,entityMap:t||c,selectionBefore:a,selectionAfter:a})},i.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t),r=n.map((function(e){return e=g(e),new S({key:f(),text:e,type:"unstyled",characterList:v(y(a.EMPTY,e.length))})}));return i.createFromBlockArray(r)},i.fromJS=function(e){return new i(r({},e,{blockMap:w(e.blockMap).map(i.createContentBlockFromJS),selectionBefore:new l(e.selectionBefore),selectionAfter:new l(e.selectionAfter)}))},i.createContentBlockFromJS=function(e){var t=e.characterList;return new S(r({},e,{data:b(e.data),characterList:null!=t?v((Array.isArray(t)?t:d(t)).map((function(e){return a.fromJS(e)}))):void 0}))},i}(_);e.exports=E},68171:(e,t,n)=>{"use strict";var r=n(91782),i=n(46670).Map,o={add:function(e,t,n){return a(e,t,n,!0)},remove:function(e,t,n){return a(e,t,n,!1)}};function a(e,t,n,o){var a=e.getBlockMap(),s=t.getStartKey(),u=t.getStartOffset(),c=t.getEndKey(),l=t.getEndOffset(),f=a.skipUntil((function(e,t){return t===s})).takeUntil((function(e,t){return t===c})).concat(i([[c,a.get(c)]])).map((function(e,t){var i,a;s===c?(i=u,a=l):(i=t===s?u:0,a=t===c?l:e.getLength());for(var f,d=e.getCharacterList();i<a;)f=d.get(i),d=d.set(i,o?r.applyStyle(f,n):r.removeStyle(f,n)),i++;return e.set("characterList",d)}));return e.merge({blockMap:a.merge(f),selectionBefore:t,selectionAfter:t})}e.exports=o},47670:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(56356),o=n(20279),a=n(85775),s=n(46670),u=n(27368),c=n(90319),l=s.Map,f={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},d=i.isBrowser("IE <= 11"),p=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=l();var n=a(e);n.MutationObserver&&!d?this.observer=new n.MutationObserver((function(e){return t.registerMutations(e)})):this.onCharData=function(e){e.target instanceof Node||u(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,f):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=l(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return d?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=c(o(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=p},90265:(e,t,n)=>{"use strict";var r=n(2784),i=n(70336),o=(0,n(46670).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:i("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:i("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:i("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=o},80139:e=>{"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},1503:(e,t,n)=>{"use strict";var r=n(92012),i=n(21626),o=n(91782),a=n(32886),s=n(95160),u=n(17466),c=n(90265),l=n(80139),f=n(35611),d=n(83754),p=n(22823),h=n(31463),g=n(70198),v=n(7114),m=n(7781),y=n(30521),b=n(64830),w=n(89226),_=n(96223),S=n(13673),E=n(64692),k=n(64980),x=n(74393),T={Editor:f,EditorBlock:d,EditorState:v,CompositeDecorator:a,Entity:p,EntityInstance:g,BlockMapBuilder:i,CharacterMetadata:o,ContentBlock:s,ContentState:u,RawDraftContentState:y,SelectionState:w,AtomicBlockUtils:r,KeyBindingUtil:m,Modifier:h,RichUtils:b,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:l,convertFromHTML:n(87729),convertFromRaw:S,convertToRaw:_,genKey:E,getDefaultKeyBinding:k,getVisibleSelectionRect:x};e.exports=T},35611:(e,t,n)=>{"use strict";var r=n(37320);function i(){return i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=n(90265),l=n(80139),f=n(2999),d=n(17070),p=n(22363),h=n(31240),g=n(35517),v=n(10314),m=n(69346),y=n(7114),b=n(2784),w=n(64239),_=n(7751),S=n(56356),E=n(70336),k=n(64692),x=n(64980),T=n(59170),O=n(78548),A=n(27368),I=n(38532),C=n(90319),P=S.isBrowser("IE"),D=!P,M={edit:h,composite:f,drag:p,cut:null,render:null},R=!1,j=function(e){function t(){return e.apply(this,arguments)||this}u(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(b.Component),N=function(e){function t(t){var n;return s(a(n=e.call(this,t)||this),"_blockSelectEvents",void 0),s(a(n),"_clipboard",void 0),s(a(n),"_handler",void 0),s(a(n),"_dragCount",void 0),s(a(n),"_internalDrag",void 0),s(a(n),"_editorKey",void 0),s(a(n),"_placeholderAccessibilityID",void 0),s(a(n),"_latestEditorState",void 0),s(a(n),"_latestCommittedEditorState",void 0),s(a(n),"_pendingStateFromBeforeInput",void 0),s(a(n),"_onBeforeInput",void 0),s(a(n),"_onBlur",void 0),s(a(n),"_onCharacterData",void 0),s(a(n),"_onCompositionEnd",void 0),s(a(n),"_onCompositionStart",void 0),s(a(n),"_onCopy",void 0),s(a(n),"_onCut",void 0),s(a(n),"_onDragEnd",void 0),s(a(n),"_onDragOver",void 0),s(a(n),"_onDragStart",void 0),s(a(n),"_onDrop",void 0),s(a(n),"_onInput",void 0),s(a(n),"_onFocus",void 0),s(a(n),"_onKeyDown",void 0),s(a(n),"_onKeyPress",void 0),s(a(n),"_onKeyUp",void 0),s(a(n),"_onMouseDown",void 0),s(a(n),"_onMouseUp",void 0),s(a(n),"_onPaste",void 0),s(a(n),"_onSelect",void 0),s(a(n),"editor",void 0),s(a(n),"editorContainer",void 0),s(a(n),"focus",void 0),s(a(n),"blur",void 0),s(a(n),"setMode",void 0),s(a(n),"exitCurrentMode",void 0),s(a(n),"restoreEditorDOM",void 0),s(a(n),"setClipboard",void 0),s(a(n),"getClipboard",void 0),s(a(n),"getEditorKey",void 0),s(a(n),"update",void 0),s(a(n),"onDragEnter",void 0),s(a(n),"onDragLeave",void 0),s(a(n),"_handleEditorContainerRef",(function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null})),s(a(n),"focus",(function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),i=n.editor;if(i){var o=_.getScrollParent(i),a=e||T(o),s=a.x,u=a.y;I(i)||A(!1),i.focus(),o===window?window.scrollTo(s,u):w.setTop(o,u),r||n.update(y.forceSelection(t,t.getSelection()))}})),s(a(n),"blur",(function(){var e=n.editor;e&&(I(e)||A(!1),e.blur())})),s(a(n),"setMode",(function(e){var t=n.props,r=t.onPaste,i=t.onCut,a=t.onCopy,s=o({},M.edit);r&&(s.onPaste=r),i&&(s.onCut=i),a&&(s.onCopy=a);var u=o({},M,{edit:s});n._handler=u[e]})),s(a(n),"exitCurrentMode",(function(){n.setMode("edit")})),s(a(n),"restoreEditorDOM",(function(e){n.setState({contentsKey:n.state.contentsKey+1},(function(){n.focus(e)}))})),s(a(n),"setClipboard",(function(e){n._clipboard=e})),s(a(n),"getClipboard",(function(){return n._clipboard})),s(a(n),"update",(function(e){n._latestEditorState=e,n.props.onChange(e)})),s(a(n),"onDragEnter",(function(){n._dragCount++})),s(a(n),"onDragLeave",(function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()})),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||k(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onMouseMove=n._buildHandler("onMouseMove"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}u(t,e);var r=t.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(g?g((function(){return r(t,n)})):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:C(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(v,e)}return null},r._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleFn,s=e.customStyleMap,u=e.editorState,c=e.preventScroll,f=e.readOnly,p=e.textAlignment,h=e.textDirectionality,g=E({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===p,"DraftEditor/alignRight":"right"===p,"DraftEditor/alignCenter":"center"===p}),v=this.props.role||"textbox",m="combobox"===v?!!this.props.ariaExpanded:null,y={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:o({},l,s),customStyleFn:a,editorKey:this._editorKey,editorState:u,preventScroll:c,textDirectionality:h};return b.createElement("div",{className:g},this._renderPlaceholder(),b.createElement("div",{className:E("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":f?null:this.props.ariaActiveDescendantID,"aria-autocomplete":f?null:this.props.ariaAutoComplete,"aria-controls":f?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":f?null:m,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":f?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:E({notranslate:!f,"public/DraftEditor/content":!0}),contentEditable:!f,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onMouseMove:this._onMouseMove,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:f?null:v,spellCheck:D&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(j,{editor:this,editorState:u}),b.createElement(d,i({},y,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!R&&O("draft_ods_enabled")&&(R=!0,m.initODS()),this.setMode("edit"),P&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):n.g.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},t}(b.Component);s(N,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:c,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:x,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=N},83754:(e,t,n)=>{"use strict";var r=n(37320);function i(){return i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(37114),u=n(52358),c=n(2784),l=n(64239),f=n(7751),d=n(58493),p=n(63555),h=n(70336),g=n(67232),v=n(59170),m=n(22496),y=n(27368),b=n(38532),w=n(90319),_=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(o(t=e.call.apply(e,[this].concat(r))||this),"_node",void 0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var S=r.prototype;return S.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||_(e.selection,e.block.getKey())&&e.forceSelection},S.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,i=f.getScrollParent(n),o=v(i);if(i===window){var a=g(n);(r=a.y+a.height-m().height)>0&&window.scrollTo(o.x,o.y+r+10)}else b(n)||y(!1),(r=n.offsetHeight+n.parentElement.offsetTop-(i.offsetTop+i.offsetHeight+o.y))>0&&l.setTop(i,l.getTop(i)+r+10)}}}},S._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),o=this.props.tree.size-1,a=_(this.props.selection,n);return this.props.tree.map((function(l,f){var h=l.get("leaves");if(0===h.size)return null;var g=h.size-1,v=h.map((function(i,l){var d=u.encode(n,f,l),p=i.get("start"),h=i.get("end");return c.createElement(s,{key:d,offsetKey:d,block:t,start:p,selection:a?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(p,h),styleSet:t.getInlineStyleAt(p),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:f===o&&l===g})})).toArray(),m=l.get("decoratorKey");if(null==m)return v;if(!e.props.decorator)return v;var y=w(e.props.decorator),b=y.getComponentForKey(m);if(!b)return v;var _=y.getPropsForKey(m),S=u.encode(n,f,0),E=h.first().get("start"),k=h.last().get("end"),x=r.slice(E,k),T=t.getEntityAt(l.get("start")),O=p.getHTMLDirIfDifferent(d.getDirection(x),e.props.direction),A={contentState:e.props.contentState,decoratedText:x,dir:O,start:E,end:k,blockKey:n,entityKey:T,offsetKey:S};return c.createElement(b,i({},_,A,{key:S}),v)})).toArray()},S.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,i=h({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return c.createElement("div",{"data-offset-key":r,className:i,ref:function(t){return e._node=t}},this._renderChildren())},r}(c.Component);e.exports=S},82498:(e,t,n)=>{"use strict";var r=n(37320);function i(){return i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(9401),c=n(52358),l=n(2784),f=n(64239),d=n(7751),p=n(67232),h=n(59170),g=n(22496),v=n(46670),m=n(27368),y=n(38532),b=(v.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),w=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},_=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},S=function(e,t,n,r,i,o){var s={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:o},u=r(e);return u&&(s.className=u),void 0!==i.customEditable&&(s=a({},s,{contentEditable:i.customEditable,suppressContentEditableWarning:!0})),s},E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return s(o(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",l.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,i=t.tree,o=!n.getChildKeys().isEmpty(),a=n!==e.block||i!==e.tree||r!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection;return o||a},v.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,i=d.getScrollParent(n),o=h(i);if(i===window){var a=p(n);(r=a.y+a.height-g().height)>0&&window.scrollTo(o.x,o.y+r+10)}else{y(n)||m(!1);var s=n;(r=s.offsetHeight+s.offsetTop-(i.offsetHeight+o.y))>0&&f.setTop(i,f.getTop(i)+r+10)}}}},v.render=function(){var e=this,t=this.props,n=t.block,o=t.blockRenderMap,s=t.blockRendererFn,f=t.blockStyleFn,d=t.contentState,p=t.decorator,h=t.editorKey,g=t.editorState,v=t.customStyleFn,m=t.customStyleMap,y=t.direction,E=t.forceSelection,k=t.selection,x=t.tree,T=null;n.children.size&&(T=n.children.reduce((function(t,n){var i=c.encode(n,0,0),u=d.getBlockForKey(n),p=_(u,s),v=p.CustomComponent||r,m=w(u,o),y=m.Element,b=m.wrapperTemplate,E=S(u,h,i,f,p,null),k=a({},e.props,{tree:g.getBlockTree(n),blockProps:p.customProps,offsetKey:i,block:u});return t.push(l.createElement(y,E,l.createElement(v,k))),!b||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(u,d)||function(e,t,n){var r=[],i=!0,o=!1,a=void 0;try{for(var s,u=n.reverse()[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var f=s.value;if(f.type!==t)break;r.push(f)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}n.splice(n.indexOf(r[0]),r.length+1);var d=r.reverse(),p=d[0].key;n.push(l.cloneElement(e,{key:"".concat(p,"-wrap"),"data-offset-key":c.encode(p,0,0)},d))}(b,y,t),t}),[]));var O=n.getKey(),A=c.encode(O,0,0),I=_(n,s),C=I.CustomComponent,P=null!=C?l.createElement(C,i({},this.props,{tree:g.getBlockTree(O),blockProps:I.customProps,offsetKey:A,block:n})):l.createElement(u,{block:n,children:T,contentState:d,customStyleFn:v,customStyleMap:m,decorator:p,direction:y,forceSelection:E,hasSelection:b(k,O),selection:k,tree:x});if(n.getParentKey())return P;var D=w(n,o).Element,M=S(n,h,A,f,I,this.wrapperRef);return l.createElement(D,M,P)},r}(l.Component);e.exports=E},2999:(e,t,n)=>{"use strict";var r=n(47670),i=n(31463),o=n(52358),a=n(7114),s=n(39914),u=n(56356),c=n(6943),l=n(12054),f=n(36595),d=n(66786),p=n(90319),h=u.isBrowser("IE"),g=!1,v=!1,m=null,y={onCompositionStart:function(e){v=!0,function(e){m||(m=new r(l(e))).start()}(e)},onCompositionEnd:function(e){g=!1,v=!1,setTimeout((function(){g||y.resolveComposition(e)}),20)},onSelect:c,onKeyUp:c,onMouseUp:c,onKeyDown:function(e,t){if(!v)return y.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!v){var t=p(m).stopAndFlushMutations();m=null,g=!0;var n=a.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach((function(e,t){var s=o.decode(t),u=s.blockKey,c=s.decoratorKey,l=s.leafKey,f=n.getBlockTree(u).getIn([c,"leaves",l]),p=f.start,h=f.end,g=n.getSelection().merge({anchorKey:u,focusKey:u,anchorOffset:p,focusOffset:h,isBackward:!1}),v=d(r,g),m=r.getBlockForKey(u).getInlineStyleAt(p);r=i.replaceText(r,g,e,m,v),n=a.set(n,{currentContent:r})}));var s=f(n,l(e)).selectionState;e.restoreEditorDOM();var u=h?a.forceSelection(n,s):a.acceptSelection(n,s);e.update(a.push(u,r,"insert-characters"))}else e.update(n)}}};e.exports=y},18296:(e,t,n)=>{"use strict";var r=n(37320);function i(){return i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(83754),u=n(52358),c=n(2784),l=n(70336),f=n(55050),d=n(90319),p=function(e,t,n,r){return l({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),u=t.getDecorator(),c=n.getDecorator();return i!==o||a!==s||u!==c||n.mustForceSelection()},a.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,a=e.customStyleMap,l=e.customStyleFn,h=e.editorState,g=e.editorKey,v=e.preventScroll,m=e.textDirectionality,y=h.getCurrentContent(),b=h.getSelection(),w=h.mustForceSelection(),_=h.getDecorator(),S=d(h.getDirectionMap()),E=y.getBlocksAsArray(),k=[],x=null,T=null,O=0;O<E.length;O++){var A=E[O],I=A.getKey(),C=A.getType(),P=n(A),D=void 0,M=void 0,R=void 0;P&&(D=P.component,M=P.props,R=P.editable);var j=m||S.get(I),N=u.encode(I,0,0),L={contentState:y,block:A,blockProps:M,blockStyleFn:r,customStyleMap:a,customStyleFn:l,decorator:_,direction:j,forceSelection:w,offsetKey:N,preventScroll:v,selection:b,tree:h.getBlockTree(I)},U=t.get(C)||t.get("unstyled"),B=U.wrapper,F=U.element||t.get("unstyled").element,z=A.getDepth(),K="";r&&(K=r(A)),"li"===F&&(K=f(K,p(C,z,T!==B||null===x||z>x,j)));var V=D||s,H={className:K,"data-block":!0,"data-editor":g,"data-offset-key":N,key:I};void 0!==R&&(H=o({},H,{contentEditable:R,suppressContentEditableWarning:!0}));var $=c.createElement(F,H,c.createElement(V,i({},L,{key:I})));k.push({block:$,wrapperTemplate:B,key:I,offsetKey:N}),x=B?A.getDepth():null,T=B}for(var q=[],W=0;W<k.length;){var G=k[W];if(G.wrapperTemplate){var J=[];do{J.push(k[W].block),W++}while(W<k.length&&k[W].wrapperTemplate===G.wrapperTemplate);var X=c.cloneElement(G.wrapperTemplate,{key:G.key+"-wrap","data-offset-key":G.offsetKey},J);q.push(X)}else q.push(G.block),W++}return c.createElement("div",{"data-contents":"true"},q)},r}(c.Component);e.exports=h},17070:(e,t,n)=>{"use strict";var r=n(78548)("draft_tree_data_support");e.exports=n(r?72480:18296)},72480:(e,t,n)=>{"use strict";var r=n(37320);function i(){return i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var o=n(82498),a=n(52358),s=n(2784),u=n(90319),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),i=t.isInCompositionMode(),o=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||i&&o)return!1;var a=t.getCurrentContent(),s=n.getCurrentContent(),u=t.getDecorator(),c=n.getDecorator();return i!==o||a!==s||u!==c||n.mustForceSelection()},c.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,c=e.customStyleMap,l=e.customStyleFn,f=e.editorState,d=e.editorKey,p=e.textDirectionality,h=f.getCurrentContent(),g=f.getSelection(),v=f.mustForceSelection(),m=f.getDecorator(),y=u(f.getDirectionMap()),b=[],w=h.getBlocksAsArray()[0];w;){var _=w.getKey(),S={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:h,customStyleFn:l,customStyleMap:c,decorator:m,editorKey:d,editorState:f,forceSelection:v,selection:g,block:w,direction:p||y.get(_),tree:f.getBlockTree(_)},E=(t.get(w.getType())||t.get("unstyled")).wrapper;b.push({block:s.createElement(o,i({key:_},S)),wrapperTemplate:E,key:_,offsetKey:a.encode(_,0,0)});var k=w.getNextSiblingKey();w=k?h.getBlockForKey(k):null}for(var x=[],T=0;T<b.length;){var O=b[T];if(O.wrapperTemplate){var A=[];do{A.push(b[T].block),T++}while(T<b.length&&b[T].wrapperTemplate===O.wrapperTemplate);var I=s.cloneElement(O.wrapperTemplate,{key:O.key+"-wrap","data-offset-key":O.offsetKey},A);x.push(I)}else x.push(O.block),T++}return s.createElement("div",{"data-contents":"true"},x)},r}(s.Component);e.exports=c},63752:(e,t,n)=>{"use strict";var r=n(37320);function i(){return i=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var o=n(52358),a=n(2784),s=n(58493),u=n(63555),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,c=e.decorator,l=e.decoratorKey,f=e.direction,d=e.leafSet,p=e.text,h=t.getKey(),g=d.get("leaves"),v=c.getComponentForKey(l),m=c.getPropsForKey(l),y=o.encode(h,parseInt(l,10),0),b=p.slice(g.first().get("start"),g.last().get("end")),w=u.getHTMLDirIfDifferent(s.getDirection(b),f);return a.createElement(v,i({},m,{contentState:r,decoratedText:b,dir:w,key:y,entityKey:t.getEntityAt(d.get("start")),offsetKey:y}),n)},r}(a.Component);e.exports=c},22363:(e,t,n)=>{"use strict";var r=n(69232),i=n(31463),o=n(7114),a=n(20279),s=n(86190),u=n(27452),c=n(1769),l=n(85775),f=n(22256),d=n(90319),p={onDragEnd:function(e){e.exitCurrentMode(),h(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),l=e._latestEditorState,p=function(e,t){var n=null,r=null,i=s(e.currentTarget);if("function"==typeof i.caretRangeFromPoint){var o=i.caretRangeFromPoint(e.x,e.y);n=o.startContainer,r=o.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=d(n),r=d(r);var u=d(a(n));return c(t,u,r,u,r)}(t.nativeEvent,l);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=p){var v=n.getFiles();if(v.length>0){if(e.props.handleDroppedFiles&&f(e.props.handleDroppedFiles(p,v)))return;u(v,(function(t){t&&e.update(g(l,p,t))}))}else{var m=e._internalDrag?"internal":"external";e.props.handleDrop&&f(e.props.handleDrop(p,n,m))||(e._internalDrag?e.update(function(e,t){var n=i.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(l,p)):e.update(g(l,p,n.getText()))),h(e)}}}};function h(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:l(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function g(e,t,n){var r=i.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=p},31240:(e,t,n)=>{"use strict";var r=n(56356),i=n(50186),o=n(85234),a=n(59587),s=n(21589),u=n(73765),c=n(13745),l=n(82524),f=n(16619),d=n(93430),p=n(90161),h=n(22711),g=n(6943),v=(r.isBrowser("Chrome"),r.isBrowser("Firefox"),{onBeforeInput:i,onBlur:o,onCompositionStart:a,onCopy:s,onCut:u,onDragOver:c,onDragStart:l,onFocus:f,onInput:d,onKeyDown:p,onPaste:h,onSelect:g,onMouseUp:g,onKeyUp:g,onMouseDown:g,onKeyPress:(e,t)=>t.stopPropagation()});e.exports=v},35517:(e,t,n)=>{"use strict";var r=n(28316).unstable_flushControlled;e.exports=r},37114:(e,t,n)=>{"use strict";var r=n(37320);function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(31703),s=n(2784),u=n(27368),c=n(58649),l=n(30238).setDraftEditorSelection,f=function(e){var t,n;function f(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return o(i(t=e.call.apply(e,[this].concat(r))||this),"leaf",void 0),t}n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=f.prototype;return d._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,i=t.text,o=n.getKey(),a=r+i.length;if(e.hasEdgeWithin(o,r,a)){var s=this.leaf;s||u(!1);var f,d=s.firstChild;d||u(!1),d.nodeType===Node.TEXT_NODE?f=d:c(d)?f=s:(f=d.firstChild)||u(!1),l(e,f,o,r,a)}}},d.shouldComponentUpdate=function(e){var t=this.leaf;return t||u(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},d.componentDidUpdate=function(){this._setSelection()},d.componentDidMount=function(){this._setSelection()},d.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,o=i.customStyleMap,u=i.customStyleFn,c=i.offsetKey,l=i.styleSet,f=l.reduce((function(e,t){var n={},i=o[t];return void 0!==i&&e.textDecoration!==i.textDecoration&&(n.textDecoration=[e.textDecoration,i.textDecoration].join(" ").trim()),r(e,i,n)}),{});if(u){var d=u(l,t);f=r(f,d)}return s.createElement("span",{"data-offset-key":c,ref:function(t){return e.leaf=t},style:f},s.createElement(a,null,n))},f}(s.Component);e.exports=f},9401:(e,t,n)=>{"use strict";var r=n(63752),i=n(37114),o=n(52358),a=n(46670),s=n(2784),u=n(70336),c=(a.List,function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,a=e.customStyleFn,c=e.customStyleMap,l=e.decorator,f=e.direction,d=e.forceSelection,p=e.hasSelection,h=e.selection,g=e.tree,v=t.getKey(),m=t.getText(),y=g.size-1,b=this.props.children||g.map((function(e,u){var g=e.get("decoratorKey"),b=e.get("leaves"),w=b.size-1,_=b.map((function(e,n){var r=o.encode(v,u,n),l=e.get("start"),f=e.get("end");return s.createElement(i,{key:r,offsetKey:r,block:t,start:l,selection:p?h:null,forceSelection:d,text:m.slice(l,f),styleSet:t.getInlineStyleAt(l),customStyleMap:c,customStyleFn:a,isLast:g===y&&n===w})})).toArray();return g&&l?s.createElement(r,{block:t,children:_,contentState:n,decorator:l,decoratorKey:g,direction:f,leafSet:e,text:m,key:u}):_})).toArray();return s.createElement("div",{"data-offset-key":o.encode(v,0,0),className:u({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===f,"public/DraftStyleDefault/rtl":"RTL"===f})},b)},a}(s.Component));e.exports=c},10314:(e,t,n)=>{"use strict";var r=n(2784),i=n(70336),o=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},a.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=i({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:i("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},o}(r.Component);e.exports=o},31703:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(2784),a=n(56356),s=n(27368),u=n(47791),c=a.isBrowser("IE <= 11"),l=function(e){var t,n;function a(t){var n;return i(r(n=e.call(this,t)||this),"_forceFlag",void 0),i(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;u(t)||s(!1);var r=t;return n?!function(e){return c?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},l.componentDidMount=function(){this._forceFlag=!this._forceFlag},l.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},l.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},c?o.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return c?o.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):o.createElement("br",{key:"B","data-text":"true",ref:e})}((function(e){return t._node=e})):o.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},a}(o.Component);e.exports=l},69346:e=>{"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},22823:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(70198),o=n(46670),a=n(27368),s=n(20727),u=(0,o.Map)(),c=s();function l(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var f={getLastCreatedEntityKey:function(){return l("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),f.__getLastCreatedEntityKey()},create:function(e,t,n){return l("DraftEntity.create","contentState.createEntity"),f.__create(e,t,n)},add:function(e){return l("DraftEntity.add","contentState.addEntity"),f.__add(e)},get:function(e){return l("DraftEntity.get","contentState.getEntity"),f.__get(e)},__getAll:function(){return u},__loadWithEntities:function(e){u=e,c=s()},mergeData:function(e,t){return l("DraftEntity.mergeData","contentState.mergeEntityData"),f.__mergeData(e,t)},replaceData:function(e,t){return l("DraftEntity.replaceData","contentState.replaceEntityData"),f.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return c},__create:function(e,t,n){return f.__add(new i({type:e,mutability:t,data:n||{}}))},__add:function(e){return c=s(),u=u.set(c,e),c},__get:function(e){var t=u.get(e);return t||a(!1),t},__mergeData:function(e,t){var n=f.__get(e),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},n.getData(),t),o=n.set("data",i);return u=u.set(e,o),o},__replaceData:function(e,t){var n=f.__get(e).set("data",t);return u=u.set(e,n),n}};e.exports=f},70198:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getType=function(){return this.get("type")},i.getMutability=function(){return this.get("mutability")},i.getData=function(){return this.get("data")},r}((0,n(46670).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},98446:e=>{"use strict";e.exports={getRemovalRange:function(e,t,n,r,i){var o=n.split(" ");o=o.map((function(e,t){if("forward"===i){if(t>0)return" "+e}else if(t<o.length-1)return e+" ";return e}));for(var a,s=r,u=null,c=null,l=0;l<o.length;l++){if(e<(a=s+o[l].length)&&s<t)null!==u||(u=s),c=a;else if(null!==u)break;s=a}var f=r+n.length,d=u===r,p=c===f;return(!d&&p||d&&!p)&&("forward"===i?c!==f&&c++:u!==r&&u--),{start:u,end:c}}}},86268:e=>{"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},31463:(e,t,n)=>{"use strict";var r=n(91782),i=n(68171),o=n(74420),a=n(40891),s=n(12087),u=n(46670),c=n(83963),l=n(5616),f=n(27368),d=n(4842),p=n(54753),h=n(91249),g=n(59289),v=u.OrderedSet,m={replaceText:function(e,t,n,i,o){var a=p(e,t),s=h(a,t),u=r.create({style:i||v(),entity:o||null});return l(s,s.getSelectionAfter(),n,u)},insertText:function(e,t,n,r,i){return t.isCollapsed()||f(!1),m.replaceText(e,t,n,r,i)},moveText:function(e,t,n){var r=s(e,t),i=m.removeRange(e,t,"backward");return m.replaceWithFragment(i,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",i=p(e,t),o=h(i,t);return c(o,o.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,i,o,s;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),i=t.getFocusKey(),o=e.getBlockForKey(r),s=e.getBlockForKey(i);var u=t.getStartOffset(),c=t.getEndOffset(),l=o.getEntityAt(u),f=s.getEntityAt(c-1);if(r===i&&l&&l===f){var d=a(e.getEntityMap(),o,s,t,n);return h(e,d)}var g=p(e,t);return h(g,t)},splitBlock:function(e,t){var n=p(e,t),r=h(n,t);return g(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return i.add(e,t,n)},removeInlineStyle:function(e,t,n){return i.remove(e,t,n)},setBlockType:function(e,t,n){return d(e,t,(function(e){return e.merge({type:n,depth:0})}))},setBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:n})}))},mergeBlockData:function(e,t,n){return d(e,t,(function(e){return e.merge({data:e.getData().merge(n)})}))},applyEntity:function(e,t,n){var r=p(e,t);return o(r,t,n)}};e.exports=m},52358:e=>{"use strict";var t="-",n={encode:function(e,n,r){return e+t+n+t+r},decode:function(e){var n=e.split(t).reverse(),r=n[0],i=n[1];return{blockKey:n.slice(2).reverse().join(t),decoratorKey:parseInt(i,10),leafKey:parseInt(r,10)}}};e.exports=n},34016:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(95160),o=n(31168),a=n(87729),s=n(64692),u=n(76752),c=n(78548),l=n(46670),f=n(63423),d=l.List,p=l.Repeat,h=c("draft_tree_data_support"),g=h?o:i,v={processHTML:function(e,t){return a(e,u,t)},processText:function(e,t,n){return e.reduce((function(e,i,o){i=f(i);var a=s(),u={key:a,type:n,text:i,characterList:d(p(t,i.length))};if(h&&0!==o){var c=o-1;u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},u,{prevSibling:(e[c]=e[c].merge({nextSibling:a})).getKey()})}return e.push(new g(u)),e}),[])}};e.exports=v},14436:(e,t,n)=>{"use strict";var r="\\s|(?![_])"+n(67380).getPunctuation(),i=new RegExp("^(?:"+r+")*(?:['‘’]|(?!"+r+").)*(?:(?!"+r+").)"),o=new RegExp("(?:(?!"+r+").)(?:['‘’]|(?!"+r+").)*(?:"+r+")*$");function a(e,t){var n=t?o.exec(e):i.exec(e);return n?n[0]:e}var s={getBackward:function(e){return a(e,!0)},getForward:function(e){return a(e,!1)}};e.exports=s},6364:e=>{"use strict";var t={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=t},9962:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(64692),a=n(27368),s=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},u={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||a(!1),Array.isArray(t)&&t.length?(function(e,t){for(var i=[].concat(e).reverse();i.length;){var o=i.pop();l=void 0,l=r({},c=o),s(c)&&(l.depth=l.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map((function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t})))}(c),null!=c.children&&c.children.length>0)||(delete l.children,n.push(l));var u=o.children;Array.isArray(u)||a(!1),i=i.concat([].concat(u.reverse()))}var c,l}(t),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach((function(e){var i=s(e),a=e.depth||0,u=r({},e,{children:[]});if(i){var c=n[0];if(null==c&&0===a)t.push(u);else if(null==c||c.depth<a-1){var l={key:o(),text:"",depth:a-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(l),1===a?t.push(l):null!=c&&c.children.push(l),l.children.push(u)}else if(c.depth===a-1)c.children.push(u);else{for(;null!=c&&c.depth>=a;)n.shift(),c=n[0];a>0?c.children.push(u):t.push(u)}}else t.push(u)})),r({},e,{blocks:t})}};e.exports=u},48049:(e,t,n)=>{"use strict";n(91669),e.exports={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map((function(e){return t.get(e)})).every((function(e){return e.getParentKey()===n})))return!1;var i=e.getPrevSiblingKey();if(null!=i&&t.get(i).getNextSiblingKey()!==n)return!1;var o=e.getNextSiblingKey();return(null==o||t.get(o).getPrevSiblingKey()===n)&&!(null!==o&&null!==i&&i===o||""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter((function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()}));if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),i=[];null!=r;){var o=e.get(r),a=o.getChildKeys(),s=o.getNextSiblingKey();if(a.size>0){null!=s&&i.unshift(s);var u=a.map((function(t){return e.get(t)})).find((function(e){return null==e.getPrevSiblingKey()}));if(null==u)return!1;r=u.getKey()}else r=null!=o.getNextSiblingKey()?o.getNextSiblingKey():i.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every((function(n){return t.isValidBlock(n,e)}))&&this.isConnectedTree(e)}}},70313:(e,t,n)=>{"use strict";var r,i=n(83070),o=n(46670),a=n(90319),s=o.OrderedMap,u={getDirectionMap:function(e,t){r?r.reset():r=new i;var n=e.getBlockMap(),u=n.valueSeq().map((function(e){return a(r).getDirection(e.getText())})),c=s(n.keySeq().zip(u));return null!=t&&o.is(t,c)?t:c}};e.exports=u},7114:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(63354),a=n(17466),s=n(70313),u=n(89226),c=n(46670),l=c.OrderedSet,f=c.Record,d=c.Stack,p=c.OrderedMap,h=c.List,g=f({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:d(),selection:null,treeMap:null,undoStack:d()}),v=function(){t.createEmpty=function(e){return this.createWithText("",e)},t.createWithText=function(e,n){return t.createWithContent(a.createFromText(e),n)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:d(),redoStack:d(),decorator:n||null,selection:u.createEmpty(r)})},t.create=function(e){var n=e.currentContent,i=r({},e,{treeMap:y(n,e.decorator),directionMap:s.getDirectionMap(n)});return new t(new g(i))},t.fromJS=function(e){return new t(new g(r({},e,{directionMap:null!=e.directionMap?p(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?l(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?a.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?d(e.redoStack.map((function(e){return a.fromJS(e)}))):e.redoStack,selection:null!=e.selection?new u(e.selection):e.selection,treeMap:null!=e.treeMap?p(e.treeMap).map((function(e){return h(e).map((function(e){return o.fromJS(e)}))})):e.treeMap,undoStack:null!=e.undoStack?d(e.undoStack.map((function(e){return a.fromJS(e)}))):e.undoStack,currentContent:a.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations((function(t){var r=t.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var a=n.currentContent||e.getCurrentContent();if(i!==r){var s,u=t.get("treeMap");return s=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter((function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)})).map((function(t){return o.generate(e,t,r)})))}(a,a.getBlockMap(),u,i,r):y(a,i),void t.merge({decorator:i,treeMap:s,nativelyRenderedContent:null})}a!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),a=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter((function(e,t){return e!==a.get(t)})).map((function(e){return o.generate(i,e,r)})))}(e,a.getBlockMap(),a.getEntityMap(),i)),t.merge(n)})))};var e=t.prototype;function t(e){i(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);return r>0?i.getInlineStyleAt(r-1):i.getLength()?i.getInlineStyleAt(0):w(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),i=e.getBlockForKey(n);return r<i.getLength()?i.getInlineStyleAt(r):r>0?i.getInlineStyleAt(r-1):w(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return m(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),m(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),i=n.getLength();return t.acceptSelection(e,new u({anchorKey:r,anchorOffset:i,focusKey:r,focusOffset:i,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var o=s.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:o,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:null});var a=e.getSelection(),u=e.getCurrentContent(),c=e.getUndoStack(),l=n;a!==u.getSelectionAfter()||b(e,r)?(c=c.push(u),l=l.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(l=l.set("selectionBefore",u.getSelectionBefore()));var f=e.getInlineStyleOverride(),p=["adjust-depth","change-block-type","split-block"];-1===p.indexOf(r)&&(f=null);var h={currentContent:l,directionMap:o,undoStack:c,redoStack:d(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:i,inlineStyleOverride:f};return t.set(e,h)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:n.shift(),redoStack:e.getRedoStack().push(i),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:i.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var i=e.getCurrentContent(),o=s.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:o,undoStack:e.getUndoStack().push(i),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function m(e,t,n){return v.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function y(e,t){return e.getBlockMap().map((function(n){return o.generate(e,n,t)})).toOrderedMap()}function b(e,t){return t!==e.getLastChangeType()||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}function w(e,t){var n=e.getBlockMap().reverse().skipUntil((function(e,n){return n===t})).skip(1).skipUntil((function(e,t){return e.getLength()})).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=v},7781:(e,t,n)=>{"use strict";var r=n(56356),i=n(79299),o=r.isPlatform("Mac OS X"),a={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return o&&e.altKey},usesMacOSHeuristics:function(){return o},hasCommandModifier:function(e){return o?!!e.metaKey&&!e.altKey:a.isCtrlKeyCommand(e)},isSoftNewlineEvent:i};e.exports=a},30521:()=>{},64830:(e,t,n)=>{"use strict";var r=n(31463),i=n(7114),o=n(40500),a=n(90319),s={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some((function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()}))},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return s.toggleInlineStyle(e,"BOLD");case"italic":return s.toggleInlineStyle(e,"ITALIC");case"underline":return s.toggleInlineStyle(e,"UNDERLINE");case"code":return s.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return s.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return s.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=i.push(e,t,"insert-characters");return i.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),o=n.getBlockBefore(r);if(o&&"atomic"===o.getType()){var a=n.getBlockMap().delete(o.getKey()),u=n.merge({blockMap:a,selectionAfter:t});if(u!==n)return i.push(e,u,"remove-range")}var c=s.tryToRemoveBlockStyle(e);return c?i.push(e,c,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),o=t.getStartKey(),a=n.getBlockForKey(o).getLength();if(t.getStartOffset()<a)return null;var s=n.getBlockAfter(o);if(!s||"atomic"!==s.getType())return null;var u=t.merge({focusKey:s.getKey(),focusOffset:s.getLength()}),c=r.removeRange(n,u,"forward");return c!==n?i.push(e,c,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),a=r.getAnchorKey();if(a!==r.getFocusKey())return t;var s=t.getCurrentContent(),u=s.getBlockForKey(a),c=u.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return t;e.preventDefault();var l=u.getDepth();if(!e.shiftKey&&l===n)return t;var f=o(s,r,e.shiftKey?-1:1,n);return i.push(t,f,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),o=n.getStartKey(),s=n.getEndKey(),u=e.getCurrentContent(),c=n;if(o!==s&&0===n.getEndOffset()){var l=a(u.getBlockBefore(s));s=l.getKey(),c=c.merge({anchorKey:o,anchorOffset:n.getStartOffset(),focusKey:s,focusOffset:l.getLength(),isBackward:!1})}if(u.getBlockMap().skipWhile((function(e,t){return t!==o})).reverse().skipWhile((function(e,t){return t!==s})).some((function(e){return"atomic"===e.getType()})))return e;var f=u.getBlockForKey(o).getType()===t?"unstyled":t;return i.push(e,r.setBlockType(u,c,f),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?s.toggleBlockType(e,"code-block"):s.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),o=e.getCurrentInlineStyle();if(n.isCollapsed())return i.setInlineStyleOverride(e,o.has(t)?o.remove(t):o.add(t));var a,s=e.getCurrentContent();return a=o.has(t)?r.removeInlineStyle(s,n,t):r.applyInlineStyle(s,n,t),i.push(e,a,"change-inline-style")},toggleLink:function(e,t,n){var o=r.applyEntity(e.getCurrentContent(),t,n);return i.push(e,o,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var i=t.getAnchorKey(),o=e.getCurrentContent(),a=o.getBlockForKey(i).getType(),s=o.getBlockBefore(i);if("code-block"===a&&s&&"code-block"===s.getType()&&0!==s.getLength())return null;if("unstyled"!==a)return r.setBlockType(o,t,"unstyled")}return null}};e.exports=s},86888:(e,t,n)=>{"use strict";var r=n(31463),i=n(7114),o=n(12087),a=n(90319),s=null,u={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),u=null;if(n.isCollapsed()){var c=n.getAnchorKey(),l=t.getBlockForKey(c).getLength();if(l===n.getAnchorOffset()){var f=t.getKeyAfter(c);if(null==f)return e;u=n.set("focusKey",f).set("focusOffset",0)}else u=n.set("focusOffset",l)}else u=n;u=a(u),s=o(t,u);var d=r.removeRange(t,u,"forward");return d===t?e:i.push(e,d,"remove-range")},paste:function(e){if(!s)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),s);return i.push(e,t,"insert-fragment")}};e.exports=u},89226:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},i.getAnchorKey=function(){return this.get("anchorKey")},i.getAnchorOffset=function(){return this.get("anchorOffset")},i.getFocusKey=function(){return this.get("focusKey")},i.getFocusOffset=function(){return this.get("focusOffset")},i.getIsBackward=function(){return this.get("isBackward")},i.getHasFocus=function(){return this.get("hasFocus")},i.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),i=this.getFocusKey();if(r===i&&r===e){var o=this.getStartOffset(),a=this.getEndOffset();return t<=o&&o<=n||t<=a&&a<=n}if(e!==r&&e!==i)return!1;var s=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=s&&n>=s},i.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},i.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},i.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},i.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},i.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(46670).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},40500:e=>{"use strict";e.exports=function(e,t,n,r){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat([[o,a.get(o)]]).map((function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)}));return a=a.merge(s),e.merge({blockMap:a,selectionBefore:t,selectionAfter:t})}},62378:(e,t,n)=>{"use strict";var r=n(91782);e.exports=function(e,t,n,i){for(var o=t,a=e.getCharacterList();o<n;)a=a.set(o,r.applyEntity(a.get(o),i)),o++;return e.set("characterList",a)}},74420:(e,t,n)=>{"use strict";var r=n(62378),i=n(46670);e.exports=function(e,t,n){var o=e.getBlockMap(),a=t.getStartKey(),s=t.getStartOffset(),u=t.getEndKey(),c=t.getEndOffset(),l=o.skipUntil((function(e,t){return t===a})).takeUntil((function(e,t){return t===u})).toOrderedMap().merge(i.OrderedMap([[u,o.get(u)]])).map((function(e,t){var i=t===a?s:0,o=t===u?c:e.getLength();return r(e,i,o,n)}));return e.merge({blockMap:o.merge(l),selectionBefore:t,selectionAfter:t})}},96223:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(95160),o=n(31168),a=n(6364),s=n(54111),u=n(93826),c=n(27368),l=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:u(e),entityRanges:s(e,t),data:e.getData().toObject()}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,s=[],u={},f={},d=0;return e.getBlockMap().forEach((function(e){e.findEntityRanges((function(e){return null!==e.getEntity()}),(function(t){var r=e.getEntityAt(t),i=a.stringify(r);f[i]||(f[i]=r,n[i]="".concat(d),d++)})),function(e,t,n,a){if(e instanceof i)n.push(l(e,t));else{e instanceof o||c(!1);var s=e.getParentKey(),u=a[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},l(e,t),{children:[]});s?a[s].children.push(u):n.push(u)}}(e,n,s,u)})),{blocks:s,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,i={};return Object.keys(r).forEach((function(t,n){var r=e.getEntity(a.unstringify(t));i[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}})),{blocks:n,entityMap:i}}(e,t),t}},87729:(e,t,n)=>{"use strict";var r;function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(91782),s=n(95160),u=n(31168),c=n(90265),l=n(22823),f=n(19777),d=n(70336),p=n(64692),h=n(76752),g=n(78548),v=n(46670),m=v.List,y=v.Map,b=v.OrderedSet,w=n(26513),_=n(58649),S=n(38532),E=n(33729),k=g("draft_tree_data_support"),x=new RegExp("\r","g"),T=new RegExp("\n","g"),O=new RegExp("^\n","g"),A=new RegExp("&nbsp;","g"),I=new RegExp("&#13;?","g"),C=new RegExp("&#8203;?","g"),P=["bold","bolder","500","600","700","800","900"],D=["light","lighter","normal","100","200","300","400"],M=["className","href","rel","target","title"],R=["alt","className","height","src","width"],j=(o(r={},d("public/DraftStyleDefault/depth0"),0),o(r,d("public/DraftStyleDefault/depth1"),1),o(r,d("public/DraftStyleDefault/depth2"),2),o(r,d("public/DraftStyleDefault/depth3"),3),o(r,d("public/DraftStyleDefault/depth4"),4),r),N=y({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),L=function(e){var t={};return e.mapKeys((function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach((function(n){void 0===t[n]?t[n]=e:"string"==typeof t[n]?t[n]=[t[n],e]:t[n].push(e)}))})),y(t)},U=function(e){return S(e)&&e.style.fontFamily.includes("monospace")?"CODE":null},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(j).some((function(n){e.classList.contains(n)&&(t=j[n])})),t},F=function(e){if(!w(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{return new f(t.href),!0}catch(e){return!1}},z=function(e){if(!E(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},K=function(e,t){if(!S(e))return t;var n=e,r=n.style.fontWeight,i=n.style.fontStyle,o=n.style.textDecoration;return t.withMutations((function(e){P.indexOf(r)>=0?e.add("BOLD"):D.indexOf(r)>=0&&e.remove("BOLD"),"italic"===i?e.add("ITALIC"):"normal"===i&&e.remove("ITALIC"),"underline"===o&&e.add("UNDERLINE"),"line-through"===o&&e.add("STRIKETHROUGH"),"none"===o&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}))},V=function(e){return"ul"===e||"ol"===e},H=function(){function e(e,t){o(this,"characterList",m()),o(this,"currentBlockType","unstyled"),o(this,"currentDepth",0),o(this,"currentEntity",null),o(this,"currentText",""),o(this,"wrapper",null),o(this,"blockConfigs",[]),o(this,"contentBlocks",[]),o(this,"entityMap",l),o(this,"blockTypeMap",void 0),o(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=m(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=l,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(k?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key||p(),n=i({key:t,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:m(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=m(),this.currentBlockType="unstyled",this.currentText="",n},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i.nodeName.toLowerCase();if("body"===o||V(o)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var a=this.currentDepth,s=this.wrapper;V(o)&&(this.wrapper=o,V(s)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),t)),this.currentDepth=a,this.wrapper=s}else{var u=this.blockTypeMap.get(o);if(void 0===u)if("#text"!==o)if("br"!==o)if(z(i))this._addImgNode(i,t);else if(F(i))this._addAnchorNode(i,n,t);else{var c=t;N.has(o)&&(c=c.add(N.get(o))),c=K(i,c);var l=U(i);null!=l&&(c=c.add(l)),n.push.apply(n,this._toBlockConfigs(Array.from(i.childNodes),c))}else this._addBreakNode(i,t);else this._addTextNode(i,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var f=this.currentDepth,d=this.wrapper;if(this.wrapper="pre"===o?"pre":this.wrapper,"string"!=typeof u&&(u=this.disambiguate(o,this.wrapper)||u[0]||"unstyled"),!k&&S(i)&&("unordered-list-item"===u||"ordered-list-item"===u)){var h=i;this.currentDepth=B(h,this.currentDepth)}var g=p(),v=this._toBlockConfigs(Array.from(i.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:g,childConfigs:v,type:u})),this.currentDepth=f,this.wrapper=d}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=a.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry((function(e){return null!==e.getEntity()}));(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry((function(e){return null!==e.getEntity()})))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=m()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(O,"")).replace(T," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){_(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(E(e)){var n=e,r={};R.forEach((function(e){var t=n.getAttribute(e);t&&(r[e]=t)})),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),g("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("📷",t):this._appendText("📷",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(w(e)){var r=e,i={};M.forEach((function(e){var t=r.getAttribute(e);t&&(i[e]=t)})),i.url=new f(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",i||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var o=e[r];o.parent=t,o.prevSibling=r>0?e[r-1].key:null,o.nextSibling=r<n?e[r+1].key:null,o.children=m(o.childConfigs.map((function(e){return e.key}))),this.contentBlocks.push(new u(i({},o))),this._toContentBlocks(o.childConfigs,o.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return m(e).flatMap((function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)}))},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach((function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,o=n.characterList;t.contentBlocks.push(new s(i({},e,{text:e.text+r,characterList:e.characterList.concat(o)})))}))},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=m(),i=0;i<=t;i++){var o=e[i];n+=o.text,r=r.concat(o.characterList),""!==n&&"unstyled"!==o.type&&(n+="\n",r=r.push(r.last()));var a=this._extractTextFromBlockConfigs(o.childConfigs);n+=a.text,r=r.concat(a.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=t(e=e.trim().replace(x,"").replace(A," ").replace(I,"").replace(C,""));if(!r)return null;var i=L(n),o=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null};return new H(i,o).addDOMNode(r).getContentBlocks()}},13673:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(95160),a=n(31168),s=n(17466),u=n(22823),c=n(9962),l=(n(48049),n(89226)),f=n(82074),d=n(55179),p=n(59685),h=n(64692),g=n(78548),v=n(46670),m=n(27368),y=g("draft_tree_data_support"),b=v.List,w=v.Map,_=v.OrderedMap,S=function(e,t){var n=e.key,r=e.type,i=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||h(),data:w(i),characterList:E(e,t)}},E=function(e,t){var n=e.text,i=e.entityRanges,o=e.inlineStyleRanges,a=i||[];return f(p(n,o||[]),d(n,a.filter((function(e){return t.hasOwnProperty(e.key)})).map((function(e){return r({},e,{key:t[e.key]})}))))},k=function(e){return r({},e,{key:e.key||h()})},x=function(e,t,n){var i=t.map((function(e){return r({},e,{parentRef:n})}));return e.concat(i.reverse())};e.exports=function(e){Array.isArray(e.blocks)||m(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach((function(e){var r=t[e],i=r.type,o=r.mutability,a=r.data;n[e]=u.__create(i,o,a||{})})),n}(e),n=function(e,t){var n=e.blocks.find((function(e){return Array.isArray(e.children)&&e.children.length>0})),i=y&&!n?c.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!y)return function(e,t){return _(e.map((function(e){var n=new o(S(e,t));return[n.getKey(),n]})))}(n?c.fromRawTreeStateToRawState(e).blocks:i,t);var s=function(e,t){return e.map(k).reduce((function(n,i,o){Array.isArray(i.children)||m(!1);var s=i.children.map(k),u=new a(r({},S(i,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:b(s.map((function(e){return e.key})))}));n=n.set(u.getKey(),u);for(var c=x([],s,u);c.length>0;){var l=c.pop(),f=l.parentRef,d=f.getChildKeys(),p=d.indexOf(l.key),h=Array.isArray(l.children);if(!h){h||m(!1);break}var g=l.children.map(k),v=new a(r({},S(l,t),{parent:f.getKey(),children:b(g.map((function(e){return e.key}))),prevSibling:0===p?null:d.get(p-1),nextSibling:p===d.size-1?null:d.get(p+1)}));n=n.set(v.getKey(),v),c=x(c,g,v)}return n}),_())}(i,t);return s}(e,t),i=n.isEmpty()?new l:l.createEmpty(n.first().getKey());return new s({blockMap:n,entityMap:t,selectionBefore:i,selectionAfter:i})}},82074:(e,t,n)=>{"use strict";var r=n(91782),i=n(46670).List;e.exports=function(e,t){var n=e.map((function(e,n){var i=t[n];return r.create({style:e,entity:i})}));return i(n)}},55179:(e,t,n)=>{"use strict";var r=n(14791).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var i=r(e,0,t.offset).length,o=i+r(e,t.offset,t.length).length,a=i;a<o;a++)n[a]=t.key})),n}},59685:(e,t,n)=>{"use strict";var r=n(14791),i=n(46670).OrderedSet,o=r.substr,a=i();e.exports=function(e,t){var n=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var r=o(e,0,t.offset).length,i=r+o(e,t.offset,t.length).length;r<i;)n[r]=n[r].add(t.style),r++})),n}},79619:e=>{"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},50186:(e,t,n)=>{"use strict";var r=n(31463),i=n(7114),o=n(56356),a=n(66786),s=n(22256),u=n(38516),c=n(90319),l=n(4361),f=n(6943),d=o.isBrowser("Firefox");function p(e,t,n,o,a){var s=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,o);return i.push(e,s,"insert-characters",a)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r){if(t.currentTarget.getRootNode()instanceof ShadowRoot){var o=new CustomEvent("select",{bubbles:!0,composed:!0});f(e,o)}if(e.props.handleBeforeInput&&s(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var h=n.getSelection(),g=h.getStartOffset(),v=h.getAnchorKey();if(!h.isCollapsed())return t.preventDefault(),void e.update(p(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!0));var m,y=p(n,r,n.getCurrentInlineStyle(),a(n.getCurrentContent(),n.getSelection()),!1),b=!1;if(b||(b=u(e._latestCommittedEditorState)),!b){var w=n.getBlockTree(v),_=y.getBlockTree(v);b=w.size!==_.size||w.zip(_).some((function(e){var t=e[0],n=e[1],i=t.get("start"),o=i+(i>=g?r.length:0),a=t.get("end"),s=a+(a>=g?r.length:0),u=n.get("start"),c=n.get("end"),l=n.get("decoratorKey");return t.get("decoratorKey")!==l||t.get("leaves").size!==n.get("leaves").size||o!==u||s!==c||null!=l&&c-u!=a-i}))}if(b||(m=r,b=d&&("'"==m||"/"==m)),b||(b=c(y.getDirectionMap()).get(v)!==c(n.getDirectionMap()).get(v)),b)return t.preventDefault(),y=i.set(y,{forceSelection:!0}),void e.update(y);y=i.set(y,{nativelyRenderedContent:y.getCurrentContent()}),e._pendingStateFromBeforeInput=y,l((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}}},85234:(e,t,n)=>{"use strict";var r=n(7114),i=n(31147),o=n(20565);e.exports=function(e,t){var n=t.currentTarget.getRootNode(),a=n instanceof ShadowRoot&&n.getSelection?t.currentTarget.getRootNode():t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&o(a)===a?.body){var s=a.getSelection(),u=e.editor;1===s.rangeCount&&i(u,s.anchorNode)&&i(u,s.focusNode)&&s.removeAllRanges()}var c=e._latestEditorState,l=c.getSelection();if(l.getHasFocus()){var f=l.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(c,f))}}},59587:(e,t,n)=>{"use strict";var r=n(7114);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},21589:(e,t,n)=>{"use strict";var r=n(35001);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},73765:(e,t,n)=>{"use strict";var r=n(31463),i=n(7114),o=n(7751),a=n(35001),s=n(59170),u=n(80639);e.exports=function(e,t){var n,c=e._latestEditorState,l=c.getSelection(),f=t.target;if(l.isCollapsed())t.preventDefault();else{if(u(f)){var d=f;n=s(o.getScrollParent(d))}var p=a(c);e.setClipboard(p),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return i.push(e,t,"remove-range")}(c))}),0)}}},13745:e=>{"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},82524:e=>{"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},16619:(e,t,n)=>{"use strict";var r=n(7114),i=n(56356);e.exports=function(e,t){var n=e._latestEditorState,o=n.getSelection();if(!o.getHasFocus()){var a=o.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),i.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,a)):e.update(r.acceptSelection(n,a))}}},93430:(e,t,n)=>{"use strict";var r=n(31463),i=n(52358),o=n(7114),a=n(56356),s=n(79619).notEmptyKey,u=n(20279),c=n(55117),l=n(90319),f=a.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor,a=n.getRootNode(),d=(a instanceof ShadowRoot&&a.getSelection?n.getRootNode():n.ownerDocument.defaultView).getSelection(),p=d.anchorNode,h=d.isCollapsed,g=(null==p?void 0:p.nodeType)!==Node.TEXT_NODE&&(null==p?void 0:p.nodeType)!==Node.ELEMENT_NODE;if(null!=p&&!g){if(p.nodeType===Node.TEXT_NODE&&(null!==p.previousSibling||null!==p.nextSibling)){var v=p.parentNode;if(null==v)return;p.nodeValue=v.textContent;for(var m=v.firstChild;null!=m;m=m.nextSibling)m!==p&&v.removeChild(m)}var y=p.textContent,b=e._latestEditorState,w=l(u(p)),_=i.decode(w),S=_.blockKey,E=_.decoratorKey,k=_.leafKey,x=b.getBlockTree(S).getIn([E,"leaves",k]),T=x.start,O=x.end,A=b.getCurrentContent(),I=A.getBlockForKey(S),C=I.getText().slice(T,O);if(y.endsWith("\n\n")&&(y=y.slice(0,-1)),y!==C){var P,D,M,R,j=b.getSelection(),N=j.merge({anchorOffset:T,focusOffset:O,isBackward:!1}),L=I.getEntityAt(T),U=s(L)?A.getEntity(L):null,B="MUTABLE"===(null!=U?U.getMutability():null),F=B?"spellcheck-change":"apply-entity",z=r.replaceText(A,N,y,I.getInlineStyleAt(T),B?I.getEntityAt(T):null);if(f)P=d.anchorOffset,D=d.focusOffset,R=(M=T+Math.min(P,D))+Math.abs(P-D),P=M,D=R;else{var K=y.length-C.length;M=j.getStartOffset(),R=j.getEndOffset(),P=h?R+K:M,D=R+K}var V=z.merge({selectionBefore:A.getSelectionAfter(),selectionAfter:j.merge({anchorOffset:P,focusOffset:D})});e.update(o.push(b,V,F))}else{var H=t.nativeEvent.inputType;if(H){var $=function(e,t){return"deleteContentBackward"===e?c(t):t}(H,b);if($!==b)return e.restoreEditorDOM(),void e.update($)}}}}},90161:(e,t,n)=>{"use strict";var r=n(31463),i=n(7114),o=n(7781),a=n(39914),s=n(86888),u=n(56356),c=n(22256),l=n(65),f=n(7428),d=n(12488),p=n(58125),h=n(80178),g=n(49936),v=n(55117),m=n(74831),y=n(48484),b=n(8134),w=n(6943),_=o.isOptionKeyCommand,S=u.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,o=e._latestEditorState;if(t.currentTarget.getRootNode()instanceof ShadowRoot){var u=new CustomEvent("select",{bubbles:!0,composed:!0,detail:t});w(e,u)}function E(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case a.RETURN:if(t.preventDefault(),e.props.handleReturn&&c(e.props.handleReturn(t,o)))return;break;case a.ESC:if(t.preventDefault(),E("onEscape"))return;break;case a.TAB:if(E("onTab"))return;break;case a.UP:if(E("onUpArrow"))return;break;case a.RIGHT:if(E("onRightArrow"))return;break;case a.DOWN:if(E("onDownArrow"))return;break;case a.LEFT:if(E("onLeftArrow"))return;break;case a.SPACE:S&&_(t)&&t.preventDefault()}var k=e.props.keyBindingFn(t);if(null!=k&&""!==k)if("undo"!==k){if(t.preventDefault(),!e.props.handleKeyCommand||!c(e.props.handleKeyCommand(k,o,t.timeStamp))){var x=function(e,t,n){switch(e){case"redo":return i.redo(t);case"delete":return m(t);case"delete-word":return d(t);case"backspace":return v(t);case"backspace-word":return f(t);case"backspace-to-start-of-line":return l(t,n);case"split-block":return p(t);case"transpose-characters":return y(t);case"move-selection-to-start-of-block":return g(t);case"move-selection-to-end-of-block":return h(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(k,o,t);x!==o&&e.update(x)}}else b(t,o,e.update);else if(n===a.SPACE&&S&&_(t)){var T=r.replaceText(o.getCurrentContent(),o.getSelection()," ");e.update(i.push(o,T,"insert-characters"))}}},22711:(e,t,n)=>{"use strict";var r=n(21626),i=n(91782),o=n(69232),a=n(31463),s=n(34016),u=n(7114),c=n(64830),l=n(66786),f=n(27452),d=n(22256),p=n(4934);function h(e,t,n){var r=a.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return u.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new o(t.clipboardData);if(!n.isRichText()){var g=n.getFiles(),v=n.getText();if(g.length>0){if(e.props.handlePastedFiles&&d(e.props.handlePastedFiles(g)))return;return void f(g,(function(t){if(t=t||v){var n=e._latestEditorState,o=p(t),f=i.create({style:n.getCurrentInlineStyle(),entity:l(n.getCurrentContent(),n.getSelection())}),d=c.getCurrentBlockType(n),h=s.processText(o,f,d),g=r.createFromArray(h),m=a.replaceWithFragment(n.getCurrentContent(),n.getSelection(),g);e.update(u.push(n,m,"insert-fragment"))}}))}}var m=[],y=n.getText(),b=n.getHTML(),w=e._latestEditorState;if(e.props.formatPastedText){var _=e.props.formatPastedText(y,b);y=_.text,b=_.html}if(!e.props.handlePastedText||!d(e.props.handlePastedText(y,b,w))){if(y&&(m=p(y)),!e.props.stripPastedStyles){var S,E=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&E){if(-1!==(null===(S=b)||void 0===S?void 0:S.indexOf(e.getEditorKey()))||1===m.length&&1===E.size&&E.first().getText()===y)return void e.update(h(e._latestEditorState,E))}else if(E&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,n){return t.getText()===e[n]}))}(m,E))return void e.update(h(e._latestEditorState,E));if(b){var k=s.processHTML(b,e.props.blockRenderMap);if(k){var x=k.contentBlocks,T=k.entityMap;if(x){var O=r.createFromArray(x);return void e.update(h(e._latestEditorState,O,T))}}}e.setClipboard(null)}if(m.length){var A=i.create({style:w.getCurrentInlineStyle(),entity:l(w.getCurrentContent(),w.getSelection())}),I=c.getCurrentBlockType(w),C=s.processText(m,A,I),P=r.createFromArray(C);e.update(h(e._latestEditorState,P))}}}},6943:(e,t,n)=>{"use strict";var r=n(86268),i=n(7114),o=n(12054),a=n(36595);e.exports=function(e,t){if(t.stopPropagation(),e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var n=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(n.toJS())})}}else{var s=e.props.editorState,u=a(s,o(e)),c=u.selectionState;c!==s.getSelection()&&(s=u.needsRecovery?i.forceSelection(s,c):i.acceptSelection(s,c),e.update(s))}}},54111:(e,t,n)=>{"use strict";var r=n(6364),i=n(14791).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return!!e.getEntity()}),(function(o,a){var s=e.getText(),u=e.getEntityAt(o);n.push({offset:i(s.slice(0,o)),length:i(s.slice(o,a)),key:Number(t[r.stringify(u)])})})),n}},93826:(e,t,n)=>{"use strict";var r=n(14791),i=n(15031),o=function(e,t){return e===t},a=function(e){return!!e},s=[];e.exports=function(e){var t=e.getCharacterList().map((function(e){return e.getStyle()})).toList(),n=t.flatten().toSet().map((function(n){return function(e,t,n){var s=[],u=t.map((function(e){return e.has(n)})).toList();return i(u,o,a,(function(t,i){var o=e.getText();s.push({offset:r.strlen(o.slice(0,t)),length:r.strlen(o.slice(t,i)),style:n})})),s}(e,t,n)}));return Array.prototype.concat.apply(s,n.toJS())}},59425:(e,t,n)=>{"use strict";var r=n(14791),i=n(86190),o=n(17258),a=n(27368);function s(e,t){for(var n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<e.length;a++){var s=e[a];0!==s.width&&1!==s.width&&(n=Math.min(n,s.top),r=Math.min(r,s.bottom),i=Math.max(i,s.top),o=Math.max(o,s.bottom))}return i<=r&&i-n<t&&o-r<t}function u(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||a(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=i(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var o=n.body;o||a(!1),o.appendChild(r);var s=r.getBoundingClientRect();return o.removeChild(r),s.height}(t),c=e.endContainer,l=e.endOffset;for(e.setStart(e.startContainer,0);s(o(e),n)&&(c=e.startContainer,l=e.startOffset,c.parentNode||a(!1),e.setStartBefore(c),1!==c.nodeType||"inline"===getComputedStyle(c).display););for(var f=c,d=l-1;;){for(var p=f.nodeValue,h=d;h>=0;h--)if(!(null!=p&&h>0&&r.isSurrogatePair(p,h-1))){if(e.setStart(f,h),!s(o(e),n))break;c=f,l=h}if(-1===h||0===f.childNodes.length)break;d=u(f=f.childNodes[h])}return e.setStart(c,l),e}},20279:(e,t,n)=>{"use strict";var r=n(86190),i=n(92885);e.exports=function(e){for(var t=e,n=e.getRootNode(),o=n instanceof ShadowRoot&&n.getSelection?e.getRootNode():r(e).documentElement;t&&t!==o;){var a=i(t);if(null!=a)return a;t=t.parentNode}return null}},15031:e=>{"use strict";e.exports=function(e,t,n,r){if(e.size){var i=0;e.reduce((function(e,o,a){return t(e,o)||(n(e)&&r(i,a),i=a),o})),n(e.last())&&r(i,e.count())}}},64692:e=>{"use strict";var t={},n=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||t.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*n).toString(32);return t[e]=!0,e}},40891:(e,t,n)=>{"use strict";var r=n(98446),i=n(95613),o=n(27368);function a(e,t,n,a,s,u,c){var l=n.getStartOffset(),f=n.getEndOffset(),d=e.__get(s).getMutability(),p=c?l:f;if("MUTABLE"===d)return n;var h=i(t,s).filter((function(e){return p<=e.end&&p>=e.start}));1!=h.length&&o(!1);var g=h[0];if("IMMUTABLE"===d)return n.merge({anchorOffset:g.start,focusOffset:g.end,isBackward:!1});u||(c?f=g.end:l=g.start);var v=r.getRemovalRange(l,f,t.getText().slice(g.start,g.end),g.start,a);return n.merge({anchorOffset:v.start,focusOffset:v.end,isBackward:!1})}e.exports=function(e,t,n,r,i){var o=r.getStartOffset(),s=r.getEndOffset(),u=t.getEntityAt(o),c=n.getEntityAt(s-1);if(!u&&!c)return r;var l=r;if(u&&u===c)l=a(e,t,l,i,u,!0,!0);else if(u&&c){var f=a(e,t,l,i,u,!1,!0),d=a(e,n,l,i,c,!1,!1);l=l.merge({anchorOffset:f.getAnchorOffset(),focusOffset:d.getFocusOffset(),isBackward:!1})}else if(u){var p=a(e,t,l,i,u,!1,!0);l=l.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(c){var h=a(e,n,l,i,c,!1,!1);l=l.merge({focusOffset:h.getEndOffset(),isBackward:!1})}return l}},12054:(e,t,n)=>{"use strict";var r=n(27368),i=n(38532);e.exports=function(e){var t=e.editorContainer;return t||r(!1),i(t.firstChild)||r(!1),t.firstChild}},12087:(e,t,n)=>{"use strict";var r=n(81712),i=n(54753);e.exports=function(e,t){var n=t.getStartKey(),o=t.getStartOffset(),a=t.getEndKey(),s=t.getEndOffset(),u=i(e,t).getBlockMap(),c=u.keySeq(),l=c.indexOf(n),f=c.indexOf(a)+1;return r(u.slice(l,f).map((function(e,t){var r=e.getText(),i=e.getCharacterList();return n===a?e.merge({text:r.slice(o,s),characterList:i.slice(o,s)}):t===n?e.merge({text:r.slice(o),characterList:i.slice(o)}):t===a?e.merge({text:r.slice(0,s),characterList:i.slice(0,s)}):e})))}},86190:e=>{"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},64980:(e,t,n)=>{"use strict";var r=n(7781),i=n(39914),o=n(56356),a=o.isPlatform("Mac OS X"),s=a&&o.isBrowser("Firefox < 29"),u=r.hasCommandModifier,c=r.isCtrlKeyCommand;function l(e){return a&&e.altKey||c(e)}e.exports=function(e){switch(e.keyCode){case 66:return u(e)?"bold":null;case 68:return c(e)?"delete":null;case 72:return c(e)?"backspace":null;case 73:return u(e)?"italic":null;case 74:return u(e)?"code":null;case 75:return a&&c(e)?"secondary-cut":null;case 77:case 79:return c(e)?"split-block":null;case 84:return a&&c(e)?"transpose-characters":null;case 85:return u(e)?"underline":null;case 87:return a&&c(e)?"backspace-word":null;case 89:return c(e)?a?"secondary-paste":"redo":null;case 90:return function(e){return u(e)?e.shiftKey?"redo":"undo":null}(e)||null;case i.RETURN:return"split-block";case i.DELETE:return function(e){return!a&&e.shiftKey?null:l(e)?"delete-word":"delete"}(e);case i.BACKSPACE:return function(e){return u(e)&&a?"backspace-to-start-of-line":l(e)?"backspace-word":"backspace"}(e);case i.LEFT:return s&&u(e)?"move-selection-to-start-of-block":null;case i.RIGHT:return s&&u(e)?"move-selection-to-end-of-block":null;default:return null}}},36595:(e,t,n)=>{"use strict";var r=n(23024);e.exports=function(e,t){var n=t.getRootNode(),i=(n.getRootNode()instanceof ShadowRoot&&n.getSelection?t.getRootNode():t.ownerDocument.defaultView).getSelection(),o=i.anchorNode,a=i.anchorOffset,s=i.focusNode,u=i.focusOffset;return 0===i.rangeCount||null==o||null==s?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,o,a,s,u)}},23024:(e,t,n)=>{"use strict";var r=n(20279),i=n(92885),o=n(1769),a=n(27368),s=n(47791),u=n(90319);function c(e,t,n){var o=t,c=r(o);if(null!=c||e&&(e===o||e.firstChild===o)||a(!1),e===o&&(o=o.firstChild,s(o)||a(!1),"true"!==(o=o).getAttribute("data-contents")&&a(!1),n>0&&(n=o.childNodes.length)),0===n){var f=null;if(null!=c)f=c;else{var d=function(e){for(;e.firstChild&&(s(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||i(e.firstChild));)e=e.firstChild;return e}(o);f=u(i(d))}return{key:f,offset:0}}var p=o.childNodes[n-1],h=null,g=null;if(i(p)){var v=function(e){for(;e.lastChild&&(s(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||i(e.lastChild));)e=e.lastChild;return e}(p);h=u(i(v)),g=l(v)}else h=u(c),g=l(p);return{key:h,offset:g}}function l(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,i,a,s){var l=n.nodeType===Node.TEXT_NODE,f=a.nodeType===Node.TEXT_NODE;if(l&&f)return{selectionState:o(e,u(r(n)),i,u(r(a)),s),needsRecovery:!1};var d=null,p=null,h=!0;return l?(d={key:u(r(n)),offset:i},p=c(t,a,s)):f?(p={key:u(r(a)),offset:s},d=c(t,n,i)):(d=c(t,n,i),p=c(t,a,s),n===a&&i===s&&(h=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:o(e,d.key,d.offset,p.key,p.offset),needsRecovery:h}}},66786:(e,t,n)=>{"use strict";var r=n(79619).notEmptyKey;function i(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),o=t.getAnchorOffset();return o>0?(n=e.getBlockForKey(r).getEntityAt(o-1))!==e.getBlockForKey(r).getEntityAt(o)?null:i(e.getEntityMap(),n):null}var a=t.getStartKey(),s=t.getStartOffset(),u=e.getBlockForKey(a);return n=s===u.getLength()?null:u.getEntityAt(s),i(e.getEntityMap(),n)}},35001:(e,t,n)=>{"use strict";var r=n(12087);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},61965:(e,t,n)=>{"use strict";var r=n(31168);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var o=t.get(i);o&&!o.getNextSiblingKey();){var a=o.getParentKey();o=a?t.get(a):null}return o?o.getNextSiblingKey():null}},79846:e=>{"use strict";e.exports=function(e){return Object.keys(e).map((function(t){return e[t]}))}},67527:(e,t,n)=>{"use strict";var r=n(17258);e.exports=function(e){var t=r(e),n=0,i=0,o=0,a=0;if(t.length){if(t.length>1&&0===t[0].width){var s=t[1];n=s.top,i=s.right,o=s.bottom,a=s.left}else{var u=t[0];n=u.top,i=u.right,o=u.bottom,a=u.left}for(var c=1;c<t.length;c++){var l=t[c];0!==l.height&&0!==l.width&&(n=Math.min(n,l.top),i=Math.max(i,l.right),o=Math.max(o,l.bottom),a=Math.min(a,l.left))}}return{top:n,right:i,bottom:o,left:a,width:i-a,height:o-n}}},17258:(e,t,n)=>{"use strict";var r=n(56356),i=n(27368),o=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var o=r===e.commonAncestorContainer;o?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var a,s=Array.from(t.getClientRects());if(n.push(s),o)return n.reverse(),(a=[]).concat.apply(a,n);t.setEndBefore(r)}i(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=o},95613:(e,t,n)=>{"use strict";var r=n(27368);e.exports=function(e,t){var n=[];return e.findEntityRanges((function(e){return e.getEntity()===t}),(function(e,t){n.push({start:e,end:t})})),n.length||r(!1),n}},76752:(e,t,n)=>{"use strict";var r=n(56356),i=n(27368),o=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!o&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},92885:(e,t,n)=>{"use strict";var r=n(47791);e.exports=function e(t){if(r(t)){var n=t,i=n.getAttribute("data-offset-key");if(i)return i;for(var o=0;o<n.childNodes.length;o++){var a=e(n.childNodes[o]);if(a)return a}}return null}},27452:(e,t,n)=>{"use strict";var r=n(27368),i=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,t){var a=0,s=[];e.forEach((function(u){!function(e,t){if(!n.g.FileReader||e.type&&!(e.type in o))t("");else{if(""===e.type){var a="";return i.test(e.name)&&(a=e.name.replace(i,"")),void t(a)}var s=new FileReader;s.onload=function(){var e=s.result;"string"!=typeof e&&r(!1),t(e)},s.onerror=function(){t("")},s.readAsText(e)}}(u,(function(n){a++,n&&s.push(n.slice(0,5e3)),a==e.length&&t(s.join("\r"))}))}))}},1769:(e,t,n)=>{"use strict";var r=n(52358),i=n(90319);e.exports=function(e,t,n,o,a){var s=i(e.getSelection());if(!t||!o)return s;var u=r.decode(t),c=u.blockKey,l=e.getBlockTree(c),f=l&&l.getIn([u.decoratorKey,"leaves",u.leafKey]),d=r.decode(o),p=d.blockKey,h=e.getBlockTree(p),g=h&&h.getIn([d.decoratorKey,"leaves",d.leafKey]);if(!f||!g)return s;var v=f.get("start"),m=g.get("start"),y=f?v+n:null,b=g?m+a:null;if(s.getAnchorKey()===c&&s.getAnchorOffset()===y&&s.getFocusKey()===p&&s.getFocusOffset()===b)return s;var w=!1;if(c===p){var _=f.get("end"),S=g.get("end");w=m===v&&S===_?a<n:m<v}else w=e.getCurrentContent().getBlockMap().keySeq().skipUntil((function(e){return e===c||e===p})).first()===p;return s.merge({anchorKey:c,anchorOffset:y,focusKey:p,focusOffset:b,isBackward:w})}},74393:(e,t,n)=>{"use strict";var r=n(67527);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),i=r(n),o=i.top,a=i.right,s=i.bottom,u=i.left;return 0===o&&0===a&&0===s&&0===u?null:i}},85775:e=>{"use strict";e.exports=function(e){return e.getRootNode&&e.getRootNode()?e.getRootNode():e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},78548:e=>{"use strict";e.exports=function(e){return!("undefined"==typeof window||!window.__DRAFT_GKX||!window.__DRAFT_GKX[e])}},83963:(e,t,n)=>{"use strict";var r=n(21626),i=n(31168),o=n(46670),a=n(87710),s=n(27368),u=n(81712),c=o.List,l=function(e,t,n,r,i,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",u=n.get(i),c=u.getText(),l=u.getCharacterList(),f=i,d=o+r.getText().length,p=null;switch(s){case"MERGE_OLD_DATA_TO_NEW_DATA":p=r.getData().merge(u.getData());break;case"REPLACE_WITH_NEW_DATA":p=r.getData()}var h=u.getType();c&&"unstyled"===h&&(h=r.getType());var g=u.merge({text:c.slice(0,o)+r.getText()+c.slice(o),characterList:a(l,r.getCharacterList(),o),type:h,data:p});return e.merge({blockMap:n.set(i,g),selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:d,focusKey:f,focusOffset:d,isBackward:!1})})},f=function(e,t,n,o,a,s){var u=n.first()instanceof i,l=[],f=o.size,d=n.get(a),p=o.first(),h=o.last(),g=h.getLength(),v=h.getKey(),m=u&&(!d.getChildKeys().isEmpty()||!p.getChildKeys().isEmpty());n.forEach((function(e,t){t===a?(m?l.push(e):l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.slice(0,t),a=i.slice(0,t),s=n.first();return e.merge({text:o+s.getText(),characterList:a.concat(s.getCharacterList()),type:o?e.getType():s.getType(),data:s.getData()})}(e,s,o)),o.slice(m?0:1,f-1).forEach((function(e){return l.push(e)})),l.push(function(e,t,n){var r=e.getText(),i=e.getCharacterList(),o=r.length,a=r.slice(t,o),s=i.slice(t,o),u=n.last();return u.merge({text:u.getText()+a,characterList:u.getCharacterList().concat(s),data:u.getData()})}(e,s,o))):l.push(e)}));var y=r.createFromArray(l);return u&&(y=function(e,t,n,r){return e.withMutations((function(t){var i=n.getKey(),o=r.getKey(),a=n.getNextSiblingKey(),s=n.getParentKey(),u=function(e,t){var n=e.getKey(),r=e,i=[];for(t.get(n)&&i.push(n);r&&r.getNextSiblingKey();){var o=r.getNextSiblingKey();if(!o)break;i.push(o),r=t.get(o)}return i}(r,e),l=u[u.length-1];if(t.get(o)?(t.setIn([i,"nextSibling"],o),t.setIn([o,"prevSibling"],i)):(t.setIn([i,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],i)),t.setIn([l,"nextSibling"],a),a&&t.setIn([a,"prevSibling"],l),u.forEach((function(e){return t.setIn([e,"parent"],s)})),s){var f=e.get(s).getChildKeys(),d=f.indexOf(i)+1,p=f.toArray();p.splice.apply(p,[d,0].concat(u)),t.setIn([s,"children"],c(p))}}))}(y,0,d,p)),e.merge({blockMap:y,selectionBefore:t,selectionAfter:t.merge({anchorKey:v,anchorOffset:g,focusKey:v,focusOffset:g,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||s(!1);var o=e.getBlockMap(),a=u(n),c=t.getStartKey(),d=t.getStartOffset(),p=o.get(c);return p instanceof i&&(p.getChildKeys().isEmpty()||s(!1)),1===a.size?l(e,t,o,a.first(),c,d,r):f(e,t,o,a,c,d)}},87710:e=>{"use strict";e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach((function(e){r=r.push(e)}));else if(0===n)t.reverse().forEach((function(e){r=r.unshift(e)}));else{var i=r.slice(0,n),o=r.slice(n);r=i.concat(t,o).toList()}return r}},5616:(e,t,n)=>{"use strict";var r=n(46670),i=n(87710),o=n(27368),a=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||o(!1);var s=null;if(null!=n&&(s=n.length),null==s||0===s)return e;var u=e.getBlockMap(),c=t.getStartKey(),l=t.getStartOffset(),f=u.get(c),d=f.getText(),p=f.merge({text:d.slice(0,l)+n+d.slice(l,f.getLength()),characterList:i(f.getCharacterList(),a(r,s).toList(),l)}),h=l+s;return e.merge({blockMap:u.set(c,p),selectionAfter:t.merge({anchorOffset:h,focusOffset:h})})}},47791:e=>{"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},22256:e=>{"use strict";e.exports=function(e){return"handled"===e||!0===e}},26513:(e,t,n)=>{"use strict";var r=n(47791);e.exports=function(e){return!(!e||!e.ownerDocument)&&r(e)&&"A"===e.nodeName}},58649:(e,t,n)=>{"use strict";var r=n(47791);e.exports=function(e){return!(!e||!e.ownerDocument)&&r(e)&&"BR"===e.nodeName}},38532:e=>{"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}},33729:(e,t,n)=>{"use strict";var r=n(47791);e.exports=function(e){return!(!e||!e.ownerDocument)&&r(e)&&"IMG"===e.nodeName}},80639:e=>{"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},38516:e=>{"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),i=t.getStartOffset(),o=!1;return r.some((function(e){return i===e.get("start")?(o=!0,!0):i<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return i===t&&(o=!0,!0)}))})),o}},79299:(e,t,n)=>{"use strict";var r=n(39914);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},65:(e,t,n)=>{"use strict";var r=n(7114),i=n(59425),o=n(23024),a=n(22038),s=n(22249);e.exports=function(e,t){var n=s(e,(function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return a(e,1);var r=t.currentTarget.getRootNode()??t.currentTarget.ownerDocument?.defaultView,s=(r.getSelection?r:t.currentTarget.ownerDocument?.defaultView).getSelection().getRangeAt(0);return s=i(s),o(e,null,s.endContainer,s.endOffset,s.startContainer,s.startOffset).selectionState}),"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},7428:(e,t,n)=>{"use strict";var r=n(14436),i=n(7114),o=n(22038),a=n(22249);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return o(e,1);var i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(0,n),s=r.getBackward(a);return o(e,s.length||1)}),"backward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},12488:(e,t,n)=>{"use strict";var r=n(14436),i=n(7114),o=n(27762),a=n(22249);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),i=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(i).getText().slice(n),s=r.getForward(a);return o(e,s.length||1)}),"forward");return t===e.getCurrentContent()?e:i.push(e,t,"remove-range")}},58125:(e,t,n)=>{"use strict";var r=n(31463),i=n(7114);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return i.push(e,t,"split-block")}},80178:(e,t,n)=>{"use strict";var r=n(7114);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),i=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:i,focusKey:n,focusOffset:i,isBackward:!1}),forceSelection:!0})}},49936:(e,t,n)=>{"use strict";var r=n(7114);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},55117:(e,t,n)=>{"use strict";var r=n(7114),i=n(14791),o=n(22038),a=n(22249);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a-1];return o(e,s?i.getUTF16Length(s,0):1)}),"backward");return t===e.getCurrentContent()?e:r.push(e,t,"remove-range")}},74831:(e,t,n)=>{"use strict";var r=n(7114),i=n(14791),o=n(27762),a=n(22249);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),s=n.getBlockForKey(r).getText()[a];return o(e,s?i.getUTF16Length(s,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},48484:(e,t,n)=>{"use strict";var r=n(31463),i=n(7114),o=n(12087);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,s,u=t.getAnchorKey(),c=e.getCurrentContent(),l=c.getBlockForKey(u).getLength();if(l<=1)return e;n===l?(a=t.set("anchorOffset",n-1),s=t):s=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var f=o(c,a),d=r.removeRange(c,a,"backward"),p=d.getSelectionAfter(),h=p.getAnchorOffset()-1,g=p.merge({anchorOffset:h,focusOffset:h}),v=r.replaceWithFragment(d,g,f),m=i.push(e,v,"insert-fragment");return i.acceptSelection(m,s)}},8134:(e,t,n)=>{"use strict";var r=n(7114);e.exports=function(e,t,n){var i=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(i)}),0)):n(i);else{var o=i.getCurrentContent();n(r.set(i,{nativelyRenderedContent:o}))}}},4842:(e,t,n)=>{"use strict";var r=n(46670).Map;e.exports=function(e,t,n){var i=t.getStartKey(),o=t.getEndKey(),a=e.getBlockMap(),s=a.toSeq().skipUntil((function(e,t){return t===i})).takeUntil((function(e,t){return t===o})).concat(r([[o,a.get(o)]])).map(n);return e.merge({blockMap:a.merge(s),selectionBefore:t,selectionAfter:t})}},9116:(e,t,n)=>{"use strict";var r=n(31168),i=n(61965),o=n(46670),a=n(27368),s=o.OrderedMap,u=o.List,c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t,n,r,i){if(!i)return e;var o="after"===r,a=t.getKey(),s=n.getKey(),l=t.getParentKey(),f=t.getNextSiblingKey(),d=t.getPrevSiblingKey(),p=n.getParentKey(),h=o?n.getNextSiblingKey():s,g=o?s:n.getPrevSiblingKey();return e.withMutations((function(e){c(l,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),c(d,e,(function(e){return e.merge({nextSibling:f})})),c(f,e,(function(e){return e.merge({prevSibling:d})})),c(h,e,(function(e){return e.merge({prevSibling:a})})),c(g,e,(function(e){return e.merge({nextSibling:a})})),c(p,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(s),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,a),e.merge({children:u(i)})})),c(a,e,(function(e){return e.merge({nextSibling:h,prevSibling:g,parent:p})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var u=n.getKey(),c=t.getKey();c===u&&a(!1);var f=e.getBlockMap(),d=t instanceof r,p=[t],h=f.delete(c);d&&(p=[],h=f.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===c})).takeWhile((function(e){var t=e.getKey(),i=t===c,o=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||a)})).forEach((function(t){p.push(t),e.delete(t.getKey())}))})));var g=h.toSeq().takeUntil((function(e){return e===n})),v=h.toSeq().skipUntil((function(e){return e===n})).skip(1),m=p.map((function(e){return[e.getKey(),e]})),y=s();if("before"===o){var b=e.getBlockBefore(u);b&&b.getKey()===t.getKey()&&a(!1),y=g.concat([].concat(m,[[u,n]]),v).toOrderedMap()}else if("after"===o){var w=e.getBlockAfter(u);w&&w.getKey()===c&&a(!1),y=g.concat([[u,n]].concat(m),v).toOrderedMap()}return e.merge({blockMap:l(y,t,n,o,d),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:c,focusKey:c})})}},22038:(e,t,n)=>{"use strict";n(91669),e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),i=n.getStartKey(),o=n.getStartOffset(),a=i,s=0;if(t>o){var u=r.getKeyBefore(i);null==u?a=i:(a=u,s=r.getBlockForKey(u).getText().length)}else s=o-t;return n.merge({focusKey:a,focusOffset:s,isBackward:!0})}},27762:(e,t,n)=>{"use strict";n(91669),e.exports=function(e,t){var n,r=e.getSelection(),i=r.getStartKey(),o=r.getStartOffset(),a=e.getCurrentContent(),s=i;return t>a.getBlockForKey(i).getText().length-o?(s=a.getKeyAfter(i),n=0):n=o+t,r.merge({focusKey:s,focusOffset:n})}},81712:(e,t,n)=>{"use strict";var r=n(31168),i=n(64692),o=n(46670).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return o(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),s=r.getNextSiblingKey(),u=r.getPrevSiblingKey(),c=r.getChildKeys(),l=r.getParentKey(),f=i();if(n[a]=f,s&&(e.get(s)?e.setIn([s,"prevSibling"],f):e.setIn([a,"nextSibling"],null)),u&&(e.get(u)?e.setIn([u,"nextSibling"],f):e.setIn([a,"prevSibling"],null)),l&&e.get(l)){var d=e.get(l).getChildKeys();e.setIn([l,"children"],d.set(d.indexOf(r.getKey()),f))}else e.setIn([a,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],f),e.setIn([a,"prevSibling"],n[t.getKey()])),t=e.get(a);c.forEach((function(t){e.get(t)?e.setIn([t,"parent"],f):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]})))}(e):function(e){return o(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},54753:(e,t,n)=>{"use strict";var r=n(91782),i=n(15031),o=n(27368);function a(e,t,n){var a=t.getCharacterList(),s=n>0?a.get(n-1):void 0,u=n<a.count()?a.get(n):void 0,c=s?s.getEntity():void 0,l=u?u.getEntity():void 0;if(l&&l===c&&"MUTABLE"!==e.__get(l).getMutability()){for(var f,d=function(e,t,n){var r;return i(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!=typeof r&&o(!1),r}(a,l,n),p=d.start,h=d.end;p<h;)f=a.get(p),a=a.set(p,r.applyEntity(f,null)),p++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),i={},o=t.getStartKey(),s=t.getStartOffset(),u=n.get(o),c=a(r,u,s);c!==u&&(i[o]=c);var l=t.getEndKey(),f=t.getEndOffset(),d=n.get(l);o===l&&(d=c);var p=a(r,d,f);return p!==d&&(i[l]=p),Object.keys(i).length?e.merge({blockMap:n.merge(i),selectionAfter:t}):e.set("selectionAfter",t)}},91249:(e,t,n)=>{"use strict";var r=n(31168),i=n(61965),o=n(46670),a=(o.List,o.Map),s=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},c=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r};e.exports=function(e,t){if(t.isCollapsed())return e;var n,o=e.getBlockMap(),f=t.getStartKey(),d=t.getStartOffset(),p=t.getEndKey(),h=t.getEndOffset(),g=o.get(f),v=o.get(p),m=g instanceof r,y=[];if(m){var b=v.getChildKeys(),w=u(p,o);v.getNextSiblingKey()&&(y=y.concat(w)),b.isEmpty()||(y=y.concat(w.concat([p]))),y=y.concat(u(i(v,o),o))}n=g===v?function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e}(g.getCharacterList(),d,h):g.getCharacterList().slice(0,d).concat(v.getCharacterList().slice(h));var _=g.merge({text:g.getText().slice(0,d)+v.getText().slice(h),characterList:n}),S=m&&0===d&&0===h&&v.getParentKey()===f&&null==v.getPrevSiblingKey()?a([[f,null]]):o.toSeq().skipUntil((function(e,t){return t===f})).takeUntil((function(e,t){return t===p})).filter((function(e,t){return-1===y.indexOf(t)})).concat(a([[p,null]])).map((function(e,t){return t===f?_:null})),E=o.merge(S).filter((function(e){return!!e}));return m&&g!==v&&(E=function(e,t,n,r){return e.withMutations((function(o){if(s(t.getKey(),o,(function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:l(e,o,r)})})),s(n.getKey(),o,(function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:l(e,o,r)})})),u(t.getKey(),r).forEach((function(e){return s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:c(e,o,r),prevSibling:l(e,o,r)})}))})),s(t.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),s(t.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:c(e,o,r)})})),s(n.getNextSiblingKey(),o,(function(e){return e.merge({prevSibling:l(e,o,r)})})),s(n.getPrevSiblingKey(),o,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),u(n.getKey(),r).forEach((function(e){s(e,o,(function(e){return e.merge({children:e.getChildKeys().filter((function(e){return o.get(e)})),nextSibling:c(e,o,r),prevSibling:l(e,o,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(e){return s(e,o,(function(e){return e.merge({nextSibling:c(e,o,r),prevSibling:l(e,o,r)})}))})),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var a=t.getPrevSiblingKey();s(n.getKey(),o,(function(e){return e.merge({prevSibling:a})})),s(a,o,(function(e){return e.merge({nextSibling:n.getKey()})}));var f=a?e.get(a):null,d=f?f.getParentKey():null;if(t.getChildKeys().forEach((function(e){s(e,o,(function(e){return e.merge({parent:d})}))})),null!=d){var p=e.get(d);s(d,o,(function(e){return e.merge({children:p.getChildKeys().concat(t.getChildKeys())})}))}s(t.getChildKeys().find((function(t){return null===e.get(t).getNextSiblingKey()})),o,(function(e){return e.merge({nextSibling:t.getNextSiblingKey()})}))}}))}(E,g,v,o)),e.merge({blockMap:E,selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:d,focusKey:f,focusOffset:d,isBackward:!1})})}},22249:(e,t,n)=>{"use strict";var r=n(31463),i=n(78548)("draft_tree_data_support");e.exports=function(e,t,n){var o=e.getSelection(),a=e.getCurrentContent(),s=o,u=o.getAnchorKey(),c=o.getFocusKey(),l=a.getBlockForKey(u);if(i&&"forward"===n&&u!==c)return a;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return a;if(i&&o.getAnchorOffset()===a.getBlockForKey(u).getLength()){var f=a.getBlockForKey(l.nextSibling);if(!f||0===f.getLength())return a}}else if(e.isSelectionAtStartOfContent())return a;if((s=t(e))===o)return a}return r.removeRange(a,s,n)}},63423:e=>{"use strict";var t=new RegExp("\r","g");e.exports=function(e){return e.replace(t,"")}},30238:(e,t,n)=>{"use strict";var r=n(69346),i=n(86268),o=n(56356),a=n(31147),s=n(20565),u=n(86190),c=n(27368),l=n(47791),f=o.isBrowser("IE");function d(e,t){if(!e)return"[empty]";var n=p(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(l(n)||c(!1),n.outerHTML)}function p(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return u(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var i=e.cloneNode();1===i.nodeType&&n.length&&i.setAttribute("data-labels",n.join(", "));for(var o=e.childNodes,a=0;a<o.length;a++)i.appendChild(p(o[a],t));return i}function h(e,t){for(var n=e,r=n;n;){if(l(n)&&r.hasAttribute("contenteditable"))return d(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function g(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function v(e,t,n,r){var o=s();if(e.extend&&null!=t&&a(o,t)){n>g(t)&&i.logSelectionStateFailure({anonymizedDom:h(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var u=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(a){throw i.logSelectionStateFailure({anonymizedDom:h(t,(function(t){var n=[];return t===o&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:o?o.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:u,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:a?""+a:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),a}}else if(t&&e.rangeCount>0){var c=e.getRangeAt(0);c.setEnd(t,n),e.addRange(c.cloneRange())}}function m(e,t,n,o){var a=u(t).createRange();if(n>g(t)&&(i.logSelectionStateFailure({anonymizedDom:h(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),r.handleExtensionCausedError()),a.setStart(t,n),f)try{e.addRange(a)}catch(e){}else e.addRange(a)}e.exports={setDraftEditorSelection:function(e,t,n,r,i){var o=u(t),s=t.getRootNode(),c=s instanceof ShadowRoot&&s.getSelection,l=c?t.getRootNode():o.documentElement;if(a(l,t)){var f=c?t.getRootNode().getSelection():o.defaultView.getSelection(),d=e.getAnchorKey(),p=e.getAnchorOffset(),h=e.getFocusKey(),g=e.getFocusOffset(),y=e.getIsBackward();if(!f.extend&&y){var b=d,w=p;d=h,p=g,h=b,g=w,y=!1}var _=d===n&&r<=p&&i>=p,S=h===n&&r<=g&&i>=g;if(_&&S)return f.removeAllRanges(),m(f,t,p-r,e),void v(f,t,g-r,e);if(y){if(S&&(f.removeAllRanges(),m(f,t,g-r,e)),_){var E=f.focusNode,k=f.focusOffset;f.removeAllRanges(),m(f,t,p-r,e),v(f,E,k,e)}}else _&&(f.removeAllRanges(),m(f,t,p-r,e)),S&&v(f,t,g-r,e)}},addFocusToSelection:v}},59289:(e,t,n)=>{"use strict";var r=n(31168),i=n(64692),o=n(46670),a=n(27368),s=n(4842),u=o.List,c=o.Map,l=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=e.getBlockMap(),f=o.get(n),d=f.getText();if(!d){var p=f.getType();if("unordered-list-item"===p||"ordered-list-item"===p)return s(e,t,(function(e){return e.merge({type:"unstyled",depth:0})}))}var h=t.getAnchorOffset(),g=f.getCharacterList(),v=i(),m=f instanceof r,y=f.merge({text:d.slice(0,h),characterList:g.slice(0,h)}),b=y.merge({key:v,text:d.slice(h),characterList:g.slice(h),data:c()}),w=o.toSeq().takeUntil((function(e){return e===f})),_=o.toSeq().skipUntil((function(e){return e===f})).rest(),S=w.concat([[n,y],[v,b]],_).toOrderedMap();return m&&(f.getChildKeys().isEmpty()||a(!1),S=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),i=n.getKey();l(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,o=t.toArray();return o.splice(n,0,i),e.merge({children:u(o)})})),l(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:i})})),l(r,e,(function(e){return e.merge({nextSibling:i})})),l(i,e,(function(e){return e.merge({prevSibling:r})}))}))}(S,y,b)),e.merge({blockMap:S,selectionBefore:t,selectionAfter:t.merge({anchorKey:v,anchorOffset:0,focusKey:v,focusOffset:0,isBackward:!1})})}},4934:e=>{"use strict";var t=/\r\n?|\n/g;e.exports=function(e){return e.split(t)}},20727:e=>{"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}},69232:(e,t,n)=>{"use strict";var r=n(76544),i=n(44784),o=n(81007),a=new RegExp("\r\n","g"),s={"text/rtf":1,"text/html":1};function u(e){if("file"==e.kind)return e.getAsFile()}var c=function(){function e(e){this.data=e,this.types=e.types?i(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some((function(e){return s[e]}))},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(a,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some((function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")}))},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some((function(e){return-1!=e.indexOf("application/x-moz-file")}));if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var i=t[n].type;if(!r.isImage(i))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(u).filter(o.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=c},39914:e=>{"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},76544:e=>{"use strict";var t={isImage:function(e){return"image"===n(e)[0]},isJpeg:function(e){var r=n(e);return t.isImage(e)&&("jpeg"===r[1]||"pjpeg"===r[1])}};function n(e){return e.split("/")}e.exports=t},64239:e=>{"use strict";function t(e,t){return!!t&&(e===t.documentElement||e===t.body)}var n={getTop:function(e){var n=e.ownerDocument;return t(e,n)?n.body.scrollTop||n.documentElement.scrollTop:e.scrollTop},setTop:function(e,n){var r=e.ownerDocument;t(e,r)?r.body.scrollTop=r.documentElement.scrollTop=n:e.scrollTop=n},getLeft:function(e){var n=e.ownerDocument;return t(e,n)?n.body.scrollLeft||n.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,n){var r=e.ownerDocument;t(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=n:e.scrollLeft=n}};e.exports=n},7751:(e,t,n)=>{"use strict";function r(e,t){var n=i.get(e,t);return"auto"===n||"scroll"===n}var i={get:n(7450),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=i},67380:e=>{"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;・、。〈-】〔-〟：-？！-／［-｀｛-･⸮؟٪-٬؛،؍﴾﴿᠁।၊။‐-‧‰-⁞¡-±´-¸º»¿]"}}},19777:e=>{"use strict";var t=function(){function e(e){var t,n;n=void 0,(t="_uri")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this._uri=n,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=t},58493:(e,t,n)=>{"use strict";var r=n(63555),i=n(27368),o="֐־׀׃׆׈-׏א-ת׫-ׯװ-ײ׳-״׵-׿߀-߉ߊ-ߪߴ-ߵߺ߻-߿ࠀ-ࠕࠚࠤࠨ࠮-࠯࠰-࠾࠿ࡀ-ࡘ࡜-࡝࡞࡟-࢟‏יִײַ-ﬨשׁ-זּ﬷טּ-לּ﬽מּ﬿נּ-סּ﭂ףּ-פּ﭅צּ-ﭏ",a="؈؋؍؛؜؝؞-؟ؠ-ؿـف-ي٭ٮ-ٯٱ-ۓ۔ەۥ-ۦۮ-ۯۺ-ۼ۽-۾ۿ܀-܍܎܏ܐܒ-ܯ݋-݌ݍ-ޥޱ޲-޿ࢠ-ࢲࢳ-ࣣﭐ-ﮱ﮲-﯁﯂-﯒ﯓ-ﴽ﵀-﵏ﵐ-ﶏ﶐-﶑ﶒ-ﷇ﷈-﷏ﷰ-ﷻ﷼﷾-﷿ﹰ-ﹴ﹵ﹶ-ﻼ﻽-﻾",s=new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ƺƻƼ-ƿǀ-ǃǄ-ʓʔʕ-ʯʰ-ʸʻ-ˁː-ˑˠ-ˤˮͰ-ͳͶ-ͷͺͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҂Ҋ-ԯԱ-Ֆՙ՚-՟ա-և։ःऄ-हऻऽा-ीॉ-ौॎ-ॏॐक़-ॡ।-॥०-९॰ॱॲ-ঀং-ঃঅ-ঌএ-ঐও-নপ-রলশ-হঽা-ীে-ৈো-ৌৎৗড়-ঢ়য়-ৡ০-৯ৰ-ৱ৴-৹৺ਃਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਾ-ੀਖ਼-ੜਫ਼੦-੯ੲ-ੴઃઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽા-ીૉો-ૌૐૠ-ૡ૦-૯૰ଂ-ଃଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽାୀେ-ୈୋ-ୌୗଡ଼-ଢ଼ୟ-ୡ୦-୯୰ୱ୲-୷ஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹா-ிு-ூெ-ைொ-ௌௐௗ௦-௯௰-௲ఁ-ఃఅ-ఌఎ-ఐఒ-నప-హఽు-ౄౘ-ౙౠ-ౡ౦-౯౿ಂ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽಾಿೀ-ೄೆೇ-ೈೊ-ೋೕ-ೖೞೠ-ೡ೦-೯ೱ-ೲം-ഃഅ-ഌഎ-ഐഒ-ഺഽാ-ീെ-ൈൊ-ൌൎൗൠ-ൡ൦-൯൰-൵൹ൺ-ൿං-ඃඅ-ඖක-නඳ-රලව-ෆා-ෑෘ-ෟ෦-෯ෲ-ෳ෴ก-ะา-ำเ-ๅๆ๏๐-๙๚-๛ກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆ໐-໙ໜ-ໟༀ༁-༃༄-༒༓༔༕-༗༚-༟༠-༩༪-༳༴༶༸༾-༿ཀ-ཇཉ-ཬཿ྅ྈ-ྌ྾-࿅࿇-࿌࿎-࿏࿐-࿔࿕-࿘࿙-࿚က-ဪါ-ာေးျ-ြဿ၀-၉၊-၏ၐ-ၕၖ-ၗၚ-ၝၡၢ-ၤၥ-ၦၧ-ၭၮ-ၰၵ-ႁႃ-ႄႇ-ႌႎႏ႐-႙ႚ-ႜ႞-႟Ⴀ-ჅჇჍა-ჺ჻ჼჽ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፠-፨፩-፼ᎀ-ᎏᎠ-Ᏼᐁ-ᙬ᙭-᙮ᙯ-ᙿᚁ-ᚚᚠ-ᛪ᛫-᛭ᛮ-ᛰᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱ᜵-᜶ᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳាើ-ៅះ-ៈ។-៖ៗ៘-៚ៜ០-៩᠐-᠙ᠠ-ᡂᡃᡄ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᤣ-ᤦᤩ-ᤫᤰ-ᤱᤳ-ᤸ᥆-᥏ᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧀᧁ-ᧇᧈ-ᧉ᧐-᧙᧚ᨀ-ᨖᨙ-ᨚ᨞-᨟ᨠ-ᩔᩕᩗᩡᩣ-ᩤᩭ-ᩲ᪀-᪉᪐-᪙᪠-᪦ᪧ᪨-᪭ᬄᬅ-ᬳᬵᬻᬽ-ᭁᭃ-᭄ᭅ-ᭋ᭐-᭙᭚-᭠᭡-᭪᭴-᭼ᮂᮃ-ᮠᮡᮦ-ᮧ᮪ᮮ-ᮯ᮰-᮹ᮺ-ᯥᯧᯪ-ᯬᯮ᯲-᯳᯼-᯿ᰀ-ᰣᰤ-ᰫᰴ-ᰵ᰻-᰿᱀-᱉ᱍ-ᱏ᱐-᱙ᱚ-ᱷᱸ-ᱽ᱾-᱿᳀-᳇᳓᳡ᳩ-ᳬᳮ-ᳱᳲ-ᳳᳵ-ᳶᴀ-ᴫᴬ-ᵪᵫ-ᵷᵸᵹ-ᶚᶛ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‎ⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℵ-ℸℹℼ-ℿⅅ-ⅉⅎ⅏Ⅰ-ↂↃ-ↄↅ-ↈ⌶-⍺⎕⒜-ⓩ⚬⠀-⣿Ⰰ-Ⱞⰰ-ⱞⱠ-ⱻⱼ-ⱽⱾ-ⳤⳫ-ⳮⳲ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵰ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々〆〇〡-〩〮-〯〱-〵〸-〺〻〼ぁ-ゖゝ-ゞゟァ-ヺー-ヾヿㄅ-ㄭㄱ-ㆎ㆐-㆑㆒-㆕㆖-㆟ㆠ-ㆺㇰ-ㇿ㈀-㈜㈠-㈩㈪-㉇㉈-㉏㉠-㉻㉿㊀-㊉㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾㐀-䶵一-鿌ꀀ-ꀔꀕꀖ-ꒌꓐ-ꓷꓸ-ꓽ꓾-꓿ꔀ-ꘋꘌꘐ-ꘟ꘠-꘩ꘪ-ꘫꙀ-ꙭꙮꚀ-ꚛꚜ-ꚝꚠ-ꛥꛦ-ꛯ꛲-꛷Ꜣ-ꝯꝰꝱ-ꞇ꞉-꞊Ꞌ-ꞎꞐ-ꞭꞰ-Ʇꟷꟸ-ꟹꟺꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꠣ-ꠤꠧ꠰-꠵꠶-꠷ꡀ-ꡳꢀ-ꢁꢂ-ꢳꢴ-ꣃ꣎-꣏꣐-꣙ꣲ-ꣷ꣸-꣺ꣻ꤀-꤉ꤊ-ꤥ꤮-꤯ꤰ-ꥆꥒ-꥓꥟ꥠ-ꥼꦃꦄ-ꦲꦴ-ꦵꦺ-ꦻꦽ-꧀꧁-꧍ꧏ꧐-꧙꧞-꧟ꧠ-ꧤꧦꧧ-ꧯ꧰-꧹ꧺ-ꧾꨀ-ꨨꨯ-ꨰꨳ-ꨴꩀ-ꩂꩄ-ꩋꩍ꩐-꩙꩜-꩟ꩠ-ꩯꩰꩱ-ꩶ꩷-꩹ꩺꩻꩽꩾ-ꪯꪱꪵ-ꪶꪹ-ꪽꫀꫂꫛ-ꫜꫝ꫞-꫟ꫠ-ꫪꫫꫮ-ꫯ꫰-꫱ꫲꫳ-ꫴꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚ꭛ꭜ-ꭟꭤ-ꭥꯀ-ꯢꯣ-ꯤꯦ-ꯧꯩ-ꯪ꯫꯬꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ-豈-舘並-龎ﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚｦ-ｯｰｱ-ﾝﾞ-ﾟﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+o+a+"]"),u=new RegExp("["+o+a+"]");function c(e){var t=s.exec(e);return null==t?null:t[0]}function l(e){var t=c(e);return null==t?r.NEUTRAL:u.exec(t)?r.RTL:r.LTR}function f(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=l(e);return n===r.NEUTRAL?t:n}function d(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||i(!1),f(e,t)}var p={firstStrongChar:c,firstStrongCharDir:l,resolveBlockDir:f,getDirection:d,isDirectionLTR:function(e,t){return d(e,t)===r.LTR},isDirectionRTL:function(e,t){return d(e,t)===r.RTL}};e.exports=p},63555:(e,t,n)=>{"use strict";var r=n(27368),i="LTR",o=null;function a(e){return e===i||"RTL"===e}function s(e){return a(e)||r(!1),e===i?"ltr":"rtl"}function u(e){o=e}var c={NEUTRAL:"NEUTRAL",LTR:i,RTL:"RTL",isStrong:a,getHTMLDir:s,getHTMLDirIfDifferent:function(e,t){return a(e)||r(!1),a(t)||r(!1),e===t?null:s(e)},setGlobalDir:u,initGlobalDir:function(){u(i)},getGlobalDir:function(){return o||this.initGlobalDir(),o||r(!1),o}};e.exports=c},83070:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(58493),o=n(63555),a=n(27368),s=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?o.isStrong(e)||a(!1):e=o.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=i.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=s},14791:(e,t,n)=>{"use strict";var r=n(27368),i=/[\uD800-\uDFFF]/;function o(e){return 55296<=e&&e<=57343}function a(e){return i.test(e)}function s(e,t){return 1+o(e.charCodeAt(t))}function u(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!a(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var i=0;if(t>0){for(;t>0&&i<r;t--)i+=s(e,i);if(i>=r)return""}else if(t<0){for(i=r;t<0&&0<i;t++)i-=s(e,i-1);i<0&&(i=0)}var o=r;if(n<r)for(o=i;n>0&&o<r;n--)o+=s(e,o);return e.substring(i,o)}var c={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=s(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:s,hasSurrogateUnit:a,isCodeUnitInSurrogateRange:o,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),i=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=i&&i<=57343},strlen:function(e){if(!a(e))return e.length;for(var t=0,n=0;n<e.length;n+=s(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return u(e,t=t<n?t:n,r)},substr:u};e.exports=c},56356:(e,t,n)=>{"use strict";var r=n(92237),i=n(19729),o=n(64930),a=n(41409);function s(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var o=n.slice(e.length);return!!t&&(o=r?r(o):o,i.contains(o,t))}function u(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var c={isBrowser:function(e){return s(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return s(r.browserArchitecture,null,e)},isDevice:function(e){return s(r.deviceName,null,e)},isEngine:function(e){return s(r.engineName,r.engineVersion,e)},isPlatform:function(e){return s(r.platformName,r.platformFullVersion,e,u)},isPlatformArchitecture:function(e){return s(r.platformArchitecture,null,e)}};e.exports=o(c,a)},92237:(e,t,n)=>{"use strict";var r,i="Unknown",o=(new(n(46353))).getResult(),a=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(o.browser.version),s={browserArchitecture:o.cpu.architecture||i,browserFullVersion:o.browser.version||i,browserMinorVersion:a.minor||i,browserName:o.browser.name||i,browserVersion:o.browser.major||i,deviceName:o.device.model||i,engineName:o.engine.name||i,engineVersion:o.engine.version||i,platformArchitecture:o.cpu.architecture||i,platformName:(r=o.os.name,{"Mac OS":"Mac OS X"}[r]||r||i),platformVersion:o.os.version||i,platformFullVersion:o.os.version||i};e.exports=s},19729:(e,t,n)=>{"use strict";var r=n(27368),i=/\./,o=/\|\|/,a=/\s+\-\s+/,s=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,u=/^(\d*)(.*)/;function c(e,t){if(""===(e=e.trim()))return!0;var n,r=t.split(i),o=d(e),a=o.modifier,s=o.rangeComponents;switch(a){case"<":return l(r,s);case"<=":return-1===(n=y(r,s))||0===n;case">=":return f(r,s);case">":return 1===y(r,s);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var i=r.length-1,o=parseInt(r[i],10);return p(o)&&(r[i]=o+1+""),f(e,n)&&l(e,r)}(r,s);default:return function(e,t){return 0===y(e,t)}(r,s)}}function l(e,t){return-1===y(e,t)}function f(e,t){var n=y(e,t);return 1===n||0===n}function d(e){var t=e.split(i),n=t[0].match(s);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function p(e){return!isNaN(e)&&isFinite(e)}function h(e){return!d(e).modifier}function g(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function v(e,t){var n=e.match(u)[1],r=t.match(u)[1],i=parseInt(n,10),o=parseInt(r,10);return p(i)&&p(o)&&i!==o?m(i,o):m(e,t)}function m(e,t){return typeof e!=typeof t&&r(!1),e>t?1:e<t?-1:0}function y(e,t){for(var n=function(e,t){g(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var i=n;i<e.length;i++)e[i]="0"}return g(t,e.length),[e,t]}(e,t),r=n[0],i=n[1],o=0;o<i.length;o++){var a=v(r[o],i[o]);if(a)return a}return 0}var b={contains:function(e,t){return function(e,t){var n=e.split(o);return n.length>1?n.some((function(e){return b.contains(e,t)})):function(e,t){var n=e.split(a);if(n.length>0&&n.length<=2||r(!1),1===n.length)return c(n[0],t);var i=n[0],o=n[1];return h(i)&&h(o)||r(!1),c(">="+i,t)&&c("<="+o,t)}(e=n[0].trim(),t)}(e.trim(),t.trim())}};e.exports=b},89737:e=>{"use strict";var t=/-(.)/g;e.exports=function(e){return e.replace(t,(function(e,t){return t.toUpperCase()}))}},31147:(e,t,n)=>{"use strict";var r=n(69493);function i(e){return e instanceof ShadowRoot?e:e.parentNode?i(e.parentNode):null}e.exports=function e(t,n){if(t&&n){if(t===n)return!0;if(r(t))return!1;if(r(n))return e(t,n.parentNode);if("contains"in t){var o=i(n);return o&&t.contains(o.host)?o.contains(n):t.contains(n)}return!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))}return!1}},44784:(e,t,n)=>{"use strict";var r=n(27368);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}(e):[e]}},70336:e=>{"use strict";function t(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter((function(t){return e[t]})).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}},81007:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},20565:e=>{"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{var t=e.activeElement||e.body;return t&&t.shadowRoot?t.shadowRoot.activeElement:t}catch(t){return e.body}}},62847:e=>{"use strict";var t="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:t||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},67232:(e,t,n)=>{"use strict";var r=n(30001);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},30001:(e,t,n)=>{"use strict";var r=n(31147);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},59170:(e,t,n)=>{"use strict";var r=n(62847),i=n(52938);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=i(e),o=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-o.clientWidth,s=e.scrollHeight-o.clientHeight;return n.x=Math.max(0,Math.min(n.x,a)),n.y=Math.max(0,Math.min(n.y,s)),n}},7450:(e,t,n)=>{"use strict";var r=n(89737),i=n(62682);function o(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return o(n.getPropertyValue(i(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return o(n.getPropertyValue(i(t)));if("display"===t)return"none"}return e.currentStyle?o("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):o(e.style&&e.style[r(t)])}},52938:e=>{"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},22496:e=>{"use strict";function t(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function n(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function r(){return{width:window.innerWidth||t(),height:window.innerHeight||n()}}r.withoutScrollbars=function(){return{width:t(),height:n()}},e.exports=r},62682:e=>{"use strict";var t=/([A-Z])/g;e.exports=function(e){return e.replace(t,"-$1").toLowerCase()}},27368:e=>{"use strict";e.exports=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return String(r[a++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},40014:e=>{"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},69493:(e,t,n)=>{"use strict";var r=n(40014);e.exports=function(e){return r(e)&&3==e.nodeType}},55050:e=>{"use strict";e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var i=arguments[r];i&&(t=(t?t+" ":"")+i)}return t}},64930:e=>{"use strict";var t=Object.prototype.hasOwnProperty;e.exports=function(e,n,r){if(!e)return null;var i={};for(var o in e)t.call(e,o)&&(i[o]=n.call(r,e[o],o,e));return i}},41409:e=>{"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},90319:e=>{"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},4361:(e,t,n)=>{"use strict";n(66985),e.exports=n.g.setImmediate},91669:(e,t,n)=>{"use strict";var r=n(81007);e.exports=r},95231:(e,t,n)=>{"use strict";n.d(t,{v:()=>v});var r=n(84386),i=n(87143),o=n(10648),a=n(38179),s=n(53623),u=n(10823);const c=(0,r.Q)(i.M.Test)?"TEST":void 0,l=(0,o.J)(i.q.Development),f=(0,o.J)(i.q.Staging),d=(0,o.J)(i.q.Preview),p=(0,o.J)(i.q.Production),h=(0,a._)(a.Y.Chrome),g=(0,a._)(a.Y.Firefox),v={EXT_VERSION:(0,u.P)(),DASH_WELCOME_URL:"https://jam.dev/welcome?ref=extension",BROWSER_BUILD:(0,s.Z)("MISSING_ENV_VAR".BROWSER_BUILD,"chrome"),IN_CHROME_BUILD:h,IN_FIREFOX_BUILD:g,ENV:(0,s.Z)("production",c),IS_DEV:l,IS_STAGING:f,IS_PREVIEW:d,IS_PRODUCTION:p,GRAPHQL_URL:(0,s.Z)("https://graphql.jam.dev/graphql",c),GRAPHQL_URL_WS:(0,s.Z)("wss://graphql.jam.dev/graphql",c),DASH_URL:(0,s.Z)("https://jam.dev",c),DATADOG_CLIENT_TOKEN:"pubcf40b29020e52aed8ee66a6b7be21795",DATADOG_SERVICE:(0,s.Z)("chrome-extension","extension"),DATADOG_VERSION:(0,s.Z)("c27e6a501149f489d85fc7fd9a9bb64131b0b09e",""),DISABLE_ORIGIN_BLOCKING:!p&&!c};if((0,r.Q)(i.M.Test))try{window.config=v}catch(e){globalThis.config=v}},10823:(e,t,n)=>{"use strict";function r(){try{return n(72565).runtime.getManifest().version}catch{return"unknown"}}n.d(t,{P:()=>r})},9292:(e,t,n)=>{"use strict";n.d(t,{Component:()=>a.Component,ContentScripts:()=>a.ContentScripts,HostScripts:()=>a.HostScripts,getEventBusSingleton:()=>a.getEventBusSingleton,getMessageBrokerSingleton:()=>a.getMessageBrokerSingleton});var r=n(79336);n.o(r,"Component")&&n.d(t,{Component:function(){return r.Component}}),n.o(r,"ContentScripts")&&n.d(t,{ContentScripts:function(){return r.ContentScripts}}),n.o(r,"HostScripts")&&n.d(t,{HostScripts:function(){return r.HostScripts}}),n.o(r,"getEventBusSingleton")&&n.d(t,{getEventBusSingleton:function(){return r.getEventBusSingleton}}),n.o(r,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return r.getMessageBrokerSingleton}});var i=n(86602);n.o(i,"Component")&&n.d(t,{Component:function(){return i.Component}}),n.o(i,"ContentScripts")&&n.d(t,{ContentScripts:function(){return i.ContentScripts}}),n.o(i,"HostScripts")&&n.d(t,{HostScripts:function(){return i.HostScripts}}),n.o(i,"getEventBusSingleton")&&n.d(t,{getEventBusSingleton:function(){return i.getEventBusSingleton}}),n.o(i,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return i.getMessageBrokerSingleton}});var o=n(19201);n.o(o,"Component")&&n.d(t,{Component:function(){return o.Component}}),n.o(o,"ContentScripts")&&n.d(t,{ContentScripts:function(){return o.ContentScripts}}),n.o(o,"HostScripts")&&n.d(t,{HostScripts:function(){return o.HostScripts}}),n.o(o,"getEventBusSingleton")&&n.d(t,{getEventBusSingleton:function(){return o.getEventBusSingleton}}),n.o(o,"getMessageBrokerSingleton")&&n.d(t,{getMessageBrokerSingleton:function(){return o.getMessageBrokerSingleton}});var a=n(11552)},22955:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,k:()=>c});var r=n(13005),i=n(72153);function o(e){r.fy.logger.setHandler(e)}let a=!n(95231).v.IS_PRODUCTION;function s(e){a=e}function u(){return a}try{window.setJamLogging=s}catch(e){globalThis.setJamLogging=s}try{window.getJamLogging=u}catch(e){globalThis.getJamLogging=u}const c={sample(e,t,...n){if((0,i.U)((()=>{l(e,n)}),t),f(n)){const t=[...n,r.fy.getLoggerGlobalContext()];console[e](...t)}},log:(...e)=>{f(e)&&console.log(...e)},warn:(...e)=>{if(f(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.warn(...t)}l("warn",e)},error:(...e)=>{if(f(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.error(...t)}l("error",e)},info:(...e)=>{if(f(e)){const t=[...e,r.fy.getLoggerGlobalContext()];console.info(...t)}l("info",e)},debug:(...e)=>{f(e)&&console.debug(...e)},group:(...e)=>{f(e)&&console.group(...e)},groupCollapsed:(...e)=>{f(e)&&console.group(...e)},groupEnd:(...e)=>{f(e)&&console.groupEnd(...e)}};function l(e,t){const n=(t,n)=>r.fy.logger[e](t,n);if("string"==typeof t[0]){if(1===t.length)return void n(t[0]);if(2===t.length&&("object"==typeof t[1]||void 0===t[1])&&null!==t[1])return void n(t[0],t[1])}n(JSON.stringify(t))}function f(e){return a&&function(e){try{if(!("localStorage"in globalThis)||!globalThis.localStorage.debug)return!0}catch(e){return!0}if("string"!=typeof e[0]||"string"!=typeof globalThis.localStorage.debug)return!0;const t=e[0],n=globalThis.localStorage.debug.replace("*",".*");return new RegExp("^"+n).test(t)}(e)}},43942:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(72484),i=n(71225),o=n(10648),a=n(87143),s=n(42203),u=n(15464),c=n(51762);class l{constructor(e){this.eventHandlers=new Map,this.history=[],this.historySize=500,this.address=e.address,this.onErrorHandler=e.onError,this.datagramLayer=new u.u({address:e.address,canForward:e.canForward,receiveDataHandler:this.receiveDataHandler.bind(this),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers})}receiveDataHandler(e,t,n){if(!(0,s.d)(e))return;this.addToHistory({data:e,src:t,dest:n,timestamp:Date.now()});const i=this.eventHandlers.get(e.eventName);i&&i.forEach((i=>{try{i(e.data,{src:t,dest:n})}catch(e){this.onErrorHandler(new r.Lw({message:"Unhandled handler error"},e))}}))}on(e,t){const n=this.eventHandlers.get(e)??[];this.eventHandlers.set(e,n.concat(t))}off(e,t){const{eventHandlers:n}=this,r=(n.get(e)??[]).filter((e=>e!==t));0===r.length?n.delete(e):n.set(e,r)}emit(e){const{eventName:t,payload:n,timeout:o=5*i.X.Second}=e,a={component:c.wA.All};return this.addToHistory({data:{eventName:t,payload:n},src:this.address,dest:a,timestamp:Date.now()}),this.eventHandlers.get(t)?.forEach((e=>{try{e(n,{src:this.address,dest:a})}catch(e){this.onErrorHandler(new r.Lw({message:"Unhandled handler error"},e))}})),this.datagramLayer.sendData({applicationType:"bus",eventName:t,data:n},a,{timeout:o,canUseUrl:!1})}destruct(){this.datagramLayer.disconnect(),this.eventHandlers.clear()}addToHistory(e){if((0,o.J)(a.q.Production)){const t={...e};delete t.data,this.history.push(t)}else this.history.push(e);this.history.length>this.historySize&&this.history.shift()}}},42203:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(32352);function i(e){return!!(0,r.f)(e)&&"bus"===e.applicationType&&"eventName"in e&&"data"in e}},15464:(e,t,n)=>{"use strict";n.d(t,{u:()=>z});class r{constructor(){this.innerMap=new Map}clearExistingTimeout(e){const t=this.innerMap.get(e);t?.timeout&&clearTimeout(t.timeout)}set(e,t,n){this.clearExistingTimeout(e),this.innerMap.set(e,{value:t,timeout:setTimeout((()=>this.innerMap.delete(e)),n)})}get(e){return this.innerMap.get(e)?.value}delete(e){return this.innerMap.delete(e)}}var i=n(79556),o=n(47542);const a=2*o.d.Byte,s=1500*a,u=128*o.d.Megabyte/2-2-s;function c(e,t){let n=0;for(const r of e)if(n+=l(r),n>=t)return!1;return n<t}function l(e){return 34===(t=e.charCodeAt(0))||92==t?2*a:Math.max(Math.floor(Math.log2(t+1))-6,1)*a;var t}var f=(e=>(e.Single="Single",e.Url="Url",e.Chunked="Chunked",e))(f||{}),d=(e=>(e.Head="Head",e.Body="Body",e.Ack="Ack",e))(d||{}),p=n(28527);class h{constructor(e){this.needToBeAckedHandlers=new r,this.chunkBuilders=new r,this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t,n){if(e.datagramType!==f.Chunked)return;if(e.chunkDatagramType===d.Ack)return void e.ackIds.forEach((e=>{const t=this.needToBeAckedHandlers.get(e);t?t():this.onErrorHandler(new Error("received chunked ack datagram, but the corresponding handler has timed out or was nonexistent"))}));if(e.chunkDatagramType===d.Head)return this.chunkBuilders.set(e.id,Array.from({length:e.bodyDatagramIds.length}),e.expiresAt-Date.now()),n({type:"datagram",expiresAt:e.expiresAt,id:(0,p.LI)(),datagramType:f.Chunked,chunkDatagramType:d.Ack,ackIds:[e.id]});const r=this.chunkBuilders.get(e.headDatagramId);if(r){if(r[e.index]=e.inner,r.length===r.filter(i.$H).length){const n=r.join(""),i=JSON.parse(n);this.receiveDataHandler(i,t.src,t.dest),this.chunkBuilders.delete(e.headDatagramId)}return n({type:"datagram",expiresAt:e.expiresAt,id:(0,p.LI)(),datagramType:f.Chunked,chunkDatagramType:d.Ack,ackIds:[e.id]})}this.onErrorHandler(new Error("received chunked body datagram, but the chunk builder has timed out or was nonexistent"))}async sendData(e,t,n){const r=(0,p.LI)(),i=function(e){return function(e,t){const n=function(e,t){if(c(e,t))return[];const n=[];let r=0;for(let i=0;i<e.length;i++){const o=l(e[i]);r+o>t?(n.push(i),r=o):r+=o}return 0!==r&&n.push(e.length-1),n}(e,t);if(0===n.length)return[e];const r=[];let i=0;for(const t of n)r.push(e.slice(i,t)),i=t;return i<e.length&&r.push(e.slice(i)),r}(JSON.stringify(e),u)}(e),o=i.map(((e,n)=>({type:"datagram",expiresAt:Date.now()+t,id:(0,p.LI)(),datagramType:f.Chunked,chunkDatagramType:d.Body,inner:e,index:n,headDatagramId:r}))),a={type:"datagram",expiresAt:Date.now()+2*t/3,id:r,datagramType:f.Chunked,chunkDatagramType:d.Head,bodyDatagramIds:o.map((e=>e.id))};await this.sendDatagramAndAwaitAck(a,3,n,new Error("Head datagram was not acked in time"));const s=g(a.expiresAt-Date.now(),new Error("Sending chunked datagram bodies timed out without being acked"));await Promise.race([s,Promise.all(o.map((e=>this.sendDatagramAndAwaitAck(e,3,n,new Error("Body datagram timed out without being acked")))))])}async sendDatagramAndAwaitAck(e,t,n,r){const i=e.expiresAt-Date.now(),o=new Promise((t=>{this.needToBeAckedHandlers.set(e.id,(()=>{t()}),i)}));await n(e);const a=i/t;for(let e=0;e<t;e++)try{const e=g(a);return void await Promise.race([e,o])}catch{}throw r}}function g(e,t){return new Promise(((n,r)=>{setTimeout((()=>r(t)),e)}))}class v{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}handleDatagram(e,t){this.receiveDataHandler(e.inner,t.src,t.dest)}sendData(e,t,n){return n({type:"datagram",expiresAt:Date.now()+t,id:(0,p.LI)(),datagramType:f.Single,inner:e})}}class m{constructor(e){this.receiveDataHandler=e.receiveDataHandler,this.onErrorHandler=e.onErrorHandler}async handleDatagram(e,t){if(!function(e){return"Url"===e.datagramType}(e))return;const n=await fetch(e.url),r=await n.json();this.receiveDataHandler(r,t.src,t.dest)}sendData(e,t,n){const r=JSON.stringify(e),i=(new TextEncoder).encode(r),o=new Blob([i],{type:"application/json;charset=utf-8"}),a=window.URL.createObjectURL(o);return setTimeout((()=>{window.URL.revokeObjectURL(a)}),t),n({type:"datagram",expiresAt:Date.now()+t,id:(0,p.LI)(),datagramType:f.Url,url:a})}}var y=n(84386),b=n(87143),w=n(16821);const _=n(95231).v.IS_DEV&&!1;var S=n(18416);const E=new Set(["Error: Could not establish connection. Receiving end does not exist."]);function k(...e){return Promise.allSettled(e).then((e=>{const t=e[0];if("rejected"===t.status&&!E.has(`${t.reason}`))throw t.reason;return e}))}function x(e){return"object"==typeof e&&!!e&&"type"in e&&"packet"===e.type&&"dest"in e&&"src"in e&&"data"in e}class T{constructor(){this.type=S.i.Runtime,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){return k(this.browserApi.runtime.sendMessage(e))}onMessage(e){const t=(t,n)=>{x(t)&&e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}var O=n(51762),A=n(25497);class I{constructor(){this.type=S.i.Tab,this.handlers=[],this.browserApi=n(72565)}sendMessage(e){if(e.dest.component===O.wA.ContentScript||e.dest.component===O.wA.HostScript)return t=this.browserApi,n=e.dest.tabId,r=e,k(t.tabs.sendMessage(n,r));var t,n,r;if(e.dest.component===O.wA.All)return async function(e,t){return k(...(await e.tabs.query({windowType:"normal"})).map((async n=>{n?.id&&await e.tabs.sendMessage(n.id,t)})))}(this.browserApi,e);throw new A.UY({message:`Native messaging API (${this.type}) cannot send to component ${e.dest.component}`})}onMessage(e){const t=(t,n)=>{e(t,{frameId:n.frameId,tabId:n.tab?.id})};this.handlers.push(t),this.browserApi.runtime.onMessage.addListener(t)}disconnect(){this.handlers.forEach((e=>this.browserApi.runtime.onMessage.removeListener(e))),this.handlers=[]}}var C=n(39863);const P={};let D;function M(e,t=window){const n=P[e];if(n)return n.bind(t);const r=t[e]??window[e];if(r&&function(e){const t=e.toString(),n=e.name;return R.test(t)&&t.includes(n)}(r))return P[e]=r,r.bind(t);if(!D){const e=document.createElement("iframe");if(e.src=`data:text/html;charset=utf-8,${encodeURIComponent("<body></body>")}`,e.width="0",e.height="0",e.style.width="0",e.style.height="0",e.style.display="none",e.style.visibility="hidden",function(e){document.body?document.body.append(e):document.documentElement.append(e)}(e),!e.contentWindow)return void e.remove();D=e.contentWindow,e.remove()}const i=D[e];return P[e]=i,i.bind(t)}const R=/function\s+\w+\(\)\s+{\s+\[native code]\s+}/i,j=(()=>{let e;return()=>(e||(e={addEventListener:M("addEventListener"),removeEventListener:M("removeEventListener"),dispatchEvent:M("dispatchEvent")}),e)})();class N{constructor(){this.type=S.i.Window,this.handlers=[];const e=this.rawHandler.bind(this);this.boundRawHandler=e;const{addEventListener:t}=j();t?.("jamevent",e,!0)}sendMessage(e){const{dispatchEvent:t}=j();return"cloneInto"in globalThis&&(e=cloneInto(e,document.defaultView)),t?.(new CustomEvent("jamevent",{detail:e})),Promise.resolve()}rawHandler(e){this.handlers.map((t=>t(e.detail,{})))}onMessage(e){this.handlers.push(e)}disconnect(){const{removeEventListener:e}=j();e?.("jamevent",this.boundRawHandler,!0),this.handlers=[]}}const L=(()=>{let e;return()=>e||(e={[S.i.Runtime]:()=>new T,[S.i.Tab]:()=>new I,[S.i.Window]:()=>new N},e)})();var U=n(15103);class B{constructor(e){this.onErrorHandler=e.onError,this.canForward=e.canForward,this.address=e.address,this.receivePacketHandler=e.receivePacketHandler;const t=function(e){switch(e){case O.wA.Main:return new Map([[O.wA.Popup,S.i.Runtime],[O.wA.ContentScript,S.i.Tab],[O.wA.HostScript,S.i.Tab],[O.wA.Foreground,S.i.Tab]]);case O.wA.Popup:return new Map([[O.wA.Main,S.i.Runtime],[O.wA.ContentScript,S.i.Runtime],[O.wA.HostScript,S.i.Runtime]]);case O.wA.Foreground:return new Map([[O.wA.Main,S.i.Runtime]]);case O.wA.ContentScript:return new Map([[O.wA.Main,S.i.Runtime],[O.wA.Popup,S.i.Runtime],[O.wA.ContentScript,S.i.Tab],[O.wA.HostScript,S.i.Window]]);case O.wA.HostScript:return new Map([[O.wA.Main,S.i.Window],[O.wA.Popup,S.i.Window],[O.wA.ContentScript,S.i.Window],[O.wA.HostScript,S.i.Window]]);default:throw new A.UY({message:`Unknown component type, ${e}. Cannot connect to messaging APIs`})}}(e.address.component),n=(0,y.Q)(b.M.Test)?function(e,t,n){const r=new Map,i=new Map;for(const[o,a]of t.entries()){let t=i.get(a);t||(t=new C.J(e,a,n),i.set(a,t)),r.set(o,t)}return{componentTable:r,typeTable:i}}(this.address,t,e.destinationHandlers??(()=>{throw new Error("destination handlers required for packet layer in testing")})()):function(e){const t=new Map,n=new Map;for(const[r,i]of e.entries()){const e=L();let o=n.get(i);o||(o=e[i](),n.set(i,o)),t.set(r,o)}return{componentTable:t,typeTable:n}}(t);this.messagingTypeMessagingApiTable=n.typeTable,this.componentMessagingApiTable=n.componentTable,[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.onMessage(((t,n)=>this.onIncomingMessage(t,n,e.type)))}))}disconnect(){[...this.messagingTypeMessagingApiTable.values()].forEach((e=>{e.disconnect()}))}onIncomingMessage(e,t,n){if(!x(e))return;const r={...e.lastHop,frameId:"frameId"in e.lastHop&&e.lastHop.frameId||t.frameId,tabId:"tabId"in e.lastHop&&e.lastHop.tabId||t.tabId},i={...e.src};i.component!==O.wA.HostScript&&i.component!==O.wA.ContentScript||(i.frameId=i.frameId??r.frameId,i.tabId=i.tabId??r.tabId);const o={...e,lastHop:r,src:i};return this.onIncomingPacket(o,n)}async onIncomingPacket(e,t){if(e.expiresAt<Date.now())this.onErrorHandler(new A.pD({message:"Received packet that had already expired, dropping it...",serializableContext:{timingOverhang:Date.now()-e.expiresAt,..._?{pkt:e}:{}}}));else if(!(0,U.C)(this.address,e.lastHop))if(function(e,t){return t.component===O.wA.All||(0,U.C)(e,t)}(this.address,e.dest))try{await this.receivePacketHandler(e)}catch(e){this.onErrorHandler(new A.m0({message:"Unhandled error from receivePacketHandler"},e))}else if(this.canForward&&e.dest.component!==this.address.component){const n={...e,address:{...this.address}};try{if(n.dest.component===O.wA.All){const e=[...this.messagingTypeMessagingApiTable.values()].map((e=>{if(e.type!==t)return F((()=>e.sendMessage(n)),n.expiresAt)}));return void await Promise.all(e)}{const e=this.componentMessagingApiTable.get(n.dest.component);if(e&&e.type!==t)return await F((()=>e.sendMessage(n)),n.expiresAt)}}catch(e){const t={...n};delete t.data,this.onErrorHandler(new A.pD({message:"Could not forward packet",serializableContext:{forwardedPacketWithoutData:t}},e))}}}async sendPacket(e){const t={...e,src:{...this.address},lastHop:{...this.address}},n=t.dest.component,r=(n===O.wA.All?[...this.messagingTypeMessagingApiTable.values()]:[this.componentMessagingApiTable.get(n)]).filter(i.Av);if(0===r.length)throw new A.UY({message:`No route from component ${this.address.component} to component ${n}`});await Promise.all(r.map((e=>F((()=>e.sendMessage(t)),t.expiresAt))))}}async function F(e,t,n=100){const r=t-Date.now();if(r<=0)throw new A.W5({message:"promise to retry is already timed out (epochTime configured before Date.now())"});return new Promise((async(i,o)=>{let a;const s=setTimeout((()=>{const e=new A.W5({message:"Timed out"},a);Error.captureStackTrace?.(e),o(e)}),r);for(;;)try{const t=await e();return clearTimeout(s),i(t)}catch(e){if(a=e,!(Date.now()<t-n)){clearTimeout(s);const e=new A.W5({message:"Timed out"},a);return Error.captureStackTrace?.(e),void o(e)}await(0,w.g)(n)}}))}class z{constructor(e){this.receivedDatagramIds=new r;const t={onErrorHandler:e.onError,receiveDataHandler:e.receiveDataHandler};this.datagramTypeHandlers={[f.Single]:new v(t),[f.Url]:new m(t),[f.Chunked]:new h(t)},this.onErrorHandler=e.onError,this.packetLayer=new B({address:e.address,canForward:e.canForward,receivePacketHandler:e=>this.receivePacket(e),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers})}async receivePacket(e){const t=e.data;if(!("object"==typeof(n=t)&&n&&"type"in n&&"datagram"===n.type&&"id"in n&&"datagramType"in n))throw new Error("Datagram layer somehow received packet that doesn't hold a datagram");var n;if(this.receivedDatagramIds.get(t.id))return void this.receivedDatagramIds.delete(t.id);const r=Date.now();t.expiresAt>r&&this.receivedDatagramIds.set(t.id,!0,t.expiresAt-r);const i=this.datagramTypeHandlers[t.datagramType];try{const n=t=>this.packetLayer.sendPacket({type:"packet",dest:e.src,data:t,expiresAt:t.expiresAt});i.handleDatagram(t,e,n)}catch(e){this.onErrorHandler(new A.m0({message:"Unhandled error from data receiver handler"},e))}}sendData(e,t,n){const{timeout:r=5e3,canUseUrl:i=!1}=n??{};let o;const s=function(e,t){const n=JSON.stringify(e);return!(n.length*a>=t)&&c(n,t)}(e,u);if(o=s?f.Single:i?f.Url:f.Chunked,o)return this.datagramTypeHandlers[o].sendData(e,r,(e=>this.packetLayer.sendPacket({type:"packet",dest:t,data:e,expiresAt:Date.now()+r})));throw new Error("No handler could handle sending this data")}disconnect(){this.packetLayer.disconnect()}}},16128:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(43942);let i;function o(e){return i||(i=new r.N(e)),i}},11552:(e,t,n)=>{"use strict";n.d(t,{Component:()=>r.wA,ContentScripts:()=>r.d9,HostScripts:()=>r.R6,getEventBusSingleton:()=>i.v,getMessageBrokerSingleton:()=>v});var r=n(51762),i=n(16128),o=(n(22955),n(71225)),a=n(10648),s=n(87143),u=n(22699),c=n.n(u),l=n(15464),f=n(28527),d=n(15103),p=n(25497);class h{constructor(e){this.messageHandlers=new Map,this.history=[],this.historySize=500,this.disconnected=!1,this.responseAwaiters=new Map,this.eventListeners=new(c().EventEmitter),this.onErrorHandler=e.onError,this.address=e.address,this.datagramLayer=new l.u({address:e.address,canForward:e.canForward,receiveDataHandler:this.receiveDataHandler.bind(this),onError:this.onErrorHandler,destinationHandlers:e.destinationHandlers}),this.isTabIncognito=e.isTabIncognito??(()=>!0)}addEventListener(e,t){this.eventListeners.addListener(e,t)}removeEventListener(e,t){this.eventListeners.removeListener(e,t)}async receiveDataHandler(e,t,n){if(!((r=e)&&"object"==typeof r&&"applicationType"in r&&"broker"===r.applicationType&&"eventName"in r&&"type"in r))return;var r;if(this.addToHistory({data:e,src:t,dest:n,timestamp:Date.now()}),"response"===e.type){const t=this.responseAwaiters.get(e.responseToRequestId);if(!t)return void this.onErrorHandler(new p.lk({message:`Broker received response for request with ID ${e.responseToRequestId} but handler must've timed out (or two brokers of the same address exist?)`}));const n=e.data;return this.responseAwaiters.delete(e.responseToRequestId),void t(n)}const i=this.messageHandlers.get(e.eventName);if(!i)return void this.onErrorHandler(new p.UY({message:`Received event(${e.eventName}) with target ${this.address.component}, but no handler is configured`}));let a;try{a=await i(e.data,{src:{...t},dest:{...n}})}catch(e){return void this.onErrorHandler(new p.m0({message:"Uncaught broker handler error"},e))}try{await this.datagramLayer.sendData({applicationType:"broker",type:"response",eventName:e.eventName,responseToRequestId:e.id,data:a},t,{timeout:5*o.X.Second,canUseUrl:this.canUseUrlSending(t)}),this.eventListeners.emit("receive",{sender:t,receiver:n,eventName:e.eventName})}catch(t){return void this.onErrorHandler(new p.lk({message:`Error sending broker response to ${n.component} for request ${e.id} and event ${e.eventName}`},t))}}on(e,t){if(this.messageHandlers.has(e))throw new p.UY({message:`Only one handler can be configured on broker per message (name is: ${e})`});this.messageHandlers.set(e,t)}addToHistory(e){if((0,a.J)(s.q.Production)){const t={...e};delete t.data,this.history.push(t)}else this.history.push(e);this.history.length>this.historySize&&this.history.shift()}canUseUrlSending(e){if((0,r.AM)(this.address.component)&&this.isTabIncognito("self"))return!1;if("tabId"in e){if(this.isTabIncognito(e.tabId))return!1}else if((0,r.AM)(e.component))return!1;return!0}send(e){const{eventName:t,dest:n,payload:r,timeout:i=5*o.X.Second}=e;this.addToHistory({data:{eventName:t,payload:r},dest:n,src:this.address,timestamp:Date.now()});const a=(0,f.jF)();if((0,d.C)(this.address,n)){const e=this.messageHandlers.get(t);return e?e(r,{src:this.address,dest:n}):Promise.reject(new p.UY({message:`Received self-addressed event(${t}) with target ${this.address.component}, but no handler is configured`}))}return new Promise(((e,o)=>{const s=setTimeout((()=>{this.responseAwaiters.delete(a),o(new p.lk({message:`Error sending broker message to ${n.component}`,serializableContext:{eventName:t}},new p.W5({message:`Timed out waiting for response for ${i}ms`})))}),i);this.responseAwaiters.set(a,(r=>{clearTimeout(s),e(r),this.eventListeners.emit("send",{sender:this.address,receiver:n,eventName:t})})),this.datagramLayer.sendData({id:a,applicationType:"broker",type:"request",eventName:t,data:r},n,{timeout:i,canUseUrl:this.canUseUrlSending(n)}).catch((e=>{this.responseAwaiters.delete(a),o(new p.lk({message:`Error sending broker message to ${n.component}: ${e}`,serializableContext:{eventName:t}},e))}))}))}off(e){return this.messageHandlers.delete(e)}destruct(){this.datagramLayer.disconnect(),this.messageHandlers.clear(),this.disconnected=!0}get __responseAwaitersCount(){return this.responseAwaiters.size}}let g;function v(e){return g||(g=new h(e)),g}},18416:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=(e=>(e.Runtime="Runtime",e.Tab="Tab",e.Window="Window",e))(r||{})},39863:(e,t,n)=>{"use strict";n.d(t,{J:()=>s,Q:()=>a});var r=n(18416),i=n(51762),o=n(28527);function a(){return{[r.i.Runtime]:[],[r.i.Tab]:[],[r.i.Window]:[]}}class s{constructor(e,t,n){this.address=e,this.type=t,this.id=(0,o.j1)(),this.destinationHandlers=n}sendMessage(e){const t=function(e,t){if(e===i.wA.Main)return t===i.wA.HostScript?i.wA.ContentScript:t;if(e===i.wA.Popup)return t===i.wA.ContentScript?t:i.wA.Main;if(e===i.wA.HostScript)return i.wA.ContentScript;if(e===i.wA.Foreground)return i.wA.Main;if(e===i.wA.ContentScript)return t===i.wA.HostScript?t:i.wA.Main;throw new Error(`Unhandled component: ${e}. (This shouldn't be called with Component.All)`)}(this.address.component,e.dest.component);let n=!1;return this.destinationHandlers[this.type].forEach((r=>{r.id!==this.id&&(r.address.component===t||e.dest.component===i.wA.All&&e.lastHop.component!==r.address.component)&&(setTimeout((()=>{try{r.eventHandler(e,{tabId:123,frameId:0})}catch{}}),0),n=!0)})),this.type!==r.i.Window&&!n&&[i.wA.ContentScript,i.wA.Main,i.wA.Popup].includes(t)?Promise.reject(new Error(`runtime error when sending to ${t} (chrome will have this when the tab you send to does not exist, for example). Current component is ${this.address.component}, dest is ${e.dest.component}, simulated messaging API type is ${this.type} `)):Promise.resolve()}onMessage(e){const t=()=>e({exampleMessage:(0,o.j1)(),testingData:123,testingData2:"abc"},{});this.destinationHandlers[this.type].push({address:this.address,id:this.id,eventHandler:(n,r)=>{t(),setTimeout(t,Math.floor(1e3*Math.random())),e(n,r)},instance:this})}disconnect(){this.destinationHandlers[this.type]=this.destinationHandlers[this.type].filter((e=>e.id!==this.id))}}},15103:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(51762);function i(e,t){return t.component===r.wA.All||e.component===t.component&&e.location===t.location}},32352:(e,t,n)=>{"use strict";function r(e){return!(!e||"object"!=typeof e||!("applicationType"in e)||"string"!=typeof e.applicationType||!e.applicationType)}n.d(t,{f:()=>r})},51762:(e,t,n)=>{"use strict";n.d(t,{AM:()=>i,R6:()=>a,d9:()=>o,wA:()=>r});var r=(e=>(e.Main="Main",e.Popup="Popup",e.ContentScript="ContentScript",e.HostScript="HostScript",e.Foreground="Foreground",e.All="All",e))(r||{});function i(e){return"ContentScript"===e||"HostScript"===e}var o=(e=>(e.JamUi="content-JamUi",e.RRWebForwarder="content-RRwebForwarder",e.RRWebSnapshot="content-RRwebSnapshot",e.EventListeners="content-event-listeners",e))(o||{}),a=(e=>(e.AdditionalHooks="host-additional-hooks",e.RRWebSnapshot="host-rrweb-snapshot",e.RRWebNetwork="host-rrweb-network",e.RRWebConsole="jam-console-devtools",e))(a||{})},25497:(e,t,n)=>{"use strict";n.d(t,{UY:()=>a,W5:()=>i,lk:()=>s,m0:()=>u,pD:()=>o});var r=n(72484);class i extends r.Lw{constructor(){super(...arguments),this.name="TimeoutError"}}class o extends r.Lw{constructor(){super(...arguments),this.name="ForwardingError"}}class a extends r.Lw{constructor(){super(...arguments),this.name="ConfigurationError"}}class s extends r.Lw{constructor(){super(...arguments),this.name="CommunicationError"}}class u extends r.Lw{constructor(){super(...arguments),this.name="UncaughtHandlerError"}}},28527:(e,t,n)=>{"use strict";function r(e){let t=Math.floor(1e5*Math.random());return()=>`${e}-id:${Math.random()}:${t++}`}n.d(t,{LI:()=>o,j1:()=>i,jF:()=>a});const i=r("testing-id"),o=r("dg"),a=r("brkr-rq")},79336:()=>{},19201:()=>{},86602:()=>{},38179:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r,_:()=>i});var r=(e=>(e.Chrome="chrome",e.Firefox="firefox",e))(r||{});function i(e){return("MISSING_ENV_VAR".BROWSER_BUILD||"chrome")===e}},87143:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,q:()=>r});var r=(e=>(e.Development="development",e.Preview="preview",e.Staging="staging",e.Production="production",e.Test="test",e))(r||{}),i=(e=>(e.Development="development",e.Production="production",e.Test="test",e))(i||{})},84386:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{Q:()=>r})},10648:(e,t,n)=>{"use strict";function r(e){return"production"===e}n.d(t,{J:()=>r})},72484:(e,t,n)=>{"use strict";n.d(t,{Lw:()=>o,xm:()=>s});class r extends Error{constructor(e){super(e.message),this.original=e,this.name=e.name,this.message=e.message,this.stack=e.stack}toJSON(){return{name:this.name,message:this.message,stack:this.stack}}}var i=n(79556);class o extends Error{constructor(e,t){super(e.message),this.name=e.name??"WrappedError",this.userError=e.userError,this.debugMessage=e.debugMessage,this.serializableContext=e.serializableContext,t&&(t instanceof o?this.previous=t:t instanceof Error?this.previous=new r(t):"string"==typeof t&&(this.previous=t))}get extensions(){return{wrappedError:this}}toJSON(){const e={},t=function(e){const t=Object.assign(Object.create(Object.getPrototypeOf(a)),e);return delete t.stack,t}(this);return Object.getOwnPropertyNames(t).forEach((n=>{const r=n;e[r]=t[r]})),e}valueOf(){return this.toString()}toString(){return this.fullError()}shortError(){return`${this.name}: ${this.message}`}find(e){if(e(this))return this;if(!this.previous)return;if(this.previous instanceof o)return this.previous.find(e);let t=this.previous;return this.previous instanceof r&&(t=this.previous.original),e(t)?t:void 0}is(e){return Boolean(this.find((t=>t instanceof e)))}fullError(){let e;this.previous&&(e=this.previous.toString());let t="";try{t=JSON.stringify(this.serializableContext)}catch{t="[Error: provided context was not serializable]"}const n=[[`${this.name}:`,this.message,this.debugMessage?`(${this.debugMessage})`:void 0,this.userError?"(user error)":void 0],[`Serializable context: (${t})`]].map((e=>e.filter(i.Av).join(" ")+".")).join(" ");return e?n+". \nCaused by: \n"+e:n}previousMessage(){if(this.previous)return"string"==typeof this.previous?this.previous:this.previous.message}static isInside(e){if(!(e instanceof o))return!1;const t=this.name;return e.find((e=>e instanceof o&&e.name===t))}}const a=new o({message:"Example Error"});function s(e){return JSON.stringify("object"==typeof e&&e&&"message"in e?e.message:e)}},79556:(e,t,n)=>{"use strict";function r(e){return Boolean(e)}function i(e){return void 0!==e}function o(e){return null!=e}n.d(t,{$H:()=>o,Av:()=>i,N6:()=>r})},16821:(e,t,n)=>{"use strict";function r(e){return new Promise((t=>setTimeout(t,e)))}n.d(t,{g:()=>r})},53623:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(84386),i=n(87143);function o(e,t){if(void 0===e||""===e){if(void 0===t&&!(0,r.Q)(i.M.Test))throw new ReferenceError("Missing a required environment variable");return t??""}return e}},72153:(e,t,n)=>{"use strict";function r(e,t){if(t<0||t>1)throw new Error(`Rate (${t}) must be within the range of 0 to 1, inclusive.`);Math.random()<=t&&e()}n.d(t,{U:()=>r})},47542:(e,t,n)=>{"use strict";var r,i;n.d(t,{d:()=>r}),(i=r||(r={})).Byte=1,i.Kilobyte=1e3*i.Byte,i.Megabyte=1e3*i.Kilobyte,i.Gigabyte=1e3*i.Megabyte},71225:(e,t,n)=>{"use strict";function r(e,t=2){let n=String(e);const r=Math.pow(10,t-1);if(e<r)for(;String(r).length>n.length;)n="0"+e;return n}var i,o;n.d(t,{X:()=>i}),(o=i||(i={})).Millisecond=1,o.Second=1e3*o.Millisecond,o.Minute=60*o.Second,o.Hour=60*o.Minute,o.Day=24*o.Hour,o.toSeconds=function(e){return e/o.Second},o.isEpochInSeconds=function(e){return Math.abs(Date.now()-e)>Math.abs(Date.now()-1e3*e)},o.formatTime=function(e){if(e<=0)return"00:00";const t=Math.floor(e/o.Hour);e%=o.Hour;const n=Math.floor(e/o.Minute);e%=o.Minute;const i=Math.floor(e/o.Second);return t?`${r(t)}:${r(n)}:${r(i)}`:`${r(n)}:${r(i)}`}},22699:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},17570:e=>{"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},42929:(e,t,n)=>{"use strict";var r=n(21278);e.exports=function e(t,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var a=new Map;function s(e,t){var n=a.get(t);n?n.push.apply(n,e):a.set(t,e)}if(i(t))o=null,s([n],t);else{var u=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return s([""+u+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var r=e(t,""+u+n,i);return r.files.forEach(s),r.clone}));else if(t&&t.constructor===Object)for(var c in o={},t){var l=e(t[c],""+u+c,i);l.files.forEach(s),o[c]=l.clone}else o=t}return{clone:o,files:a}}},39384:(e,t,n)=>{"use strict";t.ReactNativeFile=n(17570),t.extractFiles=n(42929),t.isExtractableFile=n(21278)},21278:(e,t,n)=>{"use strict";var r=n(17570);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},72678:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,r.default)(0),e.prototype.inspect=t,i.default&&(e.prototype[i.default]=t)};var r=o(n(75006)),i=o(n(98019));function o(e){return e&&e.__esModule?e:{default:e}}},98048:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return a(e,[])};var r,i=(r=n(98019))&&r.__esModule?r:{default:r};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){switch(o(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(i.default)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var o=r.call(e);if(o!==e)return"string"==typeof o?o:a(o,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(a(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+a(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}},75006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}},98019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=n},64560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var r,i=(r=n(72678))&&r.__esModule?r:{default:r},o=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();t.Location=o,(0,i.default)(o);var a=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();t.Token=a,(0,i.default)(a)},49501:(e,t)=>{"use strict";function n(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}function r(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringValue=function(e){var t=e.split(/\r\n|[\n\r]/g),i=r(e);if(0!==i)for(var o=1;o<t.length;o++)t[o]=t[o].slice(i);for(var a=0;a<t.length&&n(t[a]);)++a;for(var s=t.length;s>a&&n(t[s-1]);)--s;return t.slice(a,s).join("\n")},t.getBlockStringIndentation=r,t.printBlockString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a="\\"===e[e.length-1],s=!r||o||a||n,u="";return!s||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}},33083:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:o})};var r=n(82624),i=n(49501),o={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return s(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=c("(",s(e.variableDefinitions,", "),")"),i=s(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?s([t,s([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+c(" = ",r)+c(" ",s(i," "))},SelectionSet:function(e){return u(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,a=c("",t,": ")+n,u=a+c("(",s(r,", "),")");return u.length>80&&(u=a+c("(\n",l(s(r,"\n")),"\n)")),s([u,s(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+c(" ",s(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return s(["...",c("on ",t),s(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(c("(",s(r,", "),")")," ")+"on ".concat(n," ").concat(c("",s(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,i.printBlockString)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+s(e.values,", ")+"]"},ObjectValue:function(e){return"{"+s(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+c("(",s(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:a((function(e){var t=e.directives,n=e.operationTypes;return s(["schema",s(t," "),u(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:a((function(e){return s(["scalar",e.name,s(e.directives," ")]," ")})),ObjectTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["type",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")})),FieldDefinition:a((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(d(n)?c("(\n",l(s(n,"\n")),"\n)"):c("(",s(n,", "),")"))+": "+r+c(" ",s(i," "))})),InputValueDefinition:a((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return s([t+": "+n,c("= ",r),s(i," ")]," ")})),InterfaceTypeDefinition:a((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["interface",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")})),UnionTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.types;return s(["union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")})),EnumTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.values;return s(["enum",t,s(n," "),u(r)]," ")})),EnumValueDefinition:a((function(e){return s([e.name,s(e.directives," ")]," ")})),InputObjectTypeDefinition:a((function(e){var t=e.name,n=e.directives,r=e.fields;return s(["input",t,s(n," "),u(r)]," ")})),DirectiveDefinition:a((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(d(n)?c("(\n",l(s(n,"\n")),"\n)"):c("(",s(n,", "),")"))+(r?" repeatable":"")+" on "+s(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return s(["extend schema",s(t," "),u(n)]," ")},ScalarTypeExtension:function(e){return s(["extend scalar",e.name,s(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend type",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend interface",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return s(["extend union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return s(["extend enum",t,s(n," "),u(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return s(["extend input",t,s(n," "),u(r)]," ")}};function a(e){return function(t){return s([t.description,e(t)],"\n")}}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function u(e){return c("{\n",l(s(e,"\n")),"\n}")}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function l(e){return c("  ",e.replace(/\n/g,"\n  "))}function f(e){return-1!==e.indexOf("\n")}function d(e){return null!=e&&e.some(f)}},82624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,r=void 0,c=Array.isArray(e),l=[e],f=-1,d=[],p=void 0,h=void 0,g=void 0,v=[],m=[],y=e;do{var b=++f===l.length,w=b&&0!==d.length;if(b){if(h=0===m.length?void 0:v[v.length-1],p=g,g=m.pop(),w){if(c)p=p.slice();else{for(var _={},S=0,E=Object.keys(p);S<E.length;S++){var k=E[S];_[k]=p[k]}p=_}for(var x=0,T=0;T<d.length;T++){var O=d[T][0],A=d[T][1];c&&(O-=x),c&&null===A?(p.splice(O,1),x++):p[O]=A}}f=r.index,l=r.keys,d=r.edits,c=r.inArray,r=r.prev}else{if(h=g?c?f:l[f]:void 0,null==(p=g?g[h]:y))continue;g&&v.push(h)}var I,C=void 0;if(!Array.isArray(p)){if(!(0,o.isNode)(p))throw new Error("Invalid AST Node: ".concat((0,i.default)(p),"."));var P=u(t,p.kind,b);if(P){if((C=P.call(t,p,h,g,v,m))===s)break;if(!1===C){if(!b){v.pop();continue}}else if(void 0!==C&&(d.push([h,C]),!b)){if(!(0,o.isNode)(C)){v.pop();continue}p=C}}}void 0===C&&w&&d.push([h,p]),b?v.pop():(r={inArray:c,index:f,keys:l,edits:d,prev:r},l=(c=Array.isArray(p))?p:null!==(I=n[p.kind])&&void 0!==I?I:[],f=-1,d=[],g&&m.push(g),g=p)}while(void 0!==r);return 0!==d.length&&(y=d[d.length-1][1]),y},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=u(e[r],n.kind,!1);if(i){var o=i.apply(e[r],arguments);if(!1===o)t[r]=n;else if(o===s)t[r]=s;else if(void 0!==o)return o}}},leave:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=u(e[r],n.kind,!0);if(i){var o=i.apply(e[r],arguments);if(o===s)t[r]=s;else if(void 0!==o&&!1!==o)return o}}else t[r]===n&&(t[r]=null)}}},t.getVisitFn=u,t.BREAK=t.QueryDocumentKeys=void 0;var r,i=(r=n(98048))&&r.__esModule?r:{default:r},o=n(64560),a={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=a;var s=Object.freeze({});function u(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}t.BREAK=s},46670:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:K(e)}function r(e){return s(e)?e:V(e)}function i(e){return u(e)?e:H(e)}function o(e){return a(e)&&!c(e)?e:$(e)}function a(e){return!(!e||!e[f])}function s(e){return!(!e||!e[d])}function u(e){return!(!e||!e[p])}function c(e){return s(e)||u(e)}function l(e){return!(!e||!e[h])}t(r,n),t(i,n),t(o,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=i,n.Set=o;var f="@@__IMMUTABLE_ITERABLE__@@",d="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",g=32,v=31,m={},y={value:!1},b={value:!1};function w(e){return e.value=!1,e}function _(e){e&&(e.value=!0)}function S(){}function E(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function k(e){return void 0===e.size&&(e.size=e.__iterate(T)),e.size}function x(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?k(e)+t:t}function T(){return!0}function O(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function A(e,t){return C(e,t,0)}function I(e,t){return C(e,t,t)}function C(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var P="function"==typeof Symbol&&Symbol.iterator,D="@@iterator",M=P||D;function R(e){this.next=e}function j(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function N(){return{value:void 0,done:!0}}function L(e){return!!F(e)}function U(e){return e&&"function"==typeof e.next}function B(e){var t=F(e);return t&&t.call(e)}function F(e){var t=e&&(P&&e[P]||e["@@iterator"]);if("function"==typeof t)return t}function z(e){return e&&"number"==typeof e.length}function K(e){return null==e?te():a(e)?e.toSeq():function(e){var t=ie(e)||"object"==typeof e&&new Q(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function V(e){return null==e?te().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():ne(e)}function H(e){return null==e?te():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():re(e)}function $(e){return(null==e?te():a(e)?s(e)?e.entrySeq():e:re(e)).toSetSeq()}R.prototype.toString=function(){return"[Iterator]"},R.KEYS=0,R.VALUES=1,R.ENTRIES=2,R.prototype.inspect=R.prototype.toSource=function(){return this.toString()},R.prototype[M]=function(){return this},t(K,n),K.of=function(){return K(arguments)},K.prototype.toSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq {","}")},K.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},K.prototype.__iterate=function(e,t){return oe(this,e,t,!0)},K.prototype.__iterator=function(e,t){return ae(this,e,t,!0)},t(V,K),V.prototype.toKeyedSeq=function(){return this},t(H,K),H.of=function(){return H(arguments)},H.prototype.toIndexedSeq=function(){return this},H.prototype.toString=function(){return this.__toString("Seq [","]")},H.prototype.__iterate=function(e,t){return oe(this,e,t,!1)},H.prototype.__iterator=function(e,t){return ae(this,e,t,!1)},t($,K),$.of=function(){return $(arguments)},$.prototype.toSetSeq=function(){return this},K.isSeq=ee,K.Keyed=V,K.Set=$,K.Indexed=H;var q,W,G,J="@@__IMMUTABLE_SEQ__@@";function X(e){this._array=e,this.size=e.length}function Q(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function Y(e){this._iterable=e,this.size=e.length||e.size}function Z(e){this._iterator=e,this._iteratorCache=[]}function ee(e){return!(!e||!e[J])}function te(){return q||(q=new X([]))}function ne(e){var t=Array.isArray(e)?new X(e).fromEntrySeq():U(e)?new Z(e).fromEntrySeq():L(e)?new Y(e).fromEntrySeq():"object"==typeof e?new Q(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function re(e){var t=ie(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ie(e){return z(e)?new X(e):U(e)?new Z(e):L(e)?new Y(e):void 0}function oe(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function ae(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new R((function(){var e=i[n?o-a:a];return a++>o?{value:void 0,done:!0}:j(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function se(e,t){return t?ue(t,e,"",{"":e}):ce(e)}function ue(e,t,n,r){return Array.isArray(t)?e.call(r,n,H(t).map((function(n,r){return ue(e,n,r,t)}))):le(t)?e.call(r,n,V(t).map((function(n,r){return ue(e,n,r,t)}))):t}function ce(e){return Array.isArray(e)?H(e).map(ce).toList():le(e)?V(e).map(ce).toMap():e}function le(e){return e&&(e.constructor===Object||void 0===e.constructor)}function fe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function de(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&fe(i[1],e)&&(n||fe(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var f=!0,d=t.__iterate((function(t,r){if(n?!e.has(t):i?!fe(t,e.get(r,m)):!fe(e.get(r,m),t))return f=!1,!1}));return f&&e.size===d}function pe(e,t){if(!(this instanceof pe))return new pe(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(W)return W;W=this}}function he(e,t){if(!e)throw new Error(t)}function ge(e,t,n){if(!(this instanceof ge))return new ge(e,t,n);if(he(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(G)return G;G=this}}function ve(){throw TypeError("Abstract")}function me(){}function ye(){}function be(){}K.prototype[J]=!0,t(X,H),X.prototype.get=function(e,t){return this.has(e)?this._array[x(this,e)]:t},X.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},X.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new R((function(){return i>r?{value:void 0,done:!0}:j(e,i,n[t?r-i++:i++])}))},t(Q,V),Q.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},Q.prototype.has=function(e){return this._object.hasOwnProperty(e)},Q.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},Q.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new R((function(){var a=r[t?i-o:o];return o++>i?{value:void 0,done:!0}:j(e,a,n[a])}))},Q.prototype[h]=!0,t(Y,H),Y.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=B(this._iterable),r=0;if(U(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},Y.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=B(this._iterable);if(!U(n))return new R(N);var r=0;return new R((function(){var t=n.next();return t.done?t:j(e,r++,t.value)}))},t(Z,H),Z.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===e(i[o],o++,this))return o;for(;!(n=r.next()).done;){var a=n.value;if(i[o]=a,!1===e(a,o++,this))break}return o},Z.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new R((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return j(e,i,r[i++])}))},t(pe,H),pe.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},pe.prototype.get=function(e,t){return this.has(e)?this._value:t},pe.prototype.includes=function(e){return fe(this._value,e)},pe.prototype.slice=function(e,t){var n=this.size;return O(e,t,n)?this:new pe(this._value,I(t,n)-A(e,n))},pe.prototype.reverse=function(){return this},pe.prototype.indexOf=function(e){return fe(this._value,e)?0:-1},pe.prototype.lastIndexOf=function(e){return fe(this._value,e)?this.size:-1},pe.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},pe.prototype.__iterator=function(e,t){var n=this,r=0;return new R((function(){return r<n.size?j(e,r++,n._value):{value:void 0,done:!0}}))},pe.prototype.equals=function(e){return e instanceof pe?fe(this._value,e._value):de(e)},t(ge,H),ge.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ge.prototype.get=function(e,t){return this.has(e)?this._start+x(this,e)*this._step:t},ge.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ge.prototype.slice=function(e,t){return O(e,t,this.size)?this:(e=A(e,this.size),(t=I(t,this.size))<=e?new ge(0,0):new ge(this.get(e,this._end),this.get(t,this._end),this._step))},ge.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ge.prototype.lastIndexOf=function(e){return this.indexOf(e)},ge.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},ge.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new R((function(){var a=i;return i+=t?-r:r,o>n?{value:void 0,done:!0}:j(e,o++,a)}))},ge.prototype.equals=function(e){return e instanceof ge?this._start===e._start&&this._end===e._end&&this._step===e._step:de(this,e)},t(ve,n),t(me,ve),t(ye,ve),t(be,ve),ve.Keyed=me,ve.Indexed=ye,ve.Set=be;var we="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function _e(e){return e>>>1&1073741824|3221225471&e}function Se(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return _e(n)}if("string"===t)return e.length>Ce?function(e){var t=Me[e];return void 0===t&&(t=Ee(e),De===Pe&&(De=0,Me={}),De++,Me[e]=t),t}(e):Ee(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Oe&&void 0!==(t=Te.get(e)))return t;if(void 0!==(t=e[Ie]))return t;if(!xe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ie]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ae,1073741824&Ae&&(Ae=0),Oe)Te.set(e,t);else{if(void 0!==ke&&!1===ke(e))throw new Error("Non-extensible objects are not allowed as keys.");if(xe)Object.defineProperty(e,Ie,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ie]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ie]=t}}return t}(e);if("function"==typeof e.toString)return Ee(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ee(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return _e(t)}var ke=Object.isExtensible,xe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Te,Oe="function"==typeof WeakMap;Oe&&(Te=new WeakMap);var Ae=0,Ie="__immutablehash__";"function"==typeof Symbol&&(Ie=Symbol(Ie));var Ce=16,Pe=255,De=0,Me={};function Re(e){he(e!==1/0,"Cannot perform this action with an infinite size.")}function je(e){return null==e?Je():Ne(e)&&!l(e)?e:Je().withMutations((function(t){var n=r(e);Re(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Ne(e){return!(!e||!e[Ue])}t(je,me),je.prototype.toString=function(){return this.__toString("Map {","}")},je.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},je.prototype.set=function(e,t){return Xe(this,e,t)},je.prototype.setIn=function(e,t){return this.updateIn(e,m,(function(){return t}))},je.prototype.remove=function(e){return Xe(this,e,m)},je.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return m}))},je.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},je.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=it(this,tn(e),t,n);return r===m?void 0:r},je.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Je()},je.prototype.merge=function(){return et(this,void 0,arguments)},je.prototype.mergeWith=function(t){return et(this,t,e.call(arguments,1))},je.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Je(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},je.prototype.mergeDeep=function(){return et(this,tt,arguments)},je.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return et(this,nt(t),n)},je.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Je(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},je.prototype.sort=function(e){return Ot(Ht(this,e))},je.prototype.sortBy=function(e,t){return Ot(Ht(this,t,e))},je.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},je.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},je.prototype.asImmutable=function(){return this.__ensureOwner()},je.prototype.wasAltered=function(){return this.__altered},je.prototype.__iterator=function(e,t){return new $e(this,e,t)},je.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},je.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ge(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},je.isMap=Ne;var Le,Ue="@@__IMMUTABLE_MAP__@@",Be=je.prototype;function Fe(e,t){this.ownerID=e,this.entries=t}function ze(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ke(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function He(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function $e(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&We(e._root)}function qe(e,t){return j(e,t[0],t[1])}function We(e,t){return{node:e,index:0,__prev:t}}function Ge(e,t,n,r){var i=Object.create(Be);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Je(){return Le||(Le=Ge(0))}function Xe(e,t,n){var r,i;if(e._root){var o=w(y),a=w(b);if(r=Qe(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===m?-1:1:0)}else{if(n===m)return e;i=1,r=new Fe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ge(i,r):Je()}function Qe(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===m?e:(_(s),_(a),new He(t,r,[i,o]))}function Ye(e){return e.constructor===He||e.constructor===Ve}function Ze(e,t,n,r,i){if(e.keyHash===r)return new Ve(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&v,s=(0===n?r:r>>>n)&v;return new ze(t,1<<a|1<<s,a===s?[Ze(e,t,n+5,r,i)]:(o=new He(t,r,i),a<s?[e,o]:[o,e]))}function et(e,t,n){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=r(s);a(s)||(u=u.map((function(e){return se(e)}))),i.push(u)}return rt(e,t,i)}function tt(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):fe(e,t)?e:t}function nt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return fe(t,i)?t:i}}function rt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,m,(function(e){return e===m?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function it(e,t,n,r){var i=e===m,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}he(i||e&&e.set,"invalid keyPath");var u=o.value,c=i?m:e.get(u,m),l=it(c,t,n,r);return l===c?e:l===m?e.remove(u):(i?Je():e).set(u,l)}function ot(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function at(e,t,n,r){var i=r?e:E(e);return i[t]=n,i}Be[Ue]=!0,Be.delete=Be.remove,Be.removeIn=Be.deleteIn,Fe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(fe(n,i[o][0]))return i[o][1];return r},Fe.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===m,u=this.entries,c=0,l=u.length;c<l&&!fe(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(_(a),(s||!f)&&_(o),!s||1!==u.length){if(!f&&!s&&u.length>=st)return function(e,t,n,r){e||(e=new S);for(var i=new He(e,Se(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,u,r,i);var d=e&&e===this.ownerID,p=d?u:E(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),d?(this.entries=p,this):new Fe(e,p)}},ze.prototype.get=function(e,t,n,r){void 0===t&&(t=Se(n));var i=1<<((0===e?t:t>>>e)&v),o=this.bitmap;return 0==(o&i)?r:this.nodes[ot(o&i-1)].get(e+5,t,n,r)},ze.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Se(r));var s=(0===t?n:n>>>t)&v,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&i===m)return this;var f=ot(c&u-1),d=this.nodes,p=l?d[f]:void 0,h=Qe(p,e,t+5,n,r,i,o,a);if(h===p)return this;if(!l&&h&&d.length>=ut)return function(e,t,n,r,i){for(var o=0,a=new Array(g),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new Ke(e,o+1,a)}(e,d,c,s,h);if(l&&!h&&2===d.length&&Ye(d[1^f]))return d[1^f];if(l&&h&&1===d.length&&Ye(h))return h;var y=e&&e===this.ownerID,b=l?h?c:c^u:c|u,w=l?h?at(d,f,h,y):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}(d,f,y):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}(d,f,h,y);return y?(this.bitmap=b,this.nodes=w,this):new ze(e,b,w)},Ke.prototype.get=function(e,t,n,r){void 0===t&&(t=Se(n));var i=(0===e?t:t>>>e)&v,o=this.nodes[i];return o?o.get(e+5,t,n,r):r},Ke.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Se(r));var s=(0===t?n:n>>>t)&v,u=i===m,c=this.nodes,l=c[s];if(u&&!l)return this;var f=Qe(l,e,t+5,n,r,i,o,a);if(f===l)return this;var d=this.count;if(l){if(!f&&--d<ct)return function(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(i|=u,a[o++]=l)}return new ze(e,i,a)}(e,c,d,s)}else d++;var p=e&&e===this.ownerID,h=at(c,s,f,p);return p?(this.count=d,this.nodes=h,this):new Ke(e,d,h)},Ve.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(fe(n,i[o][0]))return i[o][1];return r},Ve.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=Se(r));var s=i===m;if(n!==this.keyHash)return s?this:(_(a),_(o),Ze(this,e,t,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!fe(r,u[c][0]);c++);var f=c<l;if(f?u[c][1]===i:s)return this;if(_(a),(s||!f)&&_(o),s&&2===l)return new He(e,this.keyHash,u[1^c]);var d=e&&e===this.ownerID,p=d?u:E(u);return f?s?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),d?(this.entries=p,this):new Ve(e,this.keyHash,p)},He.prototype.get=function(e,t,n,r){return fe(n,this.entry[0])?this.entry[1]:r},He.prototype.update=function(e,t,n,r,i,o,a){var s=i===m,u=fe(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(_(a),s?void _(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new He(e,this.keyHash,[r,i]):(_(o),Ze(this,e,t,Se(r),[r,i])))},Fe.prototype.iterate=Ve.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},ze.prototype.iterate=Ke.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},He.prototype.iterate=function(e,t){return e(this.entry)},t($e,R),$e.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return qe(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return qe(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return qe(e,o.entry);t=this._stack=We(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var st=8,ut=16,ct=8;function lt(e){var t=wt();if(null==e)return t;if(ft(e))return e;var n=i(e),r=n.size;return 0===r?t:(Re(r),r>0&&r<g?bt(0,r,5,null,new ht(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function ft(e){return!(!e||!e[dt])}t(lt,ye),lt.of=function(){return this(arguments)},lt.prototype.toString=function(){return this.__toString("List [","]")},lt.prototype.get=function(e,t){if((e=x(this,e))>=0&&e<this.size){var n=Et(this,e+=this._origin);return n&&n.array[e&v]}return t},lt.prototype.set=function(e,t){return function(e,t,n){if((t=x(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?kt(e,t).set(0,n):kt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,o=w(b);return t>=Tt(e._capacity)?r=_t(r,e.__ownerID,0,t,n,o):i=_t(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):bt(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},lt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},lt.prototype.insert=function(e,t){return this.splice(e,0,t)},lt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):wt()},lt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){kt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},lt.prototype.pop=function(){return kt(this,0,-1)},lt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){kt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},lt.prototype.shift=function(){return kt(this,1)},lt.prototype.merge=function(){return xt(this,void 0,arguments)},lt.prototype.mergeWith=function(t){return xt(this,t,e.call(arguments,1))},lt.prototype.mergeDeep=function(){return xt(this,tt,arguments)},lt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return xt(this,nt(t),n)},lt.prototype.setSize=function(e){return kt(this,0,e)},lt.prototype.slice=function(e,t){var n=this.size;return O(e,t,n)?this:kt(this,A(e,n),I(t,n))},lt.prototype.__iterator=function(e,t){var n=0,r=yt(this,t);return new R((function(){var t=r();return t===mt?{value:void 0,done:!0}:j(e,n++,t)}))},lt.prototype.__iterate=function(e,t){for(var n,r=0,i=yt(this,t);(n=i())!==mt&&!1!==e(n,r++,this););return r},lt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?bt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},lt.isList=ft;var dt="@@__IMMUTABLE_LIST__@@",pt=lt.prototype;function ht(e,t){this.array=e,this.ownerID=t}pt[dt]=!0,pt.delete=pt.remove,pt.setIn=Be.setIn,pt.deleteIn=pt.removeIn=Be.removeIn,pt.update=Be.update,pt.updateIn=Be.updateIn,pt.mergeIn=Be.mergeIn,pt.mergeDeepIn=Be.mergeDeepIn,pt.withMutations=Be.withMutations,pt.asMutable=Be.asMutable,pt.asImmutable=Be.asImmutable,pt.wasAltered=Be.wasAltered,ht.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&v;if(r>=this.array.length)return new ht([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-5,n))===a&&o)return this}if(o&&!i)return this;var s=St(this,e);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},ht.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&v;if(i>=this.array.length)return this;if(t>0){var o=this.array[i];if((r=o&&o.removeAfter(e,t-5,n))===o&&i===this.array.length-1)return this}var a=St(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var gt,vt,mt={};function yt(e,t){var n=e._origin,r=e._capacity,i=Tt(r),o=e._tail;return a(e._root,e._level,0);function a(e,s,u){return 0===s?function(e,a){var s=a===i?o&&o.array:e&&e.array,u=a>n?0:n-a,c=r-a;return c>g&&(c=g),function(){if(u===c)return mt;var e=t?--c:u++;return s&&s[e]}}(e,u):function(e,i,o){var s,u=e&&e.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);return l>g&&(l=g),function(){for(;;){if(s){var e=s();if(e!==mt)return e;s=null}if(c===l)return mt;var n=t?--l:c++;s=a(u&&u[n],i-5,o+(n<<i))}}}(e,s,u)}}function bt(e,t,n,r,i,o,a){var s=Object.create(pt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function wt(){return gt||(gt=bt(0,0,5))}function _t(e,t,n,r,i,o){var a,s=r>>>n&v,u=e&&s<e.array.length;if(!u&&void 0===i)return e;if(n>0){var c=e&&e.array[s],l=_t(c,t,n-5,r,i,o);return l===c?e:((a=St(e,t)).array[s]=l,a)}return u&&e.array[s]===i?e:(_(o),a=St(e,t),void 0===i&&s===a.array.length-1?a.array.pop():a.array[s]=i,a)}function St(e,t){return t&&e&&t===e.ownerID?e:new ht(e?e.array.slice():[],t)}function Et(e,t){if(t>=Tt(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&v],r-=5;return n}}function kt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new S,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new ht(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=5);l&&(a+=l,i+=l,s+=l,o+=l);for(var f=Tt(o),d=Tt(s);d>=1<<u+5;)c=new ht(c&&c.array.length?[c]:[],r),u+=5;var p=e._tail,h=d<f?Et(e,s-1):d>f?new ht([],r):p;if(p&&d>f&&a<o&&p.array.length){for(var g=c=St(c,r),m=u;m>5;m-=5){var y=f>>>m&v;g=g.array[y]=St(g.array[y],r)}g.array[f>>>5&v]=p}if(s<o&&(h=h&&h.removeAfter(r,0,s)),a>=d)a-=d,s-=d,u=5,c=null,h=h&&h.removeBefore(r,0,a);else if(a>i||d<f){for(l=0;c;){var b=a>>>u&v;if(b!==d>>>u&v)break;b&&(l+=(1<<u)*b),u-=5,c=c.array[b]}c&&a>i&&(c=c.removeBefore(r,u,a-l)),c&&d<f&&(c=c.removeAfter(r,u,d-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):bt(a,s,u,c,h)}function xt(e,t,n){for(var r=[],o=0,s=0;s<n.length;s++){var u=n[s],c=i(u);c.size>o&&(o=c.size),a(u)||(c=c.map((function(e){return se(e)}))),r.push(c)}return o>e.size&&(e=e.setSize(o)),rt(e,t,r)}function Tt(e){return e<g?0:e-1>>>5<<5}function Ot(e){return null==e?Ct():At(e)?e:Ct().withMutations((function(t){var n=r(e);Re(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function At(e){return Ne(e)&&l(e)}function It(e,t,n,r){var i=Object.create(Ot.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function Ct(){return vt||(vt=It(Je(),wt()))}function Pt(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),u=void 0!==s;if(n===m){if(!u)return e;a.size>=g&&a.size>=2*o.size?(r=(i=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):It(r,i)}function Dt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Mt(e){this._iter=e,this.size=e.size}function Rt(e){this._iter=e,this.size=e.size}function jt(e){this._iter=e,this.size=e.size}function Nt(e){var t=Yt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Zt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new R((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function Lt(e,t,n){var r=Yt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,m);return o===m?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(2,i);return new R((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return j(r,s,t.call(n,a[1],s,e),i)}))},r}function Ut(e,t){var n=Yt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Nt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Zt,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Bt(e,t,n,r){var i=Yt(e);return r&&(i.has=function(r){var i=e.get(r,m);return i!==m&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,m);return o!==m&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,u){if(t.call(n,e,o,u))return s++,i(e,r?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(2,o),s=0;return new R((function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return j(i,r?c:s++,l,o)}}))},i}function Ft(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),O(t,n,i))return e;var o=A(t,i),a=I(n,i);if(o!=o||a!=a)return Ft(e.toSeq().cacheResult(),t,n,r);var s,u=a-o;u==u&&(s=u<0?0:u);var c=Yt(e);return c.size=0===s?s:e.size&&s||void 0,!r&&ee(e)&&s>=0&&(c.get=function(t,n){return(t=x(this,t))>=0&&t<s?e.get(t+o,n):n}),c.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,c=0;return e.__iterate((function(e,n){if(!u||!(u=a++<o))return c++,!1!==t(e,r?n:c-1,i)&&c!==s})),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,u=0;return new R((function(){for(;a++<o;)i.next();if(++u>s)return{value:void 0,done:!0};var e=i.next();return r||1===t?e:j(t,u-1,0===t?void 0:e.value[1],e)}))},c}function zt(e,t,n,r){var i=Yt(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return e.__iterate((function(e,o,c){if(!s||!(s=t.call(n,e,o,c)))return u++,i(e,r?o:u-1,a)})),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(2,o),u=!0,c=0;return new R((function(){var e,o,l;do{if((e=s.next()).done)return r||1===i?e:j(i,c++,0===i?void 0:e.value[1],e);var f=e.value;o=f[0],l=f[1],u&&(u=t.call(n,l,o,a))}while(u);return 2===i?e:j(i,o,l,e)}))},i}function Kt(e,t){var n=s(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?ne(e):re(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||n&&s(o)||u(e)&&u(o))return o}var c=new X(i);return n?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}function Vt(e,t,n){var r=Yt(e);return r.__iterateUncached=function(r,i){var o=0,s=!1;return function e(u,c){var l=this;u.__iterate((function(i,u){return(!t||c<t)&&a(i)?e(i,c+1):!1===r(i,n?u:o++,l)&&(s=!0),!s}),i)}(e,0),o},r.__iteratorUncached=function(r,i){var o=e.__iterator(r,i),s=[],u=0;return new R((function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(2===r&&(c=c[1]),t&&!(s.length<t)||!a(c))return n?e:j(r,u++,c,e);s.push(o),o=c.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}}))},r}function Ht(e,t,n){t||(t=en);var r=s(e),i=0,o=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return o.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?V(o):u(e)?H(o):$(o)}function $t(e,t,n){if(t||(t=en),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return qt(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return qt(t,e,n)?n:e}))}function qt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Wt(e,t,r){var i=Yt(e);return i.size=new X(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=n(e),B(i?e.reverse():e)})),a=0,s=!1;return new R((function(){var n;return s||(n=o.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?{value:void 0,done:!0}:j(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function Gt(e,t){return ee(e)?t:e.constructor(t)}function Jt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Xt(e){return Re(e.size),k(e)}function Qt(e){return s(e)?r:u(e)?i:o}function Yt(e){return Object.create((s(e)?V:u(e)?H:$).prototype)}function Zt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):K.prototype.cacheResult.call(this)}function en(e,t){return e>t?1:e<t?-1:0}function tn(e){var t=B(e);if(!t){if(!z(e))throw new TypeError("Expected iterable or array-like: "+e);t=B(n(e))}return t}function nn(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);(function(e,t){try{t.forEach(sn.bind(void 0,e))}catch(e){}})(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=je(o)},i=r.prototype=Object.create(rn);return i.constructor=r,r}t(Ot,je),Ot.of=function(){return this(arguments)},Ot.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ot.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ot.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ct()},Ot.prototype.set=function(e,t){return Pt(this,e,t)},Ot.prototype.remove=function(e){return Pt(this,e,m)},Ot.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ot.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},Ot.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ot.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?It(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ot.isOrderedMap=At,Ot.prototype[h]=!0,Ot.prototype.delete=Ot.prototype.remove,t(Dt,V),Dt.prototype.get=function(e,t){return this._iter.get(e,t)},Dt.prototype.has=function(e){return this._iter.has(e)},Dt.prototype.valueSeq=function(){return this._iter.valueSeq()},Dt.prototype.reverse=function(){var e=this,t=Ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Dt.prototype.map=function(e,t){var n=this,r=Lt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Dt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Xt(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Dt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(1,t),r=t?Xt(this):0;return new R((function(){var i=n.next();return i.done?i:j(e,t?--r:r++,i.value,i)}))},Dt.prototype[h]=!0,t(Mt,H),Mt.prototype.includes=function(e){return this._iter.includes(e)},Mt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Mt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t),r=0;return new R((function(){var t=n.next();return t.done?t:j(e,r++,t.value,t)}))},t(Rt,$),Rt.prototype.has=function(e){return this._iter.includes(e)},Rt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new R((function(){var t=n.next();return t.done?t:j(e,t.value,t.value,t)}))},t(jt,V),jt.prototype.entrySeq=function(){return this._iter.toSeq()},jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Jt(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new R((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Jt(r);var i=a(r);return j(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Mt.prototype.cacheResult=Dt.prototype.cacheResult=Rt.prototype.cacheResult=jt.prototype.cacheResult=Zt,t(nn,me),nn.prototype.toString=function(){return this.__toString(an(this)+" {","}")},nn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},nn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},nn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=on(this,Je()))},nn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+an(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:on(this,n)},nn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:on(this,t)},nn.prototype.wasAltered=function(){return this._map.wasAltered()},nn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},nn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},nn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?on(this,t,e):(this.__ownerID=e,this._map=t,this)};var rn=nn.prototype;function on(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function an(e){return e._name||e.constructor.name||"Record"}function sn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){he(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function un(e){return null==e?gn():cn(e)&&!l(e)?e:gn().withMutations((function(t){var n=o(e);Re(n.size),n.forEach((function(e){return t.add(e)}))}))}function cn(e){return!(!e||!e[fn])}rn.delete=rn.remove,rn.deleteIn=rn.removeIn=Be.removeIn,rn.merge=Be.merge,rn.mergeWith=Be.mergeWith,rn.mergeIn=Be.mergeIn,rn.mergeDeep=Be.mergeDeep,rn.mergeDeepWith=Be.mergeDeepWith,rn.mergeDeepIn=Be.mergeDeepIn,rn.setIn=Be.setIn,rn.update=Be.update,rn.updateIn=Be.updateIn,rn.withMutations=Be.withMutations,rn.asMutable=Be.asMutable,rn.asImmutable=Be.asImmutable,t(un,be),un.of=function(){return this(arguments)},un.fromKeys=function(e){return this(r(e).keySeq())},un.prototype.toString=function(){return this.__toString("Set {","}")},un.prototype.has=function(e){return this._map.has(e)},un.prototype.add=function(e){return pn(this,this._map.set(e,!0))},un.prototype.remove=function(e){return pn(this,this._map.remove(e))},un.prototype.clear=function(){return pn(this,this._map.clear())},un.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},un.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},un.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return o(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},un.prototype.merge=function(){return this.union.apply(this,arguments)},un.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},un.prototype.sort=function(e){return vn(Ht(this,e))},un.prototype.sortBy=function(e,t){return vn(Ht(this,t,e))},un.prototype.wasAltered=function(){return this._map.wasAltered()},un.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},un.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},un.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},un.isSet=cn;var ln,fn="@@__IMMUTABLE_SET__@@",dn=un.prototype;function pn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function hn(e,t){var n=Object.create(dn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function gn(){return ln||(ln=hn(Je()))}function vn(e){return null==e?_n():mn(e)?e:_n().withMutations((function(t){var n=o(e);Re(n.size),n.forEach((function(e){return t.add(e)}))}))}function mn(e){return cn(e)&&l(e)}dn[fn]=!0,dn.delete=dn.remove,dn.mergeDeep=dn.merge,dn.mergeDeepWith=dn.mergeWith,dn.withMutations=Be.withMutations,dn.asMutable=Be.asMutable,dn.asImmutable=Be.asImmutable,dn.__empty=gn,dn.__make=hn,t(vn,un),vn.of=function(){return this(arguments)},vn.fromKeys=function(e){return this(r(e).keySeq())},vn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vn.isOrderedSet=mn;var yn,bn=vn.prototype;function wn(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function _n(){return yn||(yn=wn(Ct()))}function Sn(e){return null==e?An():En(e)?e:An().unshiftAll(e)}function En(e){return!(!e||!e[xn])}bn[h]=!0,bn.__empty=_n,bn.__make=wn,t(Sn,ye),Sn.of=function(){return this(arguments)},Sn.prototype.toString=function(){return this.__toString("Stack [","]")},Sn.prototype.get=function(e,t){var n=this._head;for(e=x(this,e);n&&e--;)n=n.next;return n?n.value:t},Sn.prototype.peek=function(){return this._head&&this._head.value},Sn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):On(e,t)},Sn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Re(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):On(t,n)},Sn.prototype.pop=function(){return this.slice(1)},Sn.prototype.unshift=function(){return this.push.apply(this,arguments)},Sn.prototype.unshiftAll=function(e){return this.pushAll(e)},Sn.prototype.shift=function(){return this.pop.apply(this,arguments)},Sn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):An()},Sn.prototype.slice=function(e,t){if(O(e,t,this.size))return this;var n=A(e,this.size);if(I(t,this.size)!==this.size)return ye.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):On(r,i)},Sn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?On(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Sn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Sn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new R((function(){if(r){var t=r.value;return r=r.next,j(e,n++,t)}return{value:void 0,done:!0}}))},Sn.isStack=En;var kn,xn="@@__IMMUTABLE_STACK__@@",Tn=Sn.prototype;function On(e,t,n,r){var i=Object.create(Tn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function An(){return kn||(kn=On(0))}function In(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Tn[xn]=!0,Tn.withMutations=Be.withMutations,Tn.asMutable=Be.asMutable,Tn.asImmutable=Be.asImmutable,Tn.wasAltered=Be.wasAltered,n.Iterator=R,In(n,{toArray:function(){Re(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Mt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Dt(this,!0)},toMap:function(){return je(this.toKeyedSeq())},toObject:function(){Re(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return Ot(this.toKeyedSeq())},toOrderedSet:function(){return vn(s(this)?this.valueSeq():this)},toSet:function(){return un(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Rt(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sn(s(this)?this.valueSeq():this)},toList:function(){return lt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return Gt(this,Kt(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return fe(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){Re(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1})),n},filter:function(e,t){return Gt(this,Bt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Re(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Re(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Gt(this,Lt(this,e,t))},reduce:function(e,t,n){var r,i;return Re(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Gt(this,Ut(this,!0))},slice:function(e,t){return Gt(this,Ft(this,e,t,!0))},some:function(e,t){return!this.every(Rn(e),t)},sort:function(e){return Gt(this,Ht(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return k(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=je().asMutable();return e.__iterate((function(i,o){r.update(t.call(n,i,o,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return de(this,e)},entrySeq:function(){var e=this;if(e._cache)return new X(e._cache);var t=e.toSeq().map(Mn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Rn(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(T)},flatMap:function(e,t){return Gt(this,function(e,t,n){var r=Qt(e);return e.toSeq().map((function(i,o){return r(t.call(n,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Gt(this,Vt(this,e,!0))},fromEntrySeq:function(){return new jt(this)},get:function(e,t){return this.find((function(t,n){return fe(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=tn(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,m):m)===m)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=s(e),i=(l(e)?Ot():je()).asMutable();e.__iterate((function(o,a){i.update(t.call(n,o,a,e),(function(e){return(e=e||[]).push(r?[a,o]:o),e}))}));var o=Qt(e);return i.map((function(t){return Gt(e,o(t))}))}(this,e,t)},has:function(e){return this.get(e,m)!==m},hasIn:function(e){return this.getIn(e,m)!==m},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map(Dn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return $t(this,e)},maxBy:function(e,t){return $t(this,t,e)},min:function(e){return $t(this,e?jn(e):Un)},minBy:function(e,t){return $t(this,t?jn(t):Un,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Gt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Gt(this,zt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Rn(e),t)},sortBy:function(e,t){return Gt(this,Ht(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Gt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Gt(this,function(e,t,n){var r=Yt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)})),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(2,i),s=!0;return new R((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(n,c,u,o)?2===r?e:j(r,u,c,e):(s=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Rn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=l(e),n=s(e),r=t?1:0;return function(e,t){return t=we(t,3432918353),t=we(t<<15|t>>>-15,461845907),t=we(t<<13|t>>>-13,5),t=we((t=(t+3864292196|0)^e)^t>>>16,2246822507),_e((t=we(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Bn(Se(e),Se(t))|0}:function(e,t){r=r+Bn(Se(e),Se(t))|0}:t?function(e){r=31*r+Se(e)|0}:function(e){r=r+Se(e)|0}),r)}(this))}});var Cn=n.prototype;Cn[f]=!0,Cn[M]=Cn.values,Cn.__toJS=Cn.toArray,Cn.__toStringMapper=Nn,Cn.inspect=Cn.toSource=function(){return this.toString()},Cn.chain=Cn.flatMap,Cn.contains=Cn.includes,function(){try{Object.defineProperty(Cn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),In(r,{flip:function(){return Gt(this,Nt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey((function(t){return fe(t,e)}))},lastKeyOf:function(e){return this.findLastKey((function(t){return fe(t,e)}))},mapEntries:function(e,t){var n=this,r=0;return Gt(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Gt(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Pn=r.prototype;function Dn(e,t){return t}function Mn(e,t){return[t,e]}function Rn(e){return function(){return!e.apply(this,arguments)}}function jn(e){return function(){return-e.apply(this,arguments)}}function Nn(e){return"string"==typeof e?JSON.stringify(e):e}function Ln(){return E(arguments)}function Un(e,t){return e<t?1:e>t?-1:0}function Bn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Pn[d]=!0,Pn[M]=Cn.entries,Pn.__toJS=Cn.toObject,Pn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Nn(e)},In(i,{toKeyedSeq:function(){return new Dt(this,!1)},filter:function(e,t){return Gt(this,Bt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Gt(this,Ut(this,!1))},slice:function(e,t){return Gt(this,Ft(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=A(e,e<0?this.count():this.size);var r=this.slice(0,e);return Gt(this,1===n?r:r.concat(E(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Gt(this,Vt(this,e,!1))},get:function(e,t){return(e=x(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=x(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Gt(this,function(e,t){var n=Yt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate((function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(1,r),a=0;return new R((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?j(n,a++,t):j(n,a++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(E(arguments)),t=Wt(this.toSeq(),H.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Gt(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Gt(this,zt(this,e,t,!1))},zip:function(){return Gt(this,Wt(this,Ln,[this].concat(E(arguments))))},zipWith:function(e){var t=E(arguments);return t[0]=this,Gt(this,Wt(this,e,t))}}),i.prototype[p]=!0,i.prototype[h]=!0,In(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Cn.includes,In(V,r.prototype),In(H,i.prototype),In($,o.prototype),In(me,r.prototype),In(ye,i.prototype),In(be,o.prototype),{Iterable:n,Seq:K,Collection:ve,Map:je,OrderedMap:Ot,List:lt,Stack:Sn,Set:un,OrderedSet:vn,Record:nn,Range:ge,Repeat:pe,is:fe,fromJS:se}}()},39515:(e,t,n)=>{var r=n(38761)(n(37772),"DataView");e.exports=r},89612:(e,t,n)=>{var r=n(52118),i=n(96909),o=n(98138),a=n(4174),s=n(7942);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},66504:(e,t,n)=>{var r=n(39413),i=n(73620);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},80235:(e,t,n)=>{var r=n(3945),i=n(21846),o=n(88028),a=n(72344),s=n(94769);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},45859:(e,t,n)=>{var r=n(39413),i=n(73620);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},10326:(e,t,n)=>{var r=n(38761)(n(37772),"Map");e.exports=r},96738:(e,t,n)=>{var r=n(92411),i=n(36417),o=n(86928),a=n(79493),s=n(24150);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},52760:(e,t,n)=>{var r=n(38761)(n(37772),"Promise");e.exports=r},2143:(e,t,n)=>{var r=n(38761)(n(37772),"Set");e.exports=r},45386:(e,t,n)=>{var r=n(96738),i=n(52842),o=n(52482);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},86571:(e,t,n)=>{var r=n(80235),i=n(15243),o=n(72858),a=n(4417),s=n(8605),u=n(71418);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},50857:(e,t,n)=>{var r=n(37772).Symbol;e.exports=r},79162:(e,t,n)=>{var r=n(37772).Uint8Array;e.exports=r},93215:(e,t,n)=>{var r=n(38761)(n(37772),"WeakMap");e.exports=r},49432:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},65338:e=>{e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},72517:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},67552:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},38333:(e,t,n)=>{var r=n(77832);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},1634:(e,t,n)=>{var r=n(36473),i=n(79631),o=n(86152),a=n(73226),s=n(39045),u=n(77598),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),p=n||l||f||d,h=p?r(e.length,String):[],g=h.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||f&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||h.push(v);return h}},50343:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},65067:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},87064:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},60091:(e,t,n)=>{var r=n(13940),i=n(41225),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},22218:(e,t,n)=>{var r=n(41225);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},12825:(e,t,n)=>{var r=n(24303);e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,e,n(e),o)})),i}},67993:(e,t,n)=>{var r=n(752),i=n(90249);e.exports=function(e,t){return e&&r(t,i(t),e)}},55906:(e,t,n)=>{var r=n(752),i=n(18582);e.exports=function(e,t){return e&&r(t,i(t),e)}},13940:(e,t,n)=>{var r=n(83043);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},18874:(e,t,n)=>{var r=n(86571),i=n(72517),o=n(60091),a=n(67993),s=n(55906),u=n(92175),c=n(51522),l=n(7680),f=n(19987),d=n(13483),p=n(76939),h=n(70940),g=n(99917),v=n(8222),m=n(78725),y=n(86152),b=n(73226),w=n(4714),_=n(29259),S=n(43679),E=n(90249),k=n(18582),x="[object Arguments]",T="[object Function]",O="[object Object]",A={};A[x]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[O]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[T]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,I,C,P,D){var M,R=1&n,j=2&n,N=4&n;if(I&&(M=P?I(t,C,P,D):I(t)),void 0!==M)return M;if(!_(t))return t;var L=y(t);if(L){if(M=g(t),!R)return c(t,M)}else{var U=h(t),B=U==T||"[object GeneratorFunction]"==U;if(b(t))return u(t,R);if(U==O||U==x||B&&!P){if(M=j||B?{}:m(t),!R)return j?f(t,s(M,t)):l(t,a(M,t))}else{if(!A[U])return P?t:{};M=v(t,U,R)}}D||(D=new r);var F=D.get(t);if(F)return F;D.set(t,M),S(t)?t.forEach((function(r){M.add(e(r,n,I,r,t,D))})):w(t)&&t.forEach((function(r,i){M.set(i,e(r,n,I,i,t,D))}));var z=L?void 0:(N?j?p:d:j?k:E)(t);return i(z||t,(function(r,i){z&&(r=t[i=r]),o(M,i,e(r,n,I,i,t,D))})),M}},39413:(e,t,n)=>{var r=n(29259),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},24303:(e,t,n)=>{var r=n(26548),i=n(92019)(r);e.exports=i},21359:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},15308:(e,t,n)=>{var r=n(55463)();e.exports=r},26548:(e,t,n)=>{var r=n(15308),i=n(90249);e.exports=function(e,t){return e&&r(e,t,i)}},13324:(e,t,n)=>{var r=n(17297),i=n(33812);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1897:(e,t,n)=>{var r=n(65067),i=n(86152);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},53366:(e,t,n)=>{var r=n(50857),i=n(62107),o=n(37157),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},20187:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},77832:(e,t,n)=>{var r=n(21359),i=n(22195),o=n(66024);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},15183:(e,t,n)=>{var r=n(53366),i=n(15125);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},88746:(e,t,n)=>{var r=n(51952),i=n(15125);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},51952:(e,t,n)=>{var r=n(86571),i=n(74871),o=n(11491),a=n(17416),s=n(70940),u=n(86152),c=n(73226),l=n(77598),f="[object Arguments]",d="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=u(e),b=u(t),w=y?d:s(e),_=b?d:s(t),S=(w=w==f?p:w)==p,E=(_=_==f?p:_)==p,k=w==_;if(k&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(k&&!S)return m||(m=new r),y||l(e)?i(e,t,n,g,v,m):o(e,t,w,n,g,v,m);if(!(1&n)){var x=S&&h.call(e,"__wrapped__"),T=E&&h.call(t,"__wrapped__");if(x||T){var O=x?e.value():e,A=T?t.value():t;return m||(m=new r),v(O,A,n,g,m)}}return!!k&&(m||(m=new r),a(e,t,n,g,v,m))}},74511:(e,t,n)=>{var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},37036:(e,t,n)=>{var r=n(86571),i=n(88746);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var p=new r;if(o)var h=o(f,d,l,e,t,p);if(!(void 0===h?i(d,f,3,o,p):h))return!1}}return!0}},22195:e=>{e.exports=function(e){return e!=e}},6840:(e,t,n)=>{var r=n(61049),i=n(47394),o=n(29259),a=n(87035),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8109:(e,t,n)=>{var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},35522:(e,t,n)=>{var r=n(53366),i=n(61158),o=n(15125),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},68286:(e,t,n)=>{var r=n(26423),i=n(74716),o=n(23059),a=n(86152),s=n(65798);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},86411:(e,t,n)=>{var r=n(16001),i=n(54248),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},18390:(e,t,n)=>{var r=n(29259),i=n(16001),o=n(62966),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},73620:e=>{e.exports=function(){}},26423:(e,t,n)=>{var r=n(37036),i=n(49882),o=n(73477);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},74716:(e,t,n)=>{var r=n(88746),i=n(72579),o=n(95041),a=n(21401),s=n(28792),u=n(73477),c=n(33812);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},20256:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},82952:(e,t,n)=>{var r=n(13324);e.exports=function(e){return function(t){return r(t,e)}}},54817:(e,t,n)=>{var r=n(23059),i=n(70529),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},86532:(e,t,n)=>{var r=n(86874),i=n(83043),o=n(23059),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},36473:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1054:(e,t,n)=>{var r=n(50857),i=n(50343),o=n(86152),a=n(4795),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},51704:(e,t,n)=>{var r=n(52153),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},47826:e=>{e.exports=function(e){return function(t){return e(t)}}},59950:e=>{e.exports=function(e,t){return e.has(t)}},17297:(e,t,n)=>{var r=n(86152),i=n(21401),o=n(54452),a=n(66188);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},79882:(e,t,n)=>{var r=n(79162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},92175:(e,t,n)=>{e=n.nmd(e);var r=n(37772),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},34727:(e,t,n)=>{var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},96058:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},70169:(e,t,n)=>{var r=n(50857),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},6190:(e,t,n)=>{var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},11495:e=>{var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=n.length,l=t(a-s,0),f=Array(c+l),d=!i;++u<c;)f[u]=n[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}},152:e=>{var t=Math.max;e.exports=function(e,n,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=n.length,f=t(a-u,0),d=Array(f+l),p=!i;++o<f;)d[o]=e[o];for(var h=o;++c<l;)d[h+c]=n[c];for(;++s<u;)(p||o<a)&&(d[h+r[s]]=e[o++]);return d}},51522:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},752:(e,t,n)=>{var r=n(60091),i=n(13940);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},7680:(e,t,n)=>{var r=n(752),i=n(80633);e.exports=function(e,t){return r(e,i(e),t)}},19987:(e,t,n)=>{var r=n(752),i=n(12680);e.exports=function(e,t){return r(e,i(e),t)}},24019:(e,t,n)=>{var r=n(37772)["__core-js_shared__"];e.exports=r},61176:e=>{e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},36740:(e,t,n)=>{var r=n(65338),i=n(12825),o=n(68286),a=n(86152);e.exports=function(e,t){return function(n,s){var u=a(n)?r:i,c=t?t():{};return u(n,e,o(s,2),c)}}},92019:(e,t,n)=>{var r=n(67878);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},55463:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},23485:(e,t,n)=>{var r=n(52248),i=n(37772);e.exports=function(e,t,n){var o=1&t,a=r(e);return function t(){var r=this&&this!==i&&this instanceof t?a:e;return r.apply(o?n:this,arguments)}}},52248:(e,t,n)=>{var r=n(39413),i=n(29259);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},98462:(e,t,n)=>{var r=n(49432),i=n(52248),o=n(90764),a=n(57891),s=n(13325),u=n(90527),c=n(37772);e.exports=function(e,t,n){var l=i(e);return function i(){for(var f=arguments.length,d=Array(f),p=f,h=s(i);p--;)d[p]=arguments[p];var g=f<3&&d[0]!==h&&d[f-1]!==h?[]:u(d,h);if((f-=g.length)<n)return a(e,t,o,i.placeholder,void 0,d,g,void 0,void 0,n-f);var v=this&&this!==c&&this instanceof i?l:e;return r(v,this,d)}}},90764:(e,t,n)=>{var r=n(11495),i=n(152),o=n(61176),a=n(52248),s=n(57891),u=n(13325),c=n(33418),l=n(90527),f=n(37772);e.exports=function e(t,n,d,p,h,g,v,m,y,b){var w=128&n,_=1&n,S=2&n,E=24&n,k=512&n,x=S?void 0:a(t);return function T(){for(var O=arguments.length,A=Array(O),I=O;I--;)A[I]=arguments[I];if(E)var C=u(T),P=o(A,C);if(p&&(A=r(A,p,h,E)),g&&(A=i(A,g,v,E)),O-=P,E&&O<b){var D=l(A,C);return s(t,n,e,T.placeholder,d,A,D,m,y,b-O)}var M=_?d:this,R=S?M[t]:t;return O=A.length,m?A=c(A,m):k&&O>1&&A.reverse(),w&&y<O&&(A.length=y),this&&this!==f&&this instanceof T&&(R=x||a(R)),R.apply(M,A)}}},85468:(e,t,n)=>{var r=n(49432),i=n(52248),o=n(37772);e.exports=function(e,t,n,a){var s=1&t,u=i(e);return function t(){for(var i=-1,c=arguments.length,l=-1,f=a.length,d=Array(f+c),p=this&&this!==o&&this instanceof t?u:e;++l<f;)d[l]=a[l];for(;c--;)d[l++]=arguments[++i];return r(p,s?n:this,d)}}},57891:(e,t,n)=>{var r=n(93735),i=n(29890),o=n(15877);e.exports=function(e,t,n,a,s,u,c,l,f,d){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var h=[e,t,s,p?u:void 0,p?c:void 0,p?void 0:u,p?void 0:c,l,f,d],g=n.apply(void 0,h);return r(e)&&i(g,h),g.placeholder=a,o(g,e,t)}},87902:(e,t,n)=>{var r=n(54817),i=n(23485),o=n(98462),a=n(90764),s=n(85468),u=n(78203),c=n(79e3),l=n(29890),f=n(15877),d=n(38101),p=Math.max;e.exports=function(e,t,n,h,g,v,m,y){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var w=h?h.length:0;if(w||(t&=-97,h=g=void 0),m=void 0===m?m:p(d(m),0),y=void 0===y?y:d(y),w-=g?g.length:0,64&t){var _=h,S=g;h=g=void 0}var E=b?void 0:u(e),k=[e,t,n,h,g,_,S,v,m,y];if(E&&c(k,E),e=k[0],t=k[1],n=k[2],h=k[3],g=k[4],!(y=k[9]=void 0===k[9]?b?0:e.length:p(k[9]-w,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||16==t?o(e,t,y):32!=t&&33!=t||g.length?a.apply(void 0,k):s(e,t,n,h);else var x=i(e,t,n);return f((E?r:l)(x,k),e,t)}},83043:(e,t,n)=>{var r=n(38761),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},74871:(e,t,n)=>{var r=n(45386),i=n(87064),o=n(59950);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var h=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var m=e[h],y=t[h];if(a)var b=c?a(y,m,h,t,e,u):a(m,y,h,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(m===e||s(m,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},11491:(e,t,n)=>{var r=n(50857),i=n(79162),o=n(41225),a=n(74871),s=n(75179),u=n(16909),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var g=d.get(e);if(g)return g==t;r|=2,d.set(e,t);var v=a(p(e),p(t),r,c,f,d);return d.delete(e),v;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},17416:(e,t,n)=>{var r=n(13483),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:i.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<l;){var m=e[d=c[f]],y=t[d];if(o)var b=u?o(y,m,d,t,e,s):o(m,y,d,e,t,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){g=!1;break}v||(v="constructor"==d)}if(g&&!v){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(g=!1)}return s.delete(e),s.delete(t),g}},51242:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},13483:(e,t,n)=>{var r=n(1897),i=n(80633),o=n(90249);e.exports=function(e){return r(e,o,i)}},76939:(e,t,n)=>{var r=n(1897),i=n(12680),o=n(18582);e.exports=function(e){return r(e,o,i)}},78203:(e,t,n)=>{var r=n(70529),i=n(34291),o=r?function(e){return r.get(e)}:i;e.exports=o},59350:(e,t,n)=>{var r=n(29212),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},13325:e=>{e.exports=function(e){return e.placeholder}},27937:(e,t,n)=>{var r=n(98304);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},49882:(e,t,n)=>{var r=n(28792),i=n(90249);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},38761:(e,t,n)=>{var r=n(6840),i=n(98109);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},47353:(e,t,n)=>{var r=n(60241)(Object.getPrototypeOf,Object);e.exports=r},62107:(e,t,n)=>{var r=n(50857),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},80633:(e,t,n)=>{var r=n(67552),i=n(30981),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},12680:(e,t,n)=>{var r=n(65067),i=n(47353),o=n(80633),a=n(30981),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},70940:(e,t,n)=>{var r=n(39515),i=n(10326),o=n(52760),a=n(2143),s=n(93215),u=n(53366),c=n(87035),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",h="[object DataView]",g=c(r),v=c(i),m=c(o),y=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=h||i&&w(new i)!=l||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=p)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return h;case v:return l;case m:return f;case y:return d;case b:return p}return t}),e.exports=w},98109:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},74842:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var r=e.match(t);return r?r[1].split(n):[]}},1369:(e,t,n)=>{var r=n(17297),i=n(79631),o=n(86152),a=n(39045),s=n(61158),u=n(33812);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=u(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}},52118:(e,t,n)=>{var r=n(99191);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},96909:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},98138:(e,t,n)=>{var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4174:(e,t,n)=>{var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7942:(e,t,n)=>{var r=n(99191);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},99917:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8222:(e,t,n)=>{var r=n(79882),i=n(34727),o=n(96058),a=n(70169),s=n(6190);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},78725:(e,t,n)=>{var r=n(39413),i=n(47353),o=n(16001);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},68442:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var r=n.length;if(!r)return e;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},39045:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},21401:(e,t,n)=>{var r=n(86152),i=n(4795),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},98304:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},93735:(e,t,n)=>{var r=n(66504),i=n(78203),o=n(59350),a=n(68674);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},47394:(e,t,n)=>{var r,i=n(24019),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},16001:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},28792:(e,t,n)=>{var r=n(29259);e.exports=function(e){return e==e&&!r(e)}},3945:e=>{e.exports=function(){this.__data__=[],this.size=0}},21846:(e,t,n)=>{var r=n(22218),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},88028:(e,t,n)=>{var r=n(22218);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},72344:(e,t,n)=>{var r=n(22218);e.exports=function(e){return r(this.__data__,e)>-1}},94769:(e,t,n)=>{var r=n(22218);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},92411:(e,t,n)=>{var r=n(89612),i=n(80235),o=n(10326);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},36417:(e,t,n)=>{var r=n(27937);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},86928:(e,t,n)=>{var r=n(27937);e.exports=function(e){return r(this,e).get(e)}},79493:(e,t,n)=>{var r=n(27937);e.exports=function(e){return r(this,e).has(e)}},24150:(e,t,n)=>{var r=n(27937);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},75179:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},73477:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},77777:(e,t,n)=>{var r=n(30733);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},79e3:(e,t,n)=>{var r=n(11495),i=n(152),o=n(90527),a="__lodash_placeholder__",s=Math.min;e.exports=function(e,t){var n=e[1],u=t[1],c=n|u,l=c<131,f=128==u&&8==n||128==u&&256==n&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==n;if(!l&&!f)return e;1&u&&(e[2]=t[2],c|=1&n?0:4);var d=t[3];if(d){var p=e[3];e[3]=p?r(p,d,t[4]):d,e[4]=p?o(e[3],a):t[4]}return(d=t[5])&&(p=e[5],e[5]=p?i(p,d,t[6]):d,e[6]=p?o(e[5],a):t[6]),(d=t[7])&&(e[7]=d),128&u&&(e[8]=null==e[8]?t[8]:s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}},70529:(e,t,n)=>{var r=n(93215),i=r&&new r;e.exports=i},99191:(e,t,n)=>{var r=n(38761)(Object,"create");e.exports=r},54248:(e,t,n)=>{var r=n(60241)(Object.keys,Object);e.exports=r},62966:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},4146:(e,t,n)=>{e=n.nmd(e);var r=n(51242),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},37157:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60241:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},29212:e=>{e.exports={}},33418:(e,t,n)=>{var r=n(51522),i=n(39045),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var u=t[a];e[a]=i(u,n)?s[u]:void 0}return e}},90527:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==n&&s!==t||(e[r]=t,a[o++]=r)}return a}},37772:(e,t,n)=>{var r=n(51242),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},52842:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},52482:e=>{e.exports=function(e){return this.__data__.has(e)}},29890:(e,t,n)=>{var r=n(54817),i=n(97787)(r);e.exports=i},16909:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},75251:(e,t,n)=>{var r=n(86532),i=n(97787)(r);e.exports=i},15877:(e,t,n)=>{var r=n(74842),i=n(68442),o=n(75251),a=n(16985);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},97787:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},15243:(e,t,n)=>{var r=n(80235);e.exports=function(){this.__data__=new r,this.size=0}},72858:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4417:e=>{e.exports=function(e){return this.__data__.get(e)}},8605:e=>{e.exports=function(e){return this.__data__.has(e)}},71418:(e,t,n)=>{var r=n(80235),i=n(10326),o=n(96738);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},66024:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},54452:(e,t,n)=>{var r=n(77777),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},33812:(e,t,n)=>{var r=n(4795);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},87035:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},52153:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},16985:(e,t,n)=>{var r=n(72517),i=n(38333),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},67366:(e,t,n)=>{var r=n(66504),i=n(45859),o=n(51522);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},9850:(e,t,n)=>{var r=n(18874);e.exports=function(e){return r(e,5)}},86874:e=>{e.exports=function(e){return function(){return e}}},12957:(e,t,n)=>{var r=n(87902);function i(e,t,n){var o=r(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=i.placeholder,o}i.placeholder={},e.exports=i},41225:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},72579:(e,t,n)=>{var r=n(13324);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},95041:(e,t,n)=>{var r=n(20187),i=n(1369);e.exports=function(e,t){return null!=e&&i(e,t,r)}},23059:e=>{e.exports=function(e){return e}},79631:(e,t,n)=>{var r=n(15183),i=n(15125),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},86152:e=>{var t=Array.isArray;e.exports=t},67878:(e,t,n)=>{var r=n(61049),i=n(61158);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},73226:(e,t,n)=>{e=n.nmd(e);var r=n(37772),i=n(36330),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},61049:(e,t,n)=>{var r=n(53366),i=n(29259);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},61158:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},4714:(e,t,n)=>{var r=n(74511),i=n(47826),o=n(4146),a=o&&o.isMap,s=a?i(a):r;e.exports=s},29259:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},43679:(e,t,n)=>{var r=n(8109),i=n(47826),o=n(4146),a=o&&o.isSet,s=a?i(a):r;e.exports=s},4795:(e,t,n)=>{var r=n(53366),i=n(15125);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},77598:(e,t,n)=>{var r=n(35522),i=n(47826),o=n(4146),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},90249:(e,t,n)=>{var r=n(1634),i=n(86411),o=n(67878);e.exports=function(e){return o(e)?r(e):i(e)}},18582:(e,t,n)=>{var r=n(1634),i=n(18390),o=n(67878);e.exports=function(e){return o(e)?r(e,!0):i(e)}},56974:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},76635:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=32,c=128,l=1/0,f=9007199254740991,d=NaN,p=4294967295,h=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],g="[object Arguments]",v="[object Array]",m="[object Boolean]",y="[object Date]",b="[object Error]",w="[object Function]",_="[object GeneratorFunction]",S="[object Map]",E="[object Number]",k="[object Object]",x="[object Promise]",T="[object RegExp]",O="[object Set]",A="[object String]",I="[object Symbol]",C="[object WeakMap]",P="[object ArrayBuffer]",D="[object DataView]",M="[object Float32Array]",R="[object Float64Array]",j="[object Int8Array]",N="[object Int16Array]",L="[object Int32Array]",U="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",z="[object Uint32Array]",K=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,W=RegExp($.source),G=RegExp(q.source),J=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ae=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,we=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xe="["+ke+"]",Te="["+_e+"]",Oe="\\d+",Ae="["+Se+"]",Ie="[^\\ud800-\\udfff"+ke+Oe+"\\u2700-\\u27bf"+Se+Ee+"]",Ce="\\ud83c[\\udffb-\\udfff]",Pe="[^\\ud800-\\udfff]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Me="[\\ud800-\\udbff][\\udc00-\\udfff]",Re="["+Ee+"]",je="(?:"+Ae+"|"+Ie+")",Ne="(?:"+Re+"|"+Ie+")",Le="(?:['’](?:d|ll|m|re|s|t|ve))?",Ue="(?:['’](?:D|LL|M|RE|S|T|VE))?",Be="(?:"+Te+"|"+Ce+")?",Fe="[\\ufe0e\\ufe0f]?",ze=Fe+Be+"(?:\\u200d(?:"+[Pe,De,Me].join("|")+")"+Fe+Be+")*",Ke="(?:"+["[\\u2700-\\u27bf]",De,Me].join("|")+")"+ze,Ve="(?:"+[Pe+Te+"?",Te,De,Me,"[\\ud800-\\udfff]"].join("|")+")",He=RegExp("['’]","g"),$e=RegExp(Te,"g"),qe=RegExp(Ce+"(?="+Ce+")|"+Ve+ze,"g"),We=RegExp([Re+"?"+Ae+"+"+Le+"(?="+[xe,Re,"$"].join("|")+")",Ne+"+"+Ue+"(?="+[xe,Re+je,"$"].join("|")+")",Re+"?"+je+"+"+Le,Re+"+"+Ue,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Ke].join("|"),"g"),Ge=RegExp("[\\u200d\\ud800-\\udfff"+_e+"\\ufe0e\\ufe0f]"),Je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qe=-1,Ye={};Ye[M]=Ye[R]=Ye[j]=Ye[N]=Ye[L]=Ye[U]=Ye[B]=Ye[F]=Ye[z]=!0,Ye[g]=Ye[v]=Ye[P]=Ye[m]=Ye[D]=Ye[y]=Ye[b]=Ye[w]=Ye[S]=Ye[E]=Ye[k]=Ye[T]=Ye[O]=Ye[A]=Ye[C]=!1;var Ze={};Ze[g]=Ze[v]=Ze[P]=Ze[D]=Ze[m]=Ze[y]=Ze[M]=Ze[R]=Ze[j]=Ze[N]=Ze[L]=Ze[S]=Ze[E]=Ze[k]=Ze[T]=Ze[O]=Ze[A]=Ze[I]=Ze[U]=Ze[B]=Ze[F]=Ze[z]=!0,Ze[b]=Ze[w]=Ze[C]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,it="object"==typeof self&&self&&self.Object===Object&&self,ot=rt||it||Function("return this")(),at=t&&!t.nodeType&&t,st=at&&e&&!e.nodeType&&e,ut=st&&st.exports===at,ct=ut&&rt.process,lt=function(){try{return st&&st.require&&st.require("util").types||ct&&ct.binding&&ct.binding("util")}catch(e){}}(),ft=lt&&lt.isArrayBuffer,dt=lt&&lt.isDate,pt=lt&&lt.isMap,ht=lt&&lt.isRegExp,gt=lt&&lt.isSet,vt=lt&&lt.isTypedArray;function mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function yt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function St(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Et(e,t){return!(null==e||!e.length)&&Mt(e,t,0)>-1}function kt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function xt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Tt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Ot(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function At(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ct=Lt("length");function Pt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Dt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Mt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Dt(e,jt,n)}function Rt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function jt(e){return e!=e}function Nt(e,t){var n=null==e?0:e.length;return n?Ft(e,t)/n:d}function Lt(e){return function(t){return null==t?i:t[e]}}function Ut(e){return function(t){return null==e?i:e[t]}}function Bt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ft(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,sn(e)+1).replace(re,""):e}function Vt(e){return function(t){return e(t)}}function Ht(e,t){return xt(t,(function(t){return e[t]}))}function $t(e,t){return e.has(t)}function qt(e,t){for(var n=-1,r=e.length;++n<r&&Mt(t,e[n],0)>-1;);return n}function Wt(e,t){for(var n=e.length;n--&&Mt(t,e[n],0)>-1;);return n}function Gt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Jt=Ut({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Xt=Ut({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Qt(e){return"\\"+et[e]}function Yt(e){return Ge.test(e)}function Zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function on(e){return Yt(e)?function(e){for(var t=qe.lastIndex=0;qe.test(e);)++t;return t}(e):Ct(e)}function an(e){return Yt(e)?function(e){return e.match(qe)||[]}(e):function(e){return e.split("")}(e)}function sn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var un=Ut({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cn=function e(t){var n,r=(t=null==t?ot:cn.defaults(ot.Object(),t,cn.pick(ot,Xe))).Array,ie=t.Date,_e=t.Error,Se=t.Function,Ee=t.Math,ke=t.Object,xe=t.RegExp,Te=t.String,Oe=t.TypeError,Ae=r.prototype,Ie=Se.prototype,Ce=ke.prototype,Pe=t["__core-js_shared__"],De=Ie.toString,Me=Ce.hasOwnProperty,Re=0,je=(n=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ne=Ce.toString,Le=De.call(ke),Ue=ot._,Be=xe("^"+De.call(Me).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=ut?t.Buffer:i,ze=t.Symbol,Ke=t.Uint8Array,Ve=Fe?Fe.allocUnsafe:i,qe=en(ke.getPrototypeOf,ke),Ge=ke.create,et=Ce.propertyIsEnumerable,rt=Ae.splice,it=ze?ze.isConcatSpreadable:i,at=ze?ze.iterator:i,st=ze?ze.toStringTag:i,ct=function(){try{var e=co(ke,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Ct=ie&&ie.now!==ot.Date.now&&ie.now,Ut=t.setTimeout!==ot.setTimeout&&t.setTimeout,ln=Ee.ceil,fn=Ee.floor,dn=ke.getOwnPropertySymbols,pn=Fe?Fe.isBuffer:i,hn=t.isFinite,gn=Ae.join,vn=en(ke.keys,ke),mn=Ee.max,yn=Ee.min,bn=ie.now,wn=t.parseInt,_n=Ee.random,Sn=Ae.reverse,En=co(t,"DataView"),kn=co(t,"Map"),xn=co(t,"Promise"),Tn=co(t,"Set"),On=co(t,"WeakMap"),An=co(ke,"create"),In=On&&new On,Cn={},Pn=Bo(En),Dn=Bo(kn),Mn=Bo(xn),Rn=Bo(Tn),jn=Bo(On),Nn=ze?ze.prototype:i,Ln=Nn?Nn.valueOf:i,Un=Nn?Nn.toString:i;function Bn(e){if(ns(e)&&!$a(e)&&!(e instanceof Vn)){if(e instanceof Kn)return e;if(Me.call(e,"__wrapped__"))return Fo(e)}return new Kn(e)}var Fn=function(){function e(){}return function(t){if(!ts(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new $n(e);this.size=t.size}function Jn(e,t){var n=$a(e),r=!n&&Ha(e),i=!n&&!r&&Ja(e),o=!n&&!r&&!i&&ls(e),a=n||r||i||o,s=a?zt(e.length,Te):[],u=s.length;for(var c in e)!t&&!Me.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mo(c,u))||s.push(c);return s}function Xn(e){var t=e.length;return t?e[qr(0,t-1)]:i}function Qn(e,t){return Ro(Oi(e),ar(t,0,e.length))}function Yn(e){return Ro(Oi(e))}function Zn(e,t,n){(n!==i&&!za(e[t],n)||n===i&&!(t in e))&&ir(e,t,n)}function er(e,t,n){var r=e[t];Me.call(e,t)&&za(r,n)&&(n!==i||t in e)||ir(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(za(e[n][0],t))return n;return-1}function nr(e,t,n,r){return fr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function rr(e,t){return e&&Ai(t,Ds(t),e)}function ir(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Os(e,t[n]);return a}function ar(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function sr(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ts(e))return e;var f=$a(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!u)return Oi(e,s)}else{var d=po(e),p=d==w||d==_;if(Ja(e))return _i(e,u);if(d==k||d==g||p&&!o){if(s=c||p?{}:go(e),!u)return c?function(e,t){return Ai(e,fo(e),t)}(e,function(e,t){return e&&Ai(t,Ms(t),e)}(s,e)):function(e,t){return Ai(e,lo(e),t)}(e,rr(s,e))}else{if(!Ze[d])return o?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case P:return Si(e);case m:case y:return new i(+e);case D:return function(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case R:case j:case N:case L:case U:case B:case F:case z:return Ei(e,n);case S:case O:return new i;case E:case A:return new i(e);case T:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return r=e,Ln?ke(Ln.call(r)):{}}}(e,d,u)}}a||(a=new Gn);var h=a.get(e);if(h)return h;a.set(e,s),ss(e)?e.forEach((function(r){s.add(sr(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,i){s.set(i,sr(r,t,n,i,e,a))}));var v=f?i:(l?c?no:to:c?Ms:Ds)(e);return bt(v||e,(function(r,i){v&&(r=e[i=r]),er(s,i,sr(r,t,n,i,e,a))})),s}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=ke(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Oe(o);return Co((function(){e.apply(i,n)}),t)}function lr(e,t,n,r){var i=-1,o=Et,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=xt(t,Vt(n))),r?(o=kt,a=!1):t.length>=200&&(o=$t,a=!1,t=new Wn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Bn.templateSettings={escape:J,evaluate:X,interpolate:Q,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Kn.prototype=Fn(zn.prototype),Kn.prototype.constructor=Kn,Vn.prototype=Fn(zn.prototype),Vn.prototype.constructor=Vn,Hn.prototype.clear=function(){this.__data__=An?An(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(An){var n=t[e];return n===a?i:n}return Me.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return An?t[e]!==i:Me.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===i?a:t,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},$n.prototype.get=function(e){var t=this.__data__,n=tr(t,e);return n<0?i:t[n][1]},$n.prototype.has=function(e){return tr(this.__data__,e)>-1},$n.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(kn||$n),string:new Hn}},qn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return so(this,e).get(e)},qn.prototype.has=function(e){return so(this,e).has(e)},qn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Wn.prototype.add=Wn.prototype.push=function(e){return this.__data__.set(e,a),this},Wn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new $n,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $n){var r=n.__data__;if(!kn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var fr=Pi(br),dr=Pi(wr,!0);function pr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function hr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s==s&&!cs(s):n(s,u)))var u=s,c=a}return c}function gr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=vo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):Tt(i,s):r||(i[i.length]=s)}return i}var mr=Di(),yr=Di(!0);function br(e,t){return e&&mr(e,t,Ds)}function wr(e,t){return e&&yr(e,t,Ds)}function _r(e,t){return St(t,(function(t){return Ya(e[t])}))}function Sr(e,t){for(var n=0,r=(t=mi(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return $a(e)?r:Tt(r,n(e))}function kr(e){return null==e?e===i?"[object Undefined]":"[object Null]":st&&st in ke(e)?function(e){var t=Me.call(e,st),n=e[st];try{e[st]=i;var r=!0}catch(e){}var o=Ne.call(e);return r&&(t?e[st]=n:delete e[st]),o}(e):function(e){return Ne.call(e)}(e)}function xr(e,t){return e>t}function Tr(e,t){return null!=e&&Me.call(e,t)}function Or(e,t){return null!=e&&t in ke(e)}function Ar(e,t,n){for(var o=n?kt:Et,a=e[0].length,s=e.length,u=s,c=r(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=xt(d,Vt(t))),l=yn(d.length,l),c[u]=!n&&(t||a>=120&&d.length>=120)?new Wn(u&&d):i}d=e[0];var p=-1,h=c[0];e:for(;++p<a&&f.length<l;){var g=d[p],v=t?t(g):g;if(g=n||0!==g?g:0,!(h?$t(h,v):o(f,v,n))){for(u=s;--u;){var m=c[u];if(!(m?$t(m,v):o(e[u],v,n)))continue e}h&&h.push(v),f.push(g)}}return f}function Ir(e,t,n){var r=null==(e=To(e,t=mi(t,e)))?e:e[Uo(Qo(t))];return null==r?i:mt(r,e,n)}function Cr(e){return ns(e)&&kr(e)==g}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=$a(e),u=$a(t),c=s?v:po(e),l=u?v:po(t),f=(c=c==g?k:c)==k,d=(l=l==g?k:l)==k,p=c==l;if(p&&Ja(e)){if(!Ja(t))return!1;s=!0,f=!1}if(p&&!f)return a||(a=new Gn),s||ls(e)?Zi(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!o(new Ke(e),new Ke(t)));case m:case y:case E:return za(+e,+t);case b:return e.name==t.name&&e.message==t.message;case T:case A:return e==t+"";case S:var s=Zt;case O:var u=1&r;if(s||(s=nn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=Zi(s(e),s(t),r,i,o,a);return a.delete(e),l;case I:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var h=f&&Me.call(e,"__wrapped__"),w=d&&Me.call(t,"__wrapped__");if(h||w){var _=h?e.value():e,x=w?t.value():t;return a||(a=new Gn),o(_,x,n,r,a)}}return!!p&&(a||(a=new Gn),function(e,t,n,r,o,a){var s=1&n,u=to(e),c=u.length;if(c!=to(t).length&&!s)return!1;for(var l=c;l--;){var f=u[l];if(!(s?f in t:Me.call(t,f)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);for(var g=s;++l<c;){var v=e[f=u[l]],m=t[f];if(r)var y=s?r(m,v,f,t,e,a):r(v,m,f,e,t,a);if(!(y===i?v===m||o(v,m,n,r,a):y)){h=!1;break}g||(g="constructor"==f)}if(h&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,a))}(e,t,n,r,Pr,o))}function Dr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=ke(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new Gn;if(r)var p=r(l,f,c,e,t,d);if(!(p===i?Pr(f,l,3,r,d):p))return!1}}return!0}function Mr(e){return!(!ts(e)||(t=e,je&&je in t))&&(Ya(e)?Be:ge).test(Bo(e));var t}function Rr(e){return"function"==typeof e?e:null==e?iu:"object"==typeof e?$a(e)?Br(e[0],e[1]):Ur(e):pu(e)}function jr(e){if(!So(e))return vn(e);var t=[];for(var n in ke(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e,t){return e<t}function Lr(e,t){var n=-1,i=Wa(e)?r(e.length):[];return fr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Ur(e){var t=uo(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Br(e,t){return bo(e)&&Eo(t)?ko(Uo(e),t):function(n){var r=Os(n,e);return r===i&&r===t?As(n,e):Pr(t,r,3)}}function Fr(e,t,n,r,o){e!==t&&mr(t,(function(a,s){if(o||(o=new Gn),ts(a))!function(e,t,n,r,o,a,s){var u=Ao(e,n),c=Ao(t,n),l=s.get(c);if(l)Zn(e,n,l);else{var f=a?a(u,c,n+"",e,t,s):i,d=f===i;if(d){var p=$a(c),h=!p&&Ja(c),g=!p&&!h&&ls(c);f=c,p||h||g?$a(u)?f=u:Ga(u)?f=Oi(u):h?(d=!1,f=_i(c,!0)):g?(d=!1,f=Ei(c,!0)):f=[]:os(c)||Ha(c)?(f=u,Ha(u)?f=ys(u):ts(u)&&!Ya(u)||(f=go(c))):d=!1}d&&(s.set(c,f),o(f,c,r,a,s),s.delete(c)),Zn(e,n,f)}}(e,t,s,n,Fr,r,o);else{var u=r?r(Ao(e,s),a,s+"",e,t,o):i;u===i&&(u=a),Zn(e,s,u)}}),Ms)}function zr(e,t){var n=e.length;if(n)return mo(t+=t<0?n:0,n)?e[t]:i}function Kr(e,t,n){t=t.length?xt(t,(function(e){return $a(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[iu];var r=-1;t=xt(t,Vt(ao()));var i=Lr(e,(function(e,n,i){var o=xt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=ki(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Sr(e,a);n(s,a)&&Qr(o,mi(a,e),s)}return o}function Hr(e,t,n,r){var i=r?Rt:Mt,o=-1,a=t.length,s=e;for(e===t&&(t=Oi(t)),n&&(s=xt(e,Vt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&rt.call(s,u,1),rt.call(e,u,1);return e}function $r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;mo(i)?rt.call(e,i,1):ci(e,i)}}return e}function qr(e,t){return e+fn(_n()*(t-e+1))}function Wr(e,t){var n="";if(!e||t<1||t>f)return n;do{t%2&&(n+=e),(t=fn(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return Po(xo(e,t,iu),e+"")}function Jr(e){return Xn(zs(e))}function Xr(e,t){var n=zs(e);return Ro(n,ar(t,0,n.length))}function Qr(e,t,n,r){if(!ts(e))return e;for(var o=-1,a=(t=mi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Uo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=ts(f)?f:mo(t[o+1])?[]:{})}er(u,c,l),u=u[c]}return e}var Yr=In?function(e,t){return In.set(e,t),e}:iu,Zr=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:tu(t),writable:!0})}:iu;function ei(e){return Ro(zs(e))}function ti(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ni(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ri(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ii(e,t,iu,n)}function ii(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,c=cs(t),l=t===i;o<a;){var f=fn((o+a)/2),d=n(e[f]),p=d!==i,h=null===d,g=d==d,v=cs(d);if(s)var m=r||g;else m=l?g&&(r||p):u?g&&p&&(r||!h):c?g&&p&&!h&&(r||!v):!h&&!v&&(r?d<=t:d<t);m?o=f+1:a=f}return yn(a,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!za(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ai(e){return"number"==typeof e?e:cs(e)?d:+e}function si(e){if("string"==typeof e)return e;if($a(e))return xt(e,si)+"";if(cs(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ui(e,t,n){var r=-1,i=Et,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=kt;else if(o>=200){var c=t?null:Wi(e);if(c)return nn(c);a=!1,i=$t,u=new Wn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function ci(e,t){return null==(e=To(e,t=mi(t,e)))||delete e[Uo(Qo(t))]}function li(e,t,n,r){return Qr(e,t,n(Sr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ti(e,r?0:o,r?o+1:i):ti(e,r?o+1:0,r?i:o)}function di(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Ot(t,(function(e,t){return t.func.apply(t.thisArg,Tt([e],t.args))}),n)}function pi(e,t,n){var i=e.length;if(i<2)return i?ui(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=lr(a[o]||s,e[u],t,n));return ui(vr(a,1),t,n)}function hi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function gi(e){return Ga(e)?e:[]}function vi(e){return"function"==typeof e?e:iu}function mi(e,t){return $a(e)?e:bo(e,t)?[e]:Lo(bs(e))}var yi=Gr;function bi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ti(e,t,n)}var wi=lt||function(e){return ot.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Si(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Ei(e,t){var n=t?Si(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=cs(e),s=t!==i,u=null===t,c=t==t,l=cs(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function xi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,c=t.length,l=mn(a-s,0),f=r(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[n[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ti(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,c=-1,l=t.length,f=mn(a-u,0),d=r(f+l),p=!i;++o<f;)d[o]=e[o];for(var h=o;++c<l;)d[h+c]=t[c];for(;++s<u;)(p||o<a)&&(d[h+n[s]]=e[o++]);return d}function Oi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ai(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?ir(n,u,c):er(n,u,c)}return n}function Ii(e,t){return function(n,r){var i=$a(n)?yt:nr,o=t?t():{};return i(n,e,ao(r,2),o)}}function Ci(e){return Gr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&yo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=ke(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Pi(e,t){return function(n,r){if(null==n)return n;if(!Wa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=ke(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Di(e){return function(t,n,r){for(var i=-1,o=ke(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Mi(e){return function(t){var n=Yt(t=bs(t))?an(t):i,r=n?n[0]:t.charAt(0),o=n?bi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ri(e){return function(t){return Ot(Ys(Hs(t).replace(He,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Ni(e){return function(t,n,r){var o=ke(t);if(!Wa(t)){var a=ao(n,3);t=Ds(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Li(e){return eo((function(t){var n=t.length,r=n,a=Kn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Oe(o);if(a&&!u&&"wrapper"==io(s))var u=new Kn([],!0)}for(r=u?r:n;++r<n;){var c=io(s=t[r]),l="wrapper"==c?ro(s):i;u=l&&wo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[io(l[0])].apply(u,l[3]):1==s.length&&wo(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&$a(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Ui(e,t,n,o,a,s,u,l,f,d){var p=t&c,h=1&t,g=2&t,v=24&t,m=512&t,y=g?i:ji(e);return function i(){for(var c=arguments.length,b=r(c),w=c;w--;)b[w]=arguments[w];if(v)var _=oo(i),S=Gt(b,_);if(o&&(b=xi(b,o,a,v)),s&&(b=Ti(b,s,u,v)),c-=S,v&&c<d){var E=tn(b,_);return $i(e,t,Ui,i.placeholder,n,b,E,l,f,d-c)}var k=h?n:this,x=g?k[e]:e;return c=b.length,l?b=Oo(b,l):m&&c>1&&b.reverse(),p&&f<c&&(b.length=f),this&&this!==ot&&this instanceof i&&(x=y||ji(x)),x.apply(k,b)}}function Bi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Fi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ai(n),r=ai(r)),o=e(n,r)}return o}}function zi(e){return eo((function(t){return t=xt(t,Vt(ao())),Gr((function(n){var r=this;return e(t,(function(e){return mt(e,r,n)}))}))}))}function Ki(e,t){var n=(t=t===i?" ":si(t)).length;if(n<2)return n?Wr(t,e):t;var r=Wr(t,ln(e/on(t)));return Yt(t)?bi(an(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,n,o){return o&&"number"!=typeof o&&yo(t,n,o)&&(n=o=i),t=hs(t),n===i?(n=t,t=0):n=hs(n),function(e,t,n,i){for(var o=-1,a=mn(ln((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:hs(o),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function $i(e,t,n,r,o,a,s,c,l,f){var d=8&t;t|=d?u:64,4&(t&=~(d?64:u))||(t&=-4);var p=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,c,l,f],h=n.apply(i,p);return wo(e)&&Io(h,p),h.placeholder=r,Do(h,e,t)}function qi(e){var t=Ee[e];return function(e,n){if(e=ms(e),(n=null==n?0:yn(gs(n),292))&&hn(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Wi=Tn&&1/nn(new Tn([,-0]))[1]==l?function(e){return new Tn(e)}:cu;function Gi(e){return function(t){var n=po(t);return n==S?Zt(t):n==O?rn(t):function(e,t){return xt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,a,l,f,d,p){var h=2&t;if(!h&&"function"!=typeof e)throw new Oe(o);var g=a?a.length:0;if(g||(t&=-97,a=l=i),d=d===i?d:mn(gs(d),0),p=p===i?p:gs(p),g-=l?l.length:0,64&t){var v=a,m=l;a=l=i}var y=h?i:ro(e),b=[e,t,n,a,l,v,m,f,d,p];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==c&&8==n||r==c&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?xi(l,u,t[4]):u,e[4]=l?tn(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ti(l,u,t[6]):u,e[6]=l?tn(e[5],s):t[6]),(u=t[7])&&(e[7]=u),r&c&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],a=b[3],l=b[4],!(p=b[9]=b[9]===i?h?0:e.length:mn(b[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,n){var o=ji(e);return function a(){for(var s=arguments.length,u=r(s),c=s,l=oo(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:tn(u,l);return(s-=f.length)<n?$i(e,t,Ui,a.placeholder,i,u,f,i,i,n-s):mt(this&&this!==ot&&this instanceof a?o:e,this,u)}}(e,t,p):t!=u&&33!=t||l.length?Ui.apply(i,b):function(e,t,n,i){var o=1&t,a=ji(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=r(l+u),d=this&&this!==ot&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return mt(d,o?n:this,f)}}(e,t,n,a);else var w=function(e,t,n){var r=1&t,i=ji(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Do((y?Yr:Io)(w,b),e,t)}function Xi(e,t,n,r){return e===i||za(e,Ce[n])&&!Me.call(r,n)?t:e}function Qi(e,t,n,r,o,a){return ts(e)&&ts(t)&&(a.set(t,e),Fr(e,t,i,Qi,a),a.delete(t)),e}function Yi(e){return os(e)?i:e}function Zi(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,h=2&n?new Wn:i;for(a.set(e,t),a.set(t,e);++d<u;){var g=e[d],v=t[d];if(r)var m=s?r(v,g,d,t,e,a):r(g,v,d,e,t,a);if(m!==i){if(m)continue;p=!1;break}if(h){if(!It(t,(function(e,t){if(!$t(h,t)&&(g===e||o(g,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(g!==v&&!o(g,v,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function eo(e){return Po(xo(e,i,qo),e+"")}function to(e){return Er(e,Ds,lo)}function no(e){return Er(e,Ms,fo)}var ro=In?function(e){return In.get(e)}:cu;function io(e){for(var t=e.name+"",n=Cn[t],r=Me.call(Cn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(Me.call(Bn,"placeholder")?Bn:e).placeholder}function ao(){var e=Bn.iteratee||ou;return e=e===ou?Rr:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function uo(e){for(var t=Ds(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Eo(i)]}return t}function co(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var lo=dn?function(e){return null==e?[]:(e=ke(e),St(dn(e),(function(t){return et.call(e,t)})))}:vu,fo=dn?function(e){for(var t=[];e;)Tt(t,lo(e)),e=qe(e);return t}:vu,po=kr;function ho(e,t,n){for(var r=-1,i=(t=mi(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&es(i)&&mo(a,i)&&($a(e)||Ha(e))}function go(e){return"function"!=typeof e.constructor||So(e)?{}:Fn(qe(e))}function vo(e){return $a(e)||Ha(e)||!!(it&&e&&e[it])}function mo(e,t){var n=typeof e;return!!(t=null==t?f:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Wa(n)&&mo(t,n.length):"string"==r&&t in n)&&za(n[t],e)}function bo(e,t){if($a(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||Z.test(e)||!Y.test(e)||null!=t&&e in ke(t)}function wo(e){var t=io(e),n=Bn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=ro(n);return!!r&&e===r[0]}(En&&po(new En(new ArrayBuffer(1)))!=D||kn&&po(new kn)!=S||xn&&po(xn.resolve())!=x||Tn&&po(new Tn)!=O||On&&po(new On)!=C)&&(po=function(e){var t=kr(e),n=t==k?e.constructor:i,r=n?Bo(n):"";if(r)switch(r){case Pn:return D;case Dn:return S;case Mn:return x;case Rn:return O;case jn:return C}return t});var _o=Pe?Ya:mu;function So(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ce)}function Eo(e){return e==e&&!ts(e)}function ko(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in ke(n))}}function xo(e,t,n){return t=mn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=mn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),mt(e,this,u)}}function To(e,t){return t.length<2?e:Sr(e,ti(t,0,-1))}function Oo(e,t){for(var n=e.length,r=yn(t.length,n),o=Oi(e);r--;){var a=t[r];e[r]=mo(a,n)?o[a]:i}return e}function Ao(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Io=Mo(Yr),Co=Ut||function(e,t){return ot.setTimeout(e,t)},Po=Mo(Zr);function Do(e,t,n){var r=t+"";return Po(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return bt(h,(function(n){var r="_."+n[0];t&n[1]&&!Et(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ae);return t?t[1].split(se):[]}(r),n)))}function Mo(e){var t=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ro(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=qr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var jo,No,Lo=(jo=ja((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===No.size&&No.clear(),e})),No=jo.cache,jo);function Uo(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Fo(e){if(e instanceof Vn)return e.clone();var t=new Kn(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var zo=Gr((function(e,t){return Ga(e)?lr(e,vr(t,1,Ga,!0)):[]})),Ko=Gr((function(e,t){var n=Qo(t);return Ga(n)&&(n=i),Ga(e)?lr(e,vr(t,1,Ga,!0),ao(n,2)):[]})),Vo=Gr((function(e,t){var n=Qo(t);return Ga(n)&&(n=i),Ga(e)?lr(e,vr(t,1,Ga,!0),i,n):[]}));function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=mn(r+i,0)),Dt(e,ao(t,3),i)}function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?mn(r+o,0):yn(o,r-1)),Dt(e,ao(t,3),o,!0)}function qo(e){return null!=e&&e.length?vr(e,1):[]}function Wo(e){return e&&e.length?e[0]:i}var Go=Gr((function(e){var t=xt(e,gi);return t.length&&t[0]===e[0]?Ar(t):[]})),Jo=Gr((function(e){var t=Qo(e),n=xt(e,gi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ar(n,ao(t,2)):[]})),Xo=Gr((function(e){var t=Qo(e),n=xt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ar(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Yo=Gr(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var ea=eo((function(e,t){var n=null==e?0:e.length,r=or(e,t);return $r(e,xt(t,(function(e){return mo(e,n)?+e:e})).sort(ki)),r}));function ta(e){return null==e?e:Sn.call(e)}var na=Gr((function(e){return ui(vr(e,1,Ga,!0))})),ra=Gr((function(e){var t=Qo(e);return Ga(t)&&(t=i),ui(vr(e,1,Ga,!0),ao(t,2))})),ia=Gr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,ui(vr(e,1,Ga,!0),i,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=St(e,(function(e){if(Ga(e))return t=mn(e.length,t),!0})),zt(t,(function(t){return xt(e,Lt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=oa(e);return null==t?n:xt(n,(function(e){return mt(t,i,e)}))}var sa=Gr((function(e,t){return Ga(e)?lr(e,t):[]})),ua=Gr((function(e){return pi(St(e,Ga))})),ca=Gr((function(e){var t=Qo(e);return Ga(t)&&(t=i),pi(St(e,Ga),ao(t,2))})),la=Gr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,pi(St(e,Ga),i,t)})),fa=Gr(oa),da=Gr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,aa(e,n)}));function pa(e){var t=Bn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var ga=eo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&mo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:i}),new Kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),va=Ii((function(e,t,n){Me.call(e,n)?++e[n]:ir(e,n,1)})),ma=Ni(Ho),ya=Ni($o);function ba(e,t){return($a(e)?bt:fr)(e,ao(t,3))}function wa(e,t){return($a(e)?wt:dr)(e,ao(t,3))}var _a=Ii((function(e,t,n){Me.call(e,n)?e[n].push(t):ir(e,n,[t])})),Sa=Gr((function(e,t,n){var i=-1,o="function"==typeof t,a=Wa(e)?r(e.length):[];return fr(e,(function(e){a[++i]=o?mt(t,e,n):Ir(e,t,n)})),a})),Ea=Ii((function(e,t,n){ir(e,n,t)}));function ka(e,t){return($a(e)?xt:Lr)(e,ao(t,3))}var xa=Ii((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ta=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&yo(e,t[0],t[1])?t=[]:n>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,vr(t,1),[])})),Oa=Ct||function(){return ot.Date.now()};function Aa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,c,i,i,i,i,t)}function Ia(e,t){var n;if("function"!=typeof t)throw new Oe(o);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ca=Gr((function(e,t,n){var r=1;if(n.length){var i=tn(n,oo(Ca));r|=u}return Ji(e,r,t,n,i)})),Pa=Gr((function(e,t,n){var r=3;if(n.length){var i=tn(n,oo(Pa));r|=u}return Ji(t,r,e,n,i)}));function Da(e,t,n){var r,a,s,u,c,l,f=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new Oe(o);function g(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function v(e){return f=e,c=Co(y,t),d?g(e):u}function m(e){var n=e-l;return l===i||n>=t||n<0||p&&e-f>=s}function y(){var e=Oa();if(m(e))return b(e);c=Co(y,function(e){var n=t-(e-l);return p?yn(n,s-(e-f)):n}(e))}function b(e){return c=i,h&&r?g(e):(r=a=i,u)}function w(){var e=Oa(),n=m(e);if(r=arguments,a=this,l=e,n){if(c===i)return v(l);if(p)return wi(c),c=Co(y,t),g(l)}return c===i&&(c=Co(y,t)),u}return t=ms(t)||0,ts(n)&&(d=!!n.leading,s=(p="maxWait"in n)?mn(ms(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),w.cancel=function(){c!==i&&wi(c),f=0,r=l=a=c=i},w.flush=function(){return c===i?u:b(Oa())},w}var Ma=Gr((function(e,t){return cr(e,1,t)})),Ra=Gr((function(e,t,n){return cr(e,ms(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||qn),n}function Na(e){if("function"!=typeof e)throw new Oe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=qn;var La=yi((function(e,t){var n=(t=1==t.length&&$a(t[0])?xt(t[0],Vt(ao())):xt(vr(t,1),Vt(ao()))).length;return Gr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return mt(e,this,r)}))})),Ua=Gr((function(e,t){var n=tn(t,oo(Ua));return Ji(e,u,i,t,n)})),Ba=Gr((function(e,t){var n=tn(t,oo(Ba));return Ji(e,64,i,t,n)})),Fa=eo((function(e,t){return Ji(e,256,i,i,i,t)}));function za(e,t){return e===t||e!=e&&t!=t}var Ka=Hi(xr),Va=Hi((function(e,t){return e>=t})),Ha=Cr(function(){return arguments}())?Cr:function(e){return ns(e)&&Me.call(e,"callee")&&!et.call(e,"callee")},$a=r.isArray,qa=ft?Vt(ft):function(e){return ns(e)&&kr(e)==P};function Wa(e){return null!=e&&es(e.length)&&!Ya(e)}function Ga(e){return ns(e)&&Wa(e)}var Ja=pn||mu,Xa=dt?Vt(dt):function(e){return ns(e)&&kr(e)==y};function Qa(e){if(!ns(e))return!1;var t=kr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Ya(e){if(!ts(e))return!1;var t=kr(e);return t==w||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Za(e){return"number"==typeof e&&e==gs(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=f}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=pt?Vt(pt):function(e){return ns(e)&&po(e)==S};function is(e){return"number"==typeof e||ns(e)&&kr(e)==E}function os(e){if(!ns(e)||kr(e)!=k)return!1;var t=qe(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Le}var as=ht?Vt(ht):function(e){return ns(e)&&kr(e)==T},ss=gt?Vt(gt):function(e){return ns(e)&&po(e)==O};function us(e){return"string"==typeof e||!$a(e)&&ns(e)&&kr(e)==A}function cs(e){return"symbol"==typeof e||ns(e)&&kr(e)==I}var ls=vt?Vt(vt):function(e){return ns(e)&&es(e.length)&&!!Ye[kr(e)]},fs=Hi(Nr),ds=Hi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Wa(e))return us(e)?an(e):Oi(e);if(at&&e[at])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[at]());var t=po(e);return(t==S?Zt:t==O?nn:zs)(e)}function hs(e){return e?(e=ms(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?ar(gs(e),0,p):0}function ms(e){if("number"==typeof e)return e;if(cs(e))return d;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=he.test(e);return n||ve.test(e)?nt(e.slice(2),n?2:8):pe.test(e)?d:+e}function ys(e){return Ai(e,Ms(e))}function bs(e){return null==e?"":si(e)}var ws=Ci((function(e,t){if(So(t)||Wa(t))Ai(t,Ds(t),e);else for(var n in t)Me.call(t,n)&&er(e,n,t[n])})),_s=Ci((function(e,t){Ai(t,Ms(t),e)})),Ss=Ci((function(e,t,n,r){Ai(t,Ms(t),e,r)})),Es=Ci((function(e,t,n,r){Ai(t,Ds(t),e,r)})),ks=eo(or),xs=Gr((function(e,t){e=ke(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&yo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ms(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||za(f,Ce[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),Ts=Gr((function(e){return e.push(i,Qi),mt(js,i,e)}));function Os(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function As(e,t){return null!=e&&ho(e,t,Or)}var Is=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n}),tu(iu)),Cs=Bi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),ao),Ps=Gr(Ir);function Ds(e){return Wa(e)?Jn(e):jr(e)}function Ms(e){return Wa(e)?Jn(e,!0):function(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=So(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}(e)}var Rs=Ci((function(e,t,n){Fr(e,t,n)})),js=Ci((function(e,t,n,r){Fr(e,t,n,r)})),Ns=eo((function(e,t){var n={};if(null==e)return n;var r=!1;t=xt(t,(function(t){return t=mi(t,e),r||(r=t.length>1),t})),Ai(e,no(e),n),r&&(n=sr(n,7,Yi));for(var i=t.length;i--;)ci(n,t[i]);return n})),Ls=eo((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=xt(no(e),(function(e){return[e]}));return t=ao(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Gi(Ds),Fs=Gi(Ms);function zs(e){return null==e?[]:Ht(e,Ds(e))}var Ks=Ri((function(e,t,n){return t=t.toLowerCase(),e+(n?Vs(t):t)}));function Vs(e){return Qs(bs(e).toLowerCase())}function Hs(e){return(e=bs(e))&&e.replace(ye,Jt).replace($e,"")}var $s=Ri((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qs=Ri((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ws=Mi("toLowerCase"),Gs=Ri((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Js=Ri((function(e,t,n){return e+(n?" ":"")+Qs(t)})),Xs=Ri((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=Mi("toUpperCase");function Ys(e,t,n){return e=bs(e),(t=n?i:t)===i?function(e){return Je.test(e)}(e)?function(e){return e.match(We)||[]}(e):function(e){return e.match(ue)||[]}(e):e.match(t)||[]}var Zs=Gr((function(e,t){try{return mt(e,i,t)}catch(e){return Qa(e)?e:new _e(e)}})),eu=eo((function(e,t){return bt(t,(function(t){t=Uo(t),ir(e,t,Ca(e[t],e))})),e}));function tu(e){return function(){return e}}var nu=Li(),ru=Li(!0);function iu(e){return e}function ou(e){return Rr("function"==typeof e?e:sr(e,1))}var au=Gr((function(e,t){return function(n){return Ir(n,e,t)}})),su=Gr((function(e,t){return function(n){return Ir(e,n,t)}}));function uu(e,t,n){var r=Ds(t),i=_r(t,r);null!=n||ts(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,Ds(t)));var o=!(ts(n)&&"chain"in n&&!n.chain),a=Ya(e);return bt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Tt([this.value()],arguments))})})),e}function cu(){}var lu=zi(xt),fu=zi(_t),du=zi(It);function pu(e){return bo(e)?Lt(Uo(e)):function(e){return function(t){return Sr(t,e)}}(e)}var hu=Vi(),gu=Vi(!0);function vu(){return[]}function mu(){return!1}var yu,bu=Fi((function(e,t){return e+t}),0),wu=qi("ceil"),_u=Fi((function(e,t){return e/t}),1),Su=qi("floor"),Eu=Fi((function(e,t){return e*t}),1),ku=qi("round"),xu=Fi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Oe(o);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Aa,Bn.assign=ws,Bn.assignIn=_s,Bn.assignInWith=Ss,Bn.assignWith=Es,Bn.at=ks,Bn.before=Ia,Bn.bind=Ca,Bn.bindAll=eu,Bn.bindKey=Pa,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return $a(e)?e:[e]},Bn.chain=pa,Bn.chunk=function(e,t,n){t=(n?yo(e,t,n):t===i)?1:mn(gs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=r(ln(o/t));a<o;)u[s++]=ti(e,a,a+=t);return u},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Tt($a(n)?Oi(n):[n],vr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=ao();return e=t?xt(e,(function(e){if("function"!=typeof e[1])throw new Oe(o);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(mt(i[0],this,n))return mt(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ds(e);return function(n){return ur(n,e,t)}}(sr(e,1))},Bn.constant=tu,Bn.countBy=va,Bn.create=function(e,t){var n=Fn(e);return null==t?n:rr(n,t)},Bn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,r){var o=Ji(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.debounce=Da,Bn.defaults=xs,Bn.defaultsDeep=Ts,Bn.defer=Ma,Bn.delay=Ra,Bn.difference=zo,Bn.differenceBy=Ko,Bn.differenceWith=Vo,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?fi(e,ao(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?fi(e,ao(t,3),!0):[]},Bn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&yo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return($a(e)?St:gr)(e,ao(t,3))},Bn.flatMap=function(e,t){return vr(ka(e,t),1)},Bn.flatMapDeep=function(e,t){return vr(ka(e,t),l)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),vr(ka(e,t),n)},Bn.flatten=qo,Bn.flattenDeep=function(e){return null!=e&&e.length?vr(e,l):[]},Bn.flattenDepth=function(e,t){return null!=e&&e.length?vr(e,t=t===i?1:gs(t)):[]},Bn.flip=function(e){return Ji(e,512)},Bn.flow=nu,Bn.flowRight=ru,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:_r(e,Ds(e))},Bn.functionsIn=function(e){return null==e?[]:_r(e,Ms(e))},Bn.groupBy=_a,Bn.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},Bn.intersection=Go,Bn.intersectionBy=Jo,Bn.intersectionWith=Xo,Bn.invert=Is,Bn.invertBy=Cs,Bn.invokeMap=Sa,Bn.iteratee=ou,Bn.keyBy=Ea,Bn.keys=Ds,Bn.keysIn=Ms,Bn.map=ka,Bn.mapKeys=function(e,t){var n={};return t=ao(t,3),br(e,(function(e,r,i){ir(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=ao(t,3),br(e,(function(e,r,i){ir(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Ur(sr(e,1))},Bn.matchesProperty=function(e,t){return Br(e,sr(t,1))},Bn.memoize=ja,Bn.merge=Rs,Bn.mergeWith=js,Bn.method=au,Bn.methodOf=su,Bn.mixin=uu,Bn.negate=Na,Bn.nthArg=function(e){return e=gs(e),Gr((function(t){return zr(t,e)}))},Bn.omit=Ns,Bn.omitBy=function(e,t){return Us(e,Na(ao(t)))},Bn.once=function(e){return Ia(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:($a(t)||(t=null==t?[]:[t]),$a(n=r?i:n)||(n=null==n?[]:[n]),Kr(e,t,n))},Bn.over=lu,Bn.overArgs=La,Bn.overEvery=fu,Bn.overSome=du,Bn.partial=Ua,Bn.partialRight=Ba,Bn.partition=xa,Bn.pick=Ls,Bn.pickBy=Us,Bn.property=pu,Bn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Bn.pull=Yo,Bn.pullAll=Zo,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,ao(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},Bn.pullAt=ea,Bn.range=hu,Bn.rangeRight=gu,Bn.rearg=Fa,Bn.reject=function(e,t){return($a(e)?St:gr)(e,Na(ao(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=ao(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return $r(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Oe(o);return Gr(e,t=t===i?t:gs(t))},Bn.reverse=ta,Bn.sampleSize=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:gs(t),($a(e)?Qn:Xr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Qr(e,t,n,r)},Bn.shuffle=function(e){return($a(e)?Yn:ei)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yo(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),ti(e,t,n)):[]},Bn.sortBy=Ta,Bn.sortedUniq=function(e){return e&&e.length?oi(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?oi(e,ao(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&yo(e,t,n)&&(t=n=i),(n=n===i?p:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=si(t))&&Yt(e)?bi(an(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Oe(o);return t=null==t?0:mn(gs(t),0),Gr((function(n){var r=n[t],i=bi(n,0,t);return r&&Tt(i,r),mt(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ti(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?fi(e,ao(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?fi(e,ao(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Oe(o);return ts(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Da(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=ha,Bn.toArray=ps,Bn.toPairs=Bs,Bn.toPairsIn=Fs,Bn.toPath=function(e){return $a(e)?xt(e,Uo):cs(e)?[e]:Oi(Lo(bs(e)))},Bn.toPlainObject=ys,Bn.transform=function(e,t,n){var r=$a(e),i=r||Ja(e)||ls(e);if(t=ao(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ts(e)&&Ya(o)?Fn(qe(e)):{}}return(i?bt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Aa(e,1)},Bn.union=na,Bn.unionBy=ra,Bn.unionWith=ia,Bn.uniq=function(e){return e&&e.length?ui(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?ui(e,ao(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ui(e,i,t):[]},Bn.unset=function(e,t){return null==e||ci(e,t)},Bn.unzip=oa,Bn.unzipWith=aa,Bn.update=function(e,t,n){return null==e?e:li(e,t,vi(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:li(e,t,vi(n),r)},Bn.values=zs,Bn.valuesIn=function(e){return null==e?[]:Ht(e,Ms(e))},Bn.without=sa,Bn.words=Ys,Bn.wrap=function(e,t){return Ua(vi(t),e)},Bn.xor=ua,Bn.xorBy=ca,Bn.xorWith=la,Bn.zip=fa,Bn.zipObject=function(e,t){return hi(e||[],t||[],er)},Bn.zipObjectDeep=function(e,t){return hi(e||[],t||[],Qr)},Bn.zipWith=da,Bn.entries=Bs,Bn.entriesIn=Fs,Bn.extend=_s,Bn.extendWith=Ss,uu(Bn,Bn),Bn.add=bu,Bn.attempt=Zs,Bn.camelCase=Ks,Bn.capitalize=Vs,Bn.ceil=wu,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))==n?n:0),t!==i&&(t=(t=ms(t))==t?t:0),ar(ms(e),t,n)},Bn.clone=function(e){return sr(e,4)},Bn.cloneDeep=function(e){return sr(e,5)},Bn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||ur(e,t,Ds(t))},Bn.deburr=Hs,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=_u,Bn.endsWith=function(e,t,n){e=bs(e),t=si(t);var r=e.length,o=n=n===i?r:ar(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=za,Bn.escape=function(e){return(e=bs(e))&&G.test(e)?e.replace(q,Xt):e},Bn.escapeRegExp=function(e){return(e=bs(e))&&ne.test(e)?e.replace(te,"\\$&"):e},Bn.every=function(e,t,n){var r=$a(e)?_t:pr;return n&&yo(e,t,n)&&(t=i),r(e,ao(t,3))},Bn.find=ma,Bn.findIndex=Ho,Bn.findKey=function(e,t){return Pt(e,ao(t,3),br)},Bn.findLast=ya,Bn.findLastIndex=$o,Bn.findLastKey=function(e,t){return Pt(e,ao(t,3),wr)},Bn.floor=Su,Bn.forEach=ba,Bn.forEachRight=wa,Bn.forIn=function(e,t){return null==e?e:mr(e,ao(t,3),Ms)},Bn.forInRight=function(e,t){return null==e?e:yr(e,ao(t,3),Ms)},Bn.forOwn=function(e,t){return e&&br(e,ao(t,3))},Bn.forOwnRight=function(e,t){return e&&wr(e,ao(t,3))},Bn.get=Os,Bn.gt=Ka,Bn.gte=Va,Bn.has=function(e,t){return null!=e&&ho(e,t,Tr)},Bn.hasIn=As,Bn.head=Wo,Bn.identity=iu,Bn.includes=function(e,t,n,r){e=Wa(e)?e:zs(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=mn(i+n,0)),us(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Mt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=mn(r+i,0)),Mt(e,t,i)},Bn.inRange=function(e,t,n){return t=hs(t),n===i?(n=t,t=0):n=hs(n),function(e,t,n){return e>=yn(t,n)&&e<mn(t,n)}(e=ms(e),t,n)},Bn.invoke=Ps,Bn.isArguments=Ha,Bn.isArray=$a,Bn.isArrayBuffer=qa,Bn.isArrayLike=Wa,Bn.isArrayLikeObject=Ga,Bn.isBoolean=function(e){return!0===e||!1===e||ns(e)&&kr(e)==m},Bn.isBuffer=Ja,Bn.isDate=Xa,Bn.isElement=function(e){return ns(e)&&1===e.nodeType&&!os(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Wa(e)&&($a(e)||"string"==typeof e||"function"==typeof e.splice||Ja(e)||ls(e)||Ha(e)))return!e.length;var t=po(e);if(t==S||t==O)return!e.size;if(So(e))return!jr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Pr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Bn.isError=Qa,Bn.isFinite=function(e){return"number"==typeof e&&hn(e)},Bn.isFunction=Ya,Bn.isInteger=Za,Bn.isLength=es,Bn.isMap=rs,Bn.isMatch=function(e,t){return e===t||Dr(e,t,uo(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,uo(t),n)},Bn.isNaN=function(e){return is(e)&&e!=+e},Bn.isNative=function(e){if(_o(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=is,Bn.isObject=ts,Bn.isObjectLike=ns,Bn.isPlainObject=os,Bn.isRegExp=as,Bn.isSafeInteger=function(e){return Za(e)&&e>=-9007199254740991&&e<=f},Bn.isSet=ss,Bn.isString=us,Bn.isSymbol=cs,Bn.isTypedArray=ls,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return ns(e)&&po(e)==C},Bn.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==kr(e)},Bn.join=function(e,t){return null==e?"":gn.call(e,t)},Bn.kebabCase=$s,Bn.last=Qo,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?mn(r+o,0):yn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Dt(e,jt,o,!0)},Bn.lowerCase=qs,Bn.lowerFirst=Ws,Bn.lt=fs,Bn.lte=ds,Bn.max=function(e){return e&&e.length?hr(e,iu,xr):i},Bn.maxBy=function(e,t){return e&&e.length?hr(e,ao(t,2),xr):i},Bn.mean=function(e){return Nt(e,iu)},Bn.meanBy=function(e,t){return Nt(e,ao(t,2))},Bn.min=function(e){return e&&e.length?hr(e,iu,Nr):i},Bn.minBy=function(e,t){return e&&e.length?hr(e,ao(t,2),Nr):i},Bn.stubArray=vu,Bn.stubFalse=mu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Eu,Bn.nth=function(e,t){return e&&e.length?zr(e,gs(t)):i},Bn.noConflict=function(){return ot._===this&&(ot._=Ue),this},Bn.noop=cu,Bn.now=Oa,Bn.pad=function(e,t,n){e=bs(e);var r=(t=gs(t))?on(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(fn(i),n)+e+Ki(ln(i),n)},Bn.padEnd=function(e,t,n){e=bs(e);var r=(t=gs(t))?on(e):0;return t&&r<t?e+Ki(t-r,n):e},Bn.padStart=function(e,t,n){e=bs(e);var r=(t=gs(t))?on(e):0;return t&&r<t?Ki(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(bs(e).replace(re,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hs(e),t===i?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return yn(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return qr(e,t)},Bn.reduce=function(e,t,n){var r=$a(e)?Ot:Bt,i=arguments.length<3;return r(e,ao(t,4),n,i,fr)},Bn.reduceRight=function(e,t,n){var r=$a(e)?At:Bt,i=arguments.length<3;return r(e,ao(t,4),n,i,dr)},Bn.repeat=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:gs(t),Wr(bs(e),t)},Bn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,o=(t=mi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Uo(t[r])];a===i&&(r=o,a=n),e=Ya(a)?a.call(e):a}return e},Bn.round=ku,Bn.runInContext=e,Bn.sample=function(e){return($a(e)?Xn:Jr)(e)},Bn.size=function(e){if(null==e)return 0;if(Wa(e))return us(e)?on(e):e.length;var t=po(e);return t==S||t==O?e.size:jr(e).length},Bn.snakeCase=Gs,Bn.some=function(e,t,n){var r=$a(e)?It:ni;return n&&yo(e,t,n)&&(t=i),r(e,ao(t,3))},Bn.sortedIndex=function(e,t){return ri(e,t)},Bn.sortedIndexBy=function(e,t,n){return ii(e,t,ao(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ri(e,t);if(r<n&&za(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ri(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ii(e,t,ao(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ri(e,t,!0)-1;if(za(e[n],t))return n}return-1},Bn.startCase=Js,Bn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:ar(gs(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Bn.subtract=xu,Bn.sum=function(e){return e&&e.length?Ft(e,iu):0},Bn.sumBy=function(e,t){return e&&e.length?Ft(e,ao(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&yo(e,t,n)&&(t=i),e=bs(e),t=Ss({},t,r,Xi);var o,a,s=Ss({},t.imports,r.imports,Xi),u=Ds(s),c=Ht(s,u),l=0,f=t.interpolate||be,d="__p += '",p=xe((t.escape||be).source+"|"+f.source+"|"+(f===Q?fe:be).source+"|"+(t.evaluate||be).source+"|$","g"),h="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qe+"]")+"\n";e.replace(p,(function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(l,u).replace(we,Qt),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var g=Me.call(t,"variable")&&t.variable;if(g){if(ce.test(g))throw new _e("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(K,""):d).replace(V,"$1").replace(H,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Zs((function(){return Se(u,h+"return "+d).apply(i,c)}));if(v.source=d,Qa(v))throw v;return v},Bn.times=function(e,t){if((e=gs(e))<1||e>f)return[];var n=p,r=yn(e,p);t=ao(t),e-=p;for(var i=zt(r,t);++n<e;)t(n);return i},Bn.toFinite=hs,Bn.toInteger=gs,Bn.toLength=vs,Bn.toLower=function(e){return bs(e).toLowerCase()},Bn.toNumber=ms,Bn.toSafeInteger=function(e){return e?ar(gs(e),-9007199254740991,f):0===e?e:0},Bn.toString=bs,Bn.toUpper=function(e){return bs(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bs(e))&&(n||t===i))return Kt(e);if(!e||!(t=si(t)))return e;var r=an(e),o=an(t);return bi(r,qt(r,o),Wt(r,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.slice(0,sn(e)+1);if(!e||!(t=si(t)))return e;var r=an(e);return bi(r,0,Wt(r,an(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=si(t)))return e;var r=an(e);return bi(r,qt(r,an(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(ts(t)){var o="separator"in t?t.separator:o;n="length"in t?gs(t.length):n,r="omission"in t?si(t.omission):r}var a=(e=bs(e)).length;if(Yt(e)){var s=an(e);a=s.length}if(n>=a)return e;var u=n-on(r);if(u<1)return r;var c=s?bi(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),as(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=xe(o.source,bs(de.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(si(o),u)!=u){var p=c.lastIndexOf(o);p>-1&&(c=c.slice(0,p))}return c+r},Bn.unescape=function(e){return(e=bs(e))&&W.test(e)?e.replace($,un):e},Bn.uniqueId=function(e){var t=++Re;return bs(e)+t},Bn.upperCase=Xs,Bn.upperFirst=Qs,Bn.each=ba,Bn.eachRight=wa,Bn.first=Wo,uu(Bn,(yu={},br(Bn,(function(e,t){Me.call(Bn.prototype,t)||(yu[t]=e)})),yu),{chain:!1}),Bn.VERSION="4.17.21",bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),bt(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:mn(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,p),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),bt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ao(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),bt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),bt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(iu)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Ir(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Na(ao(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(p)},br(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Vn,c=s[0],l=u||$a(t),f=function(e){var t=o.apply(Bn,Tt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,p=!!this.__actions__.length,h=a&&!d,g=u&&!p;if(!a&&l){t=g?t:new Vn(this);var v=e.apply(t,s);return v.__actions__.push({func:ha,args:[f],thisArg:i}),new Kn(v,d)}return h&&g?e.apply(this,s):(v=this.thru(f),h?r?v.value()[0]:v.value():v)})})),bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply($a(i)?i:[],e)}return this[n]((function(n){return t.apply($a(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Me.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:t,func:n})}})),Cn[Ui(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=$a(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=yn(t,e+a);break;case"takeRight":e=mn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,p=yn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return di(e,this.__actions__);var h=[];e:for(;u--&&d<p;){for(var g=-1,v=e[c+=t];++g<f;){var m=l[g],y=m.iteratee,b=m.type,w=y(v);if(2==b)v=w;else if(!w){if(1==b)continue e;break e}}h[d++]=v}return h},Bn.prototype.at=ga,Bn.prototype.chain=function(){return pa(this)},Bn.prototype.commit=function(){return new Kn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Fo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:i}),new Kn(t,this.__chain__)}return this.thru(ta)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,at&&(Bn.prototype[at]=function(){return this}),Bn}();ot._=cn,(r=function(){return cn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},34519:(e,t,n)=>{var r=n(13940),i=n(26548),o=n(68286);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},30733:(e,t,n)=>{var r=n(96738);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},34291:e=>{e.exports=function(){}},96795:(e,t,n)=>{var r=n(36740)((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));e.exports=r},65798:(e,t,n)=>{var r=n(20256),i=n(82952),o=n(21401),a=n(33812);e.exports=function(e){return o(e)?r(a(e)):i(e)}},30981:e=>{e.exports=function(){return[]}},36330:e=>{e.exports=function(){return!1}},5707:(e,t,n)=>{var r=n(7642);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},38101:(e,t,n)=>{var r=n(5707);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7642:(e,t,n)=>{var r=n(51704),i=n(29259),o=n(4795),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},66188:(e,t,n)=>{var r=n(1054);e.exports=function(e){return null==e?"":r(e)}},68674:(e,t,n)=>{var r=n(66504),i=n(45859),o=n(73620),a=n(86152),s=n(15125),u=n(67366),c=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(c.call(e,"__wrapped__"))return u(e)}return new i(e)}l.prototype=o.prototype,l.prototype.constructor=l,e.exports=l},37320:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},52967:(e,t,n)=>{"use strict";var r=n(2784),i=n(37320),o=n(14616);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},g={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!p.call(g,e)||!p.call(h,e)&&(d.test(e)?g[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,E=60106,k=60107,x=60108,T=60114,O=60109,A=60110,I=60112,C=60113,P=60120,D=60115,M=60116,R=60121,j=60128,N=60129,L=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var B=Symbol.for;S=B("react.element"),E=B("react.portal"),k=B("react.fragment"),x=B("react.strict_mode"),T=B("react.profiler"),O=B("react.provider"),A=B("react.context"),I=B("react.forward_ref"),C=B("react.suspense"),P=B("react.suspense_list"),D=B("react.memo"),M=B("react.lazy"),R=B("react.block"),B("react.scope"),j=B("react.opaque.id"),N=B("react.debug_trace_mode"),L=B("react.offscreen"),U=B("react.legacy_hidden")}var F,z="function"==typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function V(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var H=!1;function $(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function q(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 22:return $(e.type._render,!1);case 1:return $(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case T:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return W(e.type);case R:return W(e._render);case M:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var he,ge,ve=(ge=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((he=he||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=he.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Oe=null,Ae=null;function Ie(e){if(e=ni(e)){if("function"!=typeof Te)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Te(e.stateNode,e.type,t))}}function Ce(e){Oe?Ae?Ae.push(e):Ae=[e]:Oe=e}function Pe(){if(Oe){var e=Oe,t=Ae;if(Ae=Oe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function De(e,t){return e(t)}function Me(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var je=De,Ne=!1,Le=!1;function Ue(){null===Oe&&null===Ae||(Re(),Pe())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ge){Fe=!1}function Ke(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Ve=!1,He=null,$e=!1,qe=null,We={onError:function(e){Ve=!0,He=e}};function Ge(e,t,n,r,i,o,a,s,u){Ve=!1,He=null,Ke.apply(We,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Je(e)!==e)throw Error(a(188))}function Ye(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ht(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),ct.forEach(yt),lt.forEach(yt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==st&&wt(st,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)vt(n),null===n.blockedOn&&ft.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},kt={},xt={};function Tt(e){if(kt[e])return kt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in xt)return kt[e]=n[t];return e}f&&(xt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ot=Tt("animationend"),At=Tt("animationiteration"),It=Tt("animationstart"),Ct=Tt("transitionend"),Pt=new Map,Dt=new Map,Mt=["abort","abort",Ot,"animationEnd",At,"animationIteration",It,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ct,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var jt=8;function Nt(e){if(0!=(1&e))return jt=15,1;if(0!=(2&e))return jt=14,2;if(0!=(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!=(32&e)?(jt=11,32):0!=(t=192&e)?(jt=10,t):0!=(256&e)?(jt=9,256):0!=(t=3584&e)?(jt=8,t):0!=(4096&e)?(jt=7,4096):0!=(t=4186112&e)?(jt=6,t):0!=(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!=(134217728&e)?(jt=3,134217728):0!=(t=805306368&e)?(jt=2,t):0!=(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Lt(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=jt=15;else if(0!=(o=134217727&n)){var u=o&~a;0!==u?(r=Nt(u),i=jt):0!=(s&=o)&&(r=Nt(s),i=jt)}else 0!=(o=n&~a)?(r=Nt(o),i=jt):0!==s&&(r=Nt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Nt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ft(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&0===(e=Ft(4186112&~t))&&(e=512),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ft(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/$t|0)|0},Ht=Math.log,$t=Math.LN2,qt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Gt=!0;function Jt(e,t,n,r){Ne||Re();var i=Qt,o=Ne;Ne=!0;try{Me(i,e,t,n,r)}finally{(Ne=o)||Ue()}}function Xt(e,t,n,r){Wt(qt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var o=Yt(e,t,n,r);if(null===o)i&&ht(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return st=gt(st,e,t,n,r,i),!0;case"mouseover":return ut=gt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,gt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ht(e,r)}Rr(e,t,r,null,n)}}}function Yt(e,t,n,r){var i=xe(r);if(null!==(i=ti(i))){var o=Je(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(fn),pn=i({},fn,{view:0,detail:0}),hn=sn(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=sn(gn),mn=sn(i({},gn,{dataTransfer:0})),yn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(wn),Sn=sn(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function On(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(An),Cn=sn(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Dn=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Mn),jn=[9,13,27,32],Nn=f&&"CompositionEvent"in window,Ln=null;f&&"documentMode"in document&&(Ln=document.documentMode);var Un=f&&"TextEvent"in window&&!Ln,Bn=f&&(!Nn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),zn=!1;function Kn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Nr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Jn=null;function Xn(e){Ar(e,0)}function Qn(e){if(Q(ri(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Jn=Gn=null)}function ir(e){if("value"===e.propertyName&&Qn(Jn)){var t=[];if(Wn(t,Jn,e,xe(e)),e=Xn,Ne)e(t);else{Ne=!0;try{De(e,t)}finally{Ne=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(rr(),Jn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Jn)}function sr(e,t){if("click"===e)return Qn(t)}function ur(e,t){if("input"===e||"change"===e)return Qn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,yr=null,br=null,wr=null,_r=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==Y(r)||(r="selectionStart"in(r=yr)&&vr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Nr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Mt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<Er.length;kr++)Dt.set(Er[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ge.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var l=He;Ve=!1,He=null,$e||($e=!0,qe=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}}}if($e)throw e=qe,$e=!1,qe=null,e}function Ir(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Mr(t,e,2,!1),n.add(r))}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Cr]||(e[Cr]=!0,s.forEach((function(t){Tr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Mr(o,e,i,t),a.add(s))}function Mr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ti(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Le)return e();Le=!0;try{je(e,t,n)}finally{Le=!1,Ue()}}((function(){var r=o,i=xe(n),a=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ot:case At:case It:u=bn;break;case Ct:u=Dn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!=(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&null!=(g=Be(h,d))&&l.push(jr(h,g,p))),f)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=vn,g="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,g="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:ri(u),p=null==c?s:ri(c),(s=new l(g,h+"leave",u,n,i)).target=f,s.relatedTarget=p,g=null,ti(i)===r&&((l=new l(d,h+"enter",c,n,i)).target=p,l.relatedTarget=f,g=l),f=g,u&&c)e:{for(d=c,h=0,p=l=u;p;p=Lr(p))h++;for(p=0,g=d;g;g=Lr(g))p++;for(;0<h-p;)l=Lr(l),h--;for(;0<p-h;)d=Lr(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Lr(l),d=Lr(d)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(qn(s))if(Zn)v=ur;else{v=ar;var m=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=sr);switch(v&&(v=v(e,r))?Wn(a,v,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ri(r):window,e){case"focusin":(qn(m)||"true"===m.contentEditable)&&(yr=m,br=r,wr=null);break;case"focusout":wr=br=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Sr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(a,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Kn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Hn=!0)),0<(m=Nr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:m}),(y||null!==(y=Vn(n)))&&(b.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Nn&&Kn(e,t)?(e=nn(),tn=en=Zt=null,Hn=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Nr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Ar(a,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Nr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,n))&&r.unshift(jr(e,o,i)),null!=(o=Be(e,t))&&r.push(jr(e,o,i))),e=e.return}return r}function Lr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,o))&&a.unshift(jr(n,u,s)):i||null!=(u=Be(n,o))&&a.push(jr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Br(){}var Fr=null,zr=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"==typeof setTimeout?setTimeout:void 0,$r="function"==typeof clearTimeout?clearTimeout:void 0;function qr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0,Xr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Xr,Yr="__reactProps$"+Xr,Zr="__reactContainer$"+Xr,ei="__reactEvents$"+Xr;function ti(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Qr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Qr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Yr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function li(e,t){si++,ai[si]=e.current,e.current=t}var fi={},di=ui(fi),pi=ui(!1),hi=fi;function gi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!=e.childContextTypes}function mi(){ci(pi),ci(di)}function yi(e,t,n){if(di.current!==fi)throw Error(a(168));li(di,t),li(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,W(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,hi=di.current,li(di,e),li(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(di),li(di,e)):ci(pi),li(pi,n)}var Si=null,Ei=null,ki=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Ai=o.unstable_requestPaint,Ii=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Mi=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,ji=o.unstable_IdlePriority,Ni={},Li=void 0!==Ai?Ai:function(){},Ui=null,Bi=null,Fi=!1,zi=Ii(),Ki=1e4>zi?Ii:function(){return Ii()-zi};function Vi(){switch(Ci()){case Pi:return 99;case Di:return 98;case Mi:return 97;case Ri:return 96;case ji:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Di;case 97:return Mi;case 96:return Ri;case 95:return ji;default:throw Error(a(332))}}function $i(e,t){return e=Hi(e),ki(e,t)}function qi(e,t,n){return e=Hi(e),xi(e,t,n)}function Wi(){if(null!==Bi){var e=Bi;Bi=null,Ti(e)}Gi()}function Gi(){if(!Fi&&null!==Ui){Fi=!0;var e=0;try{var t=Ui;$i(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),xi(Pi,Wi),t}finally{Fi=!1}}}var Ji=_.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=ui(null),Yi=null,Zi=null,eo=null;function to(){eo=Zi=Yi=null}function no(e){var t=Qi.current;ci(Qi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Yi=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Na=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Yi)throw Error(a(308));Zi=t,Yi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,f=l=c=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(u=t,p=n,g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(p,d,u);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null==(u="function"==typeof(h=g.payload)?h.call(p,d,u):h))break e;d=i({},d,u);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=p,c=d):f=f.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Us|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function vo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cu(),i=lu(e),o=co(r,i);o.payload=t,null!=n&&(o.callback=n),lo(e,o),fu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cu(),i=lu(e),o=co(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),lo(e,o),fu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cu(),r=lu(e),i=co(n,r);i.tag=2,null!=t&&(i.callback=t),lo(e,i),fu(e,r,n)}};function yo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&fr(n,r)&&fr(i,o))}function bo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=vi(t)?hi:di.current,o=(r=null!=(r=t.contextTypes))?gi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,so(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=vi(t)?hi:di.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Eo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Vu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Wu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Eo(e,t,n),r.return=e,r):((r=Hu(n.type,n.key,n.props,null,e.mode,r)).ref=Eo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=$u(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Hu(t.type,t.key,t.props,null,e.mode,n)).ref=Eo(e,null,t),n.return=e,n;case E:return(t=Gu(t,e.mode,n)).return=e,t}if(So(t)||K(t))return(t=$u(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===k?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(So(n)||K(n))return null!==i?null:f(e,t,n,r,null);ko(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||K(r))return f(t,e=e.get(n)||null,r,i,null);ko(t,r)}return null}function g(i,a,s,u){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var m=p(i,f,s[g],u);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,g),null===l?c=m:l.sibling=m,l=m,f=v}if(g===s.length)return n(i,f),c;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],u))&&(a=o(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);g<s.length;g++)null!==(v=h(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=K(u);if("function"!=typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=p(i,g,y.value,c);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,g=m}if(y.done)return n(i,g),l;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=h(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===k&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===k){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Eo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===k?((r=$u(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Hu(o.type,o.key,o.props,null,e.mode,u)).ref=Eo(e,r,o),u.return=e,e=u)}return s(e);case E:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Wu(o,e.mode,u)).return=e,e=r),s(e);if(So(o))return g(e,r,o,u);if(K(o))return v(e,r,o,u);if(l&&ko(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(e.type)||"Component"))}return n(e,r)}}var To=xo(!0),Oo=xo(!1),Ao={},Io=ui(Ao),Co=ui(Ao),Po=ui(Ao);function Do(e){if(e===Ao)throw Error(a(174));return e}function Mo(e,t){switch(li(Po,t),li(Co,e),li(Io,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Io),li(Io,t)}function Ro(){ci(Io),ci(Co),ci(Po)}function jo(e){Do(Po.current);var t=Do(Io.current),n=pe(t,e.type);t!==n&&(li(Co,e),li(Io,n))}function No(e){Co.current===e&&(ci(Io),ci(Co))}var Lo=ui(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Fo=null,zo=!1;function Ko(e,t){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(zo){var t=Fo;if(t){var n=t;if(!Vo(e,t)){if(!(t=Wr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Bo=e);Ko(Bo,n)}Bo=e,Fo=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Bo=e}}function $o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function qo(e){if(e!==Bo)return!1;if(!zo)return $o(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=Fo;t;)Ko(e,t),t=Wr(t.nextSibling);if($o(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Fo=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Fo=null}}else Fo=Bo?Wr(e.stateNode.nextSibling):null;return!0}function Wo(){Fo=Bo=null,zo=!1}var Go=[];function Jo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Xo=_.ReactCurrentDispatcher,Qo=_.ReactCurrentBatchConfig,Yo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Yo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Da:Ma,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Xo.current=Ra,e=n(r,i)}while(ra)}if(Xo.current=Pa,t=null!==ea&&null!==ea.next,Yo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function ua(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"==typeof t?t(e):t}function la(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Yo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,Zo.lanes|=l,Us|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,cr(r,t.memoizedState)||(Na=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);cr(o,t.memoizedState)||(Na=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Yo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(a(350))}function pa(e,t,n,r){var i=Cs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=ta;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,g=d.source;d=d.subscribe;var v=Zo;return e.memoizedState={refs:p,source:t,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=l;var e=o(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=lu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Vt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var r=lu(v);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(h,n)&&cr(g,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=l=Ca.bind(null,Zo,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function ha(e,t,n){return pa(ua(),e,t,n)}function ga(e){var t=sa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Ca.bind(null,Zo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},sa().memoizedState=e}function ya(){return ua().memoizedState}function ba(e,t,n,r){var i=sa();Zo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ua();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Zo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function _a(e,t){return ba(516,4,e,t)}function Sa(e,t){return wa(516,4,e,t)}function Ea(e,t){return wa(4,2,e,t)}function ka(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xa(e,t,n){return n=null!=n?n.concat([e]):null,wa(4,2,ka.bind(null,t,e),n)}function Ta(){}function Oa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Aa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ia(e,t){var n=Vi();$i(98>n?98:n,(function(){e(!0)})),$i(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ca(e,t,n){var r=cu(),i=lu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(e){}fu(e,i,r)}}var Pa={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,2,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ca.bind(null,Zo,e),[r.memoizedState,e]},useRef:ma,useState:ga,useDebugValue:Ta,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return _a((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ma(e=Ia.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,va(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Ma={readContext:oo,useCallback:Oa,useContext:oo,useEffect:Sa,useImperativeHandle:xa,useLayoutEffect:Ea,useMemo:Aa,useReducer:la,useRef:ya,useState:function(){return la(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Ra={readContext:oo,useCallback:Oa,useContext:oo,useEffect:Sa,useImperativeHandle:xa,useLayoutEffect:Ea,useMemo:Aa,useReducer:fa,useRef:ya,useState:function(){return fa(ca)},useDebugValue:Ta,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ya().current,e]},useMutableSource:ha,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},ja=_.ReactCurrentOwner,Na=!1;function La(e,t,n,r){t.child=null===e?Oo(t,null,n,r):To(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Na?(t.flags|=1,La(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ba(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Ku(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fa(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?ns(e,t,o):(t.flags|=1,(e=Vu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Fa(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Na=!1,0==(o&i))return t.lanes=e.lanes,ns(e,t,o);0!=(16384&e.flags)&&(Na=!0)}return Va(e,t,n,r,o)}function za(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},bu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(0,e),null;t.memoizedState={baseLanes:0},bu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bu(0,r);return La(e,t,i,n),t.child}function Ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=vi(n)?hi:di.current;return o=gi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Na?(t.flags|=1,La(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ns(e,t,i))}function Ha(e,t,n,r,i){if(vi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;c="object"==typeof c&&null!==c?oo(c):gi(t,c=vi(n)?hi:di.current);var l=n.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),ao=!1;var d=t.memoizedState;a.state=d,po(t,r,a,i),u=t.memoizedState,s!==r||d!==u||pi.current||ao?("function"==typeof l&&(vo(t,n,l,r),u=t.memoizedState),(s=ao||yo(t,n,s,r,d,u,c))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,uo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),a.props=c,f=t.pendingProps,d=a.context,u="object"==typeof(u=n.contextType)&&null!==u?oo(u):gi(t,u=vi(n)?hi:di.current);var p=n.getDerivedStateFromProps;(l="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==f||d!==u)&&wo(t,a,r,u),ao=!1,d=t.memoizedState,a.state=d,po(t,r,a,i);var h=t.memoizedState;s!==f||d!==h||pi.current||ao?("function"==typeof p&&(vo(t,n,p,r),h=t.memoizedState),(c=ao||yo(t,n,c,r,d,h,u))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,u)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return $a(e,t,n,r,o,i)}function $a(e,t,n,r,i,o){Ka(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),ns(e,t,o);r=t.stateNode,ja.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=To(t,e.child,null,o),t.child=To(t,null,s,o)):La(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Mo(e,t.containerInfo)}var Wa,Ga,Ja,Xa={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Lo.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Lo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"==typeof i.unstable_expectedLoadTime?(e=Ya(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=function(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Vu(a,s),null!==e?r=Vu(e,r):(r=$u(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=Vu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Ya(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=qu(t,i,0,null),n=$u(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Za(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function es(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ts(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(La(e,t,r.children,n),0!=(2&(r=Lo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,n);else if(19===e.tag)Za(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Lo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),es(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}es(t,!0,n,null,o,t.lastEffect);break;case"together":es(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ns(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Us|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Vu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function rs(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function is(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&mi(),null;case 3:return Ro(),ci(pi),ci(di),Jo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:No(t);var o=Do(Po.current);if(n=t.type,null!==e&&null!=t.stateNode)Ga(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(Io.current),qo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Yr]=s,n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(e=0;e<xr.length;e++)Ir(xr[e],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":ee(r,s),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ir("invalid",r);break;case"textarea":ue(r,s),Ir("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ir("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Yr]=r,Wa(e,t),t.stateNode=e,c=ke(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),o=r;break;case"iframe":case"object":case"embed":Ir("load",e),o=r;break;case"video":case"audio":for(o=0;o<xr.length;o++)Ir(xr[o],e);o=r;break;case"source":Ir("error",e),o=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),o=r;break;case"details":Ir("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Ir("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),Ir("invalid",e);break;default:o=r}Ee(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ve(e,f):"children"===s?"string"==typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"==typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ir("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Br)}Kr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ja(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=Do(Po.current),Do(Io.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ci(Lo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Lo.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Cs||0==(134217727&Us)&&0==(134217727&Bs)||gu(Cs,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Lo),null===(r=t.memoizedState))return null;if(s=0!=(64&t.flags),null===(c=r.rendering))if(s)rs(r,!1);else{if(0!==js||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,rs(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==r.tail&&Ki()>Vs&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-r.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=64,s=!0,rs(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Ki(),n.sibling=null,t=Lo.current,li(Lo,s?1&t|2:1&t),n):null;case 23:case 24:return wu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function os(e){switch(e.tag){case 1:vi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ci(pi),ci(di),Jo(),0!=(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return No(e),null;case 13:return ci(Lo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Lo),null;case 4:return Ro(),null;case 10:return no(e),null;case 23:case 24:return wu(),null;default:return null}}function as(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ss(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ga=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(Io.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Br)}for(f in Ee(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ir("scroll",e),s||c===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ja=function(e,t,n,r){n!==r&&(t.flags|=4)};var us="function"==typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Gs=r),ss(0,t)},n}function ls(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return ss(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ss(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fs="function"==typeof WeakSet?WeakSet:Set;function ds(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Lu(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(a(163))}function hs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ru(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Kr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function vs(e,t){if(Ei&&"function"==typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Si,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ru(t,n);else{r=t;try{i()}catch(e){Lu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(ds(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Lu(t,e)}break;case 5:ds(t);break;case 4:Ss(e,t)}}function ms(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ys(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ws(e,n,t):_s(e,n,t)}function ws(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(ws(e,t,n),e=e.sibling;null!==e;)ws(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(vs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ve(n,u):"children"===s?me(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=Ki(),gs(t.child,!0)),void ks(t);case 19:return void ks(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fs),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ts=Math.ceil,Os=_.ReactCurrentDispatcher,As=_.ReactCurrentOwner,Is=0,Cs=null,Ps=null,Ds=0,Ms=0,Rs=ui(0),js=0,Ns=null,Ls=0,Us=0,Bs=0,Fs=0,zs=null,Ks=0,Vs=1/0;function Hs(){Vs=Ki()+500}var $s,qs=null,Ws=!1,Gs=null,Js=null,Xs=!1,Qs=null,Ys=90,Zs=[],eu=[],tu=null,nu=0,ru=null,iu=-1,ou=0,au=0,su=null,uu=!1;function cu(){return 0!=(48&Is)?Ki():-1!==iu?iu:iu=Ki()}function lu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Vi()?1:2;if(0===ou&&(ou=Ls),0!==Ji.transition){0!==au&&(au=null!==zs?zs.pendingLanes:0),e=ou;var t=4186112&~au;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Vi(),e=Bt(0!=(4&Is)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ou)}function fu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(a(185));if(null===(e=du(e,t)))return null;Kt(e,t,n),e===Cs&&(Bs|=t,4===js&&gu(e,Ds));var r=Vi();1===t?0!=(8&Is)&&0==(48&Is)?vu(e):(pu(e,n),0===Is&&(Hs(),Wi())):(0==(4&Is)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),pu(e,n)),zs=e}function du(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function pu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Vt(s),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Nt(c);var f=jt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Lt(e,e===Cs?Ds:0),t=jt,0===r)null!==n&&(n!==Ni&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ni&&Ti(n)}15===t?(n=vu.bind(null,e),null===Ui?(Ui=[n],Bi=xi(Pi,Gi)):Ui.push(n),n=Ni):14===t?n=qi(99,vu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=qi(n,hu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function hu(e){if(iu=-1,au=ou=0,0!=(48&Is))throw Error(a(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Lt(e,e===Cs?Ds:0);if(0===n)return null;var r=n,i=Is;Is|=16;var o=Eu();for(Cs===e&&Ds===r||(Hs(),_u(e,r));;)try{Tu();break}catch(t){Su(e,t)}if(to(),Os.current=o,Is=i,null!==Ps?r=0:(Cs=null,Ds=0,r=js),0!=(Ls&Bs))_u(e,0);else if(0!==r){if(2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ut(e))&&(r=ku(e,n))),1===r)throw t=Ns,_u(e,0),gu(e,n),pu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Iu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ks+500-Ki())){if(0!==Lt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Iu.bind(null,e),r);break}Iu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ki()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ts(n/1960))-n)){e.timeoutHandle=Hr(Iu.bind(null,e),n);break}Iu(e);break;default:throw Error(a(329))}}return pu(e,Ki()),e.callbackNode===t?hu.bind(null,e):null}function gu(e,t){for(t&=~Fs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function vu(e){if(0!=(48&Is))throw Error(a(327));if(Du(),e===Cs&&0!=(e.expiredLanes&Ds)){var t=Ds,n=ku(e,t);0!=(Ls&Bs)&&(n=ku(e,t=Lt(e,t)))}else n=ku(e,t=Lt(e,0));if(0!==e.tag&&2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ut(e))&&(n=ku(e,t))),1===n)throw n=Ns,_u(e,0),gu(e,t),pu(e,Ki()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),pu(e,Ki()),null}function mu(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Hs(),Wi())}}function yu(e,t){var n=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=n)&&(Hs(),Wi())}}function bu(e,t){li(Rs,Ms),Ms|=t,Ls|=t}function wu(){Ms=Rs.current,ci(Rs)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,$r(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&mi();break;case 3:Ro(),ci(pi),ci(di),Jo();break;case 5:No(r);break;case 4:Ro();break;case 13:case 19:ci(Lo);break;case 10:no(r);break;case 23:case 24:wu()}n=n.return}Cs=e,Ps=Vu(e.current,null),Ds=Ms=Ls=t,js=0,Ns=null,Fs=Bs=Us=0}function Su(e,t){for(;;){var n=Ps;try{if(to(),Xo.current=Pa,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Yo=0,ta=ea=Zo=null,ra=!1,As.current=null,null===n||null===n.return){js=1,Ns=t,Ps=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!=(1&Lo.current),d=a;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var g=d.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(p){var v=d.updateQueue;if(null===v){var m=new Set;m.add(c),d.updateQueue=m}else v.add(c);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,lo(s,y)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new us,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Uu.bind(null,o,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=as(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,fo(d,cs(0,o,t));break e;case 1:o=u;var _=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Js||!Js.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,fo(d,ls(d,o,t));break e}}d=d.return}while(null!==d)}Au(n)}catch(e){t=e,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Eu(){var e=Os.current;return Os.current=Pa,null===e?Pa:e}function ku(e,t){var n=Is;Is|=16;var r=Eu();for(Cs===e&&Ds===t||_u(e,t);;)try{xu();break}catch(t){Su(e,t)}if(to(),Is=n,Os.current=r,null!==Ps)throw Error(a(261));return Cs=null,Ds=0,js}function xu(){for(;null!==Ps;)Ou(Ps)}function Tu(){for(;null!==Ps&&!Oi();)Ou(Ps)}function Ou(e){var t=$s(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Au(e):Ps=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=is(n,t,Ms)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ms)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=os(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===js&&(js=5)}function Iu(e){var t=Vi();return $i(99,Cu.bind(null,e,t)),null}function Cu(e,t){do{Du()}while(null!==Qs);if(0!=(48&Is))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Vt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==tu&&0==(24&r)&&tu.has(e)&&tu.delete(e),e===Cs&&(Ps=Cs=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Is,Is|=32,As.current=null,Fr=Gt,vr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var f=0,d=-1,p=-1,h=0,g=0,v=s,m=null;t:for(;;){for(var y;v!==u||0!==o&&3!==v.nodeType||(d=f+o),v!==c||0!==l&&3!==v.nodeType||(p=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)m=v,v=y;for(;;){if(v===s)break t;if(m===u&&++h===o&&(d=f),m===c&&++g===l&&(p=f),null!==(y=v.nextSibling))break;m=(v=m).parentNode}v=y}u=-1===d||-1===p?null:{start:d,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Gt=!1,su=null,uu=!1,qs=r;do{try{Pu()}catch(e){if(null===qs)throw Error(a(330));Lu(qs,e),qs=qs.nextEffect}}while(null!==qs);su=null,qs=r;do{try{for(s=e;null!==qs;){var b=qs.flags;if(16&b&&me(qs.stateNode,""),128&b){var w=qs.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:bs(qs),qs.flags&=-3;break;case 6:bs(qs),qs.flags&=-3,Es(qs.alternate,qs);break;case 1024:qs.flags&=-1025;break;case 1028:qs.flags&=-1025,Es(qs.alternate,qs);break;case 4:Es(qs.alternate,qs);break;case 8:Ss(s,u=qs);var S=u.alternate;ms(u),null!==S&&ms(S)}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(a(330));Lu(qs,e),qs=qs.nextEffect}}while(null!==qs);if(_=zr,w=gr(),b=_.focusedElem,s=_.selectionRange,w!==b&&b&&b.ownerDocument&&hr(b.ownerDocument.documentElement,b)){null!==s&&vr(b)&&(w=s.start,void 0===(_=s.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!_.extend&&S>s&&(u=s,s=S,S=u),u=pr(b,S),o=pr(b,s),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),S>s?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!Fr,zr=Fr=null,e.current=n,qs=r;do{try{for(b=e;null!==qs;){var E=qs.flags;if(36&E&&hs(b,qs.alternate,qs),128&E){w=void 0;var k=qs.ref;if(null!==k){var x=qs.stateNode;qs.tag,w=x,"function"==typeof k?k(w):k.current=w}}qs=qs.nextEffect}}catch(e){if(null===qs)throw Error(a(330));Lu(qs,e),qs=qs.nextEffect}}while(null!==qs);qs=null,Li(),Is=i}else e.current=n;if(Xs)Xs=!1,Qs=e,Ys=t;else for(qs=r;null!==qs;)t=qs.nextEffect,qs.nextEffect=null,8&qs.flags&&((E=qs).sibling=null,E.stateNode=null),qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,Ei&&"function"==typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Si,n,void 0,64==(64&n.current.flags))}catch(e){}if(pu(e,Ki()),Ws)throw Ws=!1,e=Gs,Gs=null,e;return 0!=(8&Is)||Wi(),null}function Pu(){for(;null!==qs;){var e=qs.alternate;uu||null===su||(0!=(8&qs.flags)?Ze(qs,su)&&(uu=!0):13===qs.tag&&xs(e,qs)&&Ze(qs,su)&&(uu=!0));var t=qs.flags;0!=(256&t)&&ps(e,qs),0==(512&t)||Xs||(Xs=!0,qi(97,(function(){return Du(),null}))),qs=qs.nextEffect}}function Du(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,$i(e,ju)}return!1}function Mu(e,t){Zs.push(t,e),Xs||(Xs=!0,qi(97,(function(){return Du(),null})))}function Ru(e,t){eu.push(t,e),Xs||(Xs=!0,qi(97,(function(){return Du(),null})))}function ju(){if(null===Qs)return!1;var e=Qs;if(Qs=null,0!=(48&Is))throw Error(a(331));var t=Is;Is|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(a(330));Lu(o,e)}}for(n=Zs,Zs=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(a(330));Lu(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Is=t,Wi(),!0}function Nu(e,t,n){lo(e,t=cs(0,t=as(n,t),1)),t=cu(),null!==(e=du(e,1))&&(Kt(e,1,t),pu(e,t))}function Lu(e,t){if(3===e.tag)Nu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Nu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ls(n,e=as(t,e),1);if(lo(n,i),i=cu(),null!==(n=du(n,1)))Kt(n,1,i),pu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Uu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cu(),e.pingedLanes|=e.suspendedLanes&n,Cs===e&&(Ds&n)===n&&(4===js||3===js&&(62914560&Ds)===Ds&&500>Ki()-Ks?_u(e,0):Fs|=n),pu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Vi()?1:2:(0===ou&&(ou=Ls),0===(t=Ft(62914560&~ou))&&(t=4194304))),n=cu(),null!==(e=du(e,t))&&(Kt(e,t,n),pu(e,n))}function Fu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(e,t,n,r){return new Fu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vu(e,t){var n=e.alternate;return null===n?((n=zu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hu(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Ku(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return $u(n.children,i,o,t);case N:s=8,i|=16;break;case x:s=8,i|=1;break;case T:return(e=zu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=o,e;case C:return(e=zu(13,n,t,i)).type=C,e.elementType=C,e.lanes=o,e;case P:return(e=zu(19,n,t,i)).elementType=P,e.lanes=o,e;case L:return qu(n,i,o,t);case U:return(e=zu(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case A:s=9;break e;case I:s=11;break e;case D:s=14;break e;case M:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $u(e,t,n,r){return(e=zu(7,e,r,t)).lanes=n,e}function qu(e,t,n,r){return(e=zu(23,e,r,t)).elementType=L,e.lanes=n,e}function Wu(e,t,n){return(e=zu(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=zu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Qu(e,t,n,r){var i=t.current,o=cu(),s=lu(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(vi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=bi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),fu(i,s,o),s}function Yu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=zu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[Zr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Yu(a);s.call(e)}}Qu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Yu(a);u.call(e)}}yu((function(){Qu(t,a,e,i)}))}return Yu(a)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(a(200));return Xu(e,t,null,n)}$s=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Na=!0;else{if(0==(n&r)){switch(Na=!1,t.tag){case 3:qa(t),Wo();break;case 5:jo(t);break;case 1:vi(t.type)&&wi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Qa(e,t,n):(li(Lo,1&Lo.current),null!==(t=ns(e,t,n))?t.sibling:null);li(Lo,1&Lo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ts(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Lo,Lo.current),r)break;return null;case 23:case 24:return t.lanes=0,za(e,t,n)}return ns(e,t,n)}Na=0!=(16384&e.flags)}else Na=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&vo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=$a(null,t,r,!0,o,n)}else t.tag=0,La(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Ku(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Ba(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(qa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Wo(),t=ns(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Fo=Wr(t.stateNode.containerInfo.firstChild),Bo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else La(e,t,r,n),Wo();t=t.child}return t;case 5:return jo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ka(e,t),La(e,t,s,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Qa(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=To(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(li(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0==(o=cr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=ns(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=co(-1,n&-n)).tag=2,lo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ro(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}La(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,La(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Ba(e,t,i,o=Xi(i.type,o),r,n);case 15:return Fa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),_o(t,r,i,n),$a(null,t,r,!0,e,n);case 19:return ts(e,t,n);case 23:case 24:return za(e,t,n)}throw Error(a(156,t.tag))},tc.prototype.render=function(e){Qu(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Qu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(fu(e,4,cu()),ec(e,4))},tt=function(e){13===e.tag&&(fu(e,67108864,cu()),ec(e,67108864))},nt=function(e){if(13===e.tag){var t=cu(),n=lu(e);fu(e,n,t),ec(e,n)}},rt=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},De=mu,Me=function(e,t,n,r,i){var o=Is;Is|=4;try{return $i(98,e.bind(null,t,n,r,i))}finally{0===(Is=o)&&(Hs(),Wi())}},Re=function(){0==(49&Is)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,pu(e,Ki())}))}Wi()}(),Du())},je=function(e,t){var n=Is;Is|=2;try{return e(t)}finally{0===(Is=n)&&(Hs(),Wi())}};var oc={Events:[ni,ri,ii,Ce,Pe,Du,{current:!1}]},ac={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sc={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ye(e))?null:e.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Si=uc.inject(sc),Ei=uc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=Ye(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Is;if(0!=(48&n))return e(t);Is|=1;try{if(e)return $i(99,e.bind(null,t))}finally{Is=n,Wi()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(a(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(a(40));return!!e._reactRootContainer&&(yu((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=mu,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},28316:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(52967)},83426:(e,t,n)=>{"use strict";var r=n(37320),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function m(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=y.prototype=new m;b.constructor=y,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+T(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),O(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=O(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=O(s=s.value,t,n,l=r+T(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function P(){var e=C.current;if(null===e)throw Error(p(321));return e}var D={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2784:(e,t,n)=>{"use strict";e.exports=n(83426)},46475:(e,t)=>{"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,f=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(f,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,m=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+y;try{v(!0,e)?_.postMessage(null):(g=!1,v=null)}catch(e){throw _.postMessage(null),e}}else g=!1},n=function(e){v=e,g||(g=!0,_.postMessage(null))},r=function(e,n){m=d((function(){e(t.unstable_now())}),n)},i=function(){p(m),m=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>x(a,n))void 0!==u&&0>x(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>x(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],O=[],A=1,I=null,C=3,P=!1,D=!1,M=!1;function R(e){for(var t=E(O);null!==t;){if(null===t.callback)k(O);else{if(!(t.startTime<=e))break;k(O),t.sortIndex=t.expirationTime,S(T,t)}t=E(O)}}function j(e){if(M=!1,R(e),!D)if(null!==E(T))D=!0,n(N);else{var t=E(O);null!==t&&r(j,t.startTime-e)}}function N(e,n){D=!1,M&&(M=!1,i()),P=!0;var o=C;try{for(R(n),I=E(T);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=I.callback;if("function"==typeof a){I.callback=null,C=I.priorityLevel;var s=a(I.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?I.callback=s:I===E(T)&&k(T),R(n)}else k(T);I=E(T)}if(null!==I)var u=!0;else{var c=E(O);null!==c&&r(j,c.startTime-n),u=!1}return u}finally{I=null,C=o,P=!1}}var L=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||P||(D=!0,n(N))},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return E(T)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,S(O,e),null===E(T)&&e===E(O)&&(M?i():M=!0,r(j,a-s))):(e.sortIndex=u,S(T,e),D||P||(D=!0,n(N))),e},t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},14616:(e,t,n)=>{"use strict";e.exports=n(46475)},66985:function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,o,a,s=1,u={},c=!1,l=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,n=function(e){var t=l.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(p,0,e)},f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return u[s]=i,n(s),s++},f.clearImmediate=d}function d(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},46353:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",u="object",c="string",l="model",f="name",d="type",p="vendor",h="version",g="architecture",v="console",m="mobile",y="tablet",b="smarttv",w="wearable",_="embedded",S="Amazon",E="Apple",k="ASUS",x="BlackBerry",T="Google",O="Huawei",A="LG",I="Microsoft",C="Motorola",P="Samsung",D="Sony",M="Xiaomi",R="Zebra",j="Facebook",N=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},L=function(e,t){return typeof e===c&&-1!==U(t).indexOf(U(e))},U=function(e){return e.toLowerCase()},B=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},F=function(e,t){for(var n,r,i,s,c,l,f=0;f<t.length&&!c;){var d=t[f],p=t[f+1];for(n=r=0;n<d.length&&!c;)if(c=d[n++].exec(e))for(i=0;i<p.length;i++)l=c[++r],typeof(s=p[i])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},z=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(L(t[n][r],e))return"?"===n?o:n}else if(L(t[n],e))return"?"===n?o:n;return e},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,h],[/opios[\/ ]+([\w\.]+)/i],[h,[f,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[h,[f,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[f,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[f,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[h,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[f,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure Browser"],h],[/\bfocus\/([\w\.]+)/i],[h,[f,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[h,[f,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[f,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[f,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[h,[f,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 Browser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,j],h],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[f,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[f,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,"Chrome WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[f,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,h],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[h,[f,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[h,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[h,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[f,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,U]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",U]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,U]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[p,P],[d,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[p,P],[d,m]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[p,E],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[p,E],[d,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[p,O],[d,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[p,O],[d,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[p,M],[d,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[p,M],[d,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[p,"OPPO"],[d,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[p,"Vivo"],[d,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[p,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[p,C],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[p,C],[d,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[p,A],[d,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[p,A],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[p,"Lenovo"],[d,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[p,"Nokia"],[d,m]],[/(pixel c)\b/i],[l,[p,T],[d,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[p,T],[d,m]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[p,D],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[p,D],[d,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[p,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[p,S],[d,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[p,S],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[l,p,[d,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[p,x],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[p,k],[d,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[p,k],[d,m]],[/(nexus 9)/i],[l,[p,"HTC"],[d,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[p,[l,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[p,"Acer"],[d,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[p,"Meizu"],[d,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[p,"Sharp"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,l,[d,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,l,[d,y]],[/(surface duo)/i],[l,[p,I],[d,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[p,"Fairphone"],[d,m]],[/(u304aa)/i],[l,[p,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[l,[p,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[l,[p,"RCA"],[d,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[p,"Dell"],[d,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[p,"Verizon"],[d,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[p,"Barnes & Noble"],[d,y]],[/\b(tm\d{3}\w+) b/i],[l,[p,"NuVision"],[d,y]],[/\b(k88) b/i],[l,[p,"ZTE"],[d,y]],[/\b(nx\d{3}j) b/i],[l,[p,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[l,[p,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[l,[p,"Swiss"],[d,y]],[/\b((zeki)?tb.*\b) b/i],[l,[p,"Zeki"],[d,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],l,[d,y]],[/\b(ns-?\w{0,9}) b/i],[l,[p,"Insignia"],[d,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[p,"NextBook"],[d,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],l,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],l,[d,m]],[/\b(ph-1) /i],[l,[p,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[p,"Envizen"],[d,y]],[/\b(trio[-\w\. ]+) b/i],[l,[p,"MachSpeed"],[d,y]],[/\btu_(1491) b/i],[l,[p,"Rotor"],[d,y]],[/(shield[\w ]+) b/i],[l,[p,"Nvidia"],[d,y]],[/(sprint) (\w+)/i],[p,l,[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,I],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[p,R],[d,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[p,R],[d,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,l,[d,v]],[/droid.+; (shield) bui/i],[l,[p,"Nvidia"],[d,v]],[/(playstation [345portablevi]+)/i],[l,[p,D],[d,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[p,I],[d,v]],[/smart-tv.+(samsung)/i],[p,[d,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,P],[d,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,A],[d,b]],[/(apple) ?tv/i],[p,[l,"Apple TV"],[d,b]],[/crkey/i],[[l,"Chromecast"],[p,T],[d,b]],[/droid.+aft(\w)( bui|\))/i],[l,[p,S],[d,b]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[d,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[p,B],[l,B],[d,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,b]],[/((pebble))app/i],[p,l,[d,w]],[/droid.+; (glass) \d/i],[l,[p,T],[d,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[p,R],[d,w]],[/(quest( 2)?)/i],[l,[p,j],[d,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[d,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[f,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[h,z,K]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[h,z,K]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,"Mac OS"],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[h,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,h],[/\(bb(10);/i],[h,[f,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[f,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[f,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[f,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[f,"Chromium OS"],h],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,h],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[f,h]]},H=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof H))return new H(e,t).getResult();var n=e||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(V,t):V;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,F.call(t,n,r.browser),t.major=typeof(e=t.version)===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e.architecture=o,F.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,F.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,F.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,F.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>255?B(e,255):e,this},this.setUA(n),this};H.VERSION="0.7.31",H.BROWSER=N([f,h,"major"]),H.CPU=N([g]),H.DEVICE=N([l,p,d,v,m,b,y,w,_]),H.ENGINE=H.OS=N([f,h]),typeof t!==s?(e.exports&&(t=e.exports=H),t.UAParser=H):n.amdO?(r=function(){return H}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=H);var $=typeof i!==s&&(i.jQuery||i.Zepto);if($&&!$.ua){var q=new H;$.ua=q.getResult(),$.ua.get=function(){return q.getUA()},$.ua.set=function(e){q.setUA(e);var t=q.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"==typeof window?window:this)},72565:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const i=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},o=e=>1==e?"argument":"arguments",a=(e,t,n)=>new Proxy(t,{apply:(t,r,i)=>n.call(r,e,...i)});let s=Function.call.bind(Object.prototype.hasOwnProperty);const u=(e,t={},n={})=>{let r=Object.create(null),c={has:(t,n)=>n in e||n in r,get(c,l,f){if(l in r)return r[l];if(!(l in e))return;let d=e[l];if("function"==typeof d)if("function"==typeof t[l])d=a(e,e[l],t[l]);else if(s(n,l)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((o,a)=>{if(t.fallbackToNoCallback)try{n[e](...r,i({resolve:o,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,o()}else t.noCallback?(n[e](...r),o()):n[e](...r,i({resolve:o,reject:a},t))}))})(l,n[l]);d=a(e,e[l],t)}else d=d.bind(e);else if("object"==typeof d&&null!==d&&(s(t,l)||s(n,l)))d=u(d,t[l],n[l]);else{if(!s(n,"*"))return Object.defineProperty(r,l,{configurable:!0,enumerable:!0,get:()=>e[l],set(t){e[l]=t}}),d;d=u(d,t[l],n["*"])}return r[l]=d,d},set:(t,n,i,o)=>(n in r?r[n]=i:e[n]=i,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},l=Object.create(e);return new Proxy(l,c)},c=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),l=new r((e=>"function"!=typeof e?e:function(t){const n=u(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),f=new r((e=>"function"!=typeof e?e:function(t,n,r){let i,o,a=!1,s=new Promise((e=>{i=function(t){a=!0,e(t)}}));try{o=e(t,n,i)}catch(e){o=Promise.reject(e)}const u=!0!==o&&((c=o)&&"object"==typeof c&&"function"==typeof c.then);var c;if(!0!==o&&!u&&!a)return!1;return(u?o:s).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),d=({reject:n,resolve:r},i)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):i&&i.__mozWebExtensionPolyfillReject__?n(new Error(i.message)):r(i)},p=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${o(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${o(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const i=d.bind(null,{resolve:e,reject:t});r.push(i),n.sendMessage(...r)}))},h={devtools:{network:{onRequestFinished:c(l)}},runtime:{onMessage:c(f),onMessageExternal:c(f),sendMessage:p.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:p.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},g={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":g},services:{"*":g},websites:{"*":g}},u(e,h,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)},6230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},78458:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(39384),o=r(n(6230)),a=function(e){return i.isExtractableFile(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.default=function(e,t,n){var r=i.extractFiles({query:e,variables:t,operationName:n},"",a),s=r.clone,u=r.files;if(0===u.size){if(!Array.isArray(e))return JSON.stringify(s);if(void 0!==t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");var c=e.reduce((function(e,n,r){return e.push({query:n,variables:t?t[r]:void 0}),e}),[]);return JSON.stringify(c)}var l=new("undefined"==typeof FormData?o.default:FormData);l.append("operations",JSON.stringify(s));var f={},d=0;return u.forEach((function(e){f[++d]=e})),l.append("map",JSON.stringify(f)),d=0,u.forEach((function(e,t){l.append(""+ ++d,t)})),l}},28687:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var f=a(n(96279)),d=f,p=n(33083),h=l(n(78458)),g=n(32980),v=n(8308);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return v.ClientError}});var m=function(e){var t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||e instanceof d.Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];t[n]=r})):t=e),t},y=function(e){return e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},b=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,a=e.headers,c=e.fetch,l=e.fetchOptions;return s(void 0,void 0,void 0,(function(){var e;return u(this,(function(s){switch(s.label){case 0:return e=h.default(n,i,o),[4,c(t,r({method:"POST",headers:r(r({},"string"==typeof e?{"Content-Type":"application/json"}:{}),a),body:e},l))];case 1:return[2,s.sent()]}}))}))},w=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,a=e.headers,c=e.fetch,l=e.fetchOptions;return s(void 0,void 0,void 0,(function(){var e;return u(this,(function(s){switch(s.label){case 0:return e=function(e){var t=e.query,n=e.variables,r=e.operationName;if(!Array.isArray(t)){var i=["query="+encodeURIComponent(y(t))];return n&&i.push("variables="+encodeURIComponent(JSON.stringify(n))),r&&i.push("operationName="+encodeURIComponent(r)),i.join("&")}if(void 0!==n&&!Array.isArray(n))throw new Error("Cannot create query with given variable type, array expected");var o=t.reduce((function(e,t,r){return e.push({query:y(t),variables:n?JSON.stringify(n[r]):void 0}),e}),[]);return"query="+encodeURIComponent(JSON.stringify(o))}({query:n,variables:i,operationName:o}),[4,c(t+"?"+e,r({method:"GET",headers:a},l))];case 1:return[2,s.sent()]}}))}))},_=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t,n){return s(this,void 0,void 0,(function(){var i,o,a,s,l,d,p,h,v;return u(this,(function(u){return i=g.parseRawRequestArgs(e,t,n),o=this.options,a=o.headers,s=o.fetch,l=void 0===s?f.default:s,d=o.method,p=void 0===d?"POST":d,h=c(o,["headers","fetch","method"]),v=this.url,void 0!==i.signal&&(h.signal=i.signal),[2,S({url:v,query:i.query,variables:i.variables,headers:r(r({},m(a)),m(i.requestHeaders)),operationName:void 0,fetch:l,method:p,fetchOptions:h})]}))}))},e.prototype.request=function(e,t,n){return s(this,void 0,void 0,(function(){var i,o,a,s,l,d,p,h,v,y,b,w;return u(this,(function(u){switch(u.label){case 0:return i=g.parseRequestArgs(e,t,n),o=this.options,a=o.headers,s=o.fetch,l=void 0===s?f.default:s,d=o.method,p=void 0===d?"POST":d,h=c(o,["headers","fetch","method"]),v=this.url,void 0!==i.signal&&(h.signal=i.signal),y=x(i.document),b=y.query,w=y.operationName,[4,S({url:v,query:b,variables:i.variables,headers:r(r({},m(a)),m(i.requestHeaders)),operationName:w,fetch:l,method:p,fetchOptions:h})];case 1:return[2,u.sent().data]}}))}))},e.prototype.batchRequests=function(e,t){return s(this,void 0,void 0,(function(){var n,i,o,a,s,l,d,p,h,v,y;return u(this,(function(u){switch(u.label){case 0:return n=g.parseBatchRequestArgs(e,t),i=this.options,o=i.headers,a=i.fetch,s=void 0===a?f.default:a,l=i.method,d=void 0===l?"POST":l,p=c(i,["headers","fetch","method"]),h=this.url,void 0!==n.signal&&(p.signal=n.signal),v=n.documents.map((function(e){return x(e.document).query})),y=n.documents.map((function(e){return e.variables})),[4,S({url:h,query:v,variables:y,headers:r(r({},m(o)),m(n.requestHeaders)),operationName:void 0,fetch:s,method:d,fetchOptions:p})];case 1:return[2,u.sent().data]}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e.prototype.setEndpoint=function(e){return this.url=e,this},e}();function S(e){var t=e.url,n=e.query,i=e.variables,o=e.headers,a=e.operationName,c=e.fetch,l=e.method,f=void 0===l?"POST":l,d=e.fetchOptions;return s(this,void 0,void 0,(function(){var e,s,l,p,h,g,m,y;return u(this,(function(u){switch(u.label){case 0:return e="POST"===f.toUpperCase()?b:w,s=Array.isArray(n),[4,e({url:t,query:n,variables:i,operationName:a,headers:o,fetch:c,fetchOptions:d})];case 1:return[4,k(l=u.sent())];case 2:if(p=u.sent(),h=s&&Array.isArray(p)?!p.some((function(e){return!e.data})):!!p.data,l.ok&&!p.errors&&h)return g=l.headers,m=l.status,[2,r(r({},s?{data:p}:p),{headers:g,status:m})];throw y="string"==typeof p?{error:p}:p,new v.ClientError(r(r({},y),{status:l.status,headers:l.headers}),{query:n,variables:i})}}))}))}function E(e,t,n,i){return s(this,void 0,void 0,(function(){var o;return u(this,(function(a){return o=g.parseRequestExtendedArgs(e,t,n,i),[2,new _(o.url).request(r({},o))]}))}))}function k(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}function x(e){var t;if("string"==typeof e)return{query:e};var n=void 0,r=e.definitions.filter((function(e){return"OperationDefinition"===e.kind}));return 1===r.length&&(n=null===(t=r[0].name)||void 0===t?void 0:t.value),{query:p.print(e),operationName:n}}t.GraphQLClient=_,t.rawRequest=function(e,t,n,i){return s(this,void 0,void 0,(function(){var o;return u(this,(function(a){return o=g.parseRawRequestExtendedArgs(e,t,n,i),[2,new _(o.url).rawRequest(r({},o))]}))}))},t.request=E,t.batchRequests=function(e,t,n){return s(this,void 0,void 0,(function(){var i;return u(this,(function(o){return i=g.parseBatchRequestsExtendedArgs(e,t,n),[2,new _(i.url).batchRequests(r({},i))]}))}))},t.default=E,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,r){return""+e+n+(r in t?t[r]:"")}),"")}},32980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBatchRequestsExtendedArgs=t.parseRawRequestExtendedArgs=t.parseRequestExtendedArgs=t.parseBatchRequestArgs=t.parseRawRequestArgs=t.parseRequestArgs=void 0,t.parseRequestArgs=function(e,t,n){return e.document?e:{document:e,variables:t,requestHeaders:n,signal:void 0}},t.parseRawRequestArgs=function(e,t,n){return e.query?e:{query:e,variables:t,requestHeaders:n,signal:void 0}},t.parseBatchRequestArgs=function(e,t){return e.documents?e:{documents:e,requestHeaders:t,signal:void 0}},t.parseRequestExtendedArgs=function(e,t,n,r){return e.document?e:{url:e,document:t,variables:n,requestHeaders:r,signal:void 0}},t.parseRawRequestExtendedArgs=function(e,t,n,r){return e.query?e:{url:e,query:t,variables:n,requestHeaders:r,signal:void 0}},t.parseBatchRequestsExtendedArgs=function(e,t,n){return e.documents?e:{url:e,documents:t,requestHeaders:n,signal:void 0}}},8308:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var i=function(e){function t(n,r){var i=this,o=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,o)||this,Object.setPrototypeOf(i,t.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return r(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=i}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";class e{constructor(){this.head=null,this.tail=null}push(e){const t={prev:this.tail,next:null,value:e};return t.prev&&(t.prev.next=t),this.head||(this.head=t),this.tail=t,t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),e.prev=null,e.next=null}clearAndUnlink(){let e=this.head;for(;null!==e;){const t=e.next;e.prev=null,e.next=null,e=t}this.clear()}clear(){this.head=null,this.tail=null}removeUpToAndIncluding(e){let t=this.head;const n=e.next;for(;null!==t&&t!==n;){const e=t.next;t.prev=null,t.next=null,t=e}n?n.prev=null:this.tail=null,this.head=n}concat(){return this.concatNodes().map((e=>e.value))}concatNodes(){const e=[];let t=this.head;for(;null!==t;)e.push(t),t=t.next;return e}iterate(e){let t=this.head;for(;null!==t;){const n=t.next;e(t),t=n}}naiveContains(e){return this.head===e||this.tail===e||!(!e.prev&&!e.next)}}var t=(e=>(e.ImmediateThenWait="ImmediateThenWait",e.WaitThenRunLast="WaitThenRunLast",e.ImmediateThenQueueLast="ImmediateThenQueueLast",e))(t||{});function r(){const e={},t={},n=function(e,t){return function(n,r,i,o){switch(i){case"ImmediateThenWait":if(void 0!==e[n])return;r(),e[n]=setTimeout((()=>{delete e[n]}),o);break;case"WaitThenRunLast":if(t[n]=r,void 0!==e[n])return;e[n]=setTimeout((()=>{t[n]?.(),delete t[n],delete e[n]}),o);break;case"ImmediateThenQueueLast":if(void 0!==e[n])return void(t[n]=r);r(),e[n]=setTimeout((()=>{t[n]?.(),delete t[n],delete e[n]}),o)}}}(e,t),r=function(e,t){return function(n){const r=e[n];r&&(clearTimeout(r),delete e[n]),delete t[n]}}(e,t);return{debounce:n,clearDebounce:r}}function i(){const e=r();return{debounce:(t,n,r)=>e.debounce("",t,n,r),clearDebounce:()=>e.clearDebounce("")}}const{debounce:o,clearDebounce:a}=r();class s extends e{constructor(e,t){super(),this.debouncer=i(),this.listCap=e,this.trimFrequency=t}push(e){const n=super.push(e);return this.debouncer.debounce((()=>this.trimList()),t.WaitThenRunLast,this.trimFrequency),n}trimList(){if(!this.tail)return;let e=1,t=this.tail;for(;null!==t.prev&&e<this.listCap;)t=t.prev,e++;t.prev&&this.removeUpToAndIncluding(t.prev)}}var u,c,l,f,d,p=n(71225),h=n(72484);!function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin"}(u||(u={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration"}(c||(c={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"}(l||(l={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange"}(f||(f={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(d||(d={}));var g="rrweb/console@1";const v="jam/network@1",m="jam/websocket@1",y="jam/sdk@1";var b=(e=>(e.CaptureEvent="captureEvent",e.ConsoleEvent="consoleEvent",e.InteractivityEvent="interactivityEvent",e.NavigationEvent="navigationEvent",e.NetworkEvent="networkEvent",e.ReplayEvent="replayEvent",e.WebsocketEvent="websocketEvent",e.VideoEvent="videoEvent",e))(b||{}),w=(e=>(e[e.Unknown=0]="Unknown",e[e.InjectionSkipped=1]="InjectionSkipped",e[e.InjectionOccurring=2]="InjectionOccurring",e[e.InjectionRace=3]="InjectionRace",e[e.InjectionFailed=4]="InjectionFailed",e[e.OK=5]="OK",e))(w||{});function _(e){return e.type===u.Plugin&&e.data.plugin===v}function S(e){return e.type===u.Plugin&&e.data.plugin===g}function E(e){return e.type===u.Meta}function k(e){return e.type===u.DomContentLoaded||e.type===u.Load||e.type===u.FullSnapshot||e.type===u.IncrementalSnapshot||e.type===u.Meta}const x="PageMetadata";function T(e){return e.type===u.Plugin&&e.data.plugin===y&&"eventType"in e.data&&"string"==typeof e.data.eventType}const O={isConsoleEvent:S,isConsoleOrMetaEvent:function(e){return S(e)||E(e)},isMetaEvent:E,isNetworkEvent:_,isSessionReplayEvent:k,isSnapshotEvent:function(e){return e.type===u.FullSnapshot||e.type===u.IncrementalSnapshot},isViewEvent:function(e){return e.type===u.Custom&&e.data.tag===A},isWebSocketEvent:function(e){return e.type===u.Plugin&&e.data.plugin===m},isJamSdkEvent:T,isPageMetadataEvent:function(e){return T(e)&&e.data.eventType===x}},A="@jam/VIEW_EVENT";function I(e){return{type:u.Custom,hostname:void 0,data:{tag:A,payload:null},timestamp:e.timestamp}}const C=class e{constructor(e,t){this.processIncoming={filters:[O.isWebSocketEvent],transformers:[]},this.processOutgoing={filters:[],transformers:[]},this.tabConnections=new Map,this.logger=e,this.ttl=t.ttl,this.capacity=t.capacity}setupTabState(e){this.tabConnections.has(e)||this.tabConnections.set(e,new Map)}removeTabState(e){this.tabConnections.delete(e)}addEvent(t,n){if(this.prune(t),!O.isWebSocketEvent(n))return;const r=n.data.payload.connectionId;let i=this.tabConnections.get(t)?.get(r);if(!i&&(i={id:r,connectedAt:-1,closedAt:-1,events:new s(this.capacity,e.TRIM_FREQ)},this.logger.debug({connectionId:r,tabId:t,states:this.tabConnections},"adding connection"),this.tabConnections.get(t)?.set(r,i),this.tabConnections.size>=e.MAX_CONNS_PER_TAB))throw new Error(`reached max websocket connections tracked for tab(${t})`);switch(n.data.payload.action){case"connect":i.connectedAt=n.timestamp;break;case"close":i.closedAt=n.timestamp}i.events.push(n)}async getEvents(e){const t=this.tabConnections.get(e);return t?Array.from(t.values()).flatMap((e=>e.events.concat())):[]}prune(e){const t=this.tabConnections.get(e);if(t)for(const n of t.values()){if(n.closedAt<=0)return;Date.now()-n.closedAt>this.ttl&&(t.delete(n.id),this.logger.debug({tabId:e,connectionId:n.id},"pruning connection"))}}};C.MAX_CONNS_PER_TAB=1e3,C.TRIM_FREQ=p.X.Minute;let P=C;var D=n(22955);class M{constructor(e,t){if(this.latestNodeToRemove=null,this.debouncer=i(),this.timeout=null,t<1e3)throw new Error("Cannot have TTL under call batching duration (1000ms)");this.innerLinkedList=e,this.ttl=t}clear(){this.debouncer.clearDebounce(),this.timeout&&clearTimeout(this.timeout),this.latestNodeToRemove=null,this.innerLinkedList.clear()}getAsUntrimmedArray(){return this.innerLinkedList.concat().map((e=>e.value))}push(e){const n={timestamp:Date.now(),value:e},r=this.innerLinkedList.push(n);this.latestNodeToRemove=r,this.debouncer.debounce(this.cleanup.bind(this),t.WaitThenRunLast,1e3)}cleanup(){const e=this.latestNodeToRemove;this.latestNodeToRemove=null,e&&(this.timeout=setTimeout((()=>{this.innerLinkedList.naiveContains(e)&&this.innerLinkedList.removeUpToAndIncluding(e)}),this.ttl))}}var R=(e=>(e.Input="input",e.Output="output",e))(R||{});const j=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Alt","AltDead","AltLeft","AltRight","Backspace","CapsLock","ContextMenu","Control","ControlLeft","ControlRight","Enter","Escape","Meta","MetaLeft","MetaRight","Shift","ShiftLeft","ShiftRight","Tab"],N={Digit0:")",Digit1:"!",Digit2:"@",Digit3:"#",Digit4:"$",Digit5:"%",Digit6:"^",Digit7:"&",Digit8:"*",Digit9:"(",Minus:"_",Equal:"+",Period:">",Comma:"<",Slash:"?",Quote:'"',Semicolon:":",BracketLeft:"{",BracketRight:"}",BackSlash:"|",Backquote:"~"},L={shiftKey:"Shift",altKey:"Alt",metaKey:"Meta",ctrlKey:"Control"};var U=(e=>(e.Rewind="Rewind",e.Screenshot="Screenshot",e.Video="Video",e))(U||{}),B=(e=>(e.Idle="Idle",e.Processing="Processing",e))(B||{});const F={...B,...U};function z(e){return e.type===u.Plugin&&e.data.plugin===v}function K(e){return e.jamType===b.InteractivityEvent}function V(e){return e.jamType===b.CaptureEvent}function H(e){return V(e)&&e.data.payload.captureMode===U.Video}function $(e){return e.jamType===b.NavigationEvent}const q={isConsoleEvent:function(e){return e.type===u.Plugin&&e.data.plugin===g},isNetworkEvent:z,isWebSocketEvent:function(e){return e.type===u.Plugin&&e.data.plugin===m},isInteractivityEvent:K,isInteractivityEventInput:function(e){return K(e)&&e.data.payload.step===R.Input},isInteractivityEventOutput:function(e){return K(e)&&e.data.payload.step===R.Output},isNavigationEventInput:function(e){return $(e)&&e.data.payload.step===R.Input},isNavigationEventOutput:function(e){return $(e)&&e.data.payload.step===R.Output},isCaptureEvent:V,isCaptureEventVideo:H,isCaptureEventScreenshot:function(e){return V(e)&&e.data.payload.captureMode===U.Screenshot},isCaptureEventSessionReplay:function(e){return V(e)&&e.data.payload.captureMode===U.Rewind}},W=class e{constructor(t,n){this.isBuffering=!1,this.timeoutId=0,this.durationWindow=e.GROUP_EVENTS_WINDOW_DEFAULT,this.eventsBuffer=[],this.onFlush=t,n&&(this.durationWindow=n)}addToBuffer(e){this.isBuffering=!0,this.eventsBuffer.push(e)}flush(){if(0===this.eventsBuffer.length)return;const e=this.groupKeyboardEvents();this.onFlush(e),this.isBuffering=!1,this.eventsBuffer=[]}scheduleFlush(){this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>this.flush.bind(this)()),this.durationWindow)}removeFirstEventFromBuffer(e){const t=this.eventsBuffer;for(let n=t.length-1;n>=0;n--)if(t[n].data.payload.code===e){t.splice(n,1);break}}groupKeyboardEvents(){const e=this.eventsBuffer[this.eventsBuffer.length-1],t=Array.from({length:this.eventsBuffer.length});for(const[e,n]of this.eventsBuffer.entries())t[e]={key:n.data.payload.key,code:n.data.payload.code,repeat:n.data.payload.repeat,type:n.data.payload.type};return{type:e.type,timestamp:e.timestamp,jamType:b.InteractivityEvent,data:{tag:"",payload:{step:R.Output,device:"keyboard",target:e.data.payload.target,type:"keyword",isTrusted:e.data.payload.isTrusted,composed:e.data.payload.composed,targetsJamUi:e.data.payload.targetsJamUi,originalTimestamp:e.data.payload.originalTimestamp,events:t}}}}};W.GROUP_EVENTS_WINDOW_DEFAULT=1200*p.X.Millisecond;let G=W;function J(e){if(q.isInteractivityEvent(e)&&"keyboard"===e.data.payload.device&&"keydown"===e.data.payload.type&&"INPUT"===e.data.payload.target.attributes.tagName&&"password"===e.data.payload.target.attributes.type&&!j.includes(e.data.payload.code)){const t=e;return t.data.payload.key="***",t.data.payload.code="KeyAnonymized",t}return e}function X(e){const t=[];for(const n of e)n.data.payload.targetsJamUi||t.push(n);return t}function Q(e){const t=new Set(["ShiftLeft","ShiftRight","Shift"]),n=[];for(const r of e)e:switch(r.data.payload.device){case"mouse":n.push(r);break e;case"keyboard":{const e=[];for(let n=0;n<r.data.payload.events.length;n++){const i=r.data.payload.events[n];if(n===r.data.payload.events.length-1){e.push(i);break}if(!t.has(i.code)){e.push(i);continue}const o=r.data.payload.events[n+1],a=N[o.code];a&&a===o.key||(o.key>="A"&&o.key<="Z"||e.push(i))}r.data.payload.events=e,n.push(r)}}return e}class Y{constructor(e){this.processIncoming={filters:[q.isInteractivityEventInput],transformers:[J]},this.processOutgoing={filters:[X,Q],transformers:[]},this.eventsAggregator=new G(this.storeEvent.bind(this),e.groupEventsDurationWindow),this.events=new M(new s(e.capacity,e.ttl/2),e.ttl)}setupState(){}removeState(){this.events.clear()}addEvent(e){let t=e;for(const e of this.processIncoming.filters??[])if(!e(t))return;const n=t;for(const e of this.processIncoming.transformers??[])t=e(n);switch(n.data.payload.type){case"keydown":this.eventsAggregator.addToBuffer(n);break;case"keyup":if(!this.eventsAggregator.isBuffering)return;this.eventsAggregator.scheduleFlush();break;case"click":{const e=Object.entries(n.data.payload.modifiers??{});if(e.some((([,e])=>e))){const t=new Set;for(const[n,r]of e)r&&t.add(n);if(t.size>0)for(const e of t){const t=L[e];this.eventsAggregator.removeFirstEventFromBuffer(t)}}this.eventsAggregator.flush();const t={...n,data:{tag:n.data.tag,payload:{...n.data.payload,step:R.Output}}};this.storeEvent(t)}}}getEvents(){let e=this.events.getAsUntrimmedArray();for(const t of this.processOutgoing.filters??[])e=t(e);for(const t of this.processOutgoing.transformers??[])e=t(e);return e}storeEvent(e){this.events.push(e)}}var Z,ee,te=(e=>(e.Start="start",e.Stop="stop",e))(te||{}),ne=(e=>(e.Pause="pause",e.Resume="resume",e))(ne||{});(ee=Z||(Z={})).isStartEvent=function(e){return e.type===u.Custom&&"start-recording"==e.data.tag||e.jamType===b.CaptureEvent&&e.data.payload.captureMode===U.Video&&"start"===e.data.payload.mark},ee.isPauseEvent=function(e){return e.type===u.Custom&&"resume-recording"==e.data.tag||e.jamType===b.CaptureEvent&&e.data.payload.captureMode===U.Video&&"pause"===e.data.payload.mark},ee.isResumeEvent=function(e){return e.type===u.Custom&&"resume-recording"==e.data.tag||e.jamType===b.CaptureEvent&&e.data.payload.captureMode===U.Video&&"resume"===e.data.payload.mark},ee.isStopEvent=function(e){return e.type===u.Custom&&"stop-recording"==e.data.tag||e.jamType===b.CaptureEvent&&e.data.payload.captureMode===U.Video&&"stop"===e.data.payload.mark};const re={"Unexpected control event without a preceding Start control event":"bail","Unexpected segment without a Start or Stop control event":"bail","Unexpected Resume control event preceding a Pause control event":"warn","Unexpected repeating pause or resume control event":"warn","Unexpected repeating start or stop control event":"bail"};class ie{constructor(...e){this.readers=e}async getEvents(e){return(await Promise.all(this.readers.map((t=>t.getEvents(e))))).flat().sort(((e,t)=>e.timestamp-t.timestamp))}}function oe(e){return new URL(e).toString()}class ae{constructor(e,t){this.logger=e,this.events=t.events,this.messages=t.messages,this.observationGracePeriod=t.observationGracePeriod??500*p.X.Millisecond}async getEvents(e){const t=[],n=[],r=new Map;(await this.events.getEvents(e)).forEach(((e,r)=>{O.isNetworkEvent(e)&&"websocket"===e.data.payload.entry.initiatorType&&n.push(r),t.push(e)})),(await this.messages.getEvents(e)).forEach((e=>{O.isWebSocketEvent(e)&&(r.has(e.data.payload.connectionId)||r.set(e.data.payload.connectionId,[]),r.get(e.data.payload.connectionId)?.push(e))}));const i=new Set;return n.forEach((e=>{const n=t[e];if(O.isNetworkEvent(n))for(const[e,t]of r.entries()){if(i.has(e))continue;if(t.length<=0)continue;const r=Math.abs(t[0].timestamp-n.timestamp)<this.observationGracePeriod,o=O.isNetworkEvent(n)&&oe(n.data.payload.entry.name)===oe(t[0].data.payload.url);r&&o&&(i.add(t[0].data.payload.connectionId),n.data.payload.webSocketMessages=t,this.logger.debug("assigned messages to event",{event:n,messages:t,connectionId:t[0].data.payload.connectionId}))}})),t}}var se=n(95231);const ue={GLOBAL_MINIMAL_SHARED_STORE:"jam-global-minimal-shared-store-3",GLOBAL_MINIMAL_SHARED_STORE_PREVIOUS:"jam-global-minimal-shared-store-2",POPUP_WINDOW:"jam-popup-window-v3",PER_PROFILE_INJECTED_SCRIPTS_VERSIONED:"jam-content-script-per-profile-storage-versioned-v9",PER_PROFILE_INJECTED_SCRIPTS_VERSIONED_PREVIOUS:"jam-content-script-per-profile-storage-versioned-v8",PER_PROFILE_INJECTED_SCRIPTS:"jam-content-script-per-profile-storage",BG_PAGE_UNLOADED_TS:"background_unloaded_at",BG_PAGE_RELOADED_TS:"background_reloaded_at"},ce="JAM_DOES_NOT_SAVE_SECRETS",le=["passport","phone","address","street","apt","apartment","email","ssn"].concat(["auth","cookie","password","passcode","secret","access","token","key","code"]);var fe=n(76635);function de(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var pe={};function he(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:pe}var ge=Object.assign,ve=Object.getOwnPropertyDescriptor,me=Object.defineProperty,ye=Object.prototype,be=[];Object.freeze(be);var we={};Object.freeze(we);var _e="undefined"!=typeof Proxy,Se=Object.toString();function Ee(){_e||de("Proxy not available")}function ke(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var xe=function(){};function Te(e){return"function"==typeof e}function Oe(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Ae(e){return null!==e&&"object"==typeof e}function Ie(e){if(!Ae(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===Se}function Ce(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function Pe(e,t,n){me(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function De(e,t,n){me(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Me(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Ae(e)&&!0===e[n]}}function Re(e){return e instanceof Map}function je(e){return e instanceof Set}var Ne=void 0!==Object.getOwnPropertySymbols,Le="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Ne?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Ue(e){return null===e?null:"object"==typeof e?""+e:e}function Be(e,t){return ye.hasOwnProperty.call(e,t)}var Fe=Object.getOwnPropertyDescriptors||function(e){var t={};return Le(e).forEach((function(n){t[n]=ve(e,n)})),t};function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function He(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$e(e,t)}function $e(e,t){return $e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$e(e,t)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Je=Symbol("mobx-stored-annotations");function Xe(e){return Object.assign((function(t,n){Qe(t,n,e)}),e)}function Qe(e,t,n){Be(e,Je)||Pe(e,Je,Ve({},e[Je])),function(e){return e.annotationType_===ot}(n)||(e[Je][t]=n)}var Ye=Symbol("mobx administration"),Ze=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Xt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return Sn(this)},t.reportChanged=function(){wn(),En(this),_n()},t.toString=function(){return this.name_},e}(),et=Me("Atom",Ze);function tt(e,t,n){void 0===t&&(t=xe),void 0===n&&(n=xe);var r=new Ze(e);return t!==xe&&$n(Vn,r,t,undefined),n!==xe&&Hn(r,n),r}var nt={identity:function(e,t){return e===t},structural:function(e,t){return ri(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return ri(e,t,1)}};function rt(e,t,n){return tr(e)?e:Array.isArray(e)?jt.array(e,{name:n}):Ie(e)?jt.object(e,void 0,{name:n}):Re(e)?jt.map(e,{name:n}):je(e)?jt.set(e,{name:n}):"function"!=typeof e||Un(e)||Yn(e)?e:Ce(e)?Xn(e):Nn(n,e)}function it(e){return e}var ot="override";function at(e,t){return{annotationType_:e,options_:t,make_:st,extend_:ut}}function st(e,t,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Un(n.value))return 1;var o=ct(e,this,t,n,!1);return me(r,t,o),2}function ut(e,t,n,r){var i=ct(e,this,t,n);return e.defineProperty_(t,i,r)}function ct(e,t,n,r,i){var o,a,s,u,c,l,f,d;void 0===i&&(i=vn.safeDescriptors),d=r,t.annotationType_,d.value;var p,h=r.value;return null!=(o=t.options_)&&o.bound&&(h=h.bind(null!=(p=e.proxy_)?p:e.target_)),{value:$t(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),h,null!=(u=null==(c=t.options_)?void 0:c.autoAction)&&u,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function lt(e,t){return{annotationType_:e,options_:t,make_:ft,extend_:dt}}function ft(e,t,n,r){var i;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!Be(e.target_,t)||!Yn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Yn(n.value))return 1;var o=pt(e,this,0,n,!1,!1);return me(r,t,o),2}function dt(e,t,n,r){var i,o=pt(e,this,0,n,null==(i=this.options_)?void 0:i.bound);return e.defineProperty_(t,o,r)}function pt(e,t,n,r,i,o){var a;void 0===o&&(o=vn.safeDescriptors),a=r,t.annotationType_,a.value;var s,u=r.value;return Yn(u)||(u=Xn(u)),i&&((u=u.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0),{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function ht(e,t){return{annotationType_:e,options_:t,make_:gt,extend_:vt}}function gt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function vt(e,t,n,r){return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,Ve({},this.options_,{get:n.get,set:n.set}),r);var i}function mt(e,t){return{annotationType_:e,options_:t,make_:yt,extend_:bt}}function yt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function bt(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:rt,r)}var wt=_t();function _t(e){return{annotationType_:"true",options_:e,make_:St,extend_:Et}}function St(e,t,n,r){var i,o,a,s;if(n.get)return Bt.make_(e,t,n,r);if(n.set){var u=$t(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!vn.safeDescriptors||e.isPlainObject_,set:u})?0:2:(me(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&"function"==typeof n.value)return Ce(n.value)?(null!=(s=this.options_)&&s.autoBind?Xn.bound:Xn).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Nn.bound:Nn).make_(e,t,n,r);var c,l=!1===(null==(i=this.options_)?void 0:i.deep)?jt.ref:jt;return"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_)),l.make_(e,t,n,r)}function Et(e,t,n,r){var i,o,a;return n.get?Bt.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!vn.safeDescriptors||e.isPlainObject_,set:$t(t.toString(),n.set)},r):("function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_)),(!1===(null==(o=this.options_)?void 0:o.deep)?jt.ref:jt).extend_(e,t,n,r))}var kt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function xt(e){return e||kt}Object.freeze(kt);var Tt=mt("observable"),Ot=mt("observable.ref",{enhancer:it}),At=mt("observable.shallow",{enhancer:function(e,t,n){return null==e||Vr(e)||Ar(e)||Mr(e)||Nr(e)?e:Array.isArray(e)?jt.array(e,{name:n,deep:!1}):Ie(e)?jt.object(e,void 0,{name:n,deep:!1}):Re(e)?jt.map(e,{name:n,deep:!1}):je(e)?jt.set(e,{name:n,deep:!1}):void 0}}),It=mt("observable.struct",{enhancer:function(e,t){return ri(e,t)?t:e}}),Ct=Xe(Tt);function Pt(e){return!0===e.deep?rt:!1===e.deep?it:(t=e.defaultDecorator)&&null!=(n=null==(r=t.options_)?void 0:r.enhancer)?n:rt;var t,n,r}function Dt(e,t,n){if(!Oe(t))return tr(e)?e:Ie(e)?jt.object(e,t,n):Array.isArray(e)?jt.array(e,t):Re(e)?jt.map(e,t):je(e)?jt.set(e,t):"object"==typeof e&&null!==e?e:jt.box(e,t);Qe(e,t,Tt)}Object.assign(Dt,Ct);var Mt,Rt,jt=ge(Dt,{box:function(e,t){var n=xt(t);return new Yt(e,Pt(n),n.name,!0,n.equals)},array:function(e,t){var n=xt(t);return(!1===vn.useProxies||!1===n.proxy?Yr:_r)(e,Pt(n),n.name)},map:function(e,t){var n=xt(t);return new Dr(e,Pt(n),n.name)},set:function(e,t){var n=xt(t);return new jr(e,Pt(n),n.name)},object:function(e,t,n){return function(e,t,n,r){var i=Fe(t),o=Fr(e,r)[Ye];wn();try{Le(i).forEach((function(e){o.extend_(e,i[e],!n||!(e in n)||n[e])}))}finally{_n()}return e}(!1===vn.useProxies||!1===(null==n?void 0:n.proxy)?Fr({},n):function(e,t){var n,r;return Ee(),null!=(r=(n=(e=Fr(e,t))[Ye]).proxy_)?r:n.proxy_=new Proxy(e,lr)}({},n),e,t)},ref:Xe(Ot),shallow:Xe(At),deep:Ct,struct:Xe(It)}),Nt="computed",Lt=ht(Nt),Ut=ht("computed.struct",{equals:nt.structural}),Bt=function(e,t){if(Oe(t))return Qe(e,t,Lt);if(Ie(e))return Xe(ht(Nt,e));var n=Ie(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new en(n)};Object.assign(Bt,Lt),Bt.struct=Xe(Ut);var Ft,zt=0,Kt=1,Vt=null!=(Mt=null==(Rt=ve((function(){}),"name"))?void 0:Rt.configurable)&&Mt,Ht={value:"action",configurable:!0,writable:!1,enumerable:!1};function $t(e,t,n,r){function i(){return qt(0,n,t,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,Vt&&(Ht.value=e,Object.defineProperty(i,"name",Ht)),i}function qt(e,t,n,r,i){var o=function(e,t,n,r){var i=vn.trackingDerivation,o=!t||!i;wn();var a=vn.allowStateChanges;o&&(cn(),a=Gt(!0));var s={runAsAction_:o,prevDerivation_:i,prevAllowStateChanges_:a,prevAllowStateReads_:fn(!0),notifySpy_:!1,startTime_:0,actionId_:Kt++,parentActionId_:zt};return zt=s.actionId_,s}(0,t);try{return n.apply(r,i)}catch(e){throw o.error_=e,e}finally{!function(e){zt!==e.actionId_&&de(30),zt=e.parentActionId_,void 0!==e.error_&&(vn.suppressReactionErrors=!0),Jt(e.prevAllowStateChanges_),dn(e.prevAllowStateReads_),_n(),e.runAsAction_&&ln(e.prevDerivation_),vn.suppressReactionErrors=!1}(o)}}function Wt(e,t){var n=Gt(e);try{return t()}finally{Jt(n)}}function Gt(e){var t=vn.allowStateChanges;return vn.allowStateChanges=e,t}function Jt(e){vn.allowStateChanges=e}Ft=Symbol.toPrimitive;var Xt,Qt,Yt=function(e,t){function n(t,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=nt.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(t,void 0,r),a}He(n,e);var r=n.prototype;return r.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==vn.UNCHANGED&&this.setNewValue_(e)},r.prepareNewValue_=function(e){if(fr(this)){var t=pr(this,{object:this,type:yr,newValue:e});if(!t)return vn.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?vn.UNCHANGED:e},r.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),hr(this)&&vr(this,{type:yr,object:this,newValue:e,oldValue:t})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(e){return dr(this,e)},r.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:yr,newValue:this.value_,oldValue:void 0}),gr(this,e)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return Ue(this.get())},r[t]=function(){return this.valueOf()},n}(Ze,Ft),Zt=Me("ObservableValue",Yt),en=function(e){function t(e){this.dependenciesState_=Xt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Xt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new nn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Qt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||de(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=$t("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?nt.structural:nt.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var n=t.prototype;return n.onBecomeStale_=function(){!function(e){e.lowestObserverState_===Xt.UP_TO_DATE_&&(e.lowestObserverState_=Xt.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Xt.UP_TO_DATE_&&(e.dependenciesState_=Xt.POSSIBLY_STALE_,e.onBecomeStale_())})))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},n.get=function(){if(this.isComputing_&&de(32,this.name_,this.derivation),0!==vn.inBatch||0!==this.observers_.size||this.keepAlive_){if(Sn(this),on(this)){var e=vn.trackingContext;this.keepAlive_&&!e&&(vn.trackingContext=this),this.trackAndCompute()&&function(e){e.lowestObserverState_!==Xt.STALE_&&(e.lowestObserverState_=Xt.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===Xt.POSSIBLY_STALE_?t.dependenciesState_=Xt.STALE_:t.dependenciesState_===Xt.UP_TO_DATE_&&(e.lowestObserverState_=Xt.UP_TO_DATE_)})))}(this),vn.trackingContext=e}}else on(this)&&(this.warnAboutUntrackedRead_(),wn(),this.value_=this.computeValue_(!1),_n());var t=this.value_;if(rn(t))throw t.cause;return t},n.set=function(e){if(this.setter_){this.isRunningSetter_&&de(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else de(34,this.name_)},n.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===Xt.NOT_TRACKING_,n=this.computeValue_(!0),r=t||rn(e)||rn(n)||!this.equals_(e,n);return r&&(this.value_=n),r},n.computeValue_=function(e){this.isComputing_=!0;var t,n=Gt(!1);if(e)t=an(this,this.derivation,this.scope_);else if(!0===vn.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new nn(e)}return Jt(n),this.isComputing_=!1,t},n.suspend_=function(){this.keepAlive_||(sn(this),this.value_=void 0)},n.observe_=function(e,t){var n=this,r=!0,i=void 0;return Bn((function(){var o=n.get();if(!r||t){var a=cn();e({observableKind:"computed",debugObjectName:n.name_,type:yr,object:n,newValue:o,oldValue:i}),ln(a)}r=!1,i=o}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return Ue(this.get())},n[e]=function(){return this.valueOf()},t}(Symbol.toPrimitive),tn=Me("ComputedValue",en);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(Xt||(Xt={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Qt||(Qt={}));var nn=function(e){this.cause=void 0,this.cause=e};function rn(e){return e instanceof nn}function on(e){switch(e.dependenciesState_){case Xt.UP_TO_DATE_:return!1;case Xt.NOT_TRACKING_:case Xt.STALE_:return!0;case Xt.POSSIBLY_STALE_:for(var t=fn(!0),n=cn(),r=e.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(tn(a)){if(vn.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ln(n),dn(t),!0}if(e.dependenciesState_===Xt.STALE_)return ln(n),dn(t),!0}}return pn(e),ln(n),dn(t),!1}}function an(e,t,n){var r=fn(!0);pn(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++vn.runId;var i,o=vn.trackingDerivation;if(vn.trackingDerivation=e,vn.inBatch++,!0===vn.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new nn(e)}return vn.inBatch--,vn.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=Xt.UP_TO_DATE_,i=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}for(n.length=i,e.newObserving_=null,o=t.length;o--;){var u=t[o];0===u.diffValue_&&yn(u,e),u.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,mn(c,e))}r!==Xt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),dn(r),i}function sn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)yn(t[n],e);e.dependenciesState_=Xt.NOT_TRACKING_}function un(e){var t=cn();try{return e()}finally{ln(t)}}function cn(){var e=vn.trackingDerivation;return vn.trackingDerivation=null,e}function ln(e){vn.trackingDerivation=e}function fn(e){var t=vn.allowStateReads;return vn.allowStateReads=e,t}function dn(e){vn.allowStateReads=e}function pn(e){if(e.dependenciesState_!==Xt.UP_TO_DATE_){e.dependenciesState_=Xt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=Xt.UP_TO_DATE_}}var hn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},gn=!0,vn=function(){var e=he();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(gn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new hn).version&&(gn=!1),gn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new hn):(setTimeout((function(){de(35)}),1),new hn)}();function mn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function yn(e,t){e.observers_.delete(t),0===e.observers_.size&&bn(e)}function bn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,vn.pendingUnobservations.push(e))}function wn(){vn.inBatch++}function _n(){if(0==--vn.inBatch){xn();for(var e=vn.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof en&&n.suspend_())}vn.pendingUnobservations=[]}}function Sn(e){var t=vn.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&vn.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&vn.inBatch>0&&bn(e),!1)}function En(e){e.lowestObserverState_!==Xt.STALE_&&(e.lowestObserverState_=Xt.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Xt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Xt.STALE_})))}var kn=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Xt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Qt.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,vn.pendingReactions.push(this),xn())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){wn(),this.isScheduled_=!1;var e=vn.trackingContext;if(vn.trackingContext=this,on(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}vn.trackingContext=e,_n()}},t.track=function(e){if(!this.isDisposed_){wn(),this.isRunning_=!0;var t=vn.trackingContext;vn.trackingContext=this;var n=an(this,e,void 0);vn.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&sn(this),rn(n)&&this.reportExceptionInDerivation_(n.cause),_n()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(vn.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";vn.suppressReactionErrors||console.error(n,e),vn.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(wn(),sn(this),_n()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[Ye]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){de("trace() is not available in production builds");for(var e=!1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"boolean"==typeof n[n.length-1]&&(e=n.pop());var i=sr(n);if(!i)return de("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing_===Qt.NONE&&console.log("[mobx.trace] '"+i.name_+"' tracing enabled"),i.isTracing_=e?Qt.BREAK:Qt.LOG}(this,e)},e}();function xn(){vn.inBatch>0||vn.isRunningReactions||Tn()}function Tn(){vn.isRunningReactions=!0;for(var e=vn.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}vn.isRunningReactions=!1}var On=Me("Reaction",kn),An="action",In="autoAction",Cn=at(An),Pn=at("action.bound",{bound:!0}),Dn=at(In,{autoAction:!0}),Mn=at("autoAction.bound",{autoAction:!0,bound:!0});function Rn(e){return function(t,n){return Te(t)?$t(t.name||"<unnamed action>",t,e):Te(n)?$t(t,n,e):Oe(n)?Qe(t,n,e?Dn:Cn):Oe(t)?Xe(at(e?In:An,{name:t,autoAction:e})):void 0}}var jn=Rn(!1);Object.assign(jn,Cn);var Nn=Rn(!0);function Ln(e){return qt(e.name,!1,e,this,void 0)}function Un(e){return Te(e)&&!0===e.isMobxAction}function Bn(e,t){var n,r;void 0===t&&(t=we);var i,o=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun";if(t.scheduler||t.delay){var a=zn(t),s=!1;i=new kn(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(u)})))}),t.onError,t.requiresObservable)}else i=new kn(o,(function(){this.track(u)}),t.onError,t.requiresObservable);function u(){e(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Nn,Dn),jn.bound=Xe(Pn),Nn.bound=Xe(Mn);var Fn=function(e){return e()};function zn(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Fn}function Kn(e,t,n){var r;void 0===n&&(n=we);var i,o,a,s,u=null!=(r=n.name)?r:"Reaction",c=jn(u,n.onError?(i=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){i.call(this,e)}}):t),l=!n.scheduler&&!n.delay,f=zn(n),d=!0,p=!1,h=n.compareStructural?nt.structural:n.equals||nt.default,g=new kn(u,(function(){d||l?v():p||(p=!0,f(v))}),n.onError,n.requiresObservable);function v(){if(p=!1,!g.isDisposed_){var t=!1;g.track((function(){var n=Wt(!1,(function(){return e(g)}));t=d||!h(a,n),s=a,a=n})),(d&&n.fireImmediately||!d&&t)&&c(a,s,g),d=!1}}return g.schedule_(),g.getDisposer_()}var Vn="onBO";function Hn(e,t,n){return $n("onBUO",e,t,n)}function $n(e,t,n,r){var i="function"==typeof r?Zr(t,n):Zr(t),o=Te(r)?r:n,a=e+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var e=i[a];e&&(e.delete(o),0===e.size&&delete i[a])}}var qn=0;function Wn(){this.message="FLOW_CANCELLED"}Wn.prototype=Object.create(Error.prototype);var Gn=lt("flow"),Jn=lt("flow.bound",{bound:!0}),Xn=Object.assign((function(e,t){if(Oe(t))return Qe(e,t,Gn);var n=e,r=n.name||"<unnamed flow>",i=function(){var e,t=this,i=arguments,o=++qn,a=jn(r+" - runid: "+o+" - init",n).apply(t,i),s=void 0,u=new Promise((function(t,n){var i=0;function u(e){var t;s=void 0;try{t=jn(r+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(e){return n(e)}l(t)}function c(e){var t;s=void 0;try{t=jn(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(e){return n(e)}l(t)}function l(e){if(!Te(null==e?void 0:e.then))return e.done?t(e.value):(s=Promise.resolve(e.value)).then(u,c);e.then(l,n)}e=n,u(void 0)}));return u.cancel=jn(r+" - runid: "+o+" - cancel",(function(){try{s&&Qn(s);var t=a.return(void 0),n=Promise.resolve(t.value);n.then(xe,xe),Qn(n),e(new Wn)}catch(t){e(t)}})),u};return i.isMobXFlow=!0,i}),Gn);function Qn(e){Te(e.cancel)&&e.cancel()}function Yn(e){return!0===(null==e?void 0:e.isMobXFlow)}function Zn(e,t,n){var r;return Mr(e)||Ar(e)||Zt(e)?r=ei(e):Vr(e)&&(r=ei(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function er(e,t,n){return Te(n)?function(e,t,n){return ei(e,t).intercept_(n)}(e,t,n):function(e,t){return ei(e).intercept_(t)}(e,t)}function tr(e){return function(e,t){return!!e&&(void 0!==t?!!Vr(e)&&e[Ye].values_.has(t):Vr(e)||!!e[Ye]||et(e)||On(e)||tn(e))}(e)}function nr(e){return Vr(e)?e[Ye].keys_():Mr(e)||Nr(e)?Array.from(e.keys()):Ar(e)?e.map((function(e,t){return t})):void de(5)}function rr(e){return Vr(e)?nr(e).map((function(t){return e[t]})):Mr(e)?nr(e).map((function(t){return e.get(t)})):Nr(e)?Array.from(e.values()):Ar(e)?e.slice():void de(6)}function ir(e,t,n){if(2!==arguments.length||Nr(e))Vr(e)?e[Ye].set_(t,n):Mr(e)?e.set(t,n):Nr(e)?e.add(t):Ar(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&de("Invalid index: '"+t+"'"),wn(),t>=e.length&&(e.length=t+1),e[t]=n,_n()):de(8);else{wn();var r=t;try{for(var i in r)ir(e,i,r[i])}finally{_n()}}}function or(e,t,n){if(Vr(e))return e[Ye].defineProperty_(t,n);de(39)}function ar(e,t,n,r){return Te(n)?function(e,t,n,r){return ei(e,t).observe_(n,r)}(e,t,n,r):function(e,t,n){return ei(e).observe_(t,n)}(e,t,n)}function sr(e){switch(e.length){case 0:return vn.trackingDerivation;case 1:return Zr(e[0]);case 2:return Zr(e[0],e[1])}}function ur(e,t){void 0===t&&(t=void 0),wn();try{return e.apply(t)}finally{_n()}}function cr(e){return e[Ye]}Xn.bound=Xe(Jn);var lr={has:function(e,t){return cr(e).has_(t)},get:function(e,t){return cr(e).get_(t)},set:function(e,t,n){var r;return!!Oe(t)&&(null==(r=cr(e).set_(t,n,!0))||r)},deleteProperty:function(e,t){var n;return!!Oe(t)&&(null==(n=cr(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var r;return null==(r=cr(e).defineProperty_(t,n))||r},ownKeys:function(e){return cr(e).ownKeys_()},preventExtensions:function(e){de(13)}};function fr(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function dr(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),ke((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function pr(e,t){var n=cn();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&de(14),t);i++);return t}finally{ln(n)}}function hr(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function gr(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),ke((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function vr(e,t){var n=cn(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);ln(n)}}var mr="splice",yr="update",br={get:function(e,t){var n=e[Ye];return t===Ye?n:"length"===t?n.getArrayLength_():"string"!=typeof t||isNaN(t)?Be(Sr,t)?Sr[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[Ye];return"length"===t&&r.setArrayLength_(n),"symbol"==typeof t||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){de(15)}},wr=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Ze(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return dr(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),gr(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&de("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&de(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Qr(e+t+1)},t.spliceWithArray_=function(e,t,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=be),fr(this)){var o=pr(this,{object:this.proxy_,type:mr,index:e,removedCount:t,added:n});if(!o)return be;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(n));var i=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return i},t.notifyArrayChildUpdate_=function(e,t,n){var r=!this.owned_&&!1,i=hr(this),o=i||r?{observableKind:"array",object:this.proxy_,type:yr,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),i&&vr(this,o)},t.notifyArraySplice_=function(e,t,n){var r=!this.owned_&&!1,i=hr(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:mr,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),i&&vr(this,o)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var n=this.values_;if(e<n.length){this.atom_;var r=n[e];if(fr(this)){var i=pr(this,{type:yr,object:this.proxy_,index:e,newValue:t});if(!i)return;t=i.newValue}(t=this.enhancer_(t,r))!==r&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===n.length?this.spliceWithArray_(e,0,[t]):de(17,e,n.length)},e}();function _r(e,t,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Ee();var i=new wr(n,t,r,!1);De(i.values_,Ye,i);var o=new Proxy(i.values_,br);if(i.proxy_=o,e&&e.length){var a=Gt(!0);i.spliceWithArray_(0,0,e),Jt(a)}return o}var Sr={clear:function(){return this.splice(0)},replace:function(e){var t=this[Ye];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[Ye];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[Ye].spliceWithArray_(e,t,n)},push:function(){for(var e=this[Ye],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[Ye].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ye],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return vn.trackingDerivation&&de(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){vn.trackingDerivation&&de(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Ye],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Er(e,t){"function"==typeof Array.prototype[e]&&(Sr[e]=t(e))}function kr(e){return function(){var t=this[Ye];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function xr(e){return function(t,n){var r=this,i=this[Ye];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e]((function(e,i){return t.call(n,e,i,r)}))}}function Tr(e){return function(){var t=this,n=this[Ye];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(e,n,r){return i(e,n,r,t)},r[e].apply(r,arguments)}}Er("concat",kr),Er("flat",kr),Er("includes",kr),Er("indexOf",kr),Er("join",kr),Er("lastIndexOf",kr),Er("slice",kr),Er("toString",kr),Er("toLocaleString",kr),Er("every",xr),Er("filter",xr),Er("find",xr),Er("findIndex",xr),Er("flatMap",xr),Er("forEach",xr),Er("map",xr),Er("some",xr),Er("reduce",Tr),Er("reduceRight",Tr);var Or=Me("ObservableArrayAdministration",wr);function Ar(e){return Ae(e)&&Or(e[Ye])}var Ir={},Cr="add",Pr="delete",Dr=function(e,t){function n(e,t,n){var r=this;void 0===t&&(t=rt),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ye]=Ir,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,Te(Map)||de(18),this.keysAtom_=tt("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Wt(!0,(function(){r.merge(e)}))}var r=n.prototype;return r.has_=function(e){return this.data_.has(e)},r.has=function(e){var t=this;if(!vn.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var r=n=new Yt(this.has_(e),it,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Hn(r,(function(){return t.hasMap_.delete(e)}))}return n.get()},r.set=function(e,t){var n=this.has_(e);if(fr(this)){var r=pr(this,{type:n?yr:Cr,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},r.delete=function(e){var t=this;if(this.keysAtom_,fr(this)&&!pr(this,{type:Pr,object:this,name:e}))return!1;if(this.has_(e)){var n=hr(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:Pr,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return ur((function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),n&&vr(this,r),!0}return!1},r.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==vn.UNCHANGED){var r=hr(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:yr,object:this,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),r&&vr(this,i)}},r.addValue_=function(e,t){var n=this;this.keysAtom_,ur((function(){var r,i=new Yt(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,i),t=i.value_,null==(r=n.hasMap_.get(e))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=hr(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Cr,object:this,name:e,newValue:t}:null;r&&vr(this,i)},r.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},r.values=function(){var e=this,t=this.keys();return ai({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:e.get(i)}}})},r.entries=function(){var e=this,t=this.keys();return ai({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},r[e]=function(){return this.entries()},r.forEach=function(e,t){for(var n,r=Ge(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];e.call(t,a,o,this)}},r.merge=function(e){var t=this;return Mr(e)&&(e=new Map(e)),ur((function(){Ie(e)?function(e){var t=Object.keys(e);if(!Ne)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return ye.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];return t.set(n,r)})):Re(e)?(e.constructor!==Map&&de(19,e),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&de(20,e)})),this},r.clear=function(){var e=this;ur((function(){un((function(){for(var t,n=Ge(e.keys());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.replace=function(e){var t=this;return ur((function(){for(var n,r=function(e){if(Re(e)||Mr(e))return e;if(Array.isArray(e))return new Map(e);if(Ie(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return de(21,e)}(e),i=new Map,o=!1,a=Ge(t.data_.keys());!(n=a()).done;){var s=n.value;if(!r.has(s))if(t.delete(s))o=!0;else{var u=t.data_.get(s);i.set(s,u)}}for(var c,l=Ge(r.entries());!(c=l()).done;){var f=c.value,d=f[0],p=f[1],h=t.data_.has(d);if(t.set(d,p),t.data_.has(d)){var g=t.data_.get(d);i.set(d,g),h||(o=!0)}}if(!o)if(t.data_.size!==i.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),m=i.keys(),y=v.next(),b=m.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=v.next(),b=m.next()}t.data_=i})),this},r.toString=function(){return"[object ObservableMap]"},r.toJSON=function(){return Array.from(this)},r.observe_=function(e,t){return gr(this,e)},r.intercept_=function(e){return dr(this,e)},Ke(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),Mr=Me("ObservableMap",Dr),Rr={},jr=function(e,t){function n(e,t,n){void 0===t&&(t=rt),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[Ye]=Rr,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,Te(Set)||de(22),this.atom_=tt(this.name_),this.enhancer_=function(e,r){return t(e,r,n)},e&&this.replace(e)}var r=n.prototype;return r.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},r.clear=function(){var e=this;ur((function(){un((function(){for(var t,n=Ge(e.data_.values());!(t=n()).done;){var r=t.value;e.delete(r)}}))}))},r.forEach=function(e,t){for(var n,r=Ge(this);!(n=r()).done;){var i=n.value;e.call(t,i,i,this)}},r.add=function(e){var t=this;if(this.atom_,fr(this)&&!pr(this,{type:Cr,object:this,newValue:e}))return this;if(!this.has(e)){ur((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var n=hr(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Cr,object:this,newValue:e}:null;n&&vr(this,r)}return this},r.delete=function(e){var t=this;if(fr(this)&&!pr(this,{type:Pr,object:this,oldValue:e}))return!1;if(this.has(e)){var n=hr(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:Pr,object:this,oldValue:e}:null;return ur((function(){t.atom_.reportChanged(),t.data_.delete(e)})),n&&vr(this,r),!0}return!1},r.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},r.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return ai({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},r.keys=function(){return this.values()},r.values=function(){this.atom_.reportObserved();var e=this,t=0,n=Array.from(this.data_.values());return ai({next:function(){return t<n.length?{value:e.dehanceValue_(n[t++]),done:!1}:{done:!0}}})},r.replace=function(e){var t=this;return Nr(e)&&(e=new Set(e)),ur((function(){Array.isArray(e)||je(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&de("Cannot initialize set from "+e)})),this},r.observe_=function(e,t){return gr(this,e)},r.intercept_=function(e){return dr(this,e)},r.toJSON=function(){return Array.from(this)},r.toString=function(){return"[object ObservableSet]"},r[e]=function(){return this.values()},Ke(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:t,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),Nr=Me("ObservableSet",jr),Lr=Object.create(null),Ur="remove",Br=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=wt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Ze("ObservableObject.keys"),this.isPlainObject_=Ie(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof en)return n.set(t),!0;if(fr(this)){var r=pr(this,{type:yr,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=n.prepareNewValue_(t))!==vn.UNCHANGED){var i=hr(this),o=i?{type:yr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;n.setNewValue_(t),i&&vr(this,o)}return!0},t.get_=function(e){return vn.trackingDerivation&&!Be(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),Be(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!vn.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Yt(e in this.target_,it,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var n;if(null!=(n=this.target_[Je])&&n[e])return;de(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==ye;){var i=ve(r,e);if(i){var o=t.make_(this,e,i,r);if(0===o)return;if(1===o)break}r=Object.getPrototypeOf(r)}Hr(this,0,e)}},t.extend_=function(e,t,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,r);var i=n.extend_(this,e,t,r);return i&&Hr(this,0,e),i},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);try{wn();var r=this.delete_(e);if(!r)return r;if(fr(this)){var i=pr(this,{object:this.proxy_||this.target_,name:e,type:Cr,newValue:t.value});if(!i)return null;var o=i.newValue;t.value!==o&&(t=Ve({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else me(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{_n()}return!0},t.defineObservableProperty_=function(e,t,n,r){void 0===r&&(r=!1);try{wn();var i=this.delete_(e);if(!i)return i;if(fr(this)){var o=pr(this,{object:this.proxy_||this.target_,name:e,type:Cr,newValue:t});if(!o)return null;t=o.newValue}var a=Kr(e),s={configurable:!vn.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,s))return!1}else me(this.target_,e,s);var u=new Yt(t,n,"ObservableObject.key",!1);this.values_.set(e,u),this.notifyPropertyAddition_(e,u.value_)}finally{_n()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);try{wn();var r=this.delete_(e);if(!r)return r;if(fr(this)&&!pr(this,{object:this.proxy_||this.target_,name:e,type:Cr,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var i=Kr(e),o={configurable:!vn.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else me(this.target_,e,o);this.values_.set(e,new en(t)),this.notifyPropertyAddition_(e,void 0)}finally{_n()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!Be(this.target_,e))return!0;if(fr(this)&&!pr(this,{object:this.proxy_||this.target_,name:e,type:Ur}))return null;try{var n,r;wn();var i,o=hr(this),a=this.values_.get(e),s=void 0;if(!a&&o&&(s=null==(i=ve(this.target_,e))?void 0:i.value),t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof Yt&&(s=a.value_),En(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(e in this.target_),o){var u={type:Ur,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:s,name:e};o&&vr(this,u)}}finally{_n()}return!0},t.observe_=function(e,t){return gr(this,e)},t.intercept_=function(e){return dr(this,e)},t.notifyPropertyAddition_=function(e,t){var n,r,i=hr(this);if(i){var o=i?{type:Cr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;i&&vr(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Le(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Fr(e,t){var n;if(Be(e,Ye))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",i=new Br(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:_t(e):void 0}(t));return Pe(e,Ye,i),e}var zr=Me("ObservableObjectAdministration",Br);function Kr(e){return Lr[e]||(Lr[e]={get:function(){return this[Ye].getObservablePropValue_(e)},set:function(t){return this[Ye].setObservablePropValue_(e,t)}})}function Vr(e){return!!Ae(e)&&zr(e[Ye])}function Hr(e,t,n){var r;null==(r=e.target_[Je])||delete r[n]}var $r,qr,Wr=0,Gr=function(){};$r=Gr,qr=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf($r.prototype,qr):void 0!==$r.prototype.__proto__?$r.prototype.__proto__=qr:$r.prototype=qr;var Jr=function(e,t,n){function r(t,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=e.call(this)||this;var a=new wr(r,n,i,!0);if(a.proxy_=qe(o),De(qe(o),Ye,a),t&&t.length){var s=Gt(!0);o.spliceWithArray(0,0,t),Jt(s)}return o}He(r,e);var i=r.prototype;return i.concat=function(){this[Ye].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return Ar(e)?e.slice():e})))},i[n]=function(){var e=this,t=0;return ai({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Ke(r,[{key:"length",get:function(){return this[Ye].getArrayLength_()},set:function(e){this[Ye].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(Gr,Symbol.toStringTag,Symbol.iterator);function Xr(e){me(Jr.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ye].get_(e)},set:function(t){this[Ye].set_(e,t)}}}(e))}function Qr(e){if(e>Wr){for(var t=Wr;t<e+100;t++)Xr(t);Wr=e}}function Yr(e,t,n){return new Jr(e,t,n)}function Zr(e,t){if("object"==typeof e&&null!==e){if(Ar(e))return void 0!==t&&de(23),e[Ye].atom_;if(Nr(e))return e[Ye];if(Mr(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||de(25,t,ti(e)),n}if(Vr(e)){if(!t)return de(26);var r=e[Ye].values_.get(t);return r||de(27,t,ti(e)),r}if(et(e)||tn(e)||On(e))return e}else if(Te(e)&&On(e[Ye]))return e[Ye];de(28)}function ei(e,t){return e||de(29),void 0!==t?ei(Zr(e,t)):et(e)||tn(e)||On(e)||Mr(e)||Nr(e)?e:e[Ye]?e[Ye]:void de(24,e)}function ti(e,t){var n;if(void 0!==t)n=Zr(e,t);else{if(Un(e))return e.name;n=Vr(e)||Mr(e)||Nr(e)?ei(e):Zr(e)}return n.name_}Object.entries(Sr).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&Pe(Jr.prototype,t,n)})),Qr(1e3);var ni=ye.toString;function ri(e,t,n){return void 0===n&&(n=-1),ii(e,t,n)}function ii(e,t,n,r,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=ni.call(e);if(a!==ni.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=oi(e),t=oi(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(Te(u)&&u instanceof u&&Te(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return i[l]===t;if(r.push(e),i.push(t),s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!ii(e[l],t[l],n-1,r,i))return!1}else{var f,d=Object.keys(e);if(l=d.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!Be(t,f=d[l])||!ii(e[f],t[f],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function oi(e){return Ar(e)?e.slice():Re(e)||Mr(e)||je(e)||Nr(e)?Array.from(e.entries()):e}function ai(e){return e[Symbol.iterator]=si,e}function si(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===he()[e]&&de("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:ti},$mobx:Ye});var ui;!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(ui||(ui={}));var ci=function(e,t){return ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ci(e,t)};function li(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ci(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var fi=function(){return fi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fi.apply(this,arguments)};function di(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pi(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function hi(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pi(arguments[t]));return e}function gi(e){return to(e,1),no(e).type}function vi(e,t){return to(e,1),To(),no(e).onPatch(t)}function mi(e,t){to(e,1),xo(),no(e).applyPatches(vo(t))}function yi(e,t){return to(e,1),no(e).applySnapshot(t)}function bi(e,t){void 0===t&&(t=!0),to(e,1);var n=no(e);return t?n.snapshot:n.type.getSnapshot(n,!1)}function wi(e){return to(e,1),no(e).root.storedValue}var _i=function(){function e(e,t,n,r){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:Ji.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)}}),Object.defineProperty(e.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._hookSubscribers||(this._hookSubscribers=new So),this._hookSubscribers.register(e,t)}}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(e.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e&&(this.pathAtom||(this.pathAtom=tt("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Co(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""}}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Ji.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Ji.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=tt("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.state===Ji.CREATED){if(this.parent){if(this.parent.state!==Ji.FINALIZED)return;this.fireHook(ui.afterAttach)}this.state=Ji.FINALIZED,e&&e()}}}),Object.defineProperty(e.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Ji.DEAD}}),Object.defineProperty(e.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(ui.beforeDestroy)}}),e}(),Si=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;try{a.storedValue=t.createNewInstance(o)}catch(e){throw a.state=Ji.DEAD,e}return a.state=Ji.CREATED,a.finalizeCreation(),a}return li(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw fo("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.parent!==e,r=this.subpath!==t;(n||r)&&(this.environment=void 0,this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this.getSnapshot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==Ji.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.fireInternalHook(e)}}),t}(_i);Si.prototype.die=jn(Si.prototype.die);var Ei,ki,xi=1,Ti={onError:function(e){throw e}},Oi=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;if(Object.defineProperty(a,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++xi}),Object.defineProperty(a,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(a,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(a,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a._snapshotComputed=Bt((function(){return a.getSnapshot()})),a.unbox=a.unbox.bind(a),a._initialSnapshot=o,a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new Qi),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s){var u=a._childNodes[a.identifierAttribute];u&&(s=u.value)}if("string"!=typeof s&&"number"!=typeof s)throw fo("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=Ca(s),a.unnormalizedIdentifier=s}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return li(t,e),Object.defineProperty(t.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)}}),Object.defineProperty(t.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){0===this._observableInstanceState&&this.createObservableInstance()}}),Object.defineProperty(t.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t;this._observableInstanceState=1;for(var n=[],r=this.parent;r&&0===r._observableInstanceState;)n.unshift(r),r=r.parent;try{for(var i=di(n),o=i.next();!o.done;o=i.next())o.value.createObservableInstanceIfNeeded()}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}var a=this.type;try{this.storedValue=a.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,a.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=Ji.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=co,this.state=Ji.CREATED,this.fireHook(ui.afterCreate),this.finalizeCreation()}}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(ui.beforeDetach);var e=this.state;this.state=Ji.DETACHING;var t=this.root,n=t.environment,r=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=e}}}}),Object.defineProperty(t.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e!==this.parent,r=t!==this.subpath;(n||r)&&(n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(ui.afterAttach)):r&&this.baseSetParent(this.parent,t))}}),Object.defineProperty(t.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(Ln?Ln((function(){n.apply(t.storedValue)})):n.apply(this.storedValue))}}),Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(t.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(t.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(t.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(t.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t;if(!this.isAlive){var n=this._getAssertAliveError(e);t=n,console.warn(new Error("[mobx-state-tree] "+t))}}}),Object.defineProperty(t.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&Co(e.subpath)||"",r=e.actionContext||ji;r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var i,o="";return r&&null!=r.name&&(o=(r&&r.context&&(to(i=r.context,1),no(i).path)||t)+"."+r.name+"()"),"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+o+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(co),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):ao(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.type.getChildType(e)}}),Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw fo("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.type.removeChild(this,e)}}),Object.defineProperty(t.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e}}),Object.defineProperty(t.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")}}),Object.defineProperty(t.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.baseFinalizeCreation((function(){var t,n;try{for(var r=di(e.getChildren()),i=r.next();!i.done;i=r.next())i.value.finalizeCreation()}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.fireInternalHook(ui.afterCreationFinalization)}))}}),Object.defineProperty(t.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw fo("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(t.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._applyPatches=Fi(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){if(t.path){var n=function(e){var t=e.split("/").map(Po);if(!(""===e||"."===e||".."===e||ko(e,"/")||ko(e,"./")||ko(e,"../")))throw fo("a json path must be either rooted, empty or relative, but got '"+e+"'");return""===t[0]&&t.shift(),t}(t.path);oo(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)}else e.type.applySnapshot(e,t.value)}))})),this._applySnapshot=Fi(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),wo(this.storedValue,"$treenode",this),wo(this.storedValue,"toJSON",io)}}),Object.defineProperty(t.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==Ji.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(t.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(t.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(t.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)}}),Object.defineProperty(t.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEventsEmit("snapshot",e)}}),Object.defineProperty(t.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsRegister("patch",e)}}),Object.defineProperty(t.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var o in i)e[o]=i[o]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path}),r=pi(function(e){if(!("oldValue"in e))throw fo("Patches without `oldValue` field cannot be inversed");return[Ao(e),Io(e)]}(n),2),i=r[0],o=r[1];this._internalEventsEmit("patch",i,o)}this.parent&&this.parent.emitPatch(e,t)}}),Object.defineProperty(t.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._internalEventsHas("dispose",e)}}),Object.defineProperty(t.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasDisposer(e))throw fo("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)}}),Object.defineProperty(t.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._internalEventsHas("dispose",e))throw fo("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)}}),Object.defineProperty(t.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}}}),Object.defineProperty(t.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)}}),Object.defineProperty(t.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(!this._hasSnapshotReaction){var t=Kn((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),Ti);this.addDisposer(t),this._hasSnapshotReaction=!0}}}),Object.defineProperty(t.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)}}),Object.defineProperty(t.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new So),this._internalEvents.register(e,t,n)}}),Object.defineProperty(t.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)}}),Object.defineProperty(t.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,hi([e],n))}}),Object.defineProperty(t.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._internalEvents&&this._internalEvents.clear(e)}}),Object.defineProperty(t.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),t}(_i);Oi.prototype.createObservableInstance=jn(Oi.prototype.createObservableInstance),Oi.prototype.detach=jn(Oi.prototype.detach),Oi.prototype.die=jn(Oi.prototype.die),function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(ki||(ki={}));var Ai="cannotDetermine",Ii=Symbol("$type"),Ci=function(){function e(e){Object.defineProperty(this,Ei,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e}return Object.defineProperty(e.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Gi(this,e),this.instantiate(null,"",t,e).value}}),Object.defineProperty(e.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){throw fo("unimplemented method")}}),Object.defineProperty(e.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e===this}}),Object.defineProperty(e.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(ro(e)){var n=gi(e);return this.isAssignableFrom(n)?$i():qi(t,e)}return this.isValidSnapshot(e,t)}}),Object.defineProperty(e.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 0===this.validate(e,[{path:"",type:this}]).length}}),Object.defineProperty(e.prototype,"Type",{get:function(){throw fo("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw fo("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw fo("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw fo("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),e}();Ei=Ii,Ci.prototype.create=jn(Ci.prototype.create);var Pi=function(e){function t(t){var n=e.call(this,t)||this;return Object.defineProperty(n,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n}return li(t,e),Object.defineProperty(t.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.createObservableInstanceIfNeeded(),e.storedValue}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!e.identifierAttribute||e.identifier===Ca(t[e.identifierAttribute])}}),Object.defineProperty(t.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return!(e.isDetaching||e.snapshot!==t&&(!eo(t)||no(t)!==e)&&(e.type!==this||!yo(t)||eo(t)||!this.isMatchingSnapshotId(e,t)||(e.applySnapshot(t),0)))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.tryToReconcileNode(e,t))return e.setParent(n,r),e;if(e.die(),eo(t)&&this.isAssignableFrom(gi(t))){var i=no(t);return i.setParent(n,r),i}return this.instantiate(n,r,void 0,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Ci);Pi.prototype.create=jn(Pi.prototype.create);var Di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return li(t,e),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var i=this.instantiate(n,r,void 0,t);return e.die(),i}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),t}(Ci);function Mi(e){return"object"==typeof e&&e&&!0===e.isType}function Ri(e,t){xo()}new Map,function(){function e(e,t){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),e&&e.onStart(t)}Object.defineProperty(e.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))}}),Object.defineProperty(e.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(e.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var ji,Ni=1;function Li(){return Ni++}function Ui(e,t){var n=no(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var i=ji;ji=e;try{return function(e,t,n){var r=new zi(e,n);if(r.isEmpty)return jn(n).apply(null,t.args);var i=null;return function e(t){var o=r.getNextMiddleware(),a=o&&o.handler;return a?!o.includeHooks&&ui[t.name]?e(t):(a(t,(function(t,n){i=e(t),n&&(i=n(i))}),(function(e){i=e})),i):jn(n).apply(null,t.args)}(t)}(n,e,t)}finally{ji=i,n._isRunningAction=r}}function Bi(e){if(e)return"action"===e.type?e:e.parentActionEvent}function Fi(e,t,n){var r=function(){var r=Li(),i=ji,o=Bi(i);return Ui({type:"action",name:t,id:r,args:Eo(arguments),context:e,tree:wi(e),rootId:i?i.rootId:r,parentId:i?i.id:0,allParentIds:i?hi(i.allParentIds,[i.id]):[],parentEvent:i,parentActionEvent:o},n)};return r._isMSTAction=!0,r}var zi=function(){function e(e,t){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var n=e;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.middlewares[this.arrayIndex];if(e)return e[this.inArrayIndex++]||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}),e}();function Ki(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":eo(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function Vi(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),i=r.length>0?'at path "/'+r+'" ':"",o=eo(t)?"value of type "+no(t).type.name+":":bo(t)?"value":"snapshot",a=n&&eo(t)&&n.is(no(t).snapshot);return""+i+o+" "+Ki(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?function(e){return Mi(e)&&(e.flags&(ki.String|ki.Number|ki.Integer|ki.Boolean|ki.Date))>0}(n)||bo(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Hi(e,t,n){return e.concat([{path:t,type:n}])}function $i(){return uo}function qi(e,t,n){return[{context:e,value:t,message:n}]}function Wi(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function Gi(e,t){"undefined"!=typeof process&&"true"==="MISSING_ENV_VAR".ENABLE_TYPE_CHECK&&function(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw fo(function(e,t,n){var r;if(0!==n.length)return"Error while converting "+(((r=Ki(t)).length<280?r:r.substring(0,272)+"......"+r.substring(r.length-8))+" to `")+e.name+"`:\n\n    "+n.map(Vi).join("\n    ")}(e,t,n))}(e,t)}var Ji,Xi=0,Qi=function(){function e(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:Xi++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:jt.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:jt.map()})}return Object.defineProperty(e.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)}}),Object.defineProperty(e.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t}}),Object.defineProperty(e.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,jt.array([],lo));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw fo("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}}}),Object.defineProperty(e.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;rr(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))}}),Object.defineProperty(e.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}}}),Object.defineProperty(e.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var n,r=this,i=new e,o=t.path;return(n=this.cache,Vr(n)?nr(n).map((function(e){return[e,n[e]]})):Mr(n)?nr(n).map((function(e){return[e,n.get(e)]})):Nr(n)?Array.from(n.entries()):Ar(n)?n.map((function(e,t){return[t,e]})):void de(7)).forEach((function(e){for(var t=pi(e,2),n=t[0],a=t[1],s=!1,u=a.length-1;u>=0;u--)0===a[u].path.indexOf(o)&&(i.addNodeToCache(a[u],!1),a.splice(u,1),s=!0);s&&r.updateLastCacheModificationPerId(n)})),i}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);return!!n&&n.some((function(t){return e.isAssignableFrom(t.type)}))}}),Object.defineProperty(e.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter((function(t){return e.isAssignableFrom(t.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw fo("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map((function(e){return e.path})).join(", "))}}}),e}();function Yi(e,t,n,r,i){var o=ro(i);if(o){if(o.parent)throw fo("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+o.path+"'");return t&&o.setParent(t,n),o}return new Oi(e,t,n,r,i)}function Zi(e,t,n,r,i){return new Si(e,t,n,r,i)}function eo(e){return!(!e||!e.$treenode)}function to(e,t){xo()}function no(e){if(!eo(e))throw fo("Value "+e+" is no MST Node");return e.$treenode}function ro(e){return e&&e.$treenode||null}function io(){return no(this).snapshot}function oo(e,t,n){void 0===n&&(n=!0);for(var r=e,i=0;i<t.length;i++){var o=t[i];if(".."===o){if(r=r.parent)continue}else{if("."===o)continue;if(r){if(r instanceof Si)try{var a=r.value;eo(a)&&(r=no(a))}catch(e){if(!n)return;throw e}if(r instanceof Oi&&r.getChildType(o)&&(r=r.getChildNode(o)))continue}}if(n)throw fo("Could not resolve '"+o+"' in path '"+(Do(t.slice(0,i))||"/")+"' while resolving '"+Do(t)+"'");return}return r}function ao(e){if(!e)return uo;var t=Object.keys(e);if(!t.length)return uo;var n=new Array(t.length);return t.forEach((function(t,r){n[r]=e[t]})),n}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(Ji||(Ji={}));var so=Object.toString(),uo=Object.freeze([]),co=Object.freeze({}),lo=vn.useProxies?{deep:!1}:{deep:!1,proxy:!1};function fo(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function po(e){return e}Object.freeze(lo);var ho=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function go(e){return Array.isArray(e)||Ar(e)}function vo(e){return e?go(e)?e:[e]:uo}function mo(e){var t;if(null===e||"object"!=typeof e)return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===so}function yo(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function bo(e,t){return void 0===t&&(t=!0),null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date}function wo(e,t,n){!function(e,t,n){Vr(e)?or(e,t,n):Object.defineProperty(e,t,n)}(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}var _o=function(){function e(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.handlers.indexOf(e)>=0}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.handlers.slice();n.forEach((function(t){return t.apply(void 0,hi(e))}))}}),e}(),So=function(){function e(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers}}),Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new _o),r.register(t,n)}}),Object.defineProperty(e.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)}}),Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.eventHandlers&&delete this.eventHandlers[e]}}),Object.defineProperty(e.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(e.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.eventHandlers&&this.eventHandlers[e];i&&(t=i).emit.apply(t,hi(n))}}),e}();function Eo(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function ko(e,t){return 0===e.indexOf(t)}function xo(e,t,n,r){}function To(e,t){}function Oo(e,t,n){void 0===n&&(n=!0)}function Ao(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function Io(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Co(e){return 1==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Po(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Do(e){if(0===e.length)return"";var t=function(e){return e.map(Co).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}var Mo,Ro=Symbol("$preProcessorFailed"),jo=function(e){function t(t,n,r){var i=e.call(this,r||t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return li(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|ki.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(t.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(e){try{return this.preProcessSnapshot(e)}catch(e){return Ro}}}),Object.defineProperty(t.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e}}),Object.defineProperty(t.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;!function(e,t){for(var n,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{for(var a=di(i),s=a.next();!s.done;s=a.next()){var u=s.value;e[u]=t[u].bind(t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(e.type,this,"create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))},(this._subtype.flags&ki.Union)>0||(e.getReconciliationType=function(){return t})}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=eo(r)?r:this.preProcessSnapshot(r),o=this._subtype.instantiate(e,t,n,i);return this._fixNode(o),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this._subtype.reconcile(e,eo(t)?t:this.preProcessSnapshot(t),n,r);return i!==e&&this._fixNode(i),i}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.preProcessSnapshotSafe(e);return n===Ro?qi(t,e,"Failed to preprocess value"):this._subtype.validate(n,t)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(t.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Mi(e)?this._subtype:eo(e)?bi(e,!1):this.preProcessSnapshotSafe(e);return t!==Ro&&0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(this._subtype instanceof Pi))return!1;var n=this.preProcessSnapshot(t);return this._subtype.isMatchingSnapshotId(e,n)}}),t}(Ci),No="Map.put can only be used to store complex values that have an identifier type attribute";function Lo(e,t){var n,r,i=e.getSubTypes();if(i===Ai)return!1;if(i){var o=vo(i);try{for(var a=di(o),s=a.next();!s.done;s=a.next())if(!Lo(s.value,t))return!1}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}return e instanceof Go&&t.push(e),!0}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(Mo||(Mo={}));var Uo=function(e){function t(t){return e.call(this,t,jt.ref.enhancer)||this}return li(t,e),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.get.call(this,""+t)}}),Object.defineProperty(t.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.has.call(this,""+t)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return e.prototype.delete.call(this,""+t)}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){return e.prototype.set.call(this,""+t,n)}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e)throw fo("Map.put cannot be used to set empty values");if(eo(e)){var t=no(e);if(null===t.identifier)throw fo(No);return this.set(t.identifier,e),e}if(yo(e)){var n=no(this),r=n.type;if(r.identifierMode!==Mo.YES)throw fo(No);var i=e[r.mapIdentifierAttribute];if(!Pa(i)){var o=this.put(r.getChildType().create(e,n.environment));return this.put(bi(o))}var a=Ca(i);return this.set(a,e),this.get(a)}throw fo("Map.put can only be used to store complex values")}}),t}(Dr),Bo=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:Mo.UNKNOWN}),Object.defineProperty(i,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Map}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i._determineIdentifierMode(),i.hookInitializers=r,i}return li(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._determineIdentifierMode(),Yi(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===Mo.UNKNOWN){var e=[];if(Lo(this._subType,e)){var t=e.reduce((function(e,t){if(!t.identifierAttribute)return e;if(e&&e!==t.identifierAttribute)throw fo("The objects in a map should all have the same identifier attribute, expected '"+e+"', but child of type '"+t.name+"' declared attribute '"+t.identifierAttribute+"' as identifier");return t.identifierAttribute}),void 0);t?(this.identifierMode=Mo.YES,this.mapIdentifierAttribute=t):this.identifierMode=Mo.NO}}}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach((function(i){r[i]=n.instantiate(e,i,void 0,t[i])})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new Uo(e)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Zn(t,e.unbox),e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=Fi(t,e,r);wo(t,e,i)}))})),er(t,this.willChange),ar(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"Map<string, "+this._subType.describe()+">"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return rr(e.storedValue)}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=e.storedValue.get(""+t);if(!n)throw fo("Not a child "+t);return n}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=no(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,i=r._subType;switch(e.type){case"update":var o=e.newValue;if(o===e.object.get(n))return null;Gi(i,o),e.newValue=i.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":Gi(i,e.newValue),e.newValue=i.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e}}),Object.defineProperty(t.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.identifierMode===Mo.YES&&t instanceof Oi){var n=t.identifier;if(n!==e)throw fo("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=no(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Co(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Co(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Co(e.name),oldValue:n},t)}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Gi(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach((function(e){r[e]=!1})),t)for(var i in t)n.set(i,t[i]),r[""+i]=!0;Object.keys(r).forEach((function(e){!1===r[e]&&n.delete(e)}))}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return mo(e)?Wi(Object.keys(e).map((function(r){return n._subType.validate(e[r],Hi(t,r,n._subType))}))):qi(t,e,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return co}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.delete(t)}}),t}(Pi);function Fo(e){return Mi(e)&&(e.flags&ki.Map)>0}Bo.prototype.applySnapshot=jn(Bo.prototype.applySnapshot);var zo=function(e){function t(t,n,r){void 0===r&&(r=[]);var i=e.call(this,t)||this;return Object.defineProperty(i,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Array}),Object.defineProperty(i,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),i.hookInitializers=r,i}return li(t,e),Object.defineProperty(t.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Yi(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach((function(t,i){var o=""+i;r[o]=n.instantiate(e,o,void 0,t)})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return jt.array(ao(e),lo)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){ei(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],i=Fi(t,e,r);wo(t,e,i)}))})),er(t,this.willChange),ar(t,this.didChange)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType.describe()+"[]"}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.slice()}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw fo("Not a child: "+t)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=no(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var i=Ko(t,n,[r[e.index]],[e.newValue],[e.index]);if(!i)return null;e.newValue=i[0];break;case"splice":var o=e.index,a=e.removedCount,s=e.added,u=Ko(t,n,r.slice(o,o+a),s,s.map((function(e,t){return o+t})));if(!u)return null;e.added=u;for(var c=o+a;c<r.length;c++)r[c].setParent(t,""+(c+s.length-a))}return e}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.getChildren().map((function(e){return e.snapshot}))}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n].getSnapshot())})),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=no(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=e.storedValue,i="-"===t?r.length:Number(t);switch(n.op){case"replace":r[i]=n.value;break;case"add":r.splice(i,0,n.value);break;case"remove":r.splice(i,1)}}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){Gi(this,t),e.storedValue.replace(t)}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;return go(e)?Wi(e.map((function(e,r){return n._subType.validate(e,Hi(t,""+r,n._subType))}))):qi(t,e,"Value is not an array")}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return uo}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue.splice(Number(t),1)}}),t}(Pi);function Ko(e,t,n,r,i){for(var o,a=!0,s=0;;s++){var u=s<=r.length-1,c=n[s],l=u?r[s]:void 0,f=""+i[s];if(((o=l)instanceof Si||o instanceof Oi)&&(l=l.storedValue),!c&&!u)break;if(u)if(c)if(Ho(c,l))n[s]=Vo(t,e,f,l,c);else{for(var d=void 0,p=s;p<n.length;p++)if(Ho(n[p],l)){d=n.splice(p,1)[0];break}a=!1,h=Vo(t,e,f,l,d),n.splice(s,0,h)}else{if(eo(l)&&no(l).parent===e)throw fo("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+f+"', but it lives already at '"+no(l).path+"'");a=!1;var h=Vo(t,e,f,l);n.splice(s,0,h)}else a=!1,n.splice(s,1),c instanceof Oi&&c.createObservableInstanceIfNeeded(),c.die(),s--}return a?null:n}function Vo(e,t,n,r,i){Gi(e,r);var o=function(){if(eo(r)){var o=no(r);if(o.assertAlive(co),null!==o.parent&&o.parent===t)return o.setParent(t,n),o}return i?e.reconcile(i,r,t,n):e.instantiate(t,n,void 0,r)}();return i&&i!==o&&(i instanceof Oi&&i.createObservableInstanceIfNeeded(),i.die()),o}function Ho(e,t){if(!e.isAlive)return!1;if(eo(t)){var n=no(t);return n.isAlive&&n===e}if(e.snapshot===t)return!0;if(!(e instanceof Oi))return!1;var r=e.getReconciliationType();return null!==e.identifier&&e.identifierAttribute&&mo(t)&&r.is(t)&&r.isMatchingSnapshotId(e,t)}function $o(e){return Mi(e)&&(e.flags&ki.Array)>0}zo.prototype.applySnapshot=jn(zo.prototype.applySnapshot);function qo(){return no(this).toString()}var Wo={name:"AnonymousModel",properties:{},initializers:uo};var Go=function(e){function t(t){var n,r=e.call(this,t.name||Wo.name)||this;return Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Object}),Object.defineProperty(r,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(r,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({name:e})}}),Object.defineProperty(r,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(e){return r.cloneAndEnhance({properties:e})}}),Object.defineProperty(r,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.preProcessor;return t?r.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):r.cloneAndEnhance({preProcessor:e})}}),Object.defineProperty(r,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(e){var t=r.postProcessor;return t?r.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):r.cloneAndEnhance({postProcessor:e})}}),Object.assign(r,Wo,t),r.properties=(n=r.properties,Object.keys(n).reduce((function(e,t){var n,r,i;if(t in ui)throw fo("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var o=Object.getOwnPropertyDescriptor(e,t);if("get"in o)throw fo("Getters are not supported as properties. Please use views instead");var a=o.value;if(null==a)throw fo("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(bo(a))return Object.assign({},e,((n={})[t]=fa(function(e){switch(typeof e){case"string":return Qo;case"number":return Yo;case"boolean":return ea;case"object":if(e instanceof Date)return ia}throw fo("Cannot determine primitive type from value "+e)}(a),a),n));if(a instanceof Bo)return Object.assign({},e,((r={})[t]=fa(a,{}),r));if(a instanceof zo)return Object.assign({},e,((i={})[t]=fa(a,[]),i));if(Mi(a))return e;throw fo("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+a+"' ("+typeof a+")")}),n)),r.properties,r.propertyNames=Object.keys(r.properties),r.identifierAttribute=r._getIdentifierAttribute(),r}return li(t,e),Object.defineProperty(t.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=void 0;return this.forAllProps((function(t,n){if(n.flags&ki.Identifier){if(e)throw fo("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e}}),Object.defineProperty(t.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})}}),Object.defineProperty(t.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!mo(t))throw fo("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(n){if("preProcessSnapshot"===n)throw fo("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===n)throw fo("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var r=t[n],i=e[n];if(n in ui&&i){var o=r;r=function(){i.apply(null,arguments),o.apply(null,arguments)}}var a=r.$mst_middleware,s=r.bind(t);s.$mst_middleware=a;var u=Fi(e,n,s);t[n]=u,wo(e,n,u)}))}}),Object.defineProperty(t.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if("function"!=typeof e)throw fo("You passed an "+typeof e+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!mo(t))throw fo("volatile state initializer should return a plain object containing state");ir(e,t)}}),Object.defineProperty(t.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),i=r.actions,o=r.views,a=r.state,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(r,["actions","views","state"]);for(var u in s)throw fo("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+u+"'");return a&&t.instantiateVolatileState(n,a),o&&t.instantiateViews(n,o),i&&t.instantiateActions(n,i),n}]})}}),Object.defineProperty(t.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})}}),Object.defineProperty(t.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!mo(t))throw fo("views initializer should return a plain object containing views");Object.getOwnPropertyNames(t).forEach((function(n){var r,i=Object.getOwnPropertyDescriptor(t,n);if("get"in i)or(e,n,i),function(e,t,n){var r=Fr(e,n)[Ye];wn();try{null!=t||(t=function(e){return Be(e,Je)||Pe(e,Je,Ve({},e[Je])),e[Je]}(e)),Le(t).forEach((function(e){return r.make_(e,t[e])}))}finally{_n()}}(e,((r={})[n]=Bt,r));else{if("function"!=typeof i.value)throw fo("A view member should either be a function or getter based property");wo(e,n,i.value)}}))}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Yi(this,e,t,n,eo(r)?r:this.applySnapshotPreProcessor(r))}}),Object.defineProperty(t.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps((function(n,i){r[n]=i.instantiate(e,n,void 0,t[n])})),r}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return jt.object(e,co,lo)}}),Object.defineProperty(t.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){wo(t,"toString",qo),this.forAllProps((function(n){Zn(t,n,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),er(t,this.willChange),ar(t,this.didChange)}}),Object.defineProperty(t.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,n=no(t.object),r=t.name;n.assertWritable({subpath:r});var i=n.type.properties[r];return i&&(Gi(i,t.newValue),t.newValue=i.reconcile(n.getChildNode(r),t.newValue,n,r)),t}}),Object.defineProperty(t.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e,n=no(t.object);if(n.type.properties[t.name]){var r=t.oldValue?t.oldValue.snapshot:void 0;n.emitPatch({op:"replace",path:Co(t.name),value:t.newValue.snapshot,oldValue:r},n)}}}),Object.defineProperty(t.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,n=[];return this.forAllProps((function(r){n.push(t.getChildNode(e,r))})),n}}),Object.defineProperty(t.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(!(t in this.properties))throw fo("Not a value property: "+t);var n=ei(e.storedValue,t).raw();if(!n)throw fo("Node not available for property "+t);return n}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps((function(t,i){Zr(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(r):r}}),Object.defineProperty(t.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),this.applySnapshotPostProcessor(t)}}),Object.defineProperty(t.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){if("replace"!==n.op&&"add"!==n.op)throw fo("object does not support operation "+n.op);e.storedValue[t]=n.value}}),Object.defineProperty(t.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.applySnapshotPreProcessor(t);Gi(this,n),this.forAllProps((function(t){e.storedValue[t]=n[t]}))}}),Object.defineProperty(t.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.preProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.postProcessor;return t?t.call(null,e):e}}),Object.defineProperty(t.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Oo(),this.properties[e]}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return mo(r)?Wi(this.propertyNames.map((function(e){return n.properties[e].validate(r[e],Hi(t,e,n.properties[e]))}))):qi(t,r,"Value is not a plain object")}}),Object.defineProperty(t.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.propertyNames.forEach((function(n){return e(n,t.properties[n])}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"}}),Object.defineProperty(t.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return co}}),Object.defineProperty(t.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.storedValue[t]=void 0}}),t}(Pi);function Jo(e){return Mi(e)&&(e.flags&ki.Object)>0}Go.prototype.applySnapshot=jn(Go.prototype.applySnapshot);var Xo=function(e){function t(t,n,r,i){void 0===i&&(i=po);var o=e.call(this,t)||this;return Object.defineProperty(o,"flags",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"checker",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:i}),o.flags=n,o}return li(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Zi(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.initializer(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return bo(e)&&this.checker(e)?$i():qi(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),t}(Di),Qo=new Xo("string",ki.String,(function(e){return"string"==typeof e})),Yo=new Xo("number",ki.Number,(function(e){return"number"==typeof e})),Zo=new Xo("integer",ki.Integer,(function(e){return ho(e)})),ea=new Xo("boolean",ki.Boolean,(function(e){return"boolean"==typeof e})),ta=new Xo("null",ki.Null,(function(e){return null===e})),na=new Xo("undefined",ki.Undefined,(function(e){return void 0===e})),ra=new Xo("Date",ki.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));ra.getSnapshot=function(e){return e.storedValue.getTime()};var ia=ra,oa=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return Object.defineProperty(n,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Literal}),n.value=t,n}return li(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Zi(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return bo(e)&&e===this.value?$i():qi(t,e,"Value is not a literal "+JSON.stringify(this.value))}}),t}(Di);function aa(e){return new oa(e)}var sa=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return Object.defineProperty(o,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(o,"_message",{enumerable:!0,configurable:!0,writable:!0,value:i}),o}return li(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|ki.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=eo(e)?no(e).snapshot:e;return this._predicate(r)?$i():qi(t,e,this._message(e))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Ci),ua=function(e){function t(t,n,r){var i=e.call(this,t)||this;return Object.defineProperty(i,"_types",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),r=fi({eager:!0,dispatcher:void 0},r),i._dispatcher=r.dispatcher,r.eager||(i._eager=!1),i}return li(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=ki.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(r,void 0);if(!i)throw fo("No matching type for union "+this.describe());return i.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=this.determineType(t,e.getReconciliationType());if(!i)throw fo("No matching type for union "+this.describe());return i.reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,i=0;i<this._types.length;i++){var o=this._types[i].validate(e,t);if(0===o.length){if(this._eager)return $i();r++}else n.push(o)}return 1===r?$i():qi(t,e,"No type is applicable for the union").concat(Wi(n))}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),t}(Ci);function ca(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Mi(e)?void 0:e,i=Mi(e)?hi([e],t):t,o="("+i.map((function(e){return e.name})).join(" | ")+")";return new ua(o,i,r)}var la=function(e){function t(t,n,r){var i=e.call(this,t.name)||this;return Object.defineProperty(i,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(i,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(i,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:r}),i}return li(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|ki.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var i=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,i)}return this._subtype.instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)}}),Object.defineProperty(t.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&Gi(this,e),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.optionalValues.indexOf(e)>=0?$i():this._subtype.validate(e,t)}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._subtype.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),t}(Ci);function fa(e,t,n){return function(e,t){if("function"!=typeof t&&eo(t))throw fo("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");Ri()}(0,t),new la(e,t,n||da)}var da=[void 0],pa=fa(na,void 0),ha=fa(ta,null);function ga(e){return Ri(),ca(e,pa)}var va=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r}return li(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|ki.Late},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw fo("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):$i()}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getSubType(!1)||Ai}}),t}(Ci),ma=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return Object.defineProperty(n,"subType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Frozen}),n}return li(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Zi(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):$i():qi(t,e,"Value is not serializable and cannot be frozen")}}),t}(Di),ya=new ma,ba=function(){function e(e,t){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Pa(e))this.identifier=e;else{if(!eo(e))throw fo("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=no(e);if(!n.identifierAttribute)throw fo("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)throw fo("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return Object.defineProperty(e.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Ca(this.identifier),n=e.root,r=n.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var i=this.targetType,o=n.identifierCache.resolve(i,t);if(!o)throw new wa("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:o,lastCacheModification:r}}}}),Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),e}(),wa=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return li(t,e),t}(Error),_a=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return Object.defineProperty(r,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(r,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Reference}),r}return li(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.targetType.isAssignableFrom(e)}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return Pa(e)?$i():qi(t,e,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(t.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=t.parent;if(i&&i.isAlive){var o=i.storedValue;o&&this.onInvalidated({cause:e,parent:o,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){mi(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){Jo(i.type)?this.replaceRef(void 0):mi(t.root.storedValue,{op:"remove",path:t.path})}})}}}),Object.defineProperty(t.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var n=this,r=this.getValue(e);if(r){var i=no(r),o=function(r,o){var a=function(e){switch(e){case ui.beforeDestroy:return"destroy";case ui.beforeDetach:return"detach";default:return}}(o);a&&n.fireInvalidated(a,e,t,i)},a=i.registerHook(ui.beforeDetach,o),s=i.registerHook(ui.beforeDestroy,o);return function(){a(),s()}}}}),Object.defineProperty(t.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){var r=this;if(this.onInvalidated){var i;e.registerHook(ui.beforeDestroy,(function(){i&&i()}));var o=function(o){i&&i();var a=e.parent,s=a&&a.storedValue;a&&a.isAlive&&s&&((n?n.get(t,s):e.root.identifierCache.has(r.targetType,Ca(t)))?i=r.addTargetNodeWatcher(e,t):o||r.fireInvalidated("invalidSnapshotReference",e,t,null))};e.state===Ji.FINALIZED?o(!0):(e.isRoot||e.root.registerHook(ui.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(ui.afterAttach,(function(){o(!1)})))}}}),t}(Di),Sa=function(e){function t(t,n){return e.call(this,t,n)||this}return li(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return e.storedValue.resolvedValue}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue.identifier}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i,o=eo(r)?(to(i=r),no(i).identifier):r,a=new ba(r,this.targetType),s=Zi(this,e,t,n,a);return a.node=s,this.watchTargetNodeForInvalidations(s,o,void 0),s}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!e.isDetaching&&e.type===this){var i=eo(t),o=e.storedValue;if(!i&&o.identifier===t||i&&o.resolvedValue===t)return e.setParent(n,r),e}var a=this.instantiate(n,r,void 0,t);return e.die(),a}}),t}(_a),Ea=function(e){function t(t,n,r){var i=e.call(this,t,r)||this;return Object.defineProperty(i,"options",{enumerable:!0,configurable:!0,writable:!0,value:n}),i}return li(t,e),Object.defineProperty(t.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=eo(r)?this.options.set(r,e?e.storedValue:null):r,o=Zi(this,e,t,n,i);return this.watchTargetNodeForInvalidations(o,i,this.options),o}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=eo(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===i)return e.setParent(n,r),e;var o=this.instantiate(n,r,void 0,i);return e.die(),o}}),t}(_a);function ka(e,t){Ri();var n=t||void 0,r=t?t.onInvalidated:void 0;return n&&(n.get||n.set)?new Ea(e,{get:n.get,set:n.set},r):new Sa(e,r)}var xa=function(e){function t(t,n){var r=e.call(this,t)||this;return Object.defineProperty(r,"validType",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(r,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Identifier}),r}return li(t,e),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(!(e&&e.type instanceof Go))throw fo("Identifier types can only be instantiated as direct child of a model type");return Zi(this,e,t,n,r)}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){if(e.storedValue!==t)throw fo("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return typeof e!==this.validType?qi(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):$i()}}),t}(Di),Ta=function(e){function t(){var t=e.call(this,"identifier","string")||this;return Object.defineProperty(t,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Identifier}),t}return li(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),t}(xa),Oa=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return li(t,e),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.storedValue}}),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),t}(xa),Aa=new Ta,Ia=new Oa;function Ca(e){return""+e}function Pa(e){return"string"==typeof e||"number"==typeof e}var Da=function(e){function t(t){var n=e.call(this,t.name)||this;return Object.defineProperty(n,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(n,"flags",{enumerable:!0,configurable:!0,writable:!0,value:ki.Custom}),n}return li(t,e),Object.defineProperty(t.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(t.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.options.isTargetType(e))return $i();var n=this.options.getValidationMessage(e);return n?qi(t,e,"Invalid value for type '"+this.name+"': "+n):$i()}}),Object.defineProperty(t.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.options.toSnapshot(e.storedValue)}}),Object.defineProperty(t.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){return Zi(this,e,t,n,this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment))}}),Object.defineProperty(t.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n,r){var i=!this.options.isTargetType(t);if(!e.isDetaching&&e.type===this&&(i?t===e.snapshot:t===e.storedValue))return e.setParent(n,r),e;var o=i?this.options.fromSnapshot(t,n.root.environment):t,a=this.instantiate(n,r,void 0,o);return e.die(),a}}),t}(Di),Ma={enumeration:function(e,t){var n="string"==typeof e?t:e,r=ca.apply(void 0,hi(n.map((function(e){return aa(""+e)}))));return"string"==typeof e&&(r.name=e),r},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new Go({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})})).named(r)},custom:function(e){return new Da(e)},reference:ka,safeReference:function(e,t){var n=ka(e,fi(fi({},t),{onInvalidated:function(e){t&&t.onInvalidated&&t.onInvalidated(e),e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:ga(n)},union:ca,optional:fa,literal:aa,maybe:ga,maybeNull:function(e){return Ri(),ca(e,ha)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():Mi(e[0])?e[0].name:null,r=e[0],i=e[1],o=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return Ri(),Oo(),new sa(n,r,i,o)},string:Qo,boolean:ea,number:Yo,integer:Zo,Date:ia,map:function(e){return new Bo("map<string, "+e.name+">",e)},array:function(e){return Ri(),new zo(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?ya:Mi(e)?new ma(e):fa(ya,e)},identifier:Aa,identifierNumber:Ia,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")";return new va(n,"string"==typeof e?t:e)},undefined:na,null:ta,snapshotProcessor:function(e,t,n){return Ri(),new jo(e,t,n)}};async function Ra(e,t){const n=await t.getItem(e);return"string"==typeof n?JSON.parse(n):n}function ja(e){const t={};return e?.forEach((e=>{t[e]=!0})),t}function Na(...e){window.debugGlobalStoreState&&D.k.log(...e)}function La(e){let t=!1;const r=n(72565);return{getItem:async n=>{if(!t)return(await r.storage[e].get(n))[n]},removeItem:n=>t?Promise.resolve(void 0):r.storage[e].remove(n),setItem:(n,i)=>t?Promise.resolve(void 0):r.storage[e].set({[n]:i}),disconnect(){t=!0}}}const Ua=Object.values({"#A46CFF":"#A46CFF","#CC1F4A":"#CC1F4A","#FFBB00":"#FFBB00","#00B954":"#00B954","#0187E0":"#0187E0","#000000":"#000000"}),Ba=Ma.model({lastToolColor:Ma.optional(Ma.enumeration(Ua),"#A46CFF")}).actions((e=>({setLastToolColor(t){e.lastToolColor=t}}))),Fa=Ma.model({teamId:Ma.string,integrationName:Ma.maybe(Ma.string)});function za(e){let t;return t=$o(e)?Ma.optional(e,[]):Fo(e)?Ma.optional(e,{}):Ma.union(e,e),t.__nopersist=!0,t}function Ka(e,t){const n=JSON.parse(JSON.stringify(bi(t)));Va(e,n),yi(t,n)}function Va(e,t){if(e.properties)for(const n in e.properties){const r=n,i=e.properties[r];Ha(i)?Fo(i)?t[r]={}:$o(i)?t[r]=[]:delete t[r]:Jo(i)&&Va(i,t[r])}else $a(e).forEach((e=>{Va(e,t)}))}function Ha(e){return!(!e.__nopersist&&!e.name.endsWith("__nopersist"))||$a(e).some((e=>Ha(e)))}function $a(e){if(!("getSubTypes"in e))return[];const t=e.getSubTypes();return Array.isArray(t)?t:t?[t]:[]}var qa=(e=>(e.Tab="Tab",e.Desktop="Desktop",e))(qa||{});function Wa(e){return{type:"tab",tabId:e}}const Ga=Ma.model({permissionState:Ma.optional(Ma.enumeration(["denied","granted","prompt"]),"prompt"),isOn:Ma.optional(Ma.boolean,!1),savedDeviceLabel:Ma.optional(Ma.string,"default"),savedDeviceId:Ma.optional(Ma.string,"default")}).views((e=>({get isDenied(){return"denied"===e.permissionState},get on(){return"granted"===e.permissionState&&e.isOn},get deviceLabel(){return"granted"===e.permissionState?e.savedDeviceLabel:"default"},get deviceId(){return"granted"===e.permissionState?e.savedDeviceId:"default"}}))).actions((e=>({toggle(t){e.isDenied||(e.isOn=t||!e.isOn)},setDevice(t){e.isDenied||(e.savedDeviceLabel=t.label,e.savedDeviceId=t.deviceId)},setDeviceLabel(t){e.savedDeviceLabel=t},setPermissionState(t){e.permissionState=t,"denied"!==t&&"prompt"!==t||(e.isOn=!1,e.savedDeviceLabel="default",e.savedDeviceId="default")}}))).views((e=>({get deviceLabelToUse(){if(e.on&&!e.isDenied)return e.deviceLabel}}))),Ja=Ma.model("RecordingPreferenceModel",{audio:Ma.optional(Ga,{}),viewport:Ma.optional(Ma.union(Ma.literal(qa.Desktop),Ma.literal(qa.Tab)),qa.Tab)}).actions((e=>({setViewport(t){e.viewport=t}}))),Xa=function(e){const t={};return["paypal.com","coinmarketcap.com","tradingview.com","chase.com","investing.com","binance.com","wellsfargo.com","bankofamerica.com","coingecko.com","capitalone.com","intuit.com","fidelity.com","adp.com","poocoin.app","coinbase.com","etoro.com","opensea.io","moneycontrol.com","marketwatch.com","americanexpress.com","creditkarma.com","investopedia.com","credit-agricole.fr","hdfcbank.com","sberbank.ru","finance.yahoo.co.jp","poste.it","zerodha.com","rakuten-sec.co.jp","citi.com","bancoestado.cl","bscscan.com","doviz.com","rakuten-card.co.jp","alipay.com","fool.com","discover.com","sbisec.co.jp","toyokeizai.net","onlinesbi.com","ameritrade.com","trustpilot.com","adyen.com","tdameritrade.com","td.com","foxbusiness.com","syf.com","experian.com","schwab.com","altin.in"].forEach((e=>{t[e]=!0})),t}();const Qa=Ma.model({blockedHosts:Ma.optional(Ma.map(Ma.boolean),Xa),blockedOnAllHosts:Ma.maybe(Ma.boolean)}).volatile((()=>({addError:void 0}))).views((e=>({get isDisabledOnAllUrls(){return e.blockedOnAllHosts},isUrlBlocked(t){return!!this.isDisabledOnAllUrls||function(e,t){try{const n=function(e){const t=(e instanceof URL?e:new URL(e)).host.split(".");return[t[t.length-2],t[t.length-1]].join(".")}(e);return Boolean(t.get(n))}catch(e){return!1}}(t,e.blockedHosts)}}))).actions((e=>({add:t=>(e.addError=void 0,t&&""!==t?/^[\w.-]+(?:\.[\w.-]+)+[\w!#$&'()*+,./:;=?@[\]~-]+$/.test(t)?(e.blockedHosts.set(t,!0),!0):(e.addError="Invalid Host",!1):(e.addError="Host cannot be empty",!1)),remove(t){e.blockedHosts.delete(t)},toggleBlockedOnAllUrls(){e.blockedOnAllHosts=!e.blockedOnAllHosts},setBlockedOnAllUrls(t){e.blockedOnAllHosts=t}}))),Ya=Ma.model({forceEnabledHosts:Ma.optional(Ma.map(Ma.boolean),{})}).views((e=>({isHostForceEnabled:t=>e.forceEnabledHosts.has(t),isUrlForceEnabled(e){return this.isHostForceEnabled(e.host)}}))).actions((e=>({forceEnableHost(t){try{const e=new URL("http://"+t);if(e.host!==t)return"please only supply the domain, for example: www.jam.dev";if(!e.host.includes("."))return"please include a valid domain, for example: www.jam.dev"}catch{return"invalid host"}e.forceEnabledHosts.set(t,!0)},removeForceEnabledHost(t){e.forceEnabledHosts.delete(t)}}))),Za=Ma.model({delay:Ma.optional(Ma.number,0)}).actions((e=>({setDelay(t){e.delay=t}}))),es=Ma.model("PreferenceModel",{recording:Ma.optional(Ja,{}),rewindBlocklist:Ma.optional(Qa,{}),rewindPerformance:Ma.optional(Ya,{}),openNewTabOnJamCreation:Ma.optional(Ma.boolean,!0),sendDiagnostics:Ma.optional(Ma.boolean,!0),screenshot:Ma.optional(Za,{}),captureInteractivityEvents:Ma.optional(Ma.boolean,!0)}).actions((e=>({toggleOpenNewTabOnJamCreation(t){e.openNewTabOnJamCreation=t??!e.openNewTabOnJamCreation},toggleSendDiagnostics(t){e.sendDiagnostics=t},toggleCaptureInteractivityEvents(){e.captureInteractivityEvents=!e.captureInteractivityEvents}}))),ts=Ma.model({type:Ma.frozen(),posterDataUrl:Ma.string,width:Ma.number,height:Ma.number,duration:Ma.number,startTimestamp:Ma.number,endTimestamp:Ma.number}),ns=Ma.union(Ma.model({type:Ma.literal("inactive")}),Ma.model({type:Ma.literal("countdown"),recordingMode:Ma.frozen()}),Ma.model({type:Ma.literal("recording"),recordingLimitMs:Ma.number,isPaused:Ma.boolean,nonActiveTotalDurationMs:Ma.number,lastSegmentStart:Ma.number,recordingMode:Ma.frozen()}).actions((e=>({updateRecordingLimitMs(t){e.recordingLimitMs=t},setPaused(t){e.isPaused=t.shouldPause,t.shouldPause?e.nonActiveTotalDurationMs=t.nonActiveTotalDurationMs:e.lastSegmentStart=t.lastSegmentStart},setLastSegmentStart(t){e.lastSegmentStart=t}}))),Ma.model({type:Ma.literal("processing"),recordingMode:Ma.frozen()}),Ma.model({type:Ma.literal("success_async"),posterDataUrl:Ma.string,uploadedVideoId:Ma.maybe(Ma.string),recordingDetails:ts,draftTabId:Ma.number}).volatile((()=>({blobUrl:null})))),rs=Ma.model({state:ns}).views((e=>({get isRecording(){return"recording"===e.state?.type},get isDesktopRecording(){return"recording"==e.state.type&&"desktop"==e.state.recordingMode.type},get isRecordingDone(){return"processing"===e.state?.type||"success_async"===e.state?.type},get isActive(){return"recording"===e.state?.type||"processing"===e.state?.type},get isInactive(){return"inactive"==e.state.type},get isProcessing(){return"processing"===e.state?.type},get isCountdown(){return"countdown"===e.state?.type}}))).actions((e=>({recordingOnTab:(t,n)=>("countdown"===e.state.type||"recording"===e.state.type)&&"desktop"!==e.state.recordingMode.type&&("eq"===n?e.state.recordingMode.tabId===t:e.state.recordingMode.tabId!==t),displayingDraftOnTab:t=>"success_async"===e.state.type&&e.state.draftTabId===t}))).actions((e=>({transitionToInactive(){e.state=ns.create({type:"inactive"})},transitionToCountdown(t){e.state=ns.create({type:"countdown",recordingMode:Wa(t)})},transitionToActiveRecording(t,n,r){e.state=ns.create({type:"recording",recordingLimitMs:n,recordingMode:t,nonActiveTotalDurationMs:0,lastSegmentStart:r,isPaused:!1})},transitionToProcessing(t){e.state=ns.create({type:"processing",recordingMode:t})},transitionToSuccessfulRecording(t,n,r){e.state=ns.create({type:"success_async",posterDataUrl:t,recordingDetails:n,draftTabId:r})}}))),is=Ma.model("CaptureStateModel",{captureMode:Ma.optional(Ma.enumeration("mode",Object.values(F)),F.Idle),screenshotDelay:Ma.optional(Ma.number,0)}).actions((e=>({setCaptureMode(t){e.captureMode=t},setScreenshotDelay(t){e.screenshotDelay=t},reset(){e.captureMode=F.Idle}}))),os=Ma.model({sentry:Ma.model({installed:Ma.boolean,environment:Ma.maybe(Ma.string)}),logrocket:Ma.model({installed:Ma.boolean,sessionURL:Ma.maybe(Ma.string)})});var as=(e=>(e.NotInjected="NotInjected",e.Injecting="Injecting",e.Injected="Injected",e.InjectionFailed="InjectionFailed",e.UnknownDueToBackNavigation="UnknownDueToBackNavigation",e))(as||{});const ss=Ma.model({state:Ma.enumeration(Object.values(as)),marks:Ma.model({ui:Ma.maybe(Ma.number),console:Ma.maybe(Ma.number),network:Ma.maybe(Ma.number),dom:Ma.maybe(Ma.number)})}).actions((e=>({setState(t){e.state=t},setMark(t,n){e.marks[t]=n},reset(){e.state="NotInjected",yi(e.marks,{})}}))),us=Ma.model("SharedTabStateModel",{tabId:Ma.identifier,captureState:Ma.optional(is,{}),injectionLifecycle:Ma.optional(ss,{state:"NotInjected",marks:{}}),incognito:Ma.optional(Ma.boolean,!1),hostHasBadRewindPerformance:Ma.optional(Ma.boolean,!1),url:Ma.string,detectedLibs:Ma.maybe(os)}).views((e=>({get id(){return Number(e.tabId)}}))).actions((e=>({setUrl(t){e.url=t},setIncognito(t){e.incognito=t},setCaptureState(t){e.captureState=is.create({captureMode:t})}}))).views((e=>({get hostname(){return""===e.url?"":new URL(e.url).hostname},get hasJamBeenInjected(){return"Injecting"===e.injectionLifecycle.state||"Injected"===e.injectionLifecycle.state}}))).actions((e=>({resetRewindPerformanceCalculationOnNavigation(){e.hostHasBadRewindPerformance=!1},autoDisableRewindSnapshots(t){e.hostname===t&&(e.hostHasBadRewindPerformance=!0)},setDetectedLibs(t){e.detectedLibs=t}}))),cs=Ma.model({hasAccessToJamSite:Ma.optional(Ma.boolean,!1),isLoggedIn:Ma.optional(Ma.boolean,!1),isLoggedInLastChecked:za(Ma.maybeNull(Ma.Date))}).actions((e=>({setHasAccessToJamSite(t){e.hasAccessToJamSite=t},setIsLoggedIn(t){e.isLoggedIn=t,e.isLoggedInLastChecked=new Date}})));var ls=function(){return ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ls.apply(this,arguments)};function fs(e){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(e)}Object.create,Object.create,"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var ds="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function ps(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function hs(e){return gs(e.source,ps(e.source,e.start))}function gs(e,t){var n=e.locationOffset.column-1,r=ms(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?n:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var d=Math.floor(u/80),p=u%80,h=[],g=0;g<f.length;g+=80)h.push(f.slice(g,g+80));return c+vs([["".concat(a),h[0]]].concat(h.slice(1,d+1).map((function(e){return["",e]})),[[" ",ms(p-1)+"^"],["",h[d+1]]]))}return c+vs([["".concat(a-1),l[i-1]],["".concat(a),f],["",ms(u-1)+"^"],["".concat(a+1),l[i+1]]])}function vs(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],i=e[1];return ms(n-(t=r).length)+t+(i?" | "+i:" |")})).join("\n")}function ms(e){return Array(e+1).join(" ")}function ys(e){return ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(e)}function bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?Es(e):t}function Es(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ks(e){var t="function"==typeof Map?new Map:void 0;return ks=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return xs(e,arguments,As(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Os(r,e)},ks(e)}function xs(e,t,n){return xs=Ts()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Os(i,n.prototype),i},xs.apply(null,arguments)}function Ts(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Os(e,t){return Os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Os(e,t)}function As(e){return As=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},As(e)}var Is=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Os(e,t)}(a,e);var t,n,r,i,o=(t=a,n=Ts(),function(){var e,r=As(t);if(n){var i=As(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Ss(this,e)});function a(e,t,n,r,i,s,u){var c,l,f,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(d=o.call(this,e)).name="GraphQLError",d.originalError=null!=s?s:void 0,d.nodes=Cs(Array.isArray(t)?t:t?[t]:void 0);for(var p=[],h=0,g=null!==(v=d.nodes)&&void 0!==v?v:[];h<g.length;h++){var v,m=g[h].loc;null!=m&&p.push(m)}p=Cs(p),d.source=null!=n?n:null===(c=p)||void 0===c?void 0:c[0].source,d.positions=null!=r?r:null===(l=p)||void 0===l?void 0:l.map((function(e){return e.start})),d.locations=r&&n?r.map((function(e){return ps(n,e)})):null===(f=p)||void 0===f?void 0:f.map((function(e){return ps(e.source,e.start)})),d.path=null!=i?i:void 0;var y,b=null==s?void 0:s.extensions;return null==u&&"object"==fs(y=b)&&null!==y?d.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bs(Object(n),!0).forEach((function(t){ws(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):d.extensions=null!=u?u:{},Object.defineProperties(Es(d),{message:{enumerable:!0},locations:{enumerable:null!=d.locations},path:{enumerable:null!=d.path},extensions:{enumerable:null!=d.extensions&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=s&&s.stack?(Object.defineProperty(Es(d),"stack",{value:s.stack,writable:!0,configurable:!0}),Ss(d)):(Error.captureStackTrace?Error.captureStackTrace(Es(d),a):Object.defineProperty(Es(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+hs(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+gs(e.source,s)}return t}(this)}},{key:ds,get:function(){return"Object"}}])&&_s(r.prototype,i),a}(ks(Error));function Cs(e){return void 0===e||0===e.length?void 0:e}function Ps(e,t,n){return new Is("Syntax Error: ".concat(n),void 0,e,[t])}var Ds=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});const Ms="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function Rs(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(0))throw new Error("Unexpected invariant triggered.")}(),e.prototype.inspect=t,Ms&&(e.prototype[Ms]=t)}var js=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();Rs(js);var Ns=function(){function e(e,t,n,r,i,o,a){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=a,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();Rs(Ns);var Ls=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Us(e){return Us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(e)}function Bs(e){return Fs(e,[])}function Fs(e,t){switch(Us(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(Ms)];return"function"==typeof t?t:"function"==typeof e.inspect?e.inspect:void 0}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:Fs(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push(Fs(e[o],t));return 1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items")),"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);return 0===n.length?"{}":t.length>2?"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]":"{ "+n.map((function(n){return n+": "+Fs(e[n],t)})).join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function zs(e,t){if(!Boolean(e))throw new Error(t)}function Ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vs=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||zs(0,"Body must be a string. Received: ".concat(Bs(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||zs(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||zs(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n;return t=e,(n=[{key:ds,get:function(){return"Source"}}])&&Ks(t.prototype,n),e}(),Hs=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function $s(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,a=0;a<e.length;++a)switch(e.charCodeAt(a)){case 13:10===e.charCodeAt(a+1)&&++a;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&qs(t[i]);)++i;for(var o=t.length;o>i&&qs(t[o-1]);)--o;return t.slice(i,o).join("\n")}function qs(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var Ws=function(){function e(e){var t=new Ns(Ls.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==Ls.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Js(this,e)}while(e.kind===Ls.COMMENT);return e},e}();function Gs(e){return isNaN(e)?Ls.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Js(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var a=r.charCodeAt(o),s=e.line,u=1+o-e.lineStart;switch(a){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new Ns(Ls.BANG,o,o+1,s,u,t);case 35:return Qs(n,o,s,u,t);case 36:return new Ns(Ls.DOLLAR,o,o+1,s,u,t);case 38:return new Ns(Ls.AMP,o,o+1,s,u,t);case 40:return new Ns(Ls.PAREN_L,o,o+1,s,u,t);case 41:return new Ns(Ls.PAREN_R,o,o+1,s,u,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new Ns(Ls.SPREAD,o,o+3,s,u,t);break;case 58:return new Ns(Ls.COLON,o,o+1,s,u,t);case 61:return new Ns(Ls.EQUALS,o,o+1,s,u,t);case 64:return new Ns(Ls.AT,o,o+1,s,u,t);case 91:return new Ns(Ls.BRACKET_L,o,o+1,s,u,t);case 93:return new Ns(Ls.BRACKET_R,o,o+1,s,u,t);case 123:return new Ns(Ls.BRACE_L,o,o+1,s,u,t);case 124:return new Ns(Ls.PIPE,o,o+1,s,u,t);case 125:return new Ns(Ls.BRACE_R,o,o+1,s,u,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?tu(n,o,s,u,t,e):eu(n,o,s,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Ys(n,o,a,s,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return ru(n,o,s,u,t)}throw Ps(n,o,Xs(a))}var c=e.line,l=1+o-e.lineStart;return new Ns(Ls.EOF,i,i,c,l,t)}function Xs(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(Gs(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(Gs(e),".")}function Qs(e,t,n,r,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Ns(Ls.COMMENT,t,s,n,r,i,a.slice(t+1,s))}function Ys(e,t,n,r,i,o){var a=e.body,s=n,u=t,c=!1;if(45===s&&(s=a.charCodeAt(++u)),48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw Ps(e,u,"Invalid number, unexpected digit after 0: ".concat(Gs(s),"."))}else u=Zs(e,u,s),s=a.charCodeAt(u);if(46===s&&(c=!0,s=a.charCodeAt(++u),u=Zs(e,u,s),s=a.charCodeAt(u)),69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=Zs(e,u,s),s=a.charCodeAt(u)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw Ps(e,u,"Invalid number, expected digit but got: ".concat(Gs(s),"."));return new Ns(c?Ls.FLOAT:Ls.INT,t,u,r,i,o,a.slice(t,u))}function Zs(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw Ps(e,i,"Invalid number, expected digit but got: ".concat(Gs(o),"."))}function eu(e,t,n,r,i){for(var o,a,s,u,c=e.body,l=t+1,f=l,d=0,p="";l<c.length&&!isNaN(d=c.charCodeAt(l))&&10!==d&&13!==d;){if(34===d)return p+=c.slice(f,l),new Ns(Ls.STRING,t,l+1,n,r,i,p);if(d<32&&9!==d)throw Ps(e,l,"Invalid character within String: ".concat(Gs(d),"."));if(++l,92===d){switch(p+=c.slice(f,l-1),d=c.charCodeAt(l)){case 34:p+='"';break;case 47:p+="/";break;case 92:p+="\\";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+="\n";break;case 114:p+="\r";break;case 116:p+="\t";break;case 117:var h=(o=c.charCodeAt(l+1),a=c.charCodeAt(l+2),s=c.charCodeAt(l+3),u=c.charCodeAt(l+4),nu(o)<<12|nu(a)<<8|nu(s)<<4|nu(u));if(h<0){var g=c.slice(l+1,l+5);throw Ps(e,l,"Invalid character escape sequence: \\u".concat(g,"."))}p+=String.fromCharCode(h),l+=4;break;default:throw Ps(e,l,"Invalid character escape sequence: \\".concat(String.fromCharCode(d),"."))}f=++l}}throw Ps(e,l,"Unterminated string.")}function tu(e,t,n,r,i,o){for(var a=e.body,s=t+3,u=s,c=0,l="";s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new Ns(Ls.BLOCK_STRING,t,s+3,n,r,i,$s(l));if(c<32&&9!==c&&10!==c&&13!==c)throw Ps(e,s,"Invalid character within String: ".concat(Gs(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw Ps(e,s,"Unterminated string.")}function nu(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function ru(e,t,n,r,i){for(var o=e.body,a=o.length,s=t+1,u=0;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new Ns(Ls.NAME,t,s,n,r,i,o.slice(t,s))}var iu=function(){function e(e,t){var n=function(e){return e instanceof Vs}(e)?e:new Vs(e);this._lexer=new Ws(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Ls.NAME);return{kind:Ds.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Ds.DOCUMENT,definitions:this.many(Ls.SOF,this.parseDefinition,Ls.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Ls.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ls.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Ls.BRACE_L))return{kind:Ds.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(Ls.NAME)&&(t=this.parseName()),{kind:Ds.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Ls.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Ls.PAREN_L,this.parseVariableDefinition,Ls.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Ds.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ls.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ls.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Ls.DOLLAR),{kind:Ds.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Ds.SELECTION_SET,selections:this.many(Ls.BRACE_L,this.parseSelection,Ls.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Ls.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(Ls.COLON)?(e=r,t=this.parseName()):t=r,{kind:Ds.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ls.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ls.PAREN_L,t,Ls.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Ls.COLON),{kind:Ds.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Ds.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ls.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Ls.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Ls.NAME)?{kind:Ds.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Ds.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:Ds.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:Ds.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Ls.BRACKET_L:return this.parseList(e);case Ls.BRACE_L:return this.parseObject(e);case Ls.INT:return this._lexer.advance(),{kind:Ds.INT,value:t.value,loc:this.loc(t)};case Ls.FLOAT:return this._lexer.advance(),{kind:Ds.FLOAT,value:t.value,loc:this.loc(t)};case Ls.STRING:case Ls.BLOCK_STRING:return this.parseStringLiteral();case Ls.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:Ds.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:Ds.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:Ds.NULL,loc:this.loc(t)};default:return{kind:Ds.ENUM,value:t.value,loc:this.loc(t)}}case Ls.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Ds.STRING,value:e.value,block:e.kind===Ls.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:Ds.LIST,values:this.any(Ls.BRACKET_L,(function(){return t.parseValueLiteral(e)}),Ls.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:Ds.OBJECT,fields:this.any(Ls.BRACE_L,(function(){return t.parseObjectField(e)}),Ls.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(Ls.COLON),{kind:Ds.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Ls.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Ls.AT),{kind:Ds.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Ls.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Ls.BRACKET_R),e={kind:Ds.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Ls.BANG)?{kind:Ds.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Ds.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Ls.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Ls.STRING)||this.peek(Ls.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(Ls.BRACE_L,this.parseOperationTypeDefinition,Ls.BRACE_R);return{kind:Ds.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Ls.COLON);var n=this.parseNamedType();return{kind:Ds.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ds.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Ds.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(Ls.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(Ls.AMP)||this.peek(Ls.NAME));return t}return this.delimitedMany(Ls.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(Ls.BRACE_L)&&this._lexer.lookahead().kind===Ls.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ls.BRACE_L,this.parseFieldDefinition,Ls.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(Ls.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Ds.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Ls.PAREN_L,this.parseInputValueDef,Ls.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Ls.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(Ls.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Ds.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Ds.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Ds.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ls.EQUALS)?this.delimitedMany(Ls.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Ds.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Ls.BRACE_L,this.parseEnumValueDefinition,Ls.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:Ds.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Ds.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Ls.BRACE_L,this.parseInputValueDef,Ls.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Ls.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(Ls.BRACE_L,this.parseOperationTypeDefinition,Ls.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:Ds.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:Ds.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Ds.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:Ds.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ds.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ds.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:Ds.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ls.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Ds.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Ls.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Hs[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new js(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw Ps(this._lexer.source,t.start,"Expected ".concat(au(e),", found ").concat(ou(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Ls.NAME||t.value!==e)throw Ps(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(ou(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Ls.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return Ps(this._lexer.source,t.start,"Unexpected ".concat(ou(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function ou(e){var t=e.value;return au(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function au(e){return function(e){return e===Ls.BANG||e===Ls.DOLLAR||e===Ls.AMP||e===Ls.PAREN_L||e===Ls.PAREN_R||e===Ls.SPREAD||e===Ls.COLON||e===Ls.EQUALS||e===Ls.AT||e===Ls.BRACKET_L||e===Ls.BRACKET_R||e===Ls.BRACE_L||e===Ls.PIPE||e===Ls.BRACE_R}(e)?'"'.concat(e,'"'):e}var su=new Map,uu=new Map,cu=!0,lu=!1;function fu(e){return e.replace(/[\s,]+/g," ").trim()}function du(e){var t,n,r,i=fu(e);if(!su.has(i)){var o=function(e,t){return new iu(e,t).parseDocument()}(e,{experimentalFragmentVariables:lu,allowLegacyFragmentVariables:lu});if(!o||"Document"!==o.kind)throw new Error("Not a valid GraphQL document.");su.set(i,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}((t=o,n=new Set,r=[],t.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var t=e.name.value,i=fu((a=e.loc).source.body.substring(a.start,a.end)),o=uu.get(t);o&&!o.has(i)?cu&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||uu.set(t,o=new Set),o.add(i),n.has(i)||(n.add(i),r.push(e))}else r.push(e);var a})),ls(ls({},t),{definitions:r}))))}return su.get(i)}function pu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),du(r)}var hu,gu=pu;(hu=pu||(pu={})).gql=gu,hu.resetCaches=function(){su.clear(),uu.clear()},hu.disableFragmentWarnings=function(){cu=!1},hu.enableExperimentalFragmentVariables=function(){lu=!0},hu.disableExperimentalFragmentVariables=function(){lu=!1},pu.default=pu;const vu=pu;var mu=(e=>(e.Replay="replay",e.Screenshot="screenshot",e.Unknown="unknown",e.Video="video",e))(mu||{}),yu=(e=>(e.None="None",e.Replies="Replies",e))(yu||{}),bu=(e=>(e.Admin="Admin",e.Member="Member",e))(bu||{}),wu=(e=>(e.Normal="Normal",e.Personal="Personal",e))(wu||{});const _u=vu`
    fragment GeneratedAttachment on GeneratedAttachment {
  ... on GeneratedAttachmentScreenRecording {
    ...GeneratedAttachmentScreenRecording
  }
  ... on GeneratedAttachmentScreenRecordingAsync {
    ...GeneratedAttachmentScreenRecordingAsync
  }
  ... on GeneratedAttachmentCroppedScreenshot {
    ...GeneratedAttachmentCroppedScreenshot
  }
  ... on GeneratedAttachmentFullScreenshot {
    ...GeneratedAttachmentFullScreenshot
  }
  ... on GeneratedAttachmentDelayedCroppedScreenshot {
    ...GeneratedAttachmentDelayedCroppedScreenshot
  }
  ... on GeneratedAttachmentDelayedFullScreenshot {
    ...GeneratedAttachmentDelayedFullScreenshot
  }
  ... on GeneratedAttachmentSessionRewind {
    ...GeneratedAttachmentSessionRewind
  }
}
    ${vu`
    fragment GeneratedAttachmentScreenRecording on GeneratedAttachmentScreenRecording {
  type
  url
  posterUrl
  fullscreenUrl
  previewThumbnailUrl
  width
  height
  viewport
}
    `}
${vu`
    fragment GeneratedAttachmentScreenRecordingAsync on GeneratedAttachmentScreenRecordingAsync {
  type
  fullscreenUrl
  posterUrl
  previewThumbnailUrl
  uploadedVideo {
    ...UploadedVideo
  }
  duration
  viewport
}
    ${vu`
    fragment UploadedVideo on UploadedVideo {
  id
  url
  status
  cloudflareMetadata {
    id
    preview
    width
    height
    duration
  }
}
    `}`}
${vu`
    fragment GeneratedAttachmentCroppedScreenshot on GeneratedAttachmentCroppedScreenshot {
  type
  url
  fullscreenUrl
  previewThumbnailUrl
}
    `}
${vu`
    fragment GeneratedAttachmentFullScreenshot on GeneratedAttachmentFullScreenshot {
  type
  url
  fullscreenUrl
}
    `}
${vu`
    fragment GeneratedAttachmentDelayedCroppedScreenshot on GeneratedAttachmentDelayedCroppedScreenshot {
  type
  url
  fullscreenUrl
  previewThumbnailUrl
  delayMs
}
    `}
${vu`
    fragment GeneratedAttachmentDelayedFullScreenshot on GeneratedAttachmentDelayedFullScreenshot {
  type
  url
  fullscreenUrl
  delayMs
}
    `}
${vu`
    fragment GeneratedAttachmentSessionRewind on GeneratedAttachmentSessionRewind {
  type
  url
  fullscreenUrl
}
    `}`,Su=vu`
    fragment ThreadIntegration on ThreadIntegration {
  id
  name
  displayName
  status
  url
  objectId
  objectIdAlias
  openJamOnCreate
  fields {
    key
    label
    value {
      ... on IntegrationStringValue {
        type
        value
      }
      ... on IntegrationLabeledStringValue {
        type
        labeledValue {
          label
          value
        }
      }
      ... on IntegrationLabeledListValue {
        type
        labeledValues {
          label
          value
        }
      }
    }
  }
  events {
    type
    message
    occuredAt
    actor {
      ... on IntegrationActorJamUser {
        type
        userId
        data {
          id
          name
          email
        }
      }
      ... on IntegrationActorSystem {
        type
        service
      }
    }
  }
}
    `,Eu=vu`
    fragment DetectedLibs on DetectedLibsType {
  logrocket {
    installed
    sessionURL
  }
  sentry {
    installed
    environment
  }
}
    `,ku=vu`
    fragment Comment on JamComment {
  __typename
  id: uid
  uid
  message
  threadUid
  createdAt
  updatedAt
  edited
  deleted
  playbackRelativeTimestamp
  reactions {
    ...Reaction
  }
  attachments {
    id
    name
    type
    size
    source
  }
  author {
    id
    name
    email
    avatar
  }
}
    ${vu`
    fragment Reaction on Reaction {
  id
  emoji
  upvotedUsers {
    id
    name
  }
}
    `}`,xu=vu`
    fragment ThreadAuthor on User {
  id
  name
  avatar
  email
  verifiedAccount
  createdAt
}
    `,Tu=vu`
    fragment ThreadTicket on ThreadTicket {
  status
  priority
  modifiedAt
}
    `,Ou=vu`
    fragment PrivacyRule on PrivacyRule {
  objectId
  objectType
  policy
  domains
  emails
}
    `,Au=(vu`
    fragment DashboardThread on Thread {
  id: uid
  uid
  type
  generatedAttachment {
    ...GeneratedAttachment
  }
  integrations {
    ...ThreadIntegration
  }
  createdAt
  summary
  detectedLibs {
    ...DetectedLibs
  }
  replayEvents {
    id
    duration
    isPlayable
    url
    status
  }
  comments {
    ...Comment
  }
  author {
    ...ThreadAuthor
  }
  ticket {
    ...ThreadTicket
  }
  team {
    id
    emoji
    name
    type
  }
  privacyRule {
    ...PrivacyRule
  }
}
    ${_u}
${Su}
${Eu}
${ku}
${xu}
${Tu}
${Ou}`,vu`
    fragment BaseJam on BaseJam {
  id
  type
  originalUrl
  country
  timezoneLocation
  createdAt
  updatedAt
  author {
    ...JamAuthor
  }
  team {
    id
    name
    emoji
    type
  }
  systemInfo {
    browser {
      name
      version
    }
    os {
      name
      version
    }
    screenDimensions {
      width
      height
    }
    extension {
      version
    }
  }
  detectedLibs {
    logrocket {
      installed
      sessionURL
    }
    sentry {
      installed
      environment
    }
  }
  fullStoryUrl
  logRocketUrl
  privacyRule {
    ...PrivacyRule
  }
  comments {
    ...Comment
  }
}
    ${vu`
    fragment JamAuthor on JamAuthor {
  id
  name
  email
  avatar
  verifiedAccount
  createdAt
  updatedAt
}
    `}
${Ou}
${ku}`),Iu=vu`
    fragment Media on Media {
  id
  status
  contentType
  sizeBytes
  url
  createdAt
  updatedAt
}
    `,Cu=(vu`
    fragment Jam on Jam {
  ... on ScreenshotJam {
    ...ScreenshotJam
  }
  ... on VideoJam {
    ...VideoJam
  }
  ... on ReplayJam {
    ...ReplayJam
  }
}
    ${vu`
    fragment ScreenshotJam on ScreenshotJam {
  ...BaseJam
  data {
    id
    type
    delayMs
    media {
      ...Media
    }
    secondaryMedia {
      ...Media
    }
  }
}
    ${Au}
${Iu}`}
${vu`
    fragment VideoJam on VideoJam {
  ...BaseJam
  data {
    id
    height
    width
    viewport
    durationMs
    media {
      ...Media
    }
    posterImageMedia {
      ...Media
    }
    cloudflareStream {
      id
      status
    }
  }
}
    ${Au}
${Iu}`}
${vu`
    fragment ReplayJam on ReplayJam {
  ...BaseJam
  data {
    id
    media {
      ...Media
    }
    screenshotMedia {
      ...Media
    }
  }
}
    ${Au}
${Iu}`}`,vu`
    fragment ThreadLocation on ThreadLocation {
  host
  path
  originalUrl
  cleanOriginalUrl
}
    `,vu`
    fragment Team on Team {
  id
  name
  emoji
  type
  roleType
  privacyRule {
    ...PrivacyRule
  }
  inviteLink {
    ...TeamInviteLink
  }
  createdAt
  updatedAt
  archived
  domains
  featureFlags
  members {
    id
    name
    avatar
    email
    status
    roleType
    verifiedAccount
  }
  policy
  settings {
    allowJamsSentExternally
    allowThreadsSentExternally
  }
  slug
}
    ${Ou}
${vu`
    fragment TeamInviteLink on TeamInviteLink {
  id
  key
  limit
  used
  expiresAt
  createdAt
}
    `}`);vu`
    fragment Me on User {
  id
  name
  avatar
  email
  featureFlags
  unsubscribePreferences
  milestones {
    createdThread
    createdSecondThread
    sharedThread
    dismissedExtension
  }
  notificationSettings {
    preference
  }
  verifiedAccount
  teams {
    ...Team
  }
  createdAt
}
    ${Cu}`,vu`
    fragment SimpleTeam on Team {
  id
  name
  emoji
  featureFlags
  policy
  type
}
    `,vu`
    fragment Thread on Thread {
  id: uid
  uid
  type
  generatedAttachment {
    ...GeneratedAttachment
  }
  originalUrl
  summary
  ticket {
    ...ThreadTicket
  }
  integrations {
    ...ThreadIntegration
  }
  team {
    id
    emoji
    name
    type
  }
  privacyRule {
    ...PrivacyRule
  }
  comments {
    ...Comment
  }
  systemInfo {
    ...SystemInfo
  }
  detectedLibs {
    ...DetectedLibs
  }
  author {
    ...ThreadAuthor
  }
  createdAt
  replayEvents {
    id
    url
    duration
    isPlayable
    status
  }
  fullStoryUrl
  logRocketUrl
  timezoneLocation
  country
}
    ${_u}
${Tu}
${Su}
${Ou}
${ku}
${vu`
    fragment SystemInfo on SystemInfoType {
  browser {
    ...BrowserOSType
  }
  os {
    ...BrowserOSType
  }
  screenDimensions {
    width
    height
  }
  extension {
    version
  }
}
    ${vu`
    fragment BrowserOSType on BrowserOSType {
  name
  version
}
    `}`}
${Eu}
${xu}`,vu`
    fragment User on User {
  id
  name
  avatar
  email
  featureFlags
  createdAt
  defaultRewindBlocked
}
    `,vu`
    fragment UserMilestones on User {
  milestones {
    createdThread
    createdSecondThread
    sharedThread
    dismissedExtension
  }
}
    `,vu`
    mutation integrationEdit($integration: IntegrationDetailsInput!, $threadUid: String!, $message: String) {
  integrationEdit(
    integration: $integration
    threadUid: $threadUid
    message: $message
  ) {
    success
  }
}
    `,vu`
    mutation integrateThread($integration: IntegrationDetailsInput!, $teamId: String!, $threadUid: String!, $message: String) {
  integrateThread(
    integration: $integration
    teamId: $teamId
    threadUid: $threadUid
    message: $message
  ) {
    threadUid
    success
    copiedToTeam
  }
}
    `,vu`
    query integrationAuthUrls($teamId: String!, $filter: IntegrationListFilter!, $ignoreTeamTypes: Boolean) {
  integrationList(
    teamId: $teamId
    filter: $filter
    ignoreTeamTypes: $ignoreTeamTypes
  ) {
    integrations {
      integrationName
      authorizationUrl
    }
  }
}
    `,vu`
    query integrationFields($integrationName: String!, $fieldFilters: IntegrationFieldFilterInput, $teamId: String!, $shallowLoad: Boolean) {
  integrationFields(
    integrationName: $integrationName
    fieldFilters: $fieldFilters
    teamId: $teamId
    shallowLoad: $shallowLoad
  ) {
    fields {
      key
      label
      type
      required
      placeholder
      fallbackValue
      visibleByDefault
      refetchFieldsOnChange
      options {
        label
        value
        selected
        thumbnail
        thumbnailLight
        title
      }
      validation {
        maxLength
        pattern {
          message
          value
        }
      }
      asyncOptions
    }
  }
}
    `,vu`
    query integrationFieldOptions($integrationName: String!, $teamId: String!, $field: String!, $query: String!, $fieldFilters: IntegrationFieldFilterInput) {
  integrationFieldOptions(
    integrationName: $integrationName
    teamId: $teamId
    field: $field
    query: $query
    fieldFilters: $fieldFilters
  ) {
    options {
      label
      value
      selected
      thumbnail
      title
    }
  }
}
    `,vu`
    query integrationList($teamId: String!, $filter: IntegrationListFilter!, $ignoreTeamTypes: Boolean) {
  integrationList(
    teamId: $teamId
    filter: $filter
    ignoreTeamTypes: $ignoreTeamTypes
  ) {
    integrations {
      integrationName
      displayName
      description
      authorizationUrl
      internal
      userConfigured
      teamConfigured
      usedForLogin
      copyThreadLink
      descriptionFieldAlias
      commentSendAlias
      onSubmitUserMessage
      sortPriority
      openJamOnCreate
      allowConnecting
      workspaceName
      clipboardParts
      fileTypes {
        ... on IntegrationFileTypeAll {
          type
        }
        ... on IntegrationFileTypeRestricted {
          type
          value
        }
        ... on IntegrationFileTypeNone {
          type
        }
      }
      connectedTeam {
        ...Team
      }
      authScope
    }
  }
}
    ${Cu}`,vu`
    query threadIntegrations($threadUid: String!) {
  jamThread(threadUid: $threadUid) {
    uid
    comments {
      ... on JamComment {
        message
      }
    }
    generatedAttachment {
      ...GeneratedAttachment
    }
    replayEvents {
      id
      isPlayable
    }
    integrations {
      name
      displayName
      status
      url
      openJamOnCreate
      clipboardParts
      fields {
        key
        label
        value {
          ... on IntegrationStringValue {
            type
            value
          }
          ... on IntegrationLabeledStringValue {
            type
            labeledValue {
              label
              value
            }
          }
          ... on IntegrationLabeledListValue {
            type
            labeledValues {
              label
              value
            }
          }
        }
      }
      events {
        type
        message
        occuredAt
        actor {
          ... on IntegrationActorJamUser {
            type
            userId
            data {
              id
              email
              name
            }
          }
          ... on IntegrationActorSystem {
            type
            service
          }
        }
      }
    }
  }
}
    ${_u}`;const Pu=Ma.model("NotificationsSettings",{preference:Ma.maybe(Ma.enumeration(Object.values(yu)))}),Du=Ma.model("TeamModel",{id:Ma.identifier,name:Ma.string,emoji:Ma.string,type:Ma.enumeration(Object.values(wu)),featureFlags:Ma.array(Ma.string),roleType:Ma.enumeration(Object.values(bu)),createdAt:Ma.Date,updatedAt:Ma.Date}),Mu=Ma.model("UserModel",{id:Ma.identifier,email:Ma.string,name:Ma.string,avatar:Ma.string,verifiedAccount:Ma.boolean,notificationSettings:Ma.maybe(Pu),featureFlags:Ma.array(Ma.string),milestones:Ma.model({sharedThread:Ma.maybeNull(Ma.string),createdThread:Ma.maybeNull(Ma.string),createdSecondThread:Ma.maybeNull(Ma.string),dismissedExtension:Ma.maybeNull(Ma.string)}),teams:Ma.array(Du),createdAt:Ma.Date}).actions((e=>({setFeatureFlags:t=>{e.featureFlags=t}}))),Ru=Ma.model("MinimalSharedModel",{auth:za(Ma.optional(cs,{})),activeTabId:za(Ma.maybe(Ma.number)),tabStates:za(Ma.map(Ma.late((()=>us)))),recording:za(Ma.optional(rs,{state:{type:"inactive"}})),preferences:Ma.optional(es,{}),user:za(Ma.maybe(Mu)),lastSelected:Ma.maybe(Fa),workerConnected:za(Ma.maybe(Ma.boolean)),annotations:Ma.optional(Ba,{})}).volatile((()=>({address:void 0}))).actions((e=>({init(t){e.address=t}}))).views((e=>({get tabIdInThisContext(){if(!e.address)throw new Error("Tab ID must be instantiated in this context");if("tabId"in e.address)return e.address.tabId}}))).actions((e=>({removeUser(){e.user=void 0},setUser(t){e.user?yi(e.user,t):e.user=Mu.create(t)},setWorkerConnected(t){e.workerConnected=t},setLastSelected(t){e.lastSelected?yi(e.lastSelected,t):e.lastSelected=Fa.create(t)},removeLastSelected(){e.lastSelected=void 0}}))).views((e=>({getTab:t=>e.tabStates.get(String(t))}))).actions((e=>({removeTab(t){e.tabStates.delete(String(t))},prepareTabForInjection(t,n){const r=e.getTab(t);if(r)return r.setUrl(n),r;const i=String(t),o=us.create({url:n,tabId:i});return e.tabStates.set(i,o),o},setActiveTabId(t){e.activeTabId=t}}))).views((e=>({get currentTab(){if(!e.tabIdInThisContext)throw new Error(`currentTab() is not valid in this address (${JSON.stringify(e.address)})`);const t=e.tabStates.get(String(e.tabIdInThisContext));if(!t)throw new Error(`Current tab has been removed before tab unloaded? Tab ID is: ${e.tabIdInThisContext}`);return t}}))).views((e=>({get activeTab(){if(e.activeTabId)return e.tabStates.get(String(e.activeTabId))}}))).views((e=>({isRewindForceEnabledForTab(t){const n=e.getTab(t);if(n)return e.preferences.rewindPerformance.isHostForceEnabled(n.hostname)},isRewindDisabledForTab(t){const n=e.getTab(t);if(n)return e.preferences.rewindBlocklist.isUrlBlocked(n.url)?{disabledBecause:"Instant Replay is turned off for the tab's current URL, but you can re-enable it by clicking on the Jam extension."}:!e.preferences.rewindPerformance.isHostForceEnabled(n.hostname)&&!!n.hostHasBadRewindPerformance&&{disabledBecause:"Instant replay gets auto-disabled on heavy sites, but you can re-enable it by clicking on the Jam extension."}},canAutoDisableRewindForTab(t){const n=e.getTab(t);return!!n&&!e.preferences.rewindPerformance.isHostForceEnabled(n.hostname)&&!n.hostHasBadRewindPerformance}}))).actions((e=>({autoDisableRewindForTab(t,n){if(!e.canAutoDisableRewindForTab(t))return;const r=e.getTab(t);r&&r.autoDisableRewindSnapshots(n)}})));class ju{constructor(e){this.innerMap=new Map,this.timeToEvict=e}clearExistingTimeout(e){const t=this.innerMap.get(e);t?.timeout&&clearTimeout(t.timeout)}newTimeout(e){return setTimeout((()=>{this.innerMap.delete(e)}),this.timeToEvict)}set(e,t){this.clearExistingTimeout(e),this.innerMap.set(e,{value:t,timeout:this.newTimeout(e)})}get(e){return this.innerMap.get(e)?.value}delete(e){return this.innerMap.delete(e)}}var Nu=n(51762);function Lu(e){return JSON.stringify([e.op,e.path,e.value])}class Uu extends class{constructor(e){this.recievedMessages=new ju(100),this.getMessageKey=e}canBroadcastMessage(e){const t=this.getMessageKey(e);return!this.recievedMessages.get(t)||(this.recievedMessages.delete(t),!1)}addMessagesReceived(e){e.forEach((e=>this.recievedMessages.set(this.getMessageKey(e),e)))}}{constructor(){super(Lu)}}async function Bu(e,t){const n=await async function(e){const t=La("local"),n=await Ra(ue.GLOBAL_MINIMAL_SHARED_STORE,t);return e&&!n?await Ra(ue.GLOBAL_MINIMAL_SHARED_STORE_PREVIOUS,t):n}(t);if(n)try{yi(e,n)}catch(t){D.k.error("Could not intialize persisted model from storage. If you changed the data model shape, try bumping the storage key version in currentGlobalStoreVersion. Resetting.",{snapshot:n,error:t,storageKeys:ue}),yi(e,{})}}var Fu=n(16128);async function zu(e){const{id:t}=e;let{bus:n}=e;Na("initializing persisted store for",t),n||(n=(0,Fu.v)({address:t,canForward:!1,onError:e=>D.k.debug(e.toString())}));const r=Ru.create();r.init(t),t.component===Nu.wA.Main&&(await Bu(r,!0),Ka(Ru,r),await async function(e){const t=bi(e);await async function(e){const t=La("local");try{const n=JSON.stringify(e);await t.setItem(ue.GLOBAL_MINIMAL_SHARED_STORE,n)}catch(e){return}}(JSON.parse(JSON.stringify(t)))}(r)),await Bu(r,!1);const i={patchDeduper:new Uu,broadcastPatchMap:new ju(75)},o=[];if(t.component===Nu.wA.Main){o.push(function(e){const{bus:t}=e;return function(e,t,n){const{whitelist:r,blacklist:i}=function(e){return"whitelist"in e?{whitelist:e.whitelist}:{blacklist:e.blacklist}}(t);let o=[];const a=()=>{const e=o;o=[],t.broadcastFunction(e)},s=0===t.patchBatchDuration?a:(0,fe.throttle)(a,t.patchBatchDuration??1e3);return vi(e.fromStore,(a=>{const u=a.path.slice(1);let c=!1;if(r?r.forEach((e=>{u.startsWith(e)&&(c=!0)})):i&&(c=!0,i.forEach((e=>{u.startsWith(e)&&(c=!1)}))),c)try{e.toStore&&mi(e.toStore,a),t.broadcastToOtherTabs&&n.canBroadcastMessage(a)&&(o.push(a),s())}catch(e){D.k.error(`Failed to forward patch ${JSON.stringify(a)} due to error: ${e}`)}}))}({fromStore:e.fromStore},{blacklist:[],broadcastToOtherTabs:!0,broadcastFunction:n=>{Na("sending patches",n);const r={patches:n,sender:e.id,originalSender:e.id};t.emit({eventName:"SyncGlobalStatePatch",payload:r}),function(e){let t=!1;const n=setTimeout((()=>{t&&(Na("rebroadcasting patches..."),e.bus.emit({eventName:"SyncGlobalStatePatch",payload:e.patchMessage}))}),50);e.patchMessage.patches.forEach((r=>{const i=(o=e.patchMessage.sender).component===Nu.wA.ContentScript||o.component===Nu.wA.HostScript?`${o.component}-${o.tabId}-${o.location}`:o.component;var o;const a=e.globalBroadcastStatus.broadcastPatchMap.get(r.path);let s;a?.rebroadcastTimeout&&clearTimeout(a.rebroadcastTimeout),a&&a.senderString!==i&&(t=!0,s=n),e.globalBroadcastStatus.broadcastPatchMap.set(r.path,{senderString:i,patch:r,rebroadcastTimeout:s})})),t||clearTimeout(n)}({id:e.id,globalBroadcastStatus:e.globalBroadcastStatus,patchMessage:r,bus:t})},patchBatchDuration:0},e.globalBroadcastStatus.patchDeduper)}({id:t,fromStore:r,globalBroadcastStatus:i,bus:n}));const e=La("local");o.push(await async function(e,t,n){const{storage:r,whitelist:i,blacklist:o}=n,a=ja(i),s=ja(o),u=(0,fe.debounce)((()=>{const n={...bi(t)};Object.keys(n).forEach((e=>{i&&!a[e]&&delete n[e],o&&s[e]&&delete n[e]}));const u=JSON.stringify(n);r.setItem(e,u)}),10,{leading:!1,trailing:!0});return vi(t,(e=>{const t=e.path.slice(1);let n;i?i.forEach((e=>{"string"==typeof e&&t.startsWith(e)&&(n=!0)})):o&&(n=!0,o.forEach((e=>{"string"==typeof e&&t.startsWith(e)&&(n=!1)}))),n&&u()}))}(ue.GLOBAL_MINIMAL_SHARED_STORE,r,{storage:e,blacklist:[]}))}else o.push(function(e){if(e.id.component===Nu.wA.Main)throw new Error("developer error: listening to patches should not happen inside the Main component");return e.bus.on("SyncGlobalStatePatch",(async t=>{const n=t;Na("applying patches from sender",t.sender,t);const r=n.patches;e.globalBroadcastStatus.patchDeduper.addMessagesReceived(r);try{mi(e.toStore,r)}catch(e){if(e instanceof Error&&e.message.includes("/tabStates")&&e.message.includes("Not a child"))return;D.k.error(`Failed to apply received network patches ${JSON.stringify(r)} from ${n.sender.component} due to error: ${e}`)}})),()=>e.bus.eventHandlers.clear()}({id:t,toStore:r,globalBroadcastStatus:i,bus:n}),(a=(e,n,r)=>{["@APPLY_PATCHES","@APPLY_SNAPSHOT"].includes(e.name)?n(e):(D.k.error(`Cannot call ${e.name} from ${t.component} at location ${t.location}! Global state modifications can only be made via Component.Main`),r(null))},void 0===s&&(s=!0),no(r).addMiddleWare(a,s))),"tabId"in t&&o.push(function(e,t,n){return n.on("SyncGlobalStateFromDiskSnapshot",(async n=>{const r=n.receiver;"tabId"in e&&r.tabId===e.tabId&&(Na("syncing store from disk snapshot"),Bu(t,!1))})),()=>n.eventHandlers.clear()}(t,r,n));var a,s;return{store:r,cleanup:()=>{o.forEach((e=>e()))}}}var Ku=n(9292),Vu=n(39863),Hu=n(84386),$u=n(87143);let qu;const Wu=new Promise((e=>{zu({id:{component:Ku.Component.Main,location:void 0},bus:(0,Hu.Q)($u.M.Test)?(0,Ku.getEventBusSingleton)({address:{component:Ku.Component.Main,location:void 0},canForward:!0,onError:e=>D.k.debug(e.toString()),destinationHandlers:(0,Vu.Q)()}):void 0}).then((t=>{qu=t.store,(se.v.IS_DEV||se.v.IS_STAGING)&&(window.globallySyncedStore=qu),e(qu)}))})),Gu=(Ju=[Wu],function(e){return function(...t){Promise.all(Ju).then((()=>e(...t)))}});var Ju,Xu=n(72565),Qu=n.n(Xu);const Yu=()=>(0,Ku.getMessageBrokerSingleton)({address:{component:Ku.Component.Main,location:void 0},canForward:!0,onError:e=>D.k.sample("warn",.001,e.toString()),isTabIncognito:e=>"self"!==e&&(qu?.getTab(e)?.incognito??!0)});var Zu=n(12957),ec=n.n(Zu);const tc=(()=>{let e;return()=>(e=e??n(72565),e)})();async function nc(e){const t=e&&"currentWindow"in e&&e.currentWindow||void 0,n=e&&"windowId"in e&&e.windowId||void 0;return(await tc().tabs.query({active:!0,windowType:"normal",lastFocusedWindow:!0,windowId:n,currentWindow:t}))[0]}var rc=n(28687);function ic(e){return{...e,createdAt:new Date(e.createdAt),teams:e.teams.map((e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)})))}}var oc,ac,sc=n(16821);function uc(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function cc(e){return"object"===uc(e)}function lc(e,t){return e.length<124?e:t}function fc(e){if(!cc(e))throw new Error(`Message is expected to be an object, but got ${uc(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if("string"!=typeof e.type)throw new Error(`Message is expects the 'type' property to be a string, but got ${uc(e.type)}`);switch(e.type){case ac.ConnectionInit:case ac.ConnectionAck:case ac.Ping:case ac.Pong:if("payload"in e&&!cc(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or missing, but got "${e.payload}"`);break;case ac.Subscribe:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${uc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!cc(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${uc(e.payload)}`);if("string"!=typeof e.payload.query)throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${uc(e.payload.query)}`);if(null!=e.payload.variables&&!cc(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${uc(e.payload.variables)}`);if(null!=e.payload.operationName&&"string"!==uc(e.payload.operationName))throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${uc(e.payload.operationName)}`);if(null!=e.payload.extensions&&!cc(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${uc(e.payload.extensions)}`);break;case ac.Next:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${uc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!cc(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${uc(e.payload)}`);break;case ac.Error:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${uc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(t=e.payload,!(Array.isArray(t)&&t.length>0&&t.every((e=>"message"in e))))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break;case ac.Complete:if("string"!=typeof e.id)throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${uc(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break;default:throw new Error(`Invalid message 'type' property "${e.type}"`)}var t;return e}function dc(e,t){return fc(e),JSON.stringify(e,t)}function pc(e){return cc(e)&&"code"in e&&"reason"in e}!function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"}(oc||(oc={})),function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"}(ac||(ac={}));var hc=(e=>(e.DataPull="dataPull",e.DataPush="dataPush",e.LoginProvider="loginProvider",e))(hc||{}),gc=(e=>(e.AuthError="AuthError",e.CreationEvent="CreationEvent",e.InputError="InputError",e.JamApplicationError="JamApplicationError",e.NetworkError="NetworkError",e.RatelimitError="RatelimitError",e.UpdateEvent="UpdateEvent",e))(gc||{}),vc=(e=>(e.Completed="completed",e.Error="error",e.Failed="failed",e.Pending="pending",e))(vc||{}),mc=(e=>(e.Gcs="GCS",e.R2="R2",e.S3="S3",e))(mc||{}),yc=(e=>(e.CommentAttachments="CommentAttachments",e.Events="Events",e.Screenshot="Screenshot",e.Video="Video",e))(yc||{}),bc=(e=>(e.Cropped="cropped",e.Fullscreen="fullscreen",e))(bc||{}),wc=(e=>(e.Desktop="desktop",e.Tab="tab",e))(wc||{});const _c=vu`
    fragment GeneratedAttachment on GeneratedAttachment {
  ... on GeneratedAttachmentScreenRecording {
    ...GeneratedAttachmentScreenRecording
  }
  ... on GeneratedAttachmentScreenRecordingAsync {
    ...GeneratedAttachmentScreenRecordingAsync
  }
  ... on GeneratedAttachmentCroppedScreenshot {
    ...GeneratedAttachmentCroppedScreenshot
  }
  ... on GeneratedAttachmentFullScreenshot {
    ...GeneratedAttachmentFullScreenshot
  }
  ... on GeneratedAttachmentDelayedCroppedScreenshot {
    ...GeneratedAttachmentDelayedCroppedScreenshot
  }
  ... on GeneratedAttachmentDelayedFullScreenshot {
    ...GeneratedAttachmentDelayedFullScreenshot
  }
  ... on GeneratedAttachmentSessionRewind {
    ...GeneratedAttachmentSessionRewind
  }
}
    ${vu`
    fragment GeneratedAttachmentScreenRecording on GeneratedAttachmentScreenRecording {
  type
  url
  posterUrl
  fullscreenUrl
  previewThumbnailUrl
  width
  height
  viewport
}
    `}
${vu`
    fragment GeneratedAttachmentScreenRecordingAsync on GeneratedAttachmentScreenRecordingAsync {
  type
  fullscreenUrl
  posterUrl
  previewThumbnailUrl
  uploadedVideo {
    ...UploadedVideo
  }
  duration
  viewport
}
    ${vu`
    fragment UploadedVideo on UploadedVideo {
  id
  url
  status
  cloudflareMetadata {
    id
    preview
    width
    height
    duration
  }
}
    `}`}
${vu`
    fragment GeneratedAttachmentCroppedScreenshot on GeneratedAttachmentCroppedScreenshot {
  type
  url
  fullscreenUrl
  previewThumbnailUrl
}
    `}
${vu`
    fragment GeneratedAttachmentFullScreenshot on GeneratedAttachmentFullScreenshot {
  type
  url
  fullscreenUrl
}
    `}
${vu`
    fragment GeneratedAttachmentDelayedCroppedScreenshot on GeneratedAttachmentDelayedCroppedScreenshot {
  type
  url
  fullscreenUrl
  previewThumbnailUrl
  delayMs
}
    `}
${vu`
    fragment GeneratedAttachmentDelayedFullScreenshot on GeneratedAttachmentDelayedFullScreenshot {
  type
  url
  fullscreenUrl
  delayMs
}
    `}
${vu`
    fragment GeneratedAttachmentSessionRewind on GeneratedAttachmentSessionRewind {
  type
  url
  fullscreenUrl
}
    `}`,Sc=vu`
    fragment ThreadIntegration on ThreadIntegration {
  id
  name
  displayName
  status
  url
  objectId
  objectIdAlias
  openJamOnCreate
  fields {
    key
    label
    value {
      ... on IntegrationStringValue {
        type
        value
      }
      ... on IntegrationLabeledStringValue {
        type
        labeledValue {
          label
          value
        }
      }
      ... on IntegrationLabeledListValue {
        type
        labeledValues {
          label
          value
        }
      }
    }
  }
  events {
    type
    message
    occuredAt
    actor {
      ... on IntegrationActorJamUser {
        type
        userId
        data {
          id
          name
          email
        }
      }
      ... on IntegrationActorSystem {
        type
        service
      }
    }
  }
}
    `,Ec=vu`
    fragment DetectedLibs on DetectedLibsType {
  logrocket {
    installed
    sessionURL
  }
  sentry {
    installed
    environment
  }
}
    `,kc=vu`
    fragment Comment on JamComment {
  __typename
  id: uid
  uid
  message
  threadUid
  createdAt
  updatedAt
  edited
  deleted
  playbackRelativeTimestamp
  reactions {
    ...Reaction
  }
  attachments {
    id
    name
    type
    size
    source
  }
  author {
    id
    name
    email
    avatar
  }
}
    ${vu`
    fragment Reaction on Reaction {
  id
  emoji
  upvotedUsers {
    id
    name
  }
}
    `}`,xc=vu`
    fragment ThreadAuthor on User {
  id
  name
  avatar
  email
  verifiedAccount
  createdAt
}
    `,Tc=vu`
    fragment ThreadTicket on ThreadTicket {
  status
  priority
  modifiedAt
}
    `,Oc=vu`
    fragment PrivacyRule on PrivacyRule {
  objectId
  objectType
  policy
  domains
  emails
}
    `,Ac=(vu`
    fragment DashboardThread on Thread {
  id: uid
  uid
  type
  generatedAttachment {
    ...GeneratedAttachment
  }
  integrations {
    ...ThreadIntegration
  }
  createdAt
  summary
  detectedLibs {
    ...DetectedLibs
  }
  replayEvents {
    id
    duration
    isPlayable
    url
    status
  }
  comments {
    ...Comment
  }
  author {
    ...ThreadAuthor
  }
  ticket {
    ...ThreadTicket
  }
  team {
    id
    emoji
    name
    type
  }
  privacyRule {
    ...PrivacyRule
  }
}
    ${_c}
${Sc}
${Ec}
${kc}
${xc}
${Tc}
${Oc}`,vu`
    fragment BaseJam on BaseJam {
  id
  type
  originalUrl
  country
  timezoneLocation
  createdAt
  updatedAt
  author {
    ...JamAuthor
  }
  team {
    id
    name
    emoji
    type
  }
  systemInfo {
    browser {
      name
      version
    }
    os {
      name
      version
    }
    screenDimensions {
      width
      height
    }
    extension {
      version
    }
  }
  detectedLibs {
    logrocket {
      installed
      sessionURL
    }
    sentry {
      installed
      environment
    }
  }
  fullStoryUrl
  logRocketUrl
  privacyRule {
    ...PrivacyRule
  }
  comments {
    ...Comment
  }
}
    ${vu`
    fragment JamAuthor on JamAuthor {
  id
  name
  email
  avatar
  verifiedAccount
  createdAt
  updatedAt
}
    `}
${Oc}
${kc}`),Ic=vu`
    fragment Media on Media {
  id
  status
  contentType
  sizeBytes
  url
  createdAt
  updatedAt
}
    `,Cc=(vu`
    fragment Jam on Jam {
  ... on ScreenshotJam {
    ...ScreenshotJam
  }
  ... on VideoJam {
    ...VideoJam
  }
  ... on ReplayJam {
    ...ReplayJam
  }
}
    ${vu`
    fragment ScreenshotJam on ScreenshotJam {
  ...BaseJam
  data {
    id
    type
    delayMs
    media {
      ...Media
    }
    secondaryMedia {
      ...Media
    }
  }
}
    ${Ac}
${Ic}`}
${vu`
    fragment VideoJam on VideoJam {
  ...BaseJam
  data {
    id
    height
    width
    viewport
    durationMs
    media {
      ...Media
    }
    posterImageMedia {
      ...Media
    }
    cloudflareStream {
      id
      status
    }
  }
}
    ${Ac}
${Ic}`}
${vu`
    fragment ReplayJam on ReplayJam {
  ...BaseJam
  data {
    id
    media {
      ...Media
    }
    screenshotMedia {
      ...Media
    }
  }
}
    ${Ac}
${Ic}`}`,vu`
    fragment ThreadLocation on ThreadLocation {
  host
  path
  originalUrl
  cleanOriginalUrl
}
    `,vu`
    fragment Team on Team {
  id
  name
  emoji
  type
  roleType
  privacyRule {
    ...PrivacyRule
  }
  inviteLink {
    ...TeamInviteLink
  }
  createdAt
  updatedAt
  archived
  domains
  featureFlags
  members {
    id
    name
    avatar
    email
    status
    roleType
    verifiedAccount
  }
  policy
  settings {
    allowJamsSentExternally
    allowThreadsSentExternally
  }
  slug
}
    ${Oc}
${vu`
    fragment TeamInviteLink on TeamInviteLink {
  id
  key
  limit
  used
  expiresAt
  createdAt
}
    `}`),Pc=vu`
    fragment Me on User {
  id
  name
  avatar
  email
  featureFlags
  unsubscribePreferences
  milestones {
    createdThread
    createdSecondThread
    sharedThread
    dismissedExtension
  }
  notificationSettings {
    preference
  }
  verifiedAccount
  teams {
    ...Team
  }
  createdAt
}
    ${Cc}`,Dc=(vu`
    fragment SimpleTeam on Team {
  id
  name
  emoji
  featureFlags
  policy
  type
}
    `,vu`
    fragment Thread on Thread {
  id: uid
  uid
  type
  generatedAttachment {
    ...GeneratedAttachment
  }
  originalUrl
  summary
  ticket {
    ...ThreadTicket
  }
  integrations {
    ...ThreadIntegration
  }
  team {
    id
    emoji
    name
    type
  }
  privacyRule {
    ...PrivacyRule
  }
  comments {
    ...Comment
  }
  systemInfo {
    ...SystemInfo
  }
  detectedLibs {
    ...DetectedLibs
  }
  author {
    ...ThreadAuthor
  }
  createdAt
  replayEvents {
    id
    url
    duration
    isPlayable
    status
  }
  fullStoryUrl
  logRocketUrl
  timezoneLocation
  country
}
    ${_c}
${Tc}
${Sc}
${Oc}
${kc}
${vu`
    fragment SystemInfo on SystemInfoType {
  browser {
    ...BrowserOSType
  }
  os {
    ...BrowserOSType
  }
  screenDimensions {
    width
    height
  }
  extension {
    version
  }
}
    ${vu`
    fragment BrowserOSType on BrowserOSType {
  name
  version
}
    `}`}
${Ec}
${xc}`),Mc=(vu`
    fragment User on User {
  id
  name
  avatar
  email
  featureFlags
  createdAt
  defaultRewindBlocked
}
    `,vu`
    fragment UserMilestones on User {
  milestones {
    createdThread
    createdSecondThread
    sharedThread
    dismissedExtension
  }
}
    `,vu`
    mutation bulkRegisterMedia($teamId: String!, $items: [MediaRegistrationItemInput!]!) {
  bulkRegisterMedia(teamId: $teamId, items: $items) {
    items {
      key
      uploadUrl
      extraHeaders {
        name
        value
      }
      media {
        id
        provider
        status
        url
      }
    }
  }
}
    `),Rc=vu`
    mutation createReplay($jam: CreateReplayInput!, $comment: BasicCommentInput!, $integration: IntegrationDetailsInput) {
  createReplay(jam: $jam, comment: $comment, integration: $integration) {
    ... on BaseJam {
      id
    }
  }
}
    `,jc=vu`
    mutation createScreenshot($jam: CreateScreenshotInput!, $comment: BasicCommentInput!, $integration: IntegrationDetailsInput) {
  createScreenshot(jam: $jam, comment: $comment, integration: $integration) {
    ... on BaseJam {
      id
    }
    ... on ScreenshotJam {
      data {
        media {
          url
        }
      }
    }
  }
}
    `,Nc=vu`
    mutation createThread($thread: ThreadInput!, $comment: ThreadCommentInput!, $integration: IntegrationDetailsInput, $generatedAttachment: GeneratedAttachmentInput, $replayEvents: ReplayEventsInput) {
  createThread(
    thread: $thread
    comment: $comment
    integration: $integration
    generatedAttachment: $generatedAttachment
    replayEvents: $replayEvents
  ) {
    ...Thread
  }
}
    ${Dc}`,Lc=vu`
    mutation createVideo($jam: CreateVideoInput!, $comment: BasicCommentInput!, $integration: IntegrationDetailsInput) {
  createVideo(jam: $jam, comment: $comment, integration: $integration) {
    ... on BaseJam {
      id
    }
  }
}
    `,Uc=vu`
    mutation integrationEdit($integration: IntegrationDetailsInput!, $threadUid: String!, $message: String) {
  integrationEdit(
    integration: $integration
    threadUid: $threadUid
    message: $message
  ) {
    success
  }
}
    `,Bc=vu`
    mutation eventsUploadUrl($teamId: String!, $isPlayable: Boolean!, $durationSec: Float!) {
  eventsUploadUrl(
    teamId: $teamId
    isPlayable: $isPlayable
    durationSec: $durationSec
  ) {
    id
    url
  }
}
    `,Fc=vu`
    mutation updateUser($userData: UserInput!) {
  updateUser(userData: $userData) {
    ...Me
  }
}
    ${Pc}`,zc=vu`
    mutation videoUploadUrl($teamId: String!) {
  videoUploadUrl(teamId: $teamId) {
    id
    url
  }
}
    `,Kc=vu`
    query integrationAuthUrls($teamId: String!, $filter: IntegrationListFilter!, $ignoreTeamTypes: Boolean) {
  integrationList(
    teamId: $teamId
    filter: $filter
    ignoreTeamTypes: $ignoreTeamTypes
  ) {
    integrations {
      integrationName
      authorizationUrl
    }
  }
}
    `,Vc=vu`
    query integrationList($teamId: String!, $filter: IntegrationListFilter!, $ignoreTeamTypes: Boolean) {
  integrationList(
    teamId: $teamId
    filter: $filter
    ignoreTeamTypes: $ignoreTeamTypes
  ) {
    integrations {
      integrationName
      displayName
      description
      authorizationUrl
      internal
      userConfigured
      teamConfigured
      usedForLogin
      copyThreadLink
      descriptionFieldAlias
      commentSendAlias
      onSubmitUserMessage
      sortPriority
      openJamOnCreate
      allowConnecting
      workspaceName
      clipboardParts
      fileTypes {
        ... on IntegrationFileTypeAll {
          type
        }
        ... on IntegrationFileTypeRestricted {
          type
          value
        }
        ... on IntegrationFileTypeNone {
          type
        }
      }
      connectedTeam {
        ...Team
      }
      authScope
    }
  }
}
    ${Cc}`,Hc=vu`
    query me {
  me {
    ...Me
  }
}
    ${Pc}`,$c=vu`
    query threadIntegrations($threadUid: String!) {
  jamThread(threadUid: $threadUid) {
    uid
    comments {
      ... on JamComment {
        message
      }
    }
    generatedAttachment {
      ...GeneratedAttachment
    }
    replayEvents {
      id
      isPlayable
    }
    integrations {
      name
      displayName
      status
      url
      openJamOnCreate
      clipboardParts
      fields {
        key
        label
        value {
          ... on IntegrationStringValue {
            type
            value
          }
          ... on IntegrationLabeledStringValue {
            type
            labeledValue {
              label
              value
            }
          }
          ... on IntegrationLabeledListValue {
            type
            labeledValues {
              label
              value
            }
          }
        }
      }
      events {
        type
        message
        occuredAt
        actor {
          ... on IntegrationActorJamUser {
            type
            userId
            data {
              id
              email
              name
            }
          }
          ... on IntegrationActorSystem {
            type
            service
          }
        }
      }
    }
  }
}
    ${_c}`,qc=vu`
    subscription integrationListSubscription($teamId: String!, $filter: IntegrationListFilter!, $ignoreTeamTypes: Boolean) {
  integrationList(
    teamId: $teamId
    filter: $filter
    ignoreTeamTypes: $ignoreTeamTypes
  ) {
    integrations {
      integrationName
      userConfigured
      teamConfigured
      usedForLogin
      allowConnecting
      workspaceName
      connectedTeam {
        ...Team
      }
      authScope
    }
  }
}
    ${Cc}`,Wc=vu`
    subscription userSubscription($userId: String!) {
  user(userId: $userId) {
    ...Me
  }
}
    ${Pc}`;let Gc,Jc;function Xc(){const{headers:e,url:t}=Zc();return new rc.GraphQLClient(t,{fetch,headers:e,credentials:"include"})}function Qc(){if(Gc)return Gc;const e=Xc(),t=(n=async(t,n)=>e.request(t,n),{bulkRegisterMedia:(e,t)=>n(Mc,e),createReplay:(e,t)=>n(Rc,e),createScreenshot:(e,t)=>n(jc,e),createThread:(e,t)=>n(Nc,e),createVideo:(e,t)=>n(Lc,e),integrationEdit:(e,t)=>n(Uc,e),eventsUploadUrl:(e,t)=>n(Bc,e),updateUser:(e,t)=>n(Fc,e),videoUploadUrl:(e,t)=>n(zc,e),integrationAuthUrls:(e,t)=>n(Kc,e),integrationList:(e,t)=>n(Vc,e),me:(e,t)=>n(Hc,e),threadIntegrations:(e,t)=>n($c,e),integrationListSubscription:(e,t)=>n(qc,e),userSubscription:(e,t)=>n(Wc,e)});var n;return Gc=t,Gc}function Yc(){if(Jc)return Jc;const{headers:e}=Zc();return Jc=function(e){const{url:t,connectionParams:n,lazy:r=!0,onNonLazyError:i=console.error,lazyCloseTimeout:o=0,keepAlive:a=0,disablePong:s,connectionAckWaitTimeout:u=0,retryAttempts:c=5,retryWait:l=async function(e){let t=1e3;for(let n=0;n<e;n++)t*=2;await new Promise((e=>setTimeout(e,t+Math.floor(2700*Math.random()+300))))},shouldRetry:f=pc,isFatalConnectionProblem:d,on:p,webSocketImpl:h,generateID:g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},jsonMessageReplacer:v,jsonMessageReviver:m}=e;let y;if(h){if(!("function"==typeof(b=h)&&"constructor"in b&&"CLOSED"in b&&"CLOSING"in b&&"CONNECTING"in b&&"OPEN"in b))throw new Error("Invalid WebSocket implementation provided");y=h}else"undefined"!=typeof WebSocket?y=WebSocket:"undefined"!=typeof global?y=global.WebSocket||global.MozWebSocket:"undefined"!=typeof window&&(y=window.WebSocket||window.MozWebSocket);var b;if(!y)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const w=y,_=(()=>{const e=(()=>{const e={};return{on:(t,n)=>(e[t]=n,()=>{delete e[t]}),emit(t){var n;"id"in t&&(null===(n=e[t.id])||void 0===n||n.call(e,t))}}})(),t={connecting:(null==p?void 0:p.connecting)?[p.connecting]:[],opened:(null==p?void 0:p.opened)?[p.opened]:[],connected:(null==p?void 0:p.connected)?[p.connected]:[],ping:(null==p?void 0:p.ping)?[p.ping]:[],pong:(null==p?void 0:p.pong)?[p.pong]:[],message:(null==p?void 0:p.message)?[e.emit,p.message]:[e.emit],closed:(null==p?void 0:p.closed)?[p.closed]:[],error:(null==p?void 0:p.error)?[p.error]:[]};return{onMessage:e.on,on(e,n){const r=t[e];return r.push(n),()=>{r.splice(r.indexOf(n),1)}},emit(e,...n){for(const r of[...t[e]])r(...n)}}})();function S(e){const t=[_.on("error",(n=>{t.forEach((e=>e())),e(n)})),_.on("closed",(n=>{t.forEach((e=>e())),e(n)}))]}let E,k,x=0,T=!1,O=0,A=!1;async function I(){clearTimeout(k);const[e,r]=await(null!=E?E:E=new Promise(((e,r)=>(async()=>{if(T){if(await l(O),!x)return E=void 0,r({code:1e3,reason:"All Subscriptions Gone"});O++}_.emit("connecting");const i=new w("function"==typeof t?await t():t,"graphql-transport-ws");let o,c;function f(){isFinite(a)&&a>0&&(clearTimeout(c),c=setTimeout((()=>{i.readyState===w.OPEN&&(i.send(dc({type:ac.Ping})),_.emit("ping",!1,void 0))}),a))}S((e=>{E=void 0,clearTimeout(o),clearTimeout(c),r(e),pc(e)&&4499===e.code&&(i.close(4499,"Terminated"),i.onerror=null,i.onclose=null)})),i.onerror=e=>_.emit("error",e),i.onclose=e=>_.emit("closed",e),i.onopen=async()=>{try{_.emit("opened",i);const e="function"==typeof n?await n():n;if(i.readyState!==w.OPEN)return;i.send(dc(e?{type:ac.ConnectionInit,payload:e}:{type:ac.ConnectionInit},v)),isFinite(u)&&u>0&&(o=setTimeout((()=>{i.close(oc.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")}),u)),f()}catch(e){_.emit("error",e),i.close(oc.InternalClientError,lc(e instanceof Error?e.message:new Error(e).message,"Internal client error"))}};let d=!1;i.onmessage=({data:t})=>{try{const n=function(e,t){return fc("string"==typeof e?JSON.parse(e,t):e)}(t,m);if(_.emit("message",n),"ping"===n.type||"pong"===n.type)return _.emit(n.type,!0,n.payload),void("pong"===n.type?f():s||(i.send(dc(n.payload?{type:ac.Pong,payload:n.payload}:{type:ac.Pong})),_.emit("pong",!1,n.payload)));if(d)return;if(n.type!==ac.ConnectionAck)throw new Error(`First message cannot be of type ${n.type}`);clearTimeout(o),d=!0,_.emit("connected",i,n.payload),T=!1,O=0,e([i,new Promise(((e,t)=>S(t)))])}catch(e){i.onmessage=null,_.emit("error",e),i.close(oc.BadResponse,lc(e instanceof Error?e.message:new Error(e).message,"Bad response"))}}})())));e.readyState===w.CLOSING&&await r;let i=()=>{};const c=new Promise((e=>i=e));return[e,i,Promise.race([c.then((()=>{if(!x){const t=()=>e.close(1e3,"Normal Closure");isFinite(o)&&o>0?k=setTimeout((()=>{e.readyState===w.OPEN&&t()}),o):t()}})),r])]}function C(e){if(pc(e)&&(t=e.code,![1e3,1001,1006,1005,1012,1013,1013].includes(t)&&t>=1e3&&t<=1999||[oc.InternalServerError,oc.InternalClientError,oc.BadRequest,oc.BadResponse,oc.Unauthorized,oc.SubprotocolNotAcceptable,oc.SubscriberAlreadyExists,oc.TooManyInitialisationRequests].includes(e.code)))throw e;var t;if(A)return!1;if(pc(e)&&1e3===e.code)return x>0;if(!c||O>=c)throw e;if(!f(e))throw e;if(null==d?void 0:d(e))throw e;return T=!0}return r||(async()=>{for(x++;;)try{const[,,e]=await I();await e}catch(e){try{if(!C(e))return}catch(e){return null==i?void 0:i(e)}}})(),{on:_.on,subscribe(e,t){const n=g(e);let r=!1,i=!1,o=()=>{x--,r=!0};return(async()=>{for(x++;;)try{const[a,s,u]=await I();if(r)return s();const c=_.onMessage(n,(e=>{switch(e.type){case ac.Next:return void t.next(e.payload);case ac.Error:return i=!0,r=!0,t.error(e.payload),void o();case ac.Complete:return r=!0,void o()}}));return a.send(dc({id:n,type:ac.Subscribe,payload:e},v)),o=()=>{r||a.readyState!==w.OPEN||a.send(dc({id:n,type:ac.Complete},v)),x--,r=!0,s()},void await u.finally(c)}catch(e){if(!C(e))return}})().then((()=>{i||t.complete()})).catch((e=>{t.error(e)})),()=>{r||o()}},async dispose(){if(A=!0,E){const[e]=await E;e.close(1e3,"Normal Closure")}},terminate(){E&&_.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}({retryAttempts:75,retryWait:el,url:se.v.GRAPHQL_URL_WS,keepAlive:2e4,connectionParams:()=>({headers:e})}),Jc}function Zc(){const e=new Headers,t=se.v.GRAPHQL_URL;return se.v.EXT_VERSION&&e.set("X-JAM-EXT-VERSION",se.v.EXT_VERSION),{headers:e,url:t}}async function el(e){const t=e*e*p.X.Second+(e=>Math.round(Math.random()*e*p.X.Second))(e);D.k.warn(`Websocket connection interrupted. Attempting to reconnect in ${p.X.toSeconds(t)}s, attempt ${e}`),await(0,sc.g)(t)}var tl=n(13005);const nl=La("local");async function rl(e){const t=new URL("https://8wvzuv0oszm.typeform.com/to/g2BovQAw"),n=await nl.getItem("lastUsedCaptureMode"),r=await Qu().runtime.getPlatformInfo();t.searchParams.set("browser_extension_version",Qu().runtime.getManifest().version),t.searchParams.set("os",r.os),t.searchParams.set("ram",String(navigator.deviceMemory??"unknown")),t.searchParams.set("browser",(()=>{const e=navigator.userAgent;switch(!0){case e.includes("Edg/"):return"Edge";case e.includes("Chrome/"):return"Chrome";case e.includes("Safari/"):return"Safari";default:return e}})()),"string"==typeof n&&t.searchParams.set("last_capture_mode",n),e.email&&t.searchParams.set("email",e.email),Qu().runtime.setUninstallURL(t.toString())}let il;function ol(e){e&&il&&e.id===il.id&&il.email||(il=e,e?(tl.fy.addLoggerGlobalContext("userId",e.id),rl({userId:e.id,email:e.email,signUpTimestamp:e.createdAt})):(tl.fy.removeLoggerGlobalContext("user"),rl({})))}const al=(...e)=>{(0,Hu.Q)($u.M.Test)||D.k.warn(...e)},sl=(0,Hu.Q)($u.M.Test),ul=sl?Date.now.bind(Date):performance.now.bind(performance);function cl(e,n){return(...r)=>{const i=ul(),a=e(...r),s=()=>{const e=ul()-i;e>n.alertThreshold&&o(n.functionName+"_alert-logging",(()=>{const t={eventType:"performance-function-timing",functionName:n.functionName,duration:e,alertThreshold:n.alertThreshold,excessDuration:e-n.alertThreshold};al("Function time exceeded expected duration",t)}),t.ImmediateThenWait,sl?0:2e3)};return a instanceof Promise?a.finally(s):s(),a}}var ll=n(79556),fl=n(10648),dl=n(34519),pl=n.n(dl);async function hl(e){return(await fetch(e)).text()}let gl;const vl=["No tab with id","No frame with id","The tab was closed","The frame was removed","about:blank","and matchAboutBlank must be true"],ml=["devtools://","ExtensionsSettings policy","extensions gallery","Extension manifest must request permission"];async function yl(e){const t=e?.file?{frameId:e.frameId,runAt:e.runAt,file:e.file}:{frameId:e.frameId,runAt:e.runAt,code:e.code};try{return Qu().tabs.executeScript(e.tabId,t)}catch(e){const t=`${e}`;if(ml.some((e=>t.includes(e))))throw e;if(vl.some((e=>t.includes(e))))throw e;throw D.k.error(`jam:injection: ${t}`),e}}const bl=cl((async(e,t,n)=>{const r=t.allowRrwebSnapshot&&n;var i;return{hostScripts:((...e)=>e.join(";\n"))((i=[e.scriptUrls.hostRrwebNetwork,e.scriptUrls.hostRrwebConsole,e.scriptUrls.hostAdditionalHooks,r&&e.scriptUrls.hostRrwebSnapshot].filter(ll.N6),`window.__JAM_INJECTED_SCRIPT_URLS__=${JSON.stringify(i)}`),e.scriptData.rrwebForwarder)}}),{functionName:"encodeInjectedScripts",alertThreshold:500});function wl(e,t,n){var r,i,o,a,s,c;(!function(e){return Boolean(e.parentFrameId)&&Boolean(e.transitionType)}(c=e)?"parentFrameId"in c:-1!==c.parentFrameId)||n((r=e.timeStamp,i=e.url,o=e.transitionQualifiers,a=e.transitionType,s=t,{timestamp:Date.now(),jamType:b.NavigationEvent,type:u.Custom,data:{tag:"",payload:{eventSource:s,url:i,transitionQualifiers:o,transitionType:a,originalTimestamp:r,step:R.Input}}}))}async function _l(e,t){return t.transitionQualifiers.includes("forward_back")?(0===t.frameId&&e.getTab(t.tabId)?.globalTabState?.injectionLifecycle.setState(as.UnknownDueToBackNavigation),void D.k.debug(`jam:injection - used forward or back navigation on ${t.tabId} to ${t.url}.\n      Waiting until onCompleted to decide whether to inject, based on script response.`)):zl({context:"onCommitted",tabsManager:e,tabId:t.tabId,frameId:t.frameId,url:t.url})}async function Sl(e,t){const n=e.getTab(t.tabId)?.globalTabState,r=n?.injectionLifecycle.state;if(r!==as.UnknownDueToBackNavigation)return;let i=!1;try{await Yu().send({eventName:"Ping",dest:{tabId:t.tabId,component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi},payload:!0,timeout:p.X.Second}),i=!0}catch{}if(D.k.info("jam:injection","forward or back button was used for navigation. "+(i?"skipping (jam already exists)":"NOT skipping (content script did not reply)")),!i)return zl({context:"onCompleted",tabsManager:e,tabId:t.tabId,frameId:t.frameId,url:t.url});n?.injectionLifecycle.setState(as.Injected)}function El(e,n){const r=n.specificObjectName??n.generalObjectName,i=()=>{const i=e();i>n.alertThreshold&&o(r+"_alert-logging",(()=>{const e={...n.additionalLogInfo,eventType:"performance-object-sizing",generalObjectName:n.generalObjectName,specificObjectName:n.specificObjectName,size:i,alertThreshold:n.alertThreshold,excessSize:i-n.alertThreshold};al("Object size exceeded expected count",e)}),t.ImmediateThenWait,(0,Hu.Q)($u.M.Test)?0:5e3)};n.debounceDuration?o(r,i,t.ImmediateThenWait,n.debounceDuration):i()}class kl{constructor(...e){this.writers=e}setupTabState(e){this.writers.forEach((t=>t.setupTabState(e)))}removeTabState(e){this.writers.forEach((t=>t.removeTabState(e)))}addEvent(e,t){this.writers.forEach((n=>{n.addEvent(e,t)}))}}var xl=n(9850),Tl=n.n(xl);Array.prototype.findLastIndex||(Array.prototype.findLastIndex=function(e){for(let t=this.length-1;t>=0;t--)if(e(this[t],t,this))return t;return-1});const Ol=2*p.X.Minute,Al=10*p.X.Minute;class Il{constructor(e){this.tabEventsState=new Map,this.addEvent=cl(((e,t)=>{const n=function(e){const t=JSON.stringify(e);return new Blob([t],{type:"application/json"}).size}(t),r={...t,eventSize:n};if(!this.opts.shouldAcceptEvent(r))return;const i=this.tabEventsState.get(e);if(El((()=>this.tabEventsState.size),{generalObjectName:"replayEventsManagerTabEventsMap",specificObjectName:`replayEventsManagerTabEventsMap_${this.name}`,alertThreshold:400,debounceDuration:p.X.Minute}),i&&(i.shouldAcceptSessionReplayEvents||!k(r)))try{k(r)?(i.sessionReplayEvents.push(r),El((()=>i.sessionReplayEvents.getAsUntrimmedArray().length),{generalObjectName:"replayEventsManagerTabSessionReplayEventsList",specificObjectName:`replayEventsManagerTabSessionReplayEventsList_${this.name}_${e}`,alertThreshold:4400,debounceDuration:p.X.Minute})):(i.nonSessionReplayEvents.push(r),El((()=>i.nonSessionReplayEvents.getAsUntrimmedArray().length),{generalObjectName:"replayEventsManagerTabNonSessionReplayEventsList",specificObjectName:`replayEventsManagerTabNonSessionReplayEventsList_${this.name}_${e}`,alertThreshold:4400,debounceDuration:p.X.Minute}))}catch(e){throw new Error(`rrweb event type ${u[r.type]}: ${e}`)}}),{functionName:"addEventForTabId",alertThreshold:500}),this.getFinalEventsForTabId=cl((e=>{const t=this.tabEventsState.get(e);if(!t)return;const n=this.getEventsForTabId(e);return n?n.concat([{...(r={tag:"were-rewind-events-flushed-for-this-tab",payload:t.haveSessionReplayEventsBeenFlushedForThisTab},{type:u.Custom,hostname:void 0,data:{tag:r.tag,payload:r.payload},timestamp:Date.now()})}]).sort(((e,t)=>e.timestamp-t.timestamp)):n;var r}),{functionName:"freezeEventsForTabId",alertThreshold:500}),this.opts=e}get name(){return this.opts.name}setupTabState(e){this.tabEventsState.has(e)||this.tabEventsState.set(e,{haveSessionReplayEventsBeenFlushedForThisTab:!1,shouldAcceptSessionReplayEvents:!0,sessionReplayEvents:new M(new s(4e3,p.X.Minute),Ol+70*p.X.Second),nonSessionReplayEvents:new M(new s(4e3,p.X.Minute),Al),cleanup:Bn((()=>{qu.isRewindDisabledForTab(e)?this.flushAndDisableSessionReplayEvents(e):this.allowSessionReplayEvents(e)}))})}removeTabState(e){const t=this.tabEventsState.get(e);t&&(t.sessionReplayEvents.clear(),t.nonSessionReplayEvents.clear(),t.cleanup(),this.tabEventsState.delete(e))}getEventsForTabId(e){const t=this.tabEventsState.get(e);if(!t)return;const n=[...Tl()(t.sessionReplayEvents.getAsUntrimmedArray()??[]),...Tl()(t.nonSessionReplayEvents.getAsUntrimmedArray()??[])].sort(((e,t)=>e.timestamp-t.timestamp));return 0===n.length?[]:n.map((e=>(delete e.eventSize,e)))}flushAndDisableSessionReplayEvents(e){const t=this.tabEventsState.get(e);t&&(t.haveSessionReplayEventsBeenFlushedForThisTab=!0,t.shouldAcceptSessionReplayEvents=!1,t.sessionReplayEvents.clear())}allowSessionReplayEvents(e){const t=this.tabEventsState.get(e);t&&(t.shouldAcceptSessionReplayEvents=!0)}snapshotSize(e){const t={totalTime:0,totalSize:0,lastMinuteSize:0,hostname:"unset"},n=this.tabEventsState.get(e);if(!n)return;const r=n.sessionReplayEvents.getAsUntrimmedArray();if(0===r.length)return;const i=r[r.length-1];if(!i?.hostname)return;const o=1+r.findLastIndex((e=>e.hostname!==i.hostname)),a=r.slice(o);t.hostname=i.hostname,a.forEach((e=>t.totalSize+=e.eventSize));const s=a[0]?.timestamp??0,u=a[a.length-1]?.timestamp??0;t.totalTime=u-s;const c=s-p.X.Minute,l=a.findIndex(((e,t)=>e.timestamp>=c&&a[t-1]&&a[t-1].timestamp<c));if(-1!==l){t.lastMinuteSize=0;for(let e=l;e<a.length;e++)t.lastMinuteSize+=a[e].eventSize}return t}}const Cl=new Il({name:"SessionReplayEventsManager",shouldAcceptEvent:e=>!(q.isInteractivityEventInput(e)||q.isCaptureEventScreenshot(e)||q.isCaptureEventVideo(e)||q.isNavigationEventInput(e))}),Pl={name:"ScreenshotReplayEventsManager",shouldAcceptEvent:cl((e=>!q.isInteractivityEventInput(e)&&!q.isNavigationEventInput(e)&&(q.isCaptureEventScreenshot(e)||q.isNavigationEventOutput(e)||_(e)||S(e)||E(e)||T(e))),{functionName:"shouldAcceptEvent_screenshot",alertThreshold:500})},Dl=new Il(Pl),Ml=new Il({name:"VideoReplayEventsManager",shouldAcceptEvent:cl((e=>!q.isInteractivityEventInput(e)&&!q.isNavigationEventInput(e)&&Pl.shouldAcceptEvent(e)),{functionName:"shouldAcceptEvent_video",alertThreshold:500})});function Rl(e){return{[F.Screenshot]:Dl,[F.Video]:Ml,[F.Rewind]:Cl,[F.Idle]:null,[F.Processing]:null}[e]}function jl(e){return{getEvents:async t=>e.getFinalEventsForTabId(t)??[]}}function Nl(e){if(!qu)return;if(0!==e.frameId)return;const t=qu.getTab(e.tabId);t&&(new URL(e.url).hostname!==t.hostname&&t.resetRewindPerformanceCalculationOnNavigation(),t.setUrl(e.url))}const Ll=[{host:/^(.*\.)*facebook\.com$/}],Ul=new RegExp(Ll.map((e=>e.host.source)).join("|")),Bl="brave"in navigator?["http:","https:"]:["http:","https:","ws:","wss:"];function Fl(e,t,n){if(-1===e&&!n)return!0;if(0===e)return!0;if(""===t)return!0;const r=new URL(t);return!Bl.includes(r.protocol)}async function zl(e){const{context:t,tabsManager:n,tabId:r,url:i}=e;let o=e.frameId;"all"===o&&(o=0);const a=0===o;if(a&&(n.getTab(r)?.globalTabState?.injectionLifecycle.reset(),!function(e,t,n){return!!Fl(t,n)||!e.auth.isLoggedIn||(e=>!se.v.DISABLE_ORIGIN_BLOCKING&&!!e&&!!Ul.test(e.host)&&Ll.some((t=>!!t.host.test(e.host)&&(!t.path||t.path.test(e.pathname)))))(new URL(n))}(qu,r,i))){n.onBeforeContentScriptInjected(r,i,t);try{const e=n.getTab(r)?.globalTabState;if(!e)throw new ReferenceError("Tab state not setup! A state management setup failure occurred during the script injection flow");const s=!a||qu.preferences.rewindBlocklist.isUrlBlocked(i),u=qu.preferences.captureInteractivityEvents;e.injectionLifecycle.setState(as.Injecting),await async function(e,t,n,r){const i=await async function(){if(gl&&!(0,fl.J)($u.q.Development))return gl;const e=pl()({jamUi:"jam-ui",rrwebForwarder:"rrweb-forwarder",contentEventListeners:"content-event-listeners",contentRrwebSnapshot:"content-rrweb-snapshot",hostRrwebConsole:"jam-console-devtools",hostRrwebSnapshot:"host-rrweb-snapshot",hostRrwebNetwork:"host-rrweb-network",hostAdditionalHooks:"host-additional-hooks"},(e=>"injected-scripts/"+e+".js")),t=pl()(e,(e=>Qu().runtime.getURL(e))),n=pl()(e,(e=>Qu().runtime.getURL(e+".map"))),r=Object.values(n),i=pl()(t,hl),o=await async function(e){const t={},n=Object.keys(e).map((async n=>{const r=n;t[r]=await e[r]}));return await Promise.all(n),t}(i),a={scriptUrls:t,scriptData:o,relativeScriptPaths:e,mapUrls:r};return gl=a,a}(),o=0===t,a=await bl(i,r,o),s=[o&&r.allowRrwebSnapshot?yl({file:i.relativeScriptPaths.contentRrwebSnapshot,tabId:n,frameId:t,runAt:"document_start"}):Promise.resolve(["Did not execute rrweb snapshot"]),yl({code:a.hostScripts,tabId:n,frameId:t,runAt:"document_start"}),o?yl({file:i.relativeScriptPaths.jamUi,tabId:n,frameId:t,runAt:"document_idle"}):Promise.resolve(["Did not execute jam UI"]),o&&r.allowCaptureInteractivityEvents?yl({file:i.relativeScriptPaths.contentEventListeners,tabId:n,frameId:t,runAt:"document_start"}):Promise.resolve([`Did not execute ${Ku.ContentScripts.EventListeners}`])];D.k.debug(`jam:injection: Injecting scripts for tab(${n}) frame(${t}) from context(${e})`),await Promise.all(s)}(t,o,r,{allowRrwebSnapshot:!s,allowCaptureInteractivityEvents:u}),e.injectionLifecycle.setState(as.Injected)}catch(e){n.getTab(r)?.globalTabState?.injectionLifecycle.setState(as.InjectionFailed)}}}async function Kl(e){const{tabsManager:t,store:n,forceAuthCheck:r}=e,i=await async function(e,t){const n=e.auth.isLoggedIn,r=e.auth.isLoggedInLastChecked,i=Date.now()-p.X.Hour,o=!r||r.getTime()<i;let a,s=n&&!o;if(!o&&!t)return s;try{a=(await Qc().me()).me,s=!!a?.id}catch(e){if(e instanceof rc.ClientError&&e.response.status>=500)return s}return e.auth.setIsLoggedIn(s),a?(e.setUser(ic(a)),ol({id:a.id,email:a.email,createdAt:a.createdAt}),s):(e.removeUser(),e.removeLastSelected(),ol(void 0),La("local").removeItem(ue.PER_PROFILE_INJECTED_SCRIPTS_VERSIONED),s)}(n,r);if(i){const r=e.activeTab??await nc();if(!r?.id||!r?.url)return i;if(n.getTab(r.id)?.hasJamBeenInjected)return i;await zl({context:"injectAfterUserValidation",tabsManager:t,tabId:r.id,frameId:"all",url:r.url})}return i}const Vl=new URL(se.v.DASH_URL);function Hl(e){return t=>{t.cookie.domain==="."+Vl.hostname&&"jam_user_token"===t.cookie.name&&Wu.then((t=>Kl({store:t,forceAuthCheck:!0,tabsManager:e})))}}async function $l(e,t,n){let r=n?await Qu().tabs.get(n):void 0;r||(r=(await Qu().tabs.query({active:!0,windowType:"normal"}))[0]);const i=r?r.index+1:0;return Qu().tabs.create({url:e,active:t,index:i})}const ql=Qu().browserAction??Qu().action;function Wl(){ql.setIcon({tabId:void 0,path:{16:"assets/icon16-on.png",32:"assets/icon32-on.png",64:"assets/icon64-on.png",128:"assets/icon128-on.png"}})}function Gl(e,t,n){"PING"===e&&n(!0)}function Jl(e){return`jam-content-script-${e}-v1`}function Xl(e,t){t.forEach((t=>{t.onTabCreate?.(e)}))}function Ql(e){return async function(t){t.id&&Xl(t.id,e.plugins)}}function Yl(e){return function(t){e.tabsManager.eventsPipeline.writer.removeTabState(t),e.tabsManager.eventsPipeline.readers.draft.screenshot.removeTabState?.(t),e.tabsManager.eventsPipeline.readers.draft.video.removeTabState?.(t),e.tabsManager.eventsPipeline.readers.draft.replay.removeTabState?.(t),e.tabsManager.rrwebEventMerger.clearBufferedBackgroundEvents(t),Qu().storage.local.remove(Jl(t)),e.tabsManager.onTabRemove(t),e.plugins.forEach((e=>{e.onTabRemove?.(t)}))}}async function Zl(e,t){t!==Qu().windows.WINDOW_ID_NONE&&"normal"===(await Qu().windows.get(t)).type&&(await Qu().tabs.query({windowId:t,active:!0})).filter((e=>!!e.id)).forEach((n=>ef(e,{tabId:n.id,windowId:t})))}async function ef(e,t){const[n,r]=await Promise.all([Wu,Qu().tabs.get(t.tabId)]);n.setActiveTabId(t.tabId);const i="loading"===r.status,o=e.getTab(t.tabId)?.globalTabState?.hasJamBeenInjected;if(!o&&!i&&r.url)try{await zl({context:"onActivated",tabsManager:e,tabId:t.tabId,frameId:"all",url:r.url})}catch(e){D.k.info("jam:setup: Failed to inject scripts on tab activated",e)}}async function tf(e){const t=e[0]?.id;(await Wu).setActiveTabId(t)}const nf=new class{constructor(){this.browserIdHolder=new Map,this.completedOptionRequests=new Map}setRequest(e){const n=e.requestId;this.browserIdHolder.set(n,e),o("delete-request-"+n,(()=>{this.deleteRequest(e)}),t.WaitThenRunLast,p.X.Minute)}deleteRequest(e){const t=e.requestId;a("delete-request-"+t),this.browserIdHolder.delete(t)}setOptionsRequest(e){this.completedOptionRequests.set(e.requestId,e),o("delete-options-request-"+e.requestId,(()=>this.deleteOptionsRequest(e)),t.WaitThenRunLast,1*p.X.Second)}deleteOptionsRequest(e){a("delete-options-request-"+e.requestId),this.completedOptionRequests.delete(e.requestId)}findRelatedOptionsRequest(e){for(const[,t]of this.completedOptionRequests.entries()){const n=(e.startTime??0)-(t.endTime??0),r=100;if(e.url===t.url&&n>0&&n<r)return t}}upsert(e,t){const n={...this.browserIdHolder.get(e.requestId),...e};return t&&Object.keys(t).forEach((e=>{const r=e;void 0===n[r]&&(n[r]=t[r])})),this.setRequest(n),n}commit(e){const t={...this.browserIdHolder.get(e.requestId),...e};if("OPTIONS"===t.method&&this.setOptionsRequest(t),"net::ERR_FAILED"===t.error){const e=this.findRelatedOptionsRequest(t);e&&(t.relatedOptionsRequest=e,this.deleteOptionsRequest(e))}return this.deleteRequest(t),t}};function rf(e){Fl(e.tabId,e.url)||nf.upsert({...e,startTime:e.timeStamp})}function of(e){Fl(e.tabId,e.url)||nf.upsert(e,{startTime:e.timeStamp})}function af(e,t){return{frameId:e.frameId,jamTaggedId:void 0,entry:cf(e),timeOrigin:e.startTime??Date.now(),fetchDetails:{cached:e.fromCache,method:e.method,status:e.statusCode,statusText:e.statusLine??"",requestHeaders:uf(e.requestHeaders),responseHeaders:uf(e.responseHeaders),error:e.error,requestBody:void 0,responseBody:void 0,responseBodySize:void 0,responseMimeType:void 0,requestBodySize:void 0,requestMimeType:void 0},source:"background",sourceSuffix:t?"end":"start",complete:t,corsOptionsRequest:e.relatedOptionsRequest?af(e.relatedOptionsRequest,!0):void 0}}const sf={[as.NotInjected]:w.InjectionSkipped,[as.Injecting]:w.InjectionOccurring,[as.Injected]:w.InjectionRace,[as.InjectionFailed]:w.InjectionFailed,[as.UnknownDueToBackNavigation]:w.InjectionRace};function uf(e){if(!e)return{};const t={};return e.forEach((e=>{t[e.name]?t[e.name]+="; "+e.value:t[e.name]=e.value??""})),t}function cf(e){const t=e.startTime??Date.now(),n=e.endTime,r=t&&n?n-t:void 0;return{absoluteStart:t,name:e.url,duration:r,entryType:"resource",startTime:t,connectEnd:void 0,connectStart:void 0,decodedBodySize:void 0,domainLookupEnd:void 0,domainLookupStart:void 0,encodedBodySize:void 0,fetchStart:t,initiatorType:e.type,nextHopProtocol:"unknown",redirectEnd:void 0,redirectStart:void 0,requestStart:t,responseEnd:n,responseStart:t,secureConnectionStart:void 0,serverTiming:void 0,transferSize:void 0,workerStart:void 0}}async function lf(e,t,n){if(Fl(n.tabId,n.url))return;nf.upsert({...n,endTime:n.timeStamp},{startTime:n.timeStamp});const r=t.getTab(n.tabId)?.globalTabState?.injectionLifecycle;var i,o;const a=(i=af(nf.commit(n),!0),s=(o=r)?(i.mergeHint=sf[o.state],o.marks.network&&o.marks.network<i.timeOrigin&&(i.mergeHint=w.OK),i):(i.mergeHint=w.Unknown,i),{type:u.Plugin,timestamp:s.entry.startTime??Date.now(),hostname:void 0,data:{payload:s,plugin:v}});var s;e.handleBackgroundRrwebEvent(n.tabId,a)}const ff=`${se.v.DASH_URL} blob: i.imgur.com data:`;function df(e,t,n){return e[t]?(e[t]=function(e,t){const n=new Set;return e.concat(t).reduce(((e,t)=>(n.has(t)||(n.add(t),e.push(t)),e)),[])}(e[t],n),e):e}const pf="Timing-Allow-Origin".toLowerCase();function hf(e){if(Fl(e.tabId,e.url,!0))return;const t=e.responseHeaders?.map((t=>function(e,t){const n=e.name.toLowerCase();if("content-security-policy"===n||"content-security-policy-report-only"===n){const n=e.value??"",{value:r,error:i}=function(e){if(e.includes("default-src:"))return{value:e,error:!0};let t=e.trim().split(";").reduce(((e,t)=>{const n=t.trim().split(/\s+/);if(0===n.length)return e;const r=n[0];return""===r||(e[r]=n.slice(1)),e}),{});const n=ff.split(" ");return t=df(t,"frame-src",n),t=df(t,"script-src",n),t=df(t,"font-src",["data:"]),t=df(t,"img-src",n),t=df(t,"media-src",n),t=function(e,t,n){return e[t]?(e[t]=e[t].filter((e=>!n.includes(e))),e):e}(t,"child-src",['"none"',"'none'"]),t=df(t,"child-src",n),t=df(t,"default-src",n),{value:(r=t,Object.keys(r).map((e=>`${e} ${r[e].join(" ")}`.trim())).join(";")),error:!1};var r}(n);if(i){const n=`Jam spotted incorrect Content-Security-Policy: ${e.value}, when inspecting url: ${t}`;D.k.warn(n)}return{...e,value:r}}return e}(t,e.url)));return function(e){if(!e)return;const t=e.findIndex((e=>e.value?.toLowerCase()===pf));-1===t?e.push({name:"Timing-Allow-Origin",value:"*"}):e[t]={...e[t],value:"*"}}(t),nf.upsert({...e,responseHeaders:t}),{responseHeaders:t}}function gf(e){return se.v.IN_FIREFOX_BUILD?e.filter((e=>"extraHeaders"!==e)):e}function vf(e){qu.preferences.recording.audio.setPermissionState(e.state)}async function mf(e){const{hostname:t,protocol:n}=new URL(se.v.DASH_URL),r=await Qu().permissions.contains({permissions:["tabs"],origins:[`${n}//*.${t}/`]});return e.auth.setHasAccessToJamSite(r),r}function yf(e){if(0===e.length)return[];const t=e[0].timestamp,n=e[e.length-1].timestamp;return e.unshift(bf(te.Start,t-10)),e.push(bf(te.Stop,n+10)),e}const bf=(e,t)=>({jamType:b.CaptureEvent,timestamp:t,type:u.Custom,data:{tag:"",payload:{captureMode:F.Rewind,mark:e}}});function wf(e){return 0===e.length?[]:(e.push({jamType:b.CaptureEvent,timestamp:e[e.length-1].timestamp,type:u.Custom,data:{tag:"",payload:{captureMode:F.Screenshot}}}),e)}async function _f(e){const{broker:t,tabId:n,eventsWriter:r}=e;let i;try{i=await t.send({eventName:"GetPageSdkMetadata",payload:null,dest:{component:Ku.Component.HostScript,location:Ku.HostScripts.AdditionalHooks,tabId:n},timeout:Ef})}catch(e){return void Sf({broker:t,tabId:n,description:"Couldn't communicate with the page. Page metadata can't be collected for this Jam."})}if(i.success?i.serializedMetadata&&D.k.info("Jam.metadata was used",{metadataLength:i.serializedMetadata.length}):D.k.info("Jam.metadata failure response",{response:i}),!i.success){Sf({broker:t,tabId:n,description:function(e){switch(e.reason){case"fn-is-invalid":return"Your jam.metadata propery is not a function. Reach out to the Jam team if you're not sure why this happened!";case"fn-throws-error":return`Your jam.metadata function threw an error: ${(0,h.xm)(e.underlyingError)}`;case"invalid-return-type":return`Your jam.metadata function returned the wrong data type. It returned a ${e.returnType}, instead of an Object.`;case"serialization-throws-error":return`Your jam.metadata function returned an Object that could not be serialized. Is it recursive? The error is: ${(0,h.xm)(e.underlyingError)}`;case"metadata-too-large":return`Your jam.metadata function returned an Object that was too large. Its size in bytes was: ${e.sizeInBytes}.`}}(i)});const e={type:u.Plugin,timestamp:Date.now(),data:{plugin:y,eventType:x,payload:{...i}}};return r.addEvent(n,e),!1}const o=i.serializedMetadata;let a;try{a=o?JSON.parse(o):null}catch(e){return Sf({broker:t,tabId:n,description:"Could not process page metadata. Please reach out to the Jam team!"}),D.k.error("Internal error deserializing previously-serialized metadata",{serializedMetadata:o}),!1}a||t.send({eventName:"ShowClientLog",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:n},payload:{level:"warn",text:"Developers: Jam did not find any metadata on this page. Want to capture custom page metadata with every bug? Visit https://jam.dev/docs/product-features/dev-tools/jam.metadata"}});const s={type:u.Plugin,timestamp:Date.now(),data:{plugin:y,eventType:x,payload:{originalTimestamp:i.originalTimestamp,success:!0,metadata:a}}};return r.addEvent(n,s),!0}function Sf(e){const{broker:t,tabId:n,description:r}=e;t.send({eventName:"ShowClientLog",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:n},payload:{level:"error",text:`Developers: Jam could not capture page metadata: ${r}`}})}const Ef=4*p.X.Second;function kf(e){return"fulfilled"===e.status}function xf(e){return e.sort(((e,t)=>e.timestamp-t.timestamp))}class Tf{constructor(e){this.eventsCache=new Map,e.globallySyncedStorePromise.then((e=>{this.globallySyncedStore=e})),this.rrwebEventMerger=e.rrwebEventMerger,this.broker=e.broker,this.source=e.source,this.writer=e.writer,this.videoRecorder=e.videoRecorder,this.transforms=[xf,...e.transforms]}async getEvents(e){if(!this.globallySyncedStore)throw new Error("Cannot get drafted events: globally synced store has not been initialized yet");const t=this.eventsCache.get(e);if(t)return t.events;let n=await async function(e){const t=e.tabMetadata,n=Array.from(new Set([e.tabId,...Array.from(t?.keys()??[])])),r=await Promise.all(n.map((async t=>{const n=await async function(e){const{store:t,broker:n,tabId:r,eventsWriter:i}=e,[o,a,s,u]=await Promise.allSettled([!!t.isRewindDisabledForTab(r)||n.send({eventName:"FlushTabEvents",payload:null,dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.RRWebSnapshot,tabId:r},timeout:Ef}),n.send({eventName:"FlushTabEvents",payload:null,dest:{component:Ku.Component.HostScript,location:Ku.HostScripts.RRWebNetwork,tabId:r},timeout:Ef}),n.send({eventName:"FlushTabEvents",payload:null,dest:{component:Ku.Component.HostScript,location:Ku.HostScripts.RRWebConsole,tabId:r},timeout:Ef}),_f({tabId:r,broker:n,eventsWriter:i})]);return{all:kf(o)&&kf(a)&&kf(s),snapshot:kf(o),network:kf(a),console:kf(s),sdk:kf(u)}}({tabId:t,broker:e.broker,store:e.globallySyncedStore,eventsWriter:e.pipeline.writer});n.all||D.k.warn(`Not all scripts were able to flush their events in tab(${t})`,n),e.rrwebEventMerger.flushBufferedBackgroundEvents(t);const r=await e.pipeline.reader.getEvents(t);if(e.videoRecorder){const n=e.videoRecorder.getTrackedTabs().get(t);if(n)return r.map((e=>z(e)?{...e,tabInfo:n}:e))}return r})));return r.flat(1)}({rrwebEventMerger:this.rrwebEventMerger,broker:this.broker,globallySyncedStore:this.globallySyncedStore,pipeline:{reader:this.source,writer:this.writer},tabId:e,videoRecorder:this.videoRecorder});for(const t of this.transforms)if(n=t(n),0===n.length){D.k.warn("Event transform removed all events!",{tabId:e});break}return this.eventsCache.set(e,{events:n}),n}removeTabState(e){this.eventsCache.delete(e)}}function Of(e){return e.hostname&&e.hostname.length>0?e.hostname:e.jamType===b.NavigationEvent&&q.isNavigationEventOutput(e)?new URL(e.data.payload.url).hostname:void 0}function Af(e){let t,n="";for(let r=e.length-1;r>=0;r--){const i=e[r],o=Of(i);if(o)if(n.length>0){if(n!==o)break;t=i}else t=i,n=o}return t?e.filter((e=>e.timestamp>=t.timestamp)):e}function If(e,t){return!!t&&e.timestamp<t}function Cf(e){const t=[];let n;for(const r of e){if(Z.isPauseEvent(r))n=r.timestamp+r.data.payload.durationMs;else if(If(r,n)&&!Z.isStopEvent(r))continue;t.push(r)}return t}function Pf(e){const t=e.slice(e.findIndex((e=>Z.isStartEvent(e)))),n=function(e,t){for(let t=e.length-1;t>=0;--t)if(n=e[t],Z.isStopEvent(n))return t;var n;return-1}(t);return-1==n?t:t.slice(0,n+1)}function Df(e,t){return t.includeConsole&&t.includeNetwork?e:e.filter((e=>_(e)?t.includeNetwork:!S(e)||t.includeConsole))}var Mf,Rf=n(96795),jf=n.n(Rf);function Nf(e,t){if(0===e.length)return e;const n=t.end,r=t.start,[i,o]=jf()(e,(e=>e.timestamp<r)),a=o.filter((e=>e.timestamp<=n)),s=Uf(i,(e=>e.type===u.Meta)),c=Uf(i,(e=>e.type===u.FullSnapshot));if(!c||!s)return a;const l=c?.timestamp??0,f=e=>i.filter((t=>t.timestamp>l&&e(t))),d=f(Lf).reduce(((e,t)=>(Lf(t)&&e.set(t.data.id,t),e)),new Map).values(),p=f((e=>!Lf(e)&&!function(e){return e.type===u.Custom}(e)&&!function(e){return e.type===u.Plugin}(e))),h=[...d].concat(p).map((e=>({...e,timestamp:r})));return[{...s,timestamp:r},{...c,timestamp:r},...h,...a]}function Lf(e){return e.type===u.IncrementalSnapshot&&e.data.source===c.Scroll}function Uf(e,t){const n=e.filter(t);return n[n.length-1]}function Bf(e,t){if(!t.trim)return e;let n=e[0].timestamp,r=e[e.length-1].timestamp;const i=n;return t.trim?.start&&(n+=t.trim.start),t.trim?.end&&(r=i+t.trim.end),e=Nf(e,{start:n,end:r}),[I({timestamp:n}),...e,I({timestamp:r})]}function Ff(e){return"number"==typeof e.start&&e.start>=0}function zf(e){return"number"==typeof e.end&&e.end>=0}function Kf(e){const t=e.find(Z.isStartEvent),n=e.find(Z.isStopEvent);if(!t||!n)throw new Error("Missing start or stop event");return{start:t,stop:n}}function Vf(e){if(e.some((e=>void 0===e.elapsedMs)))throw new Error("Missing required elapsedMs property on events. `filterEventsByUserVideoTrimSpecs` must be called after `writeElapsedMs`.")}function Hf(e,t){if(!t.trim)return e;const{start:n,stop:r}=Kf(e);Vf(e);const i=Ff(t.trim)?t.trim.start:n.elapsedMs,o=zf(t.trim)?t.trim.end:r.elapsedMs;return e.filter((e=>{const t=Z.isStartEvent(e)||Z.isStopEvent(e),n=e.elapsedMs>=i&&e.elapsedMs<=o;return t||n}))}function $f(e){const t=e.find(k);t&&(e=e.filter((e=>k(e)||e.timestamp>t.timestamp-3*p.X.Second)));const n=e[e.length-1].timestamp;return Nf(e,{start:n-2*p.X.Minute,end:n})}function qf(e){return function(e,t){const n=(e[e.length-1]?.timestamp??Date.now())-t;return e.filter((e=>e.timestamp>=n))}(e,2*p.X.Minute)}function Wf(e){const t=e.find(Z.isStopEvent);return t?xf(e.map((e=>{if(function(e){return T(e)&&e.data.eventType===x}(e)){const n=e.timestamp>=t.timestamp,r=e.timestamp<t.timestamp+Ef;n&&r&&(e.timestamp=t.timestamp-1)}return e}))):e}(Mf||(Mf={})).isSubmitOptions=function(e){return"SubmitOptions"===e.type};class Gf{constructor(e){this.source=e.source,this.transforms=e.transforms}async getEvents(e,t){if(!Mf.isSubmitOptions(t))throw new Error("UploadReader was called with incorrect options type, the caller should use SubmitOptions");let n=await this.source.getEvents(e);return this.source.removeTabState(e),this.transforms.forEach((e=>{try{n=e(n,t)}catch(e){D.k.error("Error applying transform: ",{error:e})}})),n}}function Jf(e){const t=e[0].timestamp;let n=0;return e.forEach((e=>{e.elapsedMs=e.timestamp-t-n,Z.isPauseEvent(e)&&(n+=e.data.payload.durationMs)})),e}function Xf(e,t){if(!t.trim)return e;const n=[...e],{start:r,stop:i}=Kf(n);if(Ff(t.trim)){Vf(n);for(const e of n)e.elapsedMs-=t.trim.start;r.timestamp+=t.trim.start,r.elapsedMs=0}if(zf(t.trim)){i.elapsedMs=Ff(t.trim)?t.trim.end-t.trim.start:t.trim.end;let e=0;for(const t of n)Z.isPauseEvent(t)&&(e+=t.data.payload.durationMs);i.timestamp=r.timestamp+e+i.elapsedMs}return n}var Qf=(e=>(e[e.Start=0]="Start",e[e.Stop=1]="Stop",e[e.Pause=2]="Pause",e[e.Resume=3]="Resume",e[e.ChunkEmitted=4]="ChunkEmitted",e))(Qf||{});class Yf{constructor(){this.begin=Date.now()}finish(){this.end=Date.now()}}class Zf{constructor(){this.segments=[new Yf]}get isPaused(){return!!this.segments.at(-1)?.end}get lastSegment(){return this.segments[this.segments.length-1]}get totalDurationMs(){return this.segments.map((e=>(e.end??Date.now())-e.begin)).reduce(((e,t)=>e+t))}get nonActiveTotalDurationMs(){return this.segments.map((e=>e.end?e.end-e.begin:0)).reduce(((e,t)=>e+t))}get startTimestamp(){return this.segments[0].begin}get endTimestamp(){return this.lastSegment.end??Date.now()}setPaused(e){e?this.lastSegment.finish():this.segments.push(new Yf)}}async function ed(e){const t=await async function(e){return(await navigator.mediaDevices.enumerateDevices()).find((t=>"audioinput"===t.kind&&t.label===e))?.deviceId}(e);return await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:t??"default"}},video:!1})}async function td(e){try{const t=await function(e){return Qu().tabs.get(e)}(e);return{id:e,url:t.url,title:t.title,favIconUrl:t.favIconUrl}}catch(e){return void D.k.error(e)}}async function nd(){const e=(await nc()).id;if(!e)throw new Error("unable to getActiveTab()");const t=await td(e);if(!t)throw new Error(`unable to get tab info for the active tab ID ${e}`);return{...t,id:e}}class rd{constructor(e){this.label=e,this.entries=new Array,this.currentMs=Date.now()}record(e){const t=Date.now(),n=t-this.currentMs;return this.currentMs=t,this.entries.push({event:e,elapsedMs:n}),this}toString(){return[this.label,...this.entries.map((e=>`\t${e.event} - ${e.elapsedMs}ms`))].join("\n")}reset(){this.entries=new Array,this.currentMs=Date.now()}}const id=class e{constructor(t){this.recordingTimeLimitMs=e.RECORDING_MAX_TIME_LIMIT,this.chunks=[],this.avgBytesPerChunk=0,this.trackingTabs=new Map,this.eventHandlers=new Map,this.videoEventsPipeline=t}on(e,t){const n=this.eventHandlers.get(e)??[];n.push(t),this.eventHandlers.set(e,n)}emit(e){const t=this.getRecordingDetails();this.eventHandlers.get(e)?.forEach((e=>t&&e(t)))}hasPermission(e){return e===qa.Tab?Promise.resolve(!0):Qu().permissions.contains({permissions:["desktopCapture"]})}isRecording(){return!!this.state&&("recording"==this.state.recorder.state||"paused"==this.state.recorder.state)}hasRecording(){return!!this.state&&this.chunks.length>0}getVideoBlob(){return new Blob(this.chunks,{type:"video/webm"})}getRecordingDetails(){if(this.state)return{type:this.state.type,tabId:this.state.tabId,segments:this.state.segments,dimensions:this.state.dimensions}}getTrackedTabs(){return this.trackingTabs}async onTabFocus(e){if(!this.isRecording()||this.state?.type!==qa.Desktop)return;let t=this.trackingTabs.get(e);t&&!ad(t.url)||(t=await td(e),this.trackingTabs.set(e,t))}async onTabUpdate(e){if(!this.isRecording()||this.state?.type!==qa.Desktop)return;let t=this.trackingTabs.get(e);ad(t?.url)&&(t=await td(e),this.trackingTabs.set(e,t))}onTabRemove(e){return this.trackingTabs.delete(e)}async start(t,n){const r=t,i=new rd(`jam:videorecorder:start tab(${r})`);let o;if(this.state)throw new Error("Another recording is already in progress");if(!this.hasPermission(n.type))throw new Error("User did not give permission to record");this.chunks=[],o=n.type===qa.Tab?await this.getTabCaptureMediaStream(n):await this.getDesktopCaptureMediaStream(),i.record("get media stream");const{stream:a,audioContext:s,audioDestination:u,microphoneStream:c}=await this.buildMergedStream(o,n.audioDeviceLabel),l=new MediaRecorder(a,{mimeType:"video/webm"});i.record("build merged stream");const f=await async function(e){const t=e.getVideoTracks()[0],n=new ImageCapture(t),r=await n.grabFrame();return{height:r.height,width:r.width}}(l.stream);i.record("build merged stream");const d=()=>{s.close(),o.getTracks().forEach((e=>e.stop())),(c??this.state?.microphoneStream)?.getTracks().forEach((e=>e.stop())),Wl()};l.addEventListener("dataavailable",this.onChunkEmitted.bind(this)),l.addEventListener("stop",d),l.addEventListener("error",d),l.addEventListener("stop",(async()=>this.handleMediaRecorderStop(await nd()))),l.addEventListener("pause",(async()=>this.handleMediaRecorderPause(await nd()))),l.addEventListener("resume",(async()=>this.handleMediaRecorderResume(await nd()))),n.type===qa.Desktop&&(await(0,sc.g)(200),i.record("desktop start delay")),l.start(e.RECORDING_SLICE_LENGTH),ql.setIcon({tabId:void 0,path:{16:"assets/icon16-rec.png",32:"assets/icon32-rec.png",64:"assets/icon64-rec.png",128:"assets/icon128-rec.png"}});const p=await async function(e){const t=e.getVideoTracks()[0],n=new ImageCapture(t),r=await n.grabFrame(),i=document.createElement("canvas");return i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0,i.width,i.height),i.toDataURL()}(l.stream);i.record("generate thumbnail"),this.state={tabId:r,type:n.type,recorder:l,audioContext:s,audioDestination:u,microphoneStream:c,posterDataUrl:p,dimensions:f,recordingByteLimit:n.recordingByteLimit,segments:new Zf};const h=await td(r);return i.record("get TabInfo"),this.trackingTabs.set(r,h),this.registerEvent(te.Start,r,this.state.segments.startTimestamp),tl.fy.addLoggerGlobalContext("recordingState",this.getRecordingDetails()),this.emit(Qf.Start),i.record("done"),D.k.info(i.toString()),this.state.segments.startTimestamp}async pause(e){if(!this.state)throw new Error("Recorder cannot pause when VideoRecorder state is undefined");this.state.segments.setPaused(e);const t=this.state.recorder;e?(t.pause(),this.emit(Qf.Pause)):(t.resume(),this.emit(Qf.Resume))}registerEvent(e,t,n){const r=this.state?.type===qa.Desktop?"desktop":"tab",i={timestamp:n??Date.now(),type:u.Custom,jamType:b.CaptureEvent,data:{tag:"",payload:{mark:e,captureMode:U.Video,viewport:r}}};this.videoEventsPipeline.addEvent(t,i)}async handleMediaRecorderPause(e){this.registerEvent(ne.Pause,e.id)}async handleMediaRecorderResume(e){this.registerEvent(ne.Resume,e.id)}stop(){if(!this.state)throw new ReferenceError("Recording never started");this.state.recorder.stop()}onChunkEmitted(t){this.chunks.push(t.data),this.avgBytesPerChunk=this.chunks.reduce(((e,t)=>e+t.size),0)/this.chunks.length;const n=this.state?.recordingByteLimit;if(n){const t=Math.floor(n/this.avgBytesPerChunk)*e.RECORDING_SLICE_LENGTH;this.recordingTimeLimitMs=Math.min(t,e.RECORDING_MAX_TIME_LIMIT),D.k.debug(`jam:videorecorder: updating time limit(${this.recordingTimeLimitMs})`,{avgBytesPerChunk:this.avgBytesPerChunk,fsBasedTimeLimit:t,maxBytes:n})}this.state&&!this.state.recordingLimitHit&&this.isRecording()&&this.state.segments.totalDurationMs>=this.recordingTimeLimitMs&&(D.k.debug(`jam:videorecorder: Hit time limit(${this.recordingTimeLimitMs}). Ending recording`),this.state.recorder.stop(),this.state.recordingLimitHit=!0),this.emit(Qf.ChunkEmitted)}async handleMediaRecorderStop(e){this.state&&(delete this.fakeAudioElement,this.state.captureDetails={type:this.state.type,posterDataUrl:this.state.posterDataUrl,width:this.state.dimensions.width,height:this.state.dimensions.height,totalDurationMs:this.state.segments.totalDurationMs,startTimestamp:this.state.segments.startTimestamp,endTimestamp:this.state.segments.endTimestamp,blob:this.getVideoBlob()},tl.fy.removeLoggerGlobalContext("recordingState"),this.registerEvent(te.Stop,e.id),this.emit(Qf.Stop))}async setMicrophoneMute(e,t){if(!this.state)return;const n=this.state.microphoneStream?.getAudioTracks()[0];if(n)n.enabled=e;else if(e&&t&&this.state.recorder.stream.getAudioTracks().length>0){const{audioContext:e,audioDestination:n}=this.state,r=await ed(t)??void 0;r&&(new MediaStreamAudioSourceNode(e,{mediaStream:r}).connect(n),this.state.microphoneStream=r)}}cancel(t){const n=this.state?.type;t&&this.isRecording()&&n===qa.Desktop||("recording"===this.state?.recorder.state&&this.state?.recorder.stop(),this.mediaChooserId&&(chrome.desktopCapture.cancelChooseDesktopMedia(this.mediaChooserId),delete this.mediaChooserId),delete this.state,delete this.fakeAudioElement,this.chunks=[],this.avgBytesPerChunk=0,this.recordingTimeLimitMs=e.RECORDING_MAX_TIME_LIMIT,this.trackingTabs.clear(),Wl())}reset(){this.cancel()}getTabCaptureMediaStream(e){return async function(e){const t=navigator.mediaDevices.getSupportedConstraints();return new Promise(((n,r)=>{chrome.tabCapture.capture({audio:!0,video:!0,videoConstraints:{mandatory:{chromeMediaSource:"tab",minFrameRate:20,maxFrameRate:30,minWidth:t.width?e.width:void 0,minHeight:t.height?e.height:void 0,maxWidth:t.width?e.width:void 0,maxHeight:t.height?e.height:void 0}}},(e=>{chrome.runtime.lastError||!e?r(chrome.runtime.lastError??"undefined stream"):n(e)}))}))}(e)}getDesktopCaptureMediaStream(){return new Promise(((e,t)=>{this.mediaChooserId=chrome.desktopCapture.chooseDesktopMedia(["screen","window"],((n,r)=>{if(0===n.length)t(new Error("User cancelled media selection"));else{const i={chromeMediaSource:"desktop",chromeMediaSourceId:n};navigator.getUserMedia({audio:!!r.canRequestAudioTrack&&{mandatory:i},video:{mandatory:i}},e,t)}}))}))}async buildMergedStream(e,t){let n;const r=new AudioContext,i=r.createMediaStreamDestination(),o=e.getAudioTracks().length>0;t&&(n=await ed(t)??void 0,n&&r.createMediaStreamSource(n).connect(i)),o&&(r.createMediaStreamSource(e).connect(i),this.fakeAudioElement=document.createElement("audio"),this.fakeAudioElement.srcObject=new MediaStream([e.getAudioTracks()[0]]),this.fakeAudioElement.play());const a=n||o?i.stream.getAudioTracks():[],s=new MediaStream([...e.getVideoTracks(),...a]),u=()=>{s.getTracks().forEach((e=>{"live"===e.readyState&&e.stop()}))};return s.getTracks().forEach((e=>{e.addEventListener("ended",u)})),{stream:s,audioContext:r,audioDestination:i,microphoneStream:n}}get captureDetails(){return this.state?.captureDetails}};id.MESSAGE_TRANSFER_BYTE_LIMIT=9e7,id.RECORDING_SLICE_LENGTH=5*p.X.Second,id.RECORDING_MAX_TIME_LIMIT=10*p.X.Minute;let od=id;function ad(e){return["chrome://newtab/",""].includes(e??"")}function sd(e,t,n){const r={...e,...t};return Object.keys(r).forEach((i=>{const o=e[i],a=t[i],s=n(o),u=n(a);let c=a;!u&&s&&(c=o),ud(c)&&(c=ud(o)&&ud(a)&&s&&u?sd(o,a,n):{...c}),r[i]=c})),r}function ud(e){return"object"==typeof e&&null!==e}var cd=n(47542);const ld=(navigator.deviceMemory??8)/8,fd=(0,fl.J)($u.q.Production)?30*ld:(0,fl.J)($u.q.Development)?3:10,dd=2*fd;const pd=new RegExp(le.join("|"),"i"),hd=new RegExp(["airport_code","city_code","departure_airport_code","departure_city_code","access-control-"].join("|"),"i");function gd(e){return pd.test(e)&&!function(e){return e.toLowerCase().endsWith("type")||hd.test(e)}(e)}function vd(e,t){return gd(e)?ce:t}function md(e){try{const t=JSON.parse(e);return JSON.stringify(t,((e,t)=>yd(e,t,!1)))}catch{return}}function yd(e,t,n){const r=n||gd(e);return Array.isArray(t)?t.map((t=>yd(e,t,r))):"object"==typeof t?pl()(t,((e,t)=>yd(t,e,r))):r?ce:t}function bd(e){if(!e)return e;const t={};for(const n in e)t[n]=vd(n,e[n]);return t}function wd(e){let t=!1;const n=Array.from(e.entries()).map((([e,n])=>gd(e)?(t=!0,[e,ce]):[e,n]));if(t)return new URLSearchParams(n)}function _d(e){e.data.payload.entry.name=function(e){if(!e)return e;let t;try{t=new URL(e)}catch{return e}const n=wd(t.searchParams);return n?(t.search=n.toString(),t.toString()):e}(e.data.payload.entry.name);const t=e.data.payload.fetchDetails;if(t){if(t.requestBody){const e=new Headers(t.requestHeaders);t.requestBody=Sd(t.requestBody,e.get("content-type"))}if(t.responseBody){const e=new Headers(t.responseHeaders);t.responseBody=Sd(t.responseBody,e.get("content-type"))}t.requestHeaders&&(t.requestHeaders=bd(t.requestHeaders)),t.responseHeaders&&(t.responseHeaders=bd(t.responseHeaders))}}function Sd(e,t){const n=!t,r=t?.includes("json");if(n||r){const t=md(e);if(t)return t;if(r)return e}const i=t?.includes("urlencoded");if(n||i){const t=function(e){if(!e)return;let t;try{t=new URLSearchParams(e)}catch{return}const n=wd(t);return n?n.toString():void 0}(e);if(t)return t;if(i)return e}return e}function Ed(e){return e.source+(e.sourceSuffix?"_"+e.sourceSuffix:"")}function kd(e,t){const n=new Headers(e);return t?(new Headers(t).forEach(((e,t)=>{n.get(t)?.split(", ").includes(e)||n.append(t,e)})),Object.fromEntries(n)):Object.fromEntries(n)}var xd=n(61878),Td=(e=>(e.Idle="Idle",e.Capture="Capture",e.Draft="Draft",e.Processing="Processing",e))(Td||{});function Od(){return Qu().tabs.captureVisibleTab(void 0,{format:"png",quality:100})}var Ad=n(10823);function Id(e){return fetch(e).then((e=>e.blob()))}function Cd(){return Intl.DateTimeFormat().resolvedOptions().timeZone}var Pd=(e=>(e.Comment="Comment",e.Link="Link",e))(Pd||{});const Dd={jira:"issue",linear:"issue",asana:"task",slack:"message",github:"issue",clickup:"task",email:""};function Md(e){return Dd[e]}var Rd=n(1503),jd=n(56974),Nd=n.n(jd);function Ld(e){return`${se.v.DASH_URL}/c/${e}`}function Ud(e,t,n=[]){const r=document.createElement("div");return e&&n.includes(Pd.Comment)&&r.append((()=>{const t=document.createElement("span");return t.style.direction="inline-block",t.textContent=e.trim()+" ",t})()),t&&n.includes(Pd.Link)&&r.append((()=>{const e=document.createElement("a");return e.style.direction="inline-block",e.href=t,e.textContent=t,e})()),{text:(r.textContent??"").trim(),html:r.innerHTML,container:r}}function Bd(e){const t=e.uploads.filter((t=>e.failed.has(t.uploadId))).map((t=>({icon:(()=>{switch(!0){case e.finished.has(t.uploadId):return"check-mark";case e.failed.has(t.uploadId):return"cancel";default:return"loading-dots"}})(),description:t.label}))),n=(()=>{switch(!0){case e.failed.size>0:return-1;case e.uploads.length>0&&e.uploads.length===e.finished.size:return p.X.Second;default:return e.ttl}})(),r=e.uploads.length===e.finished.size&&e.inRetryLoop?"Successfully uploaded!":void 0,i=e.uploads.length>0&&e.failed.size>0,o=e.ctas??[];e.uploads.length>0&&e.failed.size>0&&!o.some((e=>"RetryFailedUploads"===e.action?.name))&&o.push({text:"Retry upload(s)",action:{name:"RetryFailedUploads",thumbnail:e.thumbnail,uploads:e.uploads.filter((t=>e.failed.has(t.uploadId))).map((e=>({uploadId:e.uploadId,label:e.label})))}});const a={list:t,ttl:n,ctas:o,dismissable:i,thumbnail:e.thumbnail};return r?{...a,title:r,icon:"check"}:a}const Fd={name:"Dismiss",params:!0};async function zd(e,t,n,r){const{preferences:i,user:o}=qu;try{return o&&!o.milestones.createdThread&&Hd(qu,{milestones:{...o.milestones,createdThread:(new Date).toISOString()}}).catch((e=>{D.k.warn(`jam:createThread: could not save createdThread milestone: ${e}`)})),o?.milestones.createdThread&&!o.milestones.createdSecondThread&&Hd(qu,{milestones:{...o.milestones,createdSecondThread:(new Date).toISOString()}}).catch((e=>{D.k.warn(`jam:createThread: could not save createdSecondThread milestone: ${e}`)})),n?await Kd(e,t,r):await Vd({...r,threadId:t,tabId:e.tabId,url:Ld(t),openInNewTab:i.openNewTabOnJamCreation,clipboardParts:[Pd.Link]})}catch(e){return D.k.error(`jam:createThread: Could not handle post-thread creation flow. ${e}`,e),Fd}}async function Kd(e,t,n){const r=Qc();let i;return await async function(e){return new Promise(((t,n)=>{let r=!1,i=setInterval((async()=>{if(r)return;r=!0;const n=await e.fn();r=!1,n||(clearInterval(i),i=void 0,t())}),e.intervalMs);setTimeout((()=>{i&&(clearInterval(i),e.onTimeout?(e.onTimeout(),t()):n(new Error("Something seems to be taking longer than expected.. But we've saved your work!")))}),e.timeoutMs)}))}({fn:async()=>{const o=await r.threadIntegrations({threadUid:t});return i=await async function(e,t,n,r){const i=r.jamThread?.integrations??[],o=Nd()(i);if(!o)return;const{preferences:a}=qu,s=Md(o.name),u=Yu(),c=o.events.filter((e=>[gc.InputError,gc.JamApplicationError,gc.AuthError].includes(e.type))).map((e=>e.message)),l=Ld(n);switch(o.status){case vc.Pending:return;case vc.Error:return await u.send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},payload:{toastId:t.toast.id,title:`Still trying, but we're running into a problem creating your ${o.displayName} ${s}`,description:c.join(", "),icon:"warning",ttl:10*p.X.Second,ctas:[{text:"Open in Jam",href:l}]}}),Fd;case vc.Failed:{const r=c.join(", ");return await u.send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},payload:{toastId:t.toast.id,title:`${o.displayName} couldn't create your ${s}, but your bug report is saved to Jam. To retry, click "Edit ${s}".`,description:"Error: "+r,ttl:-1,dismissable:!0,icon:"warning",ctas:[{text:`Edit ${s}`,action:{name:"RetryIntegration",threadUid:n,error:r}}]}}),Fd}case vc.Completed:{const r="boolean"==typeof o.openJamOnCreate,i=a.openNewTabOnJamCreation,s=r?i&&!!o.openJamOnCreate:i;return Vd({...t,threadId:n,tabId:e.tabId,url:o.openJamOnCreate||!o.url?l:o.url,openInNewTab:s,clipboardParts:o.clipboardParts})}}}(e,n,t,o),void 0===i},intervalMs:p.X.Second,timeoutMs:60*p.X.Second,onTimeout:async()=>{Yu().send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},payload:{toastId:n.toast.id,title:"We couldn't create your integration, but your bug report is saved to Jam.",ttl:-1,dismissable:!0,ctas:[{text:"Open in Jam",href:Ld(t)}]}})}}),i}async function Vd(e){const{editorState:t,url:n,clipboardParts:r}=e,i=Yu(),o=function(e){try{const t=JSON.parse(e),n=(0,Rd.convertFromRaw)(t);return Rd.EditorState.createWithContent(n).getCurrentContent().getPlainText()}catch(t){return e}}(t);let a=" and copied to clipboard";const s=[];let u=5*p.X.Second;const c=await async function(e,t,n){const{html:r,text:i}=Ud(e,t,n);return Yu().send({eventName:"SendCopyToClipboardCommand",dest:{component:Ku.Component.Main,location:void 0},payload:{html:r,text:i}})}(o,n,r);if(!c){a="",u=10*p.X.Second;const{html:t,text:n}=Ud(o,e.url,r);s.push({text:"Copy link",action:{name:"CopyToClipboard",html:t,text:n}})}e.openInNewTab&&await $l(e.url,!1,e.tabId);const l=new Set,f=new Set,d={finished:l,failed:f,clipboardWording:a,ttl:u,openInNewTab:e.openInNewTab,toastId:e.toast.id,thumbnail:e.toast.thumbnail,uploads:e.uploads,ctas:s};return e.uploads.forEach((t=>{t.promise.then((()=>l.add(t.uploadId))).catch((()=>f.add(t.uploadId))).finally((()=>i.send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},payload:$d(d)})))})),await i.send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},payload:$d(d)}),Fd}async function Hd(e,t){const{updateUser:n}=await Qc().updateUser({userData:t});n&&e.setUser(ic(n))}function $d(e){const t=(()=>{switch(!0){case e.failed.size>0:return"Your Jam has been saved, but some items failed to upload.";case e.openInNewTab:return`Opened in new tab${e.clipboardWording}!`;default:return`Link created${e.clipboardWording}!`}})();return{toastId:e.toastId,title:t,...Bd({finished:e.finished,failed:e.failed,uploads:e.uploads??[],ttl:e.ttl,ctas:e.ctas,thumbnail:e.thumbnail})}}async function qd(e,t,n){let r;r=n instanceof rc.ClientError?n.response.errors?.map((e=>e.message)).join(", ")??"Unknown error occured in the API":n instanceof Error?n.message:`Unknown error occured during thread creation: ${n}`;const i=t.integration?Md(t.integration.integrationName):"link";return D.k.error(`jam:createThread: Could not finish creating the thread: ${r}`),await Yu().send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},payload:{toastId:t.toastId,icon:"warning",title:`We couldn't create your ${i}.`,description:r,ttl:10*p.X.Second,ctas:[{text:"Try again",action:{name:"RetryCreateThread",data:t}}]}}),{name:"Dismiss",params:!0}}var Wd;function Gd(e,t){return new Promise(((n,r)=>{e.on(`${Wd.ItemEventType.Complete}:${t.groupId}:${t.id}`,n),e.on(`${Wd.ItemEventType.Error}:${t.groupId}:${t.id}`,r)}))}function Jd(e,t){return Object.entries(t).map((([t,n])=>{const r=e.find((e=>e.id===t));if(r)return{name:r.name,contentType:r.type,sizeBytes:r.size,mediaId:n.id}})).filter(ll.Av)}async function Xd(e){const t=(await Qu().cookies.getAll({url:e,name:"fs_uid"}))?.find((e=>e.value.startsWith("rs.fullstory.com#")||e.value.startsWith("rs.staging.fullstory.com#")))?.value;if(t)try{const[,e,n]=t.split("#"),[r]=n.split(":");return`https://app.fullstory.com/ui/${e}/session/${r}`}catch{return}}function Qd(e){return e.type===bc.Cropped}(e=>{let t;var n;let r;(n=t=e.ItemEventType||(e.ItemEventType={})).Complete="item:complete",n.Error="item:error",(r=e.GroupEventType||(e.GroupEventType={})).Completed="group:completed"})(Wd||(Wd={}));const Yd="jam:state:tab:";class Zd{constructor(e,t,n,r,i,o){if(this.history=[],this.broker=e,this.tab=t,this.state=Td.Idle,this.videoRecorder=n,this.mediaUploader=r,this.globallySyncedStore=i,this.eventsPipeline=o,!i.getTab(this.tabId))throw new Error("Globally Synced tab state should be initialized before BackgroundTabState is constructed")}get globalTabState(){return this.globallySyncedStore.getTab(this.tabId)}get isReady(){return!!this.globalTabState?.injectionLifecycle.marks.ui}get tabId(){return this.tab}get tabState(){return this.state}get stateHistory(){return this.history}resetToIdleIfNotActive(){const e=this.globallySyncedStore,t=this.state===Td.Idle,n=this.state===Td.Draft,r=!e.recording,i=this.videoRecorder.hasRecording()&&!this.videoRecorder.isRecording()&&this.state===Td.Draft;(!t&&r||i&&n)&&this.resetToIdle()}async handle(e,t){let n;if(!this.isReady)return void D.k.warn(`${Yd} Received action "${e}" but content script is not initialized yet`,{tabId:this.tabId});const r=this.state;switch(this.state){case Td.Idle:n=await this.idle(e,t);break;case Td.Capture:n=await this.capture(e,t);break;case Td.Draft:n=await this.draft(e,t);break;case Td.Processing:n=await this.processing(e,t);break;default:throw new Error(`unknown state: ${this.state}`)}const i=`${Yd} tab(${this.tabId}) ${r} => ${this.state} (action: ${e})`;return this.state===Td.Idle?this.history=[]:this.history.push(i),D.k.debug(i),n}async idle(e,t){const n=this.globallySyncedStore.getTab(this.tabId);if(!this.globallySyncedStore.auth.hasAccessToJamSite)return this.sendToast(this.tabId,{title:"Access grant required",description:"In your browser settings, you set which specific websites Jam can work on, but jam.dev needs to be one of them! Please open the Jam Chrome extension to grant access.",icon:"warning",ttl:10*p.X.Second}),!1;switch(e){case"SetCaptureMode":{const e=t;if(e.mode===F.Video&&this.videoRecorder.hasRecording()){const e=this.videoRecorder.getRecordingDetails()?.tabId;return await this.sendToast(this.tabId,{title:"Save/discard your work first",description:"It looks like you have an unsaved video in another tab.",icon:"warning",ttl:Number.POSITIVE_INFINITY,dismissable:!0,ctas:e?[{text:"Jump to tab",action:{name:"FocusTabForUser",tabId:e}},{text:"Discard",action:{name:"DismissTab",tabId:e}}]:[]}),!1}const r=this.globallySyncedStore.isRewindDisabledForTab(this.tabId);if(e.mode===F.Rewind&&r)return await this.sendToast(this.tabId,{title:"Instant Replay is disabled",description:r.disabledBecause,icon:"warning",ttl:3*p.X.Second}),!1;if(this.state=Td.Capture,n?.captureState.setCaptureMode(e.mode),e.mode===F.Screenshot?n?.captureState.setScreenshotDelay(e.delay):e.mode===F.Video&&this.globallySyncedStore.preferences.recording.setViewport(e.viewport),e.mode===F.Video)switch(e.viewport){case qa.Desktop:this.capture("StartMediaCapture",{type:qa.Desktop});break;case qa.Tab:this.globallySyncedStore.recording.transitionToCountdown(this.tabId)}return!0}case"EditIntegration":return async function(e,t){const n=Yu();if(!t.integration)return void await n.send({dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},eventName:"NewToast",payload:{title:"Error: missing integration",description:"Something went wrong and your integration data is missing, please try again"}});let r;const i=Qc();try{r=(await n.send({dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},eventName:"NewToast",payload:{title:"Saving integration",icon:"loading",ttl:5e3}})).toastId,await i.integrationEdit({threadUid:t.threadUid,message:t.editorState,integration:{integrationName:t.integration.integrationName,fields:t.integration.fields??[]}});const o=await Kd(e,t.threadUid,{editorState:t.editorState,toast:{id:r},uploads:[]});o&&e.handle(o.name,o.params)}catch(t){if(!r)throw new Error("unexpected error: toastId is missing");D.k.error(`jam:createThread:integrations: ${t}`,t),await n.send({dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.tabId},eventName:"UpdateToast",payload:{toastId:r,title:"Failed to edit integration",icon:void 0}})}}(this,t),this.resetToIdle();case"CreateJam":return this.draft(e,t);case"PauseMediaCapture":{const e=t;return this.videoRecorder.pause(e.shouldPause),null}case"FinishMediaCapture":return this.capture(e,t);case"SetVideoDraftMode":return this.state=Td.Draft,void n?.setCaptureState(F.Video);case"Dismiss":return this.resetToIdle();default:return this.handleUnknownAction(e)}}async capture(e,t){const n=this.globallySyncedStore.getTab(this.tabId);switch(e){case"Dismiss":return this.resetToIdle();case"SetCaptureMode":{const e=t;if(n&&n.captureState.captureMode===e.mode)return this.resetToIdle();if(this.videoRecorder.isRecording())return;return this.idle("SetCaptureMode",e)}case"StartMediaCapture":if(this.videoRecorder.isRecording())return D.k.error("VideoRecorder already detected when trying to start media capture. Resetting to Idle",{stateHistory:[...this.history]}),this.resetToIdle();try{if(!n)return D.k.error("Unable to get the tab"),this.resetToIdle();const e=this.globallySyncedStore,r=e.preferences.recording,i=t,o=i.type===qa.Tab?Wa(this.tabId):{type:"desktop"};if(n.captureState.setCaptureMode(F.Video),i.type===qa.Tab){const t=Date.now();e.recording.transitionToActiveRecording(o,this.videoRecorder.recordingTimeLimitMs,t)}const a=await this.videoRecorder.start(this.tabId,{recordingByteLimit:n?.incognito?9e7:void 0,audioDeviceLabel:r.audio.deviceLabelToUse,...i});return e.recording.transitionToActiveRecording(o,this.videoRecorder.recordingTimeLimitMs,a),!0}catch(e){return D.k.info(`${Yd} ${e.message} - resetting to Idle`),this.resetToIdle()}case"FinishMediaCapture":return void(this.videoRecorder.isRecording()?this.videoRecorder.stop():this.resetToIdle());case"SetVideoDraftMode":return this.state=Td.Draft,void n?.setCaptureState(F.Video);case"CaptureScreenshot":{const[e,t]=await Promise.all([Od(),this.eventsPipeline.readers.draft.screenshot.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:!0,includeNetwork:!0})]);return this.state=Td.Draft,{dataUrl:e}}case"GenerateRewind":{const[e,t]=await Promise.all([Od(),this.eventsPipeline.readers.draft.replay.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:!0,includeNetwork:!0})]);return this.state=Td.Draft,n?.captureState.setCaptureMode(F.Rewind),{events:t,fullscreenDataUrl:e}}default:return this.handleUnknownAction(e)}}async generateDraft(){const e=this.globallySyncedStore.getTab(this.tabId);if(!e||(t=e.captureState.captureMode,!Object.values(U).includes(t)))return;var t;const n=await this.broker.send({eventName:"SerializeDraft",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:this.tabId},payload:{captureType:e.captureState.captureMode}});switch(e?.captureState.captureMode){case U.Video:if(n.captureType!==U.Video)throw new Error("client data does not match capture type");return{type:"video",blob:this.videoRecorder.getVideoBlob(),message:n.message,events:await this.eventsPipeline.readers.upload.video.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:!0,includeNetwork:!0,trim:n.trimOptions?.trim})};case U.Rewind:if(n.captureType!==U.Rewind)throw new Error("client data does not match capture type");return{type:"replay",message:n.message,events:await this.eventsPipeline.readers.upload.replay.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:!0,includeNetwork:!0,trim:n.trimOptions?.trim})};case U.Screenshot:if(n.captureType!==U.Screenshot)throw new Error("client data does not match capture type");return{type:"screenshot",...n,events:await this.eventsPipeline.readers.upload.screenshot.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:!0,includeNetwork:!0})};default:throw new Error(`unexpected captureMode: ${e?.captureState.captureMode}`)}}async draft(e,t){switch(e){case"Dismiss":return this.resetToIdle();case"CreateJam":{const e=t;switch(e.type){case mu.Screenshot:{const t=await this.eventsPipeline.readers.upload.screenshot.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:e.includeConsole,includeNetwork:e.includeNetwork});(async function(e,t,n,r){const i=n.teamId+e.tabId,{attachments:o,...a}=await async function(e,t){const n=Qd(e.media)?e.media.croppedDataUrl:e.media.fullscreenDataUrl,r=Qd(e.media)?e.media.fullscreenDataUrl:void 0,i=t?new Blob([JSON.stringify(t)],{type:"application/json"}):void 0,[o,a,...s]=await Promise.all([Id(n),r?Id(r):void 0,...e.comment.attachments.map((async e=>{const t=await Id(e.source);return{...e,blob:t}}))]),u={};return s.length>0&&s.forEach((e=>{u[e.id]={type:yc.CommentAttachments,blob:e.blob,fileName:e.name}})),{attachments:u,primaryMedia:{type:yc.Screenshot,blob:o},secondaryMedia:a?{type:yc.Screenshot,blob:a}:void 0,events:i?{type:yc.Events,blob:i}:void 0}}(n,r),[s,u]=await Promise.all([t.registerUploads(n.teamId,i,a),t.registerUploads(n.teamId,i,o)]);t.queue(...Object.values(s).filter(ll.Av)),t.queue(...Object.values(u));const c=[];c.push({label:Qd(n.media)?"Cropped screenshot":"Screenshot",uploadId:s.primaryMedia.id,promise:Gd(t,s.primaryMedia)}),s.secondaryMedia&&c.push({label:"Full screenshot",uploadId:s.secondaryMedia.id,promise:Gd(t,s.secondaryMedia)}),s.events&&c.push({label:"Developer info",uploadId:s.events.id,promise:Gd(t,s.events)});const l=await Xd(n.websiteMetadata.url),f={version:(0,Ad.P)()},d=Jd(n.comment.attachments,u);try{const t=await Qc().createScreenshot({jam:{teamId:n.teamId,clientInfo:{...n.websiteMetadata.systemInfo,jamClient:f},url:n.websiteMetadata.url,fullStoryUrl:l,detectedLibs:n.detectedLibs,timezoneLocation:Cd(),data:{type:Qd(n.media)?bc.Cropped:bc.Fullscreen,delayMs:n.delayMs,mediaId:s.primaryMedia.id,secondaryMediaId:s.secondaryMedia?.id},eventsId:s.events?.id},comment:{message:n.comment.editorState,attachments:d},integration:n.integration?{...n.integration,fields:n.integration.fields??[]}:null});return t.createScreenshot?zd(e,t.createScreenshot.id,!!n.integration,{editorState:n.comment.editorState,toast:{id:n.toastId,thumbnail:Qd(n.media)?n.media.croppedDataUrl:n.media.fullscreenDataUrl},uploads:c}):qd(e,n,t)}catch(t){return qd(e,n,t)}})(this,this.mediaUploader,e,t).then((e=>e&&this.handle(e.name,e.params)));break}case mu.Video:{if(!this.videoRecorder?.hasRecording())return D.k.error(`${Yd} Cannot create video, there is no recording!`,{stateHistory:[...this.history]}),this.resetToIdle();const t=await this.eventsPipeline.readers.upload.video.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:e.includeConsole,includeNetwork:e.includeNetwork,trim:e.trim});(async function(e,t,n,r,i){const o=r.teamId+e.tabId,{attachments:a,...s}=await async function(e,t,n){const r=n?new Blob([JSON.stringify(n)],{type:"application/json"}):void 0,[i,...o]=await Promise.all([Id(e.videoData.posterDataUrl),...e.comment.attachments.map((async e=>{const t=await Id(e.source);return{...e,blob:t}}))]),a={};return o.length>0&&o.forEach((e=>{a[e.id]={type:yc.CommentAttachments,blob:e.blob,fileName:e.name}})),{attachments:a,videoMedia:{type:yc.Video,blob:t.getVideoBlob()},posterImageMedia:{type:yc.Screenshot,blob:i},events:r?{type:yc.Events,blob:r}:void 0}}(r,n,i),[u,c]=await Promise.all([t.registerUploads(r.teamId,o,s),t.registerUploads(r.teamId,o,a)]);t.queue(...Object.values(u).filter(ll.Av)),t.queue(...Object.values(c));const l=[{label:"Video",uploadId:u.videoMedia.id,promise:Gd(t,u.videoMedia)},{label:"Poster image",uploadId:u.posterImageMedia.id,promise:Gd(t,u.posterImageMedia)}];u.events&&l.push({label:"Developer info",uploadId:u.events.id,promise:Gd(t,u.events)});const f=await Xd(r.websiteMetadata.url),d={version:(0,Ad.P)()},p=Jd(r.comment.attachments,c);try{const t=await Qc().createVideo({jam:{teamId:r.teamId,clientInfo:{...r.websiteMetadata.systemInfo,jamClient:d},url:r.websiteMetadata.url,fullStoryUrl:f,detectedLibs:r.detectedLibs,timezoneLocation:Cd(),data:{viewport:r.videoData.type===qa.Tab?wc.Tab:wc.Desktop,height:r.videoData.height,width:r.videoData.width,durationMs:r.videoData.originalDuration,mediaId:u.videoMedia.id,posterImageMediaId:u.posterImageMedia?.id,clipBetweenMs:(r.trim?.start||0===r.trim?.start)&&r.trim?.end?[Math.round(r.trim.start),Math.round(r.trim.end)]:void 0},eventsId:u.events?.id},comment:{message:r.comment.editorState,attachments:p},integration:r.integration?{...r.integration,fields:r.integration.fields??[]}:null});return t.createVideo?zd(e,t.createVideo.id,!!r.integration,{editorState:r.comment.editorState,toast:{id:r.toastId,thumbnail:r.videoData.posterDataUrl},uploads:l}):qd(e,r,t)}catch(t){return qd(e,r,t)}})(this,this.mediaUploader,this.videoRecorder,e,t).then((e=>e&&this.handle(e.name,e.params))).then((()=>this.videoRecorder.reset()));break}case mu.Replay:{const t=await this.eventsPipeline.readers.upload.replay.getEvents(this.tabId,{type:"SubmitOptions",includeConsole:e.includeConsole,includeNetwork:e.includeNetwork,trim:e.trim});(async function(e,t,n,r){if(0===r.length)throw new h.Lw({message:"Sorry, Jam did not capture events for the Rewind. Please reload the extension.",debugMessage:`Could not process Rewind. No frozen events found for tab(${e.tabId})`});const i=t.teamId+e.tabId,{attachments:o,...a}=await async function(e,t){const n=new Blob([JSON.stringify(t)],{type:"application/json"}),[r,...i]=await Promise.all([Id(e.fullscreenDataUrl),...e.comment.attachments.map((async e=>{const t=await Id(e.source);return{...e,blob:t}}))]),o={};return i.length>0&&i.forEach((e=>{o[e.id]={type:yc.CommentAttachments,blob:e.blob,fileName:e.name}})),{attachments:o,events:{type:yc.Events,blob:n},screenshotMedia:{type:yc.Screenshot,blob:r}}}(t,r),[s,u]=await Promise.all([n.registerUploads(t.teamId,i,a),n.registerUploads(t.teamId,i,o)]);n.queue(...Object.values(s).filter(ll.Av)),n.queue(...Object.values(u));const c=[{label:"Developer info",uploadId:s.events.id,promise:Gd(n,s.events)},{label:"Screenshot",uploadId:s.screenshotMedia.id,promise:Gd(n,s.screenshotMedia)}],l=await Xd(t.websiteMetadata.url),f={version:(0,Ad.P)()},d=Jd(t.comment.attachments,u);try{const n=await Qc().createReplay({jam:{teamId:t.teamId,clientInfo:{...t.websiteMetadata.systemInfo,jamClient:f},url:t.websiteMetadata.url,fullStoryUrl:l,detectedLibs:t.detectedLibs,timezoneLocation:Cd(),data:{durationMs:t.replayEventsMeta.duration,mediaId:s.events.id,screenshotMediaId:s.screenshotMedia.id},eventsId:s.events?.id},comment:{message:t.comment.editorState,attachments:d},integration:t.integration?{...t.integration,fields:t.integration.fields??[]}:null});return n.createReplay?zd(e,n.createReplay.id,!!t.integration,{editorState:t.comment.editorState,toast:{id:t.toastId,thumbnail:t.fullscreenDataUrl},uploads:c}):qd(e,t,n)}catch(n){return qd(e,t,n)}})(this,e,this.mediaUploader,t).then((e=>e&&this.handle(e.name,e.params)));break}}return this.globallySyncedStore.getTab(this.tabId)?.captureState.setCaptureMode(F.Processing),this.state=Td.Processing,!0}case"SetCaptureMode":return await this.sendToast(this.tabId,{title:"You've got unsaved changes!",description:"Keyboard shortcuts are temporarily disabled",icon:"warning",ttl:3*p.X.Second}),!1;case"FinishMediaCapture":return void(this.videoRecorder.isRecording()?this.videoRecorder.stop():this.resetToIdle());default:return this.handleUnknownAction(e)}}async processing(e,t){return"Dismiss"===e?this.resetToIdle():this.handleUnknownAction(e)}handleUnknownAction(e){return D.k.error(`${Yd} Unable to handle action(${e}) in state(${this.state}). Reset state to Idle`,{tabId:this.tabId,userId:this.globallySyncedStore.user?.id,state:this.state,action:e,stateHistory:[...this.history]}),this.resetToIdle()}resetToIdle(){const e=this.globallySyncedStore.getTab(this.tabId);return this.state=Td.Idle,e?.captureState.reset(),this.globallySyncedStore.recording.recordingOnTab(this.tabId,"neq")||(this.videoRecorder.cancel(this.tabId),this.globallySyncedStore.recording.transitionToInactive()),e?.id&&(this.broker.send({eventName:"ReceiveVideoData",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e.id},payload:void 0}),this.eventsPipeline.readers.draft.screenshot.removeTabState?.(e.id),this.eventsPipeline.readers.draft.video.removeTabState?.(e.id),this.eventsPipeline.readers.draft.replay.removeTabState?.(e.id)),!0}sendToast(e,t){return this.broker.send({eventName:"NewToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e},payload:t})}updateToast(e,t){return this.broker.send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:e},payload:t})}}class ep{constructor(){this.integrationsByTeam=new Map,this.activeSubscriptions=new Map}async getIntegrations(e){const t=this.integrationsByTeam.get(e.teamId);if(t)return t.data;const n=e.teamId,r=(await Qc().integrationList({teamId:n,filter:{and:!1,capabilities:[hc.DataPush]},ignoreTeamTypes:!1})).integrationList?.integrations??[];if(this.integrationsByTeam.set(n,{data:r,tabIds:new Set([e.tabId])}),!this.activeSubscriptions.has(e.teamId)){const t=this.setupIntegrationsSubscription(e);this.activeSubscriptions.set(e.teamId,t)}return r}setupIntegrationsSubscription(e){const t=Yc(),n=(0,Ku.getEventBusSingleton)({address:{component:Ku.Component.Main,location:void 0},canForward:!0,onError:e=>D.k.debug(e.toString())}),{teamId:r}=e;return t.subscribe({variables:{teamId:r,filter:{and:!1,capabilities:[hc.DataPush]}},query:qc.loc?.source.body},{next:t=>{const i=t.data;if(i.integrationList){const t=this.integrationsByTeam.get(r),o=t?.data,a=t?.tabIds??new Set;if(!o)throw new Error("Tried to update existing integrations but no integrations were saved");const s=o.map((e=>{const t=i.integrationList?.integrations.find((t=>t.integrationName===e.integrationName));return t?{...e,...t}:e}));a.add(e.tabId),this.integrationsByTeam.set(r,{data:s,tabIds:a}),n.emit({eventName:"AvailableIntegrationsRecieved",payload:{integrations:s,teamId:r}})}},error:()=>{this.activeSubscriptions.delete(r)},complete:()=>{this.activeSubscriptions.delete(r)}})}cleanup(e){const t=Array.from(this.integrationsByTeam).filter((([,t])=>1===t.tabIds.size&&t.tabIds.has(e)));this.integrationsByTeam.forEach((t=>{t.tabIds.delete(e)})),t.forEach((([e])=>{const t=this.activeSubscriptions.get(e);t&&t(),this.activeSubscriptions.delete(e),this.integrationsByTeam.delete(e)}))}resubscribe(e){this.integrationsByTeam.forEach(((e,t)=>{e.tabIds.forEach((e=>{this.setupIntegrationsSubscription({tabId:e,teamId:t})}))})),this.setupUserSubscription(e)}setupUserSubscription(e){if(this.activeSubscriptions.has("user"))return;const t=Yc().subscribe({variables:{userId:e.userId},query:Wc.loc?.source.body},{next:t=>{t.data?.user&&e.onUpdate(t.data.user)},error:t=>{D.k.info("jam:data:subscription Error on user subscription",{error:t}),this.activeSubscriptions.delete("user"),e.onError()},complete:()=>{D.k.info("jam:data:subscription User subscription closed"),this.activeSubscriptions.delete("user")}});D.k.info("jam:data:subscription Setup user subscription"),this.activeSubscriptions.set("user",t)}clearUserSubscription(){D.k.info("jam:data:subscription Removed user subscription"),this.activeSubscriptions.get("user")?.()}clearSubscriptions(){this.clearUserSubscription(),this.activeSubscriptions.forEach((e=>e())),this.integrationsByTeam.clear()}resetWebsocketConnection(){Yc().terminate()}}const tp="triggerPostDesktopCapturePermission",np=La("local");function rp(e){if(!e)throw new ReferenceError("Message came from a non-tab component, but can only come from a tab");return e}function ip(e,t){if(rp(e),!t)throw new h.Lw({message:`Unexpected error: missing tab (${e})`,debugMessage:"The TabsManager is missing a tab entry, state may not be synced correctly"});return t}var op=n(61111),ap=n.n(op);class sp{constructor(e,t=5){this.data=e,this.controller=new AbortController,this.retries=t}get id(){return this.data.id}get groupId(){return this.data.groupId}process(){return this.promise=ap()(((e,t)=>this.upload(this.data.media,e,t)),{retries:this.retries}),this.promise}async upload(e,t,n){n>1&&D.k.debug("jam:media:upload:gcs: additional attempt",{id:this.id,groupId:this.groupId,attempt:n});const r=await async function(e){const t=e.stream().pipeThrough(new CompressionStream("gzip")).getReader(),n=[];let r=0,i=!0;for(;i;){const{done:e,value:o}=await t.read();o&&(n.push(o),r+=o.byteLength),e&&(i=!1)}const o=new Uint8Array(r);let a=0;return n.forEach((e=>{o.set(e,a),a+=e.byteLength})),o}(e);try{const e=this.data.extraHeaders?.reduce(((e,t)=>(e[t.name]=t.value,e)),{})??{},n=await fetch(this.data.uploadUrl,{signal:this.controller.signal,method:"PUT",body:r,headers:{"Content-Type":this.data.media.type,"Content-Encoding":"gzip",...e}});if(n.status>=400){const e=await n.text();t(new Error(e))}}catch(e){const n=e;if("AbortError"!==n.name)throw D.k.error("jam:media:upload:gcs:: error",{error:`${n}`}),n;t(n)}}cancel(){this.controller.abort()}}const up=class e{constructor(t){this.completed=0,this.failed=0,this.queuedUploads=[],this.activeUploads=new Map,this.failedUploads=new Map,this.eventListeners=new Map,this.processedGroups=new Set,this.concurrencyLimit=t.concurrencyLimit,this.failedUploadRetryWindowMs=t.failedUploadRetryWindowMs??e.FAILED_UPLOAD_RETRY_WINDOW_MS}get totalCompleted(){return this.completed}get totalFailed(){return this.failed}get failureCacheSize(){return this.failedUploads.size}get queuedUploadCount(){return this.queuedUploads.length}get activeUploadCount(){return this.activeUploads.size}get(e){return this.activeUploads.get(e)??this.queuedUploads.find((t=>t.id===e))}has(e){return!!this.get(e)}getUploadsForGroup(e){return[...this.activeUploads.values(),...this.queuedUploads].filter((t=>t.groupId===e))}hasUploadsForGroup(e){return[...this.activeUploads.values(),...this.queuedUploads].some((t=>t.groupId===e))}emit(e,t){this.eventListeners.get(e)?.forEach((e=>e(t)))}on(e,t){const n=this.eventListeners.get(e)??[];this.eventListeners.set(e,[...n,t])}async registerUploads(e,t,n){const r=Object.entries(n).filter((e=>!!e[1])).map((([e,t])=>({...t,key:e})));if(0===r.length)return{};try{const{bulkRegisterMedia:n}=await Qc().bulkRegisterMedia({teamId:e,items:r.map((e=>({key:e.key,type:e.type,contentType:e.blob.type,uncompressedBytes:e.blob.size,fileName:e.fileName})))});if(!n)throw new h.Lw({name:"MediaRegistrationError",message:"No data returned from media registration API"});const i={};for(const e of r){const r=n.items.find((t=>t.key===e.key));r&&(i[e.key]={id:r.media.id,groupId:t,label:e.label,type:e.type,provider:r.media.provider,uploadUrl:r.uploadUrl,extraHeaders:r.extraHeaders??void 0,publicUrl:r.media.url,media:e.blob})}return i}catch(t){throw D.k.error("Failed to complete bulk media upload registration",{teamId:e,registrationsWithKey:r,error:`${t}`}),new h.Lw({name:"MediaRegistrationError",message:"Sorry, we ran into an error preparing submission for this Jam. Please try again shortly.",debugMessage:`Upload API registration error: ${t}`})}}queue(...e){for(const t of e){if(t.provider!==mc.Gcs)throw new ReferenceError(`${t.provider} media provider not implemented!`);this.queuedUploads.push(new sp(t))}this.checkQueue()}retry(e){const t=this.failedUploads.get(e);if(t)return this.queuedUploads.push(t.uploader),this.failedUploads.delete(e),this.checkQueue(),t.uploader}checkQueue(){if(this.activeUploads.size<this.concurrencyLimit&&this.queuedUploads.length>0)for(;this.queuedUploads.length>0&&this.activeUploads.size<this.concurrencyLimit;){const e=this.queuedUploads.shift();e&&this.startUpload(e)}for(const[e,t]of this.failedUploads.entries())t.timestamp<Date.now()-this.failedUploadRetryWindowMs&&this.failedUploads.delete(e)}handleGroupCleanup(e){this.hasUploadsForGroup(e)||(this.eventListeners.delete(`${Wd.ItemEventType.Complete}:${e}`),this.eventListeners.delete(`${Wd.ItemEventType.Error}:${e}`),this.emit(`${Wd.GroupEventType.Completed}:${e}`,void 0),this.eventListeners.delete(`${Wd.GroupEventType.Completed}:${e}`),this.processedGroups.add(e))}async startUpload(e){this.activeUploads.set(e.id,e);const t=Date.now();try{D.k.debug("jam:media:upload: starting",{id:e.id,groupId:e.groupId}),await e.process(),D.k.debug("jam:media:upload: completed",{durationMs:Date.now()-t}),this.completed++,[e.groupId,`${e.groupId}:${e.id}`].forEach((t=>this.emit(`${Wd.ItemEventType.Complete}:${t}`,e)))}catch(n){D.k.error("jam:media:upload: failed",{error:`${n}`,id:e.id,groupId:e.groupId,durationMs:Date.now()-t}),this.failed++,[e.groupId,`${e.groupId}:${e.id}`].forEach((t=>this.emit(`${Wd.ItemEventType.Error}:${t}`,e)))}finally{this.activeUploads.delete(e.id),this.failedUploads.set(e.id,{uploader:e,timestamp:Date.now()}),this.handleGroupCleanup(e.groupId),this.checkQueue()}}};up.FAILED_UPLOAD_RETRY_WINDOW_MS=5*p.X.Minute;let cp=up;const lp=new P(D.k,{ttl:10*p.X.Minute,capacity:1e3}),fp=new class{constructor(e,t){this.capacity=1e3,this.ttl=5*p.X.Minute,this.pipeUnits=new Map,this.groupEventsDurationWindow=G.GROUP_EVENTS_WINDOW_DEFAULT,this.logger=e,t.groupEventsDurationWindow&&(this.groupEventsDurationWindow=t.groupEventsDurationWindow),this.capacity=t.capacity??this.capacity,this.ttl=t.ttl??this.ttl}setupTabState(e){this.pipeUnits.has(e)||this.pipeUnits.set(e,new Y({ttl:this.ttl,capacity:this.capacity,groupEventsDurationWindow:this.groupEventsDurationWindow}))}removeTabState(e){this.pipeUnits.delete(e)}addEvent(e,t){const n=this.pipeUnits.get(e);n?n.addEvent(t):this.logger.debug("event-managers:interactivity-events",{msg:"manager not found",method:"addEvent"})}async getEvents(e){const t=this.pipeUnits.get(e);return t?t.getEvents():(this.logger.debug("event-managers:interactivity-events",{msg:"manager not found",method:"getEvents"}),[])}}(D.k,{ttl:10*p.X.Minute,capacity:2e3}),dp=new class{constructor(e,t){this.capacity=1e3,this.events=new Map,this.processOutgoing={transformers:[this.addTabId]},this.logger=e,this.ttl=t.ttl,this.capacity=t.capacity}setupTabState(e){this.events.has(e)||(this.logger.debug("jam:navigation-events",{method:"setupTabState"}),this.events.set(e,new M(new s(this.capacity,this.ttl/2),this.ttl)))}removeTabState(e){this.events.delete(e)}addEvent(e,t){if(!q.isNavigationEventInput(t))return;const n=this.events.get(e);n?(n.push(t),this.logger.debug("jam:navigation-events",{method:"addEvent",ev:t})):this.logger.debug("jam:navigation-events",{method:"addEvent",message:"pipe not set-up"})}async getEvents(e){const t=this.events.get(e);if(!t)return this.logger.debug("jam:navigation-events",{method:"getEvents",message:"pipe not set-up"}),[];let n=t.getAsUntrimmedArray();return this.processOutgoing.transformers.forEach((t=>{n=t(n,e)})),n}addTabId(e,t){return e.map((e=>{const n={...e};return n.data.payload.tabId=t,n.data.payload.step=R.Output,n}))}}(D.k,{ttl:10*p.X.Minute,capacity:2e3}),pp=new class{constructor(e){this.events=new Array,this.activeRecording=!1,this.currentInvariants=new Set,this.logger=e}setupTabState(e){}removeTabState(e){}addEvent(e,t){if(H(t))switch(t.data.payload.mark){case te.Start:this.resetState(),this.activeRecording=!0,this.registerOutputVideoEvent(t.timestamp,{mark:te.Start,captureMode:U.Video,viewport:t.data.payload.viewport});break;case ne.Pause:if(!this.activeRecording)return void this.invariant("Unexpected control event without a preceding Start control event",t);if(this.lastPauseTimestamp)return void this.invariant("Unexpected repeating pause or resume control event",t);this.lastPauseTimestamp=t.timestamp;break;case ne.Resume:if(!this.activeRecording)return void this.invariant("Unexpected control event without a preceding Start control event",t);if(null==this.lastPauseTimestamp)return void this.invariant("Unexpected Resume control event preceding a Pause control event",t);this.registerOutputVideoEvent(this.lastPauseTimestamp,{mark:ne.Pause,durationMs:t.timestamp-this.lastPauseTimestamp,captureMode:U.Video,viewport:t.data.payload.viewport}),this.lastPauseTimestamp=void 0;break;case te.Stop:{if(!this.activeRecording)return void this.invariant("Unexpected control event without a preceding Start control event",t);const e=null==this.lastPauseTimestamp?t.timestamp:this.lastPauseTimestamp;this.registerOutputVideoEvent(e,{mark:te.Stop,captureMode:U.Video,viewport:t.data.payload.viewport}),this.activeRecording=!1;break}}}resetState(){this.events.length>0&&(this.events=[]),this.lastPauseTimestamp=void 0,this.currentInvariants=new Set}invariant(e,t){this.currentInvariants.add(e),this.logger.warn(`VideoControlEventsPipe: Invariant violation: ${e}`,{timestamp:t.timestamp,mark:t.data.payload.mark})}validateCurrentSegment(){const e={start:this.events.filter(Z.isStartEvent),pause:this.events.filter(Z.isPauseEvent),stop:this.events.filter(Z.isStopEvent)};if(e.start.length>0&&e.stop.length>0){(e.start.length>1||e.stop.length>1)&&this.currentInvariants.add("Unexpected repeating start or stop control event");const[t,n]=[e.start[0],e.stop[0]];n.timestamp<t.timestamp&&this.currentInvariants.add("Unexpected control event without a preceding Start control event");for(const r of e.pause)(n.timestamp<r.timestamp||t.timestamp>r.timestamp)&&this.currentInvariants.add("Unexpected control event without a preceding Start control event")}else this.currentInvariants.add("Unexpected segment without a Start or Stop control event")}async getEvents(e){if(this.validateCurrentSegment(),this.currentInvariants.size>0){for(const e of this.currentInvariants)if("bail"===re[e])return this.logger.error(`VideoControlEventsPipe: Returning an empty array because an invariant was violated: ${e}.`),[];this.logger.error(`Failed to bail: ${JSON.stringify(Array.from(this.currentInvariants))}: ${this.currentInvariants.size} ${re[Array.from(this.currentInvariants)[0]]}`)}return this.events}registerOutputVideoEvent(e,t){return this.events.push({type:u.Custom,jamType:b.CaptureEvent,timestamp:e,data:{tag:"",payload:t}}),!0}}(D.k),hp=new ie(new ae(D.k,{events:jl(Dl),messages:lp}),fp,dp),gp=new ie(new ae(D.k,{events:jl(Ml),messages:lp}),fp,dp,pp),vp=new ie(new ae(D.k,{events:jl(Cl),messages:lp}),fp,dp),mp=function(...e){return new kl(...[Cl,Dl,Ml],...e)}(fp,lp,dp,pp),yp=new class{constructor(e){this.tabStateMap=new Map,this.handleBackgroundRrwebEvent=cl(((e,t)=>{_d(t),this.handleEvent(e,t)}),{functionName:"handleBackgroundRrwebEvent",alertThreshold:500}),this.handleClientsideRrwebEvent=cl(((e,t,n)=>{_(n)?(n.data.payload.frameId=t,this.handleEvent(e,n)):this.commitEvent(e,n)}),{functionName:"handleClientsideRrwebEvent",alertThreshold:500}),this.replayEventsManager=e}commitEvent(e,n){this.replayEventsManager.addEvent(e,n),k(n)&&o(`rrweb-snapshot-performance-measurement-${e}`,(()=>function(e){if(!qu.canAutoDisableRewindForTab(e))return;const t=Cl.snapshotSize(e);if(!t)return;D.k.log("jam:rrweb:analysis",e,"url",qu.getTab(e)?.url);const n=function(e){const t=e.totalSize/cd.d.Megabyte,n=e.totalTime/p.X.Minute;return D.k.log("jam:rrweb:analysis","size",t,"time",n),n<=.5?t>dd:!!(e.lastMinuteSize&&e.totalSize/cd.d.Megabyte>dd)||t/n>fd}(t);n&&(D.k.info(`jam:rrweb:bandaid - disabling snapshots for tab ${e} and hostname ${t.hostname}`,{hostname:t.hostname}),qu.autoDisableRewindForTab(e,t.hostname))}(e)),t.WaitThenRunLast,10*p.X.Second)}getOrCreateTabState(t){El((()=>this.tabStateMap.size),{generalObjectName:"rrwebMatchListMap",alertThreshold:2e3});let n=this.tabStateMap.get(t);return n||(n={backgroundEvents:new e,interval:setInterval((()=>{this.flushOldEvents(t)}),p.X.Minute)},this.tabStateMap.set(t,n)),n}addEventToMatchList(e,t){const{backgroundEvents:n}=this.getOrCreateTabState(e);n.push(t)}handleEvent(e,t){_d(t);const n=this.tryMergingEventAgainstMatchList(e,t);n?(this.commitEvent(e,n.node.value),n.list.remove(n.node)):this.addEventToMatchList(e,t)}flushOldEvents(e){const t=this.tabStateMap.get(e);if(!t)return;const{backgroundEvents:n}=t,r=Date.now()-p.X.Minute;n.iterate((t=>{t.value.timestamp<r&&(this.commitEvent(e,t.value),n.remove(t))}))}tryMergingEventAgainstMatchList(e,t){const n=this.tabStateMap.get(e);if(!n)return null;const{backgroundEvents:r}=n,i=r.concatNodes().reverse();El((()=>i.length),{generalObjectName:"rrwebMatchList",specificObjectName:`rrwebMatchList_${e}`,alertThreshold:2e3});const o=i.find((e=>{const n=e.value.data.payload,r=t.data.payload;if(n.frameId!==r.frameId)return!1;if(n.jamTaggedId&&n.jamTaggedId===r.jamTaggedId)return!0;const i=n.entry.name,o=r.entry.name,a=o===i;let s=!1;if(!a)try{new URL(o),new URL(i)}catch{s=i.includes(o)||o.includes(i)}if(!a&&!s)return!1;if(r.fetchDetails&&n.fetchDetails&&r.fetchDetails.method.toUpperCase()!==n.fetchDetails.method.toUpperCase())return!1;const u=Ed(r);if(u===Ed(n))return!1;if(n.mergedSources?.includes(u))return!1;if(r.source&&r.fetchDetails?.responseHeaders&&n.fetchDetails?.responseHeaders){const e=new Headers(r.fetchDetails?.responseHeaders),t=new Headers(n.fetchDetails?.responseHeaders),i=e.get("date"),o=e.get("content-length");if(i&&o){const e=t.get("date"),n=t.get("content-length");if(e&&n)return i===e&&o===n}}if(r.fetchDetails?.responseBody&&n.fetchDetails?.responseBody||r.fetchDetails?.requestBody&&n.fetchDetails?.requestBody)return!1;const c=Math.abs(r.entry.absoluteStart-n.entry.absoluteStart);if(c>500)return!1;const l=r.entry?.duration,f=n.entry?.duration;if(void 0===l||void 0===f)return c<200;const d=Math.abs(l-f);return r.fetchDetails?.method?.toUpperCase()===n.fetchDetails?.method?.toUpperCase()?d<500:(!r.fetchDetails||!n.fetchDetails)&&d<200}));if(!o)return null;const a=sd(t,o.value,ll.Av);a.data.payload.fetchDetails&&(a.data.payload.fetchDetails.requestHeaders=kd(t.data.payload.fetchDetails?.requestHeaders,o.value.data.payload.fetchDetails?.requestHeaders),a.data.payload.fetchDetails.responseHeaders=kd(t.data.payload.fetchDetails?.responseHeaders,o.value.data.payload.fetchDetails?.responseHeaders));const s=(o.value.data.payload.mergedSources??[Ed(o.value.data.payload)]).concat(Ed(t.data.payload));a.data.payload.mergedSources=s,a.data.payload.mergeHint||(a.data.payload.mergeHint=w.OK);const u=t.data.payload.entry.name.length>o.value.data.payload.entry.name.length?t.data.payload.entry.name:o.value.data.payload.entry.name;return a.data.payload.entry.name=u,o.value=a,{list:r,node:o}}clearBufferedBackgroundEvents(e){const t=this.tabStateMap.get(e);t&&(t.backgroundEvents.clearAndUnlink(),clearInterval(t.interval)),this.tabStateMap.delete(e)}flushBufferedBackgroundEvents(e){const t=this.tabStateMap.get(e);t&&(t.backgroundEvents.iterate((t=>{this.commitEvent(e,t.value)})),this.clearBufferedBackgroundEvents(e))}}(mp),bp=new od(mp),wp=Yu(),_p=new class{constructor(e){this.globallySyncedStore=void 0,this.globallySyncedStorePromise=e.globallySyncedStorePromise,e.globallySyncedStorePromise.then((e=>{this.globallySyncedStore=e})),this.tabs=new Map,this.dataManager=new ep,this.rrwebEventMerger=e.rrwebEventMerger,this.eventsPipeline=e.eventsPipeline,this.mediaUploader=e.mediaUploader;const t=this.videoRecorder=e.videoRecorder;t.on(Qf.ChunkEmitted,this.onRecordingChunkEmitted.bind(this)),t.on(Qf.Pause,this.onRecordingPause.bind(this)),t.on(Qf.Resume,this.onRecordingPause.bind(this)),t.on(Qf.Stop,this.onRecordingStop.bind(this));const n=this.broker=e.broker;n.on("IsActiveTabReady",this.onIsActiveTabReady.bind(this)),n.on("ForceEnableRewind",this.onForceEnableRewind.bind(this)),n.on("Dismiss",this.onDismiss.bind(this)),n.on("DismissTab",this.onDismissTab.bind(this)),n.on("SetCaptureMode",this.onSetCaptureMode.bind(this)),n.on("StartMediaCapture",this.onStartMediaCapture.bind(this)),n.on("FinishMediaCapture",this.onFinishMediaCapture.bind(this)),n.on("SetVideoDraftMode",this.onSetVideoDraftMode.bind(this)),n.on("PauseMediaCapture",this.onPauseMediaCapture.bind(this)),n.on("CaptureScreenshot",this.onCaptureScreenshot.bind(this)),n.on("GenerateRewind",this.onGenerateRewind.bind(this)),n.on("CreateJam",this.onCreateJam.bind(this)),n.on("EditIntegration",this.onEditIntegration.bind(this)),n.on("UpdateJamSettings",this.onUpdateJamSettings.bind(this)),n.on("UpdateAudioPreferences",this.onUpdateAudioPrefs.bind(this)),n.on("UpdateRewindBlockList",this.onUpdateRewindBlocklist.bind(this)),n.on("UpdateRewindForceEnabledHosts",this.onUpdateRewindForceEnabledHosts.bind(this)),n.on("ProxyGraphQLRequest",this.onProxyGraphQLRequest.bind(this)),n.on("ProxyDatadogRequest",this.onProxyDatadogRequest.bind(this)),n.on("RecordTabEvent",this.onRecordTabEvent.bind(this)),n.on("SendCopyToClipboardCommand",this.onSendCopyToClipboardCommand.bind(this)),n.on("FocusTabForUser",this.onFocusTabForUser.bind(this)),n.on("ScriptHello",this.onScriptHello.bind(this)),n.on("ScriptReady",this.onScriptReady.bind(this)),n.on("GetIntegrations",this.onGetIntegrations.bind(this)),n.on("SetLastSelected",this.onSetLastSelected.bind(this)),n.on("SetLastToolColor",this.onSetLastToolColor.bind(this)),n.on("DetectLibs",this.onDetectLibs.bind(this)),n.on("RetryFailedUploads",this.onRetryFailedUploads.bind(this)),chrome.permissions.onAdded.addListener((async e=>{if(!(e.permissions??[]).includes("desktopCapture"))return;const t=(await Qu().storage.local.get(tp)).triggerPostDesktopCapturePermission;if(Qu().storage.local.remove(tp),"boolean"==typeof t&&t){const e=await nc();await Yu().send({eventName:"SetCaptureMode",dest:{component:Ku.Component.Main,location:void 0},payload:{tabId:e.id,mode:U.Video,viewport:qa.Desktop}})}}))}destruct(){const{broker:e}=this;e.off("Ping"),e.off("IsActiveTabReady"),e.off("ForceEnableRewind"),e.off("Dismiss"),e.off("DismissTab"),e.off("SetCaptureMode"),e.off("StartMediaCapture"),e.off("FinishMediaCapture"),e.off("PauseMediaCapture"),e.off("CaptureScreenshot"),e.off("GenerateRewind"),e.off("CreateJam"),e.off("EditIntegration"),e.off("ProxyGraphQLRequest"),e.off("UpdateJamSettings"),e.off("UpdateAudioPreferences"),e.off("UpdateRewindBlockList"),e.off("UpdateRewindForceEnabledHosts"),e.off("ProxyDatadogRequest"),e.off("RecordTabEvent"),e.off("SendCopyToClipboardCommand"),e.off("FocusTabForUser"),e.off("ScriptHello"),e.off("ScriptReady"),e.off("GetIntegrations"),e.off("SetLastSelected"),e.off("DetectLibs")}onBeforeContentScriptInjected(e,t,n){const r=e.toString();this.eventsPipeline.writer.setupTabState(e),this.globallySyncedStore.prepareTabForInjection(e,t),this.tabs.has(r)||(this.tabs.set(r,new Zd(this.broker,e,this.videoRecorder,this.mediaUploader,this.globallySyncedStore,this.eventsPipeline)),D.k.debug(`jam:state:manager: Setup tab state for tabId(${e}) via ${n}`))}async onTabRemove(e){(await this.globallySyncedStorePromise).removeTab(e),this.videoRecorder.onTabRemove(e);const t=this.globallySyncedStore;t.recording.recordingOnTab(e,"eq")?(this.videoRecorder.cancel(e),t.recording.transitionToInactive()):t.recording.displayingDraftOnTab(e)&&(this.videoRecorder.reset(),t.recording.transitionToInactive()),this.tabs.delete(e.toString()),this.dataManager.cleanup(e),D.k.debug(`jam:state:manager: Cleaned up tab state for tabId(${e})`)}onTabActivated(e){this.videoRecorder.onTabFocus(e)}onWindowFocus(e){this.videoRecorder.onTabFocus(e)}async syncActiveTab(e){(await this.globallySyncedStorePromise).setActiveTabId(e)}async onTabUpdate(e){this.videoRecorder.onTabUpdate(e)}getTab(e){if(e)return this.tabs.get(e.toString())}isRecording(){return this.videoRecorder.isRecording()}onRecordingChunkEmitted(e){const t=this.videoRecorder.recordingTimeLimitMs,n=this.globallySyncedStore,r=n.recording.state;"recording"==r.type?t!==r.recordingLimitMs&&"recording"==n.recording.state.type&&n.recording.state.updateRecordingLimitMs(this.videoRecorder.recordingTimeLimitMs):D.k.error("Recording chunk is being emitted while recording is not active",{recording:bi(r)})}async onRecordingPause(e){const t=this.globallySyncedStore.recording.state;"recording"==t.type&&t.setPaused(e.segments.isPaused?{shouldPause:!0,nonActiveTotalDurationMs:e.segments.nonActiveTotalDurationMs}:{shouldPause:!1,lastSegmentStart:e.segments.lastSegment.begin})}async onRecordingStop(e){const t=this.globallySyncedStore,n=t.recording.state;D.k.debug("jam:state:manager: Recording stopped",{recordingDetails:e,recordingState:bi(n)});const r=(await nc()).id;if(!r)return void D.k.error("activeChromeTab::id is undefined",{recordingDetails:e});const i=t.getTab(r);if(!i)return void D.k.error("activeTab is undefined",{recordingDetails:e});const o=this.videoRecorder.captureDetails;o?await this.captureRecordingDraft(t.recording,i,o,e):D.k.error("VideoRecorder::captureDetails is not set")}async captureRecordingDraft(e,t,n,r){if("recording"!=e.state.type)return void D.k.error("jam:state:manager: While the Video Recorder was recording, Jam itself was not in a state of recording.",{recording:e,activeTab:t});e.transitionToProcessing(e.state.recordingMode);const i=new rd("jam:tabsManager:captureRecordingDraft"),o=Number(t.tabId),a=await this.eventsPipeline.readers.draft.video.getEvents(o,{type:"SubmitOptions",includeConsole:!0,includeNetwork:!0});i.record("get events for video draft"),this.broker.send({eventName:"UpdateDraftRrwebEvents",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:o},payload:{events:a}}),i.record("send events for to UI content script");const s=await this.displayVideoDraft(o);i.record("display video draft modal");const{totalDurationMs:u,startTimestamp:c,endTimestamp:l}=n;e.transitionToSuccessfulRecording(n.posterDataUrl,ts.create({...n,duration:u,startTimestamp:c,endTimestamp:l}),s),i.record("transition to successful recording");const f=await async function(e){return new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("load",(()=>{t(r.result)})),r.addEventListener("error",(e=>{n(new h.Lw({message:"Filereader failed to generate URL"},e))})),r.readAsDataURL(e)}))}(n.blob);i.record("convert blob to dataURL"),this.getTab(s)?.broker.send({eventName:"ReceiveVideoData",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:s},payload:f}),i.record("send video dataUrl to tab"),o!==r.tabId&&this.getTab(r.tabId)?.globalTabState?.setCaptureState(F.Idle),D.k.info(i.toString())}async displayVideoDraft(e){const t=this.getTab(e);if(t?.tabState!=Td.Draft&&t?.tabState!=Td.Processing)return await(this.getTab(e)?.handle("SetVideoDraftMode",null)),e;const n=await new Promise(((e,t)=>{try{Qu().tabs.create({url:se.v.DASH_WELCOME_URL,active:!0}).then((t=>{Qu().tabs.onUpdated.addListener(((n,r)=>{n===t.id&&"complete"==r.status&&e(t.id)}))}))}catch(e){t(e)}}));return this.getTab(n)?.handle("SetVideoDraftMode",null),n}async onScriptHello(e,t){return{tabId:rp("tabId"in t.src?t.src.tabId:void 0)}}async onScriptReady(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=ip(n,this.getTab(n)),i=this.globallySyncedStore.getTab(n),{location:o}=t.src;if(!i)throw new ReferenceError(`Got a script ready response without a tab state for tab(${n})!`);switch(o){case Ku.ContentScripts.JamUi:i.injectionLifecycle.setMark("ui",e.since),i.setIncognito(!!e.incognito),r.resetToIdleIfNotActive();break;case Ku.ContentScripts.RRWebSnapshot:i.injectionLifecycle.setMark("dom",e.since);break;case Ku.HostScripts.RRWebConsole:i.injectionLifecycle.setMark("console",e.since);break;case Ku.HostScripts.RRWebNetwork:i.injectionLifecycle.setMark("network",e.since)}return!0}async onIsActiveTabReady(e,t){const n=await nc({windowId:e.windowId});if(!n?.id)return{userLoggedIn:!0,hasAccessToJamSite:!0,tabLoaded:!1};const r=!!this.getTab(n.id)?.isReady,i=await mf(this.globallySyncedStore);return{userLoggedIn:!!i&&await Kl({store:this.globallySyncedStore,forceAuthCheck:!1,tabsManager:this,activeTab:n}),hasAccessToJamSite:i,tabLoaded:r}}async onSetCaptureMode(e,t){const n=rp(e.tabId),r=ip(n,this.getTab(n)),i=await r.handle("SetCaptureMode",e);return np.setItem("lastUsedCaptureMode",e.mode),!!i}async onStartMediaCapture(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=ip(n,this.getTab(n)),i=await r.handle("StartMediaCapture",e);if(!i)throw new h.Lw({message:"Error starting the recording of the tab",debugMessage:"Recording manager did not find state for the tab"});return i}async onFinishMediaCapture(e,t){const n=rp("tabId"in t.src?t.src.tabId:(await nc())?.id),r=ip(n,this.getTab(n));await r.handle("FinishMediaCapture",e)}async onSetVideoDraftMode(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=ip(n,this.getTab(n));return await r.handle("SetVideoDraftMode",e),null}async onPauseMediaCapture(e){const t=e.shouldPause;this.videoRecorder.pause(t)}async onCaptureScreenshot(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=ip(n,this.getTab(n)),i=await r.handle("CaptureScreenshot",e);if(!i)throw new h.Lw({message:"Could not capture screenshot",debugMessage:"Did not get correct return value from state machine"});return i}async onGenerateRewind(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=ip(n,this.getTab(n)),i=await r.handle("GenerateRewind",e);if(!i)throw new h.Lw({message:"Could not generate rewind",debugMessage:"Did not get correct return value from state machine"});return i}openDrafts(){let e=0;return this.tabs.forEach((t=>{t.tabState===Td.Draft&&e++})),e}async onCreateJam(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=ip(n,this.getTab(n));D.k.info("creating jam",{open_drafts:this.openDrafts()});const i=await r.handle("CreateJam",e);if(!i)throw new h.Lw({message:"Could not initiate creation of jam",debugMessage:"Did not get correct return value from state machine"});return i}async onForceEnableRewind(e,t){return this.globallySyncedStore.preferences.rewindPerformance.forceEnableHost(e.hostname),!0}async dismissTab(e){const t=ip(e,this.getTab(e)),n=await t.handle("Dismiss",!0);if(!n)throw new h.Lw({message:"An internal error occurred. Please reload the extension.",debugMessage:"Did not get correct return value from state machine"});return n}async onDismiss(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0);return this.dismissTab(n)}async onDismissTab(e){const t=e.tabId;return this.dismissTab(t)}async onEditIntegration(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=ip(n,this.getTab(n)),i=await r.handle("EditIntegration",e);if(!i)throw new h.Lw({message:"Could not edit integration",debugMessage:"Did not get correct return value from state machine"});return i}async onUpdateAudioPrefs(e,t){const{type:n,value:r}=e,{audio:i}=this.globallySyncedStore.preferences.recording;switch(n){case"mute":i.toggle(r),this.videoRecorder.setMicrophoneMute(r,i.deviceLabelToUse);break;case"permission":i.setPermissionState(r);break;case"deviceInfo":i.setDevice(r)}return!0}async onUpdateRewindBlocklist(e,t){const{type:n,value:r}=e,{rewindBlocklist:i}=this.globallySyncedStore.preferences;switch(n){case"remove":i.remove(r);break;case"add":if(this.globallySyncedStore.preferences.rewindPerformance.removeForceEnabledHost(r),!i.add(r)&&i.addError)return i.addError;break;case"blockAll":i.setBlockedOnAllUrls(r)}return null}async onUpdateRewindForceEnabledHosts(e,t){const{type:n,value:r}=e,{rewindPerformance:i}=this.globallySyncedStore.preferences;switch(D.k.info(`jam:rrweb:bandaid - modify rewind force-enable list: ${n} ${r}`,{hostname:r,action:n}),n){case"remove":i.removeForceEnabledHost(r);break;case"add":{this.globallySyncedStore.preferences.rewindBlocklist.remove(r);const e=i.forceEnableHost(r);if(e)return e;break}}return null}async onUpdateJamSettings(e,t){const{type:n,value:r}=e,{preferences:i}=this.globallySyncedStore;switch(n){case"openNewTabOnJamCreation":i.toggleOpenNewTabOnJamCreation(r);break;case"sendDiagnostics":i.toggleSendDiagnostics(r),r?(0,D.V)(["console","http"]):(0,D.V)(["console"]);break;case"captureInteractivityEvents":i.toggleCaptureInteractivityEvents()}return!0}async onProxyGraphQLRequest(e,t){try{const t=Xc();return await t.request(e.query,e.variables)}catch(t){let n;if(t instanceof rc.ClientError){const e=t.response.errors??[];n=e[0].extensions?.wrappedError??e[0].extensions?.applicationError??e[0]}else n=t instanceof Error?t:new Error(String(t));return D.k.error(`jam:state:manager: GraphQL API error: ${n.message}`,{serverError:n,query:e.query}),{errors:[n]}}}async onProxyDatadogRequest(e,t){const{request:n,args:r}=e,i=new xd.a(n.endpointUrl,n.bytesLimit,n.withBatchTime);return i.send.call(i,...function(e,t){const n=e[0];if("string"!=typeof n)return e;const r=n.split("\n").map((e=>{let n;try{n=JSON.parse(e),delete n.view}catch(t){console.error(`could not parse log state: ${t}: ${e}`)}const r=tl.fy.getLoggerGlobalContext(),i={...n,...r,...t};return JSON.stringify(i)})).join("\n");return[r,r.length]}(r,{source:t.src})),!0}async onRecordTabEvent(e,t){if(!("tabId"in t.src))throw new Error("RecordTabEvent must be sent from a tab ID");if(!("frameId"in t.src))throw new Error("RecordTabEvent must be sent from a frame ID");const n=t.src.tabId,r=t.src.frameId;if(!n||void 0===r)throw new ReferenceError(`Can't record a tab event that wasn't sent from a tab (tabId: ${t.src.tabId}, frameId: ${t.src.frameId})`);if("event"in e)this.rrwebEventMerger.handleClientsideRrwebEvent(n,r,e.event);else if("events"in e)D.k.debug(`jam:replayevents:ingestion ${e.events.length} batched events from`,t.src),e.events.forEach((e=>this.rrwebEventMerger.handleClientsideRrwebEvent(n,r,JSON.parse(e.data))));else if("eventDataUrl"in e)try{const i=await fetch(e.eventDataUrl,{method:"GET"}),o=await i.json();D.k.debug(`jam:replayevents:ingestion:objecturl ${o.length} batched events from`,t.src),o.forEach((e=>this.rrwebEventMerger.handleClientsideRrwebEvent(n,r,JSON.parse(e.data))))}catch(e){return D.k.warn(`Failed to parse tab event object URL: ${e.message}`),!1}return!0}async onSendCopyToClipboardCommand(e,t){const n=await nc(),r=this.getTab(n?.id);return!!r?.isReady&&this.broker.send({eventName:"CopyToClipboard",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:r.tabId},payload:e})}async onFocusTabForUser(e,t){const n=await Qu().tabs.get(e.tabId);return await Qu().tabs.update(n.id,{active:!0,highlighted:!0}),n.windowId&&await Qu().windows.update(n.windowId,{focused:!0}),!0}async updateLastSelected(e){(await this.globallySyncedStorePromise).setLastSelected(e)}async onGetIntegrations(e,t){const n=await this.globallySyncedStorePromise,r=rp("tabId"in t.src?t.src.tabId:void 0),i=e.teamId,o=n.lastSelected?.integrationName;return await this.updateLastSelected({teamId:i,integrationName:o}),this.dataManager.getIntegrations({teamId:i,tabId:r})}async onSetLastSelected(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=e.teamId;return await this.updateLastSelected(e),this.dataManager.getIntegrations({teamId:r,tabId:n}),!0}async onSetLastToolColor(e,t){return(await this.globallySyncedStorePromise).annotations.setLastToolColor(e),!0}async onDetectLibs(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0);return(await this.globallySyncedStorePromise).getTab(n)?.setDetectedLibs(e),!0}async onRetryFailedUploads(e,t){const n=rp("tabId"in t.src?t.src.tabId:void 0),r=new Set,i=new Set,o=e.uploads.map((e=>{const t=this.mediaUploader.retry(e.uploadId);if(t)return{...e,promise:Gd(this.mediaUploader,t)}})).filter(ll.Av),a=()=>({toastId:e.toastId,title:"Retrying upload(s)",...Bd({inRetryLoop:!0,thumbnail:e.thumbnail,failed:i,finished:r,uploads:o,ttl:-1})});return o.forEach((e=>{e.promise.then((()=>r.add(e.uploadId))).catch((()=>i.add(e.uploadId))).finally((()=>this.broker.send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:n},payload:a()})))})),o.length>0&&(this.broker.send({eventName:"UpdateToast",dest:{component:Ku.Component.ContentScript,location:Ku.ContentScripts.JamUi,tabId:n},payload:a()}),!0)}}({globallySyncedStorePromise:Wu,broker:wp,videoRecorder:bp,mediaUploader:new cp({concurrencyLimit:5}),rrwebEventMerger:yp,eventsPipeline:function(e){const{globallySyncedStorePromise:t,broker:n,videoRecorder:r}=e,i=new Tf({globallySyncedStorePromise:t,rrwebEventMerger:e.rrwebEventMerger,writer:e.replayEventsWriter,broker:n,source:e.screenshotReader,transforms:[qf,Af]}),o=new Tf({globallySyncedStorePromise:t,rrwebEventMerger:e.rrwebEventMerger,writer:e.replayEventsWriter,broker:n,source:e.videoReader,videoRecorder:r,transforms:[Wf,Pf,Cf,Jf]}),a=new Tf({globallySyncedStorePromise:t,rrwebEventMerger:e.rrwebEventMerger,writer:e.replayEventsWriter,broker:n,source:e.replayReader,transforms:[$f]}),s=new Gf({source:i,transforms:[Df,wf]}),u=new Gf({source:o,transforms:[Df,Hf,Xf]}),c=new Gf({source:a,transforms:[Bf,Df,yf]});return{writer:e.replayEventsWriter,readers:{draft:{screenshot:i,video:o,replay:a},upload:{screenshot:s,video:u,replay:c}}}}({videoRecorder:bp,broker:wp,globallySyncedStorePromise:Wu,rrwebEventMerger:yp,replayEventsWriter:mp,screenshotReader:hp,videoReader:gp,replayReader:vp})}),Sp=new class{constructor(e){this.tabsManager=e.tabsManager,this.broker=Yu(),this.bus=(0,Ku.getEventBusSingleton)({address:{component:Ku.Component.Main,location:void 0},canForward:!0,onError:e=>D.k.debug(e.toString())}),this.rrweb={merger:e.rrweb.merger},this.plugins=e.plugins??[],this.plugins.forEach((e=>e.onInit())),Qu().runtime.onConnect.addListener((e=>{D.k.debug(`jam:setup: Received connect event from content-script(${e.name}) on tab(${e.sender?.tab?.id})`)}))}start(){try{this.startAsync(),async function(){const e=await Qu().tabs.query({}),t=new Map;e.forEach((e=>{e.id&&t.set(Jl(e.id),!0)})),Object.values(ue).forEach((e=>{t.set(e,!0)}));const n=await Qu().storage.local.get(),r=[];Object.keys(n).forEach((e=>{t.get(e)||r.push(e)})),Qu().storage.local.remove(r),D.k.log("removed keys",r)}(),e={tabsManager:this.tabsManager},Qu().runtime.onInstalled.addListener(Gu(function(e){return async function(t){"install"===t.reason&&async function(){Qu().tabs.create({url:se.v.DASH_WELCOME_URL,active:!0})}();const n=await Qu().tabs.query({active:!0,lastFocusedWindow:!1,windowType:"normal"});await Promise.all(n.map((async t=>{const n=t.id;if(n&&t.url)return zl({context:"onInstalled",tabsManager:e.tabsManager,tabId:n,frameId:"all",url:t.url})})))}}(e))),Qu().runtime.onStartup.addListener((()=>Wl())),Qu().runtime.onMessageExternal.addListener(Gl),Qu().commands.onCommand.addListener(((t,n)=>async function(e,t,n){const r=(n=n??await nc())?.id;if(!r)return void D.k.debug("No tab ID could be resolved to handle command",{command:t});if(!qu.auth.isLoggedIn)return void await $l(`${se.v.DASH_URL}/login?ref=extension`,!0);const i=Yu();switch(t){case"toggle-screenshot":await i.send({eventName:"SetCaptureMode",dest:{component:Ku.Component.Main,location:void 0},payload:{tabId:r,mode:F.Screenshot,delay:0}});break;case"toggle-video":e.tabsManager.isRecording()?await i.send({eventName:"FinishMediaCapture",dest:{component:Ku.Component.Main,location:void 0},payload:void 0}):await i.send({eventName:"SetCaptureMode",dest:{component:Ku.Component.Main,location:void 0},payload:{tabId:r,mode:F.Video,viewport:qa.Tab}});break;case"toggle-session-replay":await i.send({eventName:"SetCaptureMode",dest:{component:Ku.Component.Main,location:void 0},payload:{tabId:r,mode:F.Rewind}});break;default:D.k.error(`jam:state:input unknown command: ${t}`)}}(e,t,n))),rl({}),async function(e){const[t,n]=await Promise.all([Qu().tabs.query({windowType:"normal"}),Qu().tabs.query({active:!0,lastFocusedWindow:!0,windowType:"normal"})]);t.forEach((t=>{Gu(Ql(e))(t)})),Gu(tf)(n),Qu().tabs.onRemoved.addListener(cl(Yl(e),{functionName:"onRemoved",alertThreshold:500})),Qu().tabs.onReplaced.addListener(function(e){const t=Yl(e);return async function(n,r){t(r),Xl(n,e.plugins)}}(e)),Qu().tabs.onActivated.addListener(ec()(ef)(e.tabsManager)),Qu().tabs.onCreated.addListener(Ql(e)),Qu().tabs.onActivated.addListener((t=>e.tabsManager.onTabActivated(t.tabId))),Qu().windows.onFocusChanged.addListener((async()=>{const t=await nc();t?.id&&e.tabsManager.onWindowFocus(t.id)})),Qu().tabs.onUpdated.addListener((t=>e.tabsManager.onTabUpdate(t)));const r=(0,Ku.getEventBusSingleton)({address:{component:Ku.Component.Main,location:void 0},canForward:!0,onError:e=>D.k.debug(e.toString())});Qu().tabs.onActivated.addListener((e=>{r.emit({eventName:"SyncGlobalStateFromDiskSnapshot",payload:{receiver:{tabId:e.tabId}}})})),Qu().windows.onFocusChanged.addListener(ec()(Zl)(e.tabsManager))}({tabsManager:this.tabsManager,plugins:this.plugins}),function(e){Qu().webNavigation.onCommitted.addListener(cl(ec()(_l)(e.tabsManager),{functionName:"onCommitted",alertThreshold:1e4})),Qu().webNavigation.onCommitted.addListener((t=>{wl(t,"onCommitted",(n=>{e.tabsManager.eventsPipeline.writer.addEvent(t.tabId,n)}))})),Qu().webNavigation.onCompleted.addListener(cl(ec()(Sl)(e.tabsManager),{functionName:"onCompleted",alertThreshold:1e4})),Qu().webNavigation.onHistoryStateUpdated.addListener((e=>{Nl(e)})),Qu().webNavigation.onHistoryStateUpdated.addListener((t=>wl(t,"onHistoryStateUpdated",(n=>{e.tabsManager.eventsPipeline.writer.addEvent(t.tabId,n)})))),Qu().webNavigation.onReferenceFragmentUpdated.addListener((e=>{Nl(e)})),Qu().webNavigation.onBeforeNavigate.addListener(cl((t=>{0===t.frameId&&(e.tabsManager.rrwebEventMerger.flushBufferedBackgroundEvents(t.tabId),function(e){const t=Rl(F.Screenshot);t&&(t.removeTabState(e),t.setupTabState(e))}(t.tabId),function(e,t){if(!t.isRecording()){const t=Rl(F.Video);t?.removeTabState(e),t?.setupTabState(e)}}(t.tabId,e.tabsManager),Nl(t))}),{functionName:"flushEventsOnBeforeNavigate",alertThreshold:500}))}({tabsManager:this.tabsManager}),function(e){Qu().webRequest.onBeforeRequest.addListener(cl(rf,{functionName:"onBeforeRequest",alertThreshold:500}),{urls:["<all_urls>"],types:["sub_frame"]},gf(["requestBody"])),Qu().webRequest.onBeforeSendHeaders.addListener(cl(of,{functionName:"onBeforeSendHeaders",alertThreshold:500}),{urls:["<all_urls>"]},gf(["requestHeaders","extraHeaders"])),Qu().webRequest.onCompleted.addListener(cl(ec()(lf)(e.rrwebEventMerger,e.tabsManager),{functionName:"onCompletedOrErrored",alertThreshold:500}),{urls:["<all_urls>"]},gf(["responseHeaders","extraHeaders"])),se.v.IN_FIREFOX_BUILD?Qu().webRequest.onErrorOccurred.addListener(cl(ec()(lf)(e.rrwebEventMerger,e.tabsManager),{functionName:"onCompletedOrErrored",alertThreshold:500}),{urls:["<all_urls>"]}):Qu().webRequest.onErrorOccurred.addListener(cl(ec()(lf)(e.rrwebEventMerger,e.tabsManager),{functionName:"onCompletedOrErrored",alertThreshold:500}),{urls:["<all_urls>"]},["extraHeaders"])}({rrwebEventMerger:this.rrweb.merger,eventsPipeline:this.tabsManager.eventsPipeline,tabsManager:this.tabsManager}),Qu().webRequest.onHeadersReceived.addListener(cl(hf,{functionName:"onHeadersReceive",alertThreshold:500}),{urls:["<all_urls>"]},gf(["blocking","responseHeaders","extraHeaders"])),function(e){Qu().cookies.onChanged.addListener(ec()(Hl)(e))}(this.tabsManager),Gu((()=>{!async function(){if(se.v.IN_FIREFOX_BUILD)return;const e=await navigator.permissions.query({name:"microphone"});e.addEventListener("change",(()=>{vf(e)})),vf(e)}()}))(),se.v.DATADOG_CLIENT_TOKEN&&tl.fy.onReady((()=>{tl.fy.init({clientToken:se.v.DATADOG_CLIENT_TOKEN,site:"datadoghq.com",forwardErrorsToLogs:!0,sampleRate:100,env:se.v.ENV,service:se.v.DATADOG_SERVICE,version:se.v.DATADOG_VERSION})})),[tl.fy.addLoggerGlobalContext].forEach((e=>{e("vendor",se.v.BROWSER_BUILD),e("extensionVersion",se.v.EXT_VERSION),e("ram",navigator.deviceMemory),e("hardwareConcurrency",navigator.hardwareConcurrency)}))}catch(e){D.k.log(`jam:setup: ${e}`,e)}var e}async startAsync(){await async function(){const e=La("local");window.addEventListener("beforeunload",(()=>{e.setItem(ue.BG_PAGE_UNLOADED_TS,Date.now())})),window.addEventListener("unload",(()=>{e.setItem(ue.BG_PAGE_UNLOADED_TS,Date.now())}));const t=await e.getItem(ue.BG_PAGE_UNLOADED_TS),n=await e.getItem(ue.BG_PAGE_RELOADED_TS);!n&&t&&new Date(t).getTime()>Date.now()-p.X.Second?(await e.setItem(ue.BG_PAGE_RELOADED_TS,Date.now()),Qu().runtime.reload()):n&&(await e.removeItem(ue.BG_PAGE_RELOADED_TS),D.k.info(`Forced extension reload at: ${new Date(n).toISOString()}`))}();const e=new URL(se.v.DASH_URL).hostname,t=await async function(){return Wu}();var n,r;await mf(t)?await Kl({store:t,forceAuthCheck:!0,tabsManager:this.tabsManager}):(D.k.warn(`jam:setup:permissions User has strict permissions set, which does not include ${e}`),Qu().permissions.onAdded.addListener((n=>{n.origins?.some((t=>t.includes(e)))&&(D.k.info(`jam:setup:permissions User granted ${e} permissions. Updating user`),mf(t),Kl({store:t,forceAuthCheck:!0,tabsManager:this.tabsManager}))}))),n=t,r=this.tabsManager.dataManager,Kn((()=>n.user?.id),(e=>{if(r.resetWebsocketConnection(),!e)return void r.clearSubscriptions();const t={userId:e,onUpdate:e=>n.setUser(ic(e)),onError:async()=>{navigator.onLine?r.resubscribe(t):(D.k.info("Websocket connection interrupted. Attempting to reconnect after reconnecting to the internet"),window.addEventListener("online",(()=>r.resubscribe(t)),{once:!0}))}};r.setupUserSubscription(t)}),{fireImmediately:!0}),t.preferences.sendDiagnostics?(0,D.V)(["console","http"]):(0,D.V)(["console"])}}({tabsManager:_p,rrweb:{merger:yp}});Sp.start(),(se.v.IS_DEV||se.v.IS_STAGING)&&(window.jamBackground=Sp,D.k.debug("Background is running! 🚀"))})()})();