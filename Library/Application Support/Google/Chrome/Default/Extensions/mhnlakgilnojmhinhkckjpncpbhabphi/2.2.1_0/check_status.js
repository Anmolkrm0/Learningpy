import"./chunks/DLL62XWK.js";import"./chunks/N4UDF6UL.js";import"./chunks/Q225FROC.js";import"./chunks/NOAAR5HV.js";import"./chunks/MEUJ2IOP.js";import"./chunks/3SJA4ECE.js";import"./chunks/GM542M4T.js";import"./chunks/6C7YYXIB.js";import"./chunks/W6NX3QU6.js";import"./chunks/L33QHTPD.js";import"./chunks/EYWU5WEI.js";import"./chunks/NR3V5KOB.js";import"./chunks/JD5AR4GV.js";import"./chunks/J2TC32MO.js";import"./chunks/FRVVUPC6.js";import"./chunks/LCJ6CXNZ.js";import"./chunks/ASGB7G5Y.js";import"./chunks/I4GVYMN6.js";import"./chunks/N4UUWNH5.js";import"./chunks/6WBNMCV2.js";import"./chunks/H3PWEBSP.js";import"./chunks/QZNWBGPK.js";import"./chunks/QZVUH6Z4.js";import"./chunks/6NCLE6FY.js";import"./chunks/OL2SPMMG.js";import"./chunks/6LS5XNTR.js";import"./chunks/R2C2S5UK.js";import"./chunks/PQ3LRSVC.js";import"./chunks/KALZA75J.js";import{a as r}from"./chunks/RTDSIOP5.js";import"./chunks/7WZ5TKU2.js";import"./chunks/SCPIJ7ZW.js";import"./chunks/QPPETRF6.js";import"./chunks/YUSYB6UW.js";import{P as i}from"./chunks/H676AVPS.js";import"./chunks/624UJDNS.js";import"./chunks/64D36THL.js";import"./chunks/3JX3VARJ.js";import"./chunks/PQ35KENF.js";var c=new r("ContentScript/CheckIsLogin"),s=new i({runtime:"client"}),u=t=>{let a=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),e=decodeURIComponent(window.atob(a).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)},p=async()=>{let o=`UseChatGPTAuthServiceProvider.${window.localStorage.getItem("UseChatGPTAuthServiceProvider.email")}`,a=window.localStorage.getItem(o+".accessToken"),e=window.localStorage.getItem(o+".refreshToken");if(e){let n=u(e);n.exp*1e3>Date.now()&&(c.info("not expired"),await s.postMessage({event:"Client_updateUseChatGPTAuthInfo",data:{accessToken:a,refreshToken:e,userInfo:n}}))}else c.info("expired"),await s.postMessage({event:"Client_updateUseChatGPTAuthInfo",data:{}}),await s.postMessage({event:"Client_destroyWithLogout",data:{}})};p();var l=location.pathname,d=new MutationObserver(function(t){t.forEach(function(o){l!==location.pathname&&(l=location.pathname,p())})});d.observe(document.querySelector("body"),{attributes:!0,childList:!0,subtree:!0});
